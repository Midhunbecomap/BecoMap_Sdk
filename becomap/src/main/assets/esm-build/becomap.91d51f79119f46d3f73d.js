/*! For license information please see becomap.91d51f79119f46d3f73d.js.LICENSE.txt */
(this.webpackChunkbecomap=this.webpackChunkbecomap||[]).push([[936],{67:(e,n,t)=>{"use strict";function r(){var e=Object.create(null);function n(r,a){var o=r.id,i=r.name,c=r.dependencies;void 0===c&&(c=[]);var u=r.init;void 0===u&&(u=function(){});var s=r.getTransferables;if(void 0===s&&(s=null),!e[o])try{c=c.map((function(t){return t&&t.isWorkerModule&&(n(t,(function(e){if(e instanceof Error)throw e})),t=e[t.id].value),t})),u=t("<"+i+">.init",u),s&&(s=t("<"+i+">.getTransferables",s));var l=null;"function"==typeof u?l=u.apply(void 0,c):console.error("worker module init function failed to rehydrate"),e[o]={id:o,value:l,getTransferables:s},a(l)}catch(e){e&&e.noLog||console.error(e),a(e)}}function t(e,n){var t=void 0;self.troikaDefine=function(e){return t=e};var r=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+n+"\n)"],{type:"application/javascript"}));try{importScripts(r)}catch(e){console.error(e)}return URL.revokeObjectURL(r),delete self.troikaDefine,t}self.addEventListener("message",(function(t){var r=t.data,a=r.messageId,o=r.action,i=r.data;try{"registerModule"===o&&n(i,(function(e){e instanceof Error?postMessage({messageId:a,success:!1,error:e.message}):postMessage({messageId:a,success:!0,result:{isCallable:"function"==typeof e}})})),"callModule"===o&&function(n,t){var r,a=n.id,o=n.args;e[a]&&"function"==typeof e[a].value||t(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var i=(r=e[a]).value.apply(r,o);i&&"function"==typeof i.then?i.then(c,(function(e){return t(e instanceof Error?e:new Error(""+e))})):c(i)}catch(e){t(e)}function c(n){try{var r=e[a].getTransferables&&e[a].getTransferables(n);r&&Array.isArray(r)&&r.length||(r=void 0),t(n,r)}catch(e){console.error(e),t(e)}}}(i,(function(e,n){e instanceof Error?postMessage({messageId:a,success:!1,error:e.message}):postMessage({messageId:a,success:!0,result:e},n||void 0)}))}catch(e){postMessage({messageId:a,success:!1,error:e.stack})}}))}t.d(n,{Qw:()=>v,kl:()=>f});var a=function(){var e=!1;if("undefined"!=typeof window&&void 0!==window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(e){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+e.message+"]")}return a=function(){return e},e},o=0,i=0,c=!1,u=Object.create(null),s=Object.create(null),l=Object.create(null);function f(e){if(!(e&&"function"==typeof e.init||c))throw new Error("requires `options.init` function");var n=e.dependencies,t=e.init,r=e.getTransferables,i=e.workerId,u=function(e){var n=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return n._getInitResult().then((function(n){if("function"==typeof n)return n.apply(void 0,e);throw new Error("Worker module function was called but `init` did not return a callable function")}))};return n._getInitResult=function(){var t=e.dependencies,r=e.init;t=Array.isArray(t)?t.map((function(e){return e&&(e=e.onMainThread||e)._getInitResult&&(e=e._getInitResult()),e})):[];var a=Promise.all(t).then((function(e){return r.apply(null,e)}));return n._getInitResult=function(){return a},a},n}(e);null==i&&(i="#default");var l="workerModule"+ ++o,v=e.name||l,p=null;function m(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(!a())return u.apply(void 0,e);if(!p){p=g(i,"registerModule",m.workerModuleData);var t=function(){p=null,s[i].delete(t)};(s[i]||(s[i]=new Set)).add(t)}return p.then((function(n){if(n.isCallable)return g(i,"callModule",{id:l,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")}))}return n=n&&n.map((function(e){return"function"!=typeof e||e.workerModuleData||(c=!0,e=f({workerId:i,name:"<"+v+"> function dependency: "+e.name,init:"function(){return (\n"+d(e)+"\n)}"}),c=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e})),m.workerModuleData={isWorkerModule:!0,id:l,name:v,dependencies:n,init:d(t),getTransferables:r&&d(r)},m.onMainThread=u,m}function v(e){s[e]&&s[e].forEach((function(e){e()})),u[e]&&(u[e].terminate(),delete u[e])}function d(e){var n=e.toString();return!/^function/.test(n)&&/^\w+\s*\(/.test(n)&&(n="function "+n),n}function g(e,n,t){return new Promise((function(a,o){var c=++i;l[c]=function(e){e.success?a(e.result):o(new Error("Error in worker "+n+" call: "+e.error))},function(e){var n=u[e];if(!n){var t=d(r);(n=u[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+t+")()"],{type:"application/javascript"})))).onmessage=function(e){var n=e.data,t=n.messageId,r=l[t];if(!r)throw new Error("WorkerModule response with empty or unknown messageId");delete l[t],r(n)}}return n}(e).postMessage({messageId:c,action:n,data:t})}))}},5596:e=>{function n(e){return e}e.exports=function(e,t){if(null==e)return e;var r=(t=t||{}).width||50,a="string"==typeof t.indent?t.indent:"  ",o=t.newline||"\n"+a,i="function"==typeof t.escape?t.escape:n,c=".{1,"+r+"}";!0!==t.cut&&(c+="([\\s​]+|$)|[^\\s​]+?([\\s​]+|$)");var u=new RegExp(c,"g"),s=a+(e.match(u)||[]).map((function(e){return"\n"===e.slice(-1)&&(e=e.slice(0,e.length-1)),i(e)})).join(o);return!0===t.trim&&(s=function(e){const n=e.split("\n").map((e=>function(e){let n=e.length-1,t=e[n];for(;" "===t||"\t"===t;)t=e[--n];return e.substring(0,n+1)}(e)));return n.join("\n")}(s)),s}},2242:(e,n,t)=>{"use strict";function r(){var e=function(e){function n(e,n,t,r,a,o,i,c,u,s){var l=1-u;s.x=l*l*l*e+3*l*l*u*t+3*l*u*u*a+u*u*u*i,s.y=l*l*l*n+3*l*l*u*r+3*l*u*u*o+u*u*u*c}function t(e,n){for(var t,r,a,o,i,c=/([MLQCZ])([^MLQCZ]*)/g;t=c.exec(e);){var u=t[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map((function(e){return parseFloat(e)}));switch(t[1]){case"M":o=r=u[0],i=a=u[1];break;case"L":u[0]===o&&u[1]===i||n("L",o,i,o=u[0],i=u[1]);break;case"Q":n("Q",o,i,o=u[2],i=u[3],u[0],u[1]);break;case"C":n("C",o,i,o=u[4],i=u[5],u[0],u[1],u[2],u[3]);break;case"Z":o===r&&i===a||n("L",o,i,r,a)}}}function r(e,r,a){void 0===a&&(a=16);var o={x:0,y:0};t(e,(function(e,t,i,c,u,s,l,f,v){switch(e){case"L":r(t,i,c,u);break;case"Q":for(var d=t,g=i,p=1;p<a;p++)y=i,E=l,w=u,A=void 0,A=1-(x=p/(a-1)),(T=o).x=A*A*t+2*A*x*s+x*x*c,T.y=A*A*y+2*A*x*E+x*x*w,r(d,g,o.x,o.y),d=o.x,g=o.y;break;case"C":for(var m=t,h=i,b=1;b<a;b++)n(t,i,s,l,f,v,c,u,b/(a-1),o),r(m,h,o.x,o.y),m=o.x,h=o.y}var y,E,w,x,T,A}))}var a="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",o="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",i=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(e,n){var t=e.getContext?e.getContext("webgl",c):e,r=i.get(t);if(!r){var a="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,o={},u={},s={},l=-1,f=[];function v(e){var n=o[e];if(!n&&!(n=o[e]=t.getExtension(e)))throw new Error(e+" not supported");return n}function d(e,n){var r=t.createShader(n);return t.shaderSource(r,e),t.compileShader(r),r}function g(e,n,r,o){if(!u[e]){var i={},c={},s=t.createProgram();t.attachShader(s,d(n,t.VERTEX_SHADER)),t.attachShader(s,d(r,t.FRAGMENT_SHADER)),t.linkProgram(s),u[e]={program:s,transaction:function(e){t.useProgram(s),e({setUniform:function(e,n){for(var r=[],a=arguments.length-2;a-- >0;)r[a]=arguments[a+2];var o=c[n]||(c[n]=t.getUniformLocation(s,n));t["uniform"+e].apply(t,[o].concat(r))},setAttribute:function(e,n,r,o,c){var u=i[e];u||(u=i[e]={buf:t.createBuffer(),loc:t.getAttribLocation(s,e),data:null}),t.bindBuffer(t.ARRAY_BUFFER,u.buf),t.vertexAttribPointer(u.loc,n,t.FLOAT,!1,0,0),t.enableVertexAttribArray(u.loc),a?t.vertexAttribDivisor(u.loc,o):v("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(u.loc,o),c!==u.data&&(t.bufferData(t.ARRAY_BUFFER,c,r),u.data=c)}})}}}u[e].transaction(o)}function p(e,n){l++;try{t.activeTexture(t.TEXTURE0+l);var r=s[e];r||(r=s[e]=t.createTexture(),t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)),t.bindTexture(t.TEXTURE_2D,r),n(r,l)}finally{l--}}function m(e,n,r){var a=t.createFramebuffer();f.push(a),t.bindFramebuffer(t.FRAMEBUFFER,a),t.activeTexture(t.TEXTURE0+n),t.bindTexture(t.TEXTURE_2D,e),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0);try{r(a)}finally{t.deleteFramebuffer(a),t.bindFramebuffer(t.FRAMEBUFFER,f[--f.length-1]||null)}}function h(){o={},u={},s={},l=-1,f.length=0}t.canvas.addEventListener("webglcontextlost",(function(e){h(),e.preventDefault()}),!1),i.set(t,r={gl:t,isWebGL2:a,getExtension:v,withProgram:g,withTexture:p,withTextureFramebuffer:m,handleContextLoss:h})}n(r)}function s(e,n,t,r,i,c,s,l){void 0===s&&(s=15),void 0===l&&(l=null),u(e,(function(e){var u=e.gl,f=e.withProgram;(0,e.withTexture)("copy",(function(e,v){u.texImage2D(u.TEXTURE_2D,0,u.RGBA,i,c,0,u.RGBA,u.UNSIGNED_BYTE,n),f("copy",a,o,(function(e){var n=e.setUniform;(0,e.setAttribute)("aUV",2,u.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),n("1i","image",v),u.bindFramebuffer(u.FRAMEBUFFER,l||null),u.disable(u.BLEND),u.colorMask(8&s,4&s,2&s,1&s),u.viewport(t,r,i,c),u.scissor(t,r,i,c),u.drawArrays(u.TRIANGLES,0,3)}))}))}))}var l=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:s,resizeWebGLCanvasWithoutClearing:function(e,n,t){var r=e.width,a=e.height;u(e,(function(o){var i=o.gl,c=new Uint8Array(r*a*4);i.readPixels(0,0,r,a,i.RGBA,i.UNSIGNED_BYTE,c),e.width=n,e.height=t,s(i,c,0,0,r,a)}))}});function f(e,n,t,a,o,i){void 0===i&&(i=1);var c=new Uint8Array(e*n),u=a[2]-a[0],s=a[3]-a[1],l=[];r(t,(function(e,n,t,r){l.push({x1:e,y1:n,x2:t,y2:r,minX:Math.min(e,t),minY:Math.min(n,r),maxX:Math.max(e,t),maxY:Math.max(n,r)})})),l.sort((function(e,n){return e.maxX-n.maxX}));for(var f=0;f<e;f++)for(var v=0;v<n;v++){var d=m(a[0]+u*(f+.5)/e,a[1]+s*(v+.5)/n),p=Math.pow(1-Math.abs(d)/o,i)/2;d<0&&(p=1-p),p=Math.max(0,Math.min(255,Math.round(255*p))),c[v*e+f]=p}return c;function m(e,n){for(var t=1/0,r=1/0,a=l.length;a--;){var o=l[a];if(o.maxX+r<=e)break;if(e+r>o.minX&&n-r<o.maxY&&n+r>o.minY){var i=g(e,n,o.x1,o.y1,o.x2,o.y2);i<t&&(t=i,r=Math.sqrt(t))}}return function(e,n){for(var t=0,r=l.length;r--;){var a=l[r];if(a.maxX<=e)break;a.y1>n!=a.y2>n&&e<(a.x2-a.x1)*(n-a.y1)/(a.y2-a.y1)+a.x1&&(t+=a.y1<a.y2?1:-1)}return 0!==t}(e,n)&&(r=-r),r}}function v(e,n,t,r,a,o,i,c,u,s){void 0===o&&(o=1),void 0===c&&(c=0),void 0===u&&(u=0),void 0===s&&(s=0),d(e,n,t,r,a,o,i,null,c,u,s)}function d(e,n,t,r,a,o,i,c,u,l,v){void 0===o&&(o=1),void 0===u&&(u=0),void 0===l&&(l=0),void 0===v&&(v=0);for(var d=f(e,n,t,r,a,o),g=new Uint8Array(4*d.length),p=0;p<d.length;p++)g[4*p+v]=d[p];s(i,g,u,l,e,n,1<<3-v,c)}function g(e,n,t,r,a,o){var i=a-t,c=o-r,u=i*i+c*c,s=u?Math.max(0,Math.min(1,((e-t)*i+(n-r)*c)/u)):0,l=e-(t+s*i),f=n-(r+s*c);return l*l+f*f}var p=Object.freeze({__proto__:null,generate:f,generateIntoCanvas:v,generateIntoFramebuffer:d}),m="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",h="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",b="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",y=new Float32Array([0,0,2,0,0,2]),E=null,w=!1,x={},T=new WeakMap;function A(e){if(!w&&!D(e))throw new Error("WebGL generation not supported")}function R(e,n,t,r,a,o,i){if(void 0===o&&(o=1),void 0===i&&(i=null),!i&&!(i=E)){var c="function"==typeof OffscreenCanvas?new OffscreenCanvas(1,1):"undefined"!=typeof document?document.createElement("canvas"):null;if(!c)throw new Error("OffscreenCanvas or DOM canvas not supported");i=E=c.getContext("webgl",{depth:!1})}A(i);var s=new Uint8Array(e*n*4);u(i,(function(i){var c=i.gl,u=i.withTexture,l=i.withTextureFramebuffer;u("readable",(function(i,u){c.texImage2D(c.TEXTURE_2D,0,c.RGBA,e,n,0,c.RGBA,c.UNSIGNED_BYTE,null),l(i,u,(function(i){U(e,n,t,r,a,o,c,i,0,0,0),c.readPixels(0,0,e,n,c.RGBA,c.UNSIGNED_BYTE,s)}))}))}));for(var l=new Uint8Array(e*n),f=0,v=0;f<s.length;f+=4)l[v++]=s[f];return l}function _(e,n,t,r,a,o,i,c,u,s){void 0===o&&(o=1),void 0===c&&(c=0),void 0===u&&(u=0),void 0===s&&(s=0),U(e,n,t,r,a,o,i,null,c,u,s)}function U(e,n,t,o,i,c,s,l,f,v,d){void 0===c&&(c=1),void 0===f&&(f=0),void 0===v&&(v=0),void 0===d&&(d=0),A(s);var g=[];r(t,(function(e,n,t,r){g.push(e,n,t,r)})),g=new Float32Array(g),u(s,(function(t){var r=t.gl,u=t.isWebGL2,s=t.getExtension,p=t.withProgram,E=t.withTexture,w=t.withTextureFramebuffer,x=t.handleContextLoss;if(E("rawDistances",(function(t,E){e===t._lastWidth&&n===t._lastHeight||r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t._lastWidth=e,t._lastHeight=n,0,r.RGBA,r.UNSIGNED_BYTE,null),p("main",m,h,(function(a){var l=a.setAttribute,f=a.setUniform,v=!u&&s("ANGLE_instanced_arrays"),d=!u&&s("EXT_blend_minmax");l("aUV",2,r.STATIC_DRAW,0,y),l("aLineSegment",4,r.DYNAMIC_DRAW,1,g),f.apply(void 0,["4f","uGlyphBounds"].concat(o)),f("1f","uMaxDistance",i),f("1f","uExponent",c),w(t,E,(function(t){r.enable(r.BLEND),r.colorMask(!0,!0,!0,!0),r.viewport(0,0,e,n),r.scissor(0,0,e,n),r.blendFunc(r.ONE,r.ONE),r.blendEquationSeparate(r.FUNC_ADD,u?r.MAX:d.MAX_EXT),r.clear(r.COLOR_BUFFER_BIT),u?r.drawArraysInstanced(r.TRIANGLES,0,3,g.length/4):v.drawArraysInstancedANGLE(r.TRIANGLES,0,3,g.length/4)}))})),p("post",a,b,(function(t){t.setAttribute("aUV",2,r.STATIC_DRAW,0,y),t.setUniform("1i","tex",E),r.bindFramebuffer(r.FRAMEBUFFER,l),r.disable(r.BLEND),r.colorMask(0===d,1===d,2===d,3===d),r.viewport(f,v,e,n),r.scissor(f,v,e,n),r.drawArrays(r.TRIANGLES,0,3)}))})),r.isContextLost())throw x(),new Error("webgl context lost")}))}function D(e){var n=e&&e!==E?e.canvas||e:x,t=T.get(n);if(void 0===t){w=!0;var r=null;try{var a=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],o=R(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,e);(t=o&&a.length===o.length&&o.every((function(e,n){return e===a[n]})))||(r="bad trial run results",console.info(a,o))}catch(e){t=!1,r=e.message}r&&console.warn("WebGL SDF generation not supported:",r),w=!1,T.set(n,t)}return t}var M=Object.freeze({__proto__:null,generate:R,generateIntoCanvas:_,generateIntoFramebuffer:U,isSupported:D});return e.forEachPathCommand=t,e.generate=function(e,n,t,r,a,o){void 0===a&&(a=Math.max(r[2]-r[0],r[3]-r[1])/2),void 0===o&&(o=1);try{return R.apply(M,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),f.apply(p,arguments)}},e.generateIntoCanvas=function(e,n,t,r,a,o,i,c,u,s){void 0===a&&(a=Math.max(r[2]-r[0],r[3]-r[1])/2),void 0===o&&(o=1),void 0===c&&(c=0),void 0===u&&(u=0),void 0===s&&(s=0);try{return _.apply(M,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),v.apply(p,arguments)}},e.javascript=p,e.pathToLineSegments=r,e.webgl=M,e.webglUtils=l,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return e}t.d(n,{A:()=>r})}}]);