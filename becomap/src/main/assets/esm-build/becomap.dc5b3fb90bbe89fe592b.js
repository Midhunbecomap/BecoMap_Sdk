'use strict';(this['webpackChunkbecomap']=this['webpackChunkbecomap']||[])['push']([[0x282],{0x24dd:(_0x4a27a9,_0x58fca7,_0x44eb15)=>{_0x44eb15['d'](_0x58fca7,{'JeP':()=>_0x34851d,'vxI':()=>_0x279f40});var _0x3e8626=_0x44eb15(0x133a);function _0x52fe21(){let _0x3cda40=null,_0x9dc2b3=!0x1,_0x325e12=null,_0xef7518=null;function _0x49353a(_0xfd9237,_0x420862){_0x325e12(_0xfd9237,_0x420862),_0xef7518=_0x3cda40['requestAnimationFrame'](_0x49353a);}return{'start':function(){!0x0!==_0x9dc2b3&&null!==_0x325e12&&(_0xef7518=_0x3cda40['requestAnimationFrame'](_0x49353a),_0x9dc2b3=!0x0);},'stop':function(){_0x3cda40['cancelAnimationFrame'](_0xef7518),_0x9dc2b3=!0x1;},'setAnimationLoop':function(_0x514b5b){_0x325e12=_0x514b5b;},'setContext':function(_0x121d70){_0x3cda40=_0x121d70;}};}function _0x8c5811(_0x342fe6){const _0x47616c=new WeakMap();return{'get':function(_0x2aff34){return _0x2aff34['isInterleavedBufferAttribute']&&(_0x2aff34=_0x2aff34['data']),_0x47616c['get'](_0x2aff34);},'remove':function(_0x540f74){_0x540f74['isInterleavedBufferAttribute']&&(_0x540f74=_0x540f74['data']);const _0x87b929=_0x47616c['get'](_0x540f74);_0x87b929&&(_0x342fe6['deleteBuffer'](_0x87b929['buffer']),_0x47616c['delete'](_0x540f74));},'update':function(_0x12dda9,_0x5302de){if(_0x12dda9['isInterleavedBufferAttribute']&&(_0x12dda9=_0x12dda9['data']),_0x12dda9['isGLBufferAttribute']){const _0x2d9ccf=_0x47616c['get'](_0x12dda9);return void((!_0x2d9ccf||_0x2d9ccf['version']<_0x12dda9['version'])&&_0x47616c['set'](_0x12dda9,{'buffer':_0x12dda9['buffer'],'type':_0x12dda9['type'],'bytesPerElement':_0x12dda9['elementSize'],'version':_0x12dda9['version']}));}const _0xbc1fb0=_0x47616c['get'](_0x12dda9);if(void 0x0===_0xbc1fb0)_0x47616c['set'](_0x12dda9,function(_0x24f984,_0x10a386){const _0x13bd1b=_0x24f984['array'],_0x3336c9=_0x24f984['usage'],_0x671a29=_0x13bd1b['byteLength'],_0x259bdc=_0x342fe6['createBuffer']();let _0x140ed2;if(_0x342fe6['bindBuffer'](_0x10a386,_0x259bdc),_0x342fe6['bufferData'](_0x10a386,_0x13bd1b,_0x3336c9),_0x24f984['onUploadCallback'](),_0x13bd1b instanceof Float32Array)_0x140ed2=_0x342fe6['FLOAT'];else{if(_0x13bd1b instanceof Uint16Array)_0x140ed2=_0x24f984['isFloat16BufferAttribute']?_0x342fe6['HALF_FLOAT']:_0x342fe6['UNSIGNED_SHORT'];else{if(_0x13bd1b instanceof Int16Array)_0x140ed2=_0x342fe6['SHORT'];else{if(_0x13bd1b instanceof Uint32Array)_0x140ed2=_0x342fe6['UNSIGNED_INT'];else{if(_0x13bd1b instanceof Int32Array)_0x140ed2=_0x342fe6['INT'];else{if(_0x13bd1b instanceof Int8Array)_0x140ed2=_0x342fe6['BYTE'];else{if(_0x13bd1b instanceof Uint8Array)_0x140ed2=_0x342fe6['UNSIGNED_BYTE'];else{if(!(_0x13bd1b instanceof Uint8ClampedArray))throw new Error('THREE.WebGLAttributes:\x20Unsupported\x20buffer\x20data\x20format:\x20'+_0x13bd1b);_0x140ed2=_0x342fe6['UNSIGNED_BYTE'];}}}}}}}return{'buffer':_0x259bdc,'type':_0x140ed2,'bytesPerElement':_0x13bd1b['BYTES_PER_ELEMENT'],'version':_0x24f984['version'],'size':_0x671a29};}(_0x12dda9,_0x5302de));else{if(_0xbc1fb0['version']<_0x12dda9['version']){if(_0xbc1fb0['size']!==_0x12dda9['array']['byteLength'])throw new Error('THREE.WebGLAttributes:\x20The\x20size\x20of\x20the\x20buffer\x20attribute\x27s\x20array\x20buffer\x20does\x20not\x20match\x20the\x20original\x20size.\x20Resizing\x20buffer\x20attributes\x20is\x20not\x20supported.');!function(_0x231a8c,_0x5de5ed,_0x45d725){const _0x39f865=_0x5de5ed['array'],_0x442d48=_0x5de5ed['updateRanges'];if(_0x342fe6['bindBuffer'](_0x45d725,_0x231a8c),0x0===_0x442d48['length'])_0x342fe6['bufferSubData'](_0x45d725,0x0,_0x39f865);else{_0x442d48['sort']((_0x566af4,_0x4f4605)=>_0x566af4['start']-_0x4f4605['start']);let _0x38a268=0x0;for(let _0x7ae9f=0x1;_0x7ae9f<_0x442d48['length'];_0x7ae9f++){const _0x263dc0=_0x442d48[_0x38a268],_0xcdd3bd=_0x442d48[_0x7ae9f];_0xcdd3bd['start']<=_0x263dc0['start']+_0x263dc0['count']+0x1?_0x263dc0['count']=Math['max'](_0x263dc0['count'],_0xcdd3bd['start']+_0xcdd3bd['count']-_0x263dc0['start']):(++_0x38a268,_0x442d48[_0x38a268]=_0xcdd3bd);}_0x442d48['length']=_0x38a268+0x1;for(let _0x2b2229=0x0,_0x5ac51f=_0x442d48['length'];_0x2b2229<_0x5ac51f;_0x2b2229++){const _0xe7349c=_0x442d48[_0x2b2229];_0x342fe6['bufferSubData'](_0x45d725,_0xe7349c['start']*_0x39f865['BYTES_PER_ELEMENT'],_0x39f865,_0xe7349c['start'],_0xe7349c['count']);}_0x5de5ed['clearUpdateRanges']();}_0x5de5ed['onUploadCallback']();}(_0xbc1fb0['buffer'],_0x12dda9,_0x5302de),_0xbc1fb0['version']=_0x12dda9['version'];}}}};}const _0x279f40={'alphahash_fragment':'#ifdef\x20USE_ALPHAHASH\x0a\x09if\x20(\x20diffuseColor.a\x20<\x20getAlphaHashThreshold(\x20vPosition\x20)\x20)\x20discard;\x0a#endif','alphahash_pars_fragment':'#ifdef\x20USE_ALPHAHASH\x0a\x09const\x20float\x20ALPHA_HASH_SCALE\x20=\x200.05;\x0a\x09float\x20hash2D(\x20vec2\x20value\x20)\x20{\x0a\x09\x09return\x20fract(\x201.0e4\x20*\x20sin(\x2017.0\x20*\x20value.x\x20+\x200.1\x20*\x20value.y\x20)\x20*\x20(\x200.1\x20+\x20abs(\x20sin(\x2013.0\x20*\x20value.y\x20+\x20value.x\x20)\x20)\x20)\x20);\x0a\x09}\x0a\x09float\x20hash3D(\x20vec3\x20value\x20)\x20{\x0a\x09\x09return\x20hash2D(\x20vec2(\x20hash2D(\x20value.xy\x20),\x20value.z\x20)\x20);\x0a\x09}\x0a\x09float\x20getAlphaHashThreshold(\x20vec3\x20position\x20)\x20{\x0a\x09\x09float\x20maxDeriv\x20=\x20max(\x0a\x09\x09\x09length(\x20dFdx(\x20position.xyz\x20)\x20),\x0a\x09\x09\x09length(\x20dFdy(\x20position.xyz\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20pixScale\x20=\x201.0\x20/\x20(\x20ALPHA_HASH_SCALE\x20*\x20maxDeriv\x20);\x0a\x09\x09vec2\x20pixScales\x20=\x20vec2(\x0a\x09\x09\x09exp2(\x20floor(\x20log2(\x20pixScale\x20)\x20)\x20),\x0a\x09\x09\x09exp2(\x20ceil(\x20log2(\x20pixScale\x20)\x20)\x20)\x0a\x09\x09);\x0a\x09\x09vec2\x20alpha\x20=\x20vec2(\x0a\x09\x09\x09hash3D(\x20floor(\x20pixScales.x\x20*\x20position.xyz\x20)\x20),\x0a\x09\x09\x09hash3D(\x20floor(\x20pixScales.y\x20*\x20position.xyz\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20lerpFactor\x20=\x20fract(\x20log2(\x20pixScale\x20)\x20);\x0a\x09\x09float\x20x\x20=\x20(\x201.0\x20-\x20lerpFactor\x20)\x20*\x20alpha.x\x20+\x20lerpFactor\x20*\x20alpha.y;\x0a\x09\x09float\x20a\x20=\x20min(\x20lerpFactor,\x201.0\x20-\x20lerpFactor\x20);\x0a\x09\x09vec3\x20cases\x20=\x20vec3(\x0a\x09\x09\x09x\x20*\x20x\x20/\x20(\x202.0\x20*\x20a\x20*\x20(\x201.0\x20-\x20a\x20)\x20),\x0a\x09\x09\x09(\x20x\x20-\x200.5\x20*\x20a\x20)\x20/\x20(\x201.0\x20-\x20a\x20),\x0a\x09\x09\x091.0\x20-\x20(\x20(\x201.0\x20-\x20x\x20)\x20*\x20(\x201.0\x20-\x20x\x20)\x20/\x20(\x202.0\x20*\x20a\x20*\x20(\x201.0\x20-\x20a\x20)\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20threshold\x20=\x20(\x20x\x20<\x20(\x201.0\x20-\x20a\x20)\x20)\x0a\x09\x09\x09?\x20(\x20(\x20x\x20<\x20a\x20)\x20?\x20cases.x\x20:\x20cases.y\x20)\x0a\x09\x09\x09:\x20cases.z;\x0a\x09\x09return\x20clamp(\x20threshold\x20,\x201.0e-6,\x201.0\x20);\x0a\x09}\x0a#endif','alphamap_fragment':'#ifdef\x20USE_ALPHAMAP\x0a\x09diffuseColor.a\x20*=\x20texture2D(\x20alphaMap,\x20vAlphaMapUv\x20).g;\x0a#endif','alphamap_pars_fragment':'#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20sampler2D\x20alphaMap;\x0a#endif','alphatest_fragment':'#ifdef\x20USE_ALPHATEST\x0a\x09#ifdef\x20ALPHA_TO_COVERAGE\x0a\x09diffuseColor.a\x20=\x20smoothstep(\x20alphaTest,\x20alphaTest\x20+\x20fwidth(\x20diffuseColor.a\x20),\x20diffuseColor.a\x20);\x0a\x09if\x20(\x20diffuseColor.a\x20==\x200.0\x20)\x20discard;\x0a\x09#else\x0a\x09if\x20(\x20diffuseColor.a\x20<\x20alphaTest\x20)\x20discard;\x0a\x09#endif\x0a#endif','alphatest_pars_fragment':'#ifdef\x20USE_ALPHATEST\x0a\x09uniform\x20float\x20alphaTest;\x0a#endif','aomap_fragment':'#ifdef\x20USE_AOMAP\x0a\x09float\x20ambientOcclusion\x20=\x20(\x20texture2D(\x20aoMap,\x20vAoMapUv\x20).r\x20-\x201.0\x20)\x20*\x20aoMapIntensity\x20+\x201.0;\x0a\x09reflectedLight.indirectDiffuse\x20*=\x20ambientOcclusion;\x0a\x09#if\x20defined(\x20USE_CLEARCOAT\x20)\x20\x0a\x09\x09clearcoatSpecularIndirect\x20*=\x20ambientOcclusion;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_SHEEN\x20)\x20\x0a\x09\x09sheenSpecularIndirect\x20*=\x20ambientOcclusion;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20STANDARD\x20)\x0a\x09\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20geometryViewDir\x20)\x20);\x0a\x09\x09reflectedLight.indirectSpecular\x20*=\x20computeSpecularOcclusion(\x20dotNV,\x20ambientOcclusion,\x20material.roughness\x20);\x0a\x09#endif\x0a#endif','aomap_pars_fragment':'#ifdef\x20USE_AOMAP\x0a\x09uniform\x20sampler2D\x20aoMap;\x0a\x09uniform\x20float\x20aoMapIntensity;\x0a#endif','batching_pars_vertex':'#ifdef\x20USE_BATCHING\x0a\x09#if\x20!\x20defined(\x20GL_ANGLE_multi_draw\x20)\x0a\x09#define\x20gl_DrawID\x20_gl_DrawID\x0a\x09uniform\x20int\x20_gl_DrawID;\x0a\x09#endif\x0a\x09uniform\x20highp\x20sampler2D\x20batchingTexture;\x0a\x09uniform\x20highp\x20usampler2D\x20batchingIdTexture;\x0a\x09mat4\x20getBatchingMatrix(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20)\x20*\x204;\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09vec4\x20v1\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v2\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x201,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v3\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x202,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v4\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x203,\x20y\x20),\x200\x20);\x0a\x09\x09return\x20mat4(\x20v1,\x20v2,\x20v3,\x20v4\x20);\x0a\x09}\x0a\x09float\x20getIndirectIndex(\x20const\x20in\x20int\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingIdTexture,\x200\x20).x;\x0a\x09\x09int\x20x\x20=\x20i\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20i\x20/\x20size;\x0a\x09\x09return\x20float(\x20texelFetch(\x20batchingIdTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20).r\x20);\x0a\x09}\x0a#endif\x0a#ifdef\x20USE_BATCHING_COLOR\x0a\x09uniform\x20sampler2D\x20batchingColorTexture;\x0a\x09vec3\x20getBatchingColor(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingColorTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20);\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09return\x20texelFetch(\x20batchingColorTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20).rgb;\x0a\x09}\x0a#endif','batching_vertex':'#ifdef\x20USE_BATCHING\x0a\x09mat4\x20batchingMatrix\x20=\x20getBatchingMatrix(\x20getIndirectIndex(\x20gl_DrawID\x20)\x20);\x0a#endif','begin_vertex':'vec3\x20transformed\x20=\x20vec3(\x20position\x20);\x0a#ifdef\x20USE_ALPHAHASH\x0a\x09vPosition\x20=\x20vec3(\x20position\x20);\x0a#endif','beginnormal_vertex':'vec3\x20objectNormal\x20=\x20vec3(\x20normal\x20);\x0a#ifdef\x20USE_TANGENT\x0a\x09vec3\x20objectTangent\x20=\x20vec3(\x20tangent.xyz\x20);\x0a#endif','bsdfs':'float\x20G_BlinnPhong_Implicit(\x20)\x20{\x0a\x09return\x200.25;\x0a}\x0afloat\x20D_BlinnPhong(\x20const\x20in\x20float\x20shininess,\x20const\x20in\x20float\x20dotNH\x20)\x20{\x0a\x09return\x20RECIPROCAL_PI\x20*\x20(\x20shininess\x20*\x200.5\x20+\x201.0\x20)\x20*\x20pow(\x20dotNH,\x20shininess\x20);\x0a}\x0avec3\x20BRDF_BlinnPhong(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20shininess\x20)\x20{\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09vec3\x20F\x20=\x20F_Schlick(\x20specularColor,\x201.0,\x20dotVH\x20);\x0a\x09float\x20G\x20=\x20G_BlinnPhong_Implicit(\x20);\x0a\x09float\x20D\x20=\x20D_BlinnPhong(\x20shininess,\x20dotNH\x20);\x0a\x09return\x20F\x20*\x20(\x20G\x20*\x20D\x20);\x0a}\x20//\x20validated','iridescence_fragment':'#ifdef\x20USE_IRIDESCENCE\x0a\x09const\x20mat3\x20XYZ_TO_REC709\x20=\x20mat3(\x0a\x09\x09\x203.2404542,\x20-0.9692660,\x20\x200.0556434,\x0a\x09\x09-1.5371385,\x20\x201.8760108,\x20-0.2040259,\x0a\x09\x09-0.4985314,\x20\x200.0415560,\x20\x201.0572252\x0a\x09);\x0a\x09vec3\x20Fresnel0ToIor(\x20vec3\x20fresnel0\x20)\x20{\x0a\x09\x09vec3\x20sqrtF0\x20=\x20sqrt(\x20fresnel0\x20);\x0a\x09\x09return\x20(\x20vec3(\x201.0\x20)\x20+\x20sqrtF0\x20)\x20/\x20(\x20vec3(\x201.0\x20)\x20-\x20sqrtF0\x20);\x0a\x09}\x0a\x09vec3\x20IorToFresnel0(\x20vec3\x20transmittedIor,\x20float\x20incidentIor\x20)\x20{\x0a\x09\x09return\x20pow2(\x20(\x20transmittedIor\x20-\x20vec3(\x20incidentIor\x20)\x20)\x20/\x20(\x20transmittedIor\x20+\x20vec3(\x20incidentIor\x20)\x20)\x20);\x0a\x09}\x0a\x09float\x20IorToFresnel0(\x20float\x20transmittedIor,\x20float\x20incidentIor\x20)\x20{\x0a\x09\x09return\x20pow2(\x20(\x20transmittedIor\x20-\x20incidentIor\x20)\x20/\x20(\x20transmittedIor\x20+\x20incidentIor\x20));\x0a\x09}\x0a\x09vec3\x20evalSensitivity(\x20float\x20OPD,\x20vec3\x20shift\x20)\x20{\x0a\x09\x09float\x20phase\x20=\x202.0\x20*\x20PI\x20*\x20OPD\x20*\x201.0e-9;\x0a\x09\x09vec3\x20val\x20=\x20vec3(\x205.4856e-13,\x204.4201e-13,\x205.2481e-13\x20);\x0a\x09\x09vec3\x20pos\x20=\x20vec3(\x201.6810e+06,\x201.7953e+06,\x202.2084e+06\x20);\x0a\x09\x09vec3\x20var\x20=\x20vec3(\x204.3278e+09,\x209.3046e+09,\x206.6121e+09\x20);\x0a\x09\x09vec3\x20xyz\x20=\x20val\x20*\x20sqrt(\x202.0\x20*\x20PI\x20*\x20var\x20)\x20*\x20cos(\x20pos\x20*\x20phase\x20+\x20shift\x20)\x20*\x20exp(\x20-\x20pow2(\x20phase\x20)\x20*\x20var\x20);\x0a\x09\x09xyz.x\x20+=\x209.7470e-14\x20*\x20sqrt(\x202.0\x20*\x20PI\x20*\x204.5282e+09\x20)\x20*\x20cos(\x202.2399e+06\x20*\x20phase\x20+\x20shift[\x200\x20]\x20)\x20*\x20exp(\x20-\x204.5282e+09\x20*\x20pow2(\x20phase\x20)\x20);\x0a\x09\x09xyz\x20/=\x201.0685e-7;\x0a\x09\x09vec3\x20rgb\x20=\x20XYZ_TO_REC709\x20*\x20xyz;\x0a\x09\x09return\x20rgb;\x0a\x09}\x0a\x09vec3\x20evalIridescence(\x20float\x20outsideIOR,\x20float\x20eta2,\x20float\x20cosTheta1,\x20float\x20thinFilmThickness,\x20vec3\x20baseF0\x20)\x20{\x0a\x09\x09vec3\x20I;\x0a\x09\x09float\x20iridescenceIOR\x20=\x20mix(\x20outsideIOR,\x20eta2,\x20smoothstep(\x200.0,\x200.03,\x20thinFilmThickness\x20)\x20);\x0a\x09\x09float\x20sinTheta2Sq\x20=\x20pow2(\x20outsideIOR\x20/\x20iridescenceIOR\x20)\x20*\x20(\x201.0\x20-\x20pow2(\x20cosTheta1\x20)\x20);\x0a\x09\x09float\x20cosTheta2Sq\x20=\x201.0\x20-\x20sinTheta2Sq;\x0a\x09\x09if\x20(\x20cosTheta2Sq\x20<\x200.0\x20)\x20{\x0a\x09\x09\x09return\x20vec3(\x201.0\x20);\x0a\x09\x09}\x0a\x09\x09float\x20cosTheta2\x20=\x20sqrt(\x20cosTheta2Sq\x20);\x0a\x09\x09float\x20R0\x20=\x20IorToFresnel0(\x20iridescenceIOR,\x20outsideIOR\x20);\x0a\x09\x09float\x20R12\x20=\x20F_Schlick(\x20R0,\x201.0,\x20cosTheta1\x20);\x0a\x09\x09float\x20T121\x20=\x201.0\x20-\x20R12;\x0a\x09\x09float\x20phi12\x20=\x200.0;\x0a\x09\x09if\x20(\x20iridescenceIOR\x20<\x20outsideIOR\x20)\x20phi12\x20=\x20PI;\x0a\x09\x09float\x20phi21\x20=\x20PI\x20-\x20phi12;\x0a\x09\x09vec3\x20baseIOR\x20=\x20Fresnel0ToIor(\x20clamp(\x20baseF0,\x200.0,\x200.9999\x20)\x20);\x09\x09vec3\x20R1\x20=\x20IorToFresnel0(\x20baseIOR,\x20iridescenceIOR\x20);\x0a\x09\x09vec3\x20R23\x20=\x20F_Schlick(\x20R1,\x201.0,\x20cosTheta2\x20);\x0a\x09\x09vec3\x20phi23\x20=\x20vec3(\x200.0\x20);\x0a\x09\x09if\x20(\x20baseIOR[\x200\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x200\x20]\x20=\x20PI;\x0a\x09\x09if\x20(\x20baseIOR[\x201\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x201\x20]\x20=\x20PI;\x0a\x09\x09if\x20(\x20baseIOR[\x202\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x202\x20]\x20=\x20PI;\x0a\x09\x09float\x20OPD\x20=\x202.0\x20*\x20iridescenceIOR\x20*\x20thinFilmThickness\x20*\x20cosTheta2;\x0a\x09\x09vec3\x20phi\x20=\x20vec3(\x20phi21\x20)\x20+\x20phi23;\x0a\x09\x09vec3\x20R123\x20=\x20clamp(\x20R12\x20*\x20R23,\x201e-5,\x200.9999\x20);\x0a\x09\x09vec3\x20r123\x20=\x20sqrt(\x20R123\x20);\x0a\x09\x09vec3\x20Rs\x20=\x20pow2(\x20T121\x20)\x20*\x20R23\x20/\x20(\x20vec3(\x201.0\x20)\x20-\x20R123\x20);\x0a\x09\x09vec3\x20C0\x20=\x20R12\x20+\x20Rs;\x0a\x09\x09I\x20=\x20C0;\x0a\x09\x09vec3\x20Cm\x20=\x20Rs\x20-\x20T121;\x0a\x09\x09for\x20(\x20int\x20m\x20=\x201;\x20m\x20<=\x202;\x20++\x20m\x20)\x20{\x0a\x09\x09\x09Cm\x20*=\x20r123;\x0a\x09\x09\x09vec3\x20Sm\x20=\x202.0\x20*\x20evalSensitivity(\x20float(\x20m\x20)\x20*\x20OPD,\x20float(\x20m\x20)\x20*\x20phi\x20);\x0a\x09\x09\x09I\x20+=\x20Cm\x20*\x20Sm;\x0a\x09\x09}\x0a\x09\x09return\x20max(\x20I,\x20vec3(\x200.0\x20)\x20);\x0a\x09}\x0a#endif','bumpmap_pars_fragment':'#ifdef\x20USE_BUMPMAP\x0a\x09uniform\x20sampler2D\x20bumpMap;\x0a\x09uniform\x20float\x20bumpScale;\x0a\x09vec2\x20dHdxy_fwd()\x20{\x0a\x09\x09vec2\x20dSTdx\x20=\x20dFdx(\x20vBumpMapUv\x20);\x0a\x09\x09vec2\x20dSTdy\x20=\x20dFdy(\x20vBumpMapUv\x20);\x0a\x09\x09float\x20Hll\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20).x;\x0a\x09\x09float\x20dBx\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20+\x20dSTdx\x20).x\x20-\x20Hll;\x0a\x09\x09float\x20dBy\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20+\x20dSTdy\x20).x\x20-\x20Hll;\x0a\x09\x09return\x20vec2(\x20dBx,\x20dBy\x20);\x0a\x09}\x0a\x09vec3\x20perturbNormalArb(\x20vec3\x20surf_pos,\x20vec3\x20surf_norm,\x20vec2\x20dHdxy,\x20float\x20faceDirection\x20)\x20{\x0a\x09\x09vec3\x20vSigmaX\x20=\x20normalize(\x20dFdx(\x20surf_pos.xyz\x20)\x20);\x0a\x09\x09vec3\x20vSigmaY\x20=\x20normalize(\x20dFdy(\x20surf_pos.xyz\x20)\x20);\x0a\x09\x09vec3\x20vN\x20=\x20surf_norm;\x0a\x09\x09vec3\x20R1\x20=\x20cross(\x20vSigmaY,\x20vN\x20);\x0a\x09\x09vec3\x20R2\x20=\x20cross(\x20vN,\x20vSigmaX\x20);\x0a\x09\x09float\x20fDet\x20=\x20dot(\x20vSigmaX,\x20R1\x20)\x20*\x20faceDirection;\x0a\x09\x09vec3\x20vGrad\x20=\x20sign(\x20fDet\x20)\x20*\x20(\x20dHdxy.x\x20*\x20R1\x20+\x20dHdxy.y\x20*\x20R2\x20);\x0a\x09\x09return\x20normalize(\x20abs(\x20fDet\x20)\x20*\x20surf_norm\x20-\x20vGrad\x20);\x0a\x09}\x0a#endif','clipping_planes_fragment':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09vec4\x20plane;\x0a\x09#ifdef\x20ALPHA_TO_COVERAGE\x0a\x09\x09float\x20distanceToPlane,\x20distanceGradient;\x0a\x09\x09float\x20clipOpacity\x20=\x201.0;\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20UNION_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09distanceToPlane\x20=\x20-\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20+\x20plane.w;\x0a\x09\x09\x09distanceGradient\x20=\x20fwidth(\x20distanceToPlane\x20)\x20/\x202.0;\x0a\x09\x09\x09clipOpacity\x20*=\x20smoothstep(\x20-\x20distanceGradient,\x20distanceGradient,\x20distanceToPlane\x20);\x0a\x09\x09\x09if\x20(\x20clipOpacity\x20==\x200.0\x20)\x20discard;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09#if\x20UNION_CLIPPING_PLANES\x20<\x20NUM_CLIPPING_PLANES\x0a\x09\x09\x09float\x20unionClipOpacity\x20=\x201.0;\x0a\x09\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x20UNION_CLIPPING_PLANES;\x20i\x20<\x20NUM_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09\x09distanceToPlane\x20=\x20-\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20+\x20plane.w;\x0a\x09\x09\x09\x09distanceGradient\x20=\x20fwidth(\x20distanceToPlane\x20)\x20/\x202.0;\x0a\x09\x09\x09\x09unionClipOpacity\x20*=\x201.0\x20-\x20smoothstep(\x20-\x20distanceGradient,\x20distanceGradient,\x20distanceToPlane\x20);\x0a\x09\x09\x09}\x0a\x09\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09\x09clipOpacity\x20*=\x201.0\x20-\x20unionClipOpacity;\x0a\x09\x09#endif\x0a\x09\x09diffuseColor.a\x20*=\x20clipOpacity;\x0a\x09\x09if\x20(\x20diffuseColor.a\x20==\x200.0\x20)\x20discard;\x0a\x09#else\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20UNION_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09if\x20(\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20>\x20plane.w\x20)\x20discard;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09#if\x20UNION_CLIPPING_PLANES\x20<\x20NUM_CLIPPING_PLANES\x0a\x09\x09\x09bool\x20clipped\x20=\x20true;\x0a\x09\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x20UNION_CLIPPING_PLANES;\x20i\x20<\x20NUM_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09\x09clipped\x20=\x20(\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20>\x20plane.w\x20)\x20&&\x20clipped;\x0a\x09\x09\x09}\x0a\x09\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09\x09if\x20(\x20clipped\x20)\x20discard;\x0a\x09\x09#endif\x0a\x09#endif\x0a#endif','clipping_planes_pars_fragment':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09varying\x20vec3\x20vClipPosition;\x0a\x09uniform\x20vec4\x20clippingPlanes[\x20NUM_CLIPPING_PLANES\x20];\x0a#endif','clipping_planes_pars_vertex':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09varying\x20vec3\x20vClipPosition;\x0a#endif','clipping_planes_vertex':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09vClipPosition\x20=\x20-\x20mvPosition.xyz;\x0a#endif','color_fragment':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09diffuseColor\x20*=\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09diffuseColor.rgb\x20*=\x20vColor;\x0a#endif','color_pars_fragment':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09varying\x20vec4\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09varying\x20vec3\x20vColor;\x0a#endif','color_pars_vertex':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09varying\x20vec4\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x20||\x20defined(\x20USE_INSTANCING_COLOR\x20)\x20||\x20defined(\x20USE_BATCHING_COLOR\x20)\x0a\x09varying\x20vec3\x20vColor;\x0a#endif','color_vertex':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09vColor\x20=\x20vec4(\x201.0\x20);\x0a#elif\x20defined(\x20USE_COLOR\x20)\x20||\x20defined(\x20USE_INSTANCING_COLOR\x20)\x20||\x20defined(\x20USE_BATCHING_COLOR\x20)\x0a\x09vColor\x20=\x20vec3(\x201.0\x20);\x0a#endif\x0a#ifdef\x20USE_COLOR\x0a\x09vColor\x20*=\x20color;\x0a#endif\x0a#ifdef\x20USE_INSTANCING_COLOR\x0a\x09vColor.xyz\x20*=\x20instanceColor.xyz;\x0a#endif\x0a#ifdef\x20USE_BATCHING_COLOR\x0a\x09vec3\x20batchingColor\x20=\x20getBatchingColor(\x20getIndirectIndex(\x20gl_DrawID\x20)\x20);\x0a\x09vColor.xyz\x20*=\x20batchingColor.xyz;\x0a#endif','common':'#define\x20PI\x203.141592653589793\x0a#define\x20PI2\x206.283185307179586\x0a#define\x20PI_HALF\x201.5707963267948966\x0a#define\x20RECIPROCAL_PI\x200.3183098861837907\x0a#define\x20RECIPROCAL_PI2\x200.15915494309189535\x0a#define\x20EPSILON\x201e-6\x0a#ifndef\x20saturate\x0a#define\x20saturate(\x20a\x20)\x20clamp(\x20a,\x200.0,\x201.0\x20)\x0a#endif\x0a#define\x20whiteComplement(\x20a\x20)\x20(\x201.0\x20-\x20saturate(\x20a\x20)\x20)\x0afloat\x20pow2(\x20const\x20in\x20float\x20x\x20)\x20{\x20return\x20x*x;\x20}\x0avec3\x20pow2(\x20const\x20in\x20vec3\x20x\x20)\x20{\x20return\x20x*x;\x20}\x0afloat\x20pow3(\x20const\x20in\x20float\x20x\x20)\x20{\x20return\x20x*x*x;\x20}\x0afloat\x20pow4(\x20const\x20in\x20float\x20x\x20)\x20{\x20float\x20x2\x20=\x20x*x;\x20return\x20x2*x2;\x20}\x0afloat\x20max3(\x20const\x20in\x20vec3\x20v\x20)\x20{\x20return\x20max(\x20max(\x20v.x,\x20v.y\x20),\x20v.z\x20);\x20}\x0afloat\x20average(\x20const\x20in\x20vec3\x20v\x20)\x20{\x20return\x20dot(\x20v,\x20vec3(\x200.3333333\x20)\x20);\x20}\x0ahighp\x20float\x20rand(\x20const\x20in\x20vec2\x20uv\x20)\x20{\x0a\x09const\x20highp\x20float\x20a\x20=\x2012.9898,\x20b\x20=\x2078.233,\x20c\x20=\x2043758.5453;\x0a\x09highp\x20float\x20dt\x20=\x20dot(\x20uv.xy,\x20vec2(\x20a,b\x20)\x20),\x20sn\x20=\x20mod(\x20dt,\x20PI\x20);\x0a\x09return\x20fract(\x20sin(\x20sn\x20)\x20*\x20c\x20);\x0a}\x0a#ifdef\x20HIGH_PRECISION\x0a\x09float\x20precisionSafeLength(\x20vec3\x20v\x20)\x20{\x20return\x20length(\x20v\x20);\x20}\x0a#else\x0a\x09float\x20precisionSafeLength(\x20vec3\x20v\x20)\x20{\x0a\x09\x09float\x20maxComponent\x20=\x20max3(\x20abs(\x20v\x20)\x20);\x0a\x09\x09return\x20length(\x20v\x20/\x20maxComponent\x20)\x20*\x20maxComponent;\x0a\x09}\x0a#endif\x0astruct\x20IncidentLight\x20{\x0a\x09vec3\x20color;\x0a\x09vec3\x20direction;\x0a\x09bool\x20visible;\x0a};\x0astruct\x20ReflectedLight\x20{\x0a\x09vec3\x20directDiffuse;\x0a\x09vec3\x20directSpecular;\x0a\x09vec3\x20indirectDiffuse;\x0a\x09vec3\x20indirectSpecular;\x0a};\x0a#ifdef\x20USE_ALPHAHASH\x0a\x09varying\x20vec3\x20vPosition;\x0a#endif\x0avec3\x20transformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x09return\x20normalize(\x20(\x20matrix\x20*\x20vec4(\x20dir,\x200.0\x20)\x20).xyz\x20);\x0a}\x0avec3\x20inverseTransformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x09return\x20normalize(\x20(\x20vec4(\x20dir,\x200.0\x20)\x20*\x20matrix\x20).xyz\x20);\x0a}\x0amat3\x20transposeMat3(\x20const\x20in\x20mat3\x20m\x20)\x20{\x0a\x09mat3\x20tmp;\x0a\x09tmp[\x200\x20]\x20=\x20vec3(\x20m[\x200\x20].x,\x20m[\x201\x20].x,\x20m[\x202\x20].x\x20);\x0a\x09tmp[\x201\x20]\x20=\x20vec3(\x20m[\x200\x20].y,\x20m[\x201\x20].y,\x20m[\x202\x20].y\x20);\x0a\x09tmp[\x202\x20]\x20=\x20vec3(\x20m[\x200\x20].z,\x20m[\x201\x20].z,\x20m[\x202\x20].z\x20);\x0a\x09return\x20tmp;\x0a}\x0abool\x20isPerspectiveMatrix(\x20mat4\x20m\x20)\x20{\x0a\x09return\x20m[\x202\x20][\x203\x20]\x20==\x20-\x201.0;\x0a}\x0avec2\x20equirectUv(\x20in\x20vec3\x20dir\x20)\x20{\x0a\x09float\x20u\x20=\x20atan(\x20dir.z,\x20dir.x\x20)\x20*\x20RECIPROCAL_PI2\x20+\x200.5;\x0a\x09float\x20v\x20=\x20asin(\x20clamp(\x20dir.y,\x20-\x201.0,\x201.0\x20)\x20)\x20*\x20RECIPROCAL_PI\x20+\x200.5;\x0a\x09return\x20vec2(\x20u,\x20v\x20);\x0a}\x0avec3\x20BRDF_Lambert(\x20const\x20in\x20vec3\x20diffuseColor\x20)\x20{\x0a\x09return\x20RECIPROCAL_PI\x20*\x20diffuseColor;\x0a}\x0avec3\x20F_Schlick(\x20const\x20in\x20vec3\x20f0,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x09float\x20fresnel\x20=\x20exp2(\x20(\x20-\x205.55473\x20*\x20dotVH\x20-\x206.98316\x20)\x20*\x20dotVH\x20);\x0a\x09return\x20f0\x20*\x20(\x201.0\x20-\x20fresnel\x20)\x20+\x20(\x20f90\x20*\x20fresnel\x20);\x0a}\x0afloat\x20F_Schlick(\x20const\x20in\x20float\x20f0,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x09float\x20fresnel\x20=\x20exp2(\x20(\x20-\x205.55473\x20*\x20dotVH\x20-\x206.98316\x20)\x20*\x20dotVH\x20);\x0a\x09return\x20f0\x20*\x20(\x201.0\x20-\x20fresnel\x20)\x20+\x20(\x20f90\x20*\x20fresnel\x20);\x0a}\x20//\x20validated','cube_uv_reflection_fragment':'#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09#define\x20cubeUV_minMipLevel\x204.0\x0a\x09#define\x20cubeUV_minTileSize\x2016.0\x0a\x09float\x20getFace(\x20vec3\x20direction\x20)\x20{\x0a\x09\x09vec3\x20absDirection\x20=\x20abs(\x20direction\x20);\x0a\x09\x09float\x20face\x20=\x20-\x201.0;\x0a\x09\x09if\x20(\x20absDirection.x\x20>\x20absDirection.z\x20)\x20{\x0a\x09\x09\x09if\x20(\x20absDirection.x\x20>\x20absDirection.y\x20)\x0a\x09\x09\x09\x09face\x20=\x20direction.x\x20>\x200.0\x20?\x200.0\x20:\x203.0;\x0a\x09\x09\x09else\x0a\x09\x09\x09\x09face\x20=\x20direction.y\x20>\x200.0\x20?\x201.0\x20:\x204.0;\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09if\x20(\x20absDirection.z\x20>\x20absDirection.y\x20)\x0a\x09\x09\x09\x09face\x20=\x20direction.z\x20>\x200.0\x20?\x202.0\x20:\x205.0;\x0a\x09\x09\x09else\x0a\x09\x09\x09\x09face\x20=\x20direction.y\x20>\x200.0\x20?\x201.0\x20:\x204.0;\x0a\x09\x09}\x0a\x09\x09return\x20face;\x0a\x09}\x0a\x09vec2\x20getUV(\x20vec3\x20direction,\x20float\x20face\x20)\x20{\x0a\x09\x09vec2\x20uv;\x0a\x09\x09if\x20(\x20face\x20==\x200.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20direction.z,\x20direction.y\x20)\x20/\x20abs(\x20direction.x\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x201.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20-\x20direction.z\x20)\x20/\x20abs(\x20direction.y\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x202.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20direction.y\x20)\x20/\x20abs(\x20direction.z\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x203.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.z,\x20direction.y\x20)\x20/\x20abs(\x20direction.x\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x204.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20direction.z\x20)\x20/\x20abs(\x20direction.y\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20direction.x,\x20direction.y\x20)\x20/\x20abs(\x20direction.z\x20);\x0a\x09\x09}\x0a\x09\x09return\x200.5\x20*\x20(\x20uv\x20+\x201.0\x20);\x0a\x09}\x0a\x09vec3\x20bilinearCubeUV(\x20sampler2D\x20envMap,\x20vec3\x20direction,\x20float\x20mipInt\x20)\x20{\x0a\x09\x09float\x20face\x20=\x20getFace(\x20direction\x20);\x0a\x09\x09float\x20filterInt\x20=\x20max(\x20cubeUV_minMipLevel\x20-\x20mipInt,\x200.0\x20);\x0a\x09\x09mipInt\x20=\x20max(\x20mipInt,\x20cubeUV_minMipLevel\x20);\x0a\x09\x09float\x20faceSize\x20=\x20exp2(\x20mipInt\x20);\x0a\x09\x09highp\x20vec2\x20uv\x20=\x20getUV(\x20direction,\x20face\x20)\x20*\x20(\x20faceSize\x20-\x202.0\x20)\x20+\x201.0;\x0a\x09\x09if\x20(\x20face\x20>\x202.0\x20)\x20{\x0a\x09\x09\x09uv.y\x20+=\x20faceSize;\x0a\x09\x09\x09face\x20-=\x203.0;\x0a\x09\x09}\x0a\x09\x09uv.x\x20+=\x20face\x20*\x20faceSize;\x0a\x09\x09uv.x\x20+=\x20filterInt\x20*\x203.0\x20*\x20cubeUV_minTileSize;\x0a\x09\x09uv.y\x20+=\x204.0\x20*\x20(\x20exp2(\x20CUBEUV_MAX_MIP\x20)\x20-\x20faceSize\x20);\x0a\x09\x09uv.x\x20*=\x20CUBEUV_TEXEL_WIDTH;\x0a\x09\x09uv.y\x20*=\x20CUBEUV_TEXEL_HEIGHT;\x0a\x09\x09#ifdef\x20texture2DGradEXT\x0a\x09\x09\x09return\x20texture2DGradEXT(\x20envMap,\x20uv,\x20vec2(\x200.0\x20),\x20vec2(\x200.0\x20)\x20).rgb;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20texture2D(\x20envMap,\x20uv\x20).rgb;\x0a\x09\x09#endif\x0a\x09}\x0a\x09#define\x20cubeUV_r0\x201.0\x0a\x09#define\x20cubeUV_m0\x20-\x202.0\x0a\x09#define\x20cubeUV_r1\x200.8\x0a\x09#define\x20cubeUV_m1\x20-\x201.0\x0a\x09#define\x20cubeUV_r4\x200.4\x0a\x09#define\x20cubeUV_m4\x202.0\x0a\x09#define\x20cubeUV_r5\x200.305\x0a\x09#define\x20cubeUV_m5\x203.0\x0a\x09#define\x20cubeUV_r6\x200.21\x0a\x09#define\x20cubeUV_m6\x204.0\x0a\x09float\x20roughnessToMip(\x20float\x20roughness\x20)\x20{\x0a\x09\x09float\x20mip\x20=\x200.0;\x0a\x09\x09if\x20(\x20roughness\x20>=\x20cubeUV_r1\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r0\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m1\x20-\x20cubeUV_m0\x20)\x20/\x20(\x20cubeUV_r0\x20-\x20cubeUV_r1\x20)\x20+\x20cubeUV_m0;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r4\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r1\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m4\x20-\x20cubeUV_m1\x20)\x20/\x20(\x20cubeUV_r1\x20-\x20cubeUV_r4\x20)\x20+\x20cubeUV_m1;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r5\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r4\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m5\x20-\x20cubeUV_m4\x20)\x20/\x20(\x20cubeUV_r4\x20-\x20cubeUV_r5\x20)\x20+\x20cubeUV_m4;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r6\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r5\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m6\x20-\x20cubeUV_m5\x20)\x20/\x20(\x20cubeUV_r5\x20-\x20cubeUV_r6\x20)\x20+\x20cubeUV_m5;\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09mip\x20=\x20-\x202.0\x20*\x20log2(\x201.16\x20*\x20roughness\x20);\x09\x09}\x0a\x09\x09return\x20mip;\x0a\x09}\x0a\x09vec4\x20textureCubeUV(\x20sampler2D\x20envMap,\x20vec3\x20sampleDir,\x20float\x20roughness\x20)\x20{\x0a\x09\x09float\x20mip\x20=\x20clamp(\x20roughnessToMip(\x20roughness\x20),\x20cubeUV_m0,\x20CUBEUV_MAX_MIP\x20);\x0a\x09\x09float\x20mipF\x20=\x20fract(\x20mip\x20);\x0a\x09\x09float\x20mipInt\x20=\x20floor(\x20mip\x20);\x0a\x09\x09vec3\x20color0\x20=\x20bilinearCubeUV(\x20envMap,\x20sampleDir,\x20mipInt\x20);\x0a\x09\x09if\x20(\x20mipF\x20==\x200.0\x20)\x20{\x0a\x09\x09\x09return\x20vec4(\x20color0,\x201.0\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09vec3\x20color1\x20=\x20bilinearCubeUV(\x20envMap,\x20sampleDir,\x20mipInt\x20+\x201.0\x20);\x0a\x09\x09\x09return\x20vec4(\x20mix(\x20color0,\x20color1,\x20mipF\x20),\x201.0\x20);\x0a\x09\x09}\x0a\x09}\x0a#endif','defaultnormal_vertex':'vec3\x20transformedNormal\x20=\x20objectNormal;\x0a#ifdef\x20USE_TANGENT\x0a\x09vec3\x20transformedTangent\x20=\x20objectTangent;\x0a#endif\x0a#ifdef\x20USE_BATCHING\x0a\x09mat3\x20bm\x20=\x20mat3(\x20batchingMatrix\x20);\x0a\x09transformedNormal\x20/=\x20vec3(\x20dot(\x20bm[\x200\x20],\x20bm[\x200\x20]\x20),\x20dot(\x20bm[\x201\x20],\x20bm[\x201\x20]\x20),\x20dot(\x20bm[\x202\x20],\x20bm[\x202\x20]\x20)\x20);\x0a\x09transformedNormal\x20=\x20bm\x20*\x20transformedNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09transformedTangent\x20=\x20bm\x20*\x20transformedTangent;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_INSTANCING\x0a\x09mat3\x20im\x20=\x20mat3(\x20instanceMatrix\x20);\x0a\x09transformedNormal\x20/=\x20vec3(\x20dot(\x20im[\x200\x20],\x20im[\x200\x20]\x20),\x20dot(\x20im[\x201\x20],\x20im[\x201\x20]\x20),\x20dot(\x20im[\x202\x20],\x20im[\x202\x20]\x20)\x20);\x0a\x09transformedNormal\x20=\x20im\x20*\x20transformedNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09transformedTangent\x20=\x20im\x20*\x20transformedTangent;\x0a\x09#endif\x0a#endif\x0atransformedNormal\x20=\x20normalMatrix\x20*\x20transformedNormal;\x0a#ifdef\x20FLIP_SIDED\x0a\x09transformedNormal\x20=\x20-\x20transformedNormal;\x0a#endif\x0a#ifdef\x20USE_TANGENT\x0a\x09transformedTangent\x20=\x20(\x20modelViewMatrix\x20*\x20vec4(\x20transformedTangent,\x200.0\x20)\x20).xyz;\x0a\x09#ifdef\x20FLIP_SIDED\x0a\x09\x09transformedTangent\x20=\x20-\x20transformedTangent;\x0a\x09#endif\x0a#endif','displacementmap_pars_vertex':'#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09uniform\x20sampler2D\x20displacementMap;\x0a\x09uniform\x20float\x20displacementScale;\x0a\x09uniform\x20float\x20displacementBias;\x0a#endif','displacementmap_vertex':'#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09transformed\x20+=\x20normalize(\x20objectNormal\x20)\x20*\x20(\x20texture2D(\x20displacementMap,\x20vDisplacementMapUv\x20).x\x20*\x20displacementScale\x20+\x20displacementBias\x20);\x0a#endif','emissivemap_fragment':'#ifdef\x20USE_EMISSIVEMAP\x0a\x09vec4\x20emissiveColor\x20=\x20texture2D(\x20emissiveMap,\x20vEmissiveMapUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE_EMISSIVE\x0a\x09\x09emissiveColor\x20=\x20sRGBTransferEOTF(\x20emissiveColor\x20);\x0a\x09#endif\x0a\x09totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a#endif','emissivemap_pars_fragment':'#ifdef\x20USE_EMISSIVEMAP\x0a\x09uniform\x20sampler2D\x20emissiveMap;\x0a#endif','colorspace_fragment':'gl_FragColor\x20=\x20linearToOutputTexel(\x20gl_FragColor\x20);','colorspace_pars_fragment':'vec4\x20LinearTransferOETF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20value;\x0a}\x0avec4\x20sRGBTransferEOTF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20vec4(\x20mix(\x20pow(\x20value.rgb\x20*\x200.9478672986\x20+\x20vec3(\x200.0521327014\x20),\x20vec3(\x202.4\x20)\x20),\x20value.rgb\x20*\x200.0773993808,\x20vec3(\x20lessThanEqual(\x20value.rgb,\x20vec3(\x200.04045\x20)\x20)\x20)\x20),\x20value.a\x20);\x0a}\x0avec4\x20sRGBTransferOETF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20vec4(\x20mix(\x20pow(\x20value.rgb,\x20vec3(\x200.41666\x20)\x20)\x20*\x201.055\x20-\x20vec3(\x200.055\x20),\x20value.rgb\x20*\x2012.92,\x20vec3(\x20lessThanEqual(\x20value.rgb,\x20vec3(\x200.0031308\x20)\x20)\x20)\x20),\x20value.a\x20);\x0a}','envmap_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09vec3\x20cameraToFrag;\x0a\x09\x09if\x20(\x20isOrthographic\x20)\x20{\x0a\x09\x09\x09cameraToFrag\x20=\x20normalize(\x20vec3(\x20-\x20viewMatrix[\x200\x20][\x202\x20],\x20-\x20viewMatrix[\x201\x20][\x202\x20],\x20-\x20viewMatrix[\x202\x20][\x202\x20]\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09cameraToFrag\x20=\x20normalize(\x20vWorldPosition\x20-\x20cameraPosition\x20);\x0a\x09\x09}\x0a\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09\x09#ifdef\x20ENVMAP_MODE_REFLECTION\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20reflect(\x20cameraToFrag,\x20worldNormal\x20);\x0a\x09\x09#else\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20refract(\x20cameraToFrag,\x20worldNormal,\x20refractionRatio\x20);\x0a\x09\x09#endif\x0a\x09#else\x0a\x09\x09vec3\x20reflectVec\x20=\x20vReflect;\x0a\x09#endif\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09vec4\x20envColor\x20=\x20textureCube(\x20envMap,\x20envMapRotation\x20*\x20vec3(\x20flipEnvMap\x20*\x20reflectVec.x,\x20reflectVec.yz\x20)\x20);\x0a\x09#else\x0a\x09\x09vec4\x20envColor\x20=\x20vec4(\x200.0\x20);\x0a\x09#endif\x0a\x09#ifdef\x20ENVMAP_BLENDING_MULTIPLY\x0a\x09\x09outgoingLight\x20=\x20mix(\x20outgoingLight,\x20outgoingLight\x20*\x20envColor.xyz,\x20specularStrength\x20*\x20reflectivity\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_BLENDING_MIX\x20)\x0a\x09\x09outgoingLight\x20=\x20mix(\x20outgoingLight,\x20envColor.xyz,\x20specularStrength\x20*\x20reflectivity\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_BLENDING_ADD\x20)\x0a\x09\x09outgoingLight\x20+=\x20envColor.xyz\x20*\x20specularStrength\x20*\x20reflectivity;\x0a\x09#endif\x0a#endif','envmap_common_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09uniform\x20float\x20envMapIntensity;\x0a\x09uniform\x20float\x20flipEnvMap;\x0a\x09uniform\x20mat3\x20envMapRotation;\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x09#else\x0a\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x09#endif\x0a\x09\x0a#endif','envmap_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09uniform\x20float\x20reflectivity;\x0a\x09#if\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP\x20)\x20||\x20defined(\x20PHONG\x20)\x20||\x20defined(\x20LAMBERT\x20)\x0a\x09\x09#define\x20ENV_WORLDPOS\x0a\x09#endif\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09varying\x20vec3\x20vWorldPosition;\x0a\x09\x09uniform\x20float\x20refractionRatio;\x0a\x09#else\x0a\x09\x09varying\x20vec3\x20vReflect;\x0a\x09#endif\x0a#endif','envmap_pars_vertex':'#ifdef\x20USE_ENVMAP\x0a\x09#if\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP\x20)\x20||\x20defined(\x20PHONG\x20)\x20||\x20defined(\x20LAMBERT\x20)\x0a\x09\x09#define\x20ENV_WORLDPOS\x0a\x09#endif\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09\x0a\x09\x09varying\x20vec3\x20vWorldPosition;\x0a\x09#else\x0a\x09\x09varying\x20vec3\x20vReflect;\x0a\x09\x09uniform\x20float\x20refractionRatio;\x0a\x09#endif\x0a#endif','envmap_physical_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09vec3\x20getIBLIrradiance(\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09\x09\x09vec4\x20envMapColor\x20=\x20textureCubeUV(\x20envMap,\x20envMapRotation\x20*\x20worldNormal,\x201.0\x20);\x0a\x09\x09\x09return\x20PI\x20*\x20envMapColor.rgb\x20*\x20envMapIntensity;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09#endif\x0a\x09}\x0a\x09vec3\x20getIBLRadiance(\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20reflect(\x20-\x20viewDir,\x20normal\x20);\x0a\x09\x09\x09reflectVec\x20=\x20normalize(\x20mix(\x20reflectVec,\x20normal,\x20roughness\x20*\x20roughness)\x20);\x0a\x09\x09\x09reflectVec\x20=\x20inverseTransformDirection(\x20reflectVec,\x20viewMatrix\x20);\x0a\x09\x09\x09vec4\x20envMapColor\x20=\x20textureCubeUV(\x20envMap,\x20envMapRotation\x20*\x20reflectVec,\x20roughness\x20);\x0a\x09\x09\x09return\x20envMapColor.rgb\x20*\x20envMapIntensity;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09#endif\x0a\x09}\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09vec3\x20getIBLAnisotropyRadiance(\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20vec3\x20bitangent,\x20const\x20in\x20float\x20anisotropy\x20)\x20{\x0a\x09\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09\x09vec3\x20bentNormal\x20=\x20cross(\x20bitangent,\x20viewDir\x20);\x0a\x09\x09\x09\x09bentNormal\x20=\x20normalize(\x20cross(\x20bentNormal,\x20bitangent\x20)\x20);\x0a\x09\x09\x09\x09bentNormal\x20=\x20normalize(\x20mix(\x20bentNormal,\x20normal,\x20pow2(\x20pow2(\x201.0\x20-\x20anisotropy\x20*\x20(\x201.0\x20-\x20roughness\x20)\x20)\x20)\x20)\x20);\x0a\x09\x09\x09\x09return\x20getIBLRadiance(\x20viewDir,\x20bentNormal,\x20roughness\x20);\x0a\x09\x09\x09#else\x0a\x09\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09\x09#endif\x0a\x09\x09}\x0a\x09#endif\x0a#endif','envmap_vertex':'#ifdef\x20USE_ENVMAP\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a\x09#else\x0a\x09\x09vec3\x20cameraToVertex;\x0a\x09\x09if\x20(\x20isOrthographic\x20)\x20{\x0a\x09\x09\x09cameraToVertex\x20=\x20normalize(\x20vec3(\x20-\x20viewMatrix[\x200\x20][\x202\x20],\x20-\x20viewMatrix[\x201\x20][\x202\x20],\x20-\x20viewMatrix[\x202\x20][\x202\x20]\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09cameraToVertex\x20=\x20normalize(\x20worldPosition.xyz\x20-\x20cameraPosition\x20);\x0a\x09\x09}\x0a\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20transformedNormal,\x20viewMatrix\x20);\x0a\x09\x09#ifdef\x20ENVMAP_MODE_REFLECTION\x0a\x09\x09\x09vReflect\x20=\x20reflect(\x20cameraToVertex,\x20worldNormal\x20);\x0a\x09\x09#else\x0a\x09\x09\x09vReflect\x20=\x20refract(\x20cameraToVertex,\x20worldNormal,\x20refractionRatio\x20);\x0a\x09\x09#endif\x0a\x09#endif\x0a#endif','fog_vertex':'#ifdef\x20USE_FOG\x0a\x09vFogDepth\x20=\x20-\x20mvPosition.z;\x0a#endif','fog_pars_vertex':'#ifdef\x20USE_FOG\x0a\x09varying\x20float\x20vFogDepth;\x0a#endif','fog_fragment':'#ifdef\x20USE_FOG\x0a\x09#ifdef\x20FOG_EXP2\x0a\x09\x09float\x20fogFactor\x20=\x201.0\x20-\x20exp(\x20-\x20fogDensity\x20*\x20fogDensity\x20*\x20vFogDepth\x20*\x20vFogDepth\x20);\x0a\x09#else\x0a\x09\x09float\x20fogFactor\x20=\x20smoothstep(\x20fogNear,\x20fogFar,\x20vFogDepth\x20);\x0a\x09#endif\x0a\x09gl_FragColor.rgb\x20=\x20mix(\x20gl_FragColor.rgb,\x20fogColor,\x20fogFactor\x20);\x0a#endif','fog_pars_fragment':'#ifdef\x20USE_FOG\x0a\x09uniform\x20vec3\x20fogColor;\x0a\x09varying\x20float\x20vFogDepth;\x0a\x09#ifdef\x20FOG_EXP2\x0a\x09\x09uniform\x20float\x20fogDensity;\x0a\x09#else\x0a\x09\x09uniform\x20float\x20fogNear;\x0a\x09\x09uniform\x20float\x20fogFar;\x0a\x09#endif\x0a#endif','gradientmap_pars_fragment':'#ifdef\x20USE_GRADIENTMAP\x0a\x09uniform\x20sampler2D\x20gradientMap;\x0a#endif\x0avec3\x20getGradientIrradiance(\x20vec3\x20normal,\x20vec3\x20lightDirection\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20dot(\x20normal,\x20lightDirection\x20);\x0a\x09vec2\x20coord\x20=\x20vec2(\x20dotNL\x20*\x200.5\x20+\x200.5,\x200.0\x20);\x0a\x09#ifdef\x20USE_GRADIENTMAP\x0a\x09\x09return\x20vec3(\x20texture2D(\x20gradientMap,\x20coord\x20).r\x20);\x0a\x09#else\x0a\x09\x09vec2\x20fw\x20=\x20fwidth(\x20coord\x20)\x20*\x200.5;\x0a\x09\x09return\x20mix(\x20vec3(\x200.7\x20),\x20vec3(\x201.0\x20),\x20smoothstep(\x200.7\x20-\x20fw.x,\x200.7\x20+\x20fw.x,\x20coord.x\x20)\x20);\x0a\x09#endif\x0a}','lightmap_pars_fragment':'#ifdef\x20USE_LIGHTMAP\x0a\x09uniform\x20sampler2D\x20lightMap;\x0a\x09uniform\x20float\x20lightMapIntensity;\x0a#endif','lights_lambert_fragment':'LambertMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;\x0amaterial.specularStrength\x20=\x20specularStrength;','lights_lambert_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20LambertMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09float\x20specularStrength;\x0a};\x0avoid\x20RE_Direct_Lambert(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20LambertMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Lambert(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20LambertMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Lambert\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Lambert','lights_pars_begin':'uniform\x20bool\x20receiveShadow;\x0auniform\x20vec3\x20ambientLightColor;\x0a#if\x20defined(\x20USE_LIGHT_PROBES\x20)\x0a\x09uniform\x20vec3\x20lightProbe[\x209\x20];\x0a#endif\x0avec3\x20shGetIrradianceAt(\x20in\x20vec3\x20normal,\x20in\x20vec3\x20shCoefficients[\x209\x20]\x20)\x20{\x0a\x09float\x20x\x20=\x20normal.x,\x20y\x20=\x20normal.y,\x20z\x20=\x20normal.z;\x0a\x09vec3\x20result\x20=\x20shCoefficients[\x200\x20]\x20*\x200.886227;\x0a\x09result\x20+=\x20shCoefficients[\x201\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20y;\x0a\x09result\x20+=\x20shCoefficients[\x202\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x203\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20x;\x0a\x09result\x20+=\x20shCoefficients[\x204\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20x\x20*\x20y;\x0a\x09result\x20+=\x20shCoefficients[\x205\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20y\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x206\x20]\x20*\x20(\x200.743125\x20*\x20z\x20*\x20z\x20-\x200.247708\x20);\x0a\x09result\x20+=\x20shCoefficients[\x207\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20x\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x208\x20]\x20*\x200.429043\x20*\x20(\x20x\x20*\x20x\x20-\x20y\x20*\x20y\x20);\x0a\x09return\x20result;\x0a}\x0avec3\x20getLightProbeIrradiance(\x20const\x20in\x20vec3\x20lightProbe[\x209\x20],\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09vec3\x20irradiance\x20=\x20shGetIrradianceAt(\x20worldNormal,\x20lightProbe\x20);\x0a\x09return\x20irradiance;\x0a}\x0avec3\x20getAmbientLightIrradiance(\x20const\x20in\x20vec3\x20ambientLightColor\x20)\x20{\x0a\x09vec3\x20irradiance\x20=\x20ambientLightColor;\x0a\x09return\x20irradiance;\x0a}\x0afloat\x20getDistanceAttenuation(\x20const\x20in\x20float\x20lightDistance,\x20const\x20in\x20float\x20cutoffDistance,\x20const\x20in\x20float\x20decayExponent\x20)\x20{\x0a\x09float\x20distanceFalloff\x20=\x201.0\x20/\x20max(\x20pow(\x20lightDistance,\x20decayExponent\x20),\x200.01\x20);\x0a\x09if\x20(\x20cutoffDistance\x20>\x200.0\x20)\x20{\x0a\x09\x09distanceFalloff\x20*=\x20pow2(\x20saturate(\x201.0\x20-\x20pow4(\x20lightDistance\x20/\x20cutoffDistance\x20)\x20)\x20);\x0a\x09}\x0a\x09return\x20distanceFalloff;\x0a}\x0afloat\x20getSpotAttenuation(\x20const\x20in\x20float\x20coneCosine,\x20const\x20in\x20float\x20penumbraCosine,\x20const\x20in\x20float\x20angleCosine\x20)\x20{\x0a\x09return\x20smoothstep(\x20coneCosine,\x20penumbraCosine,\x20angleCosine\x20);\x0a}\x0a#if\x20NUM_DIR_LIGHTS\x20>\x200\x0a\x09struct\x20DirectionalLight\x20{\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20color;\x0a\x09};\x0a\x09uniform\x20DirectionalLight\x20directionalLights[\x20NUM_DIR_LIGHTS\x20];\x0a\x09void\x20getDirectionalLightInfo(\x20const\x20in\x20DirectionalLight\x20directionalLight,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09light.color\x20=\x20directionalLight.color;\x0a\x09\x09light.direction\x20=\x20directionalLight.direction;\x0a\x09\x09light.visible\x20=\x20true;\x0a\x09}\x0a#endif\x0a#if\x20NUM_POINT_LIGHTS\x20>\x200\x0a\x09struct\x20PointLight\x20{\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20color;\x0a\x09\x09float\x20distance;\x0a\x09\x09float\x20decay;\x0a\x09};\x0a\x09uniform\x20PointLight\x20pointLights[\x20NUM_POINT_LIGHTS\x20];\x0a\x09void\x20getPointLightInfo(\x20const\x20in\x20PointLight\x20pointLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09vec3\x20lVector\x20=\x20pointLight.position\x20-\x20geometryPosition;\x0a\x09\x09light.direction\x20=\x20normalize(\x20lVector\x20);\x0a\x09\x09float\x20lightDistance\x20=\x20length(\x20lVector\x20);\x0a\x09\x09light.color\x20=\x20pointLight.color;\x0a\x09\x09light.color\x20*=\x20getDistanceAttenuation(\x20lightDistance,\x20pointLight.distance,\x20pointLight.decay\x20);\x0a\x09\x09light.visible\x20=\x20(\x20light.color\x20!=\x20vec3(\x200.0\x20)\x20);\x0a\x09}\x0a#endif\x0a#if\x20NUM_SPOT_LIGHTS\x20>\x200\x0a\x09struct\x20SpotLight\x20{\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20color;\x0a\x09\x09float\x20distance;\x0a\x09\x09float\x20decay;\x0a\x09\x09float\x20coneCos;\x0a\x09\x09float\x20penumbraCos;\x0a\x09};\x0a\x09uniform\x20SpotLight\x20spotLights[\x20NUM_SPOT_LIGHTS\x20];\x0a\x09void\x20getSpotLightInfo(\x20const\x20in\x20SpotLight\x20spotLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09vec3\x20lVector\x20=\x20spotLight.position\x20-\x20geometryPosition;\x0a\x09\x09light.direction\x20=\x20normalize(\x20lVector\x20);\x0a\x09\x09float\x20angleCos\x20=\x20dot(\x20light.direction,\x20spotLight.direction\x20);\x0a\x09\x09float\x20spotAttenuation\x20=\x20getSpotAttenuation(\x20spotLight.coneCos,\x20spotLight.penumbraCos,\x20angleCos\x20);\x0a\x09\x09if\x20(\x20spotAttenuation\x20>\x200.0\x20)\x20{\x0a\x09\x09\x09float\x20lightDistance\x20=\x20length(\x20lVector\x20);\x0a\x09\x09\x09light.color\x20=\x20spotLight.color\x20*\x20spotAttenuation;\x0a\x09\x09\x09light.color\x20*=\x20getDistanceAttenuation(\x20lightDistance,\x20spotLight.distance,\x20spotLight.decay\x20);\x0a\x09\x09\x09light.visible\x20=\x20(\x20light.color\x20!=\x20vec3(\x200.0\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09light.color\x20=\x20vec3(\x200.0\x20);\x0a\x09\x09\x09light.visible\x20=\x20false;\x0a\x09\x09}\x0a\x09}\x0a#endif\x0a#if\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x0a\x09struct\x20RectAreaLight\x20{\x0a\x09\x09vec3\x20color;\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20halfWidth;\x0a\x09\x09vec3\x20halfHeight;\x0a\x09};\x0a\x09uniform\x20sampler2D\x20ltc_1;\x09uniform\x20sampler2D\x20ltc_2;\x0a\x09uniform\x20RectAreaLight\x20rectAreaLights[\x20NUM_RECT_AREA_LIGHTS\x20];\x0a#endif\x0a#if\x20NUM_HEMI_LIGHTS\x20>\x200\x0a\x09struct\x20HemisphereLight\x20{\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20skyColor;\x0a\x09\x09vec3\x20groundColor;\x0a\x09};\x0a\x09uniform\x20HemisphereLight\x20hemisphereLights[\x20NUM_HEMI_LIGHTS\x20];\x0a\x09vec3\x20getHemisphereLightIrradiance(\x20const\x20in\x20HemisphereLight\x20hemiLight,\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09\x09float\x20dotNL\x20=\x20dot(\x20normal,\x20hemiLight.direction\x20);\x0a\x09\x09float\x20hemiDiffuseWeight\x20=\x200.5\x20*\x20dotNL\x20+\x200.5;\x0a\x09\x09vec3\x20irradiance\x20=\x20mix(\x20hemiLight.groundColor,\x20hemiLight.skyColor,\x20hemiDiffuseWeight\x20);\x0a\x09\x09return\x20irradiance;\x0a\x09}\x0a#endif','lights_toon_fragment':'ToonMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;','lights_toon_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20ToonMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a};\x0avoid\x20RE_Direct_Toon(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20ToonMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09vec3\x20irradiance\x20=\x20getGradientIrradiance(\x20geometryNormal,\x20directLight.direction\x20)\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Toon(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20ToonMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Toon\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Toon','lights_phong_fragment':'BlinnPhongMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;\x0amaterial.specularColor\x20=\x20specular;\x0amaterial.specularShininess\x20=\x20shininess;\x0amaterial.specularStrength\x20=\x20specularStrength;','lights_phong_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20BlinnPhongMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09vec3\x20specularColor;\x0a\x09float\x20specularShininess;\x0a\x09float\x20specularStrength;\x0a};\x0avoid\x20RE_Direct_BlinnPhong(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20BlinnPhongMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a\x09reflectedLight.directSpecular\x20+=\x20irradiance\x20*\x20BRDF_BlinnPhong(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material.specularColor,\x20material.specularShininess\x20)\x20*\x20material.specularStrength;\x0a}\x0avoid\x20RE_IndirectDiffuse_BlinnPhong(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20BlinnPhongMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_BlinnPhong\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_BlinnPhong','lights_physical_fragment':'PhysicalMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb\x20*\x20(\x201.0\x20-\x20metalnessFactor\x20);\x0avec3\x20dxy\x20=\x20max(\x20abs(\x20dFdx(\x20nonPerturbedNormal\x20)\x20),\x20abs(\x20dFdy(\x20nonPerturbedNormal\x20)\x20)\x20);\x0afloat\x20geometryRoughness\x20=\x20max(\x20max(\x20dxy.x,\x20dxy.y\x20),\x20dxy.z\x20);\x0amaterial.roughness\x20=\x20max(\x20roughnessFactor,\x200.0525\x20);material.roughness\x20+=\x20geometryRoughness;\x0amaterial.roughness\x20=\x20min(\x20material.roughness,\x201.0\x20);\x0a#ifdef\x20IOR\x0a\x09material.ior\x20=\x20ior;\x0a\x09#ifdef\x20USE_SPECULAR\x0a\x09\x09float\x20specularIntensityFactor\x20=\x20specularIntensity;\x0a\x09\x09vec3\x20specularColorFactor\x20=\x20specularColor;\x0a\x09\x09#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09\x09\x09specularColorFactor\x20*=\x20texture2D(\x20specularColorMap,\x20vSpecularColorMapUv\x20).rgb;\x0a\x09\x09#endif\x0a\x09\x09#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09\x09\x09specularIntensityFactor\x20*=\x20texture2D(\x20specularIntensityMap,\x20vSpecularIntensityMapUv\x20).a;\x0a\x09\x09#endif\x0a\x09\x09material.specularF90\x20=\x20mix(\x20specularIntensityFactor,\x201.0,\x20metalnessFactor\x20);\x0a\x09#else\x0a\x09\x09float\x20specularIntensityFactor\x20=\x201.0;\x0a\x09\x09vec3\x20specularColorFactor\x20=\x20vec3(\x201.0\x20);\x0a\x09\x09material.specularF90\x20=\x201.0;\x0a\x09#endif\x0a\x09material.specularColor\x20=\x20mix(\x20min(\x20pow2(\x20(\x20material.ior\x20-\x201.0\x20)\x20/\x20(\x20material.ior\x20+\x201.0\x20)\x20)\x20*\x20specularColorFactor,\x20vec3(\x201.0\x20)\x20)\x20*\x20specularIntensityFactor,\x20diffuseColor.rgb,\x20metalnessFactor\x20);\x0a#else\x0a\x09material.specularColor\x20=\x20mix(\x20vec3(\x200.04\x20),\x20diffuseColor.rgb,\x20metalnessFactor\x20);\x0a\x09material.specularF90\x20=\x201.0;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09material.clearcoat\x20=\x20clearcoat;\x0a\x09material.clearcoatRoughness\x20=\x20clearcoatRoughness;\x0a\x09material.clearcoatF0\x20=\x20vec3(\x200.04\x20);\x0a\x09material.clearcoatF90\x20=\x201.0;\x0a\x09#ifdef\x20USE_CLEARCOATMAP\x0a\x09\x09material.clearcoat\x20*=\x20texture2D(\x20clearcoatMap,\x20vClearcoatMapUv\x20).x;\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09\x09material.clearcoatRoughness\x20*=\x20texture2D(\x20clearcoatRoughnessMap,\x20vClearcoatRoughnessMapUv\x20).y;\x0a\x09#endif\x0a\x09material.clearcoat\x20=\x20saturate(\x20material.clearcoat\x20);\x09material.clearcoatRoughness\x20=\x20max(\x20material.clearcoatRoughness,\x200.0525\x20);\x0a\x09material.clearcoatRoughness\x20+=\x20geometryRoughness;\x0a\x09material.clearcoatRoughness\x20=\x20min(\x20material.clearcoatRoughness,\x201.0\x20);\x0a#endif\x0a#ifdef\x20USE_DISPERSION\x0a\x09material.dispersion\x20=\x20dispersion;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09material.iridescence\x20=\x20iridescence;\x0a\x09material.iridescenceIOR\x20=\x20iridescenceIOR;\x0a\x09#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09\x09material.iridescence\x20*=\x20texture2D(\x20iridescenceMap,\x20vIridescenceMapUv\x20).r;\x0a\x09#endif\x0a\x09#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09\x09material.iridescenceThickness\x20=\x20(iridescenceThicknessMaximum\x20-\x20iridescenceThicknessMinimum)\x20*\x20texture2D(\x20iridescenceThicknessMap,\x20vIridescenceThicknessMapUv\x20).g\x20+\x20iridescenceThicknessMinimum;\x0a\x09#else\x0a\x09\x09material.iridescenceThickness\x20=\x20iridescenceThicknessMaximum;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_SHEEN\x0a\x09material.sheenColor\x20=\x20sheenColor;\x0a\x09#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09\x09material.sheenColor\x20*=\x20texture2D(\x20sheenColorMap,\x20vSheenColorMapUv\x20).rgb;\x0a\x09#endif\x0a\x09material.sheenRoughness\x20=\x20clamp(\x20sheenRoughness,\x200.07,\x201.0\x20);\x0a\x09#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09\x09material.sheenRoughness\x20*=\x20texture2D(\x20sheenRoughnessMap,\x20vSheenRoughnessMapUv\x20).a;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09#ifdef\x20USE_ANISOTROPYMAP\x0a\x09\x09mat2\x20anisotropyMat\x20=\x20mat2(\x20anisotropyVector.x,\x20anisotropyVector.y,\x20-\x20anisotropyVector.y,\x20anisotropyVector.x\x20);\x0a\x09\x09vec3\x20anisotropyPolar\x20=\x20texture2D(\x20anisotropyMap,\x20vAnisotropyMapUv\x20).rgb;\x0a\x09\x09vec2\x20anisotropyV\x20=\x20anisotropyMat\x20*\x20normalize(\x202.0\x20*\x20anisotropyPolar.rg\x20-\x20vec2(\x201.0\x20)\x20)\x20*\x20anisotropyPolar.b;\x0a\x09#else\x0a\x09\x09vec2\x20anisotropyV\x20=\x20anisotropyVector;\x0a\x09#endif\x0a\x09material.anisotropy\x20=\x20length(\x20anisotropyV\x20);\x0a\x09if(\x20material.anisotropy\x20==\x200.0\x20)\x20{\x0a\x09\x09anisotropyV\x20=\x20vec2(\x201.0,\x200.0\x20);\x0a\x09}\x20else\x20{\x0a\x09\x09anisotropyV\x20/=\x20material.anisotropy;\x0a\x09\x09material.anisotropy\x20=\x20saturate(\x20material.anisotropy\x20);\x0a\x09}\x0a\x09material.alphaT\x20=\x20mix(\x20pow2(\x20material.roughness\x20),\x201.0,\x20pow2(\x20material.anisotropy\x20)\x20);\x0a\x09material.anisotropyT\x20=\x20tbn[\x200\x20]\x20*\x20anisotropyV.x\x20+\x20tbn[\x201\x20]\x20*\x20anisotropyV.y;\x0a\x09material.anisotropyB\x20=\x20tbn[\x201\x20]\x20*\x20anisotropyV.x\x20-\x20tbn[\x200\x20]\x20*\x20anisotropyV.y;\x0a#endif','lights_physical_pars_fragment':'struct\x20PhysicalMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09float\x20roughness;\x0a\x09vec3\x20specularColor;\x0a\x09float\x20specularF90;\x0a\x09float\x20dispersion;\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20clearcoat;\x0a\x09\x09float\x20clearcoatRoughness;\x0a\x09\x09vec3\x20clearcoatF0;\x0a\x09\x09float\x20clearcoatF90;\x0a\x09#endif\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09float\x20iridescence;\x0a\x09\x09float\x20iridescenceIOR;\x0a\x09\x09float\x20iridescenceThickness;\x0a\x09\x09vec3\x20iridescenceFresnel;\x0a\x09\x09vec3\x20iridescenceF0;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09vec3\x20sheenColor;\x0a\x09\x09float\x20sheenRoughness;\x0a\x09#endif\x0a\x09#ifdef\x20IOR\x0a\x09\x09float\x20ior;\x0a\x09#endif\x0a\x09#ifdef\x20USE_TRANSMISSION\x0a\x09\x09float\x20transmission;\x0a\x09\x09float\x20transmissionAlpha;\x0a\x09\x09float\x20thickness;\x0a\x09\x09float\x20attenuationDistance;\x0a\x09\x09vec3\x20attenuationColor;\x0a\x09#endif\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09float\x20anisotropy;\x0a\x09\x09float\x20alphaT;\x0a\x09\x09vec3\x20anisotropyT;\x0a\x09\x09vec3\x20anisotropyB;\x0a\x09#endif\x0a};\x0avec3\x20clearcoatSpecularDirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20clearcoatSpecularIndirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20sheenSpecularDirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20sheenSpecularIndirect\x20=\x20vec3(0.0\x20);\x0avec3\x20Schlick_to_F0(\x20const\x20in\x20vec3\x20f,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x20\x20\x20\x20float\x20x\x20=\x20clamp(\x201.0\x20-\x20dotVH,\x200.0,\x201.0\x20);\x0a\x20\x20\x20\x20float\x20x2\x20=\x20x\x20*\x20x;\x0a\x20\x20\x20\x20float\x20x5\x20=\x20clamp(\x20x\x20*\x20x2\x20*\x20x2,\x200.0,\x200.9999\x20);\x0a\x20\x20\x20\x20return\x20(\x20f\x20-\x20vec3(\x20f90\x20)\x20*\x20x5\x20)\x20/\x20(\x201.0\x20-\x20x5\x20);\x0a}\x0afloat\x20V_GGX_SmithCorrelated(\x20const\x20in\x20float\x20alpha,\x20const\x20in\x20float\x20dotNL,\x20const\x20in\x20float\x20dotNV\x20)\x20{\x0a\x09float\x20a2\x20=\x20pow2(\x20alpha\x20);\x0a\x09float\x20gv\x20=\x20dotNL\x20*\x20sqrt(\x20a2\x20+\x20(\x201.0\x20-\x20a2\x20)\x20*\x20pow2(\x20dotNV\x20)\x20);\x0a\x09float\x20gl\x20=\x20dotNV\x20*\x20sqrt(\x20a2\x20+\x20(\x201.0\x20-\x20a2\x20)\x20*\x20pow2(\x20dotNL\x20)\x20);\x0a\x09return\x200.5\x20/\x20max(\x20gv\x20+\x20gl,\x20EPSILON\x20);\x0a}\x0afloat\x20D_GGX(\x20const\x20in\x20float\x20alpha,\x20const\x20in\x20float\x20dotNH\x20)\x20{\x0a\x09float\x20a2\x20=\x20pow2(\x20alpha\x20);\x0a\x09float\x20denom\x20=\x20pow2(\x20dotNH\x20)\x20*\x20(\x20a2\x20-\x201.0\x20)\x20+\x201.0;\x0a\x09return\x20RECIPROCAL_PI\x20*\x20a2\x20/\x20pow2(\x20denom\x20);\x0a}\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09float\x20V_GGX_SmithCorrelated_Anisotropic(\x20const\x20in\x20float\x20alphaT,\x20const\x20in\x20float\x20alphaB,\x20const\x20in\x20float\x20dotTV,\x20const\x20in\x20float\x20dotBV,\x20const\x20in\x20float\x20dotTL,\x20const\x20in\x20float\x20dotBL,\x20const\x20in\x20float\x20dotNV,\x20const\x20in\x20float\x20dotNL\x20)\x20{\x0a\x09\x09float\x20gv\x20=\x20dotNL\x20*\x20length(\x20vec3(\x20alphaT\x20*\x20dotTV,\x20alphaB\x20*\x20dotBV,\x20dotNV\x20)\x20);\x0a\x09\x09float\x20gl\x20=\x20dotNV\x20*\x20length(\x20vec3(\x20alphaT\x20*\x20dotTL,\x20alphaB\x20*\x20dotBL,\x20dotNL\x20)\x20);\x0a\x09\x09float\x20v\x20=\x200.5\x20/\x20(\x20gv\x20+\x20gl\x20);\x0a\x09\x09return\x20saturate(v);\x0a\x09}\x0a\x09float\x20D_GGX_Anisotropic(\x20const\x20in\x20float\x20alphaT,\x20const\x20in\x20float\x20alphaB,\x20const\x20in\x20float\x20dotNH,\x20const\x20in\x20float\x20dotTH,\x20const\x20in\x20float\x20dotBH\x20)\x20{\x0a\x09\x09float\x20a2\x20=\x20alphaT\x20*\x20alphaB;\x0a\x09\x09highp\x20vec3\x20v\x20=\x20vec3(\x20alphaB\x20*\x20dotTH,\x20alphaT\x20*\x20dotBH,\x20a2\x20*\x20dotNH\x20);\x0a\x09\x09highp\x20float\x20v2\x20=\x20dot(\x20v,\x20v\x20);\x0a\x09\x09float\x20w2\x20=\x20a2\x20/\x20v2;\x0a\x09\x09return\x20RECIPROCAL_PI\x20*\x20a2\x20*\x20pow2\x20(\x20w2\x20);\x0a\x09}\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09vec3\x20BRDF_GGX_Clearcoat(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20PhysicalMaterial\x20material)\x20{\x0a\x09\x09vec3\x20f0\x20=\x20material.clearcoatF0;\x0a\x09\x09float\x20f90\x20=\x20material.clearcoatF90;\x0a\x09\x09float\x20roughness\x20=\x20material.clearcoatRoughness;\x0a\x09\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09\x09vec3\x20F\x20=\x20F_Schlick(\x20f0,\x20f90,\x20dotVH\x20);\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated(\x20alpha,\x20dotNL,\x20dotNV\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX(\x20alpha,\x20dotNH\x20);\x0a\x09\x09return\x20F\x20*\x20(\x20V\x20*\x20D\x20);\x0a\x09}\x0a#endif\x0avec3\x20BRDF_GGX(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20PhysicalMaterial\x20material\x20)\x20{\x0a\x09vec3\x20f0\x20=\x20material.specularColor;\x0a\x09float\x20f90\x20=\x20material.specularF90;\x0a\x09float\x20roughness\x20=\x20material.roughness;\x0a\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09vec3\x20F\x20=\x20F_Schlick(\x20f0,\x20f90,\x20dotVH\x20);\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09F\x20=\x20mix(\x20F,\x20material.iridescenceFresnel,\x20material.iridescence\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09float\x20dotTL\x20=\x20dot(\x20material.anisotropyT,\x20lightDir\x20);\x0a\x09\x09float\x20dotTV\x20=\x20dot(\x20material.anisotropyT,\x20viewDir\x20);\x0a\x09\x09float\x20dotTH\x20=\x20dot(\x20material.anisotropyT,\x20halfDir\x20);\x0a\x09\x09float\x20dotBL\x20=\x20dot(\x20material.anisotropyB,\x20lightDir\x20);\x0a\x09\x09float\x20dotBV\x20=\x20dot(\x20material.anisotropyB,\x20viewDir\x20);\x0a\x09\x09float\x20dotBH\x20=\x20dot(\x20material.anisotropyB,\x20halfDir\x20);\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated_Anisotropic(\x20material.alphaT,\x20alpha,\x20dotTV,\x20dotBV,\x20dotTL,\x20dotBL,\x20dotNV,\x20dotNL\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX_Anisotropic(\x20material.alphaT,\x20alpha,\x20dotNH,\x20dotTH,\x20dotBH\x20);\x0a\x09#else\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated(\x20alpha,\x20dotNL,\x20dotNV\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX(\x20alpha,\x20dotNH\x20);\x0a\x09#endif\x0a\x09return\x20F\x20*\x20(\x20V\x20*\x20D\x20);\x0a}\x0avec2\x20LTC_Uv(\x20const\x20in\x20vec3\x20N,\x20const\x20in\x20vec3\x20V,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09const\x20float\x20LUT_SIZE\x20=\x2064.0;\x0a\x09const\x20float\x20LUT_SCALE\x20=\x20(\x20LUT_SIZE\x20-\x201.0\x20)\x20/\x20LUT_SIZE;\x0a\x09const\x20float\x20LUT_BIAS\x20=\x200.5\x20/\x20LUT_SIZE;\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20N,\x20V\x20)\x20);\x0a\x09vec2\x20uv\x20=\x20vec2(\x20roughness,\x20sqrt(\x201.0\x20-\x20dotNV\x20)\x20);\x0a\x09uv\x20=\x20uv\x20*\x20LUT_SCALE\x20+\x20LUT_BIAS;\x0a\x09return\x20uv;\x0a}\x0afloat\x20LTC_ClippedSphereFormFactor(\x20const\x20in\x20vec3\x20f\x20)\x20{\x0a\x09float\x20l\x20=\x20length(\x20f\x20);\x0a\x09return\x20max(\x20(\x20l\x20*\x20l\x20+\x20f.z\x20)\x20/\x20(\x20l\x20+\x201.0\x20),\x200.0\x20);\x0a}\x0avec3\x20LTC_EdgeVectorFormFactor(\x20const\x20in\x20vec3\x20v1,\x20const\x20in\x20vec3\x20v2\x20)\x20{\x0a\x09float\x20x\x20=\x20dot(\x20v1,\x20v2\x20);\x0a\x09float\x20y\x20=\x20abs(\x20x\x20);\x0a\x09float\x20a\x20=\x200.8543985\x20+\x20(\x200.4965155\x20+\x200.0145206\x20*\x20y\x20)\x20*\x20y;\x0a\x09float\x20b\x20=\x203.4175940\x20+\x20(\x204.1616724\x20+\x20y\x20)\x20*\x20y;\x0a\x09float\x20v\x20=\x20a\x20/\x20b;\x0a\x09float\x20theta_sintheta\x20=\x20(\x20x\x20>\x200.0\x20)\x20?\x20v\x20:\x200.5\x20*\x20inversesqrt(\x20max(\x201.0\x20-\x20x\x20*\x20x,\x201e-7\x20)\x20)\x20-\x20v;\x0a\x09return\x20cross(\x20v1,\x20v2\x20)\x20*\x20theta_sintheta;\x0a}\x0avec3\x20LTC_Evaluate(\x20const\x20in\x20vec3\x20N,\x20const\x20in\x20vec3\x20V,\x20const\x20in\x20vec3\x20P,\x20const\x20in\x20mat3\x20mInv,\x20const\x20in\x20vec3\x20rectCoords[\x204\x20]\x20)\x20{\x0a\x09vec3\x20v1\x20=\x20rectCoords[\x201\x20]\x20-\x20rectCoords[\x200\x20];\x0a\x09vec3\x20v2\x20=\x20rectCoords[\x203\x20]\x20-\x20rectCoords[\x200\x20];\x0a\x09vec3\x20lightNormal\x20=\x20cross(\x20v1,\x20v2\x20);\x0a\x09if(\x20dot(\x20lightNormal,\x20P\x20-\x20rectCoords[\x200\x20]\x20)\x20<\x200.0\x20)\x20return\x20vec3(\x200.0\x20);\x0a\x09vec3\x20T1,\x20T2;\x0a\x09T1\x20=\x20normalize(\x20V\x20-\x20N\x20*\x20dot(\x20V,\x20N\x20)\x20);\x0a\x09T2\x20=\x20-\x20cross(\x20N,\x20T1\x20);\x0a\x09mat3\x20mat\x20=\x20mInv\x20*\x20transposeMat3(\x20mat3(\x20T1,\x20T2,\x20N\x20)\x20);\x0a\x09vec3\x20coords[\x204\x20];\x0a\x09coords[\x200\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x200\x20]\x20-\x20P\x20);\x0a\x09coords[\x201\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x201\x20]\x20-\x20P\x20);\x0a\x09coords[\x202\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x202\x20]\x20-\x20P\x20);\x0a\x09coords[\x203\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x203\x20]\x20-\x20P\x20);\x0a\x09coords[\x200\x20]\x20=\x20normalize(\x20coords[\x200\x20]\x20);\x0a\x09coords[\x201\x20]\x20=\x20normalize(\x20coords[\x201\x20]\x20);\x0a\x09coords[\x202\x20]\x20=\x20normalize(\x20coords[\x202\x20]\x20);\x0a\x09coords[\x203\x20]\x20=\x20normalize(\x20coords[\x203\x20]\x20);\x0a\x09vec3\x20vectorFormFactor\x20=\x20vec3(\x200.0\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x200\x20],\x20coords[\x201\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x201\x20],\x20coords[\x202\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x202\x20],\x20coords[\x203\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x203\x20],\x20coords[\x200\x20]\x20);\x0a\x09float\x20result\x20=\x20LTC_ClippedSphereFormFactor(\x20vectorFormFactor\x20);\x0a\x09return\x20vec3(\x20result\x20);\x0a}\x0a#if\x20defined(\x20USE_SHEEN\x20)\x0afloat\x20D_Charlie(\x20float\x20roughness,\x20float\x20dotNH\x20)\x20{\x0a\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09float\x20invAlpha\x20=\x201.0\x20/\x20alpha;\x0a\x09float\x20cos2h\x20=\x20dotNH\x20*\x20dotNH;\x0a\x09float\x20sin2h\x20=\x20max(\x201.0\x20-\x20cos2h,\x200.0078125\x20);\x0a\x09return\x20(\x202.0\x20+\x20invAlpha\x20)\x20*\x20pow(\x20sin2h,\x20invAlpha\x20*\x200.5\x20)\x20/\x20(\x202.0\x20*\x20PI\x20);\x0a}\x0afloat\x20V_Neubelt(\x20float\x20dotNV,\x20float\x20dotNL\x20)\x20{\x0a\x09return\x20saturate(\x201.0\x20/\x20(\x204.0\x20*\x20(\x20dotNL\x20+\x20dotNV\x20-\x20dotNL\x20*\x20dotNV\x20)\x20)\x20);\x0a}\x0avec3\x20BRDF_Sheen(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20vec3\x20sheenColor,\x20const\x20in\x20float\x20sheenRoughness\x20)\x20{\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20D\x20=\x20D_Charlie(\x20sheenRoughness,\x20dotNH\x20);\x0a\x09float\x20V\x20=\x20V_Neubelt(\x20dotNV,\x20dotNL\x20);\x0a\x09return\x20sheenColor\x20*\x20(\x20D\x20*\x20V\x20);\x0a}\x0a#endif\x0afloat\x20IBLSheenBRDF(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20r2\x20=\x20roughness\x20*\x20roughness;\x0a\x09float\x20a\x20=\x20roughness\x20<\x200.25\x20?\x20-339.2\x20*\x20r2\x20+\x20161.4\x20*\x20roughness\x20-\x2025.9\x20:\x20-8.48\x20*\x20r2\x20+\x2014.3\x20*\x20roughness\x20-\x209.95;\x0a\x09float\x20b\x20=\x20roughness\x20<\x200.25\x20?\x2044.0\x20*\x20r2\x20-\x2023.7\x20*\x20roughness\x20+\x203.26\x20:\x201.97\x20*\x20r2\x20-\x203.27\x20*\x20roughness\x20+\x200.72;\x0a\x09float\x20DG\x20=\x20exp(\x20a\x20*\x20dotNV\x20+\x20b\x20)\x20+\x20(\x20roughness\x20<\x200.25\x20?\x200.0\x20:\x200.1\x20*\x20(\x20roughness\x20-\x200.25\x20)\x20);\x0a\x09return\x20saturate(\x20DG\x20*\x20RECIPROCAL_PI\x20);\x0a}\x0avec2\x20DFGApprox(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09const\x20vec4\x20c0\x20=\x20vec4(\x20-\x201,\x20-\x200.0275,\x20-\x200.572,\x200.022\x20);\x0a\x09const\x20vec4\x20c1\x20=\x20vec4(\x201,\x200.0425,\x201.04,\x20-\x200.04\x20);\x0a\x09vec4\x20r\x20=\x20roughness\x20*\x20c0\x20+\x20c1;\x0a\x09float\x20a004\x20=\x20min(\x20r.x\x20*\x20r.x,\x20exp2(\x20-\x209.28\x20*\x20dotNV\x20)\x20)\x20*\x20r.x\x20+\x20r.y;\x0a\x09vec2\x20fab\x20=\x20vec2(\x20-\x201.04,\x201.04\x20)\x20*\x20a004\x20+\x20r.zw;\x0a\x09return\x20fab;\x0a}\x0avec3\x20EnvironmentBRDF(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09vec2\x20fab\x20=\x20DFGApprox(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09return\x20specularColor\x20*\x20fab.x\x20+\x20specularF90\x20*\x20fab.y;\x0a}\x0a#ifdef\x20USE_IRIDESCENCE\x0avoid\x20computeMultiscatteringIridescence(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20iridescence,\x20const\x20in\x20vec3\x20iridescenceF0,\x20const\x20in\x20float\x20roughness,\x20inout\x20vec3\x20singleScatter,\x20inout\x20vec3\x20multiScatter\x20)\x20{\x0a#else\x0avoid\x20computeMultiscattering(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20roughness,\x20inout\x20vec3\x20singleScatter,\x20inout\x20vec3\x20multiScatter\x20)\x20{\x0a#endif\x0a\x09vec2\x20fab\x20=\x20DFGApprox(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09vec3\x20Fr\x20=\x20mix(\x20specularColor,\x20iridescenceF0,\x20iridescence\x20);\x0a\x09#else\x0a\x09\x09vec3\x20Fr\x20=\x20specularColor;\x0a\x09#endif\x0a\x09vec3\x20FssEss\x20=\x20Fr\x20*\x20fab.x\x20+\x20specularF90\x20*\x20fab.y;\x0a\x09float\x20Ess\x20=\x20fab.x\x20+\x20fab.y;\x0a\x09float\x20Ems\x20=\x201.0\x20-\x20Ess;\x0a\x09vec3\x20Favg\x20=\x20Fr\x20+\x20(\x201.0\x20-\x20Fr\x20)\x20*\x200.047619;\x09vec3\x20Fms\x20=\x20FssEss\x20*\x20Favg\x20/\x20(\x201.0\x20-\x20Ems\x20*\x20Favg\x20);\x0a\x09singleScatter\x20+=\x20FssEss;\x0a\x09multiScatter\x20+=\x20Fms\x20*\x20Ems;\x0a}\x0a#if\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x0a\x09void\x20RE_Direct_RectArea_Physical(\x20const\x20in\x20RectAreaLight\x20rectAreaLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09\x09vec3\x20normal\x20=\x20geometryNormal;\x0a\x09\x09vec3\x20viewDir\x20=\x20geometryViewDir;\x0a\x09\x09vec3\x20position\x20=\x20geometryPosition;\x0a\x09\x09vec3\x20lightPos\x20=\x20rectAreaLight.position;\x0a\x09\x09vec3\x20halfWidth\x20=\x20rectAreaLight.halfWidth;\x0a\x09\x09vec3\x20halfHeight\x20=\x20rectAreaLight.halfHeight;\x0a\x09\x09vec3\x20lightColor\x20=\x20rectAreaLight.color;\x0a\x09\x09float\x20roughness\x20=\x20material.roughness;\x0a\x09\x09vec3\x20rectCoords[\x204\x20];\x0a\x09\x09rectCoords[\x200\x20]\x20=\x20lightPos\x20+\x20halfWidth\x20-\x20halfHeight;\x09\x09rectCoords[\x201\x20]\x20=\x20lightPos\x20-\x20halfWidth\x20-\x20halfHeight;\x0a\x09\x09rectCoords[\x202\x20]\x20=\x20lightPos\x20-\x20halfWidth\x20+\x20halfHeight;\x0a\x09\x09rectCoords[\x203\x20]\x20=\x20lightPos\x20+\x20halfWidth\x20+\x20halfHeight;\x0a\x09\x09vec2\x20uv\x20=\x20LTC_Uv(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09\x09vec4\x20t1\x20=\x20texture2D(\x20ltc_1,\x20uv\x20);\x0a\x09\x09vec4\x20t2\x20=\x20texture2D(\x20ltc_2,\x20uv\x20);\x0a\x09\x09mat3\x20mInv\x20=\x20mat3(\x0a\x09\x09\x09vec3(\x20t1.x,\x200,\x20t1.y\x20),\x0a\x09\x09\x09vec3(\x20\x20\x20\x200,\x201,\x20\x20\x20\x200\x20),\x0a\x09\x09\x09vec3(\x20t1.z,\x200,\x20t1.w\x20)\x0a\x09\x09);\x0a\x09\x09vec3\x20fresnel\x20=\x20(\x20material.specularColor\x20*\x20t2.x\x20+\x20(\x20vec3(\x201.0\x20)\x20-\x20material.specularColor\x20)\x20*\x20t2.y\x20);\x0a\x09\x09reflectedLight.directSpecular\x20+=\x20lightColor\x20*\x20fresnel\x20*\x20LTC_Evaluate(\x20normal,\x20viewDir,\x20position,\x20mInv,\x20rectCoords\x20);\x0a\x09\x09reflectedLight.directDiffuse\x20+=\x20lightColor\x20*\x20material.diffuseColor\x20*\x20LTC_Evaluate(\x20normal,\x20viewDir,\x20position,\x20mat3(\x201.0\x20),\x20rectCoords\x20);\x0a\x09}\x0a#endif\x0avoid\x20RE_Direct_Physical(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20dotNLcc\x20=\x20saturate(\x20dot(\x20geometryClearcoatNormal,\x20directLight.direction\x20)\x20);\x0a\x09\x09vec3\x20ccIrradiance\x20=\x20dotNLcc\x20*\x20directLight.color;\x0a\x09\x09clearcoatSpecularDirect\x20+=\x20ccIrradiance\x20*\x20BRDF_GGX_Clearcoat(\x20directLight.direction,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09sheenSpecularDirect\x20+=\x20irradiance\x20*\x20BRDF_Sheen(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material.sheenColor,\x20material.sheenRoughness\x20);\x0a\x09#endif\x0a\x09reflectedLight.directSpecular\x20+=\x20irradiance\x20*\x20BRDF_GGX(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material\x20);\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Physical(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectSpecular_Physical(\x20const\x20in\x20vec3\x20radiance,\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20clearcoatRadiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight)\x20{\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09clearcoatSpecularIndirect\x20+=\x20clearcoatRadiance\x20*\x20EnvironmentBRDF(\x20geometryClearcoatNormal,\x20geometryViewDir,\x20material.clearcoatF0,\x20material.clearcoatF90,\x20material.clearcoatRoughness\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09sheenSpecularIndirect\x20+=\x20irradiance\x20*\x20material.sheenColor\x20*\x20IBLSheenBRDF(\x20geometryNormal,\x20geometryViewDir,\x20material.sheenRoughness\x20);\x0a\x09#endif\x0a\x09vec3\x20singleScattering\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20multiScattering\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20cosineWeightedIrradiance\x20=\x20irradiance\x20*\x20RECIPROCAL_PI;\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09computeMultiscatteringIridescence(\x20geometryNormal,\x20geometryViewDir,\x20material.specularColor,\x20material.specularF90,\x20material.iridescence,\x20material.iridescenceFresnel,\x20material.roughness,\x20singleScattering,\x20multiScattering\x20);\x0a\x09#else\x0a\x09\x09computeMultiscattering(\x20geometryNormal,\x20geometryViewDir,\x20material.specularColor,\x20material.specularF90,\x20material.roughness,\x20singleScattering,\x20multiScattering\x20);\x0a\x09#endif\x0a\x09vec3\x20totalScattering\x20=\x20singleScattering\x20+\x20multiScattering;\x0a\x09vec3\x20diffuse\x20=\x20material.diffuseColor\x20*\x20(\x201.0\x20-\x20max(\x20max(\x20totalScattering.r,\x20totalScattering.g\x20),\x20totalScattering.b\x20)\x20);\x0a\x09reflectedLight.indirectSpecular\x20+=\x20radiance\x20*\x20singleScattering;\x0a\x09reflectedLight.indirectSpecular\x20+=\x20multiScattering\x20*\x20cosineWeightedIrradiance;\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20diffuse\x20*\x20cosineWeightedIrradiance;\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Physical\x0a#define\x20RE_Direct_RectArea\x09\x09RE_Direct_RectArea_Physical\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Physical\x0a#define\x20RE_IndirectSpecular\x09\x09RE_IndirectSpecular_Physical\x0afloat\x20computeSpecularOcclusion(\x20const\x20in\x20float\x20dotNV,\x20const\x20in\x20float\x20ambientOcclusion,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09return\x20saturate(\x20pow(\x20dotNV\x20+\x20ambientOcclusion,\x20exp2(\x20-\x2016.0\x20*\x20roughness\x20-\x201.0\x20)\x20)\x20-\x201.0\x20+\x20ambientOcclusion\x20);\x0a}','lights_fragment_begin':'\x0avec3\x20geometryPosition\x20=\x20-\x20vViewPosition;\x0avec3\x20geometryNormal\x20=\x20normal;\x0avec3\x20geometryViewDir\x20=\x20(\x20isOrthographic\x20)\x20?\x20vec3(\x200,\x200,\x201\x20)\x20:\x20normalize(\x20vViewPosition\x20);\x0avec3\x20geometryClearcoatNormal\x20=\x20vec3(\x200.0\x20);\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09geometryClearcoatNormal\x20=\x20clearcoatNormal;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09float\x20dotNVi\x20=\x20saturate(\x20dot(\x20normal,\x20geometryViewDir\x20)\x20);\x0a\x09if\x20(\x20material.iridescenceThickness\x20==\x200.0\x20)\x20{\x0a\x09\x09material.iridescence\x20=\x200.0;\x0a\x09}\x20else\x20{\x0a\x09\x09material.iridescence\x20=\x20saturate(\x20material.iridescence\x20);\x0a\x09}\x0a\x09if\x20(\x20material.iridescence\x20>\x200.0\x20)\x20{\x0a\x09\x09material.iridescenceFresnel\x20=\x20evalIridescence(\x201.0,\x20material.iridescenceIOR,\x20dotNVi,\x20material.iridescenceThickness,\x20material.specularColor\x20);\x0a\x09\x09material.iridescenceF0\x20=\x20Schlick_to_F0(\x20material.iridescenceFresnel,\x201.0,\x20dotNVi\x20);\x0a\x09}\x0a#endif\x0aIncidentLight\x20directLight;\x0a#if\x20(\x20NUM_POINT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09PointLight\x20pointLight;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09PointLightShadow\x20pointLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09pointLight\x20=\x20pointLights[\x20i\x20];\x0a\x09\x09getPointLightInfo(\x20pointLight,\x20geometryPosition,\x20directLight\x20);\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_POINT_LIGHT_SHADOWS\x20)\x0a\x09\x09pointLightShadow\x20=\x20pointLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLightShadow.shadowMapSize,\x20pointLightShadow.shadowIntensity,\x20pointLightShadow.shadowBias,\x20pointLightShadow.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLightShadow.shadowCameraNear,\x20pointLightShadow.shadowCameraFar\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_SPOT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09SpotLight\x20spotLight;\x0a\x09vec4\x20spotColor;\x0a\x09vec3\x20spotLightCoord;\x0a\x09bool\x20inSpotLightMap;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09SpotLightShadow\x20spotLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09spotLight\x20=\x20spotLights[\x20i\x20];\x0a\x09\x09getSpotLightInfo(\x20spotLight,\x20geometryPosition,\x20directLight\x20);\x0a\x09\x09#if\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS\x20)\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20UNROLLED_LOOP_INDEX\x0a\x09\x09#elif\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20NUM_SPOT_LIGHT_MAPS\x0a\x09\x09#else\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20(\x20UNROLLED_LOOP_INDEX\x20-\x20NUM_SPOT_LIGHT_SHADOWS\x20+\x20NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS\x20)\x0a\x09\x09#endif\x0a\x09\x09#if\x20(\x20SPOT_LIGHT_MAP_INDEX\x20<\x20NUM_SPOT_LIGHT_MAPS\x20)\x0a\x09\x09\x09spotLightCoord\x20=\x20vSpotLightCoord[\x20i\x20].xyz\x20/\x20vSpotLightCoord[\x20i\x20].w;\x0a\x09\x09\x09inSpotLightMap\x20=\x20all(\x20lessThan(\x20abs(\x20spotLightCoord\x20*\x202.\x20-\x201.\x20),\x20vec3(\x201.0\x20)\x20)\x20);\x0a\x09\x09\x09spotColor\x20=\x20texture2D(\x20spotLightMap[\x20SPOT_LIGHT_MAP_INDEX\x20],\x20spotLightCoord.xy\x20);\x0a\x09\x09\x09directLight.color\x20=\x20inSpotLightMap\x20?\x20directLight.color\x20*\x20spotColor.rgb\x20:\x20directLight.color;\x0a\x09\x09#endif\x0a\x09\x09#undef\x20SPOT_LIGHT_MAP_INDEX\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09spotLightShadow\x20=\x20spotLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLightShadow.shadowMapSize,\x20spotLightShadow.shadowIntensity,\x20spotLightShadow.shadowBias,\x20spotLightShadow.shadowRadius,\x20vSpotLightCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_DIR_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09DirectionalLight\x20directionalLight;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09DirectionalLightShadow\x20directionalLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09directionalLight\x20=\x20directionalLights[\x20i\x20];\x0a\x09\x09getDirectionalLightInfo(\x20directionalLight,\x20directLight\x20);\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_DIR_LIGHT_SHADOWS\x20)\x0a\x09\x09directionalLightShadow\x20=\x20directionalLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLightShadow.shadowMapSize,\x20directionalLightShadow.shadowIntensity,\x20directionalLightShadow.shadowBias,\x20directionalLightShadow.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct_RectArea\x20)\x0a\x09RectAreaLight\x20rectAreaLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_RECT_AREA_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09rectAreaLight\x20=\x20rectAreaLights[\x20i\x20];\x0a\x09\x09RE_Direct_RectArea(\x20rectAreaLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09vec3\x20iblIrradiance\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20irradiance\x20=\x20getAmbientLightIrradiance(\x20ambientLightColor\x20);\x0a\x09#if\x20defined(\x20USE_LIGHT_PROBES\x20)\x0a\x09\x09irradiance\x20+=\x20getLightProbeIrradiance(\x20lightProbe,\x20geometryNormal\x20);\x0a\x09#endif\x0a\x09#if\x20(\x20NUM_HEMI_LIGHTS\x20>\x200\x20)\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_HEMI_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09irradiance\x20+=\x20getHemisphereLightIrradiance(\x20hemisphereLights[\x20i\x20],\x20geometryNormal\x20);\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09vec3\x20radiance\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20clearcoatRadiance\x20=\x20vec3(\x200.0\x20);\x0a#endif','lights_fragment_maps':'#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09#ifdef\x20USE_LIGHTMAP\x0a\x09\x09vec4\x20lightMapTexel\x20=\x20texture2D(\x20lightMap,\x20vLightMapUv\x20);\x0a\x09\x09vec3\x20lightMapIrradiance\x20=\x20lightMapTexel.rgb\x20*\x20lightMapIntensity;\x0a\x09\x09irradiance\x20+=\x20lightMapIrradiance;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20STANDARD\x20)\x20&&\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09\x09iblIrradiance\x20+=\x20getIBLIrradiance(\x20geometryNormal\x20);\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09radiance\x20+=\x20getIBLAnisotropyRadiance(\x20geometryViewDir,\x20geometryNormal,\x20material.roughness,\x20material.anisotropyB,\x20material.anisotropy\x20);\x0a\x09#else\x0a\x09\x09radiance\x20+=\x20getIBLRadiance(\x20geometryViewDir,\x20geometryNormal,\x20material.roughness\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09clearcoatRadiance\x20+=\x20getIBLRadiance(\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material.clearcoatRoughness\x20);\x0a\x09#endif\x0a#endif','lights_fragment_end':'#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09RE_IndirectDiffuse(\x20irradiance,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a#endif\x0a#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09RE_IndirectSpecular(\x20radiance,\x20iblIrradiance,\x20clearcoatRadiance,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a#endif','logdepthbuf_fragment':'#if\x20defined(\x20USE_LOGDEPTHBUF\x20)\x0a\x09gl_FragDepth\x20=\x20vIsPerspective\x20==\x200.0\x20?\x20gl_FragCoord.z\x20:\x20log2(\x20vFragDepth\x20)\x20*\x20logDepthBufFC\x20*\x200.5;\x0a#endif','logdepthbuf_pars_fragment':'#if\x20defined(\x20USE_LOGDEPTHBUF\x20)\x0a\x09uniform\x20float\x20logDepthBufFC;\x0a\x09varying\x20float\x20vFragDepth;\x0a\x09varying\x20float\x20vIsPerspective;\x0a#endif','logdepthbuf_pars_vertex':'#ifdef\x20USE_LOGDEPTHBUF\x0a\x09varying\x20float\x20vFragDepth;\x0a\x09varying\x20float\x20vIsPerspective;\x0a#endif','logdepthbuf_vertex':'#ifdef\x20USE_LOGDEPTHBUF\x0a\x09vFragDepth\x20=\x201.0\x20+\x20gl_Position.w;\x0a\x09vIsPerspective\x20=\x20float(\x20isPerspectiveMatrix(\x20projectionMatrix\x20)\x20);\x0a#endif','map_fragment':'#ifdef\x20USE_MAP\x0a\x09vec4\x20sampledDiffuseColor\x20=\x20texture2D(\x20map,\x20vMapUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE\x0a\x09\x09sampledDiffuseColor\x20=\x20sRGBTransferEOTF(\x20sampledDiffuseColor\x20);\x0a\x09#endif\x0a\x09diffuseColor\x20*=\x20sampledDiffuseColor;\x0a#endif','map_pars_fragment':'#ifdef\x20USE_MAP\x0a\x09uniform\x20sampler2D\x20map;\x0a#endif','map_particle_fragment':'#if\x20defined(\x20USE_MAP\x20)\x20||\x20defined(\x20USE_ALPHAMAP\x20)\x0a\x09#if\x20defined(\x20USE_POINTS_UV\x20)\x0a\x09\x09vec2\x20uv\x20=\x20vUv;\x0a\x09#else\x0a\x09\x09vec2\x20uv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20gl_PointCoord.x,\x201.0\x20-\x20gl_PointCoord.y,\x201\x20)\x20).xy;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09diffuseColor\x20*=\x20texture2D(\x20map,\x20uv\x20);\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09diffuseColor.a\x20*=\x20texture2D(\x20alphaMap,\x20uv\x20).g;\x0a#endif','map_particle_pars_fragment':'#if\x20defined(\x20USE_POINTS_UV\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#else\x0a\x09#if\x20defined(\x20USE_MAP\x20)\x20||\x20defined(\x20USE_ALPHAMAP\x20)\x0a\x09\x09uniform\x20mat3\x20uvTransform;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09uniform\x20sampler2D\x20map;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20sampler2D\x20alphaMap;\x0a#endif','metalnessmap_fragment':'float\x20metalnessFactor\x20=\x20metalness;\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09vec4\x20texelMetalness\x20=\x20texture2D(\x20metalnessMap,\x20vMetalnessMapUv\x20);\x0a\x09metalnessFactor\x20*=\x20texelMetalness.b;\x0a#endif','metalnessmap_pars_fragment':'#ifdef\x20USE_METALNESSMAP\x0a\x09uniform\x20sampler2D\x20metalnessMap;\x0a#endif','morphinstance_vertex':'#ifdef\x20USE_INSTANCING_MORPH\x0a\x09float\x20morphTargetInfluences[\x20MORPHTARGETS_COUNT\x20];\x0a\x09float\x20morphTargetBaseInfluence\x20=\x20texelFetch(\x20morphTexture,\x20ivec2(\x200,\x20gl_InstanceID\x20),\x200\x20).r;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09morphTargetInfluences[i]\x20=\x20\x20texelFetch(\x20morphTexture,\x20ivec2(\x20i\x20+\x201,\x20gl_InstanceID\x20),\x200\x20).r;\x0a\x09}\x0a#endif','morphcolor_vertex':'#if\x20defined(\x20USE_MORPHCOLORS\x20)\x0a\x09vColor\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20vColor\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x202\x20)\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09\x09#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20vColor\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x202\x20).rgb\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09\x09#endif\x0a\x09}\x0a#endif','morphnormal_vertex':'#ifdef\x20USE_MORPHNORMALS\x0a\x09objectNormal\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20objectNormal\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x201\x20).xyz\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09}\x0a#endif','morphtarget_pars_vertex':'#ifdef\x20USE_MORPHTARGETS\x0a\x09#ifndef\x20USE_INSTANCING_MORPH\x0a\x09\x09uniform\x20float\x20morphTargetBaseInfluence;\x0a\x09\x09uniform\x20float\x20morphTargetInfluences[\x20MORPHTARGETS_COUNT\x20];\x0a\x09#endif\x0a\x09uniform\x20sampler2DArray\x20morphTargetsTexture;\x0a\x09uniform\x20ivec2\x20morphTargetsTextureSize;\x0a\x09vec4\x20getMorph(\x20const\x20in\x20int\x20vertexIndex,\x20const\x20in\x20int\x20morphTargetIndex,\x20const\x20in\x20int\x20offset\x20)\x20{\x0a\x09\x09int\x20texelIndex\x20=\x20vertexIndex\x20*\x20MORPHTARGETS_TEXTURE_STRIDE\x20+\x20offset;\x0a\x09\x09int\x20y\x20=\x20texelIndex\x20/\x20morphTargetsTextureSize.x;\x0a\x09\x09int\x20x\x20=\x20texelIndex\x20-\x20y\x20*\x20morphTargetsTextureSize.x;\x0a\x09\x09ivec3\x20morphUV\x20=\x20ivec3(\x20x,\x20y,\x20morphTargetIndex\x20);\x0a\x09\x09return\x20texelFetch(\x20morphTargetsTexture,\x20morphUV,\x200\x20);\x0a\x09}\x0a#endif','morphtarget_vertex':'#ifdef\x20USE_MORPHTARGETS\x0a\x09transformed\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20transformed\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x200\x20).xyz\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09}\x0a#endif','normal_fragment_begin':'float\x20faceDirection\x20=\x20gl_FrontFacing\x20?\x201.0\x20:\x20-\x201.0;\x0a#ifdef\x20FLAT_SHADED\x0a\x09vec3\x20fdx\x20=\x20dFdx(\x20vViewPosition\x20);\x0a\x09vec3\x20fdy\x20=\x20dFdy(\x20vViewPosition\x20);\x0a\x09vec3\x20normal\x20=\x20normalize(\x20cross(\x20fdx,\x20fdy\x20)\x20);\x0a#else\x0a\x09vec3\x20normal\x20=\x20normalize(\x20vNormal\x20);\x0a\x09#ifdef\x20DOUBLE_SIDED\x0a\x09\x09normal\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x20||\x20defined(\x20USE_CLEARCOAT_NORMALMAP\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09mat3\x20tbn\x20=\x20mat3(\x20normalize(\x20vTangent\x20),\x20normalize(\x20vBitangent\x20),\x20normal\x20);\x0a\x09#else\x0a\x09\x09mat3\x20tbn\x20=\x20getTangentFrame(\x20-\x20vViewPosition,\x20normal,\x0a\x09\x09#if\x20defined(\x20USE_NORMALMAP\x20)\x0a\x09\x09\x09vNormalMapUv\x0a\x09\x09#elif\x20defined(\x20USE_CLEARCOAT_NORMALMAP\x20)\x0a\x09\x09\x09vClearcoatNormalMapUv\x0a\x09\x09#else\x0a\x09\x09\x09vUv\x0a\x09\x09#endif\x0a\x09\x09);\x0a\x09#endif\x0a\x09#if\x20defined(\x20DOUBLE_SIDED\x20)\x20&&\x20!\x20defined(\x20FLAT_SHADED\x20)\x0a\x09\x09tbn[0]\x20*=\x20faceDirection;\x0a\x09\x09tbn[1]\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09mat3\x20tbn2\x20=\x20mat3(\x20normalize(\x20vTangent\x20),\x20normalize(\x20vBitangent\x20),\x20normal\x20);\x0a\x09#else\x0a\x09\x09mat3\x20tbn2\x20=\x20getTangentFrame(\x20-\x20vViewPosition,\x20normal,\x20vClearcoatNormalMapUv\x20);\x0a\x09#endif\x0a\x09#if\x20defined(\x20DOUBLE_SIDED\x20)\x20&&\x20!\x20defined(\x20FLAT_SHADED\x20)\x0a\x09\x09tbn2[0]\x20*=\x20faceDirection;\x0a\x09\x09tbn2[1]\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0avec3\x20nonPerturbedNormal\x20=\x20normal;','normal_fragment_maps':'#ifdef\x20USE_NORMALMAP_OBJECTSPACE\x0a\x09normal\x20=\x20texture2D(\x20normalMap,\x20vNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09#ifdef\x20FLIP_SIDED\x0a\x09\x09normal\x20=\x20-\x20normal;\x0a\x09#endif\x0a\x09#ifdef\x20DOUBLE_SIDED\x0a\x09\x09normal\x20=\x20normal\x20*\x20faceDirection;\x0a\x09#endif\x0a\x09normal\x20=\x20normalize(\x20normalMatrix\x20*\x20normal\x20);\x0a#elif\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09vec3\x20mapN\x20=\x20texture2D(\x20normalMap,\x20vNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09mapN.xy\x20*=\x20normalScale;\x0a\x09normal\x20=\x20normalize(\x20tbn\x20*\x20mapN\x20);\x0a#elif\x20defined(\x20USE_BUMPMAP\x20)\x0a\x09normal\x20=\x20perturbNormalArb(\x20-\x20vViewPosition,\x20normal,\x20dHdxy_fwd(),\x20faceDirection\x20);\x0a#endif','normal_pars_fragment':'#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09varying\x20vec3\x20vTangent;\x0a\x09\x09varying\x20vec3\x20vBitangent;\x0a\x09#endif\x0a#endif','normal_pars_vertex':'#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09varying\x20vec3\x20vTangent;\x0a\x09\x09varying\x20vec3\x20vBitangent;\x0a\x09#endif\x0a#endif','normal_vertex':'#ifndef\x20FLAT_SHADED\x0a\x09vNormal\x20=\x20normalize(\x20transformedNormal\x20);\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09vTangent\x20=\x20normalize(\x20transformedTangent\x20);\x0a\x09\x09vBitangent\x20=\x20normalize(\x20cross(\x20vNormal,\x20vTangent\x20)\x20*\x20tangent.w\x20);\x0a\x09#endif\x0a#endif','normalmap_pars_fragment':'#ifdef\x20USE_NORMALMAP\x0a\x09uniform\x20sampler2D\x20normalMap;\x0a\x09uniform\x20vec2\x20normalScale;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP_OBJECTSPACE\x0a\x09uniform\x20mat3\x20normalMatrix;\x0a#endif\x0a#if\x20!\x20defined\x20(\x20USE_TANGENT\x20)\x20&&\x20(\x20defined\x20(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x20||\x20defined\x20(\x20USE_CLEARCOAT_NORMALMAP\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x20)\x0a\x09mat3\x20getTangentFrame(\x20vec3\x20eye_pos,\x20vec3\x20surf_norm,\x20vec2\x20uv\x20)\x20{\x0a\x09\x09vec3\x20q0\x20=\x20dFdx(\x20eye_pos.xyz\x20);\x0a\x09\x09vec3\x20q1\x20=\x20dFdy(\x20eye_pos.xyz\x20);\x0a\x09\x09vec2\x20st0\x20=\x20dFdx(\x20uv.st\x20);\x0a\x09\x09vec2\x20st1\x20=\x20dFdy(\x20uv.st\x20);\x0a\x09\x09vec3\x20N\x20=\x20surf_norm;\x0a\x09\x09vec3\x20q1perp\x20=\x20cross(\x20q1,\x20N\x20);\x0a\x09\x09vec3\x20q0perp\x20=\x20cross(\x20N,\x20q0\x20);\x0a\x09\x09vec3\x20T\x20=\x20q1perp\x20*\x20st0.x\x20+\x20q0perp\x20*\x20st1.x;\x0a\x09\x09vec3\x20B\x20=\x20q1perp\x20*\x20st0.y\x20+\x20q0perp\x20*\x20st1.y;\x0a\x09\x09float\x20det\x20=\x20max(\x20dot(\x20T,\x20T\x20),\x20dot(\x20B,\x20B\x20)\x20);\x0a\x09\x09float\x20scale\x20=\x20(\x20det\x20==\x200.0\x20)\x20?\x200.0\x20:\x20inversesqrt(\x20det\x20);\x0a\x09\x09return\x20mat3(\x20T\x20*\x20scale,\x20B\x20*\x20scale,\x20N\x20);\x0a\x09}\x0a#endif','clearcoat_normal_fragment_begin':'#ifdef\x20USE_CLEARCOAT\x0a\x09vec3\x20clearcoatNormal\x20=\x20nonPerturbedNormal;\x0a#endif','clearcoat_normal_fragment_maps':'#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09vec3\x20clearcoatMapN\x20=\x20texture2D(\x20clearcoatNormalMap,\x20vClearcoatNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09clearcoatMapN.xy\x20*=\x20clearcoatNormalScale;\x0a\x09clearcoatNormal\x20=\x20normalize(\x20tbn2\x20*\x20clearcoatMapN\x20);\x0a#endif','clearcoat_pars_fragment':'#ifdef\x20USE_CLEARCOATMAP\x0a\x09uniform\x20sampler2D\x20clearcoatMap;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09uniform\x20sampler2D\x20clearcoatNormalMap;\x0a\x09uniform\x20vec2\x20clearcoatNormalScale;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09uniform\x20sampler2D\x20clearcoatRoughnessMap;\x0a#endif','iridescence_pars_fragment':'#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09uniform\x20sampler2D\x20iridescenceMap;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09uniform\x20sampler2D\x20iridescenceThicknessMap;\x0a#endif','opaque_fragment':'#ifdef\x20OPAQUE\x0adiffuseColor.a\x20=\x201.0;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSION\x0adiffuseColor.a\x20*=\x20material.transmissionAlpha;\x0a#endif\x0agl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);','packing':'vec3\x20packNormalToRGB(\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09return\x20normalize(\x20normal\x20)\x20*\x200.5\x20+\x200.5;\x0a}\x0avec3\x20unpackRGBToNormal(\x20const\x20in\x20vec3\x20rgb\x20)\x20{\x0a\x09return\x202.0\x20*\x20rgb.xyz\x20-\x201.0;\x0a}\x0aconst\x20float\x20PackUpscale\x20=\x20256.\x20/\x20255.;const\x20float\x20UnpackDownscale\x20=\x20255.\x20/\x20256.;const\x20float\x20ShiftRight8\x20=\x201.\x20/\x20256.;\x0aconst\x20float\x20Inv255\x20=\x201.\x20/\x20255.;\x0aconst\x20vec4\x20PackFactors\x20=\x20vec4(\x201.0,\x20256.0,\x20256.0\x20*\x20256.0,\x20256.0\x20*\x20256.0\x20*\x20256.0\x20);\x0aconst\x20vec2\x20UnpackFactors2\x20=\x20vec2(\x20UnpackDownscale,\x201.0\x20/\x20PackFactors.g\x20);\x0aconst\x20vec3\x20UnpackFactors3\x20=\x20vec3(\x20UnpackDownscale\x20/\x20PackFactors.rg,\x201.0\x20/\x20PackFactors.b\x20);\x0aconst\x20vec4\x20UnpackFactors4\x20=\x20vec4(\x20UnpackDownscale\x20/\x20PackFactors.rgb,\x201.0\x20/\x20PackFactors.a\x20);\x0avec4\x20packDepthToRGBA(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec4(\x200.,\x200.,\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec4(\x201.,\x201.,\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20af\x20=\x20modf(\x20v\x20*\x20PackFactors.a,\x20vuf\x20);\x0a\x09float\x20bf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09float\x20gf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09return\x20vec4(\x20vuf\x20*\x20Inv255,\x20gf\x20*\x20PackUpscale,\x20bf\x20*\x20PackUpscale,\x20af\x20);\x0a}\x0avec3\x20packDepthToRGB(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec3(\x200.,\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec3(\x201.,\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20bf\x20=\x20modf(\x20v\x20*\x20PackFactors.b,\x20vuf\x20);\x0a\x09float\x20gf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09return\x20vec3(\x20vuf\x20*\x20Inv255,\x20gf\x20*\x20PackUpscale,\x20bf\x20);\x0a}\x0avec2\x20packDepthToRG(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec2(\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec2(\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20gf\x20=\x20modf(\x20v\x20*\x20256.,\x20vuf\x20);\x0a\x09return\x20vec2(\x20vuf\x20*\x20Inv255,\x20gf\x20);\x0a}\x0afloat\x20unpackRGBAToDepth(\x20const\x20in\x20vec4\x20v\x20)\x20{\x0a\x09return\x20dot(\x20v,\x20UnpackFactors4\x20);\x0a}\x0afloat\x20unpackRGBToDepth(\x20const\x20in\x20vec3\x20v\x20)\x20{\x0a\x09return\x20dot(\x20v,\x20UnpackFactors3\x20);\x0a}\x0afloat\x20unpackRGToDepth(\x20const\x20in\x20vec2\x20v\x20)\x20{\x0a\x09return\x20v.r\x20*\x20UnpackFactors2.r\x20+\x20v.g\x20*\x20UnpackFactors2.g;\x0a}\x0avec4\x20pack2HalfToRGBA(\x20const\x20in\x20vec2\x20v\x20)\x20{\x0a\x09vec4\x20r\x20=\x20vec4(\x20v.x,\x20fract(\x20v.x\x20*\x20255.0\x20),\x20v.y,\x20fract(\x20v.y\x20*\x20255.0\x20)\x20);\x0a\x09return\x20vec4(\x20r.x\x20-\x20r.y\x20/\x20255.0,\x20r.y,\x20r.z\x20-\x20r.w\x20/\x20255.0,\x20r.w\x20);\x0a}\x0avec2\x20unpackRGBATo2Half(\x20const\x20in\x20vec4\x20v\x20)\x20{\x0a\x09return\x20vec2(\x20v.x\x20+\x20(\x20v.y\x20/\x20255.0\x20),\x20v.z\x20+\x20(\x20v.w\x20/\x20255.0\x20)\x20);\x0a}\x0afloat\x20viewZToOrthographicDepth(\x20const\x20in\x20float\x20viewZ,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20viewZ\x20+\x20near\x20)\x20/\x20(\x20near\x20-\x20far\x20);\x0a}\x0afloat\x20orthographicDepthToViewZ(\x20const\x20in\x20float\x20depth,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20depth\x20*\x20(\x20near\x20-\x20far\x20)\x20-\x20near;\x0a}\x0afloat\x20viewZToPerspectiveDepth(\x20const\x20in\x20float\x20viewZ,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20(\x20near\x20+\x20viewZ\x20)\x20*\x20far\x20)\x20/\x20(\x20(\x20far\x20-\x20near\x20)\x20*\x20viewZ\x20);\x0a}\x0afloat\x20perspectiveDepthToViewZ(\x20const\x20in\x20float\x20depth,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20near\x20*\x20far\x20)\x20/\x20(\x20(\x20far\x20-\x20near\x20)\x20*\x20depth\x20-\x20far\x20);\x0a}','premultiplied_alpha_fragment':'#ifdef\x20PREMULTIPLIED_ALPHA\x0a\x09gl_FragColor.rgb\x20*=\x20gl_FragColor.a;\x0a#endif','project_vertex':'vec4\x20mvPosition\x20=\x20vec4(\x20transformed,\x201.0\x20);\x0a#ifdef\x20USE_BATCHING\x0a\x09mvPosition\x20=\x20batchingMatrix\x20*\x20mvPosition;\x0a#endif\x0a#ifdef\x20USE_INSTANCING\x0a\x09mvPosition\x20=\x20instanceMatrix\x20*\x20mvPosition;\x0a#endif\x0amvPosition\x20=\x20modelViewMatrix\x20*\x20mvPosition;\x0agl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;','dithering_fragment':'#ifdef\x20DITHERING\x0a\x09gl_FragColor.rgb\x20=\x20dithering(\x20gl_FragColor.rgb\x20);\x0a#endif','dithering_pars_fragment':'#ifdef\x20DITHERING\x0a\x09vec3\x20dithering(\x20vec3\x20color\x20)\x20{\x0a\x09\x09float\x20grid_position\x20=\x20rand(\x20gl_FragCoord.xy\x20);\x0a\x09\x09vec3\x20dither_shift_RGB\x20=\x20vec3(\x200.25\x20/\x20255.0,\x20-0.25\x20/\x20255.0,\x200.25\x20/\x20255.0\x20);\x0a\x09\x09dither_shift_RGB\x20=\x20mix(\x202.0\x20*\x20dither_shift_RGB,\x20-2.0\x20*\x20dither_shift_RGB,\x20grid_position\x20);\x0a\x09\x09return\x20color\x20+\x20dither_shift_RGB;\x0a\x09}\x0a#endif','roughnessmap_fragment':'float\x20roughnessFactor\x20=\x20roughness;\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09vec4\x20texelRoughness\x20=\x20texture2D(\x20roughnessMap,\x20vRoughnessMapUv\x20);\x0a\x09roughnessFactor\x20*=\x20texelRoughness.g;\x0a#endif','roughnessmap_pars_fragment':'#ifdef\x20USE_ROUGHNESSMAP\x0a\x09uniform\x20sampler2D\x20roughnessMap;\x0a#endif','shadowmap_pars_fragment':'#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09varying\x20vec4\x20vSpotLightCoord[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a#endif\x0a#if\x20NUM_SPOT_LIGHT_MAPS\x20>\x200\x0a\x09uniform\x20sampler2D\x20spotLightMap[\x20NUM_SPOT_LIGHT_MAPS\x20];\x0a#endif\x0a#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20directionalShadowMap[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vDirectionalShadowCoord[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20DirectionalLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20DirectionalLightShadow\x20directionalLightShadows[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20spotShadowMap[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20SpotLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20SpotLightShadow\x20spotLightShadows[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20pointShadowMap[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vPointShadowCoord[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20PointLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09\x09float\x20shadowCameraNear;\x0a\x09\x09\x09float\x20shadowCameraFar;\x0a\x09\x09};\x0a\x09\x09uniform\x20PointLightShadow\x20pointLightShadows[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09float\x20texture2DCompare(\x20sampler2D\x20depths,\x20vec2\x20uv,\x20float\x20compare\x20)\x20{\x0a\x09\x09return\x20step(\x20compare,\x20unpackRGBAToDepth(\x20texture2D(\x20depths,\x20uv\x20)\x20)\x20);\x0a\x09}\x0a\x09vec2\x20texture2DDistribution(\x20sampler2D\x20shadow,\x20vec2\x20uv\x20)\x20{\x0a\x09\x09return\x20unpackRGBATo2Half(\x20texture2D(\x20shadow,\x20uv\x20)\x20);\x0a\x09}\x0a\x09float\x20VSMShadow\x20(sampler2D\x20shadow,\x20vec2\x20uv,\x20float\x20compare\x20){\x0a\x09\x09float\x20occlusion\x20=\x201.0;\x0a\x09\x09vec2\x20distribution\x20=\x20texture2DDistribution(\x20shadow,\x20uv\x20);\x0a\x09\x09float\x20hard_shadow\x20=\x20step(\x20compare\x20,\x20distribution.x\x20);\x0a\x09\x09if\x20(hard_shadow\x20!=\x201.0\x20)\x20{\x0a\x09\x09\x09float\x20distance\x20=\x20compare\x20-\x20distribution.x\x20;\x0a\x09\x09\x09float\x20variance\x20=\x20max(\x200.00000,\x20distribution.y\x20*\x20distribution.y\x20);\x0a\x09\x09\x09float\x20softness_probability\x20=\x20variance\x20/\x20(variance\x20+\x20distance\x20*\x20distance\x20);\x09\x09\x09softness_probability\x20=\x20clamp(\x20(\x20softness_probability\x20-\x200.3\x20)\x20/\x20(\x200.95\x20-\x200.3\x20),\x200.0,\x201.0\x20);\x09\x09\x09occlusion\x20=\x20clamp(\x20max(\x20hard_shadow,\x20softness_probability\x20),\x200.0,\x201.0\x20);\x0a\x09\x09}\x0a\x09\x09return\x20occlusion;\x0a\x09}\x0a\x09float\x20getShadow(\x20sampler2D\x20shadowMap,\x20vec2\x20shadowMapSize,\x20float\x20shadowIntensity,\x20float\x20shadowBias,\x20float\x20shadowRadius,\x20vec4\x20shadowCoord\x20)\x20{\x0a\x09\x09float\x20shadow\x20=\x201.0;\x0a\x09\x09shadowCoord.xyz\x20/=\x20shadowCoord.w;\x0a\x09\x09shadowCoord.z\x20+=\x20shadowBias;\x0a\x09\x09bool\x20inFrustum\x20=\x20shadowCoord.x\x20>=\x200.0\x20&&\x20shadowCoord.x\x20<=\x201.0\x20&&\x20shadowCoord.y\x20>=\x200.0\x20&&\x20shadowCoord.y\x20<=\x201.0;\x0a\x09\x09bool\x20frustumTest\x20=\x20inFrustum\x20&&\x20shadowCoord.z\x20<=\x201.0;\x0a\x09\x09if\x20(\x20frustumTest\x20)\x20{\x0a\x09\x09#if\x20defined(\x20SHADOWMAP_TYPE_PCF\x20)\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20shadowMapSize;\x0a\x09\x09\x09float\x20dx0\x20=\x20-\x20texelSize.x\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dy0\x20=\x20-\x20texelSize.y\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dx1\x20=\x20+\x20texelSize.x\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dy1\x20=\x20+\x20texelSize.y\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dx2\x20=\x20dx0\x20/\x202.0;\x0a\x09\x09\x09float\x20dy2\x20=\x20dy0\x20/\x202.0;\x0a\x09\x09\x09float\x20dx3\x20=\x20dx1\x20/\x202.0;\x0a\x09\x09\x09float\x20dy3\x20=\x20dy1\x20/\x202.0;\x0a\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x20dy1\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy1\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x20dy1\x20),\x20shadowCoord.z\x20)\x0a\x09\x09\x09)\x20*\x20(\x201.0\x20/\x2017.0\x20);\x0a\x09\x09#elif\x20defined(\x20SHADOWMAP_TYPE_PCF_SOFT\x20)\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20shadowMapSize;\x0a\x09\x09\x09float\x20dx\x20=\x20texelSize.x;\x0a\x09\x09\x09float\x20dy\x20=\x20texelSize.y;\x0a\x09\x09\x09vec2\x20uv\x20=\x20shadowCoord.xy;\x0a\x09\x09\x09vec2\x20f\x20=\x20fract(\x20uv\x20*\x20shadowMapSize\x20+\x200.5\x20);\x0a\x09\x09\x09uv\x20-=\x20f\x20*\x20texelSize;\x0a\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x20dy\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20texelSize,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x200.0\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x200.0\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.x\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.x\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20f.x\x20),\x0a\x09\x09\x09\x09\x09\x20mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20f.x\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x0a\x09\x09\x09)\x20*\x20(\x201.0\x20/\x209.0\x20);\x0a\x09\x09#elif\x20defined(\x20SHADOWMAP_TYPE_VSM\x20)\x0a\x09\x09\x09shadow\x20=\x20VSMShadow(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20);\x0a\x09\x09#else\x0a\x09\x09\x09shadow\x20=\x20texture2DCompare(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20);\x0a\x09\x09#endif\x0a\x09\x09}\x0a\x09\x09return\x20mix(\x201.0,\x20shadow,\x20shadowIntensity\x20);\x0a\x09}\x0a\x09vec2\x20cubeToUV(\x20vec3\x20v,\x20float\x20texelSizeY\x20)\x20{\x0a\x09\x09vec3\x20absV\x20=\x20abs(\x20v\x20);\x0a\x09\x09float\x20scaleToCube\x20=\x201.0\x20/\x20max(\x20absV.x,\x20max(\x20absV.y,\x20absV.z\x20)\x20);\x0a\x09\x09absV\x20*=\x20scaleToCube;\x0a\x09\x09v\x20*=\x20scaleToCube\x20*\x20(\x201.0\x20-\x202.0\x20*\x20texelSizeY\x20);\x0a\x09\x09vec2\x20planar\x20=\x20v.xy;\x0a\x09\x09float\x20almostATexel\x20=\x201.5\x20*\x20texelSizeY;\x0a\x09\x09float\x20almostOne\x20=\x201.0\x20-\x20almostATexel;\x0a\x09\x09if\x20(\x20absV.z\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09if\x20(\x20v.z\x20>\x200.0\x20)\x0a\x09\x09\x09\x09planar.x\x20=\x204.0\x20-\x20v.x;\x0a\x09\x09}\x20else\x20if\x20(\x20absV.x\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09float\x20signX\x20=\x20sign(\x20v.x\x20);\x0a\x09\x09\x09planar.x\x20=\x20v.z\x20*\x20signX\x20+\x202.0\x20*\x20signX;\x0a\x09\x09}\x20else\x20if\x20(\x20absV.y\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09float\x20signY\x20=\x20sign(\x20v.y\x20);\x0a\x09\x09\x09planar.x\x20=\x20v.x\x20+\x202.0\x20*\x20signY\x20+\x202.0;\x0a\x09\x09\x09planar.y\x20=\x20v.z\x20*\x20signY\x20-\x202.0;\x0a\x09\x09}\x0a\x09\x09return\x20vec2(\x200.125,\x200.25\x20)\x20*\x20planar\x20+\x20vec2(\x200.375,\x200.75\x20);\x0a\x09}\x0a\x09float\x20getPointShadow(\x20sampler2D\x20shadowMap,\x20vec2\x20shadowMapSize,\x20float\x20shadowIntensity,\x20float\x20shadowBias,\x20float\x20shadowRadius,\x20vec4\x20shadowCoord,\x20float\x20shadowCameraNear,\x20float\x20shadowCameraFar\x20)\x20{\x0a\x09\x09float\x20shadow\x20=\x201.0;\x0a\x09\x09vec3\x20lightToPosition\x20=\x20shadowCoord.xyz;\x0a\x09\x09\x0a\x09\x09float\x20lightToPositionLength\x20=\x20length(\x20lightToPosition\x20);\x0a\x09\x09if\x20(\x20lightToPositionLength\x20-\x20shadowCameraFar\x20<=\x200.0\x20&&\x20lightToPositionLength\x20-\x20shadowCameraNear\x20>=\x200.0\x20)\x20{\x0a\x09\x09\x09float\x20dp\x20=\x20(\x20lightToPositionLength\x20-\x20shadowCameraNear\x20)\x20/\x20(\x20shadowCameraFar\x20-\x20shadowCameraNear\x20);\x09\x09\x09dp\x20+=\x20shadowBias;\x0a\x09\x09\x09vec3\x20bd3D\x20=\x20normalize(\x20lightToPosition\x20);\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20(\x20shadowMapSize\x20*\x20vec2(\x204.0,\x202.0\x20)\x20);\x0a\x09\x09\x09#if\x20defined(\x20SHADOWMAP_TYPE_PCF\x20)\x20||\x20defined(\x20SHADOWMAP_TYPE_PCF_SOFT\x20)\x20||\x20defined(\x20SHADOWMAP_TYPE_VSM\x20)\x0a\x09\x09\x09\x09vec2\x20offset\x20=\x20vec2(\x20-\x201,\x201\x20)\x20*\x20shadowRadius\x20*\x20texelSize.y;\x0a\x09\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xyy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yyy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xyx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yyx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xxy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yxy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xxx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yxx,\x20texelSize.y\x20),\x20dp\x20)\x0a\x09\x09\x09\x09)\x20*\x20(\x201.0\x20/\x209.0\x20);\x0a\x09\x09\x09#else\x0a\x09\x09\x09\x09shadow\x20=\x20texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D,\x20texelSize.y\x20),\x20dp\x20);\x0a\x09\x09\x09#endif\x0a\x09\x09}\x0a\x09\x09return\x20mix(\x201.0,\x20shadow,\x20shadowIntensity\x20);\x0a\x09}\x0a#endif','shadowmap_pars_vertex':'#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09uniform\x20mat4\x20spotLightMatrix[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a\x09varying\x20vec4\x20vSpotLightCoord[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a#endif\x0a#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20mat4\x20directionalShadowMatrix[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vDirectionalShadowCoord[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20DirectionalLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20DirectionalLightShadow\x20directionalLightShadows[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09struct\x20SpotLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20SpotLightShadow\x20spotLightShadows[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20mat4\x20pointShadowMatrix[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vPointShadowCoord[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20PointLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09\x09float\x20shadowCameraNear;\x0a\x09\x09\x09float\x20shadowCameraFar;\x0a\x09\x09};\x0a\x09\x09uniform\x20PointLightShadow\x20pointLightShadows[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a#endif','shadowmap_vertex':'#if\x20(\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x20||\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x20)\x20)\x20||\x20(\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x20)\x0a\x09vec3\x20shadowWorldNormal\x20=\x20inverseTransformDirection(\x20transformedNormal,\x20viewMatrix\x20);\x0a\x09vec4\x20shadowWorldPosition;\x0a#endif\x0a#if\x20defined(\x20USE_SHADOWMAP\x20)\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09shadowWorldPosition\x20=\x20worldPosition\x20+\x20vec4(\x20shadowWorldNormal\x20*\x20directionalLightShadows[\x20i\x20].shadowNormalBias,\x200\x20);\x0a\x09\x09\x09vDirectionalShadowCoord[\x20i\x20]\x20=\x20directionalShadowMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09shadowWorldPosition\x20=\x20worldPosition\x20+\x20vec4(\x20shadowWorldNormal\x20*\x20pointLightShadows[\x20i\x20].shadowNormalBias,\x200\x20);\x0a\x09\x09\x09vPointShadowCoord[\x20i\x20]\x20=\x20pointShadowMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a#endif\x0a#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHT_COORDS;\x20i\x20++\x20)\x20{\x0a\x09\x09shadowWorldPosition\x20=\x20worldPosition;\x0a\x09\x09#if\x20(\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09\x09shadowWorldPosition.xyz\x20+=\x20shadowWorldNormal\x20*\x20spotLightShadows[\x20i\x20].shadowNormalBias;\x0a\x09\x09#endif\x0a\x09\x09vSpotLightCoord[\x20i\x20]\x20=\x20spotLightMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif','shadowmask_pars_fragment':'float\x20getShadowMask()\x20{\x0a\x09float\x20shadow\x20=\x201.0;\x0a\x09#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09DirectionalLightShadow\x20directionalLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09directionalLight\x20=\x20directionalLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLight.shadowMapSize,\x20directionalLight.shadowIntensity,\x20directionalLight.shadowBias,\x20directionalLight.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09SpotLightShadow\x20spotLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09spotLight\x20=\x20spotLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLight.shadowMapSize,\x20spotLight.shadowIntensity,\x20spotLight.shadowBias,\x20spotLight.shadowRadius,\x20vSpotLightCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09PointLightShadow\x20pointLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09pointLight\x20=\x20pointLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLight.shadowMapSize,\x20pointLight.shadowIntensity,\x20pointLight.shadowBias,\x20pointLight.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLight.shadowCameraNear,\x20pointLight.shadowCameraFar\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#endif\x0a\x09return\x20shadow;\x0a}','skinbase_vertex':'#ifdef\x20USE_SKINNING\x0a\x09mat4\x20boneMatX\x20=\x20getBoneMatrix(\x20skinIndex.x\x20);\x0a\x09mat4\x20boneMatY\x20=\x20getBoneMatrix(\x20skinIndex.y\x20);\x0a\x09mat4\x20boneMatZ\x20=\x20getBoneMatrix(\x20skinIndex.z\x20);\x0a\x09mat4\x20boneMatW\x20=\x20getBoneMatrix(\x20skinIndex.w\x20);\x0a#endif','skinning_pars_vertex':'#ifdef\x20USE_SKINNING\x0a\x09uniform\x20mat4\x20bindMatrix;\x0a\x09uniform\x20mat4\x20bindMatrixInverse;\x0a\x09uniform\x20highp\x20sampler2D\x20boneTexture;\x0a\x09mat4\x20getBoneMatrix(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20boneTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20)\x20*\x204;\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09vec4\x20v1\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v2\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x201,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v3\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x202,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v4\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x203,\x20y\x20),\x200\x20);\x0a\x09\x09return\x20mat4(\x20v1,\x20v2,\x20v3,\x20v4\x20);\x0a\x09}\x0a#endif','skinning_vertex':'#ifdef\x20USE_SKINNING\x0a\x09vec4\x20skinVertex\x20=\x20bindMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);\x0a\x09vec4\x20skinned\x20=\x20vec4(\x200.0\x20);\x0a\x09skinned\x20+=\x20boneMatX\x20*\x20skinVertex\x20*\x20skinWeight.x;\x0a\x09skinned\x20+=\x20boneMatY\x20*\x20skinVertex\x20*\x20skinWeight.y;\x0a\x09skinned\x20+=\x20boneMatZ\x20*\x20skinVertex\x20*\x20skinWeight.z;\x0a\x09skinned\x20+=\x20boneMatW\x20*\x20skinVertex\x20*\x20skinWeight.w;\x0a\x09transformed\x20=\x20(\x20bindMatrixInverse\x20*\x20skinned\x20).xyz;\x0a#endif','skinnormal_vertex':'#ifdef\x20USE_SKINNING\x0a\x09mat4\x20skinMatrix\x20=\x20mat4(\x200.0\x20);\x0a\x09skinMatrix\x20+=\x20skinWeight.x\x20*\x20boneMatX;\x0a\x09skinMatrix\x20+=\x20skinWeight.y\x20*\x20boneMatY;\x0a\x09skinMatrix\x20+=\x20skinWeight.z\x20*\x20boneMatZ;\x0a\x09skinMatrix\x20+=\x20skinWeight.w\x20*\x20boneMatW;\x0a\x09skinMatrix\x20=\x20bindMatrixInverse\x20*\x20skinMatrix\x20*\x20bindMatrix;\x0a\x09objectNormal\x20=\x20vec4(\x20skinMatrix\x20*\x20vec4(\x20objectNormal,\x200.0\x20)\x20).xyz;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09objectTangent\x20=\x20vec4(\x20skinMatrix\x20*\x20vec4(\x20objectTangent,\x200.0\x20)\x20).xyz;\x0a\x09#endif\x0a#endif','specularmap_fragment':'float\x20specularStrength;\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09vec4\x20texelSpecular\x20=\x20texture2D(\x20specularMap,\x20vSpecularMapUv\x20);\x0a\x09specularStrength\x20=\x20texelSpecular.r;\x0a#else\x0a\x09specularStrength\x20=\x201.0;\x0a#endif','specularmap_pars_fragment':'#ifdef\x20USE_SPECULARMAP\x0a\x09uniform\x20sampler2D\x20specularMap;\x0a#endif','tonemapping_fragment':'#if\x20defined(\x20TONE_MAPPING\x20)\x0a\x09gl_FragColor.rgb\x20=\x20toneMapping(\x20gl_FragColor.rgb\x20);\x0a#endif','tonemapping_pars_fragment':'#ifndef\x20saturate\x0a#define\x20saturate(\x20a\x20)\x20clamp(\x20a,\x200.0,\x201.0\x20)\x0a#endif\x0auniform\x20float\x20toneMappingExposure;\x0avec3\x20LinearToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09return\x20saturate(\x20toneMappingExposure\x20*\x20color\x20);\x0a}\x0avec3\x20ReinhardToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09return\x20saturate(\x20color\x20/\x20(\x20vec3(\x201.0\x20)\x20+\x20color\x20)\x20);\x0a}\x0avec3\x20CineonToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09color\x20=\x20max(\x20vec3(\x200.0\x20),\x20color\x20-\x200.004\x20);\x0a\x09return\x20pow(\x20(\x20color\x20*\x20(\x206.2\x20*\x20color\x20+\x200.5\x20)\x20)\x20/\x20(\x20color\x20*\x20(\x206.2\x20*\x20color\x20+\x201.7\x20)\x20+\x200.06\x20),\x20vec3(\x202.2\x20)\x20);\x0a}\x0avec3\x20RRTAndODTFit(\x20vec3\x20v\x20)\x20{\x0a\x09vec3\x20a\x20=\x20v\x20*\x20(\x20v\x20+\x200.0245786\x20)\x20-\x200.000090537;\x0a\x09vec3\x20b\x20=\x20v\x20*\x20(\x200.983729\x20*\x20v\x20+\x200.4329510\x20)\x20+\x200.238081;\x0a\x09return\x20a\x20/\x20b;\x0a}\x0avec3\x20ACESFilmicToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20mat3\x20ACESInputMat\x20=\x20mat3(\x0a\x09\x09vec3(\x200.59719,\x200.07600,\x200.02840\x20),\x09\x09vec3(\x200.35458,\x200.90834,\x200.13383\x20),\x0a\x09\x09vec3(\x200.04823,\x200.01566,\x200.83777\x20)\x0a\x09);\x0a\x09const\x20mat3\x20ACESOutputMat\x20=\x20mat3(\x0a\x09\x09vec3(\x20\x201.60475,\x20-0.10208,\x20-0.00327\x20),\x09\x09vec3(\x20-0.53108,\x20\x201.10813,\x20-0.07276\x20),\x0a\x09\x09vec3(\x20-0.07367,\x20-0.00605,\x20\x201.07602\x20)\x0a\x09);\x0a\x09color\x20*=\x20toneMappingExposure\x20/\x200.6;\x0a\x09color\x20=\x20ACESInputMat\x20*\x20color;\x0a\x09color\x20=\x20RRTAndODTFit(\x20color\x20);\x0a\x09color\x20=\x20ACESOutputMat\x20*\x20color;\x0a\x09return\x20saturate(\x20color\x20);\x0a}\x0aconst\x20mat3\x20LINEAR_REC2020_TO_LINEAR_SRGB\x20=\x20mat3(\x0a\x09vec3(\x201.6605,\x20-\x200.1246,\x20-\x200.0182\x20),\x0a\x09vec3(\x20-\x200.5876,\x201.1329,\x20-\x200.1006\x20),\x0a\x09vec3(\x20-\x200.0728,\x20-\x200.0083,\x201.1187\x20)\x0a);\x0aconst\x20mat3\x20LINEAR_SRGB_TO_LINEAR_REC2020\x20=\x20mat3(\x0a\x09vec3(\x200.6274,\x200.0691,\x200.0164\x20),\x0a\x09vec3(\x200.3293,\x200.9195,\x200.0880\x20),\x0a\x09vec3(\x200.0433,\x200.0113,\x200.8956\x20)\x0a);\x0avec3\x20agxDefaultContrastApprox(\x20vec3\x20x\x20)\x20{\x0a\x09vec3\x20x2\x20=\x20x\x20*\x20x;\x0a\x09vec3\x20x4\x20=\x20x2\x20*\x20x2;\x0a\x09return\x20+\x2015.5\x20*\x20x4\x20*\x20x2\x0a\x09\x09-\x2040.14\x20*\x20x4\x20*\x20x\x0a\x09\x09+\x2031.96\x20*\x20x4\x0a\x09\x09-\x206.868\x20*\x20x2\x20*\x20x\x0a\x09\x09+\x200.4298\x20*\x20x2\x0a\x09\x09+\x200.1191\x20*\x20x\x0a\x09\x09-\x200.00232;\x0a}\x0avec3\x20AgXToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20mat3\x20AgXInsetMatrix\x20=\x20mat3(\x0a\x09\x09vec3(\x200.856627153315983,\x200.137318972929847,\x200.11189821299995\x20),\x0a\x09\x09vec3(\x200.0951212405381588,\x200.761241990602591,\x200.0767994186031903\x20),\x0a\x09\x09vec3(\x200.0482516061458583,\x200.101439036467562,\x200.811302368396859\x20)\x0a\x09);\x0a\x09const\x20mat3\x20AgXOutsetMatrix\x20=\x20mat3(\x0a\x09\x09vec3(\x201.1271005818144368,\x20-\x200.1413297634984383,\x20-\x200.14132976349843826\x20),\x0a\x09\x09vec3(\x20-\x200.11060664309660323,\x201.157823702216272,\x20-\x200.11060664309660294\x20),\x0a\x09\x09vec3(\x20-\x200.016493938717834573,\x20-\x200.016493938717834257,\x201.2519364065950405\x20)\x0a\x09);\x0a\x09const\x20float\x20AgxMinEv\x20=\x20-\x2012.47393;\x09const\x20float\x20AgxMaxEv\x20=\x204.026069;\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09color\x20=\x20LINEAR_SRGB_TO_LINEAR_REC2020\x20*\x20color;\x0a\x09color\x20=\x20AgXInsetMatrix\x20*\x20color;\x0a\x09color\x20=\x20max(\x20color,\x201e-10\x20);\x09color\x20=\x20log2(\x20color\x20);\x0a\x09color\x20=\x20(\x20color\x20-\x20AgxMinEv\x20)\x20/\x20(\x20AgxMaxEv\x20-\x20AgxMinEv\x20);\x0a\x09color\x20=\x20clamp(\x20color,\x200.0,\x201.0\x20);\x0a\x09color\x20=\x20agxDefaultContrastApprox(\x20color\x20);\x0a\x09color\x20=\x20AgXOutsetMatrix\x20*\x20color;\x0a\x09color\x20=\x20pow(\x20max(\x20vec3(\x200.0\x20),\x20color\x20),\x20vec3(\x202.2\x20)\x20);\x0a\x09color\x20=\x20LINEAR_REC2020_TO_LINEAR_SRGB\x20*\x20color;\x0a\x09color\x20=\x20clamp(\x20color,\x200.0,\x201.0\x20);\x0a\x09return\x20color;\x0a}\x0avec3\x20NeutralToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20float\x20StartCompression\x20=\x200.8\x20-\x200.04;\x0a\x09const\x20float\x20Desaturation\x20=\x200.15;\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09float\x20x\x20=\x20min(\x20color.r,\x20min(\x20color.g,\x20color.b\x20)\x20);\x0a\x09float\x20offset\x20=\x20x\x20<\x200.08\x20?\x20x\x20-\x206.25\x20*\x20x\x20*\x20x\x20:\x200.04;\x0a\x09color\x20-=\x20offset;\x0a\x09float\x20peak\x20=\x20max(\x20color.r,\x20max(\x20color.g,\x20color.b\x20)\x20);\x0a\x09if\x20(\x20peak\x20<\x20StartCompression\x20)\x20return\x20color;\x0a\x09float\x20d\x20=\x201.\x20-\x20StartCompression;\x0a\x09float\x20newPeak\x20=\x201.\x20-\x20d\x20*\x20d\x20/\x20(\x20peak\x20+\x20d\x20-\x20StartCompression\x20);\x0a\x09color\x20*=\x20newPeak\x20/\x20peak;\x0a\x09float\x20g\x20=\x201.\x20-\x201.\x20/\x20(\x20Desaturation\x20*\x20(\x20peak\x20-\x20newPeak\x20)\x20+\x201.\x20);\x0a\x09return\x20mix(\x20color,\x20vec3(\x20newPeak\x20),\x20g\x20);\x0a}\x0avec3\x20CustomToneMapping(\x20vec3\x20color\x20)\x20{\x20return\x20color;\x20}','transmission_fragment':'#ifdef\x20USE_TRANSMISSION\x0a\x09material.transmission\x20=\x20transmission;\x0a\x09material.transmissionAlpha\x20=\x201.0;\x0a\x09material.thickness\x20=\x20thickness;\x0a\x09material.attenuationDistance\x20=\x20attenuationDistance;\x0a\x09material.attenuationColor\x20=\x20attenuationColor;\x0a\x09#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09\x09material.transmission\x20*=\x20texture2D(\x20transmissionMap,\x20vTransmissionMapUv\x20).r;\x0a\x09#endif\x0a\x09#ifdef\x20USE_THICKNESSMAP\x0a\x09\x09material.thickness\x20*=\x20texture2D(\x20thicknessMap,\x20vThicknessMapUv\x20).g;\x0a\x09#endif\x0a\x09vec3\x20pos\x20=\x20vWorldPosition;\x0a\x09vec3\x20v\x20=\x20normalize(\x20cameraPosition\x20-\x20pos\x20);\x0a\x09vec3\x20n\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09vec4\x20transmitted\x20=\x20getIBLVolumeRefraction(\x0a\x09\x09n,\x20v,\x20material.roughness,\x20material.diffuseColor,\x20material.specularColor,\x20material.specularF90,\x0a\x09\x09pos,\x20modelMatrix,\x20viewMatrix,\x20projectionMatrix,\x20material.dispersion,\x20material.ior,\x20material.thickness,\x0a\x09\x09material.attenuationColor,\x20material.attenuationDistance\x20);\x0a\x09material.transmissionAlpha\x20=\x20mix(\x20material.transmissionAlpha,\x20transmitted.a,\x20material.transmission\x20);\x0a\x09totalDiffuse\x20=\x20mix(\x20totalDiffuse,\x20transmitted.rgb,\x20material.transmission\x20);\x0a#endif','transmission_pars_fragment':'#ifdef\x20USE_TRANSMISSION\x0a\x09uniform\x20float\x20transmission;\x0a\x09uniform\x20float\x20thickness;\x0a\x09uniform\x20float\x20attenuationDistance;\x0a\x09uniform\x20vec3\x20attenuationColor;\x0a\x09#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09\x09uniform\x20sampler2D\x20transmissionMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_THICKNESSMAP\x0a\x09\x09uniform\x20sampler2D\x20thicknessMap;\x0a\x09#endif\x0a\x09uniform\x20vec2\x20transmissionSamplerSize;\x0a\x09uniform\x20sampler2D\x20transmissionSamplerMap;\x0a\x09uniform\x20mat4\x20modelMatrix;\x0a\x09uniform\x20mat4\x20projectionMatrix;\x0a\x09varying\x20vec3\x20vWorldPosition;\x0a\x09float\x20w0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20(\x20a\x20*\x20(\x20-\x20a\x20+\x203.0\x20)\x20-\x203.0\x20)\x20+\x201.0\x20);\x0a\x09}\x0a\x09float\x20w1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20\x20a\x20*\x20(\x203.0\x20*\x20a\x20-\x206.0\x20)\x20+\x204.0\x20);\x0a\x09}\x0a\x09float\x20w2(\x20float\x20a\x20){\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20(\x20a\x20*\x20(\x20-\x203.0\x20*\x20a\x20+\x203.0\x20)\x20+\x203.0\x20)\x20+\x201.0\x20);\x0a\x09}\x0a\x09float\x20w3(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20a\x20*\x20a\x20);\x0a\x09}\x0a\x09float\x20g0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20w0(\x20a\x20)\x20+\x20w1(\x20a\x20);\x0a\x09}\x0a\x09float\x20g1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20w2(\x20a\x20)\x20+\x20w3(\x20a\x20);\x0a\x09}\x0a\x09float\x20h0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20-\x201.0\x20+\x20w1(\x20a\x20)\x20/\x20(\x20w0(\x20a\x20)\x20+\x20w1(\x20a\x20)\x20);\x0a\x09}\x0a\x09float\x20h1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x201.0\x20+\x20w3(\x20a\x20)\x20/\x20(\x20w2(\x20a\x20)\x20+\x20w3(\x20a\x20)\x20);\x0a\x09}\x0a\x09vec4\x20bicubic(\x20sampler2D\x20tex,\x20vec2\x20uv,\x20vec4\x20texelSize,\x20float\x20lod\x20)\x20{\x0a\x09\x09uv\x20=\x20uv\x20*\x20texelSize.zw\x20+\x200.5;\x0a\x09\x09vec2\x20iuv\x20=\x20floor(\x20uv\x20);\x0a\x09\x09vec2\x20fuv\x20=\x20fract(\x20uv\x20);\x0a\x09\x09float\x20g0x\x20=\x20g0(\x20fuv.x\x20);\x0a\x09\x09float\x20g1x\x20=\x20g1(\x20fuv.x\x20);\x0a\x09\x09float\x20h0x\x20=\x20h0(\x20fuv.x\x20);\x0a\x09\x09float\x20h1x\x20=\x20h1(\x20fuv.x\x20);\x0a\x09\x09float\x20h0y\x20=\x20h0(\x20fuv.y\x20);\x0a\x09\x09float\x20h1y\x20=\x20h1(\x20fuv.y\x20);\x0a\x09\x09vec2\x20p0\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h0x,\x20iuv.y\x20+\x20h0y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p1\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h1x,\x20iuv.y\x20+\x20h0y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p2\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h0x,\x20iuv.y\x20+\x20h1y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p3\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h1x,\x20iuv.y\x20+\x20h1y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09return\x20g0(\x20fuv.y\x20)\x20*\x20(\x20g0x\x20*\x20textureLod(\x20tex,\x20p0,\x20lod\x20)\x20+\x20g1x\x20*\x20textureLod(\x20tex,\x20p1,\x20lod\x20)\x20)\x20+\x0a\x09\x09\x09g1(\x20fuv.y\x20)\x20*\x20(\x20g0x\x20*\x20textureLod(\x20tex,\x20p2,\x20lod\x20)\x20+\x20g1x\x20*\x20textureLod(\x20tex,\x20p3,\x20lod\x20)\x20);\x0a\x09}\x0a\x09vec4\x20textureBicubic(\x20sampler2D\x20sampler,\x20vec2\x20uv,\x20float\x20lod\x20)\x20{\x0a\x09\x09vec2\x20fLodSize\x20=\x20vec2(\x20textureSize(\x20sampler,\x20int(\x20lod\x20)\x20)\x20);\x0a\x09\x09vec2\x20cLodSize\x20=\x20vec2(\x20textureSize(\x20sampler,\x20int(\x20lod\x20+\x201.0\x20)\x20)\x20);\x0a\x09\x09vec2\x20fLodSizeInv\x20=\x201.0\x20/\x20fLodSize;\x0a\x09\x09vec2\x20cLodSizeInv\x20=\x201.0\x20/\x20cLodSize;\x0a\x09\x09vec4\x20fSample\x20=\x20bicubic(\x20sampler,\x20uv,\x20vec4(\x20fLodSizeInv,\x20fLodSize\x20),\x20floor(\x20lod\x20)\x20);\x0a\x09\x09vec4\x20cSample\x20=\x20bicubic(\x20sampler,\x20uv,\x20vec4(\x20cLodSizeInv,\x20cLodSize\x20),\x20ceil(\x20lod\x20)\x20);\x0a\x09\x09return\x20mix(\x20fSample,\x20cSample,\x20fract(\x20lod\x20)\x20);\x0a\x09}\x0a\x09vec3\x20getVolumeTransmissionRay(\x20const\x20in\x20vec3\x20n,\x20const\x20in\x20vec3\x20v,\x20const\x20in\x20float\x20thickness,\x20const\x20in\x20float\x20ior,\x20const\x20in\x20mat4\x20modelMatrix\x20)\x20{\x0a\x09\x09vec3\x20refractionVector\x20=\x20refract(\x20-\x20v,\x20normalize(\x20n\x20),\x201.0\x20/\x20ior\x20);\x0a\x09\x09vec3\x20modelScale;\x0a\x09\x09modelScale.x\x20=\x20length(\x20vec3(\x20modelMatrix[\x200\x20].xyz\x20)\x20);\x0a\x09\x09modelScale.y\x20=\x20length(\x20vec3(\x20modelMatrix[\x201\x20].xyz\x20)\x20);\x0a\x09\x09modelScale.z\x20=\x20length(\x20vec3(\x20modelMatrix[\x202\x20].xyz\x20)\x20);\x0a\x09\x09return\x20normalize(\x20refractionVector\x20)\x20*\x20thickness\x20*\x20modelScale;\x0a\x09}\x0a\x09float\x20applyIorToRoughness(\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20float\x20ior\x20)\x20{\x0a\x09\x09return\x20roughness\x20*\x20clamp(\x20ior\x20*\x202.0\x20-\x202.0,\x200.0,\x201.0\x20);\x0a\x09}\x0a\x09vec4\x20getTransmissionSample(\x20const\x20in\x20vec2\x20fragCoord,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20float\x20ior\x20)\x20{\x0a\x09\x09float\x20lod\x20=\x20log2(\x20transmissionSamplerSize.x\x20)\x20*\x20applyIorToRoughness(\x20roughness,\x20ior\x20);\x0a\x09\x09return\x20textureBicubic(\x20transmissionSamplerMap,\x20fragCoord.xy,\x20lod\x20);\x0a\x09}\x0a\x09vec3\x20volumeAttenuation(\x20const\x20in\x20float\x20transmissionDistance,\x20const\x20in\x20vec3\x20attenuationColor,\x20const\x20in\x20float\x20attenuationDistance\x20)\x20{\x0a\x09\x09if\x20(\x20isinf(\x20attenuationDistance\x20)\x20)\x20{\x0a\x09\x09\x09return\x20vec3(\x201.0\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09vec3\x20attenuationCoefficient\x20=\x20-log(\x20attenuationColor\x20)\x20/\x20attenuationDistance;\x0a\x09\x09\x09vec3\x20transmittance\x20=\x20exp(\x20-\x20attenuationCoefficient\x20*\x20transmissionDistance\x20);\x09\x09\x09return\x20transmittance;\x0a\x09\x09}\x0a\x09}\x0a\x09vec4\x20getIBLVolumeRefraction(\x20const\x20in\x20vec3\x20n,\x20const\x20in\x20vec3\x20v,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20vec3\x20diffuseColor,\x0a\x09\x09const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20vec3\x20position,\x20const\x20in\x20mat4\x20modelMatrix,\x0a\x09\x09const\x20in\x20mat4\x20viewMatrix,\x20const\x20in\x20mat4\x20projMatrix,\x20const\x20in\x20float\x20dispersion,\x20const\x20in\x20float\x20ior,\x20const\x20in\x20float\x20thickness,\x0a\x09\x09const\x20in\x20vec3\x20attenuationColor,\x20const\x20in\x20float\x20attenuationDistance\x20)\x20{\x0a\x09\x09vec4\x20transmittedLight;\x0a\x09\x09vec3\x20transmittance;\x0a\x09\x09#ifdef\x20USE_DISPERSION\x0a\x09\x09\x09float\x20halfSpread\x20=\x20(\x20ior\x20-\x201.0\x20)\x20*\x200.025\x20*\x20dispersion;\x0a\x09\x09\x09vec3\x20iors\x20=\x20vec3(\x20ior\x20-\x20halfSpread,\x20ior,\x20ior\x20+\x20halfSpread\x20);\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x203;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09vec3\x20transmissionRay\x20=\x20getVolumeTransmissionRay(\x20n,\x20v,\x20thickness,\x20iors[\x20i\x20],\x20modelMatrix\x20);\x0a\x09\x09\x09\x09vec3\x20refractedRayExit\x20=\x20position\x20+\x20transmissionRay;\x0a\x09\x09\x09\x09vec4\x20ndcPos\x20=\x20projMatrix\x20*\x20viewMatrix\x20*\x20vec4(\x20refractedRayExit,\x201.0\x20);\x0a\x09\x09\x09\x09vec2\x20refractionCoords\x20=\x20ndcPos.xy\x20/\x20ndcPos.w;\x0a\x09\x09\x09\x09refractionCoords\x20+=\x201.0;\x0a\x09\x09\x09\x09refractionCoords\x20/=\x202.0;\x0a\x09\x09\x09\x09vec4\x20transmissionSample\x20=\x20getTransmissionSample(\x20refractionCoords,\x20roughness,\x20iors[\x20i\x20]\x20);\x0a\x09\x09\x09\x09transmittedLight[\x20i\x20]\x20=\x20transmissionSample[\x20i\x20];\x0a\x09\x09\x09\x09transmittedLight.a\x20+=\x20transmissionSample.a;\x0a\x09\x09\x09\x09transmittance[\x20i\x20]\x20=\x20diffuseColor[\x20i\x20]\x20*\x20volumeAttenuation(\x20length(\x20transmissionRay\x20),\x20attenuationColor,\x20attenuationDistance\x20)[\x20i\x20];\x0a\x09\x09\x09}\x0a\x09\x09\x09transmittedLight.a\x20/=\x203.0;\x0a\x09\x09#else\x0a\x09\x09\x09vec3\x20transmissionRay\x20=\x20getVolumeTransmissionRay(\x20n,\x20v,\x20thickness,\x20ior,\x20modelMatrix\x20);\x0a\x09\x09\x09vec3\x20refractedRayExit\x20=\x20position\x20+\x20transmissionRay;\x0a\x09\x09\x09vec4\x20ndcPos\x20=\x20projMatrix\x20*\x20viewMatrix\x20*\x20vec4(\x20refractedRayExit,\x201.0\x20);\x0a\x09\x09\x09vec2\x20refractionCoords\x20=\x20ndcPos.xy\x20/\x20ndcPos.w;\x0a\x09\x09\x09refractionCoords\x20+=\x201.0;\x0a\x09\x09\x09refractionCoords\x20/=\x202.0;\x0a\x09\x09\x09transmittedLight\x20=\x20getTransmissionSample(\x20refractionCoords,\x20roughness,\x20ior\x20);\x0a\x09\x09\x09transmittance\x20=\x20diffuseColor\x20*\x20volumeAttenuation(\x20length(\x20transmissionRay\x20),\x20attenuationColor,\x20attenuationDistance\x20);\x0a\x09\x09#endif\x0a\x09\x09vec3\x20attenuatedColor\x20=\x20transmittance\x20*\x20transmittedLight.rgb;\x0a\x09\x09vec3\x20F\x20=\x20EnvironmentBRDF(\x20n,\x20v,\x20specularColor,\x20specularF90,\x20roughness\x20);\x0a\x09\x09float\x20transmittanceFactor\x20=\x20(\x20transmittance.r\x20+\x20transmittance.g\x20+\x20transmittance.b\x20)\x20/\x203.0;\x0a\x09\x09return\x20vec4(\x20(\x201.0\x20-\x20F\x20)\x20*\x20attenuatedColor,\x201.0\x20-\x20(\x201.0\x20-\x20transmittedLight.a\x20)\x20*\x20transmittanceFactor\x20);\x0a\x09}\x0a#endif','uv_pars_fragment':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09varying\x20vec2\x20vMapUv;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09varying\x20vec2\x20vAlphaMapUv;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09varying\x20vec2\x20vLightMapUv;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09varying\x20vec2\x20vAoMapUv;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09varying\x20vec2\x20vBumpMapUv;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09varying\x20vec2\x20vNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09varying\x20vec2\x20vEmissiveMapUv;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09varying\x20vec2\x20vMetalnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09varying\x20vec2\x20vAnisotropyMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09varying\x20vec2\x20vClearcoatMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09varying\x20vec2\x20vClearcoatNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vClearcoatRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09varying\x20vec2\x20vIridescenceMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09varying\x20vec2\x20vIridescenceThicknessMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09varying\x20vec2\x20vSheenColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vSheenRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09varying\x20vec2\x20vSpecularMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09varying\x20vec2\x20vSpecularColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09varying\x20vec2\x20vSpecularIntensityMapUv;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09uniform\x20mat3\x20transmissionMapTransform;\x0a\x09varying\x20vec2\x20vTransmissionMapUv;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20thicknessMapTransform;\x0a\x09varying\x20vec2\x20vThicknessMapUv;\x0a#endif','uv_pars_vertex':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09uniform\x20mat3\x20mapTransform;\x0a\x09varying\x20vec2\x20vMapUv;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20mat3\x20alphaMapTransform;\x0a\x09varying\x20vec2\x20vAlphaMapUv;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09uniform\x20mat3\x20lightMapTransform;\x0a\x09varying\x20vec2\x20vLightMapUv;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09uniform\x20mat3\x20aoMapTransform;\x0a\x09varying\x20vec2\x20vAoMapUv;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09uniform\x20mat3\x20bumpMapTransform;\x0a\x09varying\x20vec2\x20vBumpMapUv;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09uniform\x20mat3\x20normalMapTransform;\x0a\x09varying\x20vec2\x20vNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09uniform\x20mat3\x20displacementMapTransform;\x0a\x09varying\x20vec2\x20vDisplacementMapUv;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09uniform\x20mat3\x20emissiveMapTransform;\x0a\x09varying\x20vec2\x20vEmissiveMapUv;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09uniform\x20mat3\x20metalnessMapTransform;\x0a\x09varying\x20vec2\x20vMetalnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20roughnessMapTransform;\x0a\x09varying\x20vec2\x20vRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09uniform\x20mat3\x20anisotropyMapTransform;\x0a\x09varying\x20vec2\x20vAnisotropyMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09uniform\x20mat3\x20clearcoatMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09uniform\x20mat3\x20clearcoatNormalMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20clearcoatRoughnessMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09uniform\x20mat3\x20sheenColorMapTransform;\x0a\x09varying\x20vec2\x20vSheenColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20sheenRoughnessMapTransform;\x0a\x09varying\x20vec2\x20vSheenRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09uniform\x20mat3\x20iridescenceMapTransform;\x0a\x09varying\x20vec2\x20vIridescenceMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20iridescenceThicknessMapTransform;\x0a\x09varying\x20vec2\x20vIridescenceThicknessMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09uniform\x20mat3\x20specularMapTransform;\x0a\x09varying\x20vec2\x20vSpecularMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09uniform\x20mat3\x20specularColorMapTransform;\x0a\x09varying\x20vec2\x20vSpecularColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09uniform\x20mat3\x20specularIntensityMapTransform;\x0a\x09varying\x20vec2\x20vSpecularIntensityMapUv;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09uniform\x20mat3\x20transmissionMapTransform;\x0a\x09varying\x20vec2\x20vTransmissionMapUv;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20thicknessMapTransform;\x0a\x09varying\x20vec2\x20vThicknessMapUv;\x0a#endif','uv_vertex':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09vUv\x20=\x20vec3(\x20uv,\x201\x20).xy;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09vMapUv\x20=\x20(\x20mapTransform\x20*\x20vec3(\x20MAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09vAlphaMapUv\x20=\x20(\x20alphaMapTransform\x20*\x20vec3(\x20ALPHAMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09vLightMapUv\x20=\x20(\x20lightMapTransform\x20*\x20vec3(\x20LIGHTMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09vAoMapUv\x20=\x20(\x20aoMapTransform\x20*\x20vec3(\x20AOMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09vBumpMapUv\x20=\x20(\x20bumpMapTransform\x20*\x20vec3(\x20BUMPMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09vNormalMapUv\x20=\x20(\x20normalMapTransform\x20*\x20vec3(\x20NORMALMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09vDisplacementMapUv\x20=\x20(\x20displacementMapTransform\x20*\x20vec3(\x20DISPLACEMENTMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09vEmissiveMapUv\x20=\x20(\x20emissiveMapTransform\x20*\x20vec3(\x20EMISSIVEMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09vMetalnessMapUv\x20=\x20(\x20metalnessMapTransform\x20*\x20vec3(\x20METALNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09vRoughnessMapUv\x20=\x20(\x20roughnessMapTransform\x20*\x20vec3(\x20ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09vAnisotropyMapUv\x20=\x20(\x20anisotropyMapTransform\x20*\x20vec3(\x20ANISOTROPYMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09vClearcoatMapUv\x20=\x20(\x20clearcoatMapTransform\x20*\x20vec3(\x20CLEARCOATMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09vClearcoatNormalMapUv\x20=\x20(\x20clearcoatNormalMapTransform\x20*\x20vec3(\x20CLEARCOAT_NORMALMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09vClearcoatRoughnessMapUv\x20=\x20(\x20clearcoatRoughnessMapTransform\x20*\x20vec3(\x20CLEARCOAT_ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09vIridescenceMapUv\x20=\x20(\x20iridescenceMapTransform\x20*\x20vec3(\x20IRIDESCENCEMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09vIridescenceThicknessMapUv\x20=\x20(\x20iridescenceThicknessMapTransform\x20*\x20vec3(\x20IRIDESCENCE_THICKNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09vSheenColorMapUv\x20=\x20(\x20sheenColorMapTransform\x20*\x20vec3(\x20SHEEN_COLORMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09vSheenRoughnessMapUv\x20=\x20(\x20sheenRoughnessMapTransform\x20*\x20vec3(\x20SHEEN_ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09vSpecularMapUv\x20=\x20(\x20specularMapTransform\x20*\x20vec3(\x20SPECULARMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09vSpecularColorMapUv\x20=\x20(\x20specularColorMapTransform\x20*\x20vec3(\x20SPECULAR_COLORMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09vSpecularIntensityMapUv\x20=\x20(\x20specularIntensityMapTransform\x20*\x20vec3(\x20SPECULAR_INTENSITYMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09vTransmissionMapUv\x20=\x20(\x20transmissionMapTransform\x20*\x20vec3(\x20TRANSMISSIONMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09vThicknessMapUv\x20=\x20(\x20thicknessMapTransform\x20*\x20vec3(\x20THICKNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif','worldpos_vertex':'#if\x20defined(\x20USE_ENVMAP\x20)\x20||\x20defined(\x20DISTANCE\x20)\x20||\x20defined\x20(\x20USE_SHADOWMAP\x20)\x20||\x20defined\x20(\x20USE_TRANSMISSION\x20)\x20||\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09vec4\x20worldPosition\x20=\x20vec4(\x20transformed,\x201.0\x20);\x0a\x09#ifdef\x20USE_BATCHING\x0a\x09\x09worldPosition\x20=\x20batchingMatrix\x20*\x20worldPosition;\x0a\x09#endif\x0a\x09#ifdef\x20USE_INSTANCING\x0a\x09\x09worldPosition\x20=\x20instanceMatrix\x20*\x20worldPosition;\x0a\x09#endif\x0a\x09worldPosition\x20=\x20modelMatrix\x20*\x20worldPosition;\x0a#endif','background_vert':'varying\x20vec2\x20vUv;\x0auniform\x20mat3\x20uvTransform;\x0avoid\x20main()\x20{\x0a\x09vUv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20uv,\x201\x20)\x20).xy;\x0a\x09gl_Position\x20=\x20vec4(\x20position.xy,\x201.0,\x201.0\x20);\x0a}','background_frag':'uniform\x20sampler2D\x20t2D;\x0auniform\x20float\x20backgroundIntensity;\x0avarying\x20vec2\x20vUv;\x0avoid\x20main()\x20{\x0a\x09vec4\x20texColor\x20=\x20texture2D(\x20t2D,\x20vUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE\x0a\x09\x09texColor\x20=\x20vec4(\x20mix(\x20pow(\x20texColor.rgb\x20*\x200.9478672986\x20+\x20vec3(\x200.0521327014\x20),\x20vec3(\x202.4\x20)\x20),\x20texColor.rgb\x20*\x200.0773993808,\x20vec3(\x20lessThanEqual(\x20texColor.rgb,\x20vec3(\x200.04045\x20)\x20)\x20)\x20),\x20texColor.w\x20);\x0a\x09#endif\x0a\x09texColor.rgb\x20*=\x20backgroundIntensity;\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','backgroundCube_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_Position.z\x20=\x20gl_Position.w;\x0a}','backgroundCube_frag':'#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09uniform\x20samplerCube\x20envMap;\x0a#elif\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09uniform\x20sampler2D\x20envMap;\x0a#endif\x0auniform\x20float\x20flipEnvMap;\x0auniform\x20float\x20backgroundBlurriness;\x0auniform\x20float\x20backgroundIntensity;\x0auniform\x20mat3\x20backgroundRotation;\x0avarying\x20vec3\x20vWorldDirection;\x0a#include\x20<cube_uv_reflection_fragment>\x0avoid\x20main()\x20{\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09vec4\x20texColor\x20=\x20textureCube(\x20envMap,\x20backgroundRotation\x20*\x20vec3(\x20flipEnvMap\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09\x09vec4\x20texColor\x20=\x20textureCubeUV(\x20envMap,\x20backgroundRotation\x20*\x20vWorldDirection,\x20backgroundBlurriness\x20);\x0a\x09#else\x0a\x09\x09vec4\x20texColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x201.0\x20);\x0a\x09#endif\x0a\x09texColor.rgb\x20*=\x20backgroundIntensity;\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','cube_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_Position.z\x20=\x20gl_Position.w;\x0a}','cube_frag':'uniform\x20samplerCube\x20tCube;\x0auniform\x20float\x20tFlip;\x0auniform\x20float\x20opacity;\x0avarying\x20vec3\x20vWorldDirection;\x0avoid\x20main()\x20{\x0a\x09vec4\x20texColor\x20=\x20textureCube(\x20tCube,\x20vec3(\x20tFlip\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09gl_FragColor.a\x20*=\x20opacity;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','depth_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avarying\x20vec2\x20vHighPrecisionZW;\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vHighPrecisionZW\x20=\x20gl_Position.zw;\x0a}','depth_frag':'#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09uniform\x20float\x20opacity;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avarying\x20vec2\x20vHighPrecisionZW;\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x201.0\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09\x09diffuseColor.a\x20=\x20opacity;\x0a\x09#endif\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09float\x20fragCoordZ\x20=\x200.5\x20*\x20vHighPrecisionZW[0]\x20/\x20vHighPrecisionZW[1]\x20+\x200.5;\x0a\x09#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20vec3(\x201.0\x20-\x20fragCoordZ\x20),\x20opacity\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203201\x0a\x09\x09gl_FragColor\x20=\x20packDepthToRGBA(\x20fragCoordZ\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203202\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20packDepthToRGB(\x20fragCoordZ\x20),\x201.0\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203203\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20packDepthToRG(\x20fragCoordZ\x20),\x200.0,\x201.0\x20);\x0a\x09#endif\x0a}','distanceRGBA_vert':'#define\x20DISTANCE\x0avarying\x20vec3\x20vWorldPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a}','distanceRGBA_frag':'#define\x20DISTANCE\x0auniform\x20vec3\x20referencePosition;\x0auniform\x20float\x20nearDistance;\x0auniform\x20float\x20farDistance;\x0avarying\x20vec3\x20vWorldPosition;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main\x20()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x201.0\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09float\x20dist\x20=\x20length(\x20vWorldPosition\x20-\x20referencePosition\x20);\x0a\x09dist\x20=\x20(\x20dist\x20-\x20nearDistance\x20)\x20/\x20(\x20farDistance\x20-\x20nearDistance\x20);\x0a\x09dist\x20=\x20saturate(\x20dist\x20);\x0a\x09gl_FragColor\x20=\x20packDepthToRGBA(\x20dist\x20);\x0a}','equirect_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a}','equirect_frag':'uniform\x20sampler2D\x20tEquirect;\x0avarying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vec3\x20direction\x20=\x20normalize(\x20vWorldDirection\x20);\x0a\x09vec2\x20sampleUV\x20=\x20equirectUv(\x20direction\x20);\x0a\x09gl_FragColor\x20=\x20texture2D(\x20tEquirect,\x20sampleUV\x20);\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','linedashed_vert':'uniform\x20float\x20scale;\x0aattribute\x20float\x20lineDistance;\x0avarying\x20float\x20vLineDistance;\x0a#include\x20<common>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09vLineDistance\x20=\x20scale\x20*\x20lineDistance;\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','linedashed_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0auniform\x20float\x20dashSize;\x0auniform\x20float\x20totalSize;\x0avarying\x20float\x20vLineDistance;\x0a#include\x20<common>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09if\x20(\x20mod(\x20vLineDistance,\x20totalSize\x20)\x20>\x20dashSize\x20)\x20{\x0a\x09\x09discard;\x0a\x09}\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a}','meshbasic_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#if\x20defined\x20(\x20USE_ENVMAP\x20)\x20||\x20defined\x20(\x20USE_SKINNING\x20)\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinbase_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09\x09#include\x20<defaultnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshbasic_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09#ifdef\x20USE_LIGHTMAP\x0a\x09\x09vec4\x20lightMapTexel\x20=\x20texture2D(\x20lightMap,\x20vLightMapUv\x20);\x0a\x09\x09reflectedLight.indirectDiffuse\x20+=\x20lightMapTexel.rgb\x20*\x20lightMapIntensity\x20*\x20RECIPROCAL_PI;\x0a\x09#else\x0a\x09\x09reflectedLight.indirectDiffuse\x20+=\x20vec3(\x201.0\x20);\x0a\x09#endif\x0a\x09#include\x20<aomap_fragment>\x0a\x09reflectedLight.indirectDiffuse\x20*=\x20diffuseColor.rgb;\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.indirectDiffuse;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshlambert_vert':'#define\x20LAMBERT\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshlambert_frag':'#define\x20LAMBERT\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_lambert_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_lambert_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshmatcap_vert':'#define\x20MATCAP\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a}','meshmatcap_frag':'#define\x20MATCAP\x0auniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0auniform\x20sampler2D\x20matcap;\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09vec3\x20viewDir\x20=\x20normalize(\x20vViewPosition\x20);\x0a\x09vec3\x20x\x20=\x20normalize(\x20vec3(\x20viewDir.z,\x200.0,\x20-\x20viewDir.x\x20)\x20);\x0a\x09vec3\x20y\x20=\x20cross(\x20viewDir,\x20x\x20);\x0a\x09vec2\x20uv\x20=\x20vec2(\x20dot(\x20x,\x20normal\x20),\x20dot(\x20y,\x20normal\x20)\x20)\x20*\x200.495\x20+\x200.5;\x0a\x09#ifdef\x20USE_MATCAP\x0a\x09\x09vec4\x20matcapColor\x20=\x20texture2D(\x20matcap,\x20uv\x20);\x0a\x09#else\x0a\x09\x09vec4\x20matcapColor\x20=\x20vec4(\x20vec3(\x20mix(\x200.2,\x200.8,\x20uv.y\x20)\x20),\x201.0\x20);\x0a\x09#endif\x0a\x09vec3\x20outgoingLight\x20=\x20diffuseColor.rgb\x20*\x20matcapColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshnormal_vert':'#define\x20NORMAL\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09varying\x20vec3\x20vViewPosition;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a#endif\x0a}','meshnormal_frag':'#define\x20NORMAL\x0auniform\x20float\x20opacity;\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09varying\x20vec3\x20vViewPosition;\x0a#endif\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09gl_FragColor\x20=\x20vec4(\x20packNormalToRGB(\x20normal\x20),\x20diffuseColor.a\x20);\x0a\x09#ifdef\x20OPAQUE\x0a\x09\x09gl_FragColor.a\x20=\x201.0;\x0a\x09#endif\x0a}','meshphong_vert':'#define\x20PHONG\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshphong_frag':'#define\x20PHONG\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20vec3\x20specular;\x0auniform\x20float\x20shininess;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_phong_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_phong_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20reflectedLight.directSpecular\x20+\x20reflectedLight.indirectSpecular\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshphysical_vert':'#define\x20STANDARD\x0avarying\x20vec3\x20vViewPosition;\x0a#ifdef\x20USE_TRANSMISSION\x0a\x09varying\x20vec3\x20vWorldPosition;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a#ifdef\x20USE_TRANSMISSION\x0a\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a#endif\x0a}','meshphysical_frag':'#define\x20STANDARD\x0a#ifdef\x20PHYSICAL\x0a\x09#define\x20IOR\x0a\x09#define\x20USE_SPECULAR\x0a#endif\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20roughness;\x0auniform\x20float\x20metalness;\x0auniform\x20float\x20opacity;\x0a#ifdef\x20IOR\x0a\x09uniform\x20float\x20ior;\x0a#endif\x0a#ifdef\x20USE_SPECULAR\x0a\x09uniform\x20float\x20specularIntensity;\x0a\x09uniform\x20vec3\x20specularColor;\x0a\x09#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09\x09uniform\x20sampler2D\x20specularColorMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09\x09uniform\x20sampler2D\x20specularIntensityMap;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09uniform\x20float\x20clearcoat;\x0a\x09uniform\x20float\x20clearcoatRoughness;\x0a#endif\x0a#ifdef\x20USE_DISPERSION\x0a\x09uniform\x20float\x20dispersion;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09uniform\x20float\x20iridescence;\x0a\x09uniform\x20float\x20iridescenceIOR;\x0a\x09uniform\x20float\x20iridescenceThicknessMinimum;\x0a\x09uniform\x20float\x20iridescenceThicknessMaximum;\x0a#endif\x0a#ifdef\x20USE_SHEEN\x0a\x09uniform\x20vec3\x20sheenColor;\x0a\x09uniform\x20float\x20sheenRoughness;\x0a\x09#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09\x09uniform\x20sampler2D\x20sheenColorMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09\x09uniform\x20sampler2D\x20sheenRoughnessMap;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09uniform\x20vec2\x20anisotropyVector;\x0a\x09#ifdef\x20USE_ANISOTROPYMAP\x0a\x09\x09uniform\x20sampler2D\x20anisotropyMap;\x0a\x09#endif\x0a#endif\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<iridescence_fragment>\x0a#include\x20<cube_uv_reflection_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_physical_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_physical_pars_fragment>\x0a#include\x20<transmission_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<clearcoat_pars_fragment>\x0a#include\x20<iridescence_pars_fragment>\x0a#include\x20<roughnessmap_pars_fragment>\x0a#include\x20<metalnessmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<roughnessmap_fragment>\x0a\x09#include\x20<metalnessmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<clearcoat_normal_fragment_begin>\x0a\x09#include\x20<clearcoat_normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_physical_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20totalDiffuse\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse;\x0a\x09vec3\x20totalSpecular\x20=\x20reflectedLight.directSpecular\x20+\x20reflectedLight.indirectSpecular;\x0a\x09#include\x20<transmission_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20totalDiffuse\x20+\x20totalSpecular\x20+\x20totalEmissiveRadiance;\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09float\x20sheenEnergyComp\x20=\x201.0\x20-\x200.157\x20*\x20max3(\x20material.sheenColor\x20);\x0a\x09\x09outgoingLight\x20=\x20outgoingLight\x20*\x20sheenEnergyComp\x20+\x20sheenSpecularDirect\x20+\x20sheenSpecularIndirect;\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20dotNVcc\x20=\x20saturate(\x20dot(\x20geometryClearcoatNormal,\x20geometryViewDir\x20)\x20);\x0a\x09\x09vec3\x20Fcc\x20=\x20F_Schlick(\x20material.clearcoatF0,\x20material.clearcoatF90,\x20dotNVcc\x20);\x0a\x09\x09outgoingLight\x20=\x20outgoingLight\x20*\x20(\x201.0\x20-\x20material.clearcoat\x20*\x20Fcc\x20)\x20+\x20(\x20clearcoatSpecularDirect\x20+\x20clearcoatSpecularIndirect\x20)\x20*\x20material.clearcoat;\x0a\x09#endif\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshtoon_vert':'#define\x20TOON\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshtoon_frag':'#define\x20TOON\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<gradientmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_toon_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_toon_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','points_vert':'uniform\x20float\x20size;\x0auniform\x20float\x20scale;\x0a#include\x20<common>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0a#ifdef\x20USE_POINTS_UV\x0a\x09varying\x20vec2\x20vUv;\x0a\x09uniform\x20mat3\x20uvTransform;\x0a#endif\x0avoid\x20main()\x20{\x0a\x09#ifdef\x20USE_POINTS_UV\x0a\x09\x09vUv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20uv,\x201\x20)\x20).xy;\x0a\x09#endif\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_PointSize\x20=\x20size;\x0a\x09#ifdef\x20USE_SIZEATTENUATION\x0a\x09\x09bool\x20isPerspective\x20=\x20isPerspectiveMatrix(\x20projectionMatrix\x20);\x0a\x09\x09if\x20(\x20isPerspective\x20)\x20gl_PointSize\x20*=\x20(\x20scale\x20/\x20-\x20mvPosition.z\x20);\x0a\x09#endif\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','points_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<map_particle_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_particle_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a}','shadow_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','shadow_frag':'uniform\x20vec3\x20color;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<shadowmask_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09gl_FragColor\x20=\x20vec4(\x20color,\x20opacity\x20*\x20(\x201.0\x20-\x20getShadowMask()\x20)\x20);\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a}','sprite_vert':'uniform\x20float\x20rotation;\x0auniform\x20vec2\x20center;\x0a#include\x20<common>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09vec4\x20mvPosition\x20=\x20modelViewMatrix[\x203\x20];\x0a\x09vec2\x20scale\x20=\x20vec2(\x20length(\x20modelMatrix[\x200\x20].xyz\x20),\x20length(\x20modelMatrix[\x201\x20].xyz\x20)\x20);\x0a\x09#ifndef\x20USE_SIZEATTENUATION\x0a\x09\x09bool\x20isPerspective\x20=\x20isPerspectiveMatrix(\x20projectionMatrix\x20);\x0a\x09\x09if\x20(\x20isPerspective\x20)\x20scale\x20*=\x20-\x20mvPosition.z;\x0a\x09#endif\x0a\x09vec2\x20alignedPosition\x20=\x20(\x20position.xy\x20-\x20(\x20center\x20-\x20vec2(\x200.5\x20)\x20)\x20)\x20*\x20scale;\x0a\x09vec2\x20rotatedPosition;\x0a\x09rotatedPosition.x\x20=\x20cos(\x20rotation\x20)\x20*\x20alignedPosition.x\x20-\x20sin(\x20rotation\x20)\x20*\x20alignedPosition.y;\x0a\x09rotatedPosition.y\x20=\x20sin(\x20rotation\x20)\x20*\x20alignedPosition.x\x20+\x20cos(\x20rotation\x20)\x20*\x20alignedPosition.y;\x0a\x09mvPosition.xy\x20+=\x20rotatedPosition;\x0a\x09gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','sprite_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a}'},_0x6ff51={'common':{'diffuse':{'value':new _0x3e8626['Q1f'](0xffffff)},'opacity':{'value':0x1},'map':{'value':null},'mapTransform':{'value':new _0x3e8626['dwI']()},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x3e8626['dwI']()},'alphaTest':{'value':0x0}},'specularmap':{'specularMap':{'value':null},'specularMapTransform':{'value':new _0x3e8626['dwI']()}},'envmap':{'envMap':{'value':null},'envMapRotation':{'value':new _0x3e8626['dwI']()},'flipEnvMap':{'value':-0x1},'reflectivity':{'value':0x1},'ior':{'value':1.5},'refractionRatio':{'value':0.98}},'aomap':{'aoMap':{'value':null},'aoMapIntensity':{'value':0x1},'aoMapTransform':{'value':new _0x3e8626['dwI']()}},'lightmap':{'lightMap':{'value':null},'lightMapIntensity':{'value':0x1},'lightMapTransform':{'value':new _0x3e8626['dwI']()}},'bumpmap':{'bumpMap':{'value':null},'bumpMapTransform':{'value':new _0x3e8626['dwI']()},'bumpScale':{'value':0x1}},'normalmap':{'normalMap':{'value':null},'normalMapTransform':{'value':new _0x3e8626['dwI']()},'normalScale':{'value':new _0x3e8626['I9Y'](0x1,0x1)}},'displacementmap':{'displacementMap':{'value':null},'displacementMapTransform':{'value':new _0x3e8626['dwI']()},'displacementScale':{'value':0x1},'displacementBias':{'value':0x0}},'emissivemap':{'emissiveMap':{'value':null},'emissiveMapTransform':{'value':new _0x3e8626['dwI']()}},'metalnessmap':{'metalnessMap':{'value':null},'metalnessMapTransform':{'value':new _0x3e8626['dwI']()}},'roughnessmap':{'roughnessMap':{'value':null},'roughnessMapTransform':{'value':new _0x3e8626['dwI']()}},'gradientmap':{'gradientMap':{'value':null}},'fog':{'fogDensity':{'value':0.00025},'fogNear':{'value':0x1},'fogFar':{'value':0x7d0},'fogColor':{'value':new _0x3e8626['Q1f'](0xffffff)}},'lights':{'ambientLightColor':{'value':[]},'lightProbe':{'value':[]},'directionalLights':{'value':[],'properties':{'direction':{},'color':{}}},'directionalLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{}}},'directionalShadowMap':{'value':[]},'directionalShadowMatrix':{'value':[]},'spotLights':{'value':[],'properties':{'color':{},'position':{},'direction':{},'distance':{},'coneCos':{},'penumbraCos':{},'decay':{}}},'spotLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{}}},'spotLightMap':{'value':[]},'spotShadowMap':{'value':[]},'spotLightMatrix':{'value':[]},'pointLights':{'value':[],'properties':{'color':{},'position':{},'decay':{},'distance':{}}},'pointLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{},'shadowCameraNear':{},'shadowCameraFar':{}}},'pointShadowMap':{'value':[]},'pointShadowMatrix':{'value':[]},'hemisphereLights':{'value':[],'properties':{'direction':{},'skyColor':{},'groundColor':{}}},'rectAreaLights':{'value':[],'properties':{'color':{},'position':{},'width':{},'height':{}}},'ltc_1':{'value':null},'ltc_2':{'value':null}},'points':{'diffuse':{'value':new _0x3e8626['Q1f'](0xffffff)},'opacity':{'value':0x1},'size':{'value':0x1},'scale':{'value':0x1},'map':{'value':null},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x3e8626['dwI']()},'alphaTest':{'value':0x0},'uvTransform':{'value':new _0x3e8626['dwI']()}},'sprite':{'diffuse':{'value':new _0x3e8626['Q1f'](0xffffff)},'opacity':{'value':0x1},'center':{'value':new _0x3e8626['I9Y'](0.5,0.5)},'rotation':{'value':0x0},'map':{'value':null},'mapTransform':{'value':new _0x3e8626['dwI']()},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x3e8626['dwI']()},'alphaTest':{'value':0x0}}},_0x1dec1e={'basic':{'uniforms':(0x0,_0x3e8626['Iit'])([_0x6ff51['common'],_0x6ff51['specularmap'],_0x6ff51['envmap'],_0x6ff51['aomap'],_0x6ff51['lightmap'],_0x6ff51['fog']]),'vertexShader':_0x279f40['meshbasic_vert'],'fragmentShader':_0x279f40['meshbasic_frag']},'lambert':{'uniforms':(0x0,_0x3e8626['Iit'])([_0x6ff51['common'],_0x6ff51['specularmap'],_0x6ff51['envmap'],_0x6ff51['aomap'],_0x6ff51['lightmap'],_0x6ff51['emissivemap'],_0x6ff51['bumpmap'],_0x6ff51['normalmap'],_0x6ff51['displacementmap'],_0x6ff51['fog'],_0x6ff51['lights'],{'emissive':{'value':new _0x3e8626['Q1f'](0x0)}}]),'vertexShader':_0x279f40['meshlambert_vert'],'fragmentShader':_0x279f40['meshlambert_frag']},'phong':{'uniforms':(0x0,_0x3e8626['Iit'])([_0x6ff51['common'],_0x6ff51['specularmap'],_0x6ff51['envmap'],_0x6ff51['aomap'],_0x6ff51['lightmap'],_0x6ff51['emissivemap'],_0x6ff51['bumpmap'],_0x6ff51['normalmap'],_0x6ff51['displacementmap'],_0x6ff51['fog'],_0x6ff51['lights'],{'emissive':{'value':new _0x3e8626['Q1f'](0x0)},'specular':{'value':new _0x3e8626['Q1f'](0x111111)},'shininess':{'value':0x1e}}]),'vertexShader':_0x279f40['meshphong_vert'],'fragmentShader':_0x279f40['meshphong_frag']},'standard':{'uniforms':(0x0,_0x3e8626['Iit'])([_0x6ff51['common'],_0x6ff51['envmap'],_0x6ff51['aomap'],_0x6ff51['lightmap'],_0x6ff51['emissivemap'],_0x6ff51['bumpmap'],_0x6ff51['normalmap'],_0x6ff51['displacementmap'],_0x6ff51['roughnessmap'],_0x6ff51['metalnessmap'],_0x6ff51['fog'],_0x6ff51['lights'],{'emissive':{'value':new _0x3e8626['Q1f'](0x0)},'roughness':{'value':0x1},'metalness':{'value':0x0},'envMapIntensity':{'value':0x1}}]),'vertexShader':_0x279f40['meshphysical_vert'],'fragmentShader':_0x279f40['meshphysical_frag']},'toon':{'uniforms':(0x0,_0x3e8626['Iit'])([_0x6ff51['common'],_0x6ff51['aomap'],_0x6ff51['lightmap'],_0x6ff51['emissivemap'],_0x6ff51['bumpmap'],_0x6ff51['normalmap'],_0x6ff51['displacementmap'],_0x6ff51['gradientmap'],_0x6ff51['fog'],_0x6ff51['lights'],{'emissive':{'value':new _0x3e8626['Q1f'](0x0)}}]),'vertexShader':_0x279f40['meshtoon_vert'],'fragmentShader':_0x279f40['meshtoon_frag']},'matcap':{'uniforms':(0x0,_0x3e8626['Iit'])([_0x6ff51['common'],_0x6ff51['bumpmap'],_0x6ff51['normalmap'],_0x6ff51['displacementmap'],_0x6ff51['fog'],{'matcap':{'value':null}}]),'vertexShader':_0x279f40['meshmatcap_vert'],'fragmentShader':_0x279f40['meshmatcap_frag']},'points':{'uniforms':(0x0,_0x3e8626['Iit'])([_0x6ff51['points'],_0x6ff51['fog']]),'vertexShader':_0x279f40['points_vert'],'fragmentShader':_0x279f40['points_frag']},'dashed':{'uniforms':(0x0,_0x3e8626['Iit'])([_0x6ff51['common'],_0x6ff51['fog'],{'scale':{'value':0x1},'dashSize':{'value':0x1},'totalSize':{'value':0x2}}]),'vertexShader':_0x279f40['linedashed_vert'],'fragmentShader':_0x279f40['linedashed_frag']},'depth':{'uniforms':(0x0,_0x3e8626['Iit'])([_0x6ff51['common'],_0x6ff51['displacementmap']]),'vertexShader':_0x279f40['depth_vert'],'fragmentShader':_0x279f40['depth_frag']},'normal':{'uniforms':(0x0,_0x3e8626['Iit'])([_0x6ff51['common'],_0x6ff51['bumpmap'],_0x6ff51['normalmap'],_0x6ff51['displacementmap'],{'opacity':{'value':0x1}}]),'vertexShader':_0x279f40['meshnormal_vert'],'fragmentShader':_0x279f40['meshnormal_frag']},'sprite':{'uniforms':(0x0,_0x3e8626['Iit'])([_0x6ff51['sprite'],_0x6ff51['fog']]),'vertexShader':_0x279f40['sprite_vert'],'fragmentShader':_0x279f40['sprite_frag']},'background':{'uniforms':{'uvTransform':{'value':new _0x3e8626['dwI']()},'t2D':{'value':null},'backgroundIntensity':{'value':0x1}},'vertexShader':_0x279f40['background_vert'],'fragmentShader':_0x279f40['background_frag']},'backgroundCube':{'uniforms':{'envMap':{'value':null},'flipEnvMap':{'value':-0x1},'backgroundBlurriness':{'value':0x0},'backgroundIntensity':{'value':0x1},'backgroundRotation':{'value':new _0x3e8626['dwI']()}},'vertexShader':_0x279f40['backgroundCube_vert'],'fragmentShader':_0x279f40['backgroundCube_frag']},'cube':{'uniforms':{'tCube':{'value':null},'tFlip':{'value':-0x1},'opacity':{'value':0x1}},'vertexShader':_0x279f40['cube_vert'],'fragmentShader':_0x279f40['cube_frag']},'equirect':{'uniforms':{'tEquirect':{'value':null}},'vertexShader':_0x279f40['equirect_vert'],'fragmentShader':_0x279f40['equirect_frag']},'distanceRGBA':{'uniforms':(0x0,_0x3e8626['Iit'])([_0x6ff51['common'],_0x6ff51['displacementmap'],{'referencePosition':{'value':new _0x3e8626['Pq0']()},'nearDistance':{'value':0x1},'farDistance':{'value':0x3e8}}]),'vertexShader':_0x279f40['distanceRGBA_vert'],'fragmentShader':_0x279f40['distanceRGBA_frag']},'shadow':{'uniforms':(0x0,_0x3e8626['Iit'])([_0x6ff51['lights'],_0x6ff51['fog'],{'color':{'value':new _0x3e8626['Q1f'](0x0)},'opacity':{'value':0x1}}]),'vertexShader':_0x279f40['shadow_vert'],'fragmentShader':_0x279f40['shadow_frag']}};_0x1dec1e['physical']={'uniforms':(0x0,_0x3e8626['Iit'])([_0x1dec1e['standard']['uniforms'],{'clearcoat':{'value':0x0},'clearcoatMap':{'value':null},'clearcoatMapTransform':{'value':new _0x3e8626['dwI']()},'clearcoatNormalMap':{'value':null},'clearcoatNormalMapTransform':{'value':new _0x3e8626['dwI']()},'clearcoatNormalScale':{'value':new _0x3e8626['I9Y'](0x1,0x1)},'clearcoatRoughness':{'value':0x0},'clearcoatRoughnessMap':{'value':null},'clearcoatRoughnessMapTransform':{'value':new _0x3e8626['dwI']()},'dispersion':{'value':0x0},'iridescence':{'value':0x0},'iridescenceMap':{'value':null},'iridescenceMapTransform':{'value':new _0x3e8626['dwI']()},'iridescenceIOR':{'value':1.3},'iridescenceThicknessMinimum':{'value':0x64},'iridescenceThicknessMaximum':{'value':0x190},'iridescenceThicknessMap':{'value':null},'iridescenceThicknessMapTransform':{'value':new _0x3e8626['dwI']()},'sheen':{'value':0x0},'sheenColor':{'value':new _0x3e8626['Q1f'](0x0)},'sheenColorMap':{'value':null},'sheenColorMapTransform':{'value':new _0x3e8626['dwI']()},'sheenRoughness':{'value':0x1},'sheenRoughnessMap':{'value':null},'sheenRoughnessMapTransform':{'value':new _0x3e8626['dwI']()},'transmission':{'value':0x0},'transmissionMap':{'value':null},'transmissionMapTransform':{'value':new _0x3e8626['dwI']()},'transmissionSamplerSize':{'value':new _0x3e8626['I9Y']()},'transmissionSamplerMap':{'value':null},'thickness':{'value':0x0},'thicknessMap':{'value':null},'thicknessMapTransform':{'value':new _0x3e8626['dwI']()},'attenuationDistance':{'value':0x0},'attenuationColor':{'value':new _0x3e8626['Q1f'](0x0)},'specularColor':{'value':new _0x3e8626['Q1f'](0x1,0x1,0x1)},'specularColorMap':{'value':null},'specularColorMapTransform':{'value':new _0x3e8626['dwI']()},'specularIntensity':{'value':0x1},'specularIntensityMap':{'value':null},'specularIntensityMapTransform':{'value':new _0x3e8626['dwI']()},'anisotropyVector':{'value':new _0x3e8626['I9Y']()},'anisotropyMap':{'value':null},'anisotropyMapTransform':{'value':new _0x3e8626['dwI']()}}]),'vertexShader':_0x279f40['meshphysical_vert'],'fragmentShader':_0x279f40['meshphysical_frag']};const _0x2bf670={'r':0x0,'b':0x0,'g':0x0},_0x3ba860=new _0x3e8626['O9p'](),_0x479e1a=new _0x3e8626['kn4']();function _0x4e6a7e(_0x551f30,_0x4e53be,_0x4ba0d4,_0x5e891c,_0x5c3c63,_0xce1c98,_0x36326a){const _0x2ecb1d=new _0x3e8626['Q1f'](0x0);let _0x59c943,_0x10a0e2,_0x57d225=!0x0===_0xce1c98?0x0:0x1,_0x43aa3b=null,_0x261b61=0x0,_0x32a52c=null;function _0x119f46(_0x38e66b){let _0x139c61=!0x0===_0x38e66b['isScene']?_0x38e66b['background']:null;return _0x139c61&&_0x139c61['isTexture']&&(_0x139c61=(_0x38e66b['backgroundBlurriness']>0x0?_0x4ba0d4:_0x4e53be)['get'](_0x139c61)),_0x139c61;}function _0x46bba5(_0x12b81a,_0x4a6be4){_0x12b81a['getRGB'](_0x2bf670,(0x0,_0x3e8626['_Ut'])(_0x551f30)),_0x5e891c['buffers']['color']['setClear'](_0x2bf670['r'],_0x2bf670['g'],_0x2bf670['b'],_0x4a6be4,_0x36326a);}return{'getClearColor':function(){return _0x2ecb1d;},'setClearColor':function(_0x348cd9,_0x2a08d0=0x1){_0x2ecb1d['set'](_0x348cd9),_0x57d225=_0x2a08d0,_0x46bba5(_0x2ecb1d,_0x57d225);},'getClearAlpha':function(){return _0x57d225;},'setClearAlpha':function(_0x29d3ca){_0x57d225=_0x29d3ca,_0x46bba5(_0x2ecb1d,_0x57d225);},'render':function(_0xfbaf8b){let _0x46a756=!0x1;const _0x582c1c=_0x119f46(_0xfbaf8b);null===_0x582c1c?_0x46bba5(_0x2ecb1d,_0x57d225):_0x582c1c&&_0x582c1c['isColor']&&(_0x46bba5(_0x582c1c,0x1),_0x46a756=!0x0);const _0x20741c=_0x551f30['xr']['getEnvironmentBlendMode']();'additive'===_0x20741c?_0x5e891c['buffers']['color']['setClear'](0x0,0x0,0x0,0x1,_0x36326a):'alpha-blend'===_0x20741c&&_0x5e891c['buffers']['color']['setClear'](0x0,0x0,0x0,0x0,_0x36326a),(_0x551f30['autoClear']||_0x46a756)&&(_0x5e891c['buffers']['depth']['setTest'](!0x0),_0x5e891c['buffers']['depth']['setMask'](!0x0),_0x5e891c['buffers']['color']['setMask'](!0x0),_0x551f30['clear'](_0x551f30['autoClearColor'],_0x551f30['autoClearDepth'],_0x551f30['autoClearStencil']));},'addToRenderList':function(_0x5cdff2,_0x30a7e5){const _0x38c986=_0x119f46(_0x30a7e5);_0x38c986&&(_0x38c986['isCubeTexture']||_0x38c986['mapping']===_0x3e8626['Om'])?(void 0x0===_0x10a0e2&&(_0x10a0e2=new _0x3e8626['eaF'](new _0x3e8626['iNn'](0x1,0x1,0x1),new _0x3e8626['BKk']({'name':'BackgroundCubeMaterial','uniforms':(0x0,_0x3e8626['lxW'])(_0x1dec1e['backgroundCube']['uniforms']),'vertexShader':_0x1dec1e['backgroundCube']['vertexShader'],'fragmentShader':_0x1dec1e['backgroundCube']['fragmentShader'],'side':_0x3e8626['hsX'],'depthTest':!0x1,'depthWrite':!0x1,'fog':!0x1})),_0x10a0e2['geometry']['deleteAttribute']('normal'),_0x10a0e2['geometry']['deleteAttribute']('uv'),_0x10a0e2['onBeforeRender']=function(_0xad1d48,_0x2c40d4,_0x161cdf){this['matrixWorld']['copyPosition'](_0x161cdf['matrixWorld']);},Object['defineProperty'](_0x10a0e2['material'],'envMap',{'get':function(){return this['uniforms']['envMap']['value'];}}),_0x5c3c63['update'](_0x10a0e2)),_0x3ba860['copy'](_0x30a7e5['backgroundRotation']),_0x3ba860['x']*=-0x1,_0x3ba860['y']*=-0x1,_0x3ba860['z']*=-0x1,_0x38c986['isCubeTexture']&&!0x1===_0x38c986['isRenderTargetTexture']&&(_0x3ba860['y']*=-0x1,_0x3ba860['z']*=-0x1),_0x10a0e2['material']['uniforms']['envMap']['value']=_0x38c986,_0x10a0e2['material']['uniforms']['flipEnvMap']['value']=_0x38c986['isCubeTexture']&&!0x1===_0x38c986['isRenderTargetTexture']?-0x1:0x1,_0x10a0e2['material']['uniforms']['backgroundBlurriness']['value']=_0x30a7e5['backgroundBlurriness'],_0x10a0e2['material']['uniforms']['backgroundIntensity']['value']=_0x30a7e5['backgroundIntensity'],_0x10a0e2['material']['uniforms']['backgroundRotation']['value']['setFromMatrix4'](_0x479e1a['makeRotationFromEuler'](_0x3ba860)),_0x10a0e2['material']['toneMapped']=_0x3e8626['ppV']['getTransfer'](_0x38c986['colorSpace'])!==_0x3e8626['KLL'],_0x43aa3b===_0x38c986&&_0x261b61===_0x38c986['version']&&_0x32a52c===_0x551f30['toneMapping']||(_0x10a0e2['material']['needsUpdate']=!0x0,_0x43aa3b=_0x38c986,_0x261b61=_0x38c986['version'],_0x32a52c=_0x551f30['toneMapping']),_0x10a0e2['layers']['enableAll'](),_0x5cdff2['unshift'](_0x10a0e2,_0x10a0e2['geometry'],_0x10a0e2['material'],0x0,0x0,null)):_0x38c986&&_0x38c986['isTexture']&&(void 0x0===_0x59c943&&(_0x59c943=new _0x3e8626['eaF'](new _0x3e8626['bdM'](0x2,0x2),new _0x3e8626['BKk']({'name':'BackgroundMaterial','uniforms':(0x0,_0x3e8626['lxW'])(_0x1dec1e['background']['uniforms']),'vertexShader':_0x1dec1e['background']['vertexShader'],'fragmentShader':_0x1dec1e['background']['fragmentShader'],'side':_0x3e8626['hB5'],'depthTest':!0x1,'depthWrite':!0x1,'fog':!0x1})),_0x59c943['geometry']['deleteAttribute']('normal'),Object['defineProperty'](_0x59c943['material'],'map',{'get':function(){return this['uniforms']['t2D']['value'];}}),_0x5c3c63['update'](_0x59c943)),_0x59c943['material']['uniforms']['t2D']['value']=_0x38c986,_0x59c943['material']['uniforms']['backgroundIntensity']['value']=_0x30a7e5['backgroundIntensity'],_0x59c943['material']['toneMapped']=_0x3e8626['ppV']['getTransfer'](_0x38c986['colorSpace'])!==_0x3e8626['KLL'],!0x0===_0x38c986['matrixAutoUpdate']&&_0x38c986['updateMatrix'](),_0x59c943['material']['uniforms']['uvTransform']['value']['copy'](_0x38c986['matrix']),_0x43aa3b===_0x38c986&&_0x261b61===_0x38c986['version']&&_0x32a52c===_0x551f30['toneMapping']||(_0x59c943['material']['needsUpdate']=!0x0,_0x43aa3b=_0x38c986,_0x261b61=_0x38c986['version'],_0x32a52c=_0x551f30['toneMapping']),_0x59c943['layers']['enableAll'](),_0x5cdff2['unshift'](_0x59c943,_0x59c943['geometry'],_0x59c943['material'],0x0,0x0,null));},'dispose':function(){void 0x0!==_0x10a0e2&&(_0x10a0e2['geometry']['dispose'](),_0x10a0e2['material']['dispose']()),void 0x0!==_0x59c943&&(_0x59c943['geometry']['dispose'](),_0x59c943['material']['dispose']());}};}function _0x20e5e4(_0x39ee55,_0x76fe5c){const _0x4e4a4e=_0x39ee55['getParameter'](_0x39ee55['MAX_VERTEX_ATTRIBS']),_0x5ea8f6={},_0x2c77d4=_0x59741f(null);let _0x20794f=_0x2c77d4,_0x1da392=!0x1;function _0x3e2148(_0x27e8a0){return _0x39ee55['bindVertexArray'](_0x27e8a0);}function _0x11f398(_0x18933f){return _0x39ee55['deleteVertexArray'](_0x18933f);}function _0x59741f(_0x4c5b84){const _0x49df1c=[],_0x3197bb=[],_0x422a13=[];for(let _0x46b322=0x0;_0x46b322<_0x4e4a4e;_0x46b322++)_0x49df1c[_0x46b322]=0x0,_0x3197bb[_0x46b322]=0x0,_0x422a13[_0x46b322]=0x0;return{'geometry':null,'program':null,'wireframe':!0x1,'newAttributes':_0x49df1c,'enabledAttributes':_0x3197bb,'attributeDivisors':_0x422a13,'object':_0x4c5b84,'attributes':{},'index':null};}function _0xa5d41e(){const _0x850f95=_0x20794f['newAttributes'];for(let _0x1f9c3b=0x0,_0x5635bf=_0x850f95['length'];_0x1f9c3b<_0x5635bf;_0x1f9c3b++)_0x850f95[_0x1f9c3b]=0x0;}function _0x1578dc(_0x5a46e8){_0x1cf704(_0x5a46e8,0x0);}function _0x1cf704(_0xc9e762,_0x2124fc){const _0x40ad5c=_0x20794f['newAttributes'],_0x41d131=_0x20794f['enabledAttributes'],_0x42d57b=_0x20794f['attributeDivisors'];_0x40ad5c[_0xc9e762]=0x1,0x0===_0x41d131[_0xc9e762]&&(_0x39ee55['enableVertexAttribArray'](_0xc9e762),_0x41d131[_0xc9e762]=0x1),_0x42d57b[_0xc9e762]!==_0x2124fc&&(_0x39ee55['vertexAttribDivisor'](_0xc9e762,_0x2124fc),_0x42d57b[_0xc9e762]=_0x2124fc);}function _0x14ab0b(){const _0x3300be=_0x20794f['newAttributes'],_0x4f30a8=_0x20794f['enabledAttributes'];for(let _0x38daa8=0x0,_0x4a78c5=_0x4f30a8['length'];_0x38daa8<_0x4a78c5;_0x38daa8++)_0x4f30a8[_0x38daa8]!==_0x3300be[_0x38daa8]&&(_0x39ee55['disableVertexAttribArray'](_0x38daa8),_0x4f30a8[_0x38daa8]=0x0);}function _0x45888a(_0x29e012,_0x5b44c4,_0x3bcc07,_0x4416ef,_0x365423,_0x5a53c9,_0x891899){!0x0===_0x891899?_0x39ee55['vertexAttribIPointer'](_0x29e012,_0x5b44c4,_0x3bcc07,_0x365423,_0x5a53c9):_0x39ee55['vertexAttribPointer'](_0x29e012,_0x5b44c4,_0x3bcc07,_0x4416ef,_0x365423,_0x5a53c9);}function _0x5370d0(){_0x123c7c(),_0x1da392=!0x0,_0x20794f!==_0x2c77d4&&(_0x20794f=_0x2c77d4,_0x3e2148(_0x20794f['object']));}function _0x123c7c(){_0x2c77d4['geometry']=null,_0x2c77d4['program']=null,_0x2c77d4['wireframe']=!0x1;}return{'setup':function(_0x2d8c5f,_0x4b86c0,_0xd7f73c,_0xdc2560,_0x45d020){let _0x1cb479=!0x1;const _0x381a37=function(_0x2f27bc,_0x54b279,_0x372a39){const _0x1bce53=!0x0===_0x372a39['wireframe'];let _0x1aa206=_0x5ea8f6[_0x2f27bc['id']];void 0x0===_0x1aa206&&(_0x1aa206={},_0x5ea8f6[_0x2f27bc['id']]=_0x1aa206);let _0x5228df=_0x1aa206[_0x54b279['id']];void 0x0===_0x5228df&&(_0x5228df={},_0x1aa206[_0x54b279['id']]=_0x5228df);let _0x2dbcda=_0x5228df[_0x1bce53];return void 0x0===_0x2dbcda&&(_0x2dbcda=_0x59741f(_0x39ee55['createVertexArray']()),_0x5228df[_0x1bce53]=_0x2dbcda),_0x2dbcda;}(_0xdc2560,_0xd7f73c,_0x4b86c0);_0x20794f!==_0x381a37&&(_0x20794f=_0x381a37,_0x3e2148(_0x20794f['object'])),_0x1cb479=function(_0x5dd743,_0x1482bb,_0x2ec2ae,_0x1c8f30){const _0x461a86=_0x20794f['attributes'],_0x11afde=_0x1482bb['attributes'];let _0xf2055c=0x0;const _0xae2c17=_0x2ec2ae['getAttributes']();for(const _0xe46a62 in _0xae2c17){if(_0xae2c17[_0xe46a62]['location']>=0x0){const _0x2c6185=_0x461a86[_0xe46a62];let _0x308400=_0x11afde[_0xe46a62];if(void 0x0===_0x308400&&('instanceMatrix'===_0xe46a62&&_0x5dd743['instanceMatrix']&&(_0x308400=_0x5dd743['instanceMatrix']),'instanceColor'===_0xe46a62&&_0x5dd743['instanceColor']&&(_0x308400=_0x5dd743['instanceColor'])),void 0x0===_0x2c6185)return!0x0;if(_0x2c6185['attribute']!==_0x308400)return!0x0;if(_0x308400&&_0x2c6185['data']!==_0x308400['data'])return!0x0;_0xf2055c++;}}return _0x20794f['attributesNum']!==_0xf2055c||_0x20794f['index']!==_0x1c8f30;}(_0x2d8c5f,_0xdc2560,_0xd7f73c,_0x45d020),_0x1cb479&&function(_0x582370,_0x641f6,_0x1be411,_0x3eb1e8){const _0x5a2a7d={},_0x42648f=_0x641f6['attributes'];let _0x2a802c=0x0;const _0x2a05a5=_0x1be411['getAttributes']();for(const _0x21cc0c in _0x2a05a5){if(_0x2a05a5[_0x21cc0c]['location']>=0x0){let _0xfb74ba=_0x42648f[_0x21cc0c];void 0x0===_0xfb74ba&&('instanceMatrix'===_0x21cc0c&&_0x582370['instanceMatrix']&&(_0xfb74ba=_0x582370['instanceMatrix']),'instanceColor'===_0x21cc0c&&_0x582370['instanceColor']&&(_0xfb74ba=_0x582370['instanceColor']));const _0x3bd8f5={};_0x3bd8f5['attribute']=_0xfb74ba,_0xfb74ba&&_0xfb74ba['data']&&(_0x3bd8f5['data']=_0xfb74ba['data']),_0x5a2a7d[_0x21cc0c]=_0x3bd8f5,_0x2a802c++;}}_0x20794f['attributes']=_0x5a2a7d,_0x20794f['attributesNum']=_0x2a802c,_0x20794f['index']=_0x3eb1e8;}(_0x2d8c5f,_0xdc2560,_0xd7f73c,_0x45d020),null!==_0x45d020&&_0x76fe5c['update'](_0x45d020,_0x39ee55['ELEMENT_ARRAY_BUFFER']),(_0x1cb479||_0x1da392)&&(_0x1da392=!0x1,function(_0x5da235,_0x4f3a31,_0x29aa0f,_0x179d74){_0xa5d41e();const _0x2e9be1=_0x179d74['attributes'],_0x44412a=_0x29aa0f['getAttributes'](),_0x536ebf=_0x4f3a31['defaultAttributeValues'];for(const _0x485631 in _0x44412a){const _0x2b8bb6=_0x44412a[_0x485631];if(_0x2b8bb6['location']>=0x0){let _0x2b1b4d=_0x2e9be1[_0x485631];if(void 0x0===_0x2b1b4d&&('instanceMatrix'===_0x485631&&_0x5da235['instanceMatrix']&&(_0x2b1b4d=_0x5da235['instanceMatrix']),'instanceColor'===_0x485631&&_0x5da235['instanceColor']&&(_0x2b1b4d=_0x5da235['instanceColor'])),void 0x0!==_0x2b1b4d){const _0xf136b1=_0x2b1b4d['normalized'],_0x56736f=_0x2b1b4d['itemSize'],_0x494a3f=_0x76fe5c['get'](_0x2b1b4d);if(void 0x0===_0x494a3f)continue;const _0x24e0b6=_0x494a3f['buffer'],_0x5ecd3b=_0x494a3f['type'],_0x830d85=_0x494a3f['bytesPerElement'],_0xc68c99=_0x5ecd3b===_0x39ee55['INT']||_0x5ecd3b===_0x39ee55['UNSIGNED_INT']||_0x2b1b4d['gpuType']===_0x3e8626['Yuy'];if(_0x2b1b4d['isInterleavedBufferAttribute']){const _0x3d78b6=_0x2b1b4d['data'],_0x2f0fa0=_0x3d78b6['stride'],_0xce7665=_0x2b1b4d['offset'];if(_0x3d78b6['isInstancedInterleavedBuffer']){for(let _0x36018c=0x0;_0x36018c<_0x2b8bb6['locationSize'];_0x36018c++)_0x1cf704(_0x2b8bb6['location']+_0x36018c,_0x3d78b6['meshPerAttribute']);!0x0!==_0x5da235['isInstancedMesh']&&void 0x0===_0x179d74['_maxInstanceCount']&&(_0x179d74['_maxInstanceCount']=_0x3d78b6['meshPerAttribute']*_0x3d78b6['count']);}else{for(let _0x3349b5=0x0;_0x3349b5<_0x2b8bb6['locationSize'];_0x3349b5++)_0x1578dc(_0x2b8bb6['location']+_0x3349b5);}_0x39ee55['bindBuffer'](_0x39ee55['ARRAY_BUFFER'],_0x24e0b6);for(let _0x4aa3af=0x0;_0x4aa3af<_0x2b8bb6['locationSize'];_0x4aa3af++)_0x45888a(_0x2b8bb6['location']+_0x4aa3af,_0x56736f/_0x2b8bb6['locationSize'],_0x5ecd3b,_0xf136b1,_0x2f0fa0*_0x830d85,(_0xce7665+_0x56736f/_0x2b8bb6['locationSize']*_0x4aa3af)*_0x830d85,_0xc68c99);}else{if(_0x2b1b4d['isInstancedBufferAttribute']){for(let _0xa66f3=0x0;_0xa66f3<_0x2b8bb6['locationSize'];_0xa66f3++)_0x1cf704(_0x2b8bb6['location']+_0xa66f3,_0x2b1b4d['meshPerAttribute']);!0x0!==_0x5da235['isInstancedMesh']&&void 0x0===_0x179d74['_maxInstanceCount']&&(_0x179d74['_maxInstanceCount']=_0x2b1b4d['meshPerAttribute']*_0x2b1b4d['count']);}else{for(let _0x195117=0x0;_0x195117<_0x2b8bb6['locationSize'];_0x195117++)_0x1578dc(_0x2b8bb6['location']+_0x195117);}_0x39ee55['bindBuffer'](_0x39ee55['ARRAY_BUFFER'],_0x24e0b6);for(let _0x2c03f3=0x0;_0x2c03f3<_0x2b8bb6['locationSize'];_0x2c03f3++)_0x45888a(_0x2b8bb6['location']+_0x2c03f3,_0x56736f/_0x2b8bb6['locationSize'],_0x5ecd3b,_0xf136b1,_0x56736f*_0x830d85,_0x56736f/_0x2b8bb6['locationSize']*_0x2c03f3*_0x830d85,_0xc68c99);}}else{if(void 0x0!==_0x536ebf){const _0x3b6ad9=_0x536ebf[_0x485631];if(void 0x0!==_0x3b6ad9)switch(_0x3b6ad9['length']){case 0x2:_0x39ee55['vertexAttrib2fv'](_0x2b8bb6['location'],_0x3b6ad9);break;case 0x3:_0x39ee55['vertexAttrib3fv'](_0x2b8bb6['location'],_0x3b6ad9);break;case 0x4:_0x39ee55['vertexAttrib4fv'](_0x2b8bb6['location'],_0x3b6ad9);break;default:_0x39ee55['vertexAttrib1fv'](_0x2b8bb6['location'],_0x3b6ad9);}}}}}_0x14ab0b();}(_0x2d8c5f,_0x4b86c0,_0xd7f73c,_0xdc2560),null!==_0x45d020&&_0x39ee55['bindBuffer'](_0x39ee55['ELEMENT_ARRAY_BUFFER'],_0x76fe5c['get'](_0x45d020)['buffer']));},'reset':_0x5370d0,'resetDefaultState':_0x123c7c,'dispose':function(){_0x5370d0();for(const _0x4ebbac in _0x5ea8f6){const _0x4af62d=_0x5ea8f6[_0x4ebbac];for(const _0x2f4793 in _0x4af62d){const _0x51c89e=_0x4af62d[_0x2f4793];for(const _0x376d57 in _0x51c89e)_0x11f398(_0x51c89e[_0x376d57]['object']),delete _0x51c89e[_0x376d57];delete _0x4af62d[_0x2f4793];}delete _0x5ea8f6[_0x4ebbac];}},'releaseStatesOfGeometry':function(_0x214093){if(void 0x0===_0x5ea8f6[_0x214093['id']])return;const _0x48a896=_0x5ea8f6[_0x214093['id']];for(const _0x5a5c17 in _0x48a896){const _0x4dbdc9=_0x48a896[_0x5a5c17];for(const _0x27bbd2 in _0x4dbdc9)_0x11f398(_0x4dbdc9[_0x27bbd2]['object']),delete _0x4dbdc9[_0x27bbd2];delete _0x48a896[_0x5a5c17];}delete _0x5ea8f6[_0x214093['id']];},'releaseStatesOfProgram':function(_0x4b05d2){for(const _0x2eddc4 in _0x5ea8f6){const _0x2136a9=_0x5ea8f6[_0x2eddc4];if(void 0x0===_0x2136a9[_0x4b05d2['id']])continue;const _0x126c54=_0x2136a9[_0x4b05d2['id']];for(const _0x2200c8 in _0x126c54)_0x11f398(_0x126c54[_0x2200c8]['object']),delete _0x126c54[_0x2200c8];delete _0x2136a9[_0x4b05d2['id']];}},'initAttributes':_0xa5d41e,'enableAttribute':_0x1578dc,'disableUnusedAttributes':_0x14ab0b};}function _0x324bb7(_0x168cd4,_0x7f0c81,_0x1568e4){let _0x58cad4;function _0x324699(_0xb693a,_0x18d9da,_0x50bb63){0x0!==_0x50bb63&&(_0x168cd4['drawArraysInstanced'](_0x58cad4,_0xb693a,_0x18d9da,_0x50bb63),_0x1568e4['update'](_0x18d9da,_0x58cad4,_0x50bb63));}this['setMode']=function(_0x2090dc){_0x58cad4=_0x2090dc;},this['render']=function(_0x36f439,_0x407757){_0x168cd4['drawArrays'](_0x58cad4,_0x36f439,_0x407757),_0x1568e4['update'](_0x407757,_0x58cad4,0x1);},this['renderInstances']=_0x324699,this['renderMultiDraw']=function(_0x1646df,_0x1d3cf3,_0x573614){if(0x0===_0x573614)return;_0x7f0c81['get']('WEBGL_multi_draw')['multiDrawArraysWEBGL'](_0x58cad4,_0x1646df,0x0,_0x1d3cf3,0x0,_0x573614);let _0x182da9=0x0;for(let _0x2ded74=0x0;_0x2ded74<_0x573614;_0x2ded74++)_0x182da9+=_0x1d3cf3[_0x2ded74];_0x1568e4['update'](_0x182da9,_0x58cad4,0x1);},this['renderMultiDrawInstances']=function(_0x36f3d2,_0x5ae5c0,_0x161ae4,_0x516ec2){if(0x0===_0x161ae4)return;const _0x353d1c=_0x7f0c81['get']('WEBGL_multi_draw');if(null===_0x353d1c){for(let _0x5be709=0x0;_0x5be709<_0x36f3d2['length'];_0x5be709++)_0x324699(_0x36f3d2[_0x5be709],_0x5ae5c0[_0x5be709],_0x516ec2[_0x5be709]);}else{_0x353d1c['multiDrawArraysInstancedWEBGL'](_0x58cad4,_0x36f3d2,0x0,_0x5ae5c0,0x0,_0x516ec2,0x0,_0x161ae4);let _0x35c816=0x0;for(let _0x29b53f=0x0;_0x29b53f<_0x161ae4;_0x29b53f++)_0x35c816+=_0x5ae5c0[_0x29b53f]*_0x516ec2[_0x29b53f];_0x1568e4['update'](_0x35c816,_0x58cad4,0x1);}};}function _0x336577(_0x2cc0fb,_0x50faf6,_0x50a3f8,_0x29e47e){let _0xbd83eb;function _0x54990d(_0x16f81b){if('highp'===_0x16f81b){if(_0x2cc0fb['getShaderPrecisionFormat'](_0x2cc0fb['VERTEX_SHADER'],_0x2cc0fb['HIGH_FLOAT'])['precision']>0x0&&_0x2cc0fb['getShaderPrecisionFormat'](_0x2cc0fb['FRAGMENT_SHADER'],_0x2cc0fb['HIGH_FLOAT'])['precision']>0x0)return'highp';_0x16f81b='mediump';}return'mediump'===_0x16f81b&&_0x2cc0fb['getShaderPrecisionFormat'](_0x2cc0fb['VERTEX_SHADER'],_0x2cc0fb['MEDIUM_FLOAT'])['precision']>0x0&&_0x2cc0fb['getShaderPrecisionFormat'](_0x2cc0fb['FRAGMENT_SHADER'],_0x2cc0fb['MEDIUM_FLOAT'])['precision']>0x0?'mediump':'lowp';}let _0x206e2e=void 0x0!==_0x50a3f8['precision']?_0x50a3f8['precision']:'highp';const _0x3c7fd6=_0x54990d(_0x206e2e);_0x3c7fd6!==_0x206e2e&&(console['warn']('THREE.WebGLRenderer:',_0x206e2e,'not\x20supported,\x20using',_0x3c7fd6,'instead.'),_0x206e2e=_0x3c7fd6);const _0x1031a0=!0x0===_0x50a3f8['logarithmicDepthBuffer'],_0x52e68e=!0x0===_0x50a3f8['reverseDepthBuffer']&&_0x50faf6['has']('EXT_clip_control'),_0x102fa5=_0x2cc0fb['getParameter'](_0x2cc0fb['MAX_TEXTURE_IMAGE_UNITS']),_0x71af82=_0x2cc0fb['getParameter'](_0x2cc0fb['MAX_VERTEX_TEXTURE_IMAGE_UNITS']);return{'isWebGL2':!0x0,'getMaxAnisotropy':function(){if(void 0x0!==_0xbd83eb)return _0xbd83eb;if(!0x0===_0x50faf6['has']('EXT_texture_filter_anisotropic')){const _0x1e07ce=_0x50faf6['get']('EXT_texture_filter_anisotropic');_0xbd83eb=_0x2cc0fb['getParameter'](_0x1e07ce['MAX_TEXTURE_MAX_ANISOTROPY_EXT']);}else _0xbd83eb=0x0;return _0xbd83eb;},'getMaxPrecision':_0x54990d,'textureFormatReadable':function(_0x201c81){return _0x201c81===_0x3e8626['GWd']||_0x29e47e['convert'](_0x201c81)===_0x2cc0fb['getParameter'](_0x2cc0fb['IMPLEMENTATION_COLOR_READ_FORMAT']);},'textureTypeReadable':function(_0x3e42ca){const _0x32121d=_0x3e42ca===_0x3e8626['ix0']&&(_0x50faf6['has']('EXT_color_buffer_half_float')||_0x50faf6['has']('EXT_color_buffer_float'));return!(_0x3e42ca!==_0x3e8626['OUM']&&_0x29e47e['convert'](_0x3e42ca)!==_0x2cc0fb['getParameter'](_0x2cc0fb['IMPLEMENTATION_COLOR_READ_TYPE'])&&_0x3e42ca!==_0x3e8626['RQf']&&!_0x32121d);},'precision':_0x206e2e,'logarithmicDepthBuffer':_0x1031a0,'reverseDepthBuffer':_0x52e68e,'maxTextures':_0x102fa5,'maxVertexTextures':_0x71af82,'maxTextureSize':_0x2cc0fb['getParameter'](_0x2cc0fb['MAX_TEXTURE_SIZE']),'maxCubemapSize':_0x2cc0fb['getParameter'](_0x2cc0fb['MAX_CUBE_MAP_TEXTURE_SIZE']),'maxAttributes':_0x2cc0fb['getParameter'](_0x2cc0fb['MAX_VERTEX_ATTRIBS']),'maxVertexUniforms':_0x2cc0fb['getParameter'](_0x2cc0fb['MAX_VERTEX_UNIFORM_VECTORS']),'maxVaryings':_0x2cc0fb['getParameter'](_0x2cc0fb['MAX_VARYING_VECTORS']),'maxFragmentUniforms':_0x2cc0fb['getParameter'](_0x2cc0fb['MAX_FRAGMENT_UNIFORM_VECTORS']),'vertexTextures':_0x71af82>0x0,'maxSamples':_0x2cc0fb['getParameter'](_0x2cc0fb['MAX_SAMPLES'])};}function _0xcf4eb8(_0x56ec46){const _0x197ab4=this;let _0x5ee744=null,_0x320db7=0x0,_0x3f5797=!0x1,_0x5064be=!0x1;const _0x11d4e6=new _0x3e8626['Zcv'](),_0x8c09e1=new _0x3e8626['dwI'](),_0x34cba5={'value':null,'needsUpdate':!0x1};function _0x5de93(_0x2a83f3,_0x37a2c7,_0x88fa54,_0x2b794e){const _0x5eba53=null!==_0x2a83f3?_0x2a83f3['length']:0x0;let _0x325078=null;if(0x0!==_0x5eba53){if(_0x325078=_0x34cba5['value'],!0x0!==_0x2b794e||null===_0x325078){const _0x2e0b2a=_0x88fa54+0x4*_0x5eba53,_0x34b45e=_0x37a2c7['matrixWorldInverse'];_0x8c09e1['getNormalMatrix'](_0x34b45e),(null===_0x325078||_0x325078['length']<_0x2e0b2a)&&(_0x325078=new Float32Array(_0x2e0b2a));for(let _0x360f95=0x0,_0x2bc7ec=_0x88fa54;_0x360f95!==_0x5eba53;++_0x360f95,_0x2bc7ec+=0x4)_0x11d4e6['copy'](_0x2a83f3[_0x360f95])['applyMatrix4'](_0x34b45e,_0x8c09e1),_0x11d4e6['normal']['toArray'](_0x325078,_0x2bc7ec),_0x325078[_0x2bc7ec+0x3]=_0x11d4e6['constant'];}_0x34cba5['value']=_0x325078,_0x34cba5['needsUpdate']=!0x0;}return _0x197ab4['numPlanes']=_0x5eba53,_0x197ab4['numIntersection']=0x0,_0x325078;}this['uniform']=_0x34cba5,this['numPlanes']=0x0,this['numIntersection']=0x0,this['init']=function(_0x190df2,_0xdd7883){const _0x3d57d5=0x0!==_0x190df2['length']||_0xdd7883||0x0!==_0x320db7||_0x3f5797;return _0x3f5797=_0xdd7883,_0x320db7=_0x190df2['length'],_0x3d57d5;},this['beginShadows']=function(){_0x5064be=!0x0,_0x5de93(null);},this['endShadows']=function(){_0x5064be=!0x1;},this['setGlobalState']=function(_0x3351d1,_0x4c6e63){_0x5ee744=_0x5de93(_0x3351d1,_0x4c6e63,0x0);},this['setState']=function(_0x7e8b09,_0x30c502,_0x560488){const _0x538d31=_0x7e8b09['clippingPlanes'],_0xbd3ab3=_0x7e8b09['clipIntersection'],_0x34eb5b=_0x7e8b09['clipShadows'],_0x175b50=_0x56ec46['get'](_0x7e8b09);if(!_0x3f5797||null===_0x538d31||0x0===_0x538d31['length']||_0x5064be&&!_0x34eb5b)_0x5064be?_0x5de93(null):(function(){_0x34cba5['value']!==_0x5ee744&&(_0x34cba5['value']=_0x5ee744,_0x34cba5['needsUpdate']=_0x320db7>0x0),(_0x197ab4['numPlanes']=_0x320db7,_0x197ab4['numIntersection']=0x0);}());else{const _0x337cf2=_0x5064be?0x0:_0x320db7,_0x5d172f=0x4*_0x337cf2;let _0xbf9d3f=_0x175b50['clippingState']||null;_0x34cba5['value']=_0xbf9d3f,_0xbf9d3f=_0x5de93(_0x538d31,_0x30c502,_0x5d172f,_0x560488);for(let _0x3c0314=0x0;_0x3c0314!==_0x5d172f;++_0x3c0314)_0xbf9d3f[_0x3c0314]=_0x5ee744[_0x3c0314];_0x175b50['clippingState']=_0xbf9d3f,this['numIntersection']=_0xbd3ab3?this['numPlanes']:0x0,this['numPlanes']+=_0x337cf2;}};}function _0x3ee0e1(_0x4ec6d9){let _0x5d3106=new WeakMap();function _0x5d3893(_0xd4f871,_0x2e22d4){return _0x2e22d4===_0x3e8626['wfO']?_0xd4f871['mapping']=_0x3e8626['hy7']:_0x2e22d4===_0x3e8626['uV5']&&(_0xd4f871['mapping']=_0x3e8626['xFO']),_0xd4f871;}function _0x5244a9(_0x44ad9d){const _0x5050e0=_0x44ad9d['target'];_0x5050e0['removeEventListener']('dispose',_0x5244a9);const _0x50db97=_0x5d3106['get'](_0x5050e0);void 0x0!==_0x50db97&&(_0x5d3106['delete'](_0x5050e0),_0x50db97['dispose']());}return{'get':function(_0x4b0367){if(_0x4b0367&&_0x4b0367['isTexture']){const _0x18ccbe=_0x4b0367['mapping'];if(_0x18ccbe===_0x3e8626['wfO']||_0x18ccbe===_0x3e8626['uV5']){if(_0x5d3106['has'](_0x4b0367))return _0x5d3893(_0x5d3106['get'](_0x4b0367)['texture'],_0x4b0367['mapping']);{const _0x123fed=_0x4b0367['image'];if(_0x123fed&&_0x123fed['height']>0x0){const _0x482850=new _0x3e8626['o6l'](_0x123fed['height']);return _0x482850['fromEquirectangularTexture'](_0x4ec6d9,_0x4b0367),_0x5d3106['set'](_0x4b0367,_0x482850),_0x4b0367['addEventListener']('dispose',_0x5244a9),_0x5d3893(_0x482850['texture'],_0x4b0367['mapping']);}return null;}}}return _0x4b0367;},'dispose':function(){_0x5d3106=new WeakMap();}};}const _0x277404=[0.125,0.215,0.35,0.446,0.526,0.582],_0x4cb3fd=0x14,_0x383947=new _0x3e8626['qUd'](),_0x685de9=new _0x3e8626['Q1f']();let _0x351579=null,_0x51ebff=0x0,_0x4014f6=0x0,_0x3c4019=!0x1;const _0x5ef4d2=(0x1+Math['sqrt'](0x5))/0x2,_0xe6a329=0x1/_0x5ef4d2,_0x1af8a7=[new _0x3e8626['Pq0'](-_0x5ef4d2,_0xe6a329,0x0),new _0x3e8626['Pq0'](_0x5ef4d2,_0xe6a329,0x0),new _0x3e8626['Pq0'](-_0xe6a329,0x0,_0x5ef4d2),new _0x3e8626['Pq0'](_0xe6a329,0x0,_0x5ef4d2),new _0x3e8626['Pq0'](0x0,_0x5ef4d2,-_0xe6a329),new _0x3e8626['Pq0'](0x0,_0x5ef4d2,_0xe6a329),new _0x3e8626['Pq0'](-0x1,0x1,-0x1),new _0x3e8626['Pq0'](0x1,0x1,-0x1),new _0x3e8626['Pq0'](-0x1,0x1,0x1),new _0x3e8626['Pq0'](0x1,0x1,0x1)];class _0x172159{constructor(_0x5df2fc){this['_renderer']=_0x5df2fc,this['_pingPongRenderTarget']=null,this['_lodMax']=0x0,this['_cubeSize']=0x0,this['_lodPlanes']=[],this['_sizeLods']=[],this['_sigmas']=[],this['_blurMaterial']=null,this['_cubemapMaterial']=null,this['_equirectMaterial']=null,this['_compileMaterial'](this['_blurMaterial']);}['fromScene'](_0x261af6,_0x51ba66=0x0,_0x4340cc=0.1,_0x4293e4=0x64){_0x351579=this['_renderer']['getRenderTarget'](),_0x51ebff=this['_renderer']['getActiveCubeFace'](),_0x4014f6=this['_renderer']['getActiveMipmapLevel'](),_0x3c4019=this['_renderer']['xr']['enabled'],this['_renderer']['xr']['enabled']=!0x1,this['_setSize'](0x100);const _0x4768f0=this['_allocateTargets']();return _0x4768f0['depthBuffer']=!0x0,this['_sceneToCubeUV'](_0x261af6,_0x4340cc,_0x4293e4,_0x4768f0),_0x51ba66>0x0&&this['_blur'](_0x4768f0,0x0,0x0,_0x51ba66),this['_applyPMREM'](_0x4768f0),this['_cleanup'](_0x4768f0),_0x4768f0;}['fromEquirectangular'](_0x2ec0b5,_0xe682e4=null){return this['_fromTexture'](_0x2ec0b5,_0xe682e4);}['fromCubemap'](_0x39b50c,_0x3a69d7=null){return this['_fromTexture'](_0x39b50c,_0x3a69d7);}['compileCubemapShader'](){null===this['_cubemapMaterial']&&(this['_cubemapMaterial']=_0x577ce2(),this['_compileMaterial'](this['_cubemapMaterial']));}['compileEquirectangularShader'](){null===this['_equirectMaterial']&&(this['_equirectMaterial']=_0xbab422(),this['_compileMaterial'](this['_equirectMaterial']));}['dispose'](){this['_dispose'](),null!==this['_cubemapMaterial']&&this['_cubemapMaterial']['dispose'](),null!==this['_equirectMaterial']&&this['_equirectMaterial']['dispose']();}['_setSize'](_0x5d2ba4){this['_lodMax']=Math['floor'](Math['log2'](_0x5d2ba4)),this['_cubeSize']=Math['pow'](0x2,this['_lodMax']);}['_dispose'](){null!==this['_blurMaterial']&&this['_blurMaterial']['dispose'](),null!==this['_pingPongRenderTarget']&&this['_pingPongRenderTarget']['dispose']();for(let _0x11169d=0x0;_0x11169d<this['_lodPlanes']['length'];_0x11169d++)this['_lodPlanes'][_0x11169d]['dispose']();}['_cleanup'](_0x57258a){this['_renderer']['setRenderTarget'](_0x351579,_0x51ebff,_0x4014f6),this['_renderer']['xr']['enabled']=_0x3c4019,_0x57258a['scissorTest']=!0x1,_0x4fc06d(_0x57258a,0x0,0x0,_0x57258a['width'],_0x57258a['height']);}['_fromTexture'](_0x579b33,_0x1a7f1b){_0x579b33['mapping']===_0x3e8626['hy7']||_0x579b33['mapping']===_0x3e8626['xFO']?this['_setSize'](0x0===_0x579b33['image']['length']?0x10:_0x579b33['image'][0x0]['width']||_0x579b33['image'][0x0]['image']['width']):this['_setSize'](_0x579b33['image']['width']/0x4),_0x351579=this['_renderer']['getRenderTarget'](),_0x51ebff=this['_renderer']['getActiveCubeFace'](),_0x4014f6=this['_renderer']['getActiveMipmapLevel'](),_0x3c4019=this['_renderer']['xr']['enabled'],this['_renderer']['xr']['enabled']=!0x1;const _0x3bd4b0=_0x1a7f1b||this['_allocateTargets']();return this['_textureToCubeUV'](_0x579b33,_0x3bd4b0),this['_applyPMREM'](_0x3bd4b0),this['_cleanup'](_0x3bd4b0),_0x3bd4b0;}['_allocateTargets'](){const _0x3eaab9=0x3*Math['max'](this['_cubeSize'],0x70),_0x456189=0x4*this['_cubeSize'],_0x52eaf0={'magFilter':_0x3e8626['k6q'],'minFilter':_0x3e8626['k6q'],'generateMipmaps':!0x1,'type':_0x3e8626['ix0'],'format':_0x3e8626['GWd'],'colorSpace':_0x3e8626['Zr2'],'depthBuffer':!0x1},_0xa0250b=_0x5d5749(_0x3eaab9,_0x456189,_0x52eaf0);if(null===this['_pingPongRenderTarget']||this['_pingPongRenderTarget']['width']!==_0x3eaab9||this['_pingPongRenderTarget']['height']!==_0x456189){null!==this['_pingPongRenderTarget']&&this['_dispose'](),this['_pingPongRenderTarget']=_0x5d5749(_0x3eaab9,_0x456189,_0x52eaf0);const {_lodMax:_0x5b6179}=this;({sizeLods:this['_sizeLods'],lodPlanes:this['_lodPlanes'],sigmas:this['_sigmas']}=function(_0x2eb167){const _0x2bd0a6=[],_0x2af48d=[],_0x3893b2=[];let _0x438b80=_0x2eb167;const _0x43d3b6=_0x2eb167-0x4+0x1+_0x277404['length'];for(let _0x4b6098=0x0;_0x4b6098<_0x43d3b6;_0x4b6098++){const _0x139926=Math['pow'](0x2,_0x438b80);_0x2af48d['push'](_0x139926);let _0x39ad27=0x1/_0x139926;_0x4b6098>_0x2eb167-0x4?_0x39ad27=_0x277404[_0x4b6098-_0x2eb167+0x4-0x1]:0x0===_0x4b6098&&(_0x39ad27=0x0),_0x3893b2['push'](_0x39ad27);const _0x56ec2a=0x1/(_0x139926-0x2),_0x3fae6e=-_0x56ec2a,_0x263caa=0x1+_0x56ec2a,_0x5d5ceb=[_0x3fae6e,_0x3fae6e,_0x263caa,_0x3fae6e,_0x263caa,_0x263caa,_0x3fae6e,_0x3fae6e,_0x263caa,_0x263caa,_0x3fae6e,_0x263caa],_0x11c3a4=0x6,_0x3957da=0x6,_0x4cdeee=0x3,_0x16d41d=0x2,_0x49ad7b=0x1,_0xdb17e=new Float32Array(_0x4cdeee*_0x3957da*_0x11c3a4),_0x5ef8ce=new Float32Array(_0x16d41d*_0x3957da*_0x11c3a4),_0x3b3d77=new Float32Array(_0x49ad7b*_0x3957da*_0x11c3a4);for(let _0x44e6e9=0x0;_0x44e6e9<_0x11c3a4;_0x44e6e9++){const _0x4dffb3=_0x44e6e9%0x3*0x2/0x3-0x1,_0x2b7d36=_0x44e6e9>0x2?0x0:-0x1,_0x2d9a65=[_0x4dffb3,_0x2b7d36,0x0,_0x4dffb3+0x2/0x3,_0x2b7d36,0x0,_0x4dffb3+0x2/0x3,_0x2b7d36+0x1,0x0,_0x4dffb3,_0x2b7d36,0x0,_0x4dffb3+0x2/0x3,_0x2b7d36+0x1,0x0,_0x4dffb3,_0x2b7d36+0x1,0x0];_0xdb17e['set'](_0x2d9a65,_0x4cdeee*_0x3957da*_0x44e6e9),_0x5ef8ce['set'](_0x5d5ceb,_0x16d41d*_0x3957da*_0x44e6e9);const _0x239de6=[_0x44e6e9,_0x44e6e9,_0x44e6e9,_0x44e6e9,_0x44e6e9,_0x44e6e9];_0x3b3d77['set'](_0x239de6,_0x49ad7b*_0x3957da*_0x44e6e9);}const _0x14fca3=new _0x3e8626['LoY']();_0x14fca3['setAttribute']('position',new _0x3e8626['THS'](_0xdb17e,_0x4cdeee)),_0x14fca3['setAttribute']('uv',new _0x3e8626['THS'](_0x5ef8ce,_0x16d41d)),_0x14fca3['setAttribute']('faceIndex',new _0x3e8626['THS'](_0x3b3d77,_0x49ad7b)),_0x2bd0a6['push'](_0x14fca3),_0x438b80>0x4&&_0x438b80--;}return{'lodPlanes':_0x2bd0a6,'sizeLods':_0x2af48d,'sigmas':_0x3893b2};}(_0x5b6179),this['_blurMaterial']=function(_0x363582,_0x53d9c2,_0xebd11c){const _0x307250=new Float32Array(_0x4cb3fd),_0x5937b5=new _0x3e8626['Pq0'](0x0,0x1,0x0),_0x394653=new _0x3e8626['BKk']({'name':'SphericalGaussianBlur','defines':{'n':_0x4cb3fd,'CUBEUV_TEXEL_WIDTH':0x1/_0x53d9c2,'CUBEUV_TEXEL_HEIGHT':0x1/_0xebd11c,'CUBEUV_MAX_MIP':_0x363582+'.0'},'uniforms':{'envMap':{'value':null},'samples':{'value':0x1},'weights':{'value':_0x307250},'latitudinal':{'value':!0x1},'dTheta':{'value':0x0},'mipInt':{'value':0x0},'poleAxis':{'value':_0x5937b5}},'vertexShader':_0x533168(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x09\x09\x09uniform\x20int\x20samples;\x0a\x09\x09\x09uniform\x20float\x20weights[\x20n\x20];\x0a\x09\x09\x09uniform\x20bool\x20latitudinal;\x0a\x09\x09\x09uniform\x20float\x20dTheta;\x0a\x09\x09\x09uniform\x20float\x20mipInt;\x0a\x09\x09\x09uniform\x20vec3\x20poleAxis;\x0a\x0a\x09\x09\x09#define\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09#include\x20<cube_uv_reflection_fragment>\x0a\x0a\x09\x09\x09vec3\x20getSample(\x20float\x20theta,\x20vec3\x20axis\x20)\x20{\x0a\x0a\x09\x09\x09\x09float\x20cosTheta\x20=\x20cos(\x20theta\x20);\x0a\x09\x09\x09\x09//\x20Rodrigues\x27\x20axis-angle\x20rotation\x0a\x09\x09\x09\x09vec3\x20sampleDirection\x20=\x20vOutputDirection\x20*\x20cosTheta\x0a\x09\x09\x09\x09\x09+\x20cross(\x20axis,\x20vOutputDirection\x20)\x20*\x20sin(\x20theta\x20)\x0a\x09\x09\x09\x09\x09+\x20axis\x20*\x20dot(\x20axis,\x20vOutputDirection\x20)\x20*\x20(\x201.0\x20-\x20cosTheta\x20);\x0a\x0a\x09\x09\x09\x09return\x20bilinearCubeUV(\x20envMap,\x20sampleDirection,\x20mipInt\x20);\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20axis\x20=\x20latitudinal\x20?\x20poleAxis\x20:\x20cross(\x20poleAxis,\x20vOutputDirection\x20);\x0a\x0a\x09\x09\x09\x09if\x20(\x20all(\x20equal(\x20axis,\x20vec3(\x200.0\x20)\x20)\x20)\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09axis\x20=\x20vec3(\x20vOutputDirection.z,\x200.0,\x20-\x20vOutputDirection.x\x20);\x0a\x0a\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09axis\x20=\x20normalize(\x20axis\x20);\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x201.0\x20);\x0a\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x200\x20]\x20*\x20getSample(\x200.0,\x20axis\x20);\x0a\x0a\x09\x09\x09\x09for\x20(\x20int\x20i\x20=\x201;\x20i\x20<\x20n;\x20i++\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09if\x20(\x20i\x20>=\x20samples\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09\x09break;\x0a\x0a\x09\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09\x09float\x20theta\x20=\x20dTheta\x20*\x20float(\x20i\x20);\x0a\x09\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x20i\x20]\x20*\x20getSample(\x20-1.0\x20*\x20theta,\x20axis\x20);\x0a\x09\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x20i\x20]\x20*\x20getSample(\x20theta,\x20axis\x20);\x0a\x0a\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x3e8626['XIg'],'depthTest':!0x1,'depthWrite':!0x1});return _0x394653;}(_0x5b6179,_0x3eaab9,_0x456189));}return _0xa0250b;}['_compileMaterial'](_0x433dab){const _0x4e3610=new _0x3e8626['eaF'](this['_lodPlanes'][0x0],_0x433dab);this['_renderer']['compile'](_0x4e3610,_0x383947);}['_sceneToCubeUV'](_0x3dc379,_0x507b5a,_0x245fa1,_0x36513b){const _0x4b8c4e=new _0x3e8626['ubm'](0x5a,0x1,_0x507b5a,_0x245fa1),_0x226a25=[0x1,-0x1,0x1,0x1,0x1,0x1],_0x2f65f0=[0x1,0x1,0x1,-0x1,-0x1,-0x1],_0x2c3135=this['_renderer'],_0x36506d=_0x2c3135['autoClear'],_0x6dec04=_0x2c3135['toneMapping'];_0x2c3135['getClearColor'](_0x685de9),_0x2c3135['toneMapping']=_0x3e8626['y_p'],_0x2c3135['autoClear']=!0x1;const _0x1dee26=new _0x3e8626['V9B']({'name':'PMREM.Background','side':_0x3e8626['hsX'],'depthWrite':!0x1,'depthTest':!0x1}),_0x2412bc=new _0x3e8626['eaF'](new _0x3e8626['iNn'](),_0x1dee26);let _0xb9766a=!0x1;const _0x16dae6=_0x3dc379['background'];_0x16dae6?_0x16dae6['isColor']&&(_0x1dee26['color']['copy'](_0x16dae6),_0x3dc379['background']=null,_0xb9766a=!0x0):(_0x1dee26['color']['copy'](_0x685de9),_0xb9766a=!0x0);for(let _0x441b6f=0x0;_0x441b6f<0x6;_0x441b6f++){const _0x386349=_0x441b6f%0x3;0x0===_0x386349?(_0x4b8c4e['up']['set'](0x0,_0x226a25[_0x441b6f],0x0),_0x4b8c4e['lookAt'](_0x2f65f0[_0x441b6f],0x0,0x0)):0x1===_0x386349?(_0x4b8c4e['up']['set'](0x0,0x0,_0x226a25[_0x441b6f]),_0x4b8c4e['lookAt'](0x0,_0x2f65f0[_0x441b6f],0x0)):(_0x4b8c4e['up']['set'](0x0,_0x226a25[_0x441b6f],0x0),_0x4b8c4e['lookAt'](0x0,0x0,_0x2f65f0[_0x441b6f]));const _0x4bff15=this['_cubeSize'];_0x4fc06d(_0x36513b,_0x386349*_0x4bff15,_0x441b6f>0x2?_0x4bff15:0x0,_0x4bff15,_0x4bff15),_0x2c3135['setRenderTarget'](_0x36513b),_0xb9766a&&_0x2c3135['render'](_0x2412bc,_0x4b8c4e),_0x2c3135['render'](_0x3dc379,_0x4b8c4e);}_0x2412bc['geometry']['dispose'](),_0x2412bc['material']['dispose'](),_0x2c3135['toneMapping']=_0x6dec04,_0x2c3135['autoClear']=_0x36506d,_0x3dc379['background']=_0x16dae6;}['_textureToCubeUV'](_0x587ad3,_0x14a7fd){const _0x12c035=this['_renderer'],_0x5e4a49=_0x587ad3['mapping']===_0x3e8626['hy7']||_0x587ad3['mapping']===_0x3e8626['xFO'];_0x5e4a49?(null===this['_cubemapMaterial']&&(this['_cubemapMaterial']=_0x577ce2()),this['_cubemapMaterial']['uniforms']['flipEnvMap']['value']=!0x1===_0x587ad3['isRenderTargetTexture']?-0x1:0x1):null===this['_equirectMaterial']&&(this['_equirectMaterial']=_0xbab422());const _0x5b854d=_0x5e4a49?this['_cubemapMaterial']:this['_equirectMaterial'],_0x4fdc92=new _0x3e8626['eaF'](this['_lodPlanes'][0x0],_0x5b854d);_0x5b854d['uniforms']['envMap']['value']=_0x587ad3;const _0x3976ce=this['_cubeSize'];_0x4fc06d(_0x14a7fd,0x0,0x0,0x3*_0x3976ce,0x2*_0x3976ce),_0x12c035['setRenderTarget'](_0x14a7fd),_0x12c035['render'](_0x4fdc92,_0x383947);}['_applyPMREM'](_0x27256f){const _0x367cb3=this['_renderer'],_0xd61fde=_0x367cb3['autoClear'];_0x367cb3['autoClear']=!0x1;const _0x1ff08b=this['_lodPlanes']['length'];for(let _0xa283ea=0x1;_0xa283ea<_0x1ff08b;_0xa283ea++){const _0x56ccae=Math['sqrt'](this['_sigmas'][_0xa283ea]*this['_sigmas'][_0xa283ea]-this['_sigmas'][_0xa283ea-0x1]*this['_sigmas'][_0xa283ea-0x1]),_0x7a76d1=_0x1af8a7[(_0x1ff08b-_0xa283ea-0x1)%_0x1af8a7['length']];this['_blur'](_0x27256f,_0xa283ea-0x1,_0xa283ea,_0x56ccae,_0x7a76d1);}_0x367cb3['autoClear']=_0xd61fde;}['_blur'](_0x29e7a9,_0x55132c,_0x2f1c85,_0x416174,_0x539cab){const _0x4b81d6=this['_pingPongRenderTarget'];this['_halfBlur'](_0x29e7a9,_0x4b81d6,_0x55132c,_0x2f1c85,_0x416174,'latitudinal',_0x539cab),this['_halfBlur'](_0x4b81d6,_0x29e7a9,_0x2f1c85,_0x2f1c85,_0x416174,'longitudinal',_0x539cab);}['_halfBlur'](_0x214a63,_0x13a38c,_0x48d142,_0x3e83d9,_0x3bef86,_0x7e59ae,_0x271a08){const _0xaed71b=this['_renderer'],_0x44047d=this['_blurMaterial'];'latitudinal'!==_0x7e59ae&&'longitudinal'!==_0x7e59ae&&console['error']('blur\x20direction\x20must\x20be\x20either\x20latitudinal\x20or\x20longitudinal!');const _0x4c61c0=new _0x3e8626['eaF'](this['_lodPlanes'][_0x3e83d9],_0x44047d),_0x16b94e=_0x44047d['uniforms'],_0x6f57cc=this['_sizeLods'][_0x48d142]-0x1,_0x1cb6f4=isFinite(_0x3bef86)?Math['PI']/(0x2*_0x6f57cc):0x2*Math['PI']/0x27,_0x558e6d=_0x3bef86/_0x1cb6f4,_0x26bc52=isFinite(_0x3bef86)?0x1+Math['floor'](0x3*_0x558e6d):_0x4cb3fd;_0x26bc52>_0x4cb3fd&&console['warn']('sigmaRadians,\x20'+_0x3bef86+',\x20is\x20too\x20large\x20and\x20will\x20clip,\x20as\x20it\x20requested\x20'+_0x26bc52+'\x20samples\x20when\x20the\x20maximum\x20is\x20set\x20to\x2020');const _0x22a2c6=[];let _0x4be7da=0x0;for(let _0x468394=0x0;_0x468394<_0x4cb3fd;++_0x468394){const _0x4ba2d5=_0x468394/_0x558e6d,_0x4a9b6b=Math['exp'](-_0x4ba2d5*_0x4ba2d5/0x2);_0x22a2c6['push'](_0x4a9b6b),0x0===_0x468394?_0x4be7da+=_0x4a9b6b:_0x468394<_0x26bc52&&(_0x4be7da+=0x2*_0x4a9b6b);}for(let _0x31ddad=0x0;_0x31ddad<_0x22a2c6['length'];_0x31ddad++)_0x22a2c6[_0x31ddad]=_0x22a2c6[_0x31ddad]/_0x4be7da;_0x16b94e['envMap']['value']=_0x214a63['texture'],_0x16b94e['samples']['value']=_0x26bc52,_0x16b94e['weights']['value']=_0x22a2c6,_0x16b94e['latitudinal']['value']='latitudinal'===_0x7e59ae,_0x271a08&&(_0x16b94e['poleAxis']['value']=_0x271a08);const {_lodMax:_0x159eb9}=this;_0x16b94e['dTheta']['value']=_0x1cb6f4,_0x16b94e['mipInt']['value']=_0x159eb9-_0x48d142;const _0x4d9849=this['_sizeLods'][_0x3e83d9];_0x4fc06d(_0x13a38c,0x3*_0x4d9849*(_0x3e83d9>_0x159eb9-0x4?_0x3e83d9-_0x159eb9+0x4:0x0),0x4*(this['_cubeSize']-_0x4d9849),0x3*_0x4d9849,0x2*_0x4d9849),_0xaed71b['setRenderTarget'](_0x13a38c),_0xaed71b['render'](_0x4c61c0,_0x383947);}}function _0x5d5749(_0x11edf9,_0x441e4c,_0x25c656){const _0x4c82ca=new _0x3e8626['nWS'](_0x11edf9,_0x441e4c,_0x25c656);return _0x4c82ca['texture']['mapping']=_0x3e8626['Om'],_0x4c82ca['texture']['name']='PMREM.cubeUv',_0x4c82ca['scissorTest']=!0x0,_0x4c82ca;}function _0x4fc06d(_0x178b65,_0xbc0ff6,_0xedc7a7,_0xad8af,_0x4d007a){_0x178b65['viewport']['set'](_0xbc0ff6,_0xedc7a7,_0xad8af,_0x4d007a),_0x178b65['scissor']['set'](_0xbc0ff6,_0xedc7a7,_0xad8af,_0x4d007a);}function _0xbab422(){return new _0x3e8626['BKk']({'name':'EquirectangularToCubeUV','uniforms':{'envMap':{'value':null}},'vertexShader':_0x533168(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x0a\x09\x09\x09#include\x20<common>\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20outputDirection\x20=\x20normalize(\x20vOutputDirection\x20);\x0a\x09\x09\x09\x09vec2\x20uv\x20=\x20equirectUv(\x20outputDirection\x20);\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(\x20texture2D\x20(\x20envMap,\x20uv\x20).rgb,\x201.0\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x3e8626['XIg'],'depthTest':!0x1,'depthWrite':!0x1});}function _0x577ce2(){return new _0x3e8626['BKk']({'name':'CubemapToCubeUV','uniforms':{'envMap':{'value':null},'flipEnvMap':{'value':-0x1}},'vertexShader':_0x533168(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09uniform\x20float\x20flipEnvMap;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20textureCube(\x20envMap,\x20vec3(\x20flipEnvMap\x20*\x20vOutputDirection.x,\x20vOutputDirection.yz\x20)\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x3e8626['XIg'],'depthTest':!0x1,'depthWrite':!0x1});}function _0x533168(){return'\x0a\x0a\x09\x09precision\x20mediump\x20float;\x0a\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09attribute\x20float\x20faceIndex;\x0a\x0a\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09//\x20RH\x20coordinate\x20system;\x20PMREM\x20face-indexing\x20convention\x0a\x09\x09vec3\x20getDirection(\x20vec2\x20uv,\x20float\x20face\x20)\x20{\x0a\x0a\x09\x09\x09uv\x20=\x202.0\x20*\x20uv\x20-\x201.0;\x0a\x0a\x09\x09\x09vec3\x20direction\x20=\x20vec3(\x20uv,\x201.0\x20);\x0a\x0a\x09\x09\x09if\x20(\x20face\x20==\x200.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.zyx;\x20//\x20(\x201,\x20v,\x20u\x20)\x20pos\x20x\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x201.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.xzy;\x0a\x09\x09\x09\x09direction.xz\x20*=\x20-1.0;\x20//\x20(\x20-u,\x201,\x20-v\x20)\x20pos\x20y\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x202.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction.x\x20*=\x20-1.0;\x20//\x20(\x20-u,\x20v,\x201\x20)\x20pos\x20z\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x203.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.zyx;\x0a\x09\x09\x09\x09direction.xz\x20*=\x20-1.0;\x20//\x20(\x20-1,\x20v,\x20-u\x20)\x20neg\x20x\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x204.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.xzy;\x0a\x09\x09\x09\x09direction.xy\x20*=\x20-1.0;\x20//\x20(\x20-u,\x20-1,\x20v\x20)\x20neg\x20y\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x205.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction.z\x20*=\x20-1.0;\x20//\x20(\x20u,\x20v,\x20-1\x20)\x20neg\x20z\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09return\x20direction;\x0a\x0a\x09\x09}\x0a\x0a\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09vOutputDirection\x20=\x20getDirection(\x20uv,\x20faceIndex\x20);\x0a\x09\x09\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x0a\x09\x09}\x0a\x09';}function _0x59ac29(_0x20ea14){let _0xc01e4a=new WeakMap(),_0x22958e=null;function _0xdc0e7e(_0x3ded88){const _0x1fee76=_0x3ded88['target'];_0x1fee76['removeEventListener']('dispose',_0xdc0e7e);const _0x3b9399=_0xc01e4a['get'](_0x1fee76);void 0x0!==_0x3b9399&&(_0xc01e4a['delete'](_0x1fee76),_0x3b9399['dispose']());}return{'get':function(_0x4db577){if(_0x4db577&&_0x4db577['isTexture']){const _0x54a718=_0x4db577['mapping'],_0x585279=_0x54a718===_0x3e8626['wfO']||_0x54a718===_0x3e8626['uV5'],_0x17d24e=_0x54a718===_0x3e8626['hy7']||_0x54a718===_0x3e8626['xFO'];if(_0x585279||_0x17d24e){let _0x6bee6b=_0xc01e4a['get'](_0x4db577);const _0x21306e=void 0x0!==_0x6bee6b?_0x6bee6b['texture']['pmremVersion']:0x0;if(_0x4db577['isRenderTargetTexture']&&_0x4db577['pmremVersion']!==_0x21306e)return null===_0x22958e&&(_0x22958e=new _0x172159(_0x20ea14)),_0x6bee6b=_0x585279?_0x22958e['fromEquirectangular'](_0x4db577,_0x6bee6b):_0x22958e['fromCubemap'](_0x4db577,_0x6bee6b),_0x6bee6b['texture']['pmremVersion']=_0x4db577['pmremVersion'],_0xc01e4a['set'](_0x4db577,_0x6bee6b),_0x6bee6b['texture'];if(void 0x0!==_0x6bee6b)return _0x6bee6b['texture'];{const _0x506a77=_0x4db577['image'];return _0x585279&&_0x506a77&&_0x506a77['height']>0x0||_0x17d24e&&_0x506a77&&function(_0x324029){let _0x37d0b8=0x0;const _0x4e123d=0x6;for(let _0x2d6d0d=0x0;_0x2d6d0d<_0x4e123d;_0x2d6d0d++)void 0x0!==_0x324029[_0x2d6d0d]&&_0x37d0b8++;return _0x37d0b8===_0x4e123d;}(_0x506a77)?(null===_0x22958e&&(_0x22958e=new _0x172159(_0x20ea14)),_0x6bee6b=_0x585279?_0x22958e['fromEquirectangular'](_0x4db577):_0x22958e['fromCubemap'](_0x4db577),_0x6bee6b['texture']['pmremVersion']=_0x4db577['pmremVersion'],_0xc01e4a['set'](_0x4db577,_0x6bee6b),_0x4db577['addEventListener']('dispose',_0xdc0e7e),_0x6bee6b['texture']):null;}}}return _0x4db577;},'dispose':function(){_0xc01e4a=new WeakMap(),null!==_0x22958e&&(_0x22958e['dispose'](),_0x22958e=null);}};}function _0xfaf46f(_0x1de706){const _0x4b7411={};function _0x3f47c3(_0x117825){if(void 0x0!==_0x4b7411[_0x117825])return _0x4b7411[_0x117825];let _0x3c1581;switch(_0x117825){case'WEBGL_depth_texture':_0x3c1581=_0x1de706['getExtension']('WEBGL_depth_texture')||_0x1de706['getExtension']('MOZ_WEBGL_depth_texture')||_0x1de706['getExtension']('WEBKIT_WEBGL_depth_texture');break;case'EXT_texture_filter_anisotropic':_0x3c1581=_0x1de706['getExtension']('EXT_texture_filter_anisotropic')||_0x1de706['getExtension']('MOZ_EXT_texture_filter_anisotropic')||_0x1de706['getExtension']('WEBKIT_EXT_texture_filter_anisotropic');break;case'WEBGL_compressed_texture_s3tc':_0x3c1581=_0x1de706['getExtension']('WEBGL_compressed_texture_s3tc')||_0x1de706['getExtension']('MOZ_WEBGL_compressed_texture_s3tc')||_0x1de706['getExtension']('WEBKIT_WEBGL_compressed_texture_s3tc');break;case'WEBGL_compressed_texture_pvrtc':_0x3c1581=_0x1de706['getExtension']('WEBGL_compressed_texture_pvrtc')||_0x1de706['getExtension']('WEBKIT_WEBGL_compressed_texture_pvrtc');break;default:_0x3c1581=_0x1de706['getExtension'](_0x117825);}return _0x4b7411[_0x117825]=_0x3c1581,_0x3c1581;}return{'has':function(_0x3dfc67){return null!==_0x3f47c3(_0x3dfc67);},'init':function(){_0x3f47c3('EXT_color_buffer_float'),_0x3f47c3('WEBGL_clip_cull_distance'),_0x3f47c3('OES_texture_float_linear'),_0x3f47c3('EXT_color_buffer_half_float'),_0x3f47c3('WEBGL_multisampled_render_to_texture'),_0x3f47c3('WEBGL_render_shared_exponent');},'get':function(_0x18e1d2){const _0x7524a4=_0x3f47c3(_0x18e1d2);return null===_0x7524a4&&(0x0,_0x3e8626['mcG'])('THREE.WebGLRenderer:\x20'+_0x18e1d2+'\x20extension\x20not\x20supported.'),_0x7524a4;}};}function _0x117770(_0x19bca4,_0x2d2596,_0x452dd4,_0x40d3a7){const _0x1ffff5={},_0x54944f=new WeakMap();function _0x3f9986(_0x4a7044){const _0x3f365f=_0x4a7044['target'];null!==_0x3f365f['index']&&_0x2d2596['remove'](_0x3f365f['index']);for(const _0x481e3e in _0x3f365f['attributes'])_0x2d2596['remove'](_0x3f365f['attributes'][_0x481e3e]);_0x3f365f['removeEventListener']('dispose',_0x3f9986),delete _0x1ffff5[_0x3f365f['id']];const _0x1c9e0e=_0x54944f['get'](_0x3f365f);_0x1c9e0e&&(_0x2d2596['remove'](_0x1c9e0e),_0x54944f['delete'](_0x3f365f)),_0x40d3a7['releaseStatesOfGeometry'](_0x3f365f),!0x0===_0x3f365f['isInstancedBufferGeometry']&&delete _0x3f365f['_maxInstanceCount'],_0x452dd4['memory']['geometries']--;}function _0x5531e7(_0x48a988){const _0x4779e2=[],_0x280d19=_0x48a988['index'],_0x723b01=_0x48a988['attributes']['position'];let _0x53f218=0x0;if(null!==_0x280d19){const _0x4acf0f=_0x280d19['array'];_0x53f218=_0x280d19['version'];for(let _0x1dbe9a=0x0,_0x429de5=_0x4acf0f['length'];_0x1dbe9a<_0x429de5;_0x1dbe9a+=0x3){const _0x247c82=_0x4acf0f[_0x1dbe9a+0x0],_0x35fca5=_0x4acf0f[_0x1dbe9a+0x1],_0x4b62c8=_0x4acf0f[_0x1dbe9a+0x2];_0x4779e2['push'](_0x247c82,_0x35fca5,_0x35fca5,_0x4b62c8,_0x4b62c8,_0x247c82);}}else{if(void 0x0===_0x723b01)return;{const _0x4978ae=_0x723b01['array'];_0x53f218=_0x723b01['version'];for(let _0x58861a=0x0,_0x24aeb7=_0x4978ae['length']/0x3-0x1;_0x58861a<_0x24aeb7;_0x58861a+=0x3){const _0x2ffe34=_0x58861a+0x0,_0x5e66ee=_0x58861a+0x1,_0x175fc3=_0x58861a+0x2;_0x4779e2['push'](_0x2ffe34,_0x5e66ee,_0x5e66ee,_0x175fc3,_0x175fc3,_0x2ffe34);}}}const _0x40ed6b=new(((0x0,_0x3e8626['AQS'])(_0x4779e2))?_0x3e8626['MW4']:_0x3e8626['A$4'])(_0x4779e2,0x1);_0x40ed6b['version']=_0x53f218;const _0x18dd4d=_0x54944f['get'](_0x48a988);_0x18dd4d&&_0x2d2596['remove'](_0x18dd4d),_0x54944f['set'](_0x48a988,_0x40ed6b);}return{'get':function(_0x5c83bd,_0x25627d){return!0x0===_0x1ffff5[_0x25627d['id']]||(_0x25627d['addEventListener']('dispose',_0x3f9986),_0x1ffff5[_0x25627d['id']]=!0x0,_0x452dd4['memory']['geometries']++),_0x25627d;},'update':function(_0x2b7f1a){const _0x4244b7=_0x2b7f1a['attributes'];for(const _0x5596f9 in _0x4244b7)_0x2d2596['update'](_0x4244b7[_0x5596f9],_0x19bca4['ARRAY_BUFFER']);},'getWireframeAttribute':function(_0x5909d0){const _0x4f9b45=_0x54944f['get'](_0x5909d0);if(_0x4f9b45){const _0x21a700=_0x5909d0['index'];null!==_0x21a700&&_0x4f9b45['version']<_0x21a700['version']&&_0x5531e7(_0x5909d0);}else _0x5531e7(_0x5909d0);return _0x54944f['get'](_0x5909d0);}};}function _0x249078(_0x352748,_0xa46bbe,_0x51dc88){let _0x1605af,_0x5e8058,_0x42a4f1;function _0x366701(_0x3b485e,_0x57a218,_0x59efe4){0x0!==_0x59efe4&&(_0x352748['drawElementsInstanced'](_0x1605af,_0x57a218,_0x5e8058,_0x3b485e*_0x42a4f1,_0x59efe4),_0x51dc88['update'](_0x57a218,_0x1605af,_0x59efe4));}this['setMode']=function(_0x3acf6e){_0x1605af=_0x3acf6e;},this['setIndex']=function(_0x1922cc){_0x5e8058=_0x1922cc['type'],_0x42a4f1=_0x1922cc['bytesPerElement'];},this['render']=function(_0x3df77e,_0x38549c){_0x352748['drawElements'](_0x1605af,_0x38549c,_0x5e8058,_0x3df77e*_0x42a4f1),_0x51dc88['update'](_0x38549c,_0x1605af,0x1);},this['renderInstances']=_0x366701,this['renderMultiDraw']=function(_0x514798,_0x4179a9,_0x12b766){if(0x0===_0x12b766)return;_0xa46bbe['get']('WEBGL_multi_draw')['multiDrawElementsWEBGL'](_0x1605af,_0x4179a9,0x0,_0x5e8058,_0x514798,0x0,_0x12b766);let _0xe8f4=0x0;for(let _0x46edca=0x0;_0x46edca<_0x12b766;_0x46edca++)_0xe8f4+=_0x4179a9[_0x46edca];_0x51dc88['update'](_0xe8f4,_0x1605af,0x1);},this['renderMultiDrawInstances']=function(_0x454ea1,_0x1bc5e1,_0x5b77ba,_0x381883){if(0x0===_0x5b77ba)return;const _0x530c15=_0xa46bbe['get']('WEBGL_multi_draw');if(null===_0x530c15){for(let _0x16cf1f=0x0;_0x16cf1f<_0x454ea1['length'];_0x16cf1f++)_0x366701(_0x454ea1[_0x16cf1f]/_0x42a4f1,_0x1bc5e1[_0x16cf1f],_0x381883[_0x16cf1f]);}else{_0x530c15['multiDrawElementsInstancedWEBGL'](_0x1605af,_0x1bc5e1,0x0,_0x5e8058,_0x454ea1,0x0,_0x381883,0x0,_0x5b77ba);let _0x4e4297=0x0;for(let _0x540117=0x0;_0x540117<_0x5b77ba;_0x540117++)_0x4e4297+=_0x1bc5e1[_0x540117]*_0x381883[_0x540117];_0x51dc88['update'](_0x4e4297,_0x1605af,0x1);}};}function _0x3543fa(_0x2c21e6){const _0x408041={'frame':0x0,'calls':0x0,'triangles':0x0,'points':0x0,'lines':0x0};return{'memory':{'geometries':0x0,'textures':0x0},'render':_0x408041,'programs':null,'autoReset':!0x0,'reset':function(){_0x408041['calls']=0x0,_0x408041['triangles']=0x0,_0x408041['points']=0x0,_0x408041['lines']=0x0;},'update':function(_0x14a135,_0x3c3d5b,_0xa40174){switch(_0x408041['calls']++,_0x3c3d5b){case _0x2c21e6['TRIANGLES']:_0x408041['triangles']+=_0xa40174*(_0x14a135/0x3);break;case _0x2c21e6['LINES']:_0x408041['lines']+=_0xa40174*(_0x14a135/0x2);break;case _0x2c21e6['LINE_STRIP']:_0x408041['lines']+=_0xa40174*(_0x14a135-0x1);break;case _0x2c21e6['LINE_LOOP']:_0x408041['lines']+=_0xa40174*_0x14a135;break;case _0x2c21e6['POINTS']:_0x408041['points']+=_0xa40174*_0x14a135;break;default:console['error']('THREE.WebGLInfo:\x20Unknown\x20draw\x20mode:',_0x3c3d5b);}}};}function _0x4a17d1(_0x488655,_0x14b899,_0x10a669){const _0x3bed59=new WeakMap(),_0x2e6487=new _0x3e8626['IUQ']();return{'update':function(_0x171656,_0x5c001b,_0x2b8339){const _0x268596=_0x171656['morphTargetInfluences'],_0x4c8e8d=_0x5c001b['morphAttributes']['position']||_0x5c001b['morphAttributes']['normal']||_0x5c001b['morphAttributes']['color'],_0x1b5b4b=void 0x0!==_0x4c8e8d?_0x4c8e8d['length']:0x0;let _0x4acd65=_0x3bed59['get'](_0x5c001b);if(void 0x0===_0x4acd65||_0x4acd65['count']!==_0x1b5b4b){void 0x0!==_0x4acd65&&_0x4acd65['texture']['dispose']();const _0xbc284d=void 0x0!==_0x5c001b['morphAttributes']['position'],_0x181bcb=void 0x0!==_0x5c001b['morphAttributes']['normal'],_0x3e6851=void 0x0!==_0x5c001b['morphAttributes']['color'],_0x4c7e49=_0x5c001b['morphAttributes']['position']||[],_0x2e4029=_0x5c001b['morphAttributes']['normal']||[],_0x25dfc5=_0x5c001b['morphAttributes']['color']||[];let _0xea4e28=0x0;!0x0===_0xbc284d&&(_0xea4e28=0x1),!0x0===_0x181bcb&&(_0xea4e28=0x2),!0x0===_0x3e6851&&(_0xea4e28=0x3);let _0x24b203=_0x5c001b['attributes']['position']['count']*_0xea4e28,_0x441ae6=0x1;_0x24b203>_0x14b899['maxTextureSize']&&(_0x441ae6=Math['ceil'](_0x24b203/_0x14b899['maxTextureSize']),_0x24b203=_0x14b899['maxTextureSize']);const _0x43edfc=new Float32Array(_0x24b203*_0x441ae6*0x4*_0x1b5b4b),_0x4c24b0=new _0x3e8626['rFo'](_0x43edfc,_0x24b203,_0x441ae6,_0x1b5b4b);_0x4c24b0['type']=_0x3e8626['RQf'],_0x4c24b0['needsUpdate']=!0x0;const _0x24c10a=0x4*_0xea4e28;for(let _0x3918e0=0x0;_0x3918e0<_0x1b5b4b;_0x3918e0++){const _0x4741d3=_0x4c7e49[_0x3918e0],_0x3785fb=_0x2e4029[_0x3918e0],_0x473723=_0x25dfc5[_0x3918e0],_0x16e35b=_0x24b203*_0x441ae6*0x4*_0x3918e0;for(let _0x129c5e=0x0;_0x129c5e<_0x4741d3['count'];_0x129c5e++){const _0x27ee0f=_0x129c5e*_0x24c10a;!0x0===_0xbc284d&&(_0x2e6487['fromBufferAttribute'](_0x4741d3,_0x129c5e),_0x43edfc[_0x16e35b+_0x27ee0f+0x0]=_0x2e6487['x'],_0x43edfc[_0x16e35b+_0x27ee0f+0x1]=_0x2e6487['y'],_0x43edfc[_0x16e35b+_0x27ee0f+0x2]=_0x2e6487['z'],_0x43edfc[_0x16e35b+_0x27ee0f+0x3]=0x0),!0x0===_0x181bcb&&(_0x2e6487['fromBufferAttribute'](_0x3785fb,_0x129c5e),_0x43edfc[_0x16e35b+_0x27ee0f+0x4]=_0x2e6487['x'],_0x43edfc[_0x16e35b+_0x27ee0f+0x5]=_0x2e6487['y'],_0x43edfc[_0x16e35b+_0x27ee0f+0x6]=_0x2e6487['z'],_0x43edfc[_0x16e35b+_0x27ee0f+0x7]=0x0),!0x0===_0x3e6851&&(_0x2e6487['fromBufferAttribute'](_0x473723,_0x129c5e),_0x43edfc[_0x16e35b+_0x27ee0f+0x8]=_0x2e6487['x'],_0x43edfc[_0x16e35b+_0x27ee0f+0x9]=_0x2e6487['y'],_0x43edfc[_0x16e35b+_0x27ee0f+0xa]=_0x2e6487['z'],_0x43edfc[_0x16e35b+_0x27ee0f+0xb]=0x4===_0x473723['itemSize']?_0x2e6487['w']:0x1);}}function _0x1c0b74(){_0x4c24b0['dispose'](),_0x3bed59['delete'](_0x5c001b),_0x5c001b['removeEventListener']('dispose',_0x1c0b74);}_0x4acd65={'count':_0x1b5b4b,'texture':_0x4c24b0,'size':new _0x3e8626['I9Y'](_0x24b203,_0x441ae6)},_0x3bed59['set'](_0x5c001b,_0x4acd65),_0x5c001b['addEventListener']('dispose',_0x1c0b74);}if(!0x0===_0x171656['isInstancedMesh']&&null!==_0x171656['morphTexture'])_0x2b8339['getUniforms']()['setValue'](_0x488655,'morphTexture',_0x171656['morphTexture'],_0x10a669);else{let _0x3dc8c9=0x0;for(let _0x4b9e93=0x0;_0x4b9e93<_0x268596['length'];_0x4b9e93++)_0x3dc8c9+=_0x268596[_0x4b9e93];const _0xe2d079=_0x5c001b['morphTargetsRelative']?0x1:0x1-_0x3dc8c9;_0x2b8339['getUniforms']()['setValue'](_0x488655,'morphTargetBaseInfluence',_0xe2d079),_0x2b8339['getUniforms']()['setValue'](_0x488655,'morphTargetInfluences',_0x268596);}_0x2b8339['getUniforms']()['setValue'](_0x488655,'morphTargetsTexture',_0x4acd65['texture'],_0x10a669),_0x2b8339['getUniforms']()['setValue'](_0x488655,'morphTargetsTextureSize',_0x4acd65['size']);}};}function _0x5d2fdb(_0x30800d,_0x26b343,_0x5ded11,_0x203a77){let _0x1fff22=new WeakMap();function _0x5ca057(_0x47cdb0){const _0x18bd93=_0x47cdb0['target'];_0x18bd93['removeEventListener']('dispose',_0x5ca057),_0x5ded11['remove'](_0x18bd93['instanceMatrix']),null!==_0x18bd93['instanceColor']&&_0x5ded11['remove'](_0x18bd93['instanceColor']);}return{'update':function(_0x42483a){const _0x4f3835=_0x203a77['render']['frame'],_0xc108f2=_0x42483a['geometry'],_0x59763c=_0x26b343['get'](_0x42483a,_0xc108f2);if(_0x1fff22['get'](_0x59763c)!==_0x4f3835&&(_0x26b343['update'](_0x59763c),_0x1fff22['set'](_0x59763c,_0x4f3835)),_0x42483a['isInstancedMesh']&&(!0x1===_0x42483a['hasEventListener']('dispose',_0x5ca057)&&_0x42483a['addEventListener']('dispose',_0x5ca057),_0x1fff22['get'](_0x42483a)!==_0x4f3835&&(_0x5ded11['update'](_0x42483a['instanceMatrix'],_0x30800d['ARRAY_BUFFER']),null!==_0x42483a['instanceColor']&&_0x5ded11['update'](_0x42483a['instanceColor'],_0x30800d['ARRAY_BUFFER']),_0x1fff22['set'](_0x42483a,_0x4f3835))),_0x42483a['isSkinnedMesh']){const _0x39e6e5=_0x42483a['skeleton'];_0x1fff22['get'](_0x39e6e5)!==_0x4f3835&&(_0x39e6e5['update'](),_0x1fff22['set'](_0x39e6e5,_0x4f3835));}return _0x59763c;},'dispose':function(){_0x1fff22=new WeakMap();}};}const _0xfc13a0=new _0x3e8626['gPd'](),_0xbdd244=new _0x3e8626['VCu'](0x1,0x1),_0x54ecea=new _0x3e8626['rFo'](),_0x45b85b=new _0x3e8626['dYF'](),_0x2926f2=new _0x3e8626['b4q'](),_0x2ffa5e=[],_0x529fdf=[],_0x5850dd=new Float32Array(0x10),_0x555b1e=new Float32Array(0x9),_0x566c4c=new Float32Array(0x4);function _0x317f31(_0x3f35b8,_0x82dc7a,_0x22fa23){const _0x1b9204=_0x3f35b8[0x0];if(_0x1b9204<=0x0||_0x1b9204>0x0)return _0x3f35b8;const _0x2a67e1=_0x82dc7a*_0x22fa23;let _0x412e48=_0x2ffa5e[_0x2a67e1];if(void 0x0===_0x412e48&&(_0x412e48=new Float32Array(_0x2a67e1),_0x2ffa5e[_0x2a67e1]=_0x412e48),0x0!==_0x82dc7a){_0x1b9204['toArray'](_0x412e48,0x0);for(let _0x5b2b26=0x1,_0x587add=0x0;_0x5b2b26!==_0x82dc7a;++_0x5b2b26)_0x587add+=_0x22fa23,_0x3f35b8[_0x5b2b26]['toArray'](_0x412e48,_0x587add);}return _0x412e48;}function _0x35e444(_0x202777,_0x4acfb6){if(_0x202777['length']!==_0x4acfb6['length'])return!0x1;for(let _0x1129d6=0x0,_0x4a3320=_0x202777['length'];_0x1129d6<_0x4a3320;_0x1129d6++)if(_0x202777[_0x1129d6]!==_0x4acfb6[_0x1129d6])return!0x1;return!0x0;}function _0x4131f5(_0x576c59,_0x3b03d7){for(let _0x1cccd7=0x0,_0x39c8c8=_0x3b03d7['length'];_0x1cccd7<_0x39c8c8;_0x1cccd7++)_0x576c59[_0x1cccd7]=_0x3b03d7[_0x1cccd7];}function _0x16ddd7(_0x28d7c7,_0x171045){let _0x1a04c9=_0x529fdf[_0x171045];void 0x0===_0x1a04c9&&(_0x1a04c9=new Int32Array(_0x171045),_0x529fdf[_0x171045]=_0x1a04c9);for(let _0x479e74=0x0;_0x479e74!==_0x171045;++_0x479e74)_0x1a04c9[_0x479e74]=_0x28d7c7['allocateTextureUnit']();return _0x1a04c9;}function _0x212ad2(_0x1ea155,_0x525323){const _0x1a427e=this['cache'];_0x1a427e[0x0]!==_0x525323&&(_0x1ea155['uniform1f'](this['addr'],_0x525323),_0x1a427e[0x0]=_0x525323);}function _0x2c8bf7(_0xee4538,_0x5c1ecb){const _0x587d40=this['cache'];if(void 0x0!==_0x5c1ecb['x'])_0x587d40[0x0]===_0x5c1ecb['x']&&_0x587d40[0x1]===_0x5c1ecb['y']||(_0xee4538['uniform2f'](this['addr'],_0x5c1ecb['x'],_0x5c1ecb['y']),_0x587d40[0x0]=_0x5c1ecb['x'],_0x587d40[0x1]=_0x5c1ecb['y']);else{if(_0x35e444(_0x587d40,_0x5c1ecb))return;_0xee4538['uniform2fv'](this['addr'],_0x5c1ecb),_0x4131f5(_0x587d40,_0x5c1ecb);}}function _0x1d9869(_0x226e51,_0x524c11){const _0x928bf8=this['cache'];if(void 0x0!==_0x524c11['x'])_0x928bf8[0x0]===_0x524c11['x']&&_0x928bf8[0x1]===_0x524c11['y']&&_0x928bf8[0x2]===_0x524c11['z']||(_0x226e51['uniform3f'](this['addr'],_0x524c11['x'],_0x524c11['y'],_0x524c11['z']),_0x928bf8[0x0]=_0x524c11['x'],_0x928bf8[0x1]=_0x524c11['y'],_0x928bf8[0x2]=_0x524c11['z']);else{if(void 0x0!==_0x524c11['r'])_0x928bf8[0x0]===_0x524c11['r']&&_0x928bf8[0x1]===_0x524c11['g']&&_0x928bf8[0x2]===_0x524c11['b']||(_0x226e51['uniform3f'](this['addr'],_0x524c11['r'],_0x524c11['g'],_0x524c11['b']),_0x928bf8[0x0]=_0x524c11['r'],_0x928bf8[0x1]=_0x524c11['g'],_0x928bf8[0x2]=_0x524c11['b']);else{if(_0x35e444(_0x928bf8,_0x524c11))return;_0x226e51['uniform3fv'](this['addr'],_0x524c11),_0x4131f5(_0x928bf8,_0x524c11);}}}function _0x331be9(_0x18f627,_0x6be17f){const _0x37ca89=this['cache'];if(void 0x0!==_0x6be17f['x'])_0x37ca89[0x0]===_0x6be17f['x']&&_0x37ca89[0x1]===_0x6be17f['y']&&_0x37ca89[0x2]===_0x6be17f['z']&&_0x37ca89[0x3]===_0x6be17f['w']||(_0x18f627['uniform4f'](this['addr'],_0x6be17f['x'],_0x6be17f['y'],_0x6be17f['z'],_0x6be17f['w']),_0x37ca89[0x0]=_0x6be17f['x'],_0x37ca89[0x1]=_0x6be17f['y'],_0x37ca89[0x2]=_0x6be17f['z'],_0x37ca89[0x3]=_0x6be17f['w']);else{if(_0x35e444(_0x37ca89,_0x6be17f))return;_0x18f627['uniform4fv'](this['addr'],_0x6be17f),_0x4131f5(_0x37ca89,_0x6be17f);}}function _0x5ee6c8(_0x2b6be4,_0x433606){const _0x476d6e=this['cache'],_0x3102b7=_0x433606['elements'];if(void 0x0===_0x3102b7){if(_0x35e444(_0x476d6e,_0x433606))return;_0x2b6be4['uniformMatrix2fv'](this['addr'],!0x1,_0x433606),_0x4131f5(_0x476d6e,_0x433606);}else{if(_0x35e444(_0x476d6e,_0x3102b7))return;_0x566c4c['set'](_0x3102b7),_0x2b6be4['uniformMatrix2fv'](this['addr'],!0x1,_0x566c4c),_0x4131f5(_0x476d6e,_0x3102b7);}}function _0x50fc42(_0x163802,_0x7559ea){const _0x404e23=this['cache'],_0x50bc36=_0x7559ea['elements'];if(void 0x0===_0x50bc36){if(_0x35e444(_0x404e23,_0x7559ea))return;_0x163802['uniformMatrix3fv'](this['addr'],!0x1,_0x7559ea),_0x4131f5(_0x404e23,_0x7559ea);}else{if(_0x35e444(_0x404e23,_0x50bc36))return;_0x555b1e['set'](_0x50bc36),_0x163802['uniformMatrix3fv'](this['addr'],!0x1,_0x555b1e),_0x4131f5(_0x404e23,_0x50bc36);}}function _0x2fb05d(_0x2496f7,_0x26870f){const _0x175315=this['cache'],_0x59607c=_0x26870f['elements'];if(void 0x0===_0x59607c){if(_0x35e444(_0x175315,_0x26870f))return;_0x2496f7['uniformMatrix4fv'](this['addr'],!0x1,_0x26870f),_0x4131f5(_0x175315,_0x26870f);}else{if(_0x35e444(_0x175315,_0x59607c))return;_0x5850dd['set'](_0x59607c),_0x2496f7['uniformMatrix4fv'](this['addr'],!0x1,_0x5850dd),_0x4131f5(_0x175315,_0x59607c);}}function _0x51be30(_0x203b9d,_0x3fd5fc){const _0x5a1928=this['cache'];_0x5a1928[0x0]!==_0x3fd5fc&&(_0x203b9d['uniform1i'](this['addr'],_0x3fd5fc),_0x5a1928[0x0]=_0x3fd5fc);}function _0x3915a(_0x152a77,_0x1d8299){const _0x4fa523=this['cache'];if(void 0x0!==_0x1d8299['x'])_0x4fa523[0x0]===_0x1d8299['x']&&_0x4fa523[0x1]===_0x1d8299['y']||(_0x152a77['uniform2i'](this['addr'],_0x1d8299['x'],_0x1d8299['y']),_0x4fa523[0x0]=_0x1d8299['x'],_0x4fa523[0x1]=_0x1d8299['y']);else{if(_0x35e444(_0x4fa523,_0x1d8299))return;_0x152a77['uniform2iv'](this['addr'],_0x1d8299),_0x4131f5(_0x4fa523,_0x1d8299);}}function _0x1bc80c(_0x4e2f30,_0x1ad87){const _0x3f8722=this['cache'];if(void 0x0!==_0x1ad87['x'])_0x3f8722[0x0]===_0x1ad87['x']&&_0x3f8722[0x1]===_0x1ad87['y']&&_0x3f8722[0x2]===_0x1ad87['z']||(_0x4e2f30['uniform3i'](this['addr'],_0x1ad87['x'],_0x1ad87['y'],_0x1ad87['z']),_0x3f8722[0x0]=_0x1ad87['x'],_0x3f8722[0x1]=_0x1ad87['y'],_0x3f8722[0x2]=_0x1ad87['z']);else{if(_0x35e444(_0x3f8722,_0x1ad87))return;_0x4e2f30['uniform3iv'](this['addr'],_0x1ad87),_0x4131f5(_0x3f8722,_0x1ad87);}}function _0x49cb94(_0x565596,_0x1ac093){const _0x3bb787=this['cache'];if(void 0x0!==_0x1ac093['x'])_0x3bb787[0x0]===_0x1ac093['x']&&_0x3bb787[0x1]===_0x1ac093['y']&&_0x3bb787[0x2]===_0x1ac093['z']&&_0x3bb787[0x3]===_0x1ac093['w']||(_0x565596['uniform4i'](this['addr'],_0x1ac093['x'],_0x1ac093['y'],_0x1ac093['z'],_0x1ac093['w']),_0x3bb787[0x0]=_0x1ac093['x'],_0x3bb787[0x1]=_0x1ac093['y'],_0x3bb787[0x2]=_0x1ac093['z'],_0x3bb787[0x3]=_0x1ac093['w']);else{if(_0x35e444(_0x3bb787,_0x1ac093))return;_0x565596['uniform4iv'](this['addr'],_0x1ac093),_0x4131f5(_0x3bb787,_0x1ac093);}}function _0x11d81c(_0x3fc3da,_0x2e82db){const _0x1c8cc9=this['cache'];_0x1c8cc9[0x0]!==_0x2e82db&&(_0x3fc3da['uniform1ui'](this['addr'],_0x2e82db),_0x1c8cc9[0x0]=_0x2e82db);}function _0x4ba8b4(_0x1dc758,_0x3279be){const _0xb9225f=this['cache'];if(void 0x0!==_0x3279be['x'])_0xb9225f[0x0]===_0x3279be['x']&&_0xb9225f[0x1]===_0x3279be['y']||(_0x1dc758['uniform2ui'](this['addr'],_0x3279be['x'],_0x3279be['y']),_0xb9225f[0x0]=_0x3279be['x'],_0xb9225f[0x1]=_0x3279be['y']);else{if(_0x35e444(_0xb9225f,_0x3279be))return;_0x1dc758['uniform2uiv'](this['addr'],_0x3279be),_0x4131f5(_0xb9225f,_0x3279be);}}function _0x1bbbcc(_0x2e5447,_0x2125e3){const _0x1f06ff=this['cache'];if(void 0x0!==_0x2125e3['x'])_0x1f06ff[0x0]===_0x2125e3['x']&&_0x1f06ff[0x1]===_0x2125e3['y']&&_0x1f06ff[0x2]===_0x2125e3['z']||(_0x2e5447['uniform3ui'](this['addr'],_0x2125e3['x'],_0x2125e3['y'],_0x2125e3['z']),_0x1f06ff[0x0]=_0x2125e3['x'],_0x1f06ff[0x1]=_0x2125e3['y'],_0x1f06ff[0x2]=_0x2125e3['z']);else{if(_0x35e444(_0x1f06ff,_0x2125e3))return;_0x2e5447['uniform3uiv'](this['addr'],_0x2125e3),_0x4131f5(_0x1f06ff,_0x2125e3);}}function _0x60f34(_0x455bcf,_0x28b419){const _0x109882=this['cache'];if(void 0x0!==_0x28b419['x'])_0x109882[0x0]===_0x28b419['x']&&_0x109882[0x1]===_0x28b419['y']&&_0x109882[0x2]===_0x28b419['z']&&_0x109882[0x3]===_0x28b419['w']||(_0x455bcf['uniform4ui'](this['addr'],_0x28b419['x'],_0x28b419['y'],_0x28b419['z'],_0x28b419['w']),_0x109882[0x0]=_0x28b419['x'],_0x109882[0x1]=_0x28b419['y'],_0x109882[0x2]=_0x28b419['z'],_0x109882[0x3]=_0x28b419['w']);else{if(_0x35e444(_0x109882,_0x28b419))return;_0x455bcf['uniform4uiv'](this['addr'],_0x28b419),_0x4131f5(_0x109882,_0x28b419);}}function _0x56293b(_0x51e00e,_0x27fbcc,_0x1a335a){const _0x4b67ee=this['cache'],_0x5e01fe=_0x1a335a['allocateTextureUnit']();let _0x103d8a;_0x4b67ee[0x0]!==_0x5e01fe&&(_0x51e00e['uniform1i'](this['addr'],_0x5e01fe),_0x4b67ee[0x0]=_0x5e01fe),this['type']===_0x51e00e['SAMPLER_2D_SHADOW']?(_0xbdd244['compareFunction']=_0x3e8626['TiK'],_0x103d8a=_0xbdd244):_0x103d8a=_0xfc13a0,_0x1a335a['setTexture2D'](_0x27fbcc||_0x103d8a,_0x5e01fe);}function _0x245d30(_0x1b2f99,_0x5cda74,_0x4e1972){const _0x4fe198=this['cache'],_0xd7195a=_0x4e1972['allocateTextureUnit']();_0x4fe198[0x0]!==_0xd7195a&&(_0x1b2f99['uniform1i'](this['addr'],_0xd7195a),_0x4fe198[0x0]=_0xd7195a),_0x4e1972['setTexture3D'](_0x5cda74||_0x45b85b,_0xd7195a);}function _0x553f8d(_0x35929f,_0x185dbd,_0x51c517){const _0x58f522=this['cache'],_0x3291e1=_0x51c517['allocateTextureUnit']();_0x58f522[0x0]!==_0x3291e1&&(_0x35929f['uniform1i'](this['addr'],_0x3291e1),_0x58f522[0x0]=_0x3291e1),_0x51c517['setTextureCube'](_0x185dbd||_0x2926f2,_0x3291e1);}function _0x1688c8(_0xca220f,_0x6cc249,_0x353534){const _0x337bff=this['cache'],_0x43b153=_0x353534['allocateTextureUnit']();_0x337bff[0x0]!==_0x43b153&&(_0xca220f['uniform1i'](this['addr'],_0x43b153),_0x337bff[0x0]=_0x43b153),_0x353534['setTexture2DArray'](_0x6cc249||_0x54ecea,_0x43b153);}function _0x5987de(_0x1e1a4e,_0x28259b){_0x1e1a4e['uniform1fv'](this['addr'],_0x28259b);}function _0x49e12c(_0x17a600,_0x149962){const _0x4546ee=_0x317f31(_0x149962,this['size'],0x2);_0x17a600['uniform2fv'](this['addr'],_0x4546ee);}function _0x26de07(_0x54281d,_0xc313f6){const _0x36b5ae=_0x317f31(_0xc313f6,this['size'],0x3);_0x54281d['uniform3fv'](this['addr'],_0x36b5ae);}function _0x5ad1f8(_0x55d3cc,_0x41c267){const _0x253119=_0x317f31(_0x41c267,this['size'],0x4);_0x55d3cc['uniform4fv'](this['addr'],_0x253119);}function _0x5b38ba(_0x573965,_0x578ccd){const _0x3a8aa8=_0x317f31(_0x578ccd,this['size'],0x4);_0x573965['uniformMatrix2fv'](this['addr'],!0x1,_0x3a8aa8);}function _0x380a0e(_0x5e426d,_0x351b5e){const _0x5e67fc=_0x317f31(_0x351b5e,this['size'],0x9);_0x5e426d['uniformMatrix3fv'](this['addr'],!0x1,_0x5e67fc);}function _0x57535a(_0x25df45,_0x57544f){const _0x11ac58=_0x317f31(_0x57544f,this['size'],0x10);_0x25df45['uniformMatrix4fv'](this['addr'],!0x1,_0x11ac58);}function _0x337a61(_0x44b311,_0x3b7249){_0x44b311['uniform1iv'](this['addr'],_0x3b7249);}function _0x38f24f(_0x34d11f,_0x2f2af7){_0x34d11f['uniform2iv'](this['addr'],_0x2f2af7);}function _0x2cbfe8(_0x576b1d,_0x29268c){_0x576b1d['uniform3iv'](this['addr'],_0x29268c);}function _0x474566(_0x364f81,_0x32d366){_0x364f81['uniform4iv'](this['addr'],_0x32d366);}function _0x5519e1(_0x55b9e7,_0x4aea22){_0x55b9e7['uniform1uiv'](this['addr'],_0x4aea22);}function _0x2c4672(_0x778ab1,_0x449a9c){_0x778ab1['uniform2uiv'](this['addr'],_0x449a9c);}function _0x23dcf5(_0xce3e5,_0x29ea23){_0xce3e5['uniform3uiv'](this['addr'],_0x29ea23);}function _0x4b2d8a(_0x486ddb,_0x11cbe4){_0x486ddb['uniform4uiv'](this['addr'],_0x11cbe4);}function _0x43e3af(_0x543151,_0x370b4f,_0x114639){const _0x1d7ec3=this['cache'],_0x5da84e=_0x370b4f['length'],_0x518472=_0x16ddd7(_0x114639,_0x5da84e);_0x35e444(_0x1d7ec3,_0x518472)||(_0x543151['uniform1iv'](this['addr'],_0x518472),_0x4131f5(_0x1d7ec3,_0x518472));for(let _0xfcfd1f=0x0;_0xfcfd1f!==_0x5da84e;++_0xfcfd1f)_0x114639['setTexture2D'](_0x370b4f[_0xfcfd1f]||_0xfc13a0,_0x518472[_0xfcfd1f]);}function _0x19cd1c(_0x2e74c7,_0x56b510,_0x48e89c){const _0x5724e0=this['cache'],_0x1e2f89=_0x56b510['length'],_0x10c089=_0x16ddd7(_0x48e89c,_0x1e2f89);_0x35e444(_0x5724e0,_0x10c089)||(_0x2e74c7['uniform1iv'](this['addr'],_0x10c089),_0x4131f5(_0x5724e0,_0x10c089));for(let _0x55160e=0x0;_0x55160e!==_0x1e2f89;++_0x55160e)_0x48e89c['setTexture3D'](_0x56b510[_0x55160e]||_0x45b85b,_0x10c089[_0x55160e]);}function _0x44406c(_0x23d890,_0x287a2d,_0x5b1e39){const _0x26f4cd=this['cache'],_0x203473=_0x287a2d['length'],_0x23a199=_0x16ddd7(_0x5b1e39,_0x203473);_0x35e444(_0x26f4cd,_0x23a199)||(_0x23d890['uniform1iv'](this['addr'],_0x23a199),_0x4131f5(_0x26f4cd,_0x23a199));for(let _0x21df1c=0x0;_0x21df1c!==_0x203473;++_0x21df1c)_0x5b1e39['setTextureCube'](_0x287a2d[_0x21df1c]||_0x2926f2,_0x23a199[_0x21df1c]);}function _0x213b17(_0x2d8630,_0x59239f,_0x535489){const _0x5a299b=this['cache'],_0x2278b2=_0x59239f['length'],_0x17eb1b=_0x16ddd7(_0x535489,_0x2278b2);_0x35e444(_0x5a299b,_0x17eb1b)||(_0x2d8630['uniform1iv'](this['addr'],_0x17eb1b),_0x4131f5(_0x5a299b,_0x17eb1b));for(let _0x1b67a6=0x0;_0x1b67a6!==_0x2278b2;++_0x1b67a6)_0x535489['setTexture2DArray'](_0x59239f[_0x1b67a6]||_0x54ecea,_0x17eb1b[_0x1b67a6]);}class _0x66ff6{constructor(_0x498f63,_0x2a0c78,_0x189a74){this['id']=_0x498f63,this['addr']=_0x189a74,this['cache']=[],this['type']=_0x2a0c78['type'],this['setValue']=function(_0x1f851c){switch(_0x1f851c){case 0x1406:return _0x212ad2;case 0x8b50:return _0x2c8bf7;case 0x8b51:return _0x1d9869;case 0x8b52:return _0x331be9;case 0x8b5a:return _0x5ee6c8;case 0x8b5b:return _0x50fc42;case 0x8b5c:return _0x2fb05d;case 0x1404:case 0x8b56:return _0x51be30;case 0x8b53:case 0x8b57:return _0x3915a;case 0x8b54:case 0x8b58:return _0x1bc80c;case 0x8b55:case 0x8b59:return _0x49cb94;case 0x1405:return _0x11d81c;case 0x8dc6:return _0x4ba8b4;case 0x8dc7:return _0x1bbbcc;case 0x8dc8:return _0x60f34;case 0x8b5e:case 0x8d66:case 0x8dca:case 0x8dd2:case 0x8b62:return _0x56293b;case 0x8b5f:case 0x8dcb:case 0x8dd3:return _0x245d30;case 0x8b60:case 0x8dcc:case 0x8dd4:case 0x8dc5:return _0x553f8d;case 0x8dc1:case 0x8dcf:case 0x8dd7:case 0x8dc4:return _0x1688c8;}}(_0x2a0c78['type']);}}class _0x11892c{constructor(_0x5655b2,_0x1b242d,_0xf4e812){this['id']=_0x5655b2,this['addr']=_0xf4e812,this['cache']=[],this['type']=_0x1b242d['type'],this['size']=_0x1b242d['size'],this['setValue']=function(_0x466e15){switch(_0x466e15){case 0x1406:return _0x5987de;case 0x8b50:return _0x49e12c;case 0x8b51:return _0x26de07;case 0x8b52:return _0x5ad1f8;case 0x8b5a:return _0x5b38ba;case 0x8b5b:return _0x380a0e;case 0x8b5c:return _0x57535a;case 0x1404:case 0x8b56:return _0x337a61;case 0x8b53:case 0x8b57:return _0x38f24f;case 0x8b54:case 0x8b58:return _0x2cbfe8;case 0x8b55:case 0x8b59:return _0x474566;case 0x1405:return _0x5519e1;case 0x8dc6:return _0x2c4672;case 0x8dc7:return _0x23dcf5;case 0x8dc8:return _0x4b2d8a;case 0x8b5e:case 0x8d66:case 0x8dca:case 0x8dd2:case 0x8b62:return _0x43e3af;case 0x8b5f:case 0x8dcb:case 0x8dd3:return _0x19cd1c;case 0x8b60:case 0x8dcc:case 0x8dd4:case 0x8dc5:return _0x44406c;case 0x8dc1:case 0x8dcf:case 0x8dd7:case 0x8dc4:return _0x213b17;}}(_0x1b242d['type']);}}class _0x124194{constructor(_0x467f93){this['id']=_0x467f93,this['seq']=[],this['map']={};}['setValue'](_0x41f76e,_0x425d2d,_0x8642d2){const _0x5b1f24=this['seq'];for(let _0x188fae=0x0,_0x12a6e7=_0x5b1f24['length'];_0x188fae!==_0x12a6e7;++_0x188fae){const _0x4b5a56=_0x5b1f24[_0x188fae];_0x4b5a56['setValue'](_0x41f76e,_0x425d2d[_0x4b5a56['id']],_0x8642d2);}}}const _0xbad29f=/(\w+)(\])?(\[|\.)?/g;function _0x2415b8(_0x591c52,_0x49dee4){_0x591c52['seq']['push'](_0x49dee4),_0x591c52['map'][_0x49dee4['id']]=_0x49dee4;}function _0x5caebd(_0x46f1fd,_0x5172e7,_0x2cfac9){const _0x31cd87=_0x46f1fd['name'],_0x1f0daa=_0x31cd87['length'];for(_0xbad29f['lastIndex']=0x0;;){const _0xf2fe9a=_0xbad29f['exec'](_0x31cd87),_0x408c23=_0xbad29f['lastIndex'];let _0x356acb=_0xf2fe9a[0x1];const _0x441996=']'===_0xf2fe9a[0x2],_0x3dd45f=_0xf2fe9a[0x3];if(_0x441996&&(_0x356acb|=0x0),void 0x0===_0x3dd45f||'['===_0x3dd45f&&_0x408c23+0x2===_0x1f0daa){_0x2415b8(_0x2cfac9,void 0x0===_0x3dd45f?new _0x66ff6(_0x356acb,_0x46f1fd,_0x5172e7):new _0x11892c(_0x356acb,_0x46f1fd,_0x5172e7));break;}{let _0x20e569=_0x2cfac9['map'][_0x356acb];void 0x0===_0x20e569&&(_0x20e569=new _0x124194(_0x356acb),_0x2415b8(_0x2cfac9,_0x20e569)),_0x2cfac9=_0x20e569;}}}class _0xd32fe3{constructor(_0x50c754,_0x2866ac){this['seq']=[],this['map']={};const _0x5ac314=_0x50c754['getProgramParameter'](_0x2866ac,_0x50c754['ACTIVE_UNIFORMS']);for(let _0x2ecbf3=0x0;_0x2ecbf3<_0x5ac314;++_0x2ecbf3){const _0xe12350=_0x50c754['getActiveUniform'](_0x2866ac,_0x2ecbf3);_0x5caebd(_0xe12350,_0x50c754['getUniformLocation'](_0x2866ac,_0xe12350['name']),this);}}['setValue'](_0x3b9a06,_0x4b31ce,_0xa409b5,_0x5071cc){const _0x7a92a2=this['map'][_0x4b31ce];void 0x0!==_0x7a92a2&&_0x7a92a2['setValue'](_0x3b9a06,_0xa409b5,_0x5071cc);}['setOptional'](_0x283f46,_0xacfa5a,_0xcacd4){const _0x2c8cd8=_0xacfa5a[_0xcacd4];void 0x0!==_0x2c8cd8&&this['setValue'](_0x283f46,_0xcacd4,_0x2c8cd8);}static['upload'](_0x17a1a4,_0x5741f7,_0x473aa1,_0x3cab73){for(let _0x1fd76c=0x0,_0x86daf8=_0x5741f7['length'];_0x1fd76c!==_0x86daf8;++_0x1fd76c){const _0x58c258=_0x5741f7[_0x1fd76c],_0x395aed=_0x473aa1[_0x58c258['id']];!0x1!==_0x395aed['needsUpdate']&&_0x58c258['setValue'](_0x17a1a4,_0x395aed['value'],_0x3cab73);}}static['seqWithValue'](_0x2b348d,_0x42d95f){const _0x40a3d6=[];for(let _0x17ea7e=0x0,_0x4169ff=_0x2b348d['length'];_0x17ea7e!==_0x4169ff;++_0x17ea7e){const _0x1f855e=_0x2b348d[_0x17ea7e];_0x1f855e['id']in _0x42d95f&&_0x40a3d6['push'](_0x1f855e);}return _0x40a3d6;}}function _0x49deb2(_0x2567d2,_0x18c52e,_0x156e5a){const _0x2d649d=_0x2567d2['createShader'](_0x18c52e);return _0x2567d2['shaderSource'](_0x2d649d,_0x156e5a),_0x2567d2['compileShader'](_0x2d649d),_0x2d649d;}const _0x5fa952=0x91b1;let _0x234fd9=0x0;const _0xb02d50=new _0x3e8626['dwI']();function _0x107ff7(_0x14452a,_0x758ff5,_0x19c782){const _0x297432=_0x14452a['getShaderParameter'](_0x758ff5,_0x14452a['COMPILE_STATUS']),_0x29db16=_0x14452a['getShaderInfoLog'](_0x758ff5)['trim']();if(_0x297432&&''===_0x29db16)return'';const _0x1edad4=/ERROR: 0:(\d+)/['exec'](_0x29db16);if(_0x1edad4){const _0x45f6c3=parseInt(_0x1edad4[0x1]);return _0x19c782['toUpperCase']()+'\x0a\x0a'+_0x29db16+'\x0a\x0a'+function(_0x1baea0,_0x24749d){const _0x32885b=_0x1baea0['split']('\x0a'),_0x3d4377=[],_0x94bf95=Math['max'](_0x24749d-0x6,0x0),_0x1787c9=Math['min'](_0x24749d+0x6,_0x32885b['length']);for(let _0x56036f=_0x94bf95;_0x56036f<_0x1787c9;_0x56036f++){const _0x1daed5=_0x56036f+0x1;_0x3d4377['push']((_0x1daed5===_0x24749d?'>':'\x20')+'\x20'+_0x1daed5+':\x20'+_0x32885b[_0x56036f]);}return _0x3d4377['join']('\x0a');}(_0x14452a['getShaderSource'](_0x758ff5),_0x45f6c3);}return _0x29db16;}function _0x585f23(_0x47d018,_0x148a1d){const _0x3c44b7=function(_0x425202){_0x3e8626['ppV']['_getMatrix'](_0xb02d50,_0x3e8626['ppV']['workingColorSpace'],_0x425202);const _0x38cc33='mat3(\x20'+_0xb02d50['elements']['map'](_0xe610ed=>_0xe610ed['toFixed'](0x4))+'\x20)';switch(_0x3e8626['ppV']['getTransfer'](_0x425202)){case _0x3e8626['VxR']:return[_0x38cc33,'LinearTransferOETF'];case _0x3e8626['KLL']:return[_0x38cc33,'sRGBTransferOETF'];default:return console['warn']('THREE.WebGLProgram:\x20Unsupported\x20color\x20space:\x20',_0x425202),[_0x38cc33,'LinearTransferOETF'];}}(_0x148a1d);return['vec4\x20'+_0x47d018+'(\x20vec4\x20value\x20)\x20{','\x09return\x20'+_0x3c44b7[0x1]+'(\x20vec4(\x20value.rgb\x20*\x20'+_0x3c44b7[0x0]+',\x20value.a\x20)\x20);','}']['join']('\x0a');}function _0x1f1f7f(_0x31bddf,_0x1e0277){let _0x162c96;switch(_0x1e0277){case _0x3e8626['kyO']:_0x162c96='Linear';break;case _0x3e8626['Mjd']:_0x162c96='Reinhard';break;case _0x3e8626['nNL']:_0x162c96='Cineon';break;case _0x3e8626['FV']:_0x162c96='ACESFilmic';break;case _0x3e8626['LAk']:_0x162c96='AgX';break;case _0x3e8626['aJ8']:_0x162c96='Neutral';break;case _0x3e8626['g7M']:_0x162c96='Custom';break;default:console['warn']('THREE.WebGLProgram:\x20Unsupported\x20toneMapping:',_0x1e0277),_0x162c96='Linear';}return'vec3\x20'+_0x31bddf+'(\x20vec3\x20color\x20)\x20{\x20return\x20'+_0x162c96+'ToneMapping(\x20color\x20);\x20}';}const _0x1ca249=new _0x3e8626['Pq0']();function _0x3061fb(){return _0x3e8626['ppV']['getLuminanceCoefficients'](_0x1ca249),['float\x20luminance(\x20const\x20in\x20vec3\x20rgb\x20)\x20{','\x09const\x20vec3\x20weights\x20=\x20vec3(\x20'+_0x1ca249['x']['toFixed'](0x4)+',\x20'+_0x1ca249['y']['toFixed'](0x4)+',\x20'+_0x1ca249['z']['toFixed'](0x4)+'\x20);','\x09return\x20dot(\x20weights,\x20rgb\x20);','}']['join']('\x0a');}function _0x5d9a2e(_0x22626b){return''!==_0x22626b;}function _0x3dd8a9(_0x409994,_0x41cdf5){const _0x247e84=_0x41cdf5['numSpotLightShadows']+_0x41cdf5['numSpotLightMaps']-_0x41cdf5['numSpotLightShadowsWithMaps'];return _0x409994['replace'](/NUM_DIR_LIGHTS/g,_0x41cdf5['numDirLights'])['replace'](/NUM_SPOT_LIGHTS/g,_0x41cdf5['numSpotLights'])['replace'](/NUM_SPOT_LIGHT_MAPS/g,_0x41cdf5['numSpotLightMaps'])['replace'](/NUM_SPOT_LIGHT_COORDS/g,_0x247e84)['replace'](/NUM_RECT_AREA_LIGHTS/g,_0x41cdf5['numRectAreaLights'])['replace'](/NUM_POINT_LIGHTS/g,_0x41cdf5['numPointLights'])['replace'](/NUM_HEMI_LIGHTS/g,_0x41cdf5['numHemiLights'])['replace'](/NUM_DIR_LIGHT_SHADOWS/g,_0x41cdf5['numDirLightShadows'])['replace'](/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,_0x41cdf5['numSpotLightShadowsWithMaps'])['replace'](/NUM_SPOT_LIGHT_SHADOWS/g,_0x41cdf5['numSpotLightShadows'])['replace'](/NUM_POINT_LIGHT_SHADOWS/g,_0x41cdf5['numPointLightShadows']);}function _0x5255b1(_0x750395,_0x474a48){return _0x750395['replace'](/NUM_CLIPPING_PLANES/g,_0x474a48['numClippingPlanes'])['replace'](/UNION_CLIPPING_PLANES/g,_0x474a48['numClippingPlanes']-_0x474a48['numClipIntersection']);}const _0x21b7c3=/^[ \t]*#include +<([\w\d./]+)>/gm;function _0x568039(_0x70e673){return _0x70e673['replace'](_0x21b7c3,_0x308ea2);}const _0x37601=new Map();function _0x308ea2(_0x53bb96,_0x33299e){let _0x2b9af5=_0x279f40[_0x33299e];if(void 0x0===_0x2b9af5){const _0xb2aaf0=_0x37601['get'](_0x33299e);if(void 0x0===_0xb2aaf0)throw new Error('Can\x20not\x20resolve\x20#include\x20<'+_0x33299e+'>');_0x2b9af5=_0x279f40[_0xb2aaf0],console['warn']('THREE.WebGLRenderer:\x20Shader\x20chunk\x20\x22%s\x22\x20has\x20been\x20deprecated.\x20Use\x20\x22%s\x22\x20instead.',_0x33299e,_0xb2aaf0);}return _0x568039(_0x2b9af5);}const _0x1732be=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function _0x4feff9(_0xc271d8){return _0xc271d8['replace'](_0x1732be,_0x7d195e);}function _0x7d195e(_0xf2799d,_0x21299c,_0x456af8,_0x383ffe){let _0x38ec28='';for(let _0xc01b75=parseInt(_0x21299c);_0xc01b75<parseInt(_0x456af8);_0xc01b75++)_0x38ec28+=_0x383ffe['replace'](/\[\s*i\s*\]/g,'[\x20'+_0xc01b75+'\x20]')['replace'](/UNROLLED_LOOP_INDEX/g,_0xc01b75);return _0x38ec28;}function _0x1feee8(_0x27fdfe){let _0x2b4918='precision\x20'+_0x27fdfe['precision']+'\x20float;\x0a\x09precision\x20'+_0x27fdfe['precision']+'\x20int;\x0a\x09precision\x20'+_0x27fdfe['precision']+'\x20sampler2D;\x0a\x09precision\x20'+_0x27fdfe['precision']+'\x20samplerCube;\x0a\x09precision\x20'+_0x27fdfe['precision']+'\x20sampler3D;\x0a\x09precision\x20'+_0x27fdfe['precision']+'\x20sampler2DArray;\x0a\x09precision\x20'+_0x27fdfe['precision']+'\x20sampler2DShadow;\x0a\x09precision\x20'+_0x27fdfe['precision']+'\x20samplerCubeShadow;\x0a\x09precision\x20'+_0x27fdfe['precision']+'\x20sampler2DArrayShadow;\x0a\x09precision\x20'+_0x27fdfe['precision']+'\x20isampler2D;\x0a\x09precision\x20'+_0x27fdfe['precision']+'\x20isampler3D;\x0a\x09precision\x20'+_0x27fdfe['precision']+'\x20isamplerCube;\x0a\x09precision\x20'+_0x27fdfe['precision']+'\x20isampler2DArray;\x0a\x09precision\x20'+_0x27fdfe['precision']+'\x20usampler2D;\x0a\x09precision\x20'+_0x27fdfe['precision']+'\x20usampler3D;\x0a\x09precision\x20'+_0x27fdfe['precision']+'\x20usamplerCube;\x0a\x09precision\x20'+_0x27fdfe['precision']+'\x20usampler2DArray;\x0a\x09';return'highp'===_0x27fdfe['precision']?_0x2b4918+='\x0a#define\x20HIGH_PRECISION':'mediump'===_0x27fdfe['precision']?_0x2b4918+='\x0a#define\x20MEDIUM_PRECISION':'lowp'===_0x27fdfe['precision']&&(_0x2b4918+='\x0a#define\x20LOW_PRECISION'),_0x2b4918;}function _0x462a69(_0x505fc3,_0x46a887,_0x4ec37b,_0x19d019){const _0x5b5961=_0x505fc3['getContext'](),_0x2cb1e8=_0x4ec37b['defines'];let _0x17f7da=_0x4ec37b['vertexShader'],_0x31990a=_0x4ec37b['fragmentShader'];const _0x41771e=function(_0x1e6d95){let _0x6de553='SHADOWMAP_TYPE_BASIC';return _0x1e6d95['shadowMapType']===_0x3e8626['QP0']?_0x6de553='SHADOWMAP_TYPE_PCF':_0x1e6d95['shadowMapType']===_0x3e8626['Wk7']?_0x6de553='SHADOWMAP_TYPE_PCF_SOFT':_0x1e6d95['shadowMapType']===_0x3e8626['RyA']&&(_0x6de553='SHADOWMAP_TYPE_VSM'),_0x6de553;}(_0x4ec37b),_0x10ddf9=function(_0x530e7f){let _0x253272='ENVMAP_TYPE_CUBE';if(_0x530e7f['envMap'])switch(_0x530e7f['envMapMode']){case _0x3e8626['hy7']:case _0x3e8626['xFO']:_0x253272='ENVMAP_TYPE_CUBE';break;case _0x3e8626['Om']:_0x253272='ENVMAP_TYPE_CUBE_UV';}return _0x253272;}(_0x4ec37b),_0x5b5b6f=function(_0x159196){let _0x159d15='ENVMAP_MODE_REFLECTION';return _0x159196['envMap']&&_0x159196['envMapMode']===_0x3e8626['xFO']&&(_0x159d15='ENVMAP_MODE_REFRACTION'),_0x159d15;}(_0x4ec37b),_0x1133db=function(_0x2cc644){let _0x51e381='ENVMAP_BLENDING_NONE';if(_0x2cc644['envMap'])switch(_0x2cc644['combine']){case _0x3e8626['caT']:_0x51e381='ENVMAP_BLENDING_MULTIPLY';break;case _0x3e8626['KRh']:_0x51e381='ENVMAP_BLENDING_MIX';break;case _0x3e8626['XrR']:_0x51e381='ENVMAP_BLENDING_ADD';}return _0x51e381;}(_0x4ec37b),_0x4c71a9=function(_0x4b523f){const _0x2ab607=_0x4b523f['envMapCubeUVHeight'];if(null===_0x2ab607)return null;const _0x42f018=Math['log2'](_0x2ab607)-0x2,_0x4420ca=0x1/_0x2ab607;return{'texelWidth':0x1/(0x3*Math['max'](Math['pow'](0x2,_0x42f018),0x70)),'texelHeight':_0x4420ca,'maxMip':_0x42f018};}(_0x4ec37b),_0x5f2a57=function(_0x387d67){return[_0x387d67['extensionClipCullDistance']?'#extension\x20GL_ANGLE_clip_cull_distance\x20:\x20require':'',_0x387d67['extensionMultiDraw']?'#extension\x20GL_ANGLE_multi_draw\x20:\x20require':'']['filter'](_0x5d9a2e)['join']('\x0a');}(_0x4ec37b),_0x45dd79=function(_0x24dd55){const _0x1d13e1=[];for(const _0x3ffb47 in _0x24dd55){const _0x503c37=_0x24dd55[_0x3ffb47];!0x1!==_0x503c37&&_0x1d13e1['push']('#define\x20'+_0x3ffb47+'\x20'+_0x503c37);}return _0x1d13e1['join']('\x0a');}(_0x2cb1e8),_0x4f2d30=_0x5b5961['createProgram']();let _0x28aac0,_0x3b36d4,_0x24d8ac=_0x4ec37b['glslVersion']?'#version\x20'+_0x4ec37b['glslVersion']+'\x0a':'';_0x4ec37b['isRawShaderMaterial']?(_0x28aac0=['#define\x20SHADER_TYPE\x20'+_0x4ec37b['shaderType'],'#define\x20SHADER_NAME\x20'+_0x4ec37b['shaderName'],_0x45dd79]['filter'](_0x5d9a2e)['join']('\x0a'),_0x28aac0['length']>0x0&&(_0x28aac0+='\x0a'),_0x3b36d4=['#define\x20SHADER_TYPE\x20'+_0x4ec37b['shaderType'],'#define\x20SHADER_NAME\x20'+_0x4ec37b['shaderName'],_0x45dd79]['filter'](_0x5d9a2e)['join']('\x0a'),_0x3b36d4['length']>0x0&&(_0x3b36d4+='\x0a')):(_0x28aac0=[_0x1feee8(_0x4ec37b),'#define\x20SHADER_TYPE\x20'+_0x4ec37b['shaderType'],'#define\x20SHADER_NAME\x20'+_0x4ec37b['shaderName'],_0x45dd79,_0x4ec37b['extensionClipCullDistance']?'#define\x20USE_CLIP_DISTANCE':'',_0x4ec37b['batching']?'#define\x20USE_BATCHING':'',_0x4ec37b['batchingColor']?'#define\x20USE_BATCHING_COLOR':'',_0x4ec37b['instancing']?'#define\x20USE_INSTANCING':'',_0x4ec37b['instancingColor']?'#define\x20USE_INSTANCING_COLOR':'',_0x4ec37b['instancingMorph']?'#define\x20USE_INSTANCING_MORPH':'',_0x4ec37b['useFog']&&_0x4ec37b['fog']?'#define\x20USE_FOG':'',_0x4ec37b['useFog']&&_0x4ec37b['fogExp2']?'#define\x20FOG_EXP2':'',_0x4ec37b['map']?'#define\x20USE_MAP':'',_0x4ec37b['envMap']?'#define\x20USE_ENVMAP':'',_0x4ec37b['envMap']?'#define\x20'+_0x5b5b6f:'',_0x4ec37b['lightMap']?'#define\x20USE_LIGHTMAP':'',_0x4ec37b['aoMap']?'#define\x20USE_AOMAP':'',_0x4ec37b['bumpMap']?'#define\x20USE_BUMPMAP':'',_0x4ec37b['normalMap']?'#define\x20USE_NORMALMAP':'',_0x4ec37b['normalMapObjectSpace']?'#define\x20USE_NORMALMAP_OBJECTSPACE':'',_0x4ec37b['normalMapTangentSpace']?'#define\x20USE_NORMALMAP_TANGENTSPACE':'',_0x4ec37b['displacementMap']?'#define\x20USE_DISPLACEMENTMAP':'',_0x4ec37b['emissiveMap']?'#define\x20USE_EMISSIVEMAP':'',_0x4ec37b['anisotropy']?'#define\x20USE_ANISOTROPY':'',_0x4ec37b['anisotropyMap']?'#define\x20USE_ANISOTROPYMAP':'',_0x4ec37b['clearcoatMap']?'#define\x20USE_CLEARCOATMAP':'',_0x4ec37b['clearcoatRoughnessMap']?'#define\x20USE_CLEARCOAT_ROUGHNESSMAP':'',_0x4ec37b['clearcoatNormalMap']?'#define\x20USE_CLEARCOAT_NORMALMAP':'',_0x4ec37b['iridescenceMap']?'#define\x20USE_IRIDESCENCEMAP':'',_0x4ec37b['iridescenceThicknessMap']?'#define\x20USE_IRIDESCENCE_THICKNESSMAP':'',_0x4ec37b['specularMap']?'#define\x20USE_SPECULARMAP':'',_0x4ec37b['specularColorMap']?'#define\x20USE_SPECULAR_COLORMAP':'',_0x4ec37b['specularIntensityMap']?'#define\x20USE_SPECULAR_INTENSITYMAP':'',_0x4ec37b['roughnessMap']?'#define\x20USE_ROUGHNESSMAP':'',_0x4ec37b['metalnessMap']?'#define\x20USE_METALNESSMAP':'',_0x4ec37b['alphaMap']?'#define\x20USE_ALPHAMAP':'',_0x4ec37b['alphaHash']?'#define\x20USE_ALPHAHASH':'',_0x4ec37b['transmission']?'#define\x20USE_TRANSMISSION':'',_0x4ec37b['transmissionMap']?'#define\x20USE_TRANSMISSIONMAP':'',_0x4ec37b['thicknessMap']?'#define\x20USE_THICKNESSMAP':'',_0x4ec37b['sheenColorMap']?'#define\x20USE_SHEEN_COLORMAP':'',_0x4ec37b['sheenRoughnessMap']?'#define\x20USE_SHEEN_ROUGHNESSMAP':'',_0x4ec37b['mapUv']?'#define\x20MAP_UV\x20'+_0x4ec37b['mapUv']:'',_0x4ec37b['alphaMapUv']?'#define\x20ALPHAMAP_UV\x20'+_0x4ec37b['alphaMapUv']:'',_0x4ec37b['lightMapUv']?'#define\x20LIGHTMAP_UV\x20'+_0x4ec37b['lightMapUv']:'',_0x4ec37b['aoMapUv']?'#define\x20AOMAP_UV\x20'+_0x4ec37b['aoMapUv']:'',_0x4ec37b['emissiveMapUv']?'#define\x20EMISSIVEMAP_UV\x20'+_0x4ec37b['emissiveMapUv']:'',_0x4ec37b['bumpMapUv']?'#define\x20BUMPMAP_UV\x20'+_0x4ec37b['bumpMapUv']:'',_0x4ec37b['normalMapUv']?'#define\x20NORMALMAP_UV\x20'+_0x4ec37b['normalMapUv']:'',_0x4ec37b['displacementMapUv']?'#define\x20DISPLACEMENTMAP_UV\x20'+_0x4ec37b['displacementMapUv']:'',_0x4ec37b['metalnessMapUv']?'#define\x20METALNESSMAP_UV\x20'+_0x4ec37b['metalnessMapUv']:'',_0x4ec37b['roughnessMapUv']?'#define\x20ROUGHNESSMAP_UV\x20'+_0x4ec37b['roughnessMapUv']:'',_0x4ec37b['anisotropyMapUv']?'#define\x20ANISOTROPYMAP_UV\x20'+_0x4ec37b['anisotropyMapUv']:'',_0x4ec37b['clearcoatMapUv']?'#define\x20CLEARCOATMAP_UV\x20'+_0x4ec37b['clearcoatMapUv']:'',_0x4ec37b['clearcoatNormalMapUv']?'#define\x20CLEARCOAT_NORMALMAP_UV\x20'+_0x4ec37b['clearcoatNormalMapUv']:'',_0x4ec37b['clearcoatRoughnessMapUv']?'#define\x20CLEARCOAT_ROUGHNESSMAP_UV\x20'+_0x4ec37b['clearcoatRoughnessMapUv']:'',_0x4ec37b['iridescenceMapUv']?'#define\x20IRIDESCENCEMAP_UV\x20'+_0x4ec37b['iridescenceMapUv']:'',_0x4ec37b['iridescenceThicknessMapUv']?'#define\x20IRIDESCENCE_THICKNESSMAP_UV\x20'+_0x4ec37b['iridescenceThicknessMapUv']:'',_0x4ec37b['sheenColorMapUv']?'#define\x20SHEEN_COLORMAP_UV\x20'+_0x4ec37b['sheenColorMapUv']:'',_0x4ec37b['sheenRoughnessMapUv']?'#define\x20SHEEN_ROUGHNESSMAP_UV\x20'+_0x4ec37b['sheenRoughnessMapUv']:'',_0x4ec37b['specularMapUv']?'#define\x20SPECULARMAP_UV\x20'+_0x4ec37b['specularMapUv']:'',_0x4ec37b['specularColorMapUv']?'#define\x20SPECULAR_COLORMAP_UV\x20'+_0x4ec37b['specularColorMapUv']:'',_0x4ec37b['specularIntensityMapUv']?'#define\x20SPECULAR_INTENSITYMAP_UV\x20'+_0x4ec37b['specularIntensityMapUv']:'',_0x4ec37b['transmissionMapUv']?'#define\x20TRANSMISSIONMAP_UV\x20'+_0x4ec37b['transmissionMapUv']:'',_0x4ec37b['thicknessMapUv']?'#define\x20THICKNESSMAP_UV\x20'+_0x4ec37b['thicknessMapUv']:'',_0x4ec37b['vertexTangents']&&!0x1===_0x4ec37b['flatShading']?'#define\x20USE_TANGENT':'',_0x4ec37b['vertexColors']?'#define\x20USE_COLOR':'',_0x4ec37b['vertexAlphas']?'#define\x20USE_COLOR_ALPHA':'',_0x4ec37b['vertexUv1s']?'#define\x20USE_UV1':'',_0x4ec37b['vertexUv2s']?'#define\x20USE_UV2':'',_0x4ec37b['vertexUv3s']?'#define\x20USE_UV3':'',_0x4ec37b['pointsUvs']?'#define\x20USE_POINTS_UV':'',_0x4ec37b['flatShading']?'#define\x20FLAT_SHADED':'',_0x4ec37b['skinning']?'#define\x20USE_SKINNING':'',_0x4ec37b['morphTargets']?'#define\x20USE_MORPHTARGETS':'',_0x4ec37b['morphNormals']&&!0x1===_0x4ec37b['flatShading']?'#define\x20USE_MORPHNORMALS':'',_0x4ec37b['morphColors']?'#define\x20USE_MORPHCOLORS':'',_0x4ec37b['morphTargetsCount']>0x0?'#define\x20MORPHTARGETS_TEXTURE_STRIDE\x20'+_0x4ec37b['morphTextureStride']:'',_0x4ec37b['morphTargetsCount']>0x0?'#define\x20MORPHTARGETS_COUNT\x20'+_0x4ec37b['morphTargetsCount']:'',_0x4ec37b['doubleSided']?'#define\x20DOUBLE_SIDED':'',_0x4ec37b['flipSided']?'#define\x20FLIP_SIDED':'',_0x4ec37b['shadowMapEnabled']?'#define\x20USE_SHADOWMAP':'',_0x4ec37b['shadowMapEnabled']?'#define\x20'+_0x41771e:'',_0x4ec37b['sizeAttenuation']?'#define\x20USE_SIZEATTENUATION':'',_0x4ec37b['numLightProbes']>0x0?'#define\x20USE_LIGHT_PROBES':'',_0x4ec37b['logarithmicDepthBuffer']?'#define\x20USE_LOGDEPTHBUF':'',_0x4ec37b['reverseDepthBuffer']?'#define\x20USE_REVERSEDEPTHBUF':'','uniform\x20mat4\x20modelMatrix;','uniform\x20mat4\x20modelViewMatrix;','uniform\x20mat4\x20projectionMatrix;','uniform\x20mat4\x20viewMatrix;','uniform\x20mat3\x20normalMatrix;','uniform\x20vec3\x20cameraPosition;','uniform\x20bool\x20isOrthographic;','#ifdef\x20USE_INSTANCING','\x09attribute\x20mat4\x20instanceMatrix;','#endif','#ifdef\x20USE_INSTANCING_COLOR','\x09attribute\x20vec3\x20instanceColor;','#endif','#ifdef\x20USE_INSTANCING_MORPH','\x09uniform\x20sampler2D\x20morphTexture;','#endif','attribute\x20vec3\x20position;','attribute\x20vec3\x20normal;','attribute\x20vec2\x20uv;','#ifdef\x20USE_UV1','\x09attribute\x20vec2\x20uv1;','#endif','#ifdef\x20USE_UV2','\x09attribute\x20vec2\x20uv2;','#endif','#ifdef\x20USE_UV3','\x09attribute\x20vec2\x20uv3;','#endif','#ifdef\x20USE_TANGENT','\x09attribute\x20vec4\x20tangent;','#endif','#if\x20defined(\x20USE_COLOR_ALPHA\x20)','\x09attribute\x20vec4\x20color;','#elif\x20defined(\x20USE_COLOR\x20)','\x09attribute\x20vec3\x20color;','#endif','#ifdef\x20USE_SKINNING','\x09attribute\x20vec4\x20skinIndex;','\x09attribute\x20vec4\x20skinWeight;','#endif','\x0a']['filter'](_0x5d9a2e)['join']('\x0a'),_0x3b36d4=[_0x1feee8(_0x4ec37b),'#define\x20SHADER_TYPE\x20'+_0x4ec37b['shaderType'],'#define\x20SHADER_NAME\x20'+_0x4ec37b['shaderName'],_0x45dd79,_0x4ec37b['useFog']&&_0x4ec37b['fog']?'#define\x20USE_FOG':'',_0x4ec37b['useFog']&&_0x4ec37b['fogExp2']?'#define\x20FOG_EXP2':'',_0x4ec37b['alphaToCoverage']?'#define\x20ALPHA_TO_COVERAGE':'',_0x4ec37b['map']?'#define\x20USE_MAP':'',_0x4ec37b['matcap']?'#define\x20USE_MATCAP':'',_0x4ec37b['envMap']?'#define\x20USE_ENVMAP':'',_0x4ec37b['envMap']?'#define\x20'+_0x10ddf9:'',_0x4ec37b['envMap']?'#define\x20'+_0x5b5b6f:'',_0x4ec37b['envMap']?'#define\x20'+_0x1133db:'',_0x4c71a9?'#define\x20CUBEUV_TEXEL_WIDTH\x20'+_0x4c71a9['texelWidth']:'',_0x4c71a9?'#define\x20CUBEUV_TEXEL_HEIGHT\x20'+_0x4c71a9['texelHeight']:'',_0x4c71a9?'#define\x20CUBEUV_MAX_MIP\x20'+_0x4c71a9['maxMip']+'.0':'',_0x4ec37b['lightMap']?'#define\x20USE_LIGHTMAP':'',_0x4ec37b['aoMap']?'#define\x20USE_AOMAP':'',_0x4ec37b['bumpMap']?'#define\x20USE_BUMPMAP':'',_0x4ec37b['normalMap']?'#define\x20USE_NORMALMAP':'',_0x4ec37b['normalMapObjectSpace']?'#define\x20USE_NORMALMAP_OBJECTSPACE':'',_0x4ec37b['normalMapTangentSpace']?'#define\x20USE_NORMALMAP_TANGENTSPACE':'',_0x4ec37b['emissiveMap']?'#define\x20USE_EMISSIVEMAP':'',_0x4ec37b['anisotropy']?'#define\x20USE_ANISOTROPY':'',_0x4ec37b['anisotropyMap']?'#define\x20USE_ANISOTROPYMAP':'',_0x4ec37b['clearcoat']?'#define\x20USE_CLEARCOAT':'',_0x4ec37b['clearcoatMap']?'#define\x20USE_CLEARCOATMAP':'',_0x4ec37b['clearcoatRoughnessMap']?'#define\x20USE_CLEARCOAT_ROUGHNESSMAP':'',_0x4ec37b['clearcoatNormalMap']?'#define\x20USE_CLEARCOAT_NORMALMAP':'',_0x4ec37b['dispersion']?'#define\x20USE_DISPERSION':'',_0x4ec37b['iridescence']?'#define\x20USE_IRIDESCENCE':'',_0x4ec37b['iridescenceMap']?'#define\x20USE_IRIDESCENCEMAP':'',_0x4ec37b['iridescenceThicknessMap']?'#define\x20USE_IRIDESCENCE_THICKNESSMAP':'',_0x4ec37b['specularMap']?'#define\x20USE_SPECULARMAP':'',_0x4ec37b['specularColorMap']?'#define\x20USE_SPECULAR_COLORMAP':'',_0x4ec37b['specularIntensityMap']?'#define\x20USE_SPECULAR_INTENSITYMAP':'',_0x4ec37b['roughnessMap']?'#define\x20USE_ROUGHNESSMAP':'',_0x4ec37b['metalnessMap']?'#define\x20USE_METALNESSMAP':'',_0x4ec37b['alphaMap']?'#define\x20USE_ALPHAMAP':'',_0x4ec37b['alphaTest']?'#define\x20USE_ALPHATEST':'',_0x4ec37b['alphaHash']?'#define\x20USE_ALPHAHASH':'',_0x4ec37b['sheen']?'#define\x20USE_SHEEN':'',_0x4ec37b['sheenColorMap']?'#define\x20USE_SHEEN_COLORMAP':'',_0x4ec37b['sheenRoughnessMap']?'#define\x20USE_SHEEN_ROUGHNESSMAP':'',_0x4ec37b['transmission']?'#define\x20USE_TRANSMISSION':'',_0x4ec37b['transmissionMap']?'#define\x20USE_TRANSMISSIONMAP':'',_0x4ec37b['thicknessMap']?'#define\x20USE_THICKNESSMAP':'',_0x4ec37b['vertexTangents']&&!0x1===_0x4ec37b['flatShading']?'#define\x20USE_TANGENT':'',_0x4ec37b['vertexColors']||_0x4ec37b['instancingColor']||_0x4ec37b['batchingColor']?'#define\x20USE_COLOR':'',_0x4ec37b['vertexAlphas']?'#define\x20USE_COLOR_ALPHA':'',_0x4ec37b['vertexUv1s']?'#define\x20USE_UV1':'',_0x4ec37b['vertexUv2s']?'#define\x20USE_UV2':'',_0x4ec37b['vertexUv3s']?'#define\x20USE_UV3':'',_0x4ec37b['pointsUvs']?'#define\x20USE_POINTS_UV':'',_0x4ec37b['gradientMap']?'#define\x20USE_GRADIENTMAP':'',_0x4ec37b['flatShading']?'#define\x20FLAT_SHADED':'',_0x4ec37b['doubleSided']?'#define\x20DOUBLE_SIDED':'',_0x4ec37b['flipSided']?'#define\x20FLIP_SIDED':'',_0x4ec37b['shadowMapEnabled']?'#define\x20USE_SHADOWMAP':'',_0x4ec37b['shadowMapEnabled']?'#define\x20'+_0x41771e:'',_0x4ec37b['premultipliedAlpha']?'#define\x20PREMULTIPLIED_ALPHA':'',_0x4ec37b['numLightProbes']>0x0?'#define\x20USE_LIGHT_PROBES':'',_0x4ec37b['decodeVideoTexture']?'#define\x20DECODE_VIDEO_TEXTURE':'',_0x4ec37b['decodeVideoTextureEmissive']?'#define\x20DECODE_VIDEO_TEXTURE_EMISSIVE':'',_0x4ec37b['logarithmicDepthBuffer']?'#define\x20USE_LOGDEPTHBUF':'',_0x4ec37b['reverseDepthBuffer']?'#define\x20USE_REVERSEDEPTHBUF':'','uniform\x20mat4\x20viewMatrix;','uniform\x20vec3\x20cameraPosition;','uniform\x20bool\x20isOrthographic;',_0x4ec37b['toneMapping']!==_0x3e8626['y_p']?'#define\x20TONE_MAPPING':'',_0x4ec37b['toneMapping']!==_0x3e8626['y_p']?_0x279f40['tonemapping_pars_fragment']:'',_0x4ec37b['toneMapping']!==_0x3e8626['y_p']?_0x1f1f7f('toneMapping',_0x4ec37b['toneMapping']):'',_0x4ec37b['dithering']?'#define\x20DITHERING':'',_0x4ec37b['opaque']?'#define\x20OPAQUE':'',_0x279f40['colorspace_pars_fragment'],_0x585f23('linearToOutputTexel',_0x4ec37b['outputColorSpace']),_0x3061fb(),_0x4ec37b['useDepthPacking']?'#define\x20DEPTH_PACKING\x20'+_0x4ec37b['depthPacking']:'','\x0a']['filter'](_0x5d9a2e)['join']('\x0a')),_0x17f7da=_0x568039(_0x17f7da),_0x17f7da=_0x3dd8a9(_0x17f7da,_0x4ec37b),_0x17f7da=_0x5255b1(_0x17f7da,_0x4ec37b),_0x31990a=_0x568039(_0x31990a),_0x31990a=_0x3dd8a9(_0x31990a,_0x4ec37b),_0x31990a=_0x5255b1(_0x31990a,_0x4ec37b),_0x17f7da=_0x4feff9(_0x17f7da),_0x31990a=_0x4feff9(_0x31990a),!0x0!==_0x4ec37b['isRawShaderMaterial']&&(_0x24d8ac='#version\x20300\x20es\x0a',_0x28aac0=[_0x5f2a57,'#define\x20attribute\x20in','#define\x20varying\x20out','#define\x20texture2D\x20texture']['join']('\x0a')+'\x0a'+_0x28aac0,_0x3b36d4=['#define\x20varying\x20in',_0x4ec37b['glslVersion']===_0x3e8626['Wdf']?'':'layout(location\x20=\x200)\x20out\x20highp\x20vec4\x20pc_fragColor;',_0x4ec37b['glslVersion']===_0x3e8626['Wdf']?'':'#define\x20gl_FragColor\x20pc_fragColor','#define\x20gl_FragDepthEXT\x20gl_FragDepth','#define\x20texture2D\x20texture','#define\x20textureCube\x20texture','#define\x20texture2DProj\x20textureProj','#define\x20texture2DLodEXT\x20textureLod','#define\x20texture2DProjLodEXT\x20textureProjLod','#define\x20textureCubeLodEXT\x20textureLod','#define\x20texture2DGradEXT\x20textureGrad','#define\x20texture2DProjGradEXT\x20textureProjGrad','#define\x20textureCubeGradEXT\x20textureGrad']['join']('\x0a')+'\x0a'+_0x3b36d4);const _0x169730=_0x24d8ac+_0x28aac0+_0x17f7da,_0x336e7c=_0x24d8ac+_0x3b36d4+_0x31990a,_0x10c315=_0x49deb2(_0x5b5961,_0x5b5961['VERTEX_SHADER'],_0x169730),_0x3daefa=_0x49deb2(_0x5b5961,_0x5b5961['FRAGMENT_SHADER'],_0x336e7c);function _0x38cdd9(_0x5bd2e5){if(_0x505fc3['debug']['checkShaderErrors']){const _0x34e2ba=_0x5b5961['getProgramInfoLog'](_0x4f2d30)['trim'](),_0x5811c7=_0x5b5961['getShaderInfoLog'](_0x10c315)['trim'](),_0x1f4479=_0x5b5961['getShaderInfoLog'](_0x3daefa)['trim']();let _0x45d18e=!0x0,_0x1efa28=!0x0;if(!0x1===_0x5b5961['getProgramParameter'](_0x4f2d30,_0x5b5961['LINK_STATUS'])){if(_0x45d18e=!0x1,'function'==typeof _0x505fc3['debug']['onShaderError'])_0x505fc3['debug']['onShaderError'](_0x5b5961,_0x4f2d30,_0x10c315,_0x3daefa);else{const _0x668050=_0x107ff7(_0x5b5961,_0x10c315,'vertex'),_0x36feac=_0x107ff7(_0x5b5961,_0x3daefa,'fragment');console['error']('THREE.WebGLProgram:\x20Shader\x20Error\x20'+_0x5b5961['getError']()+'\x20-\x20VALIDATE_STATUS\x20'+_0x5b5961['getProgramParameter'](_0x4f2d30,_0x5b5961['VALIDATE_STATUS'])+'\x0a\x0aMaterial\x20Name:\x20'+_0x5bd2e5['name']+'\x0aMaterial\x20Type:\x20'+_0x5bd2e5['type']+'\x0a\x0aProgram\x20Info\x20Log:\x20'+_0x34e2ba+'\x0a'+_0x668050+'\x0a'+_0x36feac);}}else''!==_0x34e2ba?console['warn']('THREE.WebGLProgram:\x20Program\x20Info\x20Log:',_0x34e2ba):''!==_0x5811c7&&''!==_0x1f4479||(_0x1efa28=!0x1);_0x1efa28&&(_0x5bd2e5['diagnostics']={'runnable':_0x45d18e,'programLog':_0x34e2ba,'vertexShader':{'log':_0x5811c7,'prefix':_0x28aac0},'fragmentShader':{'log':_0x1f4479,'prefix':_0x3b36d4}});}_0x5b5961['deleteShader'](_0x10c315),_0x5b5961['deleteShader'](_0x3daefa),_0x4743b0=new _0xd32fe3(_0x5b5961,_0x4f2d30),_0x4998bb=function(_0x4390e0,_0x5654ea){const _0x56967a={},_0x4188bf=_0x4390e0['getProgramParameter'](_0x5654ea,_0x4390e0['ACTIVE_ATTRIBUTES']);for(let _0xc3fdc8=0x0;_0xc3fdc8<_0x4188bf;_0xc3fdc8++){const _0x54fbec=_0x4390e0['getActiveAttrib'](_0x5654ea,_0xc3fdc8),_0x1b38c6=_0x54fbec['name'];let _0x5bf76f=0x1;_0x54fbec['type']===_0x4390e0['FLOAT_MAT2']&&(_0x5bf76f=0x2),_0x54fbec['type']===_0x4390e0['FLOAT_MAT3']&&(_0x5bf76f=0x3),_0x54fbec['type']===_0x4390e0['FLOAT_MAT4']&&(_0x5bf76f=0x4),_0x56967a[_0x1b38c6]={'type':_0x54fbec['type'],'location':_0x4390e0['getAttribLocation'](_0x5654ea,_0x1b38c6),'locationSize':_0x5bf76f};}return _0x56967a;}(_0x5b5961,_0x4f2d30);}let _0x4743b0,_0x4998bb;_0x5b5961['attachShader'](_0x4f2d30,_0x10c315),_0x5b5961['attachShader'](_0x4f2d30,_0x3daefa),void 0x0!==_0x4ec37b['index0AttributeName']?_0x5b5961['bindAttribLocation'](_0x4f2d30,0x0,_0x4ec37b['index0AttributeName']):!0x0===_0x4ec37b['morphTargets']&&_0x5b5961['bindAttribLocation'](_0x4f2d30,0x0,'position'),_0x5b5961['linkProgram'](_0x4f2d30),this['getUniforms']=function(){return void 0x0===_0x4743b0&&_0x38cdd9(this),_0x4743b0;},this['getAttributes']=function(){return void 0x0===_0x4998bb&&_0x38cdd9(this),_0x4998bb;};let _0x4e90ee=!0x1===_0x4ec37b['rendererExtensionParallelShaderCompile'];return this['isReady']=function(){return!0x1===_0x4e90ee&&(_0x4e90ee=_0x5b5961['getProgramParameter'](_0x4f2d30,_0x5fa952)),_0x4e90ee;},this['destroy']=function(){_0x19d019['releaseStatesOfProgram'](this),_0x5b5961['deleteProgram'](_0x4f2d30),this['program']=void 0x0;},this['type']=_0x4ec37b['shaderType'],this['name']=_0x4ec37b['shaderName'],this['id']=_0x234fd9++,this['cacheKey']=_0x46a887,this['usedTimes']=0x1,this['program']=_0x4f2d30,this['vertexShader']=_0x10c315,this['fragmentShader']=_0x3daefa,this;}let _0x3964f3=0x0;class _0x1eebd2{constructor(){this['shaderCache']=new Map(),this['materialCache']=new Map();}['update'](_0x53b783){const _0xcdb486=_0x53b783['vertexShader'],_0x41e0d5=_0x53b783['fragmentShader'],_0x41930e=this['_getShaderStage'](_0xcdb486),_0x5e485e=this['_getShaderStage'](_0x41e0d5),_0x263cb4=this['_getShaderCacheForMaterial'](_0x53b783);return!0x1===_0x263cb4['has'](_0x41930e)&&(_0x263cb4['add'](_0x41930e),_0x41930e['usedTimes']++),!0x1===_0x263cb4['has'](_0x5e485e)&&(_0x263cb4['add'](_0x5e485e),_0x5e485e['usedTimes']++),this;}['remove'](_0x2790dd){const _0x528976=this['materialCache']['get'](_0x2790dd);for(const _0x4df6f8 of _0x528976)_0x4df6f8['usedTimes']--,0x0===_0x4df6f8['usedTimes']&&this['shaderCache']['delete'](_0x4df6f8['code']);return this['materialCache']['delete'](_0x2790dd),this;}['getVertexShaderID'](_0x100acb){return this['_getShaderStage'](_0x100acb['vertexShader'])['id'];}['getFragmentShaderID'](_0x38ba8f){return this['_getShaderStage'](_0x38ba8f['fragmentShader'])['id'];}['dispose'](){this['shaderCache']['clear'](),this['materialCache']['clear']();}['_getShaderCacheForMaterial'](_0x376659){const _0x41b54a=this['materialCache'];let _0x44569b=_0x41b54a['get'](_0x376659);return void 0x0===_0x44569b&&(_0x44569b=new Set(),_0x41b54a['set'](_0x376659,_0x44569b)),_0x44569b;}['_getShaderStage'](_0x25e9b2){const _0x3bdaa2=this['shaderCache'];let _0x328af9=_0x3bdaa2['get'](_0x25e9b2);return void 0x0===_0x328af9&&(_0x328af9=new _0x260b4f(_0x25e9b2),_0x3bdaa2['set'](_0x25e9b2,_0x328af9)),_0x328af9;}}class _0x260b4f{constructor(_0x18228e){this['id']=_0x3964f3++,this['code']=_0x18228e,this['usedTimes']=0x0;}}function _0x18a53f(_0x406815,_0x193fc5,_0x207f1c,_0x42cce4,_0x2f944d,_0x1d49de,_0x4f10ab){const _0x283f86=new _0x3e8626['zgK'](),_0x28b31c=new _0x1eebd2(),_0x4cbdeb=new Set(),_0xe3e70f=[],_0x5b3eea=_0x2f944d['logarithmicDepthBuffer'],_0x1e6961=_0x2f944d['vertexTextures'];let _0x5634e1=_0x2f944d['precision'];const _0x15cd00={'MeshDepthMaterial':'depth','MeshDistanceMaterial':'distanceRGBA','MeshNormalMaterial':'normal','MeshBasicMaterial':'basic','MeshLambertMaterial':'lambert','MeshPhongMaterial':'phong','MeshToonMaterial':'toon','MeshStandardMaterial':'physical','MeshPhysicalMaterial':'physical','MeshMatcapMaterial':'matcap','LineBasicMaterial':'basic','LineDashedMaterial':'dashed','PointsMaterial':'points','ShadowMaterial':'shadow','SpriteMaterial':'sprite'};function _0x12bc47(_0xca2b72){return _0x4cbdeb['add'](_0xca2b72),0x0===_0xca2b72?'uv':'uv'+_0xca2b72;}return{'getParameters':function(_0x1b7b58,_0x24ff9c,_0x33331f,_0x110414,_0x2a155d){const _0x3b6c5e=_0x110414['fog'],_0x48a7f8=_0x2a155d['geometry'],_0x525c73=_0x1b7b58['isMeshStandardMaterial']?_0x110414['environment']:null,_0xe1ae92=(_0x1b7b58['isMeshStandardMaterial']?_0x207f1c:_0x193fc5)['get'](_0x1b7b58['envMap']||_0x525c73),_0x5ee415=_0xe1ae92&&_0xe1ae92['mapping']===_0x3e8626['Om']?_0xe1ae92['image']['height']:null,_0x5a8001=_0x15cd00[_0x1b7b58['type']];null!==_0x1b7b58['precision']&&(_0x5634e1=_0x2f944d['getMaxPrecision'](_0x1b7b58['precision']),_0x5634e1!==_0x1b7b58['precision']&&console['warn']('THREE.WebGLProgram.getParameters:',_0x1b7b58['precision'],'not\x20supported,\x20using',_0x5634e1,'instead.'));const _0x56b1da=_0x48a7f8['morphAttributes']['position']||_0x48a7f8['morphAttributes']['normal']||_0x48a7f8['morphAttributes']['color'],_0x3737ec=void 0x0!==_0x56b1da?_0x56b1da['length']:0x0;let _0x3c1e2c,_0x43a01d,_0x3cc62c,_0x18cef0,_0x32a050=0x0;if(void 0x0!==_0x48a7f8['morphAttributes']['position']&&(_0x32a050=0x1),void 0x0!==_0x48a7f8['morphAttributes']['normal']&&(_0x32a050=0x2),void 0x0!==_0x48a7f8['morphAttributes']['color']&&(_0x32a050=0x3),_0x5a8001){const _0x45027e=_0x1dec1e[_0x5a8001];_0x3c1e2c=_0x45027e['vertexShader'],_0x43a01d=_0x45027e['fragmentShader'];}else _0x3c1e2c=_0x1b7b58['vertexShader'],_0x43a01d=_0x1b7b58['fragmentShader'],_0x28b31c['update'](_0x1b7b58),_0x3cc62c=_0x28b31c['getVertexShaderID'](_0x1b7b58),_0x18cef0=_0x28b31c['getFragmentShaderID'](_0x1b7b58);const _0x5d7383=_0x406815['getRenderTarget'](),_0x1974c9=_0x406815['state']['buffers']['depth']['getReversed'](),_0x48befb=!0x0===_0x2a155d['isInstancedMesh'],_0x57066c=!0x0===_0x2a155d['isBatchedMesh'],_0x15626=!!_0x1b7b58['map'],_0x5207f9=!!_0x1b7b58['matcap'],_0x26a293=!!_0xe1ae92,_0x5e6283=!!_0x1b7b58['aoMap'],_0x26e733=!!_0x1b7b58['lightMap'],_0x5ed25e=!!_0x1b7b58['bumpMap'],_0x2ccb36=!!_0x1b7b58['normalMap'],_0x557fb6=!!_0x1b7b58['displacementMap'],_0x4fe9d9=!!_0x1b7b58['emissiveMap'],_0x39489d=!!_0x1b7b58['metalnessMap'],_0x541e2d=!!_0x1b7b58['roughnessMap'],_0x18c8e3=_0x1b7b58['anisotropy']>0x0,_0x2589b4=_0x1b7b58['clearcoat']>0x0,_0x3cdfbd=_0x1b7b58['dispersion']>0x0,_0x2d2b67=_0x1b7b58['iridescence']>0x0,_0x37cd02=_0x1b7b58['sheen']>0x0,_0x5b11b1=_0x1b7b58['transmission']>0x0,_0x20eae9=_0x18c8e3&&!!_0x1b7b58['anisotropyMap'],_0x4389d7=_0x2589b4&&!!_0x1b7b58['clearcoatMap'],_0x7314a5=_0x2589b4&&!!_0x1b7b58['clearcoatNormalMap'],_0x47fdeb=_0x2589b4&&!!_0x1b7b58['clearcoatRoughnessMap'],_0x1e07c2=_0x2d2b67&&!!_0x1b7b58['iridescenceMap'],_0x909b34=_0x2d2b67&&!!_0x1b7b58['iridescenceThicknessMap'],_0x78fc66=_0x37cd02&&!!_0x1b7b58['sheenColorMap'],_0x56f873=_0x37cd02&&!!_0x1b7b58['sheenRoughnessMap'],_0x36f636=!!_0x1b7b58['specularMap'],_0x15eef2=!!_0x1b7b58['specularColorMap'],_0x3953bf=!!_0x1b7b58['specularIntensityMap'],_0x37cec8=_0x5b11b1&&!!_0x1b7b58['transmissionMap'],_0x35f14e=_0x5b11b1&&!!_0x1b7b58['thicknessMap'],_0x16cafd=!!_0x1b7b58['gradientMap'],_0x1f1f04=!!_0x1b7b58['alphaMap'],_0x705ed0=_0x1b7b58['alphaTest']>0x0,_0x3b6de5=!!_0x1b7b58['alphaHash'],_0x336217=!!_0x1b7b58['extensions'];let _0x4e5219=_0x3e8626['y_p'];_0x1b7b58['toneMapped']&&(null!==_0x5d7383&&!0x0!==_0x5d7383['isXRRenderTarget']||(_0x4e5219=_0x406815['toneMapping']));const _0x58d977={'shaderID':_0x5a8001,'shaderType':_0x1b7b58['type'],'shaderName':_0x1b7b58['name'],'vertexShader':_0x3c1e2c,'fragmentShader':_0x43a01d,'defines':_0x1b7b58['defines'],'customVertexShaderID':_0x3cc62c,'customFragmentShaderID':_0x18cef0,'isRawShaderMaterial':!0x0===_0x1b7b58['isRawShaderMaterial'],'glslVersion':_0x1b7b58['glslVersion'],'precision':_0x5634e1,'batching':_0x57066c,'batchingColor':_0x57066c&&null!==_0x2a155d['_colorsTexture'],'instancing':_0x48befb,'instancingColor':_0x48befb&&null!==_0x2a155d['instanceColor'],'instancingMorph':_0x48befb&&null!==_0x2a155d['morphTexture'],'supportsVertexTextures':_0x1e6961,'outputColorSpace':null===_0x5d7383?_0x406815['outputColorSpace']:!0x0===_0x5d7383['isXRRenderTarget']?_0x5d7383['texture']['colorSpace']:_0x3e8626['Zr2'],'alphaToCoverage':!!_0x1b7b58['alphaToCoverage'],'map':_0x15626,'matcap':_0x5207f9,'envMap':_0x26a293,'envMapMode':_0x26a293&&_0xe1ae92['mapping'],'envMapCubeUVHeight':_0x5ee415,'aoMap':_0x5e6283,'lightMap':_0x26e733,'bumpMap':_0x5ed25e,'normalMap':_0x2ccb36,'displacementMap':_0x1e6961&&_0x557fb6,'emissiveMap':_0x4fe9d9,'normalMapObjectSpace':_0x2ccb36&&_0x1b7b58['normalMapType']===_0x3e8626['vyJ'],'normalMapTangentSpace':_0x2ccb36&&_0x1b7b58['normalMapType']===_0x3e8626['bI3'],'metalnessMap':_0x39489d,'roughnessMap':_0x541e2d,'anisotropy':_0x18c8e3,'anisotropyMap':_0x20eae9,'clearcoat':_0x2589b4,'clearcoatMap':_0x4389d7,'clearcoatNormalMap':_0x7314a5,'clearcoatRoughnessMap':_0x47fdeb,'dispersion':_0x3cdfbd,'iridescence':_0x2d2b67,'iridescenceMap':_0x1e07c2,'iridescenceThicknessMap':_0x909b34,'sheen':_0x37cd02,'sheenColorMap':_0x78fc66,'sheenRoughnessMap':_0x56f873,'specularMap':_0x36f636,'specularColorMap':_0x15eef2,'specularIntensityMap':_0x3953bf,'transmission':_0x5b11b1,'transmissionMap':_0x37cec8,'thicknessMap':_0x35f14e,'gradientMap':_0x16cafd,'opaque':!0x1===_0x1b7b58['transparent']&&_0x1b7b58['blending']===_0x3e8626['NTi']&&!0x1===_0x1b7b58['alphaToCoverage'],'alphaMap':_0x1f1f04,'alphaTest':_0x705ed0,'alphaHash':_0x3b6de5,'combine':_0x1b7b58['combine'],'mapUv':_0x15626&&_0x12bc47(_0x1b7b58['map']['channel']),'aoMapUv':_0x5e6283&&_0x12bc47(_0x1b7b58['aoMap']['channel']),'lightMapUv':_0x26e733&&_0x12bc47(_0x1b7b58['lightMap']['channel']),'bumpMapUv':_0x5ed25e&&_0x12bc47(_0x1b7b58['bumpMap']['channel']),'normalMapUv':_0x2ccb36&&_0x12bc47(_0x1b7b58['normalMap']['channel']),'displacementMapUv':_0x557fb6&&_0x12bc47(_0x1b7b58['displacementMap']['channel']),'emissiveMapUv':_0x4fe9d9&&_0x12bc47(_0x1b7b58['emissiveMap']['channel']),'metalnessMapUv':_0x39489d&&_0x12bc47(_0x1b7b58['metalnessMap']['channel']),'roughnessMapUv':_0x541e2d&&_0x12bc47(_0x1b7b58['roughnessMap']['channel']),'anisotropyMapUv':_0x20eae9&&_0x12bc47(_0x1b7b58['anisotropyMap']['channel']),'clearcoatMapUv':_0x4389d7&&_0x12bc47(_0x1b7b58['clearcoatMap']['channel']),'clearcoatNormalMapUv':_0x7314a5&&_0x12bc47(_0x1b7b58['clearcoatNormalMap']['channel']),'clearcoatRoughnessMapUv':_0x47fdeb&&_0x12bc47(_0x1b7b58['clearcoatRoughnessMap']['channel']),'iridescenceMapUv':_0x1e07c2&&_0x12bc47(_0x1b7b58['iridescenceMap']['channel']),'iridescenceThicknessMapUv':_0x909b34&&_0x12bc47(_0x1b7b58['iridescenceThicknessMap']['channel']),'sheenColorMapUv':_0x78fc66&&_0x12bc47(_0x1b7b58['sheenColorMap']['channel']),'sheenRoughnessMapUv':_0x56f873&&_0x12bc47(_0x1b7b58['sheenRoughnessMap']['channel']),'specularMapUv':_0x36f636&&_0x12bc47(_0x1b7b58['specularMap']['channel']),'specularColorMapUv':_0x15eef2&&_0x12bc47(_0x1b7b58['specularColorMap']['channel']),'specularIntensityMapUv':_0x3953bf&&_0x12bc47(_0x1b7b58['specularIntensityMap']['channel']),'transmissionMapUv':_0x37cec8&&_0x12bc47(_0x1b7b58['transmissionMap']['channel']),'thicknessMapUv':_0x35f14e&&_0x12bc47(_0x1b7b58['thicknessMap']['channel']),'alphaMapUv':_0x1f1f04&&_0x12bc47(_0x1b7b58['alphaMap']['channel']),'vertexTangents':!!_0x48a7f8['attributes']['tangent']&&(_0x2ccb36||_0x18c8e3),'vertexColors':_0x1b7b58['vertexColors'],'vertexAlphas':!0x0===_0x1b7b58['vertexColors']&&!!_0x48a7f8['attributes']['color']&&0x4===_0x48a7f8['attributes']['color']['itemSize'],'pointsUvs':!0x0===_0x2a155d['isPoints']&&!!_0x48a7f8['attributes']['uv']&&(_0x15626||_0x1f1f04),'fog':!!_0x3b6c5e,'useFog':!0x0===_0x1b7b58['fog'],'fogExp2':!!_0x3b6c5e&&_0x3b6c5e['isFogExp2'],'flatShading':!0x0===_0x1b7b58['flatShading'],'sizeAttenuation':!0x0===_0x1b7b58['sizeAttenuation'],'logarithmicDepthBuffer':_0x5b3eea,'reverseDepthBuffer':_0x1974c9,'skinning':!0x0===_0x2a155d['isSkinnedMesh'],'morphTargets':void 0x0!==_0x48a7f8['morphAttributes']['position'],'morphNormals':void 0x0!==_0x48a7f8['morphAttributes']['normal'],'morphColors':void 0x0!==_0x48a7f8['morphAttributes']['color'],'morphTargetsCount':_0x3737ec,'morphTextureStride':_0x32a050,'numDirLights':_0x24ff9c['directional']['length'],'numPointLights':_0x24ff9c['point']['length'],'numSpotLights':_0x24ff9c['spot']['length'],'numSpotLightMaps':_0x24ff9c['spotLightMap']['length'],'numRectAreaLights':_0x24ff9c['rectArea']['length'],'numHemiLights':_0x24ff9c['hemi']['length'],'numDirLightShadows':_0x24ff9c['directionalShadowMap']['length'],'numPointLightShadows':_0x24ff9c['pointShadowMap']['length'],'numSpotLightShadows':_0x24ff9c['spotShadowMap']['length'],'numSpotLightShadowsWithMaps':_0x24ff9c['numSpotLightShadowsWithMaps'],'numLightProbes':_0x24ff9c['numLightProbes'],'numClippingPlanes':_0x4f10ab['numPlanes'],'numClipIntersection':_0x4f10ab['numIntersection'],'dithering':_0x1b7b58['dithering'],'shadowMapEnabled':_0x406815['shadowMap']['enabled']&&_0x33331f['length']>0x0,'shadowMapType':_0x406815['shadowMap']['type'],'toneMapping':_0x4e5219,'decodeVideoTexture':_0x15626&&!0x0===_0x1b7b58['map']['isVideoTexture']&&_0x3e8626['ppV']['getTransfer'](_0x1b7b58['map']['colorSpace'])===_0x3e8626['KLL'],'decodeVideoTextureEmissive':_0x4fe9d9&&!0x0===_0x1b7b58['emissiveMap']['isVideoTexture']&&_0x3e8626['ppV']['getTransfer'](_0x1b7b58['emissiveMap']['colorSpace'])===_0x3e8626['KLL'],'premultipliedAlpha':_0x1b7b58['premultipliedAlpha'],'doubleSided':_0x1b7b58['side']===_0x3e8626['$EB'],'flipSided':_0x1b7b58['side']===_0x3e8626['hsX'],'useDepthPacking':_0x1b7b58['depthPacking']>=0x0,'depthPacking':_0x1b7b58['depthPacking']||0x0,'index0AttributeName':_0x1b7b58['index0AttributeName'],'extensionClipCullDistance':_0x336217&&!0x0===_0x1b7b58['extensions']['clipCullDistance']&&_0x42cce4['has']('WEBGL_clip_cull_distance'),'extensionMultiDraw':(_0x336217&&!0x0===_0x1b7b58['extensions']['multiDraw']||_0x57066c)&&_0x42cce4['has']('WEBGL_multi_draw'),'rendererExtensionParallelShaderCompile':_0x42cce4['has']('KHR_parallel_shader_compile'),'customProgramCacheKey':_0x1b7b58['customProgramCacheKey']()};return _0x58d977['vertexUv1s']=_0x4cbdeb['has'](0x1),_0x58d977['vertexUv2s']=_0x4cbdeb['has'](0x2),_0x58d977['vertexUv3s']=_0x4cbdeb['has'](0x3),_0x4cbdeb['clear'](),_0x58d977;},'getProgramCacheKey':function(_0x10e243){const _0x4053f9=[];if(_0x10e243['shaderID']?_0x4053f9['push'](_0x10e243['shaderID']):(_0x4053f9['push'](_0x10e243['customVertexShaderID']),_0x4053f9['push'](_0x10e243['customFragmentShaderID'])),void 0x0!==_0x10e243['defines']){for(const _0x2f7f14 in _0x10e243['defines'])_0x4053f9['push'](_0x2f7f14),_0x4053f9['push'](_0x10e243['defines'][_0x2f7f14]);}return!0x1===_0x10e243['isRawShaderMaterial']&&(!function(_0x8382e7,_0x35fd3d){_0x8382e7['push'](_0x35fd3d['precision']),_0x8382e7['push'](_0x35fd3d['outputColorSpace']),_0x8382e7['push'](_0x35fd3d['envMapMode']),_0x8382e7['push'](_0x35fd3d['envMapCubeUVHeight']),_0x8382e7['push'](_0x35fd3d['mapUv']),_0x8382e7['push'](_0x35fd3d['alphaMapUv']),_0x8382e7['push'](_0x35fd3d['lightMapUv']),_0x8382e7['push'](_0x35fd3d['aoMapUv']),_0x8382e7['push'](_0x35fd3d['bumpMapUv']),_0x8382e7['push'](_0x35fd3d['normalMapUv']),_0x8382e7['push'](_0x35fd3d['displacementMapUv']),_0x8382e7['push'](_0x35fd3d['emissiveMapUv']),_0x8382e7['push'](_0x35fd3d['metalnessMapUv']),_0x8382e7['push'](_0x35fd3d['roughnessMapUv']),_0x8382e7['push'](_0x35fd3d['anisotropyMapUv']),_0x8382e7['push'](_0x35fd3d['clearcoatMapUv']),_0x8382e7['push'](_0x35fd3d['clearcoatNormalMapUv']),_0x8382e7['push'](_0x35fd3d['clearcoatRoughnessMapUv']),_0x8382e7['push'](_0x35fd3d['iridescenceMapUv']),_0x8382e7['push'](_0x35fd3d['iridescenceThicknessMapUv']),_0x8382e7['push'](_0x35fd3d['sheenColorMapUv']),_0x8382e7['push'](_0x35fd3d['sheenRoughnessMapUv']),_0x8382e7['push'](_0x35fd3d['specularMapUv']),_0x8382e7['push'](_0x35fd3d['specularColorMapUv']),_0x8382e7['push'](_0x35fd3d['specularIntensityMapUv']),_0x8382e7['push'](_0x35fd3d['transmissionMapUv']),_0x8382e7['push'](_0x35fd3d['thicknessMapUv']),_0x8382e7['push'](_0x35fd3d['combine']),_0x8382e7['push'](_0x35fd3d['fogExp2']),_0x8382e7['push'](_0x35fd3d['sizeAttenuation']),_0x8382e7['push'](_0x35fd3d['morphTargetsCount']),_0x8382e7['push'](_0x35fd3d['morphAttributeCount']),_0x8382e7['push'](_0x35fd3d['numDirLights']),_0x8382e7['push'](_0x35fd3d['numPointLights']),_0x8382e7['push'](_0x35fd3d['numSpotLights']),_0x8382e7['push'](_0x35fd3d['numSpotLightMaps']),_0x8382e7['push'](_0x35fd3d['numHemiLights']),_0x8382e7['push'](_0x35fd3d['numRectAreaLights']),_0x8382e7['push'](_0x35fd3d['numDirLightShadows']),_0x8382e7['push'](_0x35fd3d['numPointLightShadows']),_0x8382e7['push'](_0x35fd3d['numSpotLightShadows']),_0x8382e7['push'](_0x35fd3d['numSpotLightShadowsWithMaps']),_0x8382e7['push'](_0x35fd3d['numLightProbes']),_0x8382e7['push'](_0x35fd3d['shadowMapType']),_0x8382e7['push'](_0x35fd3d['toneMapping']),_0x8382e7['push'](_0x35fd3d['numClippingPlanes']),_0x8382e7['push'](_0x35fd3d['numClipIntersection']),_0x8382e7['push'](_0x35fd3d['depthPacking']);}(_0x4053f9,_0x10e243),function(_0x1195f4,_0x6865e0){_0x283f86['disableAll'](),_0x6865e0['supportsVertexTextures']&&_0x283f86['enable'](0x0),_0x6865e0['instancing']&&_0x283f86['enable'](0x1),_0x6865e0['instancingColor']&&_0x283f86['enable'](0x2),_0x6865e0['instancingMorph']&&_0x283f86['enable'](0x3),_0x6865e0['matcap']&&_0x283f86['enable'](0x4),_0x6865e0['envMap']&&_0x283f86['enable'](0x5),_0x6865e0['normalMapObjectSpace']&&_0x283f86['enable'](0x6),_0x6865e0['normalMapTangentSpace']&&_0x283f86['enable'](0x7),_0x6865e0['clearcoat']&&_0x283f86['enable'](0x8),_0x6865e0['iridescence']&&_0x283f86['enable'](0x9),_0x6865e0['alphaTest']&&_0x283f86['enable'](0xa),_0x6865e0['vertexColors']&&_0x283f86['enable'](0xb),_0x6865e0['vertexAlphas']&&_0x283f86['enable'](0xc),_0x6865e0['vertexUv1s']&&_0x283f86['enable'](0xd),_0x6865e0['vertexUv2s']&&_0x283f86['enable'](0xe),_0x6865e0['vertexUv3s']&&_0x283f86['enable'](0xf),_0x6865e0['vertexTangents']&&_0x283f86['enable'](0x10),_0x6865e0['anisotropy']&&_0x283f86['enable'](0x11),_0x6865e0['alphaHash']&&_0x283f86['enable'](0x12),_0x6865e0['batching']&&_0x283f86['enable'](0x13),_0x6865e0['dispersion']&&_0x283f86['enable'](0x14),_0x6865e0['batchingColor']&&_0x283f86['enable'](0x15),(_0x1195f4['push'](_0x283f86['mask']),_0x283f86['disableAll'](),_0x6865e0['fog']&&_0x283f86['enable'](0x0)),_0x6865e0['useFog']&&_0x283f86['enable'](0x1),_0x6865e0['flatShading']&&_0x283f86['enable'](0x2),_0x6865e0['logarithmicDepthBuffer']&&_0x283f86['enable'](0x3),_0x6865e0['reverseDepthBuffer']&&_0x283f86['enable'](0x4),_0x6865e0['skinning']&&_0x283f86['enable'](0x5),_0x6865e0['morphTargets']&&_0x283f86['enable'](0x6),_0x6865e0['morphNormals']&&_0x283f86['enable'](0x7),_0x6865e0['morphColors']&&_0x283f86['enable'](0x8),_0x6865e0['premultipliedAlpha']&&_0x283f86['enable'](0x9),_0x6865e0['shadowMapEnabled']&&_0x283f86['enable'](0xa),_0x6865e0['doubleSided']&&_0x283f86['enable'](0xb),_0x6865e0['flipSided']&&_0x283f86['enable'](0xc),_0x6865e0['useDepthPacking']&&_0x283f86['enable'](0xd),_0x6865e0['dithering']&&_0x283f86['enable'](0xe),_0x6865e0['transmission']&&_0x283f86['enable'](0xf),_0x6865e0['sheen']&&_0x283f86['enable'](0x10),_0x6865e0['opaque']&&_0x283f86['enable'](0x11),_0x6865e0['pointsUvs']&&_0x283f86['enable'](0x12),_0x6865e0['decodeVideoTexture']&&_0x283f86['enable'](0x13),_0x6865e0['decodeVideoTextureEmissive']&&_0x283f86['enable'](0x14),_0x6865e0['alphaToCoverage']&&_0x283f86['enable'](0x15),_0x1195f4['push'](_0x283f86['mask']);}(_0x4053f9,_0x10e243),_0x4053f9['push'](_0x406815['outputColorSpace'])),_0x4053f9['push'](_0x10e243['customProgramCacheKey']),_0x4053f9['join']();},'getUniforms':function(_0x241c65){const _0x74fd5b=_0x15cd00[_0x241c65['type']];let _0x47cb98;if(_0x74fd5b){const _0x1ce178=_0x1dec1e[_0x74fd5b];_0x47cb98=_0x3e8626['LlO']['clone'](_0x1ce178['uniforms']);}else _0x47cb98=_0x241c65['uniforms'];return _0x47cb98;},'acquireProgram':function(_0x3369c4,_0x392ed1){let _0x5bc74e;for(let _0x44b7d0=0x0,_0x3ce964=_0xe3e70f['length'];_0x44b7d0<_0x3ce964;_0x44b7d0++){const _0x58b464=_0xe3e70f[_0x44b7d0];if(_0x58b464['cacheKey']===_0x392ed1){_0x5bc74e=_0x58b464,++_0x5bc74e['usedTimes'];break;}}return void 0x0===_0x5bc74e&&(_0x5bc74e=new _0x462a69(_0x406815,_0x392ed1,_0x3369c4,_0x1d49de),_0xe3e70f['push'](_0x5bc74e)),_0x5bc74e;},'releaseProgram':function(_0x407120){if(0x0==--_0x407120['usedTimes']){const _0x4b65bc=_0xe3e70f['indexOf'](_0x407120);_0xe3e70f[_0x4b65bc]=_0xe3e70f[_0xe3e70f['length']-0x1],_0xe3e70f['pop'](),_0x407120['destroy']();}},'releaseShaderCache':function(_0x544bb2){_0x28b31c['remove'](_0x544bb2);},'programs':_0xe3e70f,'dispose':function(){_0x28b31c['dispose']();}};}function _0x4bf5ab(){let _0x280df9=new WeakMap();return{'has':function(_0xe2c61b){return _0x280df9['has'](_0xe2c61b);},'get':function(_0x352cec){let _0x12dda0=_0x280df9['get'](_0x352cec);return void 0x0===_0x12dda0&&(_0x12dda0={},_0x280df9['set'](_0x352cec,_0x12dda0)),_0x12dda0;},'remove':function(_0xd9dc4a){_0x280df9['delete'](_0xd9dc4a);},'update':function(_0x4cd79c,_0x2ea7f4,_0x3c3214){_0x280df9['get'](_0x4cd79c)[_0x2ea7f4]=_0x3c3214;},'dispose':function(){_0x280df9=new WeakMap();}};}function _0x1294bd(_0x5c6d74,_0x2ac78a){return _0x5c6d74['groupOrder']!==_0x2ac78a['groupOrder']?_0x5c6d74['groupOrder']-_0x2ac78a['groupOrder']:_0x5c6d74['renderOrder']!==_0x2ac78a['renderOrder']?_0x5c6d74['renderOrder']-_0x2ac78a['renderOrder']:_0x5c6d74['material']['id']!==_0x2ac78a['material']['id']?_0x5c6d74['material']['id']-_0x2ac78a['material']['id']:_0x5c6d74['z']!==_0x2ac78a['z']?_0x5c6d74['z']-_0x2ac78a['z']:_0x5c6d74['id']-_0x2ac78a['id'];}function _0x3503e2(_0x2f7e81,_0x23d7db){return _0x2f7e81['groupOrder']!==_0x23d7db['groupOrder']?_0x2f7e81['groupOrder']-_0x23d7db['groupOrder']:_0x2f7e81['renderOrder']!==_0x23d7db['renderOrder']?_0x2f7e81['renderOrder']-_0x23d7db['renderOrder']:_0x2f7e81['z']!==_0x23d7db['z']?_0x23d7db['z']-_0x2f7e81['z']:_0x2f7e81['id']-_0x23d7db['id'];}function _0x4f4250(){const _0x2ebd5d=[];let _0x1b5b5c=0x0;const _0x4795bc=[],_0xc612b=[],_0x1e04b4=[];function _0x3359dc(_0x51adb3,_0x14692e,_0x22ea28,_0x220845,_0x1c14b8,_0x388d79){let _0x44e07a=_0x2ebd5d[_0x1b5b5c];return void 0x0===_0x44e07a?(_0x44e07a={'id':_0x51adb3['id'],'object':_0x51adb3,'geometry':_0x14692e,'material':_0x22ea28,'groupOrder':_0x220845,'renderOrder':_0x51adb3['renderOrder'],'z':_0x1c14b8,'group':_0x388d79},_0x2ebd5d[_0x1b5b5c]=_0x44e07a):(_0x44e07a['id']=_0x51adb3['id'],_0x44e07a['object']=_0x51adb3,_0x44e07a['geometry']=_0x14692e,_0x44e07a['material']=_0x22ea28,_0x44e07a['groupOrder']=_0x220845,_0x44e07a['renderOrder']=_0x51adb3['renderOrder'],_0x44e07a['z']=_0x1c14b8,_0x44e07a['group']=_0x388d79),_0x1b5b5c++,_0x44e07a;}return{'opaque':_0x4795bc,'transmissive':_0xc612b,'transparent':_0x1e04b4,'init':function(){_0x1b5b5c=0x0,_0x4795bc['length']=0x0,_0xc612b['length']=0x0,_0x1e04b4['length']=0x0;},'push':function(_0xdf449f,_0x546696,_0x3f6487,_0x2956e5,_0x5a6ac5,_0x29aa5a){const _0x109f4a=_0x3359dc(_0xdf449f,_0x546696,_0x3f6487,_0x2956e5,_0x5a6ac5,_0x29aa5a);_0x3f6487['transmission']>0x0?_0xc612b['push'](_0x109f4a):!0x0===_0x3f6487['transparent']?_0x1e04b4['push'](_0x109f4a):_0x4795bc['push'](_0x109f4a);},'unshift':function(_0x2d93ce,_0x5cb66d,_0x4ebcd4,_0x542b10,_0x3f11ec,_0x39c630){const _0x22088a=_0x3359dc(_0x2d93ce,_0x5cb66d,_0x4ebcd4,_0x542b10,_0x3f11ec,_0x39c630);_0x4ebcd4['transmission']>0x0?_0xc612b['unshift'](_0x22088a):!0x0===_0x4ebcd4['transparent']?_0x1e04b4['unshift'](_0x22088a):_0x4795bc['unshift'](_0x22088a);},'finish':function(){for(let _0x25d011=_0x1b5b5c,_0x31ed16=_0x2ebd5d['length'];_0x25d011<_0x31ed16;_0x25d011++){const _0xf40a4f=_0x2ebd5d[_0x25d011];if(null===_0xf40a4f['id'])break;_0xf40a4f['id']=null,_0xf40a4f['object']=null,_0xf40a4f['geometry']=null,_0xf40a4f['material']=null,_0xf40a4f['group']=null;}},'sort':function(_0x42d619,_0x266a39){_0x4795bc['length']>0x1&&_0x4795bc['sort'](_0x42d619||_0x1294bd),_0xc612b['length']>0x1&&_0xc612b['sort'](_0x266a39||_0x3503e2),_0x1e04b4['length']>0x1&&_0x1e04b4['sort'](_0x266a39||_0x3503e2);}};}function _0x4e5141(){let _0x19e19e=new WeakMap();return{'get':function(_0x2b32bd,_0x438c7c){const _0x135631=_0x19e19e['get'](_0x2b32bd);let _0x593999;return void 0x0===_0x135631?(_0x593999=new _0x4f4250(),_0x19e19e['set'](_0x2b32bd,[_0x593999])):_0x438c7c>=_0x135631['length']?(_0x593999=new _0x4f4250(),_0x135631['push'](_0x593999)):_0x593999=_0x135631[_0x438c7c],_0x593999;},'dispose':function(){_0x19e19e=new WeakMap();}};}function _0x34e06c(){const _0xc6144b={};return{'get':function(_0x5a54b2){if(void 0x0!==_0xc6144b[_0x5a54b2['id']])return _0xc6144b[_0x5a54b2['id']];let _0x24981e;switch(_0x5a54b2['type']){case'DirectionalLight':_0x24981e={'direction':new _0x3e8626['Pq0'](),'color':new _0x3e8626['Q1f']()};break;case'SpotLight':_0x24981e={'position':new _0x3e8626['Pq0'](),'direction':new _0x3e8626['Pq0'](),'color':new _0x3e8626['Q1f'](),'distance':0x0,'coneCos':0x0,'penumbraCos':0x0,'decay':0x0};break;case'PointLight':_0x24981e={'position':new _0x3e8626['Pq0'](),'color':new _0x3e8626['Q1f'](),'distance':0x0,'decay':0x0};break;case'HemisphereLight':_0x24981e={'direction':new _0x3e8626['Pq0'](),'skyColor':new _0x3e8626['Q1f'](),'groundColor':new _0x3e8626['Q1f']()};break;case'RectAreaLight':_0x24981e={'color':new _0x3e8626['Q1f'](),'position':new _0x3e8626['Pq0'](),'halfWidth':new _0x3e8626['Pq0'](),'halfHeight':new _0x3e8626['Pq0']()};}return _0xc6144b[_0x5a54b2['id']]=_0x24981e,_0x24981e;}};}let _0x8c6a23=0x0;function _0x40a77a(_0x2e1997,_0x508245){return(_0x508245['castShadow']?0x2:0x0)-(_0x2e1997['castShadow']?0x2:0x0)+(_0x508245['map']?0x1:0x0)-(_0x2e1997['map']?0x1:0x0);}function _0x25e418(_0x3d6134){const _0x386577=new _0x34e06c(),_0x893116=(function(){const _0xac66c1={};return{'get':function(_0x917874){if(void 0x0!==_0xac66c1[_0x917874['id']])return _0xac66c1[_0x917874['id']];let _0x4d1b1e;switch(_0x917874['type']){case'DirectionalLight':case'SpotLight':_0x4d1b1e={'shadowIntensity':0x1,'shadowBias':0x0,'shadowNormalBias':0x0,'shadowRadius':0x1,'shadowMapSize':new _0x3e8626['I9Y']()};break;case'PointLight':_0x4d1b1e={'shadowIntensity':0x1,'shadowBias':0x0,'shadowNormalBias':0x0,'shadowRadius':0x1,'shadowMapSize':new _0x3e8626['I9Y'](),'shadowCameraNear':0x1,'shadowCameraFar':0x3e8};}return _0xac66c1[_0x917874['id']]=_0x4d1b1e,_0x4d1b1e;}};}()),_0x2c35c2={'version':0x0,'hash':{'directionalLength':-0x1,'pointLength':-0x1,'spotLength':-0x1,'rectAreaLength':-0x1,'hemiLength':-0x1,'numDirectionalShadows':-0x1,'numPointShadows':-0x1,'numSpotShadows':-0x1,'numSpotMaps':-0x1,'numLightProbes':-0x1},'ambient':[0x0,0x0,0x0],'probe':[],'directional':[],'directionalShadow':[],'directionalShadowMap':[],'directionalShadowMatrix':[],'spot':[],'spotLightMap':[],'spotShadow':[],'spotShadowMap':[],'spotLightMatrix':[],'rectArea':[],'rectAreaLTC1':null,'rectAreaLTC2':null,'point':[],'pointShadow':[],'pointShadowMap':[],'pointShadowMatrix':[],'hemi':[],'numSpotLightShadowsWithMaps':0x0,'numLightProbes':0x0};for(let _0x559df4=0x0;_0x559df4<0x9;_0x559df4++)_0x2c35c2['probe']['push'](new _0x3e8626['Pq0']());const _0x4dae50=new _0x3e8626['Pq0'](),_0x36dfbd=new _0x3e8626['kn4'](),_0x4c20d2=new _0x3e8626['kn4']();return{'setup':function(_0x485032){let _0x733f5e=0x0,_0x49128b=0x0,_0x384688=0x0;for(let _0x2eafa4=0x0;_0x2eafa4<0x9;_0x2eafa4++)_0x2c35c2['probe'][_0x2eafa4]['set'](0x0,0x0,0x0);let _0x53cac2=0x0,_0x22094c=0x0,_0x124ffb=0x0,_0x31910e=0x0,_0x4dd318=0x0,_0xec7dc8=0x0,_0x22e2e0=0x0,_0xf27240=0x0,_0xc71295=0x0,_0x534b82=0x0,_0x1b5803=0x0;_0x485032['sort'](_0x40a77a);for(let _0x167541=0x0,_0xb443f7=_0x485032['length'];_0x167541<_0xb443f7;_0x167541++){const _0x1892f6=_0x485032[_0x167541],_0x2383e5=_0x1892f6['color'],_0x56fb5f=_0x1892f6['intensity'],_0x25e8fe=_0x1892f6['distance'],_0x3d1d84=_0x1892f6['shadow']&&_0x1892f6['shadow']['map']?_0x1892f6['shadow']['map']['texture']:null;if(_0x1892f6['isAmbientLight'])_0x733f5e+=_0x2383e5['r']*_0x56fb5f,_0x49128b+=_0x2383e5['g']*_0x56fb5f,_0x384688+=_0x2383e5['b']*_0x56fb5f;else{if(_0x1892f6['isLightProbe']){for(let _0x5d3aa8=0x0;_0x5d3aa8<0x9;_0x5d3aa8++)_0x2c35c2['probe'][_0x5d3aa8]['addScaledVector'](_0x1892f6['sh']['coefficients'][_0x5d3aa8],_0x56fb5f);_0x1b5803++;}else{if(_0x1892f6['isDirectionalLight']){const _0xa306e5=_0x386577['get'](_0x1892f6);if(_0xa306e5['color']['copy'](_0x1892f6['color'])['multiplyScalar'](_0x1892f6['intensity']),_0x1892f6['castShadow']){const _0x1204a8=_0x1892f6['shadow'],_0x583b1c=_0x893116['get'](_0x1892f6);_0x583b1c['shadowIntensity']=_0x1204a8['intensity'],_0x583b1c['shadowBias']=_0x1204a8['bias'],_0x583b1c['shadowNormalBias']=_0x1204a8['normalBias'],_0x583b1c['shadowRadius']=_0x1204a8['radius'],_0x583b1c['shadowMapSize']=_0x1204a8['mapSize'],_0x2c35c2['directionalShadow'][_0x53cac2]=_0x583b1c,_0x2c35c2['directionalShadowMap'][_0x53cac2]=_0x3d1d84,_0x2c35c2['directionalShadowMatrix'][_0x53cac2]=_0x1892f6['shadow']['matrix'],_0xec7dc8++;}_0x2c35c2['directional'][_0x53cac2]=_0xa306e5,_0x53cac2++;}else{if(_0x1892f6['isSpotLight']){const _0x44a5e=_0x386577['get'](_0x1892f6);_0x44a5e['position']['setFromMatrixPosition'](_0x1892f6['matrixWorld']),_0x44a5e['color']['copy'](_0x2383e5)['multiplyScalar'](_0x56fb5f),_0x44a5e['distance']=_0x25e8fe,_0x44a5e['coneCos']=Math['cos'](_0x1892f6['angle']),_0x44a5e['penumbraCos']=Math['cos'](_0x1892f6['angle']*(0x1-_0x1892f6['penumbra'])),_0x44a5e['decay']=_0x1892f6['decay'],_0x2c35c2['spot'][_0x124ffb]=_0x44a5e;const _0x50f36c=_0x1892f6['shadow'];if(_0x1892f6['map']&&(_0x2c35c2['spotLightMap'][_0xc71295]=_0x1892f6['map'],_0xc71295++,_0x50f36c['updateMatrices'](_0x1892f6),_0x1892f6['castShadow']&&_0x534b82++),_0x2c35c2['spotLightMatrix'][_0x124ffb]=_0x50f36c['matrix'],_0x1892f6['castShadow']){const _0x3d7852=_0x893116['get'](_0x1892f6);_0x3d7852['shadowIntensity']=_0x50f36c['intensity'],_0x3d7852['shadowBias']=_0x50f36c['bias'],_0x3d7852['shadowNormalBias']=_0x50f36c['normalBias'],_0x3d7852['shadowRadius']=_0x50f36c['radius'],_0x3d7852['shadowMapSize']=_0x50f36c['mapSize'],_0x2c35c2['spotShadow'][_0x124ffb]=_0x3d7852,_0x2c35c2['spotShadowMap'][_0x124ffb]=_0x3d1d84,_0xf27240++;}_0x124ffb++;}else{if(_0x1892f6['isRectAreaLight']){const _0x1a4c9c=_0x386577['get'](_0x1892f6);_0x1a4c9c['color']['copy'](_0x2383e5)['multiplyScalar'](_0x56fb5f),_0x1a4c9c['halfWidth']['set'](0.5*_0x1892f6['width'],0x0,0x0),_0x1a4c9c['halfHeight']['set'](0x0,0.5*_0x1892f6['height'],0x0),_0x2c35c2['rectArea'][_0x31910e]=_0x1a4c9c,_0x31910e++;}else{if(_0x1892f6['isPointLight']){const _0x57d9c9=_0x386577['get'](_0x1892f6);if(_0x57d9c9['color']['copy'](_0x1892f6['color'])['multiplyScalar'](_0x1892f6['intensity']),_0x57d9c9['distance']=_0x1892f6['distance'],_0x57d9c9['decay']=_0x1892f6['decay'],_0x1892f6['castShadow']){const _0x454a2e=_0x1892f6['shadow'],_0x28fdac=_0x893116['get'](_0x1892f6);_0x28fdac['shadowIntensity']=_0x454a2e['intensity'],_0x28fdac['shadowBias']=_0x454a2e['bias'],_0x28fdac['shadowNormalBias']=_0x454a2e['normalBias'],_0x28fdac['shadowRadius']=_0x454a2e['radius'],_0x28fdac['shadowMapSize']=_0x454a2e['mapSize'],_0x28fdac['shadowCameraNear']=_0x454a2e['camera']['near'],_0x28fdac['shadowCameraFar']=_0x454a2e['camera']['far'],_0x2c35c2['pointShadow'][_0x22094c]=_0x28fdac,_0x2c35c2['pointShadowMap'][_0x22094c]=_0x3d1d84,_0x2c35c2['pointShadowMatrix'][_0x22094c]=_0x1892f6['shadow']['matrix'],_0x22e2e0++;}_0x2c35c2['point'][_0x22094c]=_0x57d9c9,_0x22094c++;}else{if(_0x1892f6['isHemisphereLight']){const _0x505414=_0x386577['get'](_0x1892f6);_0x505414['skyColor']['copy'](_0x1892f6['color'])['multiplyScalar'](_0x56fb5f),_0x505414['groundColor']['copy'](_0x1892f6['groundColor'])['multiplyScalar'](_0x56fb5f),_0x2c35c2['hemi'][_0x4dd318]=_0x505414,_0x4dd318++;}}}}}}}}_0x31910e>0x0&&(!0x0===_0x3d6134['has']('OES_texture_float_linear')?(_0x2c35c2['rectAreaLTC1']=_0x6ff51['LTC_FLOAT_1'],_0x2c35c2['rectAreaLTC2']=_0x6ff51['LTC_FLOAT_2']):(_0x2c35c2['rectAreaLTC1']=_0x6ff51['LTC_HALF_1'],_0x2c35c2['rectAreaLTC2']=_0x6ff51['LTC_HALF_2'])),_0x2c35c2['ambient'][0x0]=_0x733f5e,_0x2c35c2['ambient'][0x1]=_0x49128b,_0x2c35c2['ambient'][0x2]=_0x384688;const _0x3651db=_0x2c35c2['hash'];_0x3651db['directionalLength']===_0x53cac2&&_0x3651db['pointLength']===_0x22094c&&_0x3651db['spotLength']===_0x124ffb&&_0x3651db['rectAreaLength']===_0x31910e&&_0x3651db['hemiLength']===_0x4dd318&&_0x3651db['numDirectionalShadows']===_0xec7dc8&&_0x3651db['numPointShadows']===_0x22e2e0&&_0x3651db['numSpotShadows']===_0xf27240&&_0x3651db['numSpotMaps']===_0xc71295&&_0x3651db['numLightProbes']===_0x1b5803||(_0x2c35c2['directional']['length']=_0x53cac2,_0x2c35c2['spot']['length']=_0x124ffb,_0x2c35c2['rectArea']['length']=_0x31910e,_0x2c35c2['point']['length']=_0x22094c,_0x2c35c2['hemi']['length']=_0x4dd318,_0x2c35c2['directionalShadow']['length']=_0xec7dc8,_0x2c35c2['directionalShadowMap']['length']=_0xec7dc8,_0x2c35c2['pointShadow']['length']=_0x22e2e0,_0x2c35c2['pointShadowMap']['length']=_0x22e2e0,_0x2c35c2['spotShadow']['length']=_0xf27240,_0x2c35c2['spotShadowMap']['length']=_0xf27240,_0x2c35c2['directionalShadowMatrix']['length']=_0xec7dc8,_0x2c35c2['pointShadowMatrix']['length']=_0x22e2e0,_0x2c35c2['spotLightMatrix']['length']=_0xf27240+_0xc71295-_0x534b82,_0x2c35c2['spotLightMap']['length']=_0xc71295,_0x2c35c2['numSpotLightShadowsWithMaps']=_0x534b82,_0x2c35c2['numLightProbes']=_0x1b5803,_0x3651db['directionalLength']=_0x53cac2,_0x3651db['pointLength']=_0x22094c,_0x3651db['spotLength']=_0x124ffb,_0x3651db['rectAreaLength']=_0x31910e,_0x3651db['hemiLength']=_0x4dd318,_0x3651db['numDirectionalShadows']=_0xec7dc8,_0x3651db['numPointShadows']=_0x22e2e0,_0x3651db['numSpotShadows']=_0xf27240,_0x3651db['numSpotMaps']=_0xc71295,_0x3651db['numLightProbes']=_0x1b5803,_0x2c35c2['version']=_0x8c6a23++);},'setupView':function(_0x418692,_0xdda1ff){let _0x581c53=0x0,_0x12a995=0x0,_0x45b26d=0x0,_0x1c87be=0x0,_0x5753c8=0x0;const _0x37e9d3=_0xdda1ff['matrixWorldInverse'];for(let _0x313b92=0x0,_0x2b4ee7=_0x418692['length'];_0x313b92<_0x2b4ee7;_0x313b92++){const _0x1bda1d=_0x418692[_0x313b92];if(_0x1bda1d['isDirectionalLight']){const _0x3fc93c=_0x2c35c2['directional'][_0x581c53];_0x3fc93c['direction']['setFromMatrixPosition'](_0x1bda1d['matrixWorld']),_0x4dae50['setFromMatrixPosition'](_0x1bda1d['target']['matrixWorld']),_0x3fc93c['direction']['sub'](_0x4dae50),_0x3fc93c['direction']['transformDirection'](_0x37e9d3),_0x581c53++;}else{if(_0x1bda1d['isSpotLight']){const _0x25de5e=_0x2c35c2['spot'][_0x45b26d];_0x25de5e['position']['setFromMatrixPosition'](_0x1bda1d['matrixWorld']),_0x25de5e['position']['applyMatrix4'](_0x37e9d3),_0x25de5e['direction']['setFromMatrixPosition'](_0x1bda1d['matrixWorld']),_0x4dae50['setFromMatrixPosition'](_0x1bda1d['target']['matrixWorld']),_0x25de5e['direction']['sub'](_0x4dae50),_0x25de5e['direction']['transformDirection'](_0x37e9d3),_0x45b26d++;}else{if(_0x1bda1d['isRectAreaLight']){const _0x92843c=_0x2c35c2['rectArea'][_0x1c87be];_0x92843c['position']['setFromMatrixPosition'](_0x1bda1d['matrixWorld']),_0x92843c['position']['applyMatrix4'](_0x37e9d3),_0x4c20d2['identity'](),_0x36dfbd['copy'](_0x1bda1d['matrixWorld']),_0x36dfbd['premultiply'](_0x37e9d3),_0x4c20d2['extractRotation'](_0x36dfbd),_0x92843c['halfWidth']['set'](0.5*_0x1bda1d['width'],0x0,0x0),_0x92843c['halfHeight']['set'](0x0,0.5*_0x1bda1d['height'],0x0),_0x92843c['halfWidth']['applyMatrix4'](_0x4c20d2),_0x92843c['halfHeight']['applyMatrix4'](_0x4c20d2),_0x1c87be++;}else{if(_0x1bda1d['isPointLight']){const _0xb68e67=_0x2c35c2['point'][_0x12a995];_0xb68e67['position']['setFromMatrixPosition'](_0x1bda1d['matrixWorld']),_0xb68e67['position']['applyMatrix4'](_0x37e9d3),_0x12a995++;}else{if(_0x1bda1d['isHemisphereLight']){const _0x18f644=_0x2c35c2['hemi'][_0x5753c8];_0x18f644['direction']['setFromMatrixPosition'](_0x1bda1d['matrixWorld']),_0x18f644['direction']['transformDirection'](_0x37e9d3),_0x5753c8++;}}}}}}},'state':_0x2c35c2};}function _0x351b65(_0x2fb1ce){const _0x2a0a13=new _0x25e418(_0x2fb1ce),_0x40050a=[],_0x2197fd=[],_0x4ec57b={'lightsArray':_0x40050a,'shadowsArray':_0x2197fd,'camera':null,'lights':_0x2a0a13,'transmissionRenderTarget':{}};return{'init':function(_0x2039e4){_0x4ec57b['camera']=_0x2039e4,_0x40050a['length']=0x0,_0x2197fd['length']=0x0;},'state':_0x4ec57b,'setupLights':function(){_0x2a0a13['setup'](_0x40050a);},'setupLightsView':function(_0x3a4e68){_0x2a0a13['setupView'](_0x40050a,_0x3a4e68);},'pushLight':function(_0x162b13){_0x40050a['push'](_0x162b13);},'pushShadow':function(_0x1d78bc){_0x2197fd['push'](_0x1d78bc);}};}function _0x2f3be1(_0x531208){let _0x139e06=new WeakMap();return{'get':function(_0x5f4682,_0x2e0f12=0x0){const _0x9bfb29=_0x139e06['get'](_0x5f4682);let _0x46f302;return void 0x0===_0x9bfb29?(_0x46f302=new _0x351b65(_0x531208),_0x139e06['set'](_0x5f4682,[_0x46f302])):_0x2e0f12>=_0x9bfb29['length']?(_0x46f302=new _0x351b65(_0x531208),_0x9bfb29['push'](_0x46f302)):_0x46f302=_0x9bfb29[_0x2e0f12],_0x46f302;},'dispose':function(){_0x139e06=new WeakMap();}};}function _0x189458(_0x22a36a,_0x583c3d,_0x5f15f5){let _0x27d6eb=new _0x3e8626['PPD']();const _0x480f03=new _0x3e8626['I9Y'](),_0x2690d6=new _0x3e8626['I9Y'](),_0x24ac4f=new _0x3e8626['IUQ'](),_0x349090=new _0x3e8626['CSG']({'depthPacking':_0x3e8626['N5j']}),_0xa108a1=new _0x3e8626['aVO'](),_0x480cb6={},_0x1cbb76=_0x5f15f5['maxTextureSize'],_0x15a38c={[_0x3e8626['hB5']]:_0x3e8626['hsX'],[_0x3e8626['hsX']]:_0x3e8626['hB5'],[_0x3e8626['$EB']]:_0x3e8626['$EB']},_0x53ca5e=new _0x3e8626['BKk']({'defines':{'VSM_SAMPLES':0x8},'uniforms':{'shadow_pass':{'value':null},'resolution':{'value':new _0x3e8626['I9Y']()},'radius':{'value':0x4}},'vertexShader':'void\x20main()\x20{\x0a\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a}','fragmentShader':'uniform\x20sampler2D\x20shadow_pass;\x0auniform\x20vec2\x20resolution;\x0auniform\x20float\x20radius;\x0a#include\x20<packing>\x0avoid\x20main()\x20{\x0a\x09const\x20float\x20samples\x20=\x20float(\x20VSM_SAMPLES\x20);\x0a\x09float\x20mean\x20=\x200.0;\x0a\x09float\x20squared_mean\x20=\x200.0;\x0a\x09float\x20uvStride\x20=\x20samples\x20<=\x201.0\x20?\x200.0\x20:\x202.0\x20/\x20(\x20samples\x20-\x201.0\x20);\x0a\x09float\x20uvStart\x20=\x20samples\x20<=\x201.0\x20?\x200.0\x20:\x20-\x201.0;\x0a\x09for\x20(\x20float\x20i\x20=\x200.0;\x20i\x20<\x20samples;\x20i\x20++\x20)\x20{\x0a\x09\x09float\x20uvOffset\x20=\x20uvStart\x20+\x20i\x20*\x20uvStride;\x0a\x09\x09#ifdef\x20HORIZONTAL_PASS\x0a\x09\x09\x09vec2\x20distribution\x20=\x20unpackRGBATo2Half(\x20texture2D(\x20shadow_pass,\x20(\x20gl_FragCoord.xy\x20+\x20vec2(\x20uvOffset,\x200.0\x20)\x20*\x20radius\x20)\x20/\x20resolution\x20)\x20);\x0a\x09\x09\x09mean\x20+=\x20distribution.x;\x0a\x09\x09\x09squared_mean\x20+=\x20distribution.y\x20*\x20distribution.y\x20+\x20distribution.x\x20*\x20distribution.x;\x0a\x09\x09#else\x0a\x09\x09\x09float\x20depth\x20=\x20unpackRGBAToDepth(\x20texture2D(\x20shadow_pass,\x20(\x20gl_FragCoord.xy\x20+\x20vec2(\x200.0,\x20uvOffset\x20)\x20*\x20radius\x20)\x20/\x20resolution\x20)\x20);\x0a\x09\x09\x09mean\x20+=\x20depth;\x0a\x09\x09\x09squared_mean\x20+=\x20depth\x20*\x20depth;\x0a\x09\x09#endif\x0a\x09}\x0a\x09mean\x20=\x20mean\x20/\x20samples;\x0a\x09squared_mean\x20=\x20squared_mean\x20/\x20samples;\x0a\x09float\x20std_dev\x20=\x20sqrt(\x20squared_mean\x20-\x20mean\x20*\x20mean\x20);\x0a\x09gl_FragColor\x20=\x20pack2HalfToRGBA(\x20vec2(\x20mean,\x20std_dev\x20)\x20);\x0a}'}),_0xe72bed=_0x53ca5e['clone']();_0xe72bed['defines']['HORIZONTAL_PASS']=0x1;const _0x55eaec=new _0x3e8626['LoY']();_0x55eaec['setAttribute']('position',new _0x3e8626['THS'](new Float32Array([-0x1,-0x1,0.5,0x3,-0x1,0.5,-0x1,0x3,0.5]),0x3));const _0x127120=new _0x3e8626['eaF'](_0x55eaec,_0x53ca5e),_0x4a74c8=this;this['enabled']=!0x1,this['autoUpdate']=!0x0,this['needsUpdate']=!0x1,this['type']=_0x3e8626['QP0'];let _0x442d1f=this['type'];function _0x37d67d(_0x60a023,_0xc40145){const _0x423f1b=_0x583c3d['update'](_0x127120);_0x53ca5e['defines']['VSM_SAMPLES']!==_0x60a023['blurSamples']&&(_0x53ca5e['defines']['VSM_SAMPLES']=_0x60a023['blurSamples'],_0xe72bed['defines']['VSM_SAMPLES']=_0x60a023['blurSamples'],_0x53ca5e['needsUpdate']=!0x0,_0xe72bed['needsUpdate']=!0x0),null===_0x60a023['mapPass']&&(_0x60a023['mapPass']=new _0x3e8626['nWS'](_0x480f03['x'],_0x480f03['y'])),_0x53ca5e['uniforms']['shadow_pass']['value']=_0x60a023['map']['texture'],_0x53ca5e['uniforms']['resolution']['value']=_0x60a023['mapSize'],_0x53ca5e['uniforms']['radius']['value']=_0x60a023['radius'],_0x22a36a['setRenderTarget'](_0x60a023['mapPass']),_0x22a36a['clear'](),_0x22a36a['renderBufferDirect'](_0xc40145,null,_0x423f1b,_0x53ca5e,_0x127120,null),_0xe72bed['uniforms']['shadow_pass']['value']=_0x60a023['mapPass']['texture'],_0xe72bed['uniforms']['resolution']['value']=_0x60a023['mapSize'],_0xe72bed['uniforms']['radius']['value']=_0x60a023['radius'],_0x22a36a['setRenderTarget'](_0x60a023['map']),_0x22a36a['clear'](),_0x22a36a['renderBufferDirect'](_0xc40145,null,_0x423f1b,_0xe72bed,_0x127120,null);}function _0x5a4fde(_0x186375,_0xfe201a,_0x3addcb,_0x146fb7){let _0x53df29=null;const _0x48011b=!0x0===_0x3addcb['isPointLight']?_0x186375['customDistanceMaterial']:_0x186375['customDepthMaterial'];if(void 0x0!==_0x48011b)_0x53df29=_0x48011b;else{if(_0x53df29=!0x0===_0x3addcb['isPointLight']?_0xa108a1:_0x349090,_0x22a36a['localClippingEnabled']&&!0x0===_0xfe201a['clipShadows']&&Array['isArray'](_0xfe201a['clippingPlanes'])&&0x0!==_0xfe201a['clippingPlanes']['length']||_0xfe201a['displacementMap']&&0x0!==_0xfe201a['displacementScale']||_0xfe201a['alphaMap']&&_0xfe201a['alphaTest']>0x0||_0xfe201a['map']&&_0xfe201a['alphaTest']>0x0){const _0x2323eb=_0x53df29['uuid'],_0x3fe0ea=_0xfe201a['uuid'];let _0x37a03e=_0x480cb6[_0x2323eb];void 0x0===_0x37a03e&&(_0x37a03e={},_0x480cb6[_0x2323eb]=_0x37a03e);let _0x524e14=_0x37a03e[_0x3fe0ea];void 0x0===_0x524e14&&(_0x524e14=_0x53df29['clone'](),_0x37a03e[_0x3fe0ea]=_0x524e14,_0xfe201a['addEventListener']('dispose',_0x371f51)),_0x53df29=_0x524e14;}}return(_0x53df29['visible']=_0xfe201a['visible'],_0x53df29['wireframe']=_0xfe201a['wireframe'],_0x146fb7===_0x3e8626['RyA']?_0x53df29['side']=null!==_0xfe201a['shadowSide']?_0xfe201a['shadowSide']:_0xfe201a['side']:_0x53df29['side']=null!==_0xfe201a['shadowSide']?_0xfe201a['shadowSide']:_0x15a38c[_0xfe201a['side']],_0x53df29['alphaMap']=_0xfe201a['alphaMap'],_0x53df29['alphaTest']=_0xfe201a['alphaTest'],_0x53df29['map']=_0xfe201a['map'],_0x53df29['clipShadows']=_0xfe201a['clipShadows'],_0x53df29['clippingPlanes']=_0xfe201a['clippingPlanes'],_0x53df29['clipIntersection']=_0xfe201a['clipIntersection'],_0x53df29['displacementMap']=_0xfe201a['displacementMap'],_0x53df29['displacementScale']=_0xfe201a['displacementScale'],_0x53df29['displacementBias']=_0xfe201a['displacementBias'],_0x53df29['wireframeLinewidth']=_0xfe201a['wireframeLinewidth'],_0x53df29['linewidth']=_0xfe201a['linewidth'],!0x0===_0x3addcb['isPointLight']&&!0x0===_0x53df29['isMeshDistanceMaterial'])&&(_0x22a36a['properties']['get'](_0x53df29)['light']=_0x3addcb),_0x53df29;}function _0x5ac291(_0x1f98c2,_0x5efeaa,_0x558a9a,_0x490814,_0xcb8f0){if(!0x1===_0x1f98c2['visible'])return;if(_0x1f98c2['layers']['test'](_0x5efeaa['layers'])&&(_0x1f98c2['isMesh']||_0x1f98c2['isLine']||_0x1f98c2['isPoints'])&&(_0x1f98c2['castShadow']||_0x1f98c2['receiveShadow']&&_0xcb8f0===_0x3e8626['RyA'])&&(!_0x1f98c2['frustumCulled']||_0x27d6eb['intersectsObject'](_0x1f98c2))){_0x1f98c2['modelViewMatrix']['multiplyMatrices'](_0x558a9a['matrixWorldInverse'],_0x1f98c2['matrixWorld']);const _0x2563a6=_0x583c3d['update'](_0x1f98c2),_0x12d0c0=_0x1f98c2['material'];if(Array['isArray'](_0x12d0c0)){const _0x1fd104=_0x2563a6['groups'];for(let _0x13949e=0x0,_0x36f2c6=_0x1fd104['length'];_0x13949e<_0x36f2c6;_0x13949e++){const _0xbf2fe3=_0x1fd104[_0x13949e],_0x18c377=_0x12d0c0[_0xbf2fe3['materialIndex']];if(_0x18c377&&_0x18c377['visible']){const _0x1f9c78=_0x5a4fde(_0x1f98c2,_0x18c377,_0x490814,_0xcb8f0);_0x1f98c2['onBeforeShadow'](_0x22a36a,_0x1f98c2,_0x5efeaa,_0x558a9a,_0x2563a6,_0x1f9c78,_0xbf2fe3),_0x22a36a['renderBufferDirect'](_0x558a9a,null,_0x2563a6,_0x1f9c78,_0x1f98c2,_0xbf2fe3),_0x1f98c2['onAfterShadow'](_0x22a36a,_0x1f98c2,_0x5efeaa,_0x558a9a,_0x2563a6,_0x1f9c78,_0xbf2fe3);}}}else{if(_0x12d0c0['visible']){const _0x2f7256=_0x5a4fde(_0x1f98c2,_0x12d0c0,_0x490814,_0xcb8f0);_0x1f98c2['onBeforeShadow'](_0x22a36a,_0x1f98c2,_0x5efeaa,_0x558a9a,_0x2563a6,_0x2f7256,null),_0x22a36a['renderBufferDirect'](_0x558a9a,null,_0x2563a6,_0x2f7256,_0x1f98c2,null),_0x1f98c2['onAfterShadow'](_0x22a36a,_0x1f98c2,_0x5efeaa,_0x558a9a,_0x2563a6,_0x2f7256,null);}}}const _0xe461b9=_0x1f98c2['children'];for(let _0x145333=0x0,_0x3d87d9=_0xe461b9['length'];_0x145333<_0x3d87d9;_0x145333++)_0x5ac291(_0xe461b9[_0x145333],_0x5efeaa,_0x558a9a,_0x490814,_0xcb8f0);}function _0x371f51(_0x36a548){_0x36a548['target']['removeEventListener']('dispose',_0x371f51);for(const _0x3c55a0 in _0x480cb6){const _0x3eb52a=_0x480cb6[_0x3c55a0],_0x1bcf09=_0x36a548['target']['uuid'];_0x1bcf09 in _0x3eb52a&&(_0x3eb52a[_0x1bcf09]['dispose'](),delete _0x3eb52a[_0x1bcf09]);}}this['render']=function(_0x1781da,_0x3cf77f,_0x6c5d00){if(!0x1===_0x4a74c8['enabled'])return;if(!0x1===_0x4a74c8['autoUpdate']&&!0x1===_0x4a74c8['needsUpdate'])return;if(0x0===_0x1781da['length'])return;const _0xd1d4ff=_0x22a36a['getRenderTarget'](),_0x115297=_0x22a36a['getActiveCubeFace'](),_0x2791d3=_0x22a36a['getActiveMipmapLevel'](),_0x2bdd29=_0x22a36a['state'];_0x2bdd29['setBlending'](_0x3e8626['XIg']),_0x2bdd29['buffers']['color']['setClear'](0x1,0x1,0x1,0x1),_0x2bdd29['buffers']['depth']['setTest'](!0x0),_0x2bdd29['setScissorTest'](!0x1);const _0x14899b=_0x442d1f!==_0x3e8626['RyA']&&this['type']===_0x3e8626['RyA'],_0x46f7e2=_0x442d1f===_0x3e8626['RyA']&&this['type']!==_0x3e8626['RyA'];for(let _0x4d7895=0x0,_0x133d70=_0x1781da['length'];_0x4d7895<_0x133d70;_0x4d7895++){const _0x5a460c=_0x1781da[_0x4d7895],_0xa67501=_0x5a460c['shadow'];if(void 0x0===_0xa67501){console['warn']('THREE.WebGLShadowMap:',_0x5a460c,'has\x20no\x20shadow.');continue;}if(!0x1===_0xa67501['autoUpdate']&&!0x1===_0xa67501['needsUpdate'])continue;_0x480f03['copy'](_0xa67501['mapSize']);const _0x4c8372=_0xa67501['getFrameExtents']();if(_0x480f03['multiply'](_0x4c8372),_0x2690d6['copy'](_0xa67501['mapSize']),(_0x480f03['x']>_0x1cbb76||_0x480f03['y']>_0x1cbb76)&&(_0x480f03['x']>_0x1cbb76&&(_0x2690d6['x']=Math['floor'](_0x1cbb76/_0x4c8372['x']),_0x480f03['x']=_0x2690d6['x']*_0x4c8372['x'],_0xa67501['mapSize']['x']=_0x2690d6['x']),_0x480f03['y']>_0x1cbb76&&(_0x2690d6['y']=Math['floor'](_0x1cbb76/_0x4c8372['y']),_0x480f03['y']=_0x2690d6['y']*_0x4c8372['y'],_0xa67501['mapSize']['y']=_0x2690d6['y'])),null===_0xa67501['map']||!0x0===_0x14899b||!0x0===_0x46f7e2){const _0x1018a2=this['type']!==_0x3e8626['RyA']?{'minFilter':_0x3e8626['hxR'],'magFilter':_0x3e8626['hxR']}:{};null!==_0xa67501['map']&&_0xa67501['map']['dispose'](),_0xa67501['map']=new _0x3e8626['nWS'](_0x480f03['x'],_0x480f03['y'],_0x1018a2),_0xa67501['map']['texture']['name']=_0x5a460c['name']+'.shadowMap',_0xa67501['camera']['updateProjectionMatrix']();}_0x22a36a['setRenderTarget'](_0xa67501['map']),_0x22a36a['clear']();const _0x53c138=_0xa67501['getViewportCount']();for(let _0x34c2ab=0x0;_0x34c2ab<_0x53c138;_0x34c2ab++){const _0x133237=_0xa67501['getViewport'](_0x34c2ab);_0x24ac4f['set'](_0x2690d6['x']*_0x133237['x'],_0x2690d6['y']*_0x133237['y'],_0x2690d6['x']*_0x133237['z'],_0x2690d6['y']*_0x133237['w']),_0x2bdd29['viewport'](_0x24ac4f),_0xa67501['updateMatrices'](_0x5a460c,_0x34c2ab),_0x27d6eb=_0xa67501['getFrustum'](),_0x5ac291(_0x3cf77f,_0x6c5d00,_0xa67501['camera'],_0x5a460c,this['type']);}!0x0!==_0xa67501['isPointLightShadow']&&this['type']===_0x3e8626['RyA']&&_0x37d67d(_0xa67501,_0x6c5d00),_0xa67501['needsUpdate']=!0x1;}_0x442d1f=this['type'],_0x4a74c8['needsUpdate']=!0x1,_0x22a36a['setRenderTarget'](_0xd1d4ff,_0x115297,_0x2791d3);};}const _0x20cdbe={[_0x3e8626['eHc']]:_0x3e8626['lGu'],[_0x3e8626['brA']]:_0x3e8626['K52'],[_0x3e8626['U3G']]:_0x3e8626['bw0'],[_0x3e8626['xSv']]:_0x3e8626['Gwm'],[_0x3e8626['lGu']]:_0x3e8626['eHc'],[_0x3e8626['K52']]:_0x3e8626['brA'],[_0x3e8626['bw0']]:_0x3e8626['U3G'],[_0x3e8626['Gwm']]:_0x3e8626['xSv']};function _0x101d53(_0x14b760,_0x418643){const _0x4384c7=new function(){let _0x2d90a8=!0x1;const _0x595786=new _0x3e8626['IUQ']();let _0x5039d3=null;const _0x2983da=new _0x3e8626['IUQ'](0x0,0x0,0x0,0x0);return{'setMask':function(_0xa7f1fa){_0x5039d3===_0xa7f1fa||_0x2d90a8||(_0x14b760['colorMask'](_0xa7f1fa,_0xa7f1fa,_0xa7f1fa,_0xa7f1fa),_0x5039d3=_0xa7f1fa);},'setLocked':function(_0x3371f0){_0x2d90a8=_0x3371f0;},'setClear':function(_0x5264c4,_0x4d7ecf,_0x3c36ed,_0x3bece5,_0xcf1687){!0x0===_0xcf1687&&(_0x5264c4*=_0x3bece5,_0x4d7ecf*=_0x3bece5,_0x3c36ed*=_0x3bece5),_0x595786['set'](_0x5264c4,_0x4d7ecf,_0x3c36ed,_0x3bece5),!0x1===_0x2983da['equals'](_0x595786)&&(_0x14b760['clearColor'](_0x5264c4,_0x4d7ecf,_0x3c36ed,_0x3bece5),_0x2983da['copy'](_0x595786));},'reset':function(){_0x2d90a8=!0x1,_0x5039d3=null,_0x2983da['set'](-0x1,0x0,0x0,0x0);}};}(),_0x15c714=new function(){let _0x41f944=!0x1,_0x40ff80=!0x1,_0x2c263f=null,_0x21473e=null,_0x4b0552=null;return{'setReversed':function(_0x2bb598){if(_0x40ff80!==_0x2bb598){const _0x1c4212=_0x418643['get']('EXT_clip_control');_0x40ff80?_0x1c4212['clipControlEXT'](_0x1c4212['LOWER_LEFT_EXT'],_0x1c4212['ZERO_TO_ONE_EXT']):_0x1c4212['clipControlEXT'](_0x1c4212['LOWER_LEFT_EXT'],_0x1c4212['NEGATIVE_ONE_TO_ONE_EXT']);const _0x5eaef3=_0x4b0552;_0x4b0552=null,this['setClear'](_0x5eaef3);}_0x40ff80=_0x2bb598;},'getReversed':function(){return _0x40ff80;},'setTest':function(_0x1ff02d){_0x1ff02d?_0x498589(_0x14b760['DEPTH_TEST']):_0x3a2984(_0x14b760['DEPTH_TEST']);},'setMask':function(_0x185a33){_0x2c263f===_0x185a33||_0x41f944||(_0x14b760['depthMask'](_0x185a33),_0x2c263f=_0x185a33);},'setFunc':function(_0x1e3809){if(_0x40ff80&&(_0x1e3809=_0x20cdbe[_0x1e3809]),_0x21473e!==_0x1e3809){switch(_0x1e3809){case _0x3e8626['eHc']:_0x14b760['depthFunc'](_0x14b760['NEVER']);break;case _0x3e8626['lGu']:_0x14b760['depthFunc'](_0x14b760['ALWAYS']);break;case _0x3e8626['brA']:_0x14b760['depthFunc'](_0x14b760['LESS']);break;case _0x3e8626['xSv']:_0x14b760['depthFunc'](_0x14b760['LEQUAL']);break;case _0x3e8626['U3G']:_0x14b760['depthFunc'](_0x14b760['EQUAL']);break;case _0x3e8626['Gwm']:_0x14b760['depthFunc'](_0x14b760['GEQUAL']);break;case _0x3e8626['K52']:_0x14b760['depthFunc'](_0x14b760['GREATER']);break;case _0x3e8626['bw0']:_0x14b760['depthFunc'](_0x14b760['NOTEQUAL']);break;default:_0x14b760['depthFunc'](_0x14b760['LEQUAL']);}_0x21473e=_0x1e3809;}},'setLocked':function(_0x5e5e91){_0x41f944=_0x5e5e91;},'setClear':function(_0x1e80ce){_0x4b0552!==_0x1e80ce&&(_0x40ff80&&(_0x1e80ce=0x1-_0x1e80ce),_0x14b760['clearDepth'](_0x1e80ce),_0x4b0552=_0x1e80ce);},'reset':function(){_0x41f944=!0x1,_0x2c263f=null,_0x21473e=null,_0x4b0552=null,_0x40ff80=!0x1;}};}(),_0xb08a52=new function(){let _0x3a2ada=!0x1,_0x3cf815=null,_0x50d0eb=null,_0x39d342=null,_0x3b120f=null,_0x3b3bb2=null,_0x28c275=null,_0x38bf85=null,_0x3735a3=null;return{'setTest':function(_0x1c457b){_0x3a2ada||(_0x1c457b?_0x498589(_0x14b760['STENCIL_TEST']):_0x3a2984(_0x14b760['STENCIL_TEST']));},'setMask':function(_0x4638b4){_0x3cf815===_0x4638b4||_0x3a2ada||(_0x14b760['stencilMask'](_0x4638b4),_0x3cf815=_0x4638b4);},'setFunc':function(_0x5d01a8,_0x3c68f5,_0x4edbe2){_0x50d0eb===_0x5d01a8&&_0x39d342===_0x3c68f5&&_0x3b120f===_0x4edbe2||(_0x14b760['stencilFunc'](_0x5d01a8,_0x3c68f5,_0x4edbe2),_0x50d0eb=_0x5d01a8,_0x39d342=_0x3c68f5,_0x3b120f=_0x4edbe2);},'setOp':function(_0x42d386,_0xea114,_0x31b01b){_0x3b3bb2===_0x42d386&&_0x28c275===_0xea114&&_0x38bf85===_0x31b01b||(_0x14b760['stencilOp'](_0x42d386,_0xea114,_0x31b01b),_0x3b3bb2=_0x42d386,_0x28c275=_0xea114,_0x38bf85=_0x31b01b);},'setLocked':function(_0x211223){_0x3a2ada=_0x211223;},'setClear':function(_0x1050c5){_0x3735a3!==_0x1050c5&&(_0x14b760['clearStencil'](_0x1050c5),_0x3735a3=_0x1050c5);},'reset':function(){_0x3a2ada=!0x1,_0x3cf815=null,_0x50d0eb=null,_0x39d342=null,_0x3b120f=null,_0x3b3bb2=null,_0x28c275=null,_0x38bf85=null,_0x3735a3=null;}};}(),_0x1ab677=new WeakMap(),_0x5b23a8=new WeakMap();let _0x4ce0f5={},_0x1bddfe={},_0x4ed4b3=new WeakMap(),_0x3c6f74=[],_0x3d2276=null,_0x2ac931=!0x1,_0x524c90=null,_0x3da2b8=null,_0x4aee87=null,_0x3183e4=null,_0x1591fb=null,_0x2d9536=null,_0x35e376=null,_0x21998f=new _0x3e8626['Q1f'](0x0,0x0,0x0),_0x300294=0x0,_0x27aad8=!0x1,_0xb4b00f=null,_0x50b538=null,_0x55f9d7=null,_0x40e0a9=null,_0x2921fb=null;const _0x357e4a=_0x14b760['getParameter'](_0x14b760['MAX_COMBINED_TEXTURE_IMAGE_UNITS']);let _0x4da97c=!0x1,_0x5b6fd5=0x0;const _0x56ec2c=_0x14b760['getParameter'](_0x14b760['VERSION']);-0x1!==_0x56ec2c['indexOf']('WebGL')?(_0x5b6fd5=parseFloat(/^WebGL (\d)/['exec'](_0x56ec2c)[0x1]),_0x4da97c=_0x5b6fd5>=0x1):-0x1!==_0x56ec2c['indexOf']('OpenGL\x20ES')&&(_0x5b6fd5=parseFloat(/^OpenGL ES (\d)/['exec'](_0x56ec2c)[0x1]),_0x4da97c=_0x5b6fd5>=0x2);let _0x4ba2d6=null,_0x3e6e1c={};const _0x161092=_0x14b760['getParameter'](_0x14b760['SCISSOR_BOX']),_0x11e281=_0x14b760['getParameter'](_0x14b760['VIEWPORT']),_0x25c893=new _0x3e8626['IUQ']()['fromArray'](_0x161092),_0x444fd1=new _0x3e8626['IUQ']()['fromArray'](_0x11e281);function _0x1c9330(_0x527b66,_0x44c10a,_0x56f376,_0x2fcb27){const _0x1c4fd3=new Uint8Array(0x4),_0x46c276=_0x14b760['createTexture']();_0x14b760['bindTexture'](_0x527b66,_0x46c276),_0x14b760['texParameteri'](_0x527b66,_0x14b760['TEXTURE_MIN_FILTER'],_0x14b760['NEAREST']),_0x14b760['texParameteri'](_0x527b66,_0x14b760['TEXTURE_MAG_FILTER'],_0x14b760['NEAREST']);for(let _0x4ff86e=0x0;_0x4ff86e<_0x56f376;_0x4ff86e++)_0x527b66===_0x14b760['TEXTURE_3D']||_0x527b66===_0x14b760['TEXTURE_2D_ARRAY']?_0x14b760['texImage3D'](_0x44c10a,0x0,_0x14b760['RGBA'],0x1,0x1,_0x2fcb27,0x0,_0x14b760['RGBA'],_0x14b760['UNSIGNED_BYTE'],_0x1c4fd3):_0x14b760['texImage2D'](_0x44c10a+_0x4ff86e,0x0,_0x14b760['RGBA'],0x1,0x1,0x0,_0x14b760['RGBA'],_0x14b760['UNSIGNED_BYTE'],_0x1c4fd3);return _0x46c276;}const _0x4ba074={};function _0x498589(_0x3287cb){!0x0!==_0x4ce0f5[_0x3287cb]&&(_0x14b760['enable'](_0x3287cb),_0x4ce0f5[_0x3287cb]=!0x0);}function _0x3a2984(_0x24420f){!0x1!==_0x4ce0f5[_0x24420f]&&(_0x14b760['disable'](_0x24420f),_0x4ce0f5[_0x24420f]=!0x1);}_0x4ba074[_0x14b760['TEXTURE_2D']]=_0x1c9330(_0x14b760['TEXTURE_2D'],_0x14b760['TEXTURE_2D'],0x1),_0x4ba074[_0x14b760['TEXTURE_CUBE_MAP']]=_0x1c9330(_0x14b760['TEXTURE_CUBE_MAP'],_0x14b760['TEXTURE_CUBE_MAP_POSITIVE_X'],0x6),_0x4ba074[_0x14b760['TEXTURE_2D_ARRAY']]=_0x1c9330(_0x14b760['TEXTURE_2D_ARRAY'],_0x14b760['TEXTURE_2D_ARRAY'],0x1,0x1),_0x4ba074[_0x14b760['TEXTURE_3D']]=_0x1c9330(_0x14b760['TEXTURE_3D'],_0x14b760['TEXTURE_3D'],0x1,0x1),_0x4384c7['setClear'](0x0,0x0,0x0,0x1),_0x15c714['setClear'](0x1),_0xb08a52['setClear'](0x0),_0x498589(_0x14b760['DEPTH_TEST']),_0x15c714['setFunc'](_0x3e8626['xSv']),_0x5b25ff(!0x1),_0x173162(_0x3e8626['Vb5']),_0x498589(_0x14b760['CULL_FACE']),_0x293525(_0x3e8626['XIg']);const _0x1c52ca={[_0x3e8626['gO9']]:_0x14b760['FUNC_ADD'],[_0x3e8626['FXf']]:_0x14b760['FUNC_SUBTRACT'],[_0x3e8626['nST']]:_0x14b760['FUNC_REVERSE_SUBTRACT']};_0x1c52ca[_0x3e8626['znC']]=_0x14b760['MIN'],_0x1c52ca[_0x3e8626['$ei']]=_0x14b760['MAX'];const _0x5641ae={[_0x3e8626['ojh']]:_0x14b760['ZERO'],[_0x3e8626['qad']]:_0x14b760['ONE'],[_0x3e8626['f4X']]:_0x14b760['SRC_COLOR'],[_0x3e8626['ie2']]:_0x14b760['SRC_ALPHA'],[_0x3e8626['hgQ']]:_0x14b760['SRC_ALPHA_SATURATE'],[_0x3e8626['wn6']]:_0x14b760['DST_COLOR'],[_0x3e8626['hdd']]:_0x14b760['DST_ALPHA'],[_0x3e8626['LiQ']]:_0x14b760['ONE_MINUS_SRC_COLOR'],[_0x3e8626['OuU']]:_0x14b760['ONE_MINUS_SRC_ALPHA'],[_0x3e8626['aEY']]:_0x14b760['ONE_MINUS_DST_COLOR'],[_0x3e8626['Nt7']]:_0x14b760['ONE_MINUS_DST_ALPHA'],[_0x3e8626['RrE']]:_0x14b760['CONSTANT_COLOR'],[_0x3e8626['$Yl']]:_0x14b760['ONE_MINUS_CONSTANT_COLOR'],[_0x3e8626['e0p']]:_0x14b760['CONSTANT_ALPHA'],[_0x3e8626['ov9']]:_0x14b760['ONE_MINUS_CONSTANT_ALPHA']};function _0x293525(_0x4d063c,_0x26eddf,_0x2e0753,_0x161fa7,_0x1640ae,_0x76d330,_0x21e6b4,_0x433048,_0x322709,_0x10b697){if(_0x4d063c!==_0x3e8626['XIg']){if(!0x1===_0x2ac931&&(_0x498589(_0x14b760['BLEND']),_0x2ac931=!0x0),_0x4d063c===_0x3e8626['bCz'])_0x1640ae=_0x1640ae||_0x26eddf,_0x76d330=_0x76d330||_0x2e0753,_0x21e6b4=_0x21e6b4||_0x161fa7,_0x26eddf===_0x3da2b8&&_0x1640ae===_0x1591fb||(_0x14b760['blendEquationSeparate'](_0x1c52ca[_0x26eddf],_0x1c52ca[_0x1640ae]),_0x3da2b8=_0x26eddf,_0x1591fb=_0x1640ae),_0x2e0753===_0x4aee87&&_0x161fa7===_0x3183e4&&_0x76d330===_0x2d9536&&_0x21e6b4===_0x35e376||(_0x14b760['blendFuncSeparate'](_0x5641ae[_0x2e0753],_0x5641ae[_0x161fa7],_0x5641ae[_0x76d330],_0x5641ae[_0x21e6b4]),_0x4aee87=_0x2e0753,_0x3183e4=_0x161fa7,_0x2d9536=_0x76d330,_0x35e376=_0x21e6b4),!0x1!==_0x433048['equals'](_0x21998f)&&_0x322709===_0x300294||(_0x14b760['blendColor'](_0x433048['r'],_0x433048['g'],_0x433048['b'],_0x322709),_0x21998f['copy'](_0x433048),_0x300294=_0x322709),_0x524c90=_0x4d063c,_0x27aad8=!0x1;else{if(_0x4d063c!==_0x524c90||_0x10b697!==_0x27aad8){if(_0x3da2b8===_0x3e8626['gO9']&&_0x1591fb===_0x3e8626['gO9']||(_0x14b760['blendEquation'](_0x14b760['FUNC_ADD']),_0x3da2b8=_0x3e8626['gO9'],_0x1591fb=_0x3e8626['gO9']),_0x10b697)switch(_0x4d063c){case _0x3e8626['NTi']:_0x14b760['blendFuncSeparate'](_0x14b760['ONE'],_0x14b760['ONE_MINUS_SRC_ALPHA'],_0x14b760['ONE'],_0x14b760['ONE_MINUS_SRC_ALPHA']);break;case _0x3e8626['EZo']:_0x14b760['blendFunc'](_0x14b760['ONE'],_0x14b760['ONE']);break;case _0x3e8626['Kwu']:_0x14b760['blendFuncSeparate'](_0x14b760['ZERO'],_0x14b760['ONE_MINUS_SRC_COLOR'],_0x14b760['ZERO'],_0x14b760['ONE']);break;case _0x3e8626['EdD']:_0x14b760['blendFuncSeparate'](_0x14b760['ZERO'],_0x14b760['SRC_COLOR'],_0x14b760['ZERO'],_0x14b760['SRC_ALPHA']);break;default:console['error']('THREE.WebGLState:\x20Invalid\x20blending:\x20',_0x4d063c);}else switch(_0x4d063c){case _0x3e8626['NTi']:_0x14b760['blendFuncSeparate'](_0x14b760['SRC_ALPHA'],_0x14b760['ONE_MINUS_SRC_ALPHA'],_0x14b760['ONE'],_0x14b760['ONE_MINUS_SRC_ALPHA']);break;case _0x3e8626['EZo']:_0x14b760['blendFunc'](_0x14b760['SRC_ALPHA'],_0x14b760['ONE']);break;case _0x3e8626['Kwu']:_0x14b760['blendFuncSeparate'](_0x14b760['ZERO'],_0x14b760['ONE_MINUS_SRC_COLOR'],_0x14b760['ZERO'],_0x14b760['ONE']);break;case _0x3e8626['EdD']:_0x14b760['blendFunc'](_0x14b760['ZERO'],_0x14b760['SRC_COLOR']);break;default:console['error']('THREE.WebGLState:\x20Invalid\x20blending:\x20',_0x4d063c);}_0x4aee87=null,_0x3183e4=null,_0x2d9536=null,_0x35e376=null,_0x21998f['set'](0x0,0x0,0x0),_0x300294=0x0,_0x524c90=_0x4d063c,_0x27aad8=_0x10b697;}}}else!0x0===_0x2ac931&&(_0x3a2984(_0x14b760['BLEND']),_0x2ac931=!0x1);}function _0x5b25ff(_0x42c753){_0xb4b00f!==_0x42c753&&(_0x42c753?_0x14b760['frontFace'](_0x14b760['CW']):_0x14b760['frontFace'](_0x14b760['CCW']),_0xb4b00f=_0x42c753);}function _0x173162(_0x59e59d){_0x59e59d!==_0x3e8626['WNZ']?(_0x498589(_0x14b760['CULL_FACE']),_0x59e59d!==_0x50b538&&(_0x59e59d===_0x3e8626['Vb5']?_0x14b760['cullFace'](_0x14b760['BACK']):_0x59e59d===_0x3e8626['Jnc']?_0x14b760['cullFace'](_0x14b760['FRONT']):_0x14b760['cullFace'](_0x14b760['FRONT_AND_BACK']))):_0x3a2984(_0x14b760['CULL_FACE']),_0x50b538=_0x59e59d;}function _0x3fa9f0(_0xad98ef,_0x278fac,_0x4edc51){_0xad98ef?(_0x498589(_0x14b760['POLYGON_OFFSET_FILL']),_0x40e0a9===_0x278fac&&_0x2921fb===_0x4edc51||(_0x14b760['polygonOffset'](_0x278fac,_0x4edc51),_0x40e0a9=_0x278fac,_0x2921fb=_0x4edc51)):_0x3a2984(_0x14b760['POLYGON_OFFSET_FILL']);}return{'buffers':{'color':_0x4384c7,'depth':_0x15c714,'stencil':_0xb08a52},'enable':_0x498589,'disable':_0x3a2984,'bindFramebuffer':function(_0x14e316,_0x1b76ba){return _0x1bddfe[_0x14e316]!==_0x1b76ba&&(_0x14b760['bindFramebuffer'](_0x14e316,_0x1b76ba),_0x1bddfe[_0x14e316]=_0x1b76ba,_0x14e316===_0x14b760['DRAW_FRAMEBUFFER']&&(_0x1bddfe[_0x14b760['FRAMEBUFFER']]=_0x1b76ba),_0x14e316===_0x14b760['FRAMEBUFFER']&&(_0x1bddfe[_0x14b760['DRAW_FRAMEBUFFER']]=_0x1b76ba),!0x0);},'drawBuffers':function(_0x3ffafb,_0x28430f){let _0x641add=_0x3c6f74,_0x413c81=!0x1;if(_0x3ffafb){_0x641add=_0x4ed4b3['get'](_0x28430f),void 0x0===_0x641add&&(_0x641add=[],_0x4ed4b3['set'](_0x28430f,_0x641add));const _0x402c5e=_0x3ffafb['textures'];if(_0x641add['length']!==_0x402c5e['length']||_0x641add[0x0]!==_0x14b760['COLOR_ATTACHMENT0']){for(let _0x2bcacf=0x0,_0x1b9817=_0x402c5e['length'];_0x2bcacf<_0x1b9817;_0x2bcacf++)_0x641add[_0x2bcacf]=_0x14b760['COLOR_ATTACHMENT0']+_0x2bcacf;_0x641add['length']=_0x402c5e['length'],_0x413c81=!0x0;}}else _0x641add[0x0]!==_0x14b760['BACK']&&(_0x641add[0x0]=_0x14b760['BACK'],_0x413c81=!0x0);_0x413c81&&_0x14b760['drawBuffers'](_0x641add);},'useProgram':function(_0x54b597){return _0x3d2276!==_0x54b597&&(_0x14b760['useProgram'](_0x54b597),_0x3d2276=_0x54b597,!0x0);},'setBlending':_0x293525,'setMaterial':function(_0x2cc46e,_0x4345e0){_0x2cc46e['side']===_0x3e8626['$EB']?_0x3a2984(_0x14b760['CULL_FACE']):_0x498589(_0x14b760['CULL_FACE']);let _0x40e39b=_0x2cc46e['side']===_0x3e8626['hsX'];_0x4345e0&&(_0x40e39b=!_0x40e39b),_0x5b25ff(_0x40e39b),_0x2cc46e['blending']===_0x3e8626['NTi']&&!0x1===_0x2cc46e['transparent']?_0x293525(_0x3e8626['XIg']):_0x293525(_0x2cc46e['blending'],_0x2cc46e['blendEquation'],_0x2cc46e['blendSrc'],_0x2cc46e['blendDst'],_0x2cc46e['blendEquationAlpha'],_0x2cc46e['blendSrcAlpha'],_0x2cc46e['blendDstAlpha'],_0x2cc46e['blendColor'],_0x2cc46e['blendAlpha'],_0x2cc46e['premultipliedAlpha']),_0x15c714['setFunc'](_0x2cc46e['depthFunc']),_0x15c714['setTest'](_0x2cc46e['depthTest']),_0x15c714['setMask'](_0x2cc46e['depthWrite']),_0x4384c7['setMask'](_0x2cc46e['colorWrite']);const _0x149db1=_0x2cc46e['stencilWrite'];_0xb08a52['setTest'](_0x149db1),_0x149db1&&(_0xb08a52['setMask'](_0x2cc46e['stencilWriteMask']),_0xb08a52['setFunc'](_0x2cc46e['stencilFunc'],_0x2cc46e['stencilRef'],_0x2cc46e['stencilFuncMask']),_0xb08a52['setOp'](_0x2cc46e['stencilFail'],_0x2cc46e['stencilZFail'],_0x2cc46e['stencilZPass'])),_0x3fa9f0(_0x2cc46e['polygonOffset'],_0x2cc46e['polygonOffsetFactor'],_0x2cc46e['polygonOffsetUnits']),!0x0===_0x2cc46e['alphaToCoverage']?_0x498589(_0x14b760['SAMPLE_ALPHA_TO_COVERAGE']):_0x3a2984(_0x14b760['SAMPLE_ALPHA_TO_COVERAGE']);},'setFlipSided':_0x5b25ff,'setCullFace':_0x173162,'setLineWidth':function(_0x201751){_0x201751!==_0x55f9d7&&(_0x4da97c&&_0x14b760['lineWidth'](_0x201751),_0x55f9d7=_0x201751);},'setPolygonOffset':_0x3fa9f0,'setScissorTest':function(_0x3c0e75){_0x3c0e75?_0x498589(_0x14b760['SCISSOR_TEST']):_0x3a2984(_0x14b760['SCISSOR_TEST']);},'activeTexture':function(_0x44377d){void 0x0===_0x44377d&&(_0x44377d=_0x14b760['TEXTURE0']+_0x357e4a-0x1),_0x4ba2d6!==_0x44377d&&(_0x14b760['activeTexture'](_0x44377d),_0x4ba2d6=_0x44377d);},'bindTexture':function(_0x2eb238,_0x5c1cba,_0x3d65fa){void 0x0===_0x3d65fa&&(_0x3d65fa=null===_0x4ba2d6?_0x14b760['TEXTURE0']+_0x357e4a-0x1:_0x4ba2d6);let _0x34a224=_0x3e6e1c[_0x3d65fa];void 0x0===_0x34a224&&(_0x34a224={'type':void 0x0,'texture':void 0x0},_0x3e6e1c[_0x3d65fa]=_0x34a224),_0x34a224['type']===_0x2eb238&&_0x34a224['texture']===_0x5c1cba||(_0x4ba2d6!==_0x3d65fa&&(_0x14b760['activeTexture'](_0x3d65fa),_0x4ba2d6=_0x3d65fa),_0x14b760['bindTexture'](_0x2eb238,_0x5c1cba||_0x4ba074[_0x2eb238]),_0x34a224['type']=_0x2eb238,_0x34a224['texture']=_0x5c1cba);},'unbindTexture':function(){const _0x2974bb=_0x3e6e1c[_0x4ba2d6];void 0x0!==_0x2974bb&&void 0x0!==_0x2974bb['type']&&(_0x14b760['bindTexture'](_0x2974bb['type'],null),_0x2974bb['type']=void 0x0,_0x2974bb['texture']=void 0x0);},'compressedTexImage2D':function(){try{_0x14b760['compressedTexImage2D']['apply'](_0x14b760,arguments);}catch(_0x5cf222){console['error']('THREE.WebGLState:',_0x5cf222);}},'compressedTexImage3D':function(){try{_0x14b760['compressedTexImage3D']['apply'](_0x14b760,arguments);}catch(_0x40b3c2){console['error']('THREE.WebGLState:',_0x40b3c2);}},'texImage2D':function(){try{_0x14b760['texImage2D']['apply'](_0x14b760,arguments);}catch(_0x369e12){console['error']('THREE.WebGLState:',_0x369e12);}},'texImage3D':function(){try{_0x14b760['texImage3D']['apply'](_0x14b760,arguments);}catch(_0xb77b27){console['error']('THREE.WebGLState:',_0xb77b27);}},'updateUBOMapping':function(_0x4db2b4,_0x1bb27b){let _0x2836a7=_0x5b23a8['get'](_0x1bb27b);void 0x0===_0x2836a7&&(_0x2836a7=new WeakMap(),_0x5b23a8['set'](_0x1bb27b,_0x2836a7));let _0x2abe41=_0x2836a7['get'](_0x4db2b4);void 0x0===_0x2abe41&&(_0x2abe41=_0x14b760['getUniformBlockIndex'](_0x1bb27b,_0x4db2b4['name']),_0x2836a7['set'](_0x4db2b4,_0x2abe41));},'uniformBlockBinding':function(_0x1e9367,_0x401a67){const _0x201309=_0x5b23a8['get'](_0x401a67)['get'](_0x1e9367);_0x1ab677['get'](_0x401a67)!==_0x201309&&(_0x14b760['uniformBlockBinding'](_0x401a67,_0x201309,_0x1e9367['__bindingPointIndex']),_0x1ab677['set'](_0x401a67,_0x201309));},'texStorage2D':function(){try{_0x14b760['texStorage2D']['apply'](_0x14b760,arguments);}catch(_0x5f46ca){console['error']('THREE.WebGLState:',_0x5f46ca);}},'texStorage3D':function(){try{_0x14b760['texStorage3D']['apply'](_0x14b760,arguments);}catch(_0x226569){console['error']('THREE.WebGLState:',_0x226569);}},'texSubImage2D':function(){try{_0x14b760['texSubImage2D']['apply'](_0x14b760,arguments);}catch(_0x1298a8){console['error']('THREE.WebGLState:',_0x1298a8);}},'texSubImage3D':function(){try{_0x14b760['texSubImage3D']['apply'](_0x14b760,arguments);}catch(_0x220bb3){console['error']('THREE.WebGLState:',_0x220bb3);}},'compressedTexSubImage2D':function(){try{_0x14b760['compressedTexSubImage2D']['apply'](_0x14b760,arguments);}catch(_0x5b8a5f){console['error']('THREE.WebGLState:',_0x5b8a5f);}},'compressedTexSubImage3D':function(){try{_0x14b760['compressedTexSubImage3D']['apply'](_0x14b760,arguments);}catch(_0x3af1e5){console['error']('THREE.WebGLState:',_0x3af1e5);}},'scissor':function(_0x2f44d0){!0x1===_0x25c893['equals'](_0x2f44d0)&&(_0x14b760['scissor'](_0x2f44d0['x'],_0x2f44d0['y'],_0x2f44d0['z'],_0x2f44d0['w']),_0x25c893['copy'](_0x2f44d0));},'viewport':function(_0x557ce4){!0x1===_0x444fd1['equals'](_0x557ce4)&&(_0x14b760['viewport'](_0x557ce4['x'],_0x557ce4['y'],_0x557ce4['z'],_0x557ce4['w']),_0x444fd1['copy'](_0x557ce4));},'reset':function(){_0x14b760['disable'](_0x14b760['BLEND']),_0x14b760['disable'](_0x14b760['CULL_FACE']),_0x14b760['disable'](_0x14b760['DEPTH_TEST']),_0x14b760['disable'](_0x14b760['POLYGON_OFFSET_FILL']),_0x14b760['disable'](_0x14b760['SCISSOR_TEST']),_0x14b760['disable'](_0x14b760['STENCIL_TEST']),_0x14b760['disable'](_0x14b760['SAMPLE_ALPHA_TO_COVERAGE']),_0x14b760['blendEquation'](_0x14b760['FUNC_ADD']),_0x14b760['blendFunc'](_0x14b760['ONE'],_0x14b760['ZERO']),_0x14b760['blendFuncSeparate'](_0x14b760['ONE'],_0x14b760['ZERO'],_0x14b760['ONE'],_0x14b760['ZERO']),_0x14b760['blendColor'](0x0,0x0,0x0,0x0),_0x14b760['colorMask'](!0x0,!0x0,!0x0,!0x0),_0x14b760['clearColor'](0x0,0x0,0x0,0x0),_0x14b760['depthMask'](!0x0),_0x14b760['depthFunc'](_0x14b760['LESS']),_0x15c714['setReversed'](!0x1),_0x14b760['clearDepth'](0x1),_0x14b760['stencilMask'](0xffffffff),_0x14b760['stencilFunc'](_0x14b760['ALWAYS'],0x0,0xffffffff),_0x14b760['stencilOp'](_0x14b760['KEEP'],_0x14b760['KEEP'],_0x14b760['KEEP']),_0x14b760['clearStencil'](0x0),_0x14b760['cullFace'](_0x14b760['BACK']),_0x14b760['frontFace'](_0x14b760['CCW']),_0x14b760['polygonOffset'](0x0,0x0),_0x14b760['activeTexture'](_0x14b760['TEXTURE0']),_0x14b760['bindFramebuffer'](_0x14b760['FRAMEBUFFER'],null),_0x14b760['bindFramebuffer'](_0x14b760['DRAW_FRAMEBUFFER'],null),_0x14b760['bindFramebuffer'](_0x14b760['READ_FRAMEBUFFER'],null),_0x14b760['useProgram'](null),_0x14b760['lineWidth'](0x1),_0x14b760['scissor'](0x0,0x0,_0x14b760['canvas']['width'],_0x14b760['canvas']['height']),_0x14b760['viewport'](0x0,0x0,_0x14b760['canvas']['width'],_0x14b760['canvas']['height']),_0x4ce0f5={},_0x4ba2d6=null,_0x3e6e1c={},_0x1bddfe={},_0x4ed4b3=new WeakMap(),_0x3c6f74=[],_0x3d2276=null,_0x2ac931=!0x1,_0x524c90=null,_0x3da2b8=null,_0x4aee87=null,_0x3183e4=null,_0x1591fb=null,_0x2d9536=null,_0x35e376=null,_0x21998f=new _0x3e8626['Q1f'](0x0,0x0,0x0),_0x300294=0x0,_0x27aad8=!0x1,_0xb4b00f=null,_0x50b538=null,_0x55f9d7=null,_0x40e0a9=null,_0x2921fb=null,_0x25c893['set'](0x0,0x0,_0x14b760['canvas']['width'],_0x14b760['canvas']['height']),_0x444fd1['set'](0x0,0x0,_0x14b760['canvas']['width'],_0x14b760['canvas']['height']),_0x4384c7['reset'](),_0x15c714['reset'](),_0xb08a52['reset']();}};}function _0x3fa66a(_0x51c63f,_0x93cc0b,_0x20f20e,_0x2f7c40,_0x5f80ee,_0x124d55,_0x19c066){const _0x16a151=_0x93cc0b['has']('WEBGL_multisampled_render_to_texture')?_0x93cc0b['get']('WEBGL_multisampled_render_to_texture'):null,_0x1fa7f8='undefined'!=typeof navigator&&/OculusBrowser/g['test'](navigator['userAgent']),_0x50017c=new _0x3e8626['I9Y'](),_0x28e313=new WeakMap();let _0x427156;const _0x338f47=new WeakMap();let _0x3d39ac=!0x1;try{_0x3d39ac='undefined'!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(0x1,0x1)['getContext']('2d');}catch(_0x2bc179){}function _0x29462d(_0x3a3522,_0x106738){return _0x3d39ac?new OffscreenCanvas(_0x3a3522,_0x106738):(0x0,_0x3e8626['qq$'])('canvas');}function _0x28ec68(_0xc3ecc4,_0x185853,_0x2d906f){let _0x24f7c4=0x1;const _0x30229e=_0x4f7d2a(_0xc3ecc4);if((_0x30229e['width']>_0x2d906f||_0x30229e['height']>_0x2d906f)&&(_0x24f7c4=_0x2d906f/Math['max'](_0x30229e['width'],_0x30229e['height'])),_0x24f7c4<0x1){if('undefined'!=typeof HTMLImageElement&&_0xc3ecc4 instanceof HTMLImageElement||'undefined'!=typeof HTMLCanvasElement&&_0xc3ecc4 instanceof HTMLCanvasElement||'undefined'!=typeof ImageBitmap&&_0xc3ecc4 instanceof ImageBitmap||'undefined'!=typeof VideoFrame&&_0xc3ecc4 instanceof VideoFrame){const _0xd43aa9=Math['floor'](_0x24f7c4*_0x30229e['width']),_0x1697da=Math['floor'](_0x24f7c4*_0x30229e['height']);void 0x0===_0x427156&&(_0x427156=_0x29462d(_0xd43aa9,_0x1697da));const _0x3738b0=_0x185853?_0x29462d(_0xd43aa9,_0x1697da):_0x427156;return _0x3738b0['width']=_0xd43aa9,_0x3738b0['height']=_0x1697da,(_0x3738b0['getContext']('2d')['drawImage'](_0xc3ecc4,0x0,0x0,_0xd43aa9,_0x1697da),console['warn']('THREE.WebGLRenderer:\x20Texture\x20has\x20been\x20resized\x20from\x20('+_0x30229e['width']+'x'+_0x30229e['height']+')\x20to\x20('+_0xd43aa9+'x'+_0x1697da+').'),_0x3738b0);}return'data'in _0xc3ecc4&&console['warn']('THREE.WebGLRenderer:\x20Image\x20in\x20DataTexture\x20is\x20too\x20big\x20('+_0x30229e['width']+'x'+_0x30229e['height']+').'),_0xc3ecc4;}return _0xc3ecc4;}function _0x1db554(_0x23b292){return _0x23b292['generateMipmaps'];}function _0x553106(_0x3b8d7e){_0x51c63f['generateMipmap'](_0x3b8d7e);}function _0x40680d(_0x1cd541){return _0x1cd541['isWebGLCubeRenderTarget']?_0x51c63f['TEXTURE_CUBE_MAP']:_0x1cd541['isWebGL3DRenderTarget']?_0x51c63f['TEXTURE_3D']:_0x1cd541['isWebGLArrayRenderTarget']||_0x1cd541['isCompressedArrayTexture']?_0x51c63f['TEXTURE_2D_ARRAY']:_0x51c63f['TEXTURE_2D'];}function _0x489c96(_0x41ea33,_0x338431,_0x532349,_0x3e9829,_0x1be8c7=!0x1){if(null!==_0x41ea33){if(void 0x0!==_0x51c63f[_0x41ea33])return _0x51c63f[_0x41ea33];console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20use\x20non-existing\x20WebGL\x20internal\x20format\x20\x27'+_0x41ea33+'\x27');}let _0x268fb8=_0x338431;if(_0x338431===_0x51c63f['RED']&&(_0x532349===_0x51c63f['FLOAT']&&(_0x268fb8=_0x51c63f['R32F']),_0x532349===_0x51c63f['HALF_FLOAT']&&(_0x268fb8=_0x51c63f['R16F']),_0x532349===_0x51c63f['UNSIGNED_BYTE']&&(_0x268fb8=_0x51c63f['R8'])),_0x338431===_0x51c63f['RED_INTEGER']&&(_0x532349===_0x51c63f['UNSIGNED_BYTE']&&(_0x268fb8=_0x51c63f['R8UI']),_0x532349===_0x51c63f['UNSIGNED_SHORT']&&(_0x268fb8=_0x51c63f['R16UI']),_0x532349===_0x51c63f['UNSIGNED_INT']&&(_0x268fb8=_0x51c63f['R32UI']),_0x532349===_0x51c63f['BYTE']&&(_0x268fb8=_0x51c63f['R8I']),_0x532349===_0x51c63f['SHORT']&&(_0x268fb8=_0x51c63f['R16I']),_0x532349===_0x51c63f['INT']&&(_0x268fb8=_0x51c63f['R32I'])),_0x338431===_0x51c63f['RG']&&(_0x532349===_0x51c63f['FLOAT']&&(_0x268fb8=_0x51c63f['RG32F']),_0x532349===_0x51c63f['HALF_FLOAT']&&(_0x268fb8=_0x51c63f['RG16F']),_0x532349===_0x51c63f['UNSIGNED_BYTE']&&(_0x268fb8=_0x51c63f['RG8'])),_0x338431===_0x51c63f['RG_INTEGER']&&(_0x532349===_0x51c63f['UNSIGNED_BYTE']&&(_0x268fb8=_0x51c63f['RG8UI']),_0x532349===_0x51c63f['UNSIGNED_SHORT']&&(_0x268fb8=_0x51c63f['RG16UI']),_0x532349===_0x51c63f['UNSIGNED_INT']&&(_0x268fb8=_0x51c63f['RG32UI']),_0x532349===_0x51c63f['BYTE']&&(_0x268fb8=_0x51c63f['RG8I']),_0x532349===_0x51c63f['SHORT']&&(_0x268fb8=_0x51c63f['RG16I']),_0x532349===_0x51c63f['INT']&&(_0x268fb8=_0x51c63f['RG32I'])),_0x338431===_0x51c63f['RGB_INTEGER']&&(_0x532349===_0x51c63f['UNSIGNED_BYTE']&&(_0x268fb8=_0x51c63f['RGB8UI']),_0x532349===_0x51c63f['UNSIGNED_SHORT']&&(_0x268fb8=_0x51c63f['RGB16UI']),_0x532349===_0x51c63f['UNSIGNED_INT']&&(_0x268fb8=_0x51c63f['RGB32UI']),_0x532349===_0x51c63f['BYTE']&&(_0x268fb8=_0x51c63f['RGB8I']),_0x532349===_0x51c63f['SHORT']&&(_0x268fb8=_0x51c63f['RGB16I']),_0x532349===_0x51c63f['INT']&&(_0x268fb8=_0x51c63f['RGB32I'])),_0x338431===_0x51c63f['RGBA_INTEGER']&&(_0x532349===_0x51c63f['UNSIGNED_BYTE']&&(_0x268fb8=_0x51c63f['RGBA8UI']),_0x532349===_0x51c63f['UNSIGNED_SHORT']&&(_0x268fb8=_0x51c63f['RGBA16UI']),_0x532349===_0x51c63f['UNSIGNED_INT']&&(_0x268fb8=_0x51c63f['RGBA32UI']),_0x532349===_0x51c63f['BYTE']&&(_0x268fb8=_0x51c63f['RGBA8I']),_0x532349===_0x51c63f['SHORT']&&(_0x268fb8=_0x51c63f['RGBA16I']),_0x532349===_0x51c63f['INT']&&(_0x268fb8=_0x51c63f['RGBA32I'])),_0x338431===_0x51c63f['RGB']&&_0x532349===_0x51c63f['UNSIGNED_INT_5_9_9_9_REV']&&(_0x268fb8=_0x51c63f['RGB9_E5']),_0x338431===_0x51c63f['RGBA']){const _0x46ccd4=_0x1be8c7?_0x3e8626['VxR']:_0x3e8626['ppV']['getTransfer'](_0x3e9829);_0x532349===_0x51c63f['FLOAT']&&(_0x268fb8=_0x51c63f['RGBA32F']),_0x532349===_0x51c63f['HALF_FLOAT']&&(_0x268fb8=_0x51c63f['RGBA16F']),_0x532349===_0x51c63f['UNSIGNED_BYTE']&&(_0x268fb8=_0x46ccd4===_0x3e8626['KLL']?_0x51c63f['SRGB8_ALPHA8']:_0x51c63f['RGBA8']),_0x532349===_0x51c63f['UNSIGNED_SHORT_4_4_4_4']&&(_0x268fb8=_0x51c63f['RGBA4']),_0x532349===_0x51c63f['UNSIGNED_SHORT_5_5_5_1']&&(_0x268fb8=_0x51c63f['RGB5_A1']);}return _0x268fb8!==_0x51c63f['R16F']&&_0x268fb8!==_0x51c63f['R32F']&&_0x268fb8!==_0x51c63f['RG16F']&&_0x268fb8!==_0x51c63f['RG32F']&&_0x268fb8!==_0x51c63f['RGBA16F']&&_0x268fb8!==_0x51c63f['RGBA32F']||_0x93cc0b['get']('EXT_color_buffer_float'),_0x268fb8;}function _0x2e1d38(_0x509361,_0x4fbf51){let _0x216637;return _0x509361?null===_0x4fbf51||_0x4fbf51===_0x3e8626['bkx']||_0x4fbf51===_0x3e8626['V3x']?_0x216637=_0x51c63f['DEPTH24_STENCIL8']:_0x4fbf51===_0x3e8626['RQf']?_0x216637=_0x51c63f['DEPTH32F_STENCIL8']:_0x4fbf51===_0x3e8626['cHt']&&(_0x216637=_0x51c63f['DEPTH24_STENCIL8'],console['warn']('DepthTexture:\x2016\x20bit\x20depth\x20attachment\x20is\x20not\x20supported\x20with\x20stencil.\x20Using\x2024-bit\x20attachment.')):null===_0x4fbf51||_0x4fbf51===_0x3e8626['bkx']||_0x4fbf51===_0x3e8626['V3x']?_0x216637=_0x51c63f['DEPTH_COMPONENT24']:_0x4fbf51===_0x3e8626['RQf']?_0x216637=_0x51c63f['DEPTH_COMPONENT32F']:_0x4fbf51===_0x3e8626['cHt']&&(_0x216637=_0x51c63f['DEPTH_COMPONENT16']),_0x216637;}function _0x58fd82(_0xe896cd,_0x39a2aa){return!0x0===_0x1db554(_0xe896cd)||_0xe896cd['isFramebufferTexture']&&_0xe896cd['minFilter']!==_0x3e8626['hxR']&&_0xe896cd['minFilter']!==_0x3e8626['k6q']?Math['log2'](Math['max'](_0x39a2aa['width'],_0x39a2aa['height']))+0x1:void 0x0!==_0xe896cd['mipmaps']&&_0xe896cd['mipmaps']['length']>0x0?_0xe896cd['mipmaps']['length']:_0xe896cd['isCompressedTexture']&&Array['isArray'](_0xe896cd['image'])?_0x39a2aa['mipmaps']['length']:0x1;}function _0x13a65(_0x41d9ff){const _0x575fd0=_0x41d9ff['target'];_0x575fd0['removeEventListener']('dispose',_0x13a65),function(_0x19ec1b){const _0xbad198=_0x2f7c40['get'](_0x19ec1b);if(void 0x0===_0xbad198['__webglInit'])return;const _0x245b99=_0x19ec1b['source'],_0x49e52b=_0x338f47['get'](_0x245b99);if(_0x49e52b){const _0x4edfa2=_0x49e52b[_0xbad198['__cacheKey']];_0x4edfa2['usedTimes']--,0x0===_0x4edfa2['usedTimes']&&_0x2decf0(_0x19ec1b),0x0===Object['keys'](_0x49e52b)['length']&&_0x338f47['delete'](_0x245b99);}_0x2f7c40['remove'](_0x19ec1b);}(_0x575fd0),_0x575fd0['isVideoTexture']&&_0x28e313['delete'](_0x575fd0);}function _0x3543de(_0xd4d727){const _0x5f3451=_0xd4d727['target'];_0x5f3451['removeEventListener']('dispose',_0x3543de),function(_0x21e819){const _0x980485=_0x2f7c40['get'](_0x21e819);_0x21e819['depthTexture']&&(_0x21e819['depthTexture']['dispose'](),_0x2f7c40['remove'](_0x21e819['depthTexture']));if(_0x21e819['isWebGLCubeRenderTarget'])for(let _0xd384d8=0x0;_0xd384d8<0x6;_0xd384d8++){if(Array['isArray'](_0x980485['__webglFramebuffer'][_0xd384d8])){for(let _0x6da536=0x0;_0x6da536<_0x980485['__webglFramebuffer'][_0xd384d8]['length'];_0x6da536++)_0x51c63f['deleteFramebuffer'](_0x980485['__webglFramebuffer'][_0xd384d8][_0x6da536]);}else _0x51c63f['deleteFramebuffer'](_0x980485['__webglFramebuffer'][_0xd384d8]);_0x980485['__webglDepthbuffer']&&_0x51c63f['deleteRenderbuffer'](_0x980485['__webglDepthbuffer'][_0xd384d8]);}else{if(Array['isArray'](_0x980485['__webglFramebuffer'])){for(let _0x3ef299=0x0;_0x3ef299<_0x980485['__webglFramebuffer']['length'];_0x3ef299++)_0x51c63f['deleteFramebuffer'](_0x980485['__webglFramebuffer'][_0x3ef299]);}else _0x51c63f['deleteFramebuffer'](_0x980485['__webglFramebuffer']);if(_0x980485['__webglDepthbuffer']&&_0x51c63f['deleteRenderbuffer'](_0x980485['__webglDepthbuffer']),_0x980485['__webglMultisampledFramebuffer']&&_0x51c63f['deleteFramebuffer'](_0x980485['__webglMultisampledFramebuffer']),_0x980485['__webglColorRenderbuffer']){for(let _0x2c5c9d=0x0;_0x2c5c9d<_0x980485['__webglColorRenderbuffer']['length'];_0x2c5c9d++)_0x980485['__webglColorRenderbuffer'][_0x2c5c9d]&&_0x51c63f['deleteRenderbuffer'](_0x980485['__webglColorRenderbuffer'][_0x2c5c9d]);}_0x980485['__webglDepthRenderbuffer']&&_0x51c63f['deleteRenderbuffer'](_0x980485['__webglDepthRenderbuffer']);}const _0x445d20=_0x21e819['textures'];for(let _0x5011e0=0x0,_0x58600e=_0x445d20['length'];_0x5011e0<_0x58600e;_0x5011e0++){const _0x4c0507=_0x2f7c40['get'](_0x445d20[_0x5011e0]);_0x4c0507['__webglTexture']&&(_0x51c63f['deleteTexture'](_0x4c0507['__webglTexture']),_0x19c066['memory']['textures']--),_0x2f7c40['remove'](_0x445d20[_0x5011e0]);}_0x2f7c40['remove'](_0x21e819);}(_0x5f3451);}function _0x2decf0(_0x34e2f1){const _0x21c039=_0x2f7c40['get'](_0x34e2f1);_0x51c63f['deleteTexture'](_0x21c039['__webglTexture']);const _0x1afa11=_0x34e2f1['source'];delete _0x338f47['get'](_0x1afa11)[_0x21c039['__cacheKey']],_0x19c066['memory']['textures']--;}let _0x56fdc5=0x0;function _0x1a030(_0x49d948,_0x53db49){const _0x36108f=_0x2f7c40['get'](_0x49d948);if(_0x49d948['isVideoTexture']&&function(_0x2f994c){const _0x4da59b=_0x19c066['render']['frame'];_0x28e313['get'](_0x2f994c)!==_0x4da59b&&(_0x28e313['set'](_0x2f994c,_0x4da59b),_0x2f994c['update']());}(_0x49d948),!0x1===_0x49d948['isRenderTargetTexture']&&_0x49d948['version']>0x0&&_0x36108f['__version']!==_0x49d948['version']){const _0x20eec7=_0x49d948['image'];if(null===_0x20eec7)console['warn']('THREE.WebGLRenderer:\x20Texture\x20marked\x20for\x20update\x20but\x20no\x20image\x20data\x20found.');else{if(!0x1!==_0x20eec7['complete'])return void _0x384901(_0x36108f,_0x49d948,_0x53db49);console['warn']('THREE.WebGLRenderer:\x20Texture\x20marked\x20for\x20update\x20but\x20image\x20is\x20incomplete');}}_0x20f20e['bindTexture'](_0x51c63f['TEXTURE_2D'],_0x36108f['__webglTexture'],_0x51c63f['TEXTURE0']+_0x53db49);}const _0x554b17={[_0x3e8626['GJx']]:_0x51c63f['REPEAT'],[_0x3e8626['ghU']]:_0x51c63f['CLAMP_TO_EDGE'],[_0x3e8626['kTW']]:_0x51c63f['MIRRORED_REPEAT']},_0xd855e6={[_0x3e8626['hxR']]:_0x51c63f['NEAREST'],[_0x3e8626['pHI']]:_0x51c63f['NEAREST_MIPMAP_NEAREST'],[_0x3e8626['Cfg']]:_0x51c63f['NEAREST_MIPMAP_LINEAR'],[_0x3e8626['k6q']]:_0x51c63f['LINEAR'],[_0x3e8626['kRr']]:_0x51c63f['LINEAR_MIPMAP_NEAREST'],[_0x3e8626['$_I']]:_0x51c63f['LINEAR_MIPMAP_LINEAR']},_0x6150b={[_0x3e8626['amv']]:_0x51c63f['NEVER'],[_0x3e8626['FFZ']]:_0x51c63f['ALWAYS'],[_0x3e8626['vim']]:_0x51c63f['LESS'],[_0x3e8626['TiK']]:_0x51c63f['LEQUAL'],[_0x3e8626['kO0']]:_0x51c63f['EQUAL'],[_0x3e8626['gWB']]:_0x51c63f['GEQUAL'],[_0x3e8626['eoi']]:_0x51c63f['GREATER'],[_0x3e8626['jzd']]:_0x51c63f['NOTEQUAL']};function _0x1dde54(_0xef0c9c,_0x1570c9){if(_0x1570c9['type']!==_0x3e8626['RQf']||!0x1!==_0x93cc0b['has']('OES_texture_float_linear')||_0x1570c9['magFilter']!==_0x3e8626['k6q']&&_0x1570c9['magFilter']!==_0x3e8626['kRr']&&_0x1570c9['magFilter']!==_0x3e8626['Cfg']&&_0x1570c9['magFilter']!==_0x3e8626['$_I']&&_0x1570c9['minFilter']!==_0x3e8626['k6q']&&_0x1570c9['minFilter']!==_0x3e8626['kRr']&&_0x1570c9['minFilter']!==_0x3e8626['Cfg']&&_0x1570c9['minFilter']!==_0x3e8626['$_I']||console['warn']('THREE.WebGLRenderer:\x20Unable\x20to\x20use\x20linear\x20filtering\x20with\x20floating\x20point\x20textures.\x20OES_texture_float_linear\x20not\x20supported\x20on\x20this\x20device.'),_0x51c63f['texParameteri'](_0xef0c9c,_0x51c63f['TEXTURE_WRAP_S'],_0x554b17[_0x1570c9['wrapS']]),_0x51c63f['texParameteri'](_0xef0c9c,_0x51c63f['TEXTURE_WRAP_T'],_0x554b17[_0x1570c9['wrapT']]),_0xef0c9c!==_0x51c63f['TEXTURE_3D']&&_0xef0c9c!==_0x51c63f['TEXTURE_2D_ARRAY']||_0x51c63f['texParameteri'](_0xef0c9c,_0x51c63f['TEXTURE_WRAP_R'],_0x554b17[_0x1570c9['wrapR']]),_0x51c63f['texParameteri'](_0xef0c9c,_0x51c63f['TEXTURE_MAG_FILTER'],_0xd855e6[_0x1570c9['magFilter']]),_0x51c63f['texParameteri'](_0xef0c9c,_0x51c63f['TEXTURE_MIN_FILTER'],_0xd855e6[_0x1570c9['minFilter']]),_0x1570c9['compareFunction']&&(_0x51c63f['texParameteri'](_0xef0c9c,_0x51c63f['TEXTURE_COMPARE_MODE'],_0x51c63f['COMPARE_REF_TO_TEXTURE']),_0x51c63f['texParameteri'](_0xef0c9c,_0x51c63f['TEXTURE_COMPARE_FUNC'],_0x6150b[_0x1570c9['compareFunction']])),!0x0===_0x93cc0b['has']('EXT_texture_filter_anisotropic')){if(_0x1570c9['magFilter']===_0x3e8626['hxR'])return;if(_0x1570c9['minFilter']!==_0x3e8626['Cfg']&&_0x1570c9['minFilter']!==_0x3e8626['$_I'])return;if(_0x1570c9['type']===_0x3e8626['RQf']&&!0x1===_0x93cc0b['has']('OES_texture_float_linear'))return;if(_0x1570c9['anisotropy']>0x1||_0x2f7c40['get'](_0x1570c9)['__currentAnisotropy']){const _0x125260=_0x93cc0b['get']('EXT_texture_filter_anisotropic');_0x51c63f['texParameterf'](_0xef0c9c,_0x125260['TEXTURE_MAX_ANISOTROPY_EXT'],Math['min'](_0x1570c9['anisotropy'],_0x5f80ee['getMaxAnisotropy']())),_0x2f7c40['get'](_0x1570c9)['__currentAnisotropy']=_0x1570c9['anisotropy'];}}}function _0x368aab(_0x5e1800,_0x5a6f0a){let _0x11393c=!0x1;void 0x0===_0x5e1800['__webglInit']&&(_0x5e1800['__webglInit']=!0x0,_0x5a6f0a['addEventListener']('dispose',_0x13a65));const _0x13ab86=_0x5a6f0a['source'];let _0x3e9168=_0x338f47['get'](_0x13ab86);void 0x0===_0x3e9168&&(_0x3e9168={},_0x338f47['set'](_0x13ab86,_0x3e9168));const _0x226619=function(_0x12ba20){const _0x48bc28=[];return _0x48bc28['push'](_0x12ba20['wrapS']),_0x48bc28['push'](_0x12ba20['wrapT']),_0x48bc28['push'](_0x12ba20['wrapR']||0x0),_0x48bc28['push'](_0x12ba20['magFilter']),_0x48bc28['push'](_0x12ba20['minFilter']),_0x48bc28['push'](_0x12ba20['anisotropy']),_0x48bc28['push'](_0x12ba20['internalFormat']),_0x48bc28['push'](_0x12ba20['format']),_0x48bc28['push'](_0x12ba20['type']),_0x48bc28['push'](_0x12ba20['generateMipmaps']),_0x48bc28['push'](_0x12ba20['premultiplyAlpha']),_0x48bc28['push'](_0x12ba20['flipY']),_0x48bc28['push'](_0x12ba20['unpackAlignment']),_0x48bc28['push'](_0x12ba20['colorSpace']),_0x48bc28['join']();}(_0x5a6f0a);if(_0x226619!==_0x5e1800['__cacheKey']){void 0x0===_0x3e9168[_0x226619]&&(_0x3e9168[_0x226619]={'texture':_0x51c63f['createTexture'](),'usedTimes':0x0},_0x19c066['memory']['textures']++,_0x11393c=!0x0),_0x3e9168[_0x226619]['usedTimes']++;const _0x828c42=_0x3e9168[_0x5e1800['__cacheKey']];void 0x0!==_0x828c42&&(_0x3e9168[_0x5e1800['__cacheKey']]['usedTimes']--,0x0===_0x828c42['usedTimes']&&_0x2decf0(_0x5a6f0a)),_0x5e1800['__cacheKey']=_0x226619,_0x5e1800['__webglTexture']=_0x3e9168[_0x226619]['texture'];}return _0x11393c;}function _0x384901(_0x197a46,_0x8bd695,_0x5f535d){let _0x1515e5=_0x51c63f['TEXTURE_2D'];(_0x8bd695['isDataArrayTexture']||_0x8bd695['isCompressedArrayTexture'])&&(_0x1515e5=_0x51c63f['TEXTURE_2D_ARRAY']),_0x8bd695['isData3DTexture']&&(_0x1515e5=_0x51c63f['TEXTURE_3D']);const _0x42717c=_0x368aab(_0x197a46,_0x8bd695),_0x3cf904=_0x8bd695['source'];_0x20f20e['bindTexture'](_0x1515e5,_0x197a46['__webglTexture'],_0x51c63f['TEXTURE0']+_0x5f535d);const _0x34f714=_0x2f7c40['get'](_0x3cf904);if(_0x3cf904['version']!==_0x34f714['__version']||!0x0===_0x42717c){_0x20f20e['activeTexture'](_0x51c63f['TEXTURE0']+_0x5f535d);const _0x54cc84=_0x3e8626['ppV']['getPrimaries'](_0x3e8626['ppV']['workingColorSpace']),_0x299928=_0x8bd695['colorSpace']===_0x3e8626['jf0']?null:_0x3e8626['ppV']['getPrimaries'](_0x8bd695['colorSpace']),_0x354eb1=_0x8bd695['colorSpace']===_0x3e8626['jf0']||_0x54cc84===_0x299928?_0x51c63f['NONE']:_0x51c63f['BROWSER_DEFAULT_WEBGL'];_0x51c63f['pixelStorei'](_0x51c63f['UNPACK_FLIP_Y_WEBGL'],_0x8bd695['flipY']),_0x51c63f['pixelStorei'](_0x51c63f['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x8bd695['premultiplyAlpha']),_0x51c63f['pixelStorei'](_0x51c63f['UNPACK_ALIGNMENT'],_0x8bd695['unpackAlignment']),_0x51c63f['pixelStorei'](_0x51c63f['UNPACK_COLORSPACE_CONVERSION_WEBGL'],_0x354eb1);let _0x2300c=_0x28ec68(_0x8bd695['image'],!0x1,_0x5f80ee['maxTextureSize']);_0x2300c=_0x5150c2(_0x8bd695,_0x2300c);const _0x335707=_0x124d55['convert'](_0x8bd695['format'],_0x8bd695['colorSpace']),_0xc774cc=_0x124d55['convert'](_0x8bd695['type']);let _0x40ede2,_0x404e1e=_0x489c96(_0x8bd695['internalFormat'],_0x335707,_0xc774cc,_0x8bd695['colorSpace'],_0x8bd695['isVideoTexture']);_0x1dde54(_0x1515e5,_0x8bd695);const _0x2dd4a=_0x8bd695['mipmaps'],_0x269065=!0x0!==_0x8bd695['isVideoTexture'],_0x35423e=void 0x0===_0x34f714['__version']||!0x0===_0x42717c,_0x55410f=_0x3cf904['dataReady'],_0x4af443=_0x58fd82(_0x8bd695,_0x2300c);if(_0x8bd695['isDepthTexture'])_0x404e1e=_0x2e1d38(_0x8bd695['format']===_0x3e8626['dcC'],_0x8bd695['type']),_0x35423e&&(_0x269065?_0x20f20e['texStorage2D'](_0x51c63f['TEXTURE_2D'],0x1,_0x404e1e,_0x2300c['width'],_0x2300c['height']):_0x20f20e['texImage2D'](_0x51c63f['TEXTURE_2D'],0x0,_0x404e1e,_0x2300c['width'],_0x2300c['height'],0x0,_0x335707,_0xc774cc,null));else{if(_0x8bd695['isDataTexture']){if(_0x2dd4a['length']>0x0){_0x269065&&_0x35423e&&_0x20f20e['texStorage2D'](_0x51c63f['TEXTURE_2D'],_0x4af443,_0x404e1e,_0x2dd4a[0x0]['width'],_0x2dd4a[0x0]['height']);for(let _0x133a29=0x0,_0x5193f7=_0x2dd4a['length'];_0x133a29<_0x5193f7;_0x133a29++)_0x40ede2=_0x2dd4a[_0x133a29],_0x269065?_0x55410f&&_0x20f20e['texSubImage2D'](_0x51c63f['TEXTURE_2D'],_0x133a29,0x0,0x0,_0x40ede2['width'],_0x40ede2['height'],_0x335707,_0xc774cc,_0x40ede2['data']):_0x20f20e['texImage2D'](_0x51c63f['TEXTURE_2D'],_0x133a29,_0x404e1e,_0x40ede2['width'],_0x40ede2['height'],0x0,_0x335707,_0xc774cc,_0x40ede2['data']);_0x8bd695['generateMipmaps']=!0x1;}else _0x269065?(_0x35423e&&_0x20f20e['texStorage2D'](_0x51c63f['TEXTURE_2D'],_0x4af443,_0x404e1e,_0x2300c['width'],_0x2300c['height']),_0x55410f&&_0x20f20e['texSubImage2D'](_0x51c63f['TEXTURE_2D'],0x0,0x0,0x0,_0x2300c['width'],_0x2300c['height'],_0x335707,_0xc774cc,_0x2300c['data'])):_0x20f20e['texImage2D'](_0x51c63f['TEXTURE_2D'],0x0,_0x404e1e,_0x2300c['width'],_0x2300c['height'],0x0,_0x335707,_0xc774cc,_0x2300c['data']);}else{if(_0x8bd695['isCompressedTexture']){if(_0x8bd695['isCompressedArrayTexture']){_0x269065&&_0x35423e&&_0x20f20e['texStorage3D'](_0x51c63f['TEXTURE_2D_ARRAY'],_0x4af443,_0x404e1e,_0x2dd4a[0x0]['width'],_0x2dd4a[0x0]['height'],_0x2300c['depth']);for(let _0x3c6e23=0x0,_0x53137f=_0x2dd4a['length'];_0x3c6e23<_0x53137f;_0x3c6e23++)if(_0x40ede2=_0x2dd4a[_0x3c6e23],_0x8bd695['format']!==_0x3e8626['GWd']){if(null!==_0x335707){if(_0x269065){if(_0x55410f){if(_0x8bd695['layerUpdates']['size']>0x0){const _0x119eb5=(0x0,_0x3e8626['Nex'])(_0x40ede2['width'],_0x40ede2['height'],_0x8bd695['format'],_0x8bd695['type']);for(const _0xbb5556 of _0x8bd695['layerUpdates']){const _0x3d8f3a=_0x40ede2['data']['subarray'](_0xbb5556*_0x119eb5/_0x40ede2['data']['BYTES_PER_ELEMENT'],(_0xbb5556+0x1)*_0x119eb5/_0x40ede2['data']['BYTES_PER_ELEMENT']);_0x20f20e['compressedTexSubImage3D'](_0x51c63f['TEXTURE_2D_ARRAY'],_0x3c6e23,0x0,0x0,_0xbb5556,_0x40ede2['width'],_0x40ede2['height'],0x1,_0x335707,_0x3d8f3a);}_0x8bd695['clearLayerUpdates']();}else _0x20f20e['compressedTexSubImage3D'](_0x51c63f['TEXTURE_2D_ARRAY'],_0x3c6e23,0x0,0x0,0x0,_0x40ede2['width'],_0x40ede2['height'],_0x2300c['depth'],_0x335707,_0x40ede2['data']);}}else _0x20f20e['compressedTexImage3D'](_0x51c63f['TEXTURE_2D_ARRAY'],_0x3c6e23,_0x404e1e,_0x40ede2['width'],_0x40ede2['height'],_0x2300c['depth'],0x0,_0x40ede2['data'],0x0,0x0);}else console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.uploadTexture()');}else _0x269065?_0x55410f&&_0x20f20e['texSubImage3D'](_0x51c63f['TEXTURE_2D_ARRAY'],_0x3c6e23,0x0,0x0,0x0,_0x40ede2['width'],_0x40ede2['height'],_0x2300c['depth'],_0x335707,_0xc774cc,_0x40ede2['data']):_0x20f20e['texImage3D'](_0x51c63f['TEXTURE_2D_ARRAY'],_0x3c6e23,_0x404e1e,_0x40ede2['width'],_0x40ede2['height'],_0x2300c['depth'],0x0,_0x335707,_0xc774cc,_0x40ede2['data']);}else{_0x269065&&_0x35423e&&_0x20f20e['texStorage2D'](_0x51c63f['TEXTURE_2D'],_0x4af443,_0x404e1e,_0x2dd4a[0x0]['width'],_0x2dd4a[0x0]['height']);for(let _0xbe23f9=0x0,_0x23c14f=_0x2dd4a['length'];_0xbe23f9<_0x23c14f;_0xbe23f9++)_0x40ede2=_0x2dd4a[_0xbe23f9],_0x8bd695['format']!==_0x3e8626['GWd']?null!==_0x335707?_0x269065?_0x55410f&&_0x20f20e['compressedTexSubImage2D'](_0x51c63f['TEXTURE_2D'],_0xbe23f9,0x0,0x0,_0x40ede2['width'],_0x40ede2['height'],_0x335707,_0x40ede2['data']):_0x20f20e['compressedTexImage2D'](_0x51c63f['TEXTURE_2D'],_0xbe23f9,_0x404e1e,_0x40ede2['width'],_0x40ede2['height'],0x0,_0x40ede2['data']):console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.uploadTexture()'):_0x269065?_0x55410f&&_0x20f20e['texSubImage2D'](_0x51c63f['TEXTURE_2D'],_0xbe23f9,0x0,0x0,_0x40ede2['width'],_0x40ede2['height'],_0x335707,_0xc774cc,_0x40ede2['data']):_0x20f20e['texImage2D'](_0x51c63f['TEXTURE_2D'],_0xbe23f9,_0x404e1e,_0x40ede2['width'],_0x40ede2['height'],0x0,_0x335707,_0xc774cc,_0x40ede2['data']);}}else{if(_0x8bd695['isDataArrayTexture']){if(_0x269065){if(_0x35423e&&_0x20f20e['texStorage3D'](_0x51c63f['TEXTURE_2D_ARRAY'],_0x4af443,_0x404e1e,_0x2300c['width'],_0x2300c['height'],_0x2300c['depth']),_0x55410f){if(_0x8bd695['layerUpdates']['size']>0x0){const _0x31509a=(0x0,_0x3e8626['Nex'])(_0x2300c['width'],_0x2300c['height'],_0x8bd695['format'],_0x8bd695['type']);for(const _0x7f18ef of _0x8bd695['layerUpdates']){const _0x2d12b0=_0x2300c['data']['subarray'](_0x7f18ef*_0x31509a/_0x2300c['data']['BYTES_PER_ELEMENT'],(_0x7f18ef+0x1)*_0x31509a/_0x2300c['data']['BYTES_PER_ELEMENT']);_0x20f20e['texSubImage3D'](_0x51c63f['TEXTURE_2D_ARRAY'],0x0,0x0,0x0,_0x7f18ef,_0x2300c['width'],_0x2300c['height'],0x1,_0x335707,_0xc774cc,_0x2d12b0);}_0x8bd695['clearLayerUpdates']();}else _0x20f20e['texSubImage3D'](_0x51c63f['TEXTURE_2D_ARRAY'],0x0,0x0,0x0,0x0,_0x2300c['width'],_0x2300c['height'],_0x2300c['depth'],_0x335707,_0xc774cc,_0x2300c['data']);}}else _0x20f20e['texImage3D'](_0x51c63f['TEXTURE_2D_ARRAY'],0x0,_0x404e1e,_0x2300c['width'],_0x2300c['height'],_0x2300c['depth'],0x0,_0x335707,_0xc774cc,_0x2300c['data']);}else{if(_0x8bd695['isData3DTexture'])_0x269065?(_0x35423e&&_0x20f20e['texStorage3D'](_0x51c63f['TEXTURE_3D'],_0x4af443,_0x404e1e,_0x2300c['width'],_0x2300c['height'],_0x2300c['depth']),_0x55410f&&_0x20f20e['texSubImage3D'](_0x51c63f['TEXTURE_3D'],0x0,0x0,0x0,0x0,_0x2300c['width'],_0x2300c['height'],_0x2300c['depth'],_0x335707,_0xc774cc,_0x2300c['data'])):_0x20f20e['texImage3D'](_0x51c63f['TEXTURE_3D'],0x0,_0x404e1e,_0x2300c['width'],_0x2300c['height'],_0x2300c['depth'],0x0,_0x335707,_0xc774cc,_0x2300c['data']);else{if(_0x8bd695['isFramebufferTexture']){if(_0x35423e){if(_0x269065)_0x20f20e['texStorage2D'](_0x51c63f['TEXTURE_2D'],_0x4af443,_0x404e1e,_0x2300c['width'],_0x2300c['height']);else{let _0x98faba=_0x2300c['width'],_0x4afc15=_0x2300c['height'];for(let _0x44254b=0x0;_0x44254b<_0x4af443;_0x44254b++)_0x20f20e['texImage2D'](_0x51c63f['TEXTURE_2D'],_0x44254b,_0x404e1e,_0x98faba,_0x4afc15,0x0,_0x335707,_0xc774cc,null),_0x98faba>>=0x1,_0x4afc15>>=0x1;}}}else{if(_0x2dd4a['length']>0x0){if(_0x269065&&_0x35423e){const _0x281b46=_0x4f7d2a(_0x2dd4a[0x0]);_0x20f20e['texStorage2D'](_0x51c63f['TEXTURE_2D'],_0x4af443,_0x404e1e,_0x281b46['width'],_0x281b46['height']);}for(let _0x5dc1dc=0x0,_0x4be0d7=_0x2dd4a['length'];_0x5dc1dc<_0x4be0d7;_0x5dc1dc++)_0x40ede2=_0x2dd4a[_0x5dc1dc],_0x269065?_0x55410f&&_0x20f20e['texSubImage2D'](_0x51c63f['TEXTURE_2D'],_0x5dc1dc,0x0,0x0,_0x335707,_0xc774cc,_0x40ede2):_0x20f20e['texImage2D'](_0x51c63f['TEXTURE_2D'],_0x5dc1dc,_0x404e1e,_0x335707,_0xc774cc,_0x40ede2);_0x8bd695['generateMipmaps']=!0x1;}else{if(_0x269065){if(_0x35423e){const _0x8fd0f=_0x4f7d2a(_0x2300c);_0x20f20e['texStorage2D'](_0x51c63f['TEXTURE_2D'],_0x4af443,_0x404e1e,_0x8fd0f['width'],_0x8fd0f['height']);}_0x55410f&&_0x20f20e['texSubImage2D'](_0x51c63f['TEXTURE_2D'],0x0,0x0,0x0,_0x335707,_0xc774cc,_0x2300c);}else _0x20f20e['texImage2D'](_0x51c63f['TEXTURE_2D'],0x0,_0x404e1e,_0x335707,_0xc774cc,_0x2300c);}}}}}}}_0x1db554(_0x8bd695)&&_0x553106(_0x1515e5),_0x34f714['__version']=_0x3cf904['version'],_0x8bd695['onUpdate']&&_0x8bd695['onUpdate'](_0x8bd695);}_0x197a46['__version']=_0x8bd695['version'];}function _0x18baf5(_0x4cbd01,_0x1214f9,_0x4d579e,_0x14d74f,_0x380c0c,_0x5dc36d){const _0x5d707f=_0x124d55['convert'](_0x4d579e['format'],_0x4d579e['colorSpace']),_0x4972dc=_0x124d55['convert'](_0x4d579e['type']),_0x1d9de7=_0x489c96(_0x4d579e['internalFormat'],_0x5d707f,_0x4972dc,_0x4d579e['colorSpace']),_0x21c9ce=_0x2f7c40['get'](_0x1214f9),_0x12c504=_0x2f7c40['get'](_0x4d579e);if(_0x12c504['__renderTarget']=_0x1214f9,!_0x21c9ce['__hasExternalTextures']){const _0x30953e=Math['max'](0x1,_0x1214f9['width']>>_0x5dc36d),_0x218a74=Math['max'](0x1,_0x1214f9['height']>>_0x5dc36d);_0x380c0c===_0x51c63f['TEXTURE_3D']||_0x380c0c===_0x51c63f['TEXTURE_2D_ARRAY']?_0x20f20e['texImage3D'](_0x380c0c,_0x5dc36d,_0x1d9de7,_0x30953e,_0x218a74,_0x1214f9['depth'],0x0,_0x5d707f,_0x4972dc,null):_0x20f20e['texImage2D'](_0x380c0c,_0x5dc36d,_0x1d9de7,_0x30953e,_0x218a74,0x0,_0x5d707f,_0x4972dc,null);}_0x20f20e['bindFramebuffer'](_0x51c63f['FRAMEBUFFER'],_0x4cbd01),_0x27456e(_0x1214f9)?_0x16a151['framebufferTexture2DMultisampleEXT'](_0x51c63f['FRAMEBUFFER'],_0x14d74f,_0x380c0c,_0x12c504['__webglTexture'],0x0,_0x24b694(_0x1214f9)):(_0x380c0c===_0x51c63f['TEXTURE_2D']||_0x380c0c>=_0x51c63f['TEXTURE_CUBE_MAP_POSITIVE_X']&&_0x380c0c<=_0x51c63f['TEXTURE_CUBE_MAP_NEGATIVE_Z'])&&_0x51c63f['framebufferTexture2D'](_0x51c63f['FRAMEBUFFER'],_0x14d74f,_0x380c0c,_0x12c504['__webglTexture'],_0x5dc36d),_0x20f20e['bindFramebuffer'](_0x51c63f['FRAMEBUFFER'],null);}function _0x3aca34(_0x28a1c1,_0x3aa9f6,_0x57e6be){if(_0x51c63f['bindRenderbuffer'](_0x51c63f['RENDERBUFFER'],_0x28a1c1),_0x3aa9f6['depthBuffer']){const _0x5d3de9=_0x3aa9f6['depthTexture'],_0xdf2b4d=_0x5d3de9&&_0x5d3de9['isDepthTexture']?_0x5d3de9['type']:null,_0x290170=_0x2e1d38(_0x3aa9f6['stencilBuffer'],_0xdf2b4d),_0x2c82c8=_0x3aa9f6['stencilBuffer']?_0x51c63f['DEPTH_STENCIL_ATTACHMENT']:_0x51c63f['DEPTH_ATTACHMENT'],_0x3509ae=_0x24b694(_0x3aa9f6);_0x27456e(_0x3aa9f6)?_0x16a151['renderbufferStorageMultisampleEXT'](_0x51c63f['RENDERBUFFER'],_0x3509ae,_0x290170,_0x3aa9f6['width'],_0x3aa9f6['height']):_0x57e6be?_0x51c63f['renderbufferStorageMultisample'](_0x51c63f['RENDERBUFFER'],_0x3509ae,_0x290170,_0x3aa9f6['width'],_0x3aa9f6['height']):_0x51c63f['renderbufferStorage'](_0x51c63f['RENDERBUFFER'],_0x290170,_0x3aa9f6['width'],_0x3aa9f6['height']),_0x51c63f['framebufferRenderbuffer'](_0x51c63f['FRAMEBUFFER'],_0x2c82c8,_0x51c63f['RENDERBUFFER'],_0x28a1c1);}else{const _0x14f791=_0x3aa9f6['textures'];for(let _0x3bf675=0x0;_0x3bf675<_0x14f791['length'];_0x3bf675++){const _0x3677de=_0x14f791[_0x3bf675],_0xc4d1a6=_0x124d55['convert'](_0x3677de['format'],_0x3677de['colorSpace']),_0x110d79=_0x124d55['convert'](_0x3677de['type']),_0x4ecbad=_0x489c96(_0x3677de['internalFormat'],_0xc4d1a6,_0x110d79,_0x3677de['colorSpace']),_0x5bbd0e=_0x24b694(_0x3aa9f6);_0x57e6be&&!0x1===_0x27456e(_0x3aa9f6)?_0x51c63f['renderbufferStorageMultisample'](_0x51c63f['RENDERBUFFER'],_0x5bbd0e,_0x4ecbad,_0x3aa9f6['width'],_0x3aa9f6['height']):_0x27456e(_0x3aa9f6)?_0x16a151['renderbufferStorageMultisampleEXT'](_0x51c63f['RENDERBUFFER'],_0x5bbd0e,_0x4ecbad,_0x3aa9f6['width'],_0x3aa9f6['height']):_0x51c63f['renderbufferStorage'](_0x51c63f['RENDERBUFFER'],_0x4ecbad,_0x3aa9f6['width'],_0x3aa9f6['height']);}}_0x51c63f['bindRenderbuffer'](_0x51c63f['RENDERBUFFER'],null);}function _0x214696(_0x3b75a7){const _0x1295c6=_0x2f7c40['get'](_0x3b75a7),_0x19ffb7=!0x0===_0x3b75a7['isWebGLCubeRenderTarget'];if(_0x1295c6['__boundDepthTexture']!==_0x3b75a7['depthTexture']){const _0x1ba932=_0x3b75a7['depthTexture'];if(_0x1295c6['__depthDisposeCallback']&&_0x1295c6['__depthDisposeCallback'](),_0x1ba932){const _0x94ffc7=()=>{delete _0x1295c6['__boundDepthTexture'],delete _0x1295c6['__depthDisposeCallback'],_0x1ba932['removeEventListener']('dispose',_0x94ffc7);};_0x1ba932['addEventListener']('dispose',_0x94ffc7),_0x1295c6['__depthDisposeCallback']=_0x94ffc7;}_0x1295c6['__boundDepthTexture']=_0x1ba932;}if(_0x3b75a7['depthTexture']&&!_0x1295c6['__autoAllocateDepthBuffer']){if(_0x19ffb7)throw new Error('target.depthTexture\x20not\x20supported\x20in\x20Cube\x20render\x20targets');!function(_0x47a0ee,_0x2fb0b5){if(_0x2fb0b5&&_0x2fb0b5['isWebGLCubeRenderTarget'])throw new Error('Depth\x20Texture\x20with\x20cube\x20render\x20targets\x20is\x20not\x20supported');if(_0x20f20e['bindFramebuffer'](_0x51c63f['FRAMEBUFFER'],_0x47a0ee),!_0x2fb0b5['depthTexture']||!_0x2fb0b5['depthTexture']['isDepthTexture'])throw new Error('renderTarget.depthTexture\x20must\x20be\x20an\x20instance\x20of\x20THREE.DepthTexture');const _0x5b40e2=_0x2f7c40['get'](_0x2fb0b5['depthTexture']);_0x5b40e2['__renderTarget']=_0x2fb0b5,_0x5b40e2['__webglTexture']&&_0x2fb0b5['depthTexture']['image']['width']===_0x2fb0b5['width']&&_0x2fb0b5['depthTexture']['image']['height']===_0x2fb0b5['height']||(_0x2fb0b5['depthTexture']['image']['width']=_0x2fb0b5['width'],_0x2fb0b5['depthTexture']['image']['height']=_0x2fb0b5['height'],_0x2fb0b5['depthTexture']['needsUpdate']=!0x0),_0x1a030(_0x2fb0b5['depthTexture'],0x0);const _0x36f1e8=_0x5b40e2['__webglTexture'],_0x43238d=_0x24b694(_0x2fb0b5);if(_0x2fb0b5['depthTexture']['format']===_0x3e8626['zdS'])_0x27456e(_0x2fb0b5)?_0x16a151['framebufferTexture2DMultisampleEXT'](_0x51c63f['FRAMEBUFFER'],_0x51c63f['DEPTH_ATTACHMENT'],_0x51c63f['TEXTURE_2D'],_0x36f1e8,0x0,_0x43238d):_0x51c63f['framebufferTexture2D'](_0x51c63f['FRAMEBUFFER'],_0x51c63f['DEPTH_ATTACHMENT'],_0x51c63f['TEXTURE_2D'],_0x36f1e8,0x0);else{if(_0x2fb0b5['depthTexture']['format']!==_0x3e8626['dcC'])throw new Error('Unknown\x20depthTexture\x20format');_0x27456e(_0x2fb0b5)?_0x16a151['framebufferTexture2DMultisampleEXT'](_0x51c63f['FRAMEBUFFER'],_0x51c63f['DEPTH_STENCIL_ATTACHMENT'],_0x51c63f['TEXTURE_2D'],_0x36f1e8,0x0,_0x43238d):_0x51c63f['framebufferTexture2D'](_0x51c63f['FRAMEBUFFER'],_0x51c63f['DEPTH_STENCIL_ATTACHMENT'],_0x51c63f['TEXTURE_2D'],_0x36f1e8,0x0);}}(_0x1295c6['__webglFramebuffer'],_0x3b75a7);}else{if(_0x19ffb7){_0x1295c6['__webglDepthbuffer']=[];for(let _0x15a717=0x0;_0x15a717<0x6;_0x15a717++)if(_0x20f20e['bindFramebuffer'](_0x51c63f['FRAMEBUFFER'],_0x1295c6['__webglFramebuffer'][_0x15a717]),void 0x0===_0x1295c6['__webglDepthbuffer'][_0x15a717])_0x1295c6['__webglDepthbuffer'][_0x15a717]=_0x51c63f['createRenderbuffer'](),_0x3aca34(_0x1295c6['__webglDepthbuffer'][_0x15a717],_0x3b75a7,!0x1);else{const _0x2aab8b=_0x3b75a7['stencilBuffer']?_0x51c63f['DEPTH_STENCIL_ATTACHMENT']:_0x51c63f['DEPTH_ATTACHMENT'],_0x5312c7=_0x1295c6['__webglDepthbuffer'][_0x15a717];_0x51c63f['bindRenderbuffer'](_0x51c63f['RENDERBUFFER'],_0x5312c7),_0x51c63f['framebufferRenderbuffer'](_0x51c63f['FRAMEBUFFER'],_0x2aab8b,_0x51c63f['RENDERBUFFER'],_0x5312c7);}}else{if(_0x20f20e['bindFramebuffer'](_0x51c63f['FRAMEBUFFER'],_0x1295c6['__webglFramebuffer']),void 0x0===_0x1295c6['__webglDepthbuffer'])_0x1295c6['__webglDepthbuffer']=_0x51c63f['createRenderbuffer'](),_0x3aca34(_0x1295c6['__webglDepthbuffer'],_0x3b75a7,!0x1);else{const _0x143c7e=_0x3b75a7['stencilBuffer']?_0x51c63f['DEPTH_STENCIL_ATTACHMENT']:_0x51c63f['DEPTH_ATTACHMENT'],_0x1ab44f=_0x1295c6['__webglDepthbuffer'];_0x51c63f['bindRenderbuffer'](_0x51c63f['RENDERBUFFER'],_0x1ab44f),_0x51c63f['framebufferRenderbuffer'](_0x51c63f['FRAMEBUFFER'],_0x143c7e,_0x51c63f['RENDERBUFFER'],_0x1ab44f);}}}_0x20f20e['bindFramebuffer'](_0x51c63f['FRAMEBUFFER'],null);}const _0x200dc5=[],_0x3ac38c=[];function _0x24b694(_0x308bfe){return Math['min'](_0x5f80ee['maxSamples'],_0x308bfe['samples']);}function _0x27456e(_0x2546ee){const _0x12376d=_0x2f7c40['get'](_0x2546ee);return _0x2546ee['samples']>0x0&&!0x0===_0x93cc0b['has']('WEBGL_multisampled_render_to_texture')&&!0x1!==_0x12376d['__useRenderToTexture'];}function _0x5150c2(_0x2f0ffc,_0x189eb9){const _0x2cf3f5=_0x2f0ffc['colorSpace'],_0x3eaa7e=_0x2f0ffc['format'],_0x583f12=_0x2f0ffc['type'];return!0x0===_0x2f0ffc['isCompressedTexture']||!0x0===_0x2f0ffc['isVideoTexture']||_0x2cf3f5!==_0x3e8626['Zr2']&&_0x2cf3f5!==_0x3e8626['jf0']&&(_0x3e8626['ppV']['getTransfer'](_0x2cf3f5)===_0x3e8626['KLL']?_0x3eaa7e===_0x3e8626['GWd']&&_0x583f12===_0x3e8626['OUM']||console['warn']('THREE.WebGLTextures:\x20sRGB\x20encoded\x20textures\x20have\x20to\x20use\x20RGBAFormat\x20and\x20UnsignedByteType.'):console['error']('THREE.WebGLTextures:\x20Unsupported\x20texture\x20color\x20space:',_0x2cf3f5)),_0x189eb9;}function _0x4f7d2a(_0x404bc4){return'undefined'!=typeof HTMLImageElement&&_0x404bc4 instanceof HTMLImageElement?(_0x50017c['width']=_0x404bc4['naturalWidth']||_0x404bc4['width'],_0x50017c['height']=_0x404bc4['naturalHeight']||_0x404bc4['height']):'undefined'!=typeof VideoFrame&&_0x404bc4 instanceof VideoFrame?(_0x50017c['width']=_0x404bc4['displayWidth'],_0x50017c['height']=_0x404bc4['displayHeight']):(_0x50017c['width']=_0x404bc4['width'],_0x50017c['height']=_0x404bc4['height']),_0x50017c;}this['allocateTextureUnit']=function(){const _0x5be770=_0x56fdc5;return _0x5be770>=_0x5f80ee['maxTextures']&&console['warn']('THREE.WebGLTextures:\x20Trying\x20to\x20use\x20'+_0x5be770+'\x20texture\x20units\x20while\x20this\x20GPU\x20supports\x20only\x20'+_0x5f80ee['maxTextures']),_0x56fdc5+=0x1,_0x5be770;},this['resetTextureUnits']=function(){_0x56fdc5=0x0;},this['setTexture2D']=_0x1a030,this['setTexture2DArray']=function(_0x177686,_0x23746d){const _0x5d0597=_0x2f7c40['get'](_0x177686);_0x177686['version']>0x0&&_0x5d0597['__version']!==_0x177686['version']?_0x384901(_0x5d0597,_0x177686,_0x23746d):_0x20f20e['bindTexture'](_0x51c63f['TEXTURE_2D_ARRAY'],_0x5d0597['__webglTexture'],_0x51c63f['TEXTURE0']+_0x23746d);},this['setTexture3D']=function(_0x1cb1fa,_0x473fa7){const _0xce07e=_0x2f7c40['get'](_0x1cb1fa);_0x1cb1fa['version']>0x0&&_0xce07e['__version']!==_0x1cb1fa['version']?_0x384901(_0xce07e,_0x1cb1fa,_0x473fa7):_0x20f20e['bindTexture'](_0x51c63f['TEXTURE_3D'],_0xce07e['__webglTexture'],_0x51c63f['TEXTURE0']+_0x473fa7);},this['setTextureCube']=function(_0x573f11,_0x3e961a){const _0x28e3fd=_0x2f7c40['get'](_0x573f11);_0x573f11['version']>0x0&&_0x28e3fd['__version']!==_0x573f11['version']?function(_0x42fa45,_0x1601b3,_0x3438b1){if(0x6!==_0x1601b3['image']['length'])return;const _0x3c2edf=_0x368aab(_0x42fa45,_0x1601b3),_0x47d187=_0x1601b3['source'];_0x20f20e['bindTexture'](_0x51c63f['TEXTURE_CUBE_MAP'],_0x42fa45['__webglTexture'],_0x51c63f['TEXTURE0']+_0x3438b1);const _0x31d7cf=_0x2f7c40['get'](_0x47d187);if(_0x47d187['version']!==_0x31d7cf['__version']||!0x0===_0x3c2edf){_0x20f20e['activeTexture'](_0x51c63f['TEXTURE0']+_0x3438b1);const _0x197e16=_0x3e8626['ppV']['getPrimaries'](_0x3e8626['ppV']['workingColorSpace']),_0x4a8582=_0x1601b3['colorSpace']===_0x3e8626['jf0']?null:_0x3e8626['ppV']['getPrimaries'](_0x1601b3['colorSpace']),_0x2a64c3=_0x1601b3['colorSpace']===_0x3e8626['jf0']||_0x197e16===_0x4a8582?_0x51c63f['NONE']:_0x51c63f['BROWSER_DEFAULT_WEBGL'];_0x51c63f['pixelStorei'](_0x51c63f['UNPACK_FLIP_Y_WEBGL'],_0x1601b3['flipY']),_0x51c63f['pixelStorei'](_0x51c63f['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x1601b3['premultiplyAlpha']),_0x51c63f['pixelStorei'](_0x51c63f['UNPACK_ALIGNMENT'],_0x1601b3['unpackAlignment']),_0x51c63f['pixelStorei'](_0x51c63f['UNPACK_COLORSPACE_CONVERSION_WEBGL'],_0x2a64c3);const _0x3b25ea=_0x1601b3['isCompressedTexture']||_0x1601b3['image'][0x0]['isCompressedTexture'],_0x44d1f5=_0x1601b3['image'][0x0]&&_0x1601b3['image'][0x0]['isDataTexture'],_0x526293=[];for(let _0x3cd961=0x0;_0x3cd961<0x6;_0x3cd961++)_0x526293[_0x3cd961]=_0x3b25ea||_0x44d1f5?_0x44d1f5?_0x1601b3['image'][_0x3cd961]['image']:_0x1601b3['image'][_0x3cd961]:_0x28ec68(_0x1601b3['image'][_0x3cd961],!0x0,_0x5f80ee['maxCubemapSize']),_0x526293[_0x3cd961]=_0x5150c2(_0x1601b3,_0x526293[_0x3cd961]);const _0x4dc964=_0x526293[0x0],_0x4c587e=_0x124d55['convert'](_0x1601b3['format'],_0x1601b3['colorSpace']),_0x26a34b=_0x124d55['convert'](_0x1601b3['type']),_0x463e26=_0x489c96(_0x1601b3['internalFormat'],_0x4c587e,_0x26a34b,_0x1601b3['colorSpace']),_0x2486ab=!0x0!==_0x1601b3['isVideoTexture'],_0x31b94b=void 0x0===_0x31d7cf['__version']||!0x0===_0x3c2edf,_0x5a9416=_0x47d187['dataReady'];let _0x1c287f,_0x2360fa=_0x58fd82(_0x1601b3,_0x4dc964);if(_0x1dde54(_0x51c63f['TEXTURE_CUBE_MAP'],_0x1601b3),_0x3b25ea){_0x2486ab&&_0x31b94b&&_0x20f20e['texStorage2D'](_0x51c63f['TEXTURE_CUBE_MAP'],_0x2360fa,_0x463e26,_0x4dc964['width'],_0x4dc964['height']);for(let _0x5c94a2=0x0;_0x5c94a2<0x6;_0x5c94a2++){_0x1c287f=_0x526293[_0x5c94a2]['mipmaps'];for(let _0x2ee2f4=0x0;_0x2ee2f4<_0x1c287f['length'];_0x2ee2f4++){const _0x42cf77=_0x1c287f[_0x2ee2f4];_0x1601b3['format']!==_0x3e8626['GWd']?null!==_0x4c587e?_0x2486ab?_0x5a9416&&_0x20f20e['compressedTexSubImage2D'](_0x51c63f['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5c94a2,_0x2ee2f4,0x0,0x0,_0x42cf77['width'],_0x42cf77['height'],_0x4c587e,_0x42cf77['data']):_0x20f20e['compressedTexImage2D'](_0x51c63f['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5c94a2,_0x2ee2f4,_0x463e26,_0x42cf77['width'],_0x42cf77['height'],0x0,_0x42cf77['data']):console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.setTextureCube()'):_0x2486ab?_0x5a9416&&_0x20f20e['texSubImage2D'](_0x51c63f['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5c94a2,_0x2ee2f4,0x0,0x0,_0x42cf77['width'],_0x42cf77['height'],_0x4c587e,_0x26a34b,_0x42cf77['data']):_0x20f20e['texImage2D'](_0x51c63f['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5c94a2,_0x2ee2f4,_0x463e26,_0x42cf77['width'],_0x42cf77['height'],0x0,_0x4c587e,_0x26a34b,_0x42cf77['data']);}}}else{if(_0x1c287f=_0x1601b3['mipmaps'],_0x2486ab&&_0x31b94b){_0x1c287f['length']>0x0&&_0x2360fa++;const _0x5c9c2d=_0x4f7d2a(_0x526293[0x0]);_0x20f20e['texStorage2D'](_0x51c63f['TEXTURE_CUBE_MAP'],_0x2360fa,_0x463e26,_0x5c9c2d['width'],_0x5c9c2d['height']);}for(let _0x56bfed=0x0;_0x56bfed<0x6;_0x56bfed++)if(_0x44d1f5){_0x2486ab?_0x5a9416&&_0x20f20e['texSubImage2D'](_0x51c63f['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x56bfed,0x0,0x0,0x0,_0x526293[_0x56bfed]['width'],_0x526293[_0x56bfed]['height'],_0x4c587e,_0x26a34b,_0x526293[_0x56bfed]['data']):_0x20f20e['texImage2D'](_0x51c63f['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x56bfed,0x0,_0x463e26,_0x526293[_0x56bfed]['width'],_0x526293[_0x56bfed]['height'],0x0,_0x4c587e,_0x26a34b,_0x526293[_0x56bfed]['data']);for(let _0x395505=0x0;_0x395505<_0x1c287f['length'];_0x395505++){const _0x19d02b=_0x1c287f[_0x395505]['image'][_0x56bfed]['image'];_0x2486ab?_0x5a9416&&_0x20f20e['texSubImage2D'](_0x51c63f['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x56bfed,_0x395505+0x1,0x0,0x0,_0x19d02b['width'],_0x19d02b['height'],_0x4c587e,_0x26a34b,_0x19d02b['data']):_0x20f20e['texImage2D'](_0x51c63f['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x56bfed,_0x395505+0x1,_0x463e26,_0x19d02b['width'],_0x19d02b['height'],0x0,_0x4c587e,_0x26a34b,_0x19d02b['data']);}}else{_0x2486ab?_0x5a9416&&_0x20f20e['texSubImage2D'](_0x51c63f['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x56bfed,0x0,0x0,0x0,_0x4c587e,_0x26a34b,_0x526293[_0x56bfed]):_0x20f20e['texImage2D'](_0x51c63f['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x56bfed,0x0,_0x463e26,_0x4c587e,_0x26a34b,_0x526293[_0x56bfed]);for(let _0x1cd2e9=0x0;_0x1cd2e9<_0x1c287f['length'];_0x1cd2e9++){const _0x47ba55=_0x1c287f[_0x1cd2e9];_0x2486ab?_0x5a9416&&_0x20f20e['texSubImage2D'](_0x51c63f['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x56bfed,_0x1cd2e9+0x1,0x0,0x0,_0x4c587e,_0x26a34b,_0x47ba55['image'][_0x56bfed]):_0x20f20e['texImage2D'](_0x51c63f['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x56bfed,_0x1cd2e9+0x1,_0x463e26,_0x4c587e,_0x26a34b,_0x47ba55['image'][_0x56bfed]);}}}_0x1db554(_0x1601b3)&&_0x553106(_0x51c63f['TEXTURE_CUBE_MAP']),_0x31d7cf['__version']=_0x47d187['version'],_0x1601b3['onUpdate']&&_0x1601b3['onUpdate'](_0x1601b3);}_0x42fa45['__version']=_0x1601b3['version'];}(_0x28e3fd,_0x573f11,_0x3e961a):_0x20f20e['bindTexture'](_0x51c63f['TEXTURE_CUBE_MAP'],_0x28e3fd['__webglTexture'],_0x51c63f['TEXTURE0']+_0x3e961a);},this['rebindTextures']=function(_0x3f2b22,_0x9752ae,_0x48c963){const _0xb0cae2=_0x2f7c40['get'](_0x3f2b22);void 0x0!==_0x9752ae&&_0x18baf5(_0xb0cae2['__webglFramebuffer'],_0x3f2b22,_0x3f2b22['texture'],_0x51c63f['COLOR_ATTACHMENT0'],_0x51c63f['TEXTURE_2D'],0x0),void 0x0!==_0x48c963&&_0x214696(_0x3f2b22);},this['setupRenderTarget']=function(_0xc0e7a8){const _0x2b4b8c=_0xc0e7a8['texture'],_0x2032f0=_0x2f7c40['get'](_0xc0e7a8),_0x1faa10=_0x2f7c40['get'](_0x2b4b8c);_0xc0e7a8['addEventListener']('dispose',_0x3543de);const _0x314915=_0xc0e7a8['textures'],_0x4e8a21=!0x0===_0xc0e7a8['isWebGLCubeRenderTarget'],_0x20355b=_0x314915['length']>0x1;if(_0x20355b||(void 0x0===_0x1faa10['__webglTexture']&&(_0x1faa10['__webglTexture']=_0x51c63f['createTexture']()),_0x1faa10['__version']=_0x2b4b8c['version'],_0x19c066['memory']['textures']++),_0x4e8a21){_0x2032f0['__webglFramebuffer']=[];for(let _0x4af8a2=0x0;_0x4af8a2<0x6;_0x4af8a2++)if(_0x2b4b8c['mipmaps']&&_0x2b4b8c['mipmaps']['length']>0x0){_0x2032f0['__webglFramebuffer'][_0x4af8a2]=[];for(let _0x1f49d3=0x0;_0x1f49d3<_0x2b4b8c['mipmaps']['length'];_0x1f49d3++)_0x2032f0['__webglFramebuffer'][_0x4af8a2][_0x1f49d3]=_0x51c63f['createFramebuffer']();}else _0x2032f0['__webglFramebuffer'][_0x4af8a2]=_0x51c63f['createFramebuffer']();}else{if(_0x2b4b8c['mipmaps']&&_0x2b4b8c['mipmaps']['length']>0x0){_0x2032f0['__webglFramebuffer']=[];for(let _0xba3224=0x0;_0xba3224<_0x2b4b8c['mipmaps']['length'];_0xba3224++)_0x2032f0['__webglFramebuffer'][_0xba3224]=_0x51c63f['createFramebuffer']();}else _0x2032f0['__webglFramebuffer']=_0x51c63f['createFramebuffer']();if(_0x20355b)for(let _0x37bb5c=0x0,_0x48cf89=_0x314915['length'];_0x37bb5c<_0x48cf89;_0x37bb5c++){const _0x37e864=_0x2f7c40['get'](_0x314915[_0x37bb5c]);void 0x0===_0x37e864['__webglTexture']&&(_0x37e864['__webglTexture']=_0x51c63f['createTexture'](),_0x19c066['memory']['textures']++);}if(_0xc0e7a8['samples']>0x0&&!0x1===_0x27456e(_0xc0e7a8)){_0x2032f0['__webglMultisampledFramebuffer']=_0x51c63f['createFramebuffer'](),_0x2032f0['__webglColorRenderbuffer']=[],_0x20f20e['bindFramebuffer'](_0x51c63f['FRAMEBUFFER'],_0x2032f0['__webglMultisampledFramebuffer']);for(let _0x2579d0=0x0;_0x2579d0<_0x314915['length'];_0x2579d0++){const _0x5d7242=_0x314915[_0x2579d0];_0x2032f0['__webglColorRenderbuffer'][_0x2579d0]=_0x51c63f['createRenderbuffer'](),_0x51c63f['bindRenderbuffer'](_0x51c63f['RENDERBUFFER'],_0x2032f0['__webglColorRenderbuffer'][_0x2579d0]);const _0x561ac8=_0x124d55['convert'](_0x5d7242['format'],_0x5d7242['colorSpace']),_0x16879a=_0x124d55['convert'](_0x5d7242['type']),_0x525b07=_0x489c96(_0x5d7242['internalFormat'],_0x561ac8,_0x16879a,_0x5d7242['colorSpace'],!0x0===_0xc0e7a8['isXRRenderTarget']),_0x3a326d=_0x24b694(_0xc0e7a8);_0x51c63f['renderbufferStorageMultisample'](_0x51c63f['RENDERBUFFER'],_0x3a326d,_0x525b07,_0xc0e7a8['width'],_0xc0e7a8['height']),_0x51c63f['framebufferRenderbuffer'](_0x51c63f['FRAMEBUFFER'],_0x51c63f['COLOR_ATTACHMENT0']+_0x2579d0,_0x51c63f['RENDERBUFFER'],_0x2032f0['__webglColorRenderbuffer'][_0x2579d0]);}_0x51c63f['bindRenderbuffer'](_0x51c63f['RENDERBUFFER'],null),_0xc0e7a8['depthBuffer']&&(_0x2032f0['__webglDepthRenderbuffer']=_0x51c63f['createRenderbuffer'](),_0x3aca34(_0x2032f0['__webglDepthRenderbuffer'],_0xc0e7a8,!0x0)),_0x20f20e['bindFramebuffer'](_0x51c63f['FRAMEBUFFER'],null);}}if(_0x4e8a21){_0x20f20e['bindTexture'](_0x51c63f['TEXTURE_CUBE_MAP'],_0x1faa10['__webglTexture']),_0x1dde54(_0x51c63f['TEXTURE_CUBE_MAP'],_0x2b4b8c);for(let _0x239dca=0x0;_0x239dca<0x6;_0x239dca++)if(_0x2b4b8c['mipmaps']&&_0x2b4b8c['mipmaps']['length']>0x0){for(let _0x3fe061=0x0;_0x3fe061<_0x2b4b8c['mipmaps']['length'];_0x3fe061++)_0x18baf5(_0x2032f0['__webglFramebuffer'][_0x239dca][_0x3fe061],_0xc0e7a8,_0x2b4b8c,_0x51c63f['COLOR_ATTACHMENT0'],_0x51c63f['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x239dca,_0x3fe061);}else _0x18baf5(_0x2032f0['__webglFramebuffer'][_0x239dca],_0xc0e7a8,_0x2b4b8c,_0x51c63f['COLOR_ATTACHMENT0'],_0x51c63f['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x239dca,0x0);_0x1db554(_0x2b4b8c)&&_0x553106(_0x51c63f['TEXTURE_CUBE_MAP']),_0x20f20e['unbindTexture']();}else{if(_0x20355b){for(let _0x3cdb83=0x0,_0xfb32d0=_0x314915['length'];_0x3cdb83<_0xfb32d0;_0x3cdb83++){const _0x21e7bb=_0x314915[_0x3cdb83],_0x49273e=_0x2f7c40['get'](_0x21e7bb);_0x20f20e['bindTexture'](_0x51c63f['TEXTURE_2D'],_0x49273e['__webglTexture']),_0x1dde54(_0x51c63f['TEXTURE_2D'],_0x21e7bb),_0x18baf5(_0x2032f0['__webglFramebuffer'],_0xc0e7a8,_0x21e7bb,_0x51c63f['COLOR_ATTACHMENT0']+_0x3cdb83,_0x51c63f['TEXTURE_2D'],0x0),_0x1db554(_0x21e7bb)&&_0x553106(_0x51c63f['TEXTURE_2D']);}_0x20f20e['unbindTexture']();}else{let _0x3969cb=_0x51c63f['TEXTURE_2D'];if((_0xc0e7a8['isWebGL3DRenderTarget']||_0xc0e7a8['isWebGLArrayRenderTarget'])&&(_0x3969cb=_0xc0e7a8['isWebGL3DRenderTarget']?_0x51c63f['TEXTURE_3D']:_0x51c63f['TEXTURE_2D_ARRAY']),_0x20f20e['bindTexture'](_0x3969cb,_0x1faa10['__webglTexture']),_0x1dde54(_0x3969cb,_0x2b4b8c),_0x2b4b8c['mipmaps']&&_0x2b4b8c['mipmaps']['length']>0x0){for(let _0x23def4=0x0;_0x23def4<_0x2b4b8c['mipmaps']['length'];_0x23def4++)_0x18baf5(_0x2032f0['__webglFramebuffer'][_0x23def4],_0xc0e7a8,_0x2b4b8c,_0x51c63f['COLOR_ATTACHMENT0'],_0x3969cb,_0x23def4);}else _0x18baf5(_0x2032f0['__webglFramebuffer'],_0xc0e7a8,_0x2b4b8c,_0x51c63f['COLOR_ATTACHMENT0'],_0x3969cb,0x0);_0x1db554(_0x2b4b8c)&&_0x553106(_0x3969cb),_0x20f20e['unbindTexture']();}}_0xc0e7a8['depthBuffer']&&_0x214696(_0xc0e7a8);},this['updateRenderTargetMipmap']=function(_0x24608a){const _0x41e8c4=_0x24608a['textures'];for(let _0x4b2f24=0x0,_0x38fccb=_0x41e8c4['length'];_0x4b2f24<_0x38fccb;_0x4b2f24++){const _0x9bf3c0=_0x41e8c4[_0x4b2f24];if(_0x1db554(_0x9bf3c0)){const _0x11bca5=_0x40680d(_0x24608a),_0x2f87ed=_0x2f7c40['get'](_0x9bf3c0)['__webglTexture'];_0x20f20e['bindTexture'](_0x11bca5,_0x2f87ed),_0x553106(_0x11bca5),_0x20f20e['unbindTexture']();}}},this['updateMultisampleRenderTarget']=function(_0x4a2b48){if(_0x4a2b48['samples']>0x0){if(!0x1===_0x27456e(_0x4a2b48)){const _0x552977=_0x4a2b48['textures'],_0x586e7e=_0x4a2b48['width'],_0x3273a5=_0x4a2b48['height'];let _0x1d2a29=_0x51c63f['COLOR_BUFFER_BIT'];const _0x184820=_0x4a2b48['stencilBuffer']?_0x51c63f['DEPTH_STENCIL_ATTACHMENT']:_0x51c63f['DEPTH_ATTACHMENT'],_0x19ef73=_0x2f7c40['get'](_0x4a2b48),_0x465750=_0x552977['length']>0x1;if(_0x465750){for(let _0x4456de=0x0;_0x4456de<_0x552977['length'];_0x4456de++)_0x20f20e['bindFramebuffer'](_0x51c63f['FRAMEBUFFER'],_0x19ef73['__webglMultisampledFramebuffer']),_0x51c63f['framebufferRenderbuffer'](_0x51c63f['FRAMEBUFFER'],_0x51c63f['COLOR_ATTACHMENT0']+_0x4456de,_0x51c63f['RENDERBUFFER'],null),_0x20f20e['bindFramebuffer'](_0x51c63f['FRAMEBUFFER'],_0x19ef73['__webglFramebuffer']),_0x51c63f['framebufferTexture2D'](_0x51c63f['DRAW_FRAMEBUFFER'],_0x51c63f['COLOR_ATTACHMENT0']+_0x4456de,_0x51c63f['TEXTURE_2D'],null,0x0);}_0x20f20e['bindFramebuffer'](_0x51c63f['READ_FRAMEBUFFER'],_0x19ef73['__webglMultisampledFramebuffer']),_0x20f20e['bindFramebuffer'](_0x51c63f['DRAW_FRAMEBUFFER'],_0x19ef73['__webglFramebuffer']);for(let _0x4627e6=0x0;_0x4627e6<_0x552977['length'];_0x4627e6++){if(_0x4a2b48['resolveDepthBuffer']&&(_0x4a2b48['depthBuffer']&&(_0x1d2a29|=_0x51c63f['DEPTH_BUFFER_BIT']),_0x4a2b48['stencilBuffer']&&_0x4a2b48['resolveStencilBuffer']&&(_0x1d2a29|=_0x51c63f['STENCIL_BUFFER_BIT'])),_0x465750){_0x51c63f['framebufferRenderbuffer'](_0x51c63f['READ_FRAMEBUFFER'],_0x51c63f['COLOR_ATTACHMENT0'],_0x51c63f['RENDERBUFFER'],_0x19ef73['__webglColorRenderbuffer'][_0x4627e6]);const _0x432186=_0x2f7c40['get'](_0x552977[_0x4627e6])['__webglTexture'];_0x51c63f['framebufferTexture2D'](_0x51c63f['DRAW_FRAMEBUFFER'],_0x51c63f['COLOR_ATTACHMENT0'],_0x51c63f['TEXTURE_2D'],_0x432186,0x0);}_0x51c63f['blitFramebuffer'](0x0,0x0,_0x586e7e,_0x3273a5,0x0,0x0,_0x586e7e,_0x3273a5,_0x1d2a29,_0x51c63f['NEAREST']),!0x0===_0x1fa7f8&&(_0x200dc5['length']=0x0,_0x3ac38c['length']=0x0,_0x200dc5['push'](_0x51c63f['COLOR_ATTACHMENT0']+_0x4627e6),_0x4a2b48['depthBuffer']&&!0x1===_0x4a2b48['resolveDepthBuffer']&&(_0x200dc5['push'](_0x184820),_0x3ac38c['push'](_0x184820),_0x51c63f['invalidateFramebuffer'](_0x51c63f['DRAW_FRAMEBUFFER'],_0x3ac38c)),_0x51c63f['invalidateFramebuffer'](_0x51c63f['READ_FRAMEBUFFER'],_0x200dc5));}if(_0x20f20e['bindFramebuffer'](_0x51c63f['READ_FRAMEBUFFER'],null),_0x20f20e['bindFramebuffer'](_0x51c63f['DRAW_FRAMEBUFFER'],null),_0x465750)for(let _0x55d662=0x0;_0x55d662<_0x552977['length'];_0x55d662++){_0x20f20e['bindFramebuffer'](_0x51c63f['FRAMEBUFFER'],_0x19ef73['__webglMultisampledFramebuffer']),_0x51c63f['framebufferRenderbuffer'](_0x51c63f['FRAMEBUFFER'],_0x51c63f['COLOR_ATTACHMENT0']+_0x55d662,_0x51c63f['RENDERBUFFER'],_0x19ef73['__webglColorRenderbuffer'][_0x55d662]);const _0x41dbbb=_0x2f7c40['get'](_0x552977[_0x55d662])['__webglTexture'];_0x20f20e['bindFramebuffer'](_0x51c63f['FRAMEBUFFER'],_0x19ef73['__webglFramebuffer']),_0x51c63f['framebufferTexture2D'](_0x51c63f['DRAW_FRAMEBUFFER'],_0x51c63f['COLOR_ATTACHMENT0']+_0x55d662,_0x51c63f['TEXTURE_2D'],_0x41dbbb,0x0);}_0x20f20e['bindFramebuffer'](_0x51c63f['DRAW_FRAMEBUFFER'],_0x19ef73['__webglMultisampledFramebuffer']);}else{if(_0x4a2b48['depthBuffer']&&!0x1===_0x4a2b48['resolveDepthBuffer']&&_0x1fa7f8){const _0x1b78c9=_0x4a2b48['stencilBuffer']?_0x51c63f['DEPTH_STENCIL_ATTACHMENT']:_0x51c63f['DEPTH_ATTACHMENT'];_0x51c63f['invalidateFramebuffer'](_0x51c63f['DRAW_FRAMEBUFFER'],[_0x1b78c9]);}}}},this['setupDepthRenderbuffer']=_0x214696,this['setupFrameBufferTexture']=_0x18baf5,this['useMultisampledRTT']=_0x27456e;}function _0x27b9e3(_0x54450f,_0x339601){return{'convert':function(_0x4cf0c3,_0x3c41d2=_0x3e8626['jf0']){let _0x33ada4;const _0x34eba8=_0x3e8626['ppV']['getTransfer'](_0x3c41d2);if(_0x4cf0c3===_0x3e8626['OUM'])return _0x54450f['UNSIGNED_BYTE'];if(_0x4cf0c3===_0x3e8626['Wew'])return _0x54450f['UNSIGNED_SHORT_4_4_4_4'];if(_0x4cf0c3===_0x3e8626['gJ2'])return _0x54450f['UNSIGNED_SHORT_5_5_5_1'];if(_0x4cf0c3===_0x3e8626['Dmk'])return _0x54450f['UNSIGNED_INT_5_9_9_9_REV'];if(_0x4cf0c3===_0x3e8626['tJf'])return _0x54450f['BYTE'];if(_0x4cf0c3===_0x3e8626['fBL'])return _0x54450f['SHORT'];if(_0x4cf0c3===_0x3e8626['cHt'])return _0x54450f['UNSIGNED_SHORT'];if(_0x4cf0c3===_0x3e8626['Yuy'])return _0x54450f['INT'];if(_0x4cf0c3===_0x3e8626['bkx'])return _0x54450f['UNSIGNED_INT'];if(_0x4cf0c3===_0x3e8626['RQf'])return _0x54450f['FLOAT'];if(_0x4cf0c3===_0x3e8626['ix0'])return _0x54450f['HALF_FLOAT'];if(_0x4cf0c3===_0x3e8626['wrO'])return _0x54450f['ALPHA'];if(_0x4cf0c3===_0x3e8626['HIg'])return _0x54450f['RGB'];if(_0x4cf0c3===_0x3e8626['GWd'])return _0x54450f['RGBA'];if(_0x4cf0c3===_0x3e8626['Kzv'])return _0x54450f['LUMINANCE'];if(_0x4cf0c3===_0x3e8626['CMB'])return _0x54450f['LUMINANCE_ALPHA'];if(_0x4cf0c3===_0x3e8626['zdS'])return _0x54450f['DEPTH_COMPONENT'];if(_0x4cf0c3===_0x3e8626['dcC'])return _0x54450f['DEPTH_STENCIL'];if(_0x4cf0c3===_0x3e8626['VT0'])return _0x54450f['RED'];if(_0x4cf0c3===_0x3e8626['ZQM'])return _0x54450f['RED_INTEGER'];if(_0x4cf0c3===_0x3e8626['paN'])return _0x54450f['RG'];if(_0x4cf0c3===_0x3e8626['TkQ'])return _0x54450f['RG_INTEGER'];if(_0x4cf0c3===_0x3e8626['c90'])return _0x54450f['RGBA_INTEGER'];if(_0x4cf0c3===_0x3e8626['IE4']||_0x4cf0c3===_0x3e8626['Nz6']||_0x4cf0c3===_0x3e8626['jR7']||_0x4cf0c3===_0x3e8626['BXX']){if(_0x34eba8===_0x3e8626['KLL']){if(_0x33ada4=_0x339601['get']('WEBGL_compressed_texture_s3tc_srgb'),null===_0x33ada4)return null;if(_0x4cf0c3===_0x3e8626['IE4'])return _0x33ada4['COMPRESSED_SRGB_S3TC_DXT1_EXT'];if(_0x4cf0c3===_0x3e8626['Nz6'])return _0x33ada4['COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT'];if(_0x4cf0c3===_0x3e8626['jR7'])return _0x33ada4['COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT'];if(_0x4cf0c3===_0x3e8626['BXX'])return _0x33ada4['COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT'];}else{if(_0x33ada4=_0x339601['get']('WEBGL_compressed_texture_s3tc'),null===_0x33ada4)return null;if(_0x4cf0c3===_0x3e8626['IE4'])return _0x33ada4['COMPRESSED_RGB_S3TC_DXT1_EXT'];if(_0x4cf0c3===_0x3e8626['Nz6'])return _0x33ada4['COMPRESSED_RGBA_S3TC_DXT1_EXT'];if(_0x4cf0c3===_0x3e8626['jR7'])return _0x33ada4['COMPRESSED_RGBA_S3TC_DXT3_EXT'];if(_0x4cf0c3===_0x3e8626['BXX'])return _0x33ada4['COMPRESSED_RGBA_S3TC_DXT5_EXT'];}}if(_0x4cf0c3===_0x3e8626['k6Q']||_0x4cf0c3===_0x3e8626['kTp']||_0x4cf0c3===_0x3e8626['HXV']||_0x4cf0c3===_0x3e8626['pBf']){if(_0x33ada4=_0x339601['get']('WEBGL_compressed_texture_pvrtc'),null===_0x33ada4)return null;if(_0x4cf0c3===_0x3e8626['k6Q'])return _0x33ada4['COMPRESSED_RGB_PVRTC_4BPPV1_IMG'];if(_0x4cf0c3===_0x3e8626['kTp'])return _0x33ada4['COMPRESSED_RGB_PVRTC_2BPPV1_IMG'];if(_0x4cf0c3===_0x3e8626['HXV'])return _0x33ada4['COMPRESSED_RGBA_PVRTC_4BPPV1_IMG'];if(_0x4cf0c3===_0x3e8626['pBf'])return _0x33ada4['COMPRESSED_RGBA_PVRTC_2BPPV1_IMG'];}if(_0x4cf0c3===_0x3e8626['CVz']||_0x4cf0c3===_0x3e8626['Riy']||_0x4cf0c3===_0x3e8626['KDk']){if(_0x33ada4=_0x339601['get']('WEBGL_compressed_texture_etc'),null===_0x33ada4)return null;if(_0x4cf0c3===_0x3e8626['CVz']||_0x4cf0c3===_0x3e8626['Riy'])return _0x34eba8===_0x3e8626['KLL']?_0x33ada4['COMPRESSED_SRGB8_ETC2']:_0x33ada4['COMPRESSED_RGB8_ETC2'];if(_0x4cf0c3===_0x3e8626['KDk'])return _0x34eba8===_0x3e8626['KLL']?_0x33ada4['COMPRESSED_SRGB8_ALPHA8_ETC2_EAC']:_0x33ada4['COMPRESSED_RGBA8_ETC2_EAC'];}if(_0x4cf0c3===_0x3e8626['qa3']||_0x4cf0c3===_0x3e8626['B_h']||_0x4cf0c3===_0x3e8626['czI']||_0x4cf0c3===_0x3e8626['rSH']||_0x4cf0c3===_0x3e8626['Qrf']||_0x4cf0c3===_0x3e8626['psI']||_0x4cf0c3===_0x3e8626['a5J']||_0x4cf0c3===_0x3e8626['_QJ']||_0x4cf0c3===_0x3e8626['uB5']||_0x4cf0c3===_0x3e8626['lyL']||_0x4cf0c3===_0x3e8626['bC7']||_0x4cf0c3===_0x3e8626['y3Z']||_0x4cf0c3===_0x3e8626['ojs']||_0x4cf0c3===_0x3e8626['S$4']){if(_0x33ada4=_0x339601['get']('WEBGL_compressed_texture_astc'),null===_0x33ada4)return null;if(_0x4cf0c3===_0x3e8626['qa3'])return _0x34eba8===_0x3e8626['KLL']?_0x33ada4['COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR']:_0x33ada4['COMPRESSED_RGBA_ASTC_4x4_KHR'];if(_0x4cf0c3===_0x3e8626['B_h'])return _0x34eba8===_0x3e8626['KLL']?_0x33ada4['COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR']:_0x33ada4['COMPRESSED_RGBA_ASTC_5x4_KHR'];if(_0x4cf0c3===_0x3e8626['czI'])return _0x34eba8===_0x3e8626['KLL']?_0x33ada4['COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR']:_0x33ada4['COMPRESSED_RGBA_ASTC_5x5_KHR'];if(_0x4cf0c3===_0x3e8626['rSH'])return _0x34eba8===_0x3e8626['KLL']?_0x33ada4['COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR']:_0x33ada4['COMPRESSED_RGBA_ASTC_6x5_KHR'];if(_0x4cf0c3===_0x3e8626['Qrf'])return _0x34eba8===_0x3e8626['KLL']?_0x33ada4['COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR']:_0x33ada4['COMPRESSED_RGBA_ASTC_6x6_KHR'];if(_0x4cf0c3===_0x3e8626['psI'])return _0x34eba8===_0x3e8626['KLL']?_0x33ada4['COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR']:_0x33ada4['COMPRESSED_RGBA_ASTC_8x5_KHR'];if(_0x4cf0c3===_0x3e8626['a5J'])return _0x34eba8===_0x3e8626['KLL']?_0x33ada4['COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR']:_0x33ada4['COMPRESSED_RGBA_ASTC_8x6_KHR'];if(_0x4cf0c3===_0x3e8626['_QJ'])return _0x34eba8===_0x3e8626['KLL']?_0x33ada4['COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR']:_0x33ada4['COMPRESSED_RGBA_ASTC_8x8_KHR'];if(_0x4cf0c3===_0x3e8626['uB5'])return _0x34eba8===_0x3e8626['KLL']?_0x33ada4['COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR']:_0x33ada4['COMPRESSED_RGBA_ASTC_10x5_KHR'];if(_0x4cf0c3===_0x3e8626['lyL'])return _0x34eba8===_0x3e8626['KLL']?_0x33ada4['COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR']:_0x33ada4['COMPRESSED_RGBA_ASTC_10x6_KHR'];if(_0x4cf0c3===_0x3e8626['bC7'])return _0x34eba8===_0x3e8626['KLL']?_0x33ada4['COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR']:_0x33ada4['COMPRESSED_RGBA_ASTC_10x8_KHR'];if(_0x4cf0c3===_0x3e8626['y3Z'])return _0x34eba8===_0x3e8626['KLL']?_0x33ada4['COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR']:_0x33ada4['COMPRESSED_RGBA_ASTC_10x10_KHR'];if(_0x4cf0c3===_0x3e8626['ojs'])return _0x34eba8===_0x3e8626['KLL']?_0x33ada4['COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR']:_0x33ada4['COMPRESSED_RGBA_ASTC_12x10_KHR'];if(_0x4cf0c3===_0x3e8626['S$4'])return _0x34eba8===_0x3e8626['KLL']?_0x33ada4['COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR']:_0x33ada4['COMPRESSED_RGBA_ASTC_12x12_KHR'];}if(_0x4cf0c3===_0x3e8626['Fn']||_0x4cf0c3===_0x3e8626['H23']||_0x4cf0c3===_0x3e8626['W9U']){if(_0x33ada4=_0x339601['get']('EXT_texture_compression_bptc'),null===_0x33ada4)return null;if(_0x4cf0c3===_0x3e8626['Fn'])return _0x34eba8===_0x3e8626['KLL']?_0x33ada4['COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT']:_0x33ada4['COMPRESSED_RGBA_BPTC_UNORM_EXT'];if(_0x4cf0c3===_0x3e8626['H23'])return _0x33ada4['COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT'];if(_0x4cf0c3===_0x3e8626['W9U'])return _0x33ada4['COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT'];}if(_0x4cf0c3===_0x3e8626['Kef']||_0x4cf0c3===_0x3e8626['XG_']||_0x4cf0c3===_0x3e8626['HO_']||_0x4cf0c3===_0x3e8626['CWW']){if(_0x33ada4=_0x339601['get']('EXT_texture_compression_rgtc'),null===_0x33ada4)return null;if(_0x4cf0c3===_0x3e8626['Fn'])return _0x33ada4['COMPRESSED_RED_RGTC1_EXT'];if(_0x4cf0c3===_0x3e8626['XG_'])return _0x33ada4['COMPRESSED_SIGNED_RED_RGTC1_EXT'];if(_0x4cf0c3===_0x3e8626['HO_'])return _0x33ada4['COMPRESSED_RED_GREEN_RGTC2_EXT'];if(_0x4cf0c3===_0x3e8626['CWW'])return _0x33ada4['COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT'];}return _0x4cf0c3===_0x3e8626['V3x']?_0x54450f['UNSIGNED_INT_24_8']:void 0x0!==_0x54450f[_0x4cf0c3]?_0x54450f[_0x4cf0c3]:null;}};}const _0x3a4db7={'type':'move'};class _0x45dde0{constructor(){this['_targetRay']=null,this['_grip']=null,this['_hand']=null;}['getHandSpace'](){return null===this['_hand']&&(this['_hand']=new _0x3e8626['YJl'](),this['_hand']['matrixAutoUpdate']=!0x1,this['_hand']['visible']=!0x1,this['_hand']['joints']={},this['_hand']['inputState']={'pinching':!0x1}),this['_hand'];}['getTargetRaySpace'](){return null===this['_targetRay']&&(this['_targetRay']=new _0x3e8626['YJl'](),this['_targetRay']['matrixAutoUpdate']=!0x1,this['_targetRay']['visible']=!0x1,this['_targetRay']['hasLinearVelocity']=!0x1,this['_targetRay']['linearVelocity']=new _0x3e8626['Pq0'](),this['_targetRay']['hasAngularVelocity']=!0x1,this['_targetRay']['angularVelocity']=new _0x3e8626['Pq0']()),this['_targetRay'];}['getGripSpace'](){return null===this['_grip']&&(this['_grip']=new _0x3e8626['YJl'](),this['_grip']['matrixAutoUpdate']=!0x1,this['_grip']['visible']=!0x1,this['_grip']['hasLinearVelocity']=!0x1,this['_grip']['linearVelocity']=new _0x3e8626['Pq0'](),this['_grip']['hasAngularVelocity']=!0x1,this['_grip']['angularVelocity']=new _0x3e8626['Pq0']()),this['_grip'];}['dispatchEvent'](_0x17f309){return null!==this['_targetRay']&&this['_targetRay']['dispatchEvent'](_0x17f309),null!==this['_grip']&&this['_grip']['dispatchEvent'](_0x17f309),null!==this['_hand']&&this['_hand']['dispatchEvent'](_0x17f309),this;}['connect'](_0xb22fe0){if(_0xb22fe0&&_0xb22fe0['hand']){const _0x510b9c=this['_hand'];if(_0x510b9c){for(const _0x5bea79 of _0xb22fe0['hand']['values']())this['_getHandJoint'](_0x510b9c,_0x5bea79);}}return this['dispatchEvent']({'type':'connected','data':_0xb22fe0}),this;}['disconnect'](_0x146b92){return this['dispatchEvent']({'type':'disconnected','data':_0x146b92}),null!==this['_targetRay']&&(this['_targetRay']['visible']=!0x1),null!==this['_grip']&&(this['_grip']['visible']=!0x1),null!==this['_hand']&&(this['_hand']['visible']=!0x1),this;}['update'](_0x44de56,_0x5aec98,_0x4da3e5){let _0x86e0fe=null,_0x491228=null,_0x9c1eb0=null;const _0x8122c1=this['_targetRay'],_0x146b31=this['_grip'],_0x32c6f2=this['_hand'];if(_0x44de56&&'visible-blurred'!==_0x5aec98['session']['visibilityState']){if(_0x32c6f2&&_0x44de56['hand']){_0x9c1eb0=!0x0;for(const _0x13a038 of _0x44de56['hand']['values']()){const _0xa6075=_0x5aec98['getJointPose'](_0x13a038,_0x4da3e5),_0x4eedda=this['_getHandJoint'](_0x32c6f2,_0x13a038);null!==_0xa6075&&(_0x4eedda['matrix']['fromArray'](_0xa6075['transform']['matrix']),_0x4eedda['matrix']['decompose'](_0x4eedda['position'],_0x4eedda['rotation'],_0x4eedda['scale']),_0x4eedda['matrixWorldNeedsUpdate']=!0x0,_0x4eedda['jointRadius']=_0xa6075['radius']),_0x4eedda['visible']=null!==_0xa6075;}const _0x2a44d0=_0x32c6f2['joints']['index-finger-tip'],_0xf4a46e=_0x32c6f2['joints']['thumb-tip'],_0x486e22=_0x2a44d0['position']['distanceTo'](_0xf4a46e['position']),_0x3122b7=0.02,_0xedcbda=0.005;_0x32c6f2['inputState']['pinching']&&_0x486e22>_0x3122b7+_0xedcbda?(_0x32c6f2['inputState']['pinching']=!0x1,this['dispatchEvent']({'type':'pinchend','handedness':_0x44de56['handedness'],'target':this})):!_0x32c6f2['inputState']['pinching']&&_0x486e22<=_0x3122b7-_0xedcbda&&(_0x32c6f2['inputState']['pinching']=!0x0,this['dispatchEvent']({'type':'pinchstart','handedness':_0x44de56['handedness'],'target':this}));}else null!==_0x146b31&&_0x44de56['gripSpace']&&(_0x491228=_0x5aec98['getPose'](_0x44de56['gripSpace'],_0x4da3e5),null!==_0x491228&&(_0x146b31['matrix']['fromArray'](_0x491228['transform']['matrix']),_0x146b31['matrix']['decompose'](_0x146b31['position'],_0x146b31['rotation'],_0x146b31['scale']),_0x146b31['matrixWorldNeedsUpdate']=!0x0,_0x491228['linearVelocity']?(_0x146b31['hasLinearVelocity']=!0x0,_0x146b31['linearVelocity']['copy'](_0x491228['linearVelocity'])):_0x146b31['hasLinearVelocity']=!0x1,_0x491228['angularVelocity']?(_0x146b31['hasAngularVelocity']=!0x0,_0x146b31['angularVelocity']['copy'](_0x491228['angularVelocity'])):_0x146b31['hasAngularVelocity']=!0x1));null!==_0x8122c1&&(_0x86e0fe=_0x5aec98['getPose'](_0x44de56['targetRaySpace'],_0x4da3e5),null===_0x86e0fe&&null!==_0x491228&&(_0x86e0fe=_0x491228),null!==_0x86e0fe&&(_0x8122c1['matrix']['fromArray'](_0x86e0fe['transform']['matrix']),_0x8122c1['matrix']['decompose'](_0x8122c1['position'],_0x8122c1['rotation'],_0x8122c1['scale']),_0x8122c1['matrixWorldNeedsUpdate']=!0x0,_0x86e0fe['linearVelocity']?(_0x8122c1['hasLinearVelocity']=!0x0,_0x8122c1['linearVelocity']['copy'](_0x86e0fe['linearVelocity'])):_0x8122c1['hasLinearVelocity']=!0x1,_0x86e0fe['angularVelocity']?(_0x8122c1['hasAngularVelocity']=!0x0,_0x8122c1['angularVelocity']['copy'](_0x86e0fe['angularVelocity'])):_0x8122c1['hasAngularVelocity']=!0x1,this['dispatchEvent'](_0x3a4db7)));}return null!==_0x8122c1&&(_0x8122c1['visible']=null!==_0x86e0fe),null!==_0x146b31&&(_0x146b31['visible']=null!==_0x491228),null!==_0x32c6f2&&(_0x32c6f2['visible']=null!==_0x9c1eb0),this;}['_getHandJoint'](_0x125e7d,_0x81adbb){if(void 0x0===_0x125e7d['joints'][_0x81adbb['jointName']]){const _0x4de4e0=new _0x3e8626['YJl']();_0x4de4e0['matrixAutoUpdate']=!0x1,_0x4de4e0['visible']=!0x1,_0x125e7d['joints'][_0x81adbb['jointName']]=_0x4de4e0,_0x125e7d['add'](_0x4de4e0);}return _0x125e7d['joints'][_0x81adbb['jointName']];}}class _0x1a0188{constructor(){this['texture']=null,this['mesh']=null,this['depthNear']=0x0,this['depthFar']=0x0;}['init'](_0x2a4b55,_0x1e2e12,_0x4ef96f){if(null===this['texture']){const _0x503af1=new _0x3e8626['gPd']();_0x2a4b55['properties']['get'](_0x503af1)['__webglTexture']=_0x1e2e12['texture'],_0x1e2e12['depthNear']===_0x4ef96f['depthNear']&&_0x1e2e12['depthFar']===_0x4ef96f['depthFar']||(this['depthNear']=_0x1e2e12['depthNear'],this['depthFar']=_0x1e2e12['depthFar']),this['texture']=_0x503af1;}}['getMesh'](_0x2edfdc){if(null!==this['texture']&&null===this['mesh']){const _0x18ebc6=_0x2edfdc['cameras'][0x0]['viewport'],_0x37f54d=new _0x3e8626['BKk']({'vertexShader':'\x0avoid\x20main()\x20{\x0a\x0a\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x0a}','fragmentShader':'\x0auniform\x20sampler2DArray\x20depthColor;\x0auniform\x20float\x20depthWidth;\x0auniform\x20float\x20depthHeight;\x0a\x0avoid\x20main()\x20{\x0a\x0a\x09vec2\x20coord\x20=\x20vec2(\x20gl_FragCoord.x\x20/\x20depthWidth,\x20gl_FragCoord.y\x20/\x20depthHeight\x20);\x0a\x0a\x09if\x20(\x20coord.x\x20>=\x201.0\x20)\x20{\x0a\x0a\x09\x09gl_FragDepth\x20=\x20texture(\x20depthColor,\x20vec3(\x20coord.x\x20-\x201.0,\x20coord.y,\x201\x20)\x20).r;\x0a\x0a\x09}\x20else\x20{\x0a\x0a\x09\x09gl_FragDepth\x20=\x20texture(\x20depthColor,\x20vec3(\x20coord.x,\x20coord.y,\x200\x20)\x20).r;\x0a\x0a\x09}\x0a\x0a}','uniforms':{'depthColor':{'value':this['texture']},'depthWidth':{'value':_0x18ebc6['z']},'depthHeight':{'value':_0x18ebc6['w']}}});this['mesh']=new _0x3e8626['eaF'](new _0x3e8626['bdM'](0x14,0x14),_0x37f54d);}return this['mesh'];}['reset'](){this['texture']=null,this['mesh']=null;}['getDepthTexture'](){return this['texture'];}}class _0x5f0c12 extends _0x3e8626['Qev']{constructor(_0x52dcc9,_0x3cad45){super();const _0x33dd27=this;let _0x4bac62=null,_0xda4992=0x1,_0x54c2e8=null,_0x163204='local-floor',_0x1333c2=0x1,_0x5d63a4=null,_0x1ce32d=null,_0x22f84e=null,_0x1e4cb5=null,_0x5d2400=null,_0x2ef8f9=null;const _0x16beb1=new _0x1a0188(),_0x4af530=_0x3cad45['getContextAttributes']();let _0x5af52d=null,_0x491e90=null;const _0x3cbce1=[],_0x35bf72=[],_0x7c7fd1=new _0x3e8626['I9Y']();let _0x362c40=null;const _0x2ab2c5=new _0x3e8626['ubm']();_0x2ab2c5['viewport']=new _0x3e8626['IUQ']();const _0x5dceb4=new _0x3e8626['ubm']();_0x5dceb4['viewport']=new _0x3e8626['IUQ']();const _0x1e1d94=[_0x2ab2c5,_0x5dceb4],_0x15fd48=new _0x3e8626['nZQ']();let _0x146e09=null,_0x467911=null;function _0xc7020c(_0x4fa4ab){const _0xb38a2=_0x35bf72['indexOf'](_0x4fa4ab['inputSource']);if(-0x1===_0xb38a2)return;const _0xd8100=_0x3cbce1[_0xb38a2];void 0x0!==_0xd8100&&(_0xd8100['update'](_0x4fa4ab['inputSource'],_0x4fa4ab['frame'],_0x5d63a4||_0x54c2e8),_0xd8100['dispatchEvent']({'type':_0x4fa4ab['type'],'data':_0x4fa4ab['inputSource']}));}function _0x49a3c8(){_0x4bac62['removeEventListener']('select',_0xc7020c),_0x4bac62['removeEventListener']('selectstart',_0xc7020c),_0x4bac62['removeEventListener']('selectend',_0xc7020c),_0x4bac62['removeEventListener']('squeeze',_0xc7020c),_0x4bac62['removeEventListener']('squeezestart',_0xc7020c),_0x4bac62['removeEventListener']('squeezeend',_0xc7020c),_0x4bac62['removeEventListener']('end',_0x49a3c8),_0x4bac62['removeEventListener']('inputsourceschange',_0x2cf9a3);for(let _0x507735=0x0;_0x507735<_0x3cbce1['length'];_0x507735++){const _0x3d507a=_0x35bf72[_0x507735];null!==_0x3d507a&&(_0x35bf72[_0x507735]=null,_0x3cbce1[_0x507735]['disconnect'](_0x3d507a));}_0x146e09=null,_0x467911=null,_0x16beb1['reset'](),_0x52dcc9['setRenderTarget'](_0x5af52d),_0x5d2400=null,_0x1e4cb5=null,_0x22f84e=null,_0x4bac62=null,_0x491e90=null,_0x4788f0['stop'](),_0x33dd27['isPresenting']=!0x1,_0x52dcc9['setPixelRatio'](_0x362c40),_0x52dcc9['setSize'](_0x7c7fd1['width'],_0x7c7fd1['height'],!0x1),_0x33dd27['dispatchEvent']({'type':'sessionend'});}function _0x2cf9a3(_0x236f6b){for(let _0x105268=0x0;_0x105268<_0x236f6b['removed']['length'];_0x105268++){const _0x34c365=_0x236f6b['removed'][_0x105268],_0x1f6a35=_0x35bf72['indexOf'](_0x34c365);_0x1f6a35>=0x0&&(_0x35bf72[_0x1f6a35]=null,_0x3cbce1[_0x1f6a35]['disconnect'](_0x34c365));}for(let _0x225fcb=0x0;_0x225fcb<_0x236f6b['added']['length'];_0x225fcb++){const _0x544bb9=_0x236f6b['added'][_0x225fcb];let _0x51914d=_0x35bf72['indexOf'](_0x544bb9);if(-0x1===_0x51914d){for(let _0x505a12=0x0;_0x505a12<_0x3cbce1['length'];_0x505a12++){if(_0x505a12>=_0x35bf72['length']){_0x35bf72['push'](_0x544bb9),_0x51914d=_0x505a12;break;}if(null===_0x35bf72[_0x505a12]){_0x35bf72[_0x505a12]=_0x544bb9,_0x51914d=_0x505a12;break;}}if(-0x1===_0x51914d)break;}const _0x1141e7=_0x3cbce1[_0x51914d];_0x1141e7&&_0x1141e7['connect'](_0x544bb9);}}this['cameraAutoUpdate']=!0x0,this['enabled']=!0x1,this['isPresenting']=!0x1,this['getController']=function(_0x5cdaaa){let _0x2d0d5b=_0x3cbce1[_0x5cdaaa];return void 0x0===_0x2d0d5b&&(_0x2d0d5b=new _0x45dde0(),_0x3cbce1[_0x5cdaaa]=_0x2d0d5b),_0x2d0d5b['getTargetRaySpace']();},this['getControllerGrip']=function(_0x1ee606){let _0x10a47f=_0x3cbce1[_0x1ee606];return void 0x0===_0x10a47f&&(_0x10a47f=new _0x45dde0(),_0x3cbce1[_0x1ee606]=_0x10a47f),_0x10a47f['getGripSpace']();},this['getHand']=function(_0x260586){let _0x5456af=_0x3cbce1[_0x260586];return void 0x0===_0x5456af&&(_0x5456af=new _0x45dde0(),_0x3cbce1[_0x260586]=_0x5456af),_0x5456af['getHandSpace']();},this['setFramebufferScaleFactor']=function(_0x20b6c4){_0xda4992=_0x20b6c4,!0x0===_0x33dd27['isPresenting']&&console['warn']('THREE.WebXRManager:\x20Cannot\x20change\x20framebuffer\x20scale\x20while\x20presenting.');},this['setReferenceSpaceType']=function(_0x2a74fb){_0x163204=_0x2a74fb,!0x0===_0x33dd27['isPresenting']&&console['warn']('THREE.WebXRManager:\x20Cannot\x20change\x20reference\x20space\x20type\x20while\x20presenting.');},this['getReferenceSpace']=function(){return _0x5d63a4||_0x54c2e8;},this['setReferenceSpace']=function(_0x4ea4c7){_0x5d63a4=_0x4ea4c7;},this['getBaseLayer']=function(){return null!==_0x1e4cb5?_0x1e4cb5:_0x5d2400;},this['getBinding']=function(){return _0x22f84e;},this['getFrame']=function(){return _0x2ef8f9;},this['getSession']=function(){return _0x4bac62;},this['setSession']=async function(_0x1e0053){if(_0x4bac62=_0x1e0053,null!==_0x4bac62){_0x5af52d=_0x52dcc9['getRenderTarget'](),_0x4bac62['addEventListener']('select',_0xc7020c),_0x4bac62['addEventListener']('selectstart',_0xc7020c),_0x4bac62['addEventListener']('selectend',_0xc7020c),_0x4bac62['addEventListener']('squeeze',_0xc7020c),_0x4bac62['addEventListener']('squeezestart',_0xc7020c),_0x4bac62['addEventListener']('squeezeend',_0xc7020c),_0x4bac62['addEventListener']('end',_0x49a3c8),_0x4bac62['addEventListener']('inputsourceschange',_0x2cf9a3),!0x0!==_0x4af530['xrCompatible']&&await _0x3cad45['makeXRCompatible'](),_0x362c40=_0x52dcc9['getPixelRatio'](),_0x52dcc9['getSize'](_0x7c7fd1);if(void 0x0!==_0x4bac62['enabledFeatures']&&_0x4bac62['enabledFeatures']['includes']('layers')){let _0x838a16=null,_0xb19a4e=null,_0x130848=null;_0x4af530['depth']&&(_0x130848=_0x4af530['stencil']?_0x3cad45['DEPTH24_STENCIL8']:_0x3cad45['DEPTH_COMPONENT24'],_0x838a16=_0x4af530['stencil']?_0x3e8626['dcC']:_0x3e8626['zdS'],_0xb19a4e=_0x4af530['stencil']?_0x3e8626['V3x']:_0x3e8626['bkx']);const _0x24cce2={'colorFormat':_0x3cad45['RGBA8'],'depthFormat':_0x130848,'scaleFactor':_0xda4992};_0x22f84e=new XRWebGLBinding(_0x4bac62,_0x3cad45),_0x1e4cb5=_0x22f84e['createProjectionLayer'](_0x24cce2),_0x4bac62['updateRenderState']({'layers':[_0x1e4cb5]}),_0x52dcc9['setPixelRatio'](0x1),_0x52dcc9['setSize'](_0x1e4cb5['textureWidth'],_0x1e4cb5['textureHeight'],!0x1),_0x491e90=new _0x3e8626['nWS'](_0x1e4cb5['textureWidth'],_0x1e4cb5['textureHeight'],{'format':_0x3e8626['GWd'],'type':_0x3e8626['OUM'],'depthTexture':new _0x3e8626['VCu'](_0x1e4cb5['textureWidth'],_0x1e4cb5['textureHeight'],_0xb19a4e,void 0x0,void 0x0,void 0x0,void 0x0,void 0x0,void 0x0,_0x838a16),'stencilBuffer':_0x4af530['stencil'],'colorSpace':_0x52dcc9['outputColorSpace'],'samples':_0x4af530['antialias']?0x4:0x0,'resolveDepthBuffer':!0x1===_0x1e4cb5['ignoreDepthValues']});}else{const _0x3e041c={'antialias':_0x4af530['antialias'],'alpha':!0x0,'depth':_0x4af530['depth'],'stencil':_0x4af530['stencil'],'framebufferScaleFactor':_0xda4992};_0x5d2400=new XRWebGLLayer(_0x4bac62,_0x3cad45,_0x3e041c),_0x4bac62['updateRenderState']({'baseLayer':_0x5d2400}),_0x52dcc9['setPixelRatio'](0x1),_0x52dcc9['setSize'](_0x5d2400['framebufferWidth'],_0x5d2400['framebufferHeight'],!0x1),_0x491e90=new _0x3e8626['nWS'](_0x5d2400['framebufferWidth'],_0x5d2400['framebufferHeight'],{'format':_0x3e8626['GWd'],'type':_0x3e8626['OUM'],'colorSpace':_0x52dcc9['outputColorSpace'],'stencilBuffer':_0x4af530['stencil']});}_0x491e90['isXRRenderTarget']=!0x0,this['setFoveation'](_0x1333c2),_0x5d63a4=null,_0x54c2e8=await _0x4bac62['requestReferenceSpace'](_0x163204),_0x4788f0['setContext'](_0x4bac62),_0x4788f0['start'](),_0x33dd27['isPresenting']=!0x0,_0x33dd27['dispatchEvent']({'type':'sessionstart'});}},this['getEnvironmentBlendMode']=function(){if(null!==_0x4bac62)return _0x4bac62['environmentBlendMode'];},this['getDepthTexture']=function(){return _0x16beb1['getDepthTexture']();};const _0x1d9bed=new _0x3e8626['Pq0'](),_0x419028=new _0x3e8626['Pq0']();function _0x449cd0(_0x188c14,_0x1f7101){null===_0x1f7101?_0x188c14['matrixWorld']['copy'](_0x188c14['matrix']):_0x188c14['matrixWorld']['multiplyMatrices'](_0x1f7101['matrixWorld'],_0x188c14['matrix']),_0x188c14['matrixWorldInverse']['copy'](_0x188c14['matrixWorld'])['invert']();}this['updateCamera']=function(_0x1eb360){if(null===_0x4bac62)return;let _0x29e15e=_0x1eb360['near'],_0x31bc16=_0x1eb360['far'];null!==_0x16beb1['texture']&&(_0x16beb1['depthNear']>0x0&&(_0x29e15e=_0x16beb1['depthNear']),_0x16beb1['depthFar']>0x0&&(_0x31bc16=_0x16beb1['depthFar'])),_0x15fd48['near']=_0x5dceb4['near']=_0x2ab2c5['near']=_0x29e15e,_0x15fd48['far']=_0x5dceb4['far']=_0x2ab2c5['far']=_0x31bc16,_0x146e09===_0x15fd48['near']&&_0x467911===_0x15fd48['far']||(_0x4bac62['updateRenderState']({'depthNear':_0x15fd48['near'],'depthFar':_0x15fd48['far']}),_0x146e09=_0x15fd48['near'],_0x467911=_0x15fd48['far']),_0x2ab2c5['layers']['mask']=0x2|_0x1eb360['layers']['mask'],_0x5dceb4['layers']['mask']=0x4|_0x1eb360['layers']['mask'],_0x15fd48['layers']['mask']=_0x2ab2c5['layers']['mask']|_0x5dceb4['layers']['mask'];const _0x2bee35=_0x1eb360['parent'],_0x28adb7=_0x15fd48['cameras'];_0x449cd0(_0x15fd48,_0x2bee35);for(let _0x3d4d7a=0x0;_0x3d4d7a<_0x28adb7['length'];_0x3d4d7a++)_0x449cd0(_0x28adb7[_0x3d4d7a],_0x2bee35);0x2===_0x28adb7['length']?function(_0x40656e,_0x4a9c4b,_0x3f7431){_0x1d9bed['setFromMatrixPosition'](_0x4a9c4b['matrixWorld']),_0x419028['setFromMatrixPosition'](_0x3f7431['matrixWorld']);const _0x321d17=_0x1d9bed['distanceTo'](_0x419028),_0x56c2ec=_0x4a9c4b['projectionMatrix']['elements'],_0x5a631d=_0x3f7431['projectionMatrix']['elements'],_0x1b0d34=_0x56c2ec[0xe]/(_0x56c2ec[0xa]-0x1),_0x344dbd=_0x56c2ec[0xe]/(_0x56c2ec[0xa]+0x1),_0xbbbae2=(_0x56c2ec[0x9]+0x1)/_0x56c2ec[0x5],_0x244c09=(_0x56c2ec[0x9]-0x1)/_0x56c2ec[0x5],_0x53138b=(_0x56c2ec[0x8]-0x1)/_0x56c2ec[0x0],_0x4e8a14=(_0x5a631d[0x8]+0x1)/_0x5a631d[0x0],_0x2affd6=_0x1b0d34*_0x53138b,_0x4f4781=_0x1b0d34*_0x4e8a14,_0x3255c1=_0x321d17/(-_0x53138b+_0x4e8a14),_0x1854a4=_0x3255c1*-_0x53138b;if(_0x4a9c4b['matrixWorld']['decompose'](_0x40656e['position'],_0x40656e['quaternion'],_0x40656e['scale']),_0x40656e['translateX'](_0x1854a4),_0x40656e['translateZ'](_0x3255c1),_0x40656e['matrixWorld']['compose'](_0x40656e['position'],_0x40656e['quaternion'],_0x40656e['scale']),_0x40656e['matrixWorldInverse']['copy'](_0x40656e['matrixWorld'])['invert'](),-0x1===_0x56c2ec[0xa])_0x40656e['projectionMatrix']['copy'](_0x4a9c4b['projectionMatrix']),_0x40656e['projectionMatrixInverse']['copy'](_0x4a9c4b['projectionMatrixInverse']);else{const _0x28389e=_0x1b0d34+_0x3255c1,_0x3d905b=_0x344dbd+_0x3255c1,_0x21e5a6=_0x2affd6-_0x1854a4,_0x1b80cc=_0x4f4781+(_0x321d17-_0x1854a4),_0x57945b=_0xbbbae2*_0x344dbd/_0x3d905b*_0x28389e,_0x2b8eb4=_0x244c09*_0x344dbd/_0x3d905b*_0x28389e;_0x40656e['projectionMatrix']['makePerspective'](_0x21e5a6,_0x1b80cc,_0x57945b,_0x2b8eb4,_0x28389e,_0x3d905b),_0x40656e['projectionMatrixInverse']['copy'](_0x40656e['projectionMatrix'])['invert']();}}(_0x15fd48,_0x2ab2c5,_0x5dceb4):_0x15fd48['projectionMatrix']['copy'](_0x2ab2c5['projectionMatrix']),function(_0x2562dd,_0x33bc35,_0x42474a){null===_0x42474a?_0x2562dd['matrix']['copy'](_0x33bc35['matrixWorld']):(_0x2562dd['matrix']['copy'](_0x42474a['matrixWorld']),_0x2562dd['matrix']['invert'](),_0x2562dd['matrix']['multiply'](_0x33bc35['matrixWorld'])),(_0x2562dd['matrix']['decompose'](_0x2562dd['position'],_0x2562dd['quaternion'],_0x2562dd['scale']),_0x2562dd['updateMatrixWorld'](!0x0),_0x2562dd['projectionMatrix']['copy'](_0x33bc35['projectionMatrix']),_0x2562dd['projectionMatrixInverse']['copy'](_0x33bc35['projectionMatrixInverse']),_0x2562dd['isPerspectiveCamera']&&(_0x2562dd['fov']=0x2*_0x3e8626['a55']*Math['atan'](0x1/_0x2562dd['projectionMatrix']['elements'][0x5]),_0x2562dd['zoom']=0x1));}(_0x1eb360,_0x15fd48,_0x2bee35);},this['getCamera']=function(){return _0x15fd48;},this['getFoveation']=function(){if(null!==_0x1e4cb5||null!==_0x5d2400)return _0x1333c2;},this['setFoveation']=function(_0x1cc1cf){_0x1333c2=_0x1cc1cf,null!==_0x1e4cb5&&(_0x1e4cb5['fixedFoveation']=_0x1cc1cf),null!==_0x5d2400&&void 0x0!==_0x5d2400['fixedFoveation']&&(_0x5d2400['fixedFoveation']=_0x1cc1cf);},this['hasDepthSensing']=function(){return null!==_0x16beb1['texture'];},this['getDepthSensingMesh']=function(){return _0x16beb1['getMesh'](_0x15fd48);};let _0x1b8ee8=null;const _0x4788f0=new _0x52fe21();_0x4788f0['setAnimationLoop'](function(_0x99608e,_0x249502){if(_0x1ce32d=_0x249502['getViewerPose'](_0x5d63a4||_0x54c2e8),_0x2ef8f9=_0x249502,null!==_0x1ce32d){const _0x5f285f=_0x1ce32d['views'];null!==_0x5d2400&&(_0x52dcc9['setRenderTargetFramebuffer'](_0x491e90,_0x5d2400['framebuffer']),_0x52dcc9['setRenderTarget'](_0x491e90));let _0x2338da=!0x1;_0x5f285f['length']!==_0x15fd48['cameras']['length']&&(_0x15fd48['cameras']['length']=0x0,_0x2338da=!0x0);for(let _0x1bb4a8=0x0;_0x1bb4a8<_0x5f285f['length'];_0x1bb4a8++){const _0x157db2=_0x5f285f[_0x1bb4a8];let _0x470ad3=null;if(null!==_0x5d2400)_0x470ad3=_0x5d2400['getViewport'](_0x157db2);else{const _0x15f669=_0x22f84e['getViewSubImage'](_0x1e4cb5,_0x157db2);_0x470ad3=_0x15f669['viewport'],0x0===_0x1bb4a8&&(_0x52dcc9['setRenderTargetTextures'](_0x491e90,_0x15f669['colorTexture'],_0x1e4cb5['ignoreDepthValues']?void 0x0:_0x15f669['depthStencilTexture']),_0x52dcc9['setRenderTarget'](_0x491e90));}let _0x320b08=_0x1e1d94[_0x1bb4a8];void 0x0===_0x320b08&&(_0x320b08=new _0x3e8626['ubm'](),_0x320b08['layers']['enable'](_0x1bb4a8),_0x320b08['viewport']=new _0x3e8626['IUQ'](),_0x1e1d94[_0x1bb4a8]=_0x320b08),_0x320b08['matrix']['fromArray'](_0x157db2['transform']['matrix']),_0x320b08['matrix']['decompose'](_0x320b08['position'],_0x320b08['quaternion'],_0x320b08['scale']),_0x320b08['projectionMatrix']['fromArray'](_0x157db2['projectionMatrix']),_0x320b08['projectionMatrixInverse']['copy'](_0x320b08['projectionMatrix'])['invert'](),_0x320b08['viewport']['set'](_0x470ad3['x'],_0x470ad3['y'],_0x470ad3['width'],_0x470ad3['height']),0x0===_0x1bb4a8&&(_0x15fd48['matrix']['copy'](_0x320b08['matrix']),_0x15fd48['matrix']['decompose'](_0x15fd48['position'],_0x15fd48['quaternion'],_0x15fd48['scale'])),!0x0===_0x2338da&&_0x15fd48['cameras']['push'](_0x320b08);}const _0x3f1452=_0x4bac62['enabledFeatures'];if(_0x3f1452&&_0x3f1452['includes']('depth-sensing')){const _0x4ef051=_0x22f84e['getDepthInformation'](_0x5f285f[0x0]);_0x4ef051&&_0x4ef051['isValid']&&_0x4ef051['texture']&&_0x16beb1['init'](_0x52dcc9,_0x4ef051,_0x4bac62['renderState']);}}for(let _0x3b1d5f=0x0;_0x3b1d5f<_0x3cbce1['length'];_0x3b1d5f++){const _0xb343cd=_0x35bf72[_0x3b1d5f],_0x5f1913=_0x3cbce1[_0x3b1d5f];null!==_0xb343cd&&void 0x0!==_0x5f1913&&_0x5f1913['update'](_0xb343cd,_0x249502,_0x5d63a4||_0x54c2e8);}_0x1b8ee8&&_0x1b8ee8(_0x99608e,_0x249502),_0x249502['detectedPlanes']&&_0x33dd27['dispatchEvent']({'type':'planesdetected','data':_0x249502}),_0x2ef8f9=null;}),this['setAnimationLoop']=function(_0x417e1d){_0x1b8ee8=_0x417e1d;},this['dispose']=function(){};}}const _0x551777=new _0x3e8626['O9p'](),_0x3e746b=new _0x3e8626['kn4']();function _0x42964b(_0xb5b0b9,_0x169ae8){function _0x13d195(_0x1ae5be,_0x152bb4){!0x0===_0x1ae5be['matrixAutoUpdate']&&_0x1ae5be['updateMatrix'](),_0x152bb4['value']['copy'](_0x1ae5be['matrix']);}function _0x4ebeb7(_0x37f6c9,_0xd68929){_0x37f6c9['opacity']['value']=_0xd68929['opacity'],_0xd68929['color']&&_0x37f6c9['diffuse']['value']['copy'](_0xd68929['color']),_0xd68929['emissive']&&_0x37f6c9['emissive']['value']['copy'](_0xd68929['emissive'])['multiplyScalar'](_0xd68929['emissiveIntensity']),_0xd68929['map']&&(_0x37f6c9['map']['value']=_0xd68929['map'],_0x13d195(_0xd68929['map'],_0x37f6c9['mapTransform'])),_0xd68929['alphaMap']&&(_0x37f6c9['alphaMap']['value']=_0xd68929['alphaMap'],_0x13d195(_0xd68929['alphaMap'],_0x37f6c9['alphaMapTransform'])),_0xd68929['bumpMap']&&(_0x37f6c9['bumpMap']['value']=_0xd68929['bumpMap'],_0x13d195(_0xd68929['bumpMap'],_0x37f6c9['bumpMapTransform']),_0x37f6c9['bumpScale']['value']=_0xd68929['bumpScale'],_0xd68929['side']===_0x3e8626['hsX']&&(_0x37f6c9['bumpScale']['value']*=-0x1)),_0xd68929['normalMap']&&(_0x37f6c9['normalMap']['value']=_0xd68929['normalMap'],_0x13d195(_0xd68929['normalMap'],_0x37f6c9['normalMapTransform']),_0x37f6c9['normalScale']['value']['copy'](_0xd68929['normalScale']),_0xd68929['side']===_0x3e8626['hsX']&&_0x37f6c9['normalScale']['value']['negate']()),_0xd68929['displacementMap']&&(_0x37f6c9['displacementMap']['value']=_0xd68929['displacementMap'],_0x13d195(_0xd68929['displacementMap'],_0x37f6c9['displacementMapTransform']),_0x37f6c9['displacementScale']['value']=_0xd68929['displacementScale'],_0x37f6c9['displacementBias']['value']=_0xd68929['displacementBias']),_0xd68929['emissiveMap']&&(_0x37f6c9['emissiveMap']['value']=_0xd68929['emissiveMap'],_0x13d195(_0xd68929['emissiveMap'],_0x37f6c9['emissiveMapTransform'])),_0xd68929['specularMap']&&(_0x37f6c9['specularMap']['value']=_0xd68929['specularMap'],_0x13d195(_0xd68929['specularMap'],_0x37f6c9['specularMapTransform'])),_0xd68929['alphaTest']>0x0&&(_0x37f6c9['alphaTest']['value']=_0xd68929['alphaTest']);const _0x25471d=_0x169ae8['get'](_0xd68929),_0xfe6c8f=_0x25471d['envMap'],_0x2e729e=_0x25471d['envMapRotation'];_0xfe6c8f&&(_0x37f6c9['envMap']['value']=_0xfe6c8f,_0x551777['copy'](_0x2e729e),_0x551777['x']*=-0x1,_0x551777['y']*=-0x1,_0x551777['z']*=-0x1,_0xfe6c8f['isCubeTexture']&&!0x1===_0xfe6c8f['isRenderTargetTexture']&&(_0x551777['y']*=-0x1,_0x551777['z']*=-0x1),_0x37f6c9['envMapRotation']['value']['setFromMatrix4'](_0x3e746b['makeRotationFromEuler'](_0x551777)),_0x37f6c9['flipEnvMap']['value']=_0xfe6c8f['isCubeTexture']&&!0x1===_0xfe6c8f['isRenderTargetTexture']?-0x1:0x1,_0x37f6c9['reflectivity']['value']=_0xd68929['reflectivity'],_0x37f6c9['ior']['value']=_0xd68929['ior'],_0x37f6c9['refractionRatio']['value']=_0xd68929['refractionRatio']),_0xd68929['lightMap']&&(_0x37f6c9['lightMap']['value']=_0xd68929['lightMap'],_0x37f6c9['lightMapIntensity']['value']=_0xd68929['lightMapIntensity'],_0x13d195(_0xd68929['lightMap'],_0x37f6c9['lightMapTransform'])),_0xd68929['aoMap']&&(_0x37f6c9['aoMap']['value']=_0xd68929['aoMap'],_0x37f6c9['aoMapIntensity']['value']=_0xd68929['aoMapIntensity'],_0x13d195(_0xd68929['aoMap'],_0x37f6c9['aoMapTransform']));}return{'refreshFogUniforms':function(_0x5eb906,_0x8743a4){_0x8743a4['color']['getRGB'](_0x5eb906['fogColor']['value'],(0x0,_0x3e8626['_Ut'])(_0xb5b0b9)),_0x8743a4['isFog']?(_0x5eb906['fogNear']['value']=_0x8743a4['near'],_0x5eb906['fogFar']['value']=_0x8743a4['far']):_0x8743a4['isFogExp2']&&(_0x5eb906['fogDensity']['value']=_0x8743a4['density']);},'refreshMaterialUniforms':function(_0x1156fe,_0x2499ed,_0x222707,_0x45c505,_0xdf6ed2){_0x2499ed['isMeshBasicMaterial']||_0x2499ed['isMeshLambertMaterial']?_0x4ebeb7(_0x1156fe,_0x2499ed):_0x2499ed['isMeshToonMaterial']?(_0x4ebeb7(_0x1156fe,_0x2499ed),function(_0x5287ea,_0x309e5f){_0x309e5f['gradientMap']&&(_0x5287ea['gradientMap']['value']=_0x309e5f['gradientMap']);}(_0x1156fe,_0x2499ed)):_0x2499ed['isMeshPhongMaterial']?(_0x4ebeb7(_0x1156fe,_0x2499ed),function(_0x35a848,_0x58cfad){_0x35a848['specular']['value']['copy'](_0x58cfad['specular']),_0x35a848['shininess']['value']=Math['max'](_0x58cfad['shininess'],0.0001);}(_0x1156fe,_0x2499ed)):_0x2499ed['isMeshStandardMaterial']?(_0x4ebeb7(_0x1156fe,_0x2499ed),function(_0x4baf4b,_0x219b2e){_0x4baf4b['metalness']['value']=_0x219b2e['metalness'],_0x219b2e['metalnessMap']&&(_0x4baf4b['metalnessMap']['value']=_0x219b2e['metalnessMap'],_0x13d195(_0x219b2e['metalnessMap'],_0x4baf4b['metalnessMapTransform'])),(_0x4baf4b['roughness']['value']=_0x219b2e['roughness'],_0x219b2e['roughnessMap']&&(_0x4baf4b['roughnessMap']['value']=_0x219b2e['roughnessMap'],_0x13d195(_0x219b2e['roughnessMap'],_0x4baf4b['roughnessMapTransform']))),_0x219b2e['envMap']&&(_0x4baf4b['envMapIntensity']['value']=_0x219b2e['envMapIntensity']);}(_0x1156fe,_0x2499ed),_0x2499ed['isMeshPhysicalMaterial']&&function(_0x3e2b7d,_0x1fd291,_0x39828e){_0x3e2b7d['ior']['value']=_0x1fd291['ior'],_0x1fd291['sheen']>0x0&&(_0x3e2b7d['sheenColor']['value']['copy'](_0x1fd291['sheenColor'])['multiplyScalar'](_0x1fd291['sheen']),_0x3e2b7d['sheenRoughness']['value']=_0x1fd291['sheenRoughness'],_0x1fd291['sheenColorMap']&&(_0x3e2b7d['sheenColorMap']['value']=_0x1fd291['sheenColorMap'],_0x13d195(_0x1fd291['sheenColorMap'],_0x3e2b7d['sheenColorMapTransform'])),_0x1fd291['sheenRoughnessMap']&&(_0x3e2b7d['sheenRoughnessMap']['value']=_0x1fd291['sheenRoughnessMap'],_0x13d195(_0x1fd291['sheenRoughnessMap'],_0x3e2b7d['sheenRoughnessMapTransform']))),_0x1fd291['clearcoat']>0x0&&(_0x3e2b7d['clearcoat']['value']=_0x1fd291['clearcoat'],_0x3e2b7d['clearcoatRoughness']['value']=_0x1fd291['clearcoatRoughness'],_0x1fd291['clearcoatMap']&&(_0x3e2b7d['clearcoatMap']['value']=_0x1fd291['clearcoatMap'],_0x13d195(_0x1fd291['clearcoatMap'],_0x3e2b7d['clearcoatMapTransform'])),_0x1fd291['clearcoatRoughnessMap']&&(_0x3e2b7d['clearcoatRoughnessMap']['value']=_0x1fd291['clearcoatRoughnessMap'],_0x13d195(_0x1fd291['clearcoatRoughnessMap'],_0x3e2b7d['clearcoatRoughnessMapTransform'])),_0x1fd291['clearcoatNormalMap']&&(_0x3e2b7d['clearcoatNormalMap']['value']=_0x1fd291['clearcoatNormalMap'],_0x13d195(_0x1fd291['clearcoatNormalMap'],_0x3e2b7d['clearcoatNormalMapTransform']),_0x3e2b7d['clearcoatNormalScale']['value']['copy'](_0x1fd291['clearcoatNormalScale']),_0x1fd291['side']===_0x3e8626['hsX']&&_0x3e2b7d['clearcoatNormalScale']['value']['negate']())),_0x1fd291['dispersion']>0x0&&(_0x3e2b7d['dispersion']['value']=_0x1fd291['dispersion']),_0x1fd291['iridescence']>0x0&&(_0x3e2b7d['iridescence']['value']=_0x1fd291['iridescence'],_0x3e2b7d['iridescenceIOR']['value']=_0x1fd291['iridescenceIOR'],_0x3e2b7d['iridescenceThicknessMinimum']['value']=_0x1fd291['iridescenceThicknessRange'][0x0],_0x3e2b7d['iridescenceThicknessMaximum']['value']=_0x1fd291['iridescenceThicknessRange'][0x1],_0x1fd291['iridescenceMap']&&(_0x3e2b7d['iridescenceMap']['value']=_0x1fd291['iridescenceMap'],_0x13d195(_0x1fd291['iridescenceMap'],_0x3e2b7d['iridescenceMapTransform'])),_0x1fd291['iridescenceThicknessMap']&&(_0x3e2b7d['iridescenceThicknessMap']['value']=_0x1fd291['iridescenceThicknessMap'],_0x13d195(_0x1fd291['iridescenceThicknessMap'],_0x3e2b7d['iridescenceThicknessMapTransform']))),_0x1fd291['transmission']>0x0&&(_0x3e2b7d['transmission']['value']=_0x1fd291['transmission'],_0x3e2b7d['transmissionSamplerMap']['value']=_0x39828e['texture'],_0x3e2b7d['transmissionSamplerSize']['value']['set'](_0x39828e['width'],_0x39828e['height']),_0x1fd291['transmissionMap']&&(_0x3e2b7d['transmissionMap']['value']=_0x1fd291['transmissionMap'],_0x13d195(_0x1fd291['transmissionMap'],_0x3e2b7d['transmissionMapTransform'])),_0x3e2b7d['thickness']['value']=_0x1fd291['thickness'],_0x1fd291['thicknessMap']&&(_0x3e2b7d['thicknessMap']['value']=_0x1fd291['thicknessMap'],_0x13d195(_0x1fd291['thicknessMap'],_0x3e2b7d['thicknessMapTransform'])),_0x3e2b7d['attenuationDistance']['value']=_0x1fd291['attenuationDistance'],_0x3e2b7d['attenuationColor']['value']['copy'](_0x1fd291['attenuationColor'])),_0x1fd291['anisotropy']>0x0&&(_0x3e2b7d['anisotropyVector']['value']['set'](_0x1fd291['anisotropy']*Math['cos'](_0x1fd291['anisotropyRotation']),_0x1fd291['anisotropy']*Math['sin'](_0x1fd291['anisotropyRotation'])),_0x1fd291['anisotropyMap']&&(_0x3e2b7d['anisotropyMap']['value']=_0x1fd291['anisotropyMap'],_0x13d195(_0x1fd291['anisotropyMap'],_0x3e2b7d['anisotropyMapTransform']))),(_0x3e2b7d['specularIntensity']['value']=_0x1fd291['specularIntensity'],_0x3e2b7d['specularColor']['value']['copy'](_0x1fd291['specularColor']),_0x1fd291['specularColorMap']&&(_0x3e2b7d['specularColorMap']['value']=_0x1fd291['specularColorMap'],_0x13d195(_0x1fd291['specularColorMap'],_0x3e2b7d['specularColorMapTransform']))),_0x1fd291['specularIntensityMap']&&(_0x3e2b7d['specularIntensityMap']['value']=_0x1fd291['specularIntensityMap'],_0x13d195(_0x1fd291['specularIntensityMap'],_0x3e2b7d['specularIntensityMapTransform']));}(_0x1156fe,_0x2499ed,_0xdf6ed2)):_0x2499ed['isMeshMatcapMaterial']?(_0x4ebeb7(_0x1156fe,_0x2499ed),function(_0x12d55f,_0x2d0920){_0x2d0920['matcap']&&(_0x12d55f['matcap']['value']=_0x2d0920['matcap']);}(_0x1156fe,_0x2499ed)):_0x2499ed['isMeshDepthMaterial']?_0x4ebeb7(_0x1156fe,_0x2499ed):_0x2499ed['isMeshDistanceMaterial']?(_0x4ebeb7(_0x1156fe,_0x2499ed),function(_0x2c28ce,_0x166eec){const _0x337f20=_0x169ae8['get'](_0x166eec)['light'];_0x2c28ce['referencePosition']['value']['setFromMatrixPosition'](_0x337f20['matrixWorld']),_0x2c28ce['nearDistance']['value']=_0x337f20['shadow']['camera']['near'],_0x2c28ce['farDistance']['value']=_0x337f20['shadow']['camera']['far'];}(_0x1156fe,_0x2499ed)):_0x2499ed['isMeshNormalMaterial']?_0x4ebeb7(_0x1156fe,_0x2499ed):_0x2499ed['isLineBasicMaterial']?(function(_0x37f623,_0x1c393e){_0x37f623['diffuse']['value']['copy'](_0x1c393e['color']),_0x37f623['opacity']['value']=_0x1c393e['opacity'],_0x1c393e['map']&&(_0x37f623['map']['value']=_0x1c393e['map'],_0x13d195(_0x1c393e['map'],_0x37f623['mapTransform']));}(_0x1156fe,_0x2499ed),_0x2499ed['isLineDashedMaterial']&&function(_0x133940,_0x49868c){_0x133940['dashSize']['value']=_0x49868c['dashSize'],_0x133940['totalSize']['value']=_0x49868c['dashSize']+_0x49868c['gapSize'],_0x133940['scale']['value']=_0x49868c['scale'];}(_0x1156fe,_0x2499ed)):_0x2499ed['isPointsMaterial']?function(_0x2d98d8,_0x3b59f4,_0x25e240,_0x3ec611){_0x2d98d8['diffuse']['value']['copy'](_0x3b59f4['color']),_0x2d98d8['opacity']['value']=_0x3b59f4['opacity'],_0x2d98d8['size']['value']=_0x3b59f4['size']*_0x25e240,_0x2d98d8['scale']['value']=0.5*_0x3ec611,_0x3b59f4['map']&&(_0x2d98d8['map']['value']=_0x3b59f4['map'],_0x13d195(_0x3b59f4['map'],_0x2d98d8['uvTransform'])),_0x3b59f4['alphaMap']&&(_0x2d98d8['alphaMap']['value']=_0x3b59f4['alphaMap'],_0x13d195(_0x3b59f4['alphaMap'],_0x2d98d8['alphaMapTransform'])),_0x3b59f4['alphaTest']>0x0&&(_0x2d98d8['alphaTest']['value']=_0x3b59f4['alphaTest']);}(_0x1156fe,_0x2499ed,_0x222707,_0x45c505):_0x2499ed['isSpriteMaterial']?function(_0x22ccb2,_0x4b7293){_0x22ccb2['diffuse']['value']['copy'](_0x4b7293['color']),_0x22ccb2['opacity']['value']=_0x4b7293['opacity'],_0x22ccb2['rotation']['value']=_0x4b7293['rotation'],_0x4b7293['map']&&(_0x22ccb2['map']['value']=_0x4b7293['map'],_0x13d195(_0x4b7293['map'],_0x22ccb2['mapTransform'])),_0x4b7293['alphaMap']&&(_0x22ccb2['alphaMap']['value']=_0x4b7293['alphaMap'],_0x13d195(_0x4b7293['alphaMap'],_0x22ccb2['alphaMapTransform'])),_0x4b7293['alphaTest']>0x0&&(_0x22ccb2['alphaTest']['value']=_0x4b7293['alphaTest']);}(_0x1156fe,_0x2499ed):_0x2499ed['isShadowMaterial']?(_0x1156fe['color']['value']['copy'](_0x2499ed['color']),_0x1156fe['opacity']['value']=_0x2499ed['opacity']):_0x2499ed['isShaderMaterial']&&(_0x2499ed['uniformsNeedUpdate']=!0x1);}};}function _0xe55bd6(_0xdf7a13,_0xbec8a7,_0xad14d0,_0x10dbf9){let _0x3809a4={},_0x1ff029={},_0x239a9f=[];const _0x3b17dc=_0xdf7a13['getParameter'](_0xdf7a13['MAX_UNIFORM_BUFFER_BINDINGS']);function _0x5492b7(_0x1acf64,_0x1ec118,_0x3b10b8,_0x1e3691){const _0x174068=_0x1acf64['value'],_0xe116d5=_0x1ec118+'_'+_0x3b10b8;if(void 0x0===_0x1e3691[_0xe116d5])return _0x1e3691[_0xe116d5]='number'==typeof _0x174068||'boolean'==typeof _0x174068?_0x174068:_0x174068['clone'](),!0x0;{const _0xa044bf=_0x1e3691[_0xe116d5];if('number'==typeof _0x174068||'boolean'==typeof _0x174068){if(_0xa044bf!==_0x174068)return _0x1e3691[_0xe116d5]=_0x174068,!0x0;}else{if(!0x1===_0xa044bf['equals'](_0x174068))return _0xa044bf['copy'](_0x174068),!0x0;}}return!0x1;}function _0x4bbb51(_0x5336a4){const _0x46e3bd={'boundary':0x0,'storage':0x0};return'number'==typeof _0x5336a4||'boolean'==typeof _0x5336a4?(_0x46e3bd['boundary']=0x4,_0x46e3bd['storage']=0x4):_0x5336a4['isVector2']?(_0x46e3bd['boundary']=0x8,_0x46e3bd['storage']=0x8):_0x5336a4['isVector3']||_0x5336a4['isColor']?(_0x46e3bd['boundary']=0x10,_0x46e3bd['storage']=0xc):_0x5336a4['isVector4']?(_0x46e3bd['boundary']=0x10,_0x46e3bd['storage']=0x10):_0x5336a4['isMatrix3']?(_0x46e3bd['boundary']=0x30,_0x46e3bd['storage']=0x30):_0x5336a4['isMatrix4']?(_0x46e3bd['boundary']=0x40,_0x46e3bd['storage']=0x40):_0x5336a4['isTexture']?console['warn']('THREE.WebGLRenderer:\x20Texture\x20samplers\x20can\x20not\x20be\x20part\x20of\x20an\x20uniforms\x20group.'):console['warn']('THREE.WebGLRenderer:\x20Unsupported\x20uniform\x20value\x20type.',_0x5336a4),_0x46e3bd;}function _0x14bd2e(_0x57d16c){const _0x3ce144=_0x57d16c['target'];_0x3ce144['removeEventListener']('dispose',_0x14bd2e);const _0x2ab2ba=_0x239a9f['indexOf'](_0x3ce144['__bindingPointIndex']);_0x239a9f['splice'](_0x2ab2ba,0x1),_0xdf7a13['deleteBuffer'](_0x3809a4[_0x3ce144['id']]),delete _0x3809a4[_0x3ce144['id']],delete _0x1ff029[_0x3ce144['id']];}return{'bind':function(_0x278caf,_0x999c53){const _0x3ac546=_0x999c53['program'];_0x10dbf9['uniformBlockBinding'](_0x278caf,_0x3ac546);},'update':function(_0x3d963b,_0x5082b2){let _0x129528=_0x3809a4[_0x3d963b['id']];void 0x0===_0x129528&&(!function(_0x12dc23){const _0x4778f8=_0x12dc23['uniforms'];let _0x3a71c6=0x0;const _0xf957c3=0x10;for(let _0x5a5b3e=0x0,_0x161ed5=_0x4778f8['length'];_0x5a5b3e<_0x161ed5;_0x5a5b3e++){const _0x5b9ac1=Array['isArray'](_0x4778f8[_0x5a5b3e])?_0x4778f8[_0x5a5b3e]:[_0x4778f8[_0x5a5b3e]];for(let _0x30d0cb=0x0,_0x57c6ed=_0x5b9ac1['length'];_0x30d0cb<_0x57c6ed;_0x30d0cb++){const _0x22ac71=_0x5b9ac1[_0x30d0cb],_0x582b45=Array['isArray'](_0x22ac71['value'])?_0x22ac71['value']:[_0x22ac71['value']];for(let _0x2d01ec=0x0,_0x168adb=_0x582b45['length'];_0x2d01ec<_0x168adb;_0x2d01ec++){const _0x3d7ed7=_0x4bbb51(_0x582b45[_0x2d01ec]),_0x3a5475=_0x3a71c6%_0xf957c3,_0x416691=_0x3a5475%_0x3d7ed7['boundary'],_0x405440=_0x3a5475+_0x416691;_0x3a71c6+=_0x416691,0x0!==_0x405440&&_0xf957c3-_0x405440<_0x3d7ed7['storage']&&(_0x3a71c6+=_0xf957c3-_0x405440),_0x22ac71['__data']=new Float32Array(_0x3d7ed7['storage']/Float32Array['BYTES_PER_ELEMENT']),_0x22ac71['__offset']=_0x3a71c6,_0x3a71c6+=_0x3d7ed7['storage'];}}}const _0x1560c8=_0x3a71c6%_0xf957c3;_0x1560c8>0x0&&(_0x3a71c6+=_0xf957c3-_0x1560c8),(_0x12dc23['__size']=_0x3a71c6,_0x12dc23['__cache']={});}(_0x3d963b),_0x129528=function(_0x2dcdb6){const _0x37a654=(function(){for(let _0x4228fc=0x0;_0x4228fc<_0x3b17dc;_0x4228fc++)if(-0x1===_0x239a9f['indexOf'](_0x4228fc))return _0x239a9f['push'](_0x4228fc),_0x4228fc;return console['error']('THREE.WebGLRenderer:\x20Maximum\x20number\x20of\x20simultaneously\x20usable\x20uniforms\x20groups\x20reached.'),0x0;}());_0x2dcdb6['__bindingPointIndex']=_0x37a654;const _0x7f671e=_0xdf7a13['createBuffer'](),_0x525b99=_0x2dcdb6['__size'],_0x4e2e31=_0x2dcdb6['usage'];return _0xdf7a13['bindBuffer'](_0xdf7a13['UNIFORM_BUFFER'],_0x7f671e),_0xdf7a13['bufferData'](_0xdf7a13['UNIFORM_BUFFER'],_0x525b99,_0x4e2e31),_0xdf7a13['bindBuffer'](_0xdf7a13['UNIFORM_BUFFER'],null),_0xdf7a13['bindBufferBase'](_0xdf7a13['UNIFORM_BUFFER'],_0x37a654,_0x7f671e),_0x7f671e;}(_0x3d963b),_0x3809a4[_0x3d963b['id']]=_0x129528,_0x3d963b['addEventListener']('dispose',_0x14bd2e));const _0x1998a6=_0x5082b2['program'];_0x10dbf9['updateUBOMapping'](_0x3d963b,_0x1998a6);const _0x5c501c=_0xbec8a7['render']['frame'];_0x1ff029[_0x3d963b['id']]!==_0x5c501c&&(!function(_0x48d11c){const _0x45adb9=_0x3809a4[_0x48d11c['id']],_0x234c97=_0x48d11c['uniforms'],_0x3ea285=_0x48d11c['__cache'];_0xdf7a13['bindBuffer'](_0xdf7a13['UNIFORM_BUFFER'],_0x45adb9);for(let _0x1aea88=0x0,_0x26424c=_0x234c97['length'];_0x1aea88<_0x26424c;_0x1aea88++){const _0x317e40=Array['isArray'](_0x234c97[_0x1aea88])?_0x234c97[_0x1aea88]:[_0x234c97[_0x1aea88]];for(let _0x3191cb=0x0,_0x33b936=_0x317e40['length'];_0x3191cb<_0x33b936;_0x3191cb++){const _0x4c2482=_0x317e40[_0x3191cb];if(!0x0===_0x5492b7(_0x4c2482,_0x1aea88,_0x3191cb,_0x3ea285)){const _0x49d2d3=_0x4c2482['__offset'],_0x2d0075=Array['isArray'](_0x4c2482['value'])?_0x4c2482['value']:[_0x4c2482['value']];let _0x43fb74=0x0;for(let _0x275b78=0x0;_0x275b78<_0x2d0075['length'];_0x275b78++){const _0x227300=_0x2d0075[_0x275b78],_0x35ac5a=_0x4bbb51(_0x227300);'number'==typeof _0x227300||'boolean'==typeof _0x227300?(_0x4c2482['__data'][0x0]=_0x227300,_0xdf7a13['bufferSubData'](_0xdf7a13['UNIFORM_BUFFER'],_0x49d2d3+_0x43fb74,_0x4c2482['__data'])):_0x227300['isMatrix3']?(_0x4c2482['__data'][0x0]=_0x227300['elements'][0x0],_0x4c2482['__data'][0x1]=_0x227300['elements'][0x1],_0x4c2482['__data'][0x2]=_0x227300['elements'][0x2],_0x4c2482['__data'][0x3]=0x0,_0x4c2482['__data'][0x4]=_0x227300['elements'][0x3],_0x4c2482['__data'][0x5]=_0x227300['elements'][0x4],_0x4c2482['__data'][0x6]=_0x227300['elements'][0x5],_0x4c2482['__data'][0x7]=0x0,_0x4c2482['__data'][0x8]=_0x227300['elements'][0x6],_0x4c2482['__data'][0x9]=_0x227300['elements'][0x7],_0x4c2482['__data'][0xa]=_0x227300['elements'][0x8],_0x4c2482['__data'][0xb]=0x0):(_0x227300['toArray'](_0x4c2482['__data'],_0x43fb74),_0x43fb74+=_0x35ac5a['storage']/Float32Array['BYTES_PER_ELEMENT']);}_0xdf7a13['bufferSubData'](_0xdf7a13['UNIFORM_BUFFER'],_0x49d2d3,_0x4c2482['__data']);}}}_0xdf7a13['bindBuffer'](_0xdf7a13['UNIFORM_BUFFER'],null);}(_0x3d963b),_0x1ff029[_0x3d963b['id']]=_0x5c501c);},'dispose':function(){for(const _0x1807b1 in _0x3809a4)_0xdf7a13['deleteBuffer'](_0x3809a4[_0x1807b1]);_0x239a9f=[],_0x3809a4={},_0x1ff029={};}};}class _0x34851d{constructor(_0x4ea272={}){const {canvas:_0x402b1d=(0x0,_0x3e8626['lPF'])(),context:_0x46e680=null,depth:_0x5b5fc1=!0x0,stencil:_0x3e49d7=!0x1,alpha:_0x432be0=!0x1,antialias:_0x5702bd=!0x1,premultipliedAlpha:_0x3cdb9f=!0x0,preserveDrawingBuffer:_0x54ef4c=!0x1,powerPreference:_0xceb403='default',failIfMajorPerformanceCaveat:_0x291c03=!0x1,reverseDepthBuffer:_0x41b598=!0x1}=_0x4ea272;let _0x104830;if(this['isWebGLRenderer']=!0x0,null!==_0x46e680){if('undefined'!=typeof WebGLRenderingContext&&_0x46e680 instanceof WebGLRenderingContext)throw new Error('THREE.WebGLRenderer:\x20WebGL\x201\x20is\x20not\x20supported\x20since\x20r163.');_0x104830=_0x46e680['getContextAttributes']()['alpha'];}else _0x104830=_0x432be0;const _0x41a821=new Uint32Array(0x4),_0x3cbbab=new Int32Array(0x4);let _0x42b40f=null,_0x22e759=null;const _0xebb6e2=[],_0xcefe3=[];this['domElement']=_0x402b1d,this['debug']={'checkShaderErrors':!0x0,'onShaderError':null},this['autoClear']=!0x0,this['autoClearColor']=!0x0,this['autoClearDepth']=!0x0,this['autoClearStencil']=!0x0,this['sortObjects']=!0x0,this['clippingPlanes']=[],this['localClippingEnabled']=!0x1,this['_outputColorSpace']=_0x3e8626['er$'],this['toneMapping']=_0x3e8626['y_p'],this['toneMappingExposure']=0x1;const _0x3b3234=this;let _0x119675=!0x1,_0x4c43a7=0x0,_0x31b482=0x0,_0x3e08cb=null,_0xeff076=-0x1,_0x2389b8=null;const _0x3b8ae9=new _0x3e8626['IUQ'](),_0x341597=new _0x3e8626['IUQ']();let _0x44d1cd=null;const _0x2eaacd=new _0x3e8626['Q1f'](0x0);let _0x5e3be3=0x0,_0x40d1aa=_0x402b1d['width'],_0xf02d48=_0x402b1d['height'],_0x4c1001=0x1,_0x1f60e5=null,_0x492f4e=null;const _0x1a2cbe=new _0x3e8626['IUQ'](0x0,0x0,_0x40d1aa,_0xf02d48),_0x54779f=new _0x3e8626['IUQ'](0x0,0x0,_0x40d1aa,_0xf02d48);let _0x5a97a0=!0x1;const _0x5c62cc=new _0x3e8626['PPD']();let _0x1b9c68=!0x1,_0x4d5a85=!0x1;this['transmissionResolutionScale']=0x1;const _0x1ebdb7=new _0x3e8626['kn4'](),_0x1efbb6=new _0x3e8626['kn4'](),_0x3492e5=new _0x3e8626['Pq0'](),_0x559b54=new _0x3e8626['IUQ'](),_0x94fe61={'background':null,'fog':null,'environment':null,'overrideMaterial':null,'isScene':!0x0};let _0x34e384=!0x1;function _0x53c7be(){return null===_0x3e08cb?_0x4c1001:0x1;}let _0x1f4f93,_0x577583,_0x2da260,_0x3a3058,_0x223a7a,_0x2291d6,_0x2876a3,_0x281695,_0x21d7fe,_0x428e1b,_0x323271,_0x3cb6a2,_0xb83e4d,_0x40a155,_0x473b89,_0x550bbb,_0x4759db,_0x22d253,_0x285745,_0x824b33,_0x4618b0,_0x4fe3cd,_0x2dea0b,_0x549ea5,_0x2ba009=_0x46e680;function _0xc89f79(_0x5aaefb,_0x2be6c6){return _0x402b1d['getContext'](_0x5aaefb,_0x2be6c6);}try{const _0x20d15e={'alpha':!0x0,'depth':_0x5b5fc1,'stencil':_0x3e49d7,'antialias':_0x5702bd,'premultipliedAlpha':_0x3cdb9f,'preserveDrawingBuffer':_0x54ef4c,'powerPreference':_0xceb403,'failIfMajorPerformanceCaveat':_0x291c03};if('setAttribute'in _0x402b1d&&_0x402b1d['setAttribute']('data-engine','three.js\x20r'+_0x3e8626['sPf']),_0x402b1d['addEventListener']('webglcontextlost',_0x1fc21c,!0x1),_0x402b1d['addEventListener']('webglcontextrestored',_0x3ef015,!0x1),_0x402b1d['addEventListener']('webglcontextcreationerror',_0x4e2681,!0x1),null===_0x2ba009){const _0x423808='webgl2';if(_0x2ba009=_0xc89f79(_0x423808,_0x20d15e),null===_0x2ba009)throw _0xc89f79(_0x423808)?new Error('Error\x20creating\x20WebGL\x20context\x20with\x20your\x20selected\x20attributes.'):new Error('Error\x20creating\x20WebGL\x20context.');}}catch(_0x46cd55){throw console['error']('THREE.WebGLRenderer:\x20'+_0x46cd55['message']),_0x46cd55;}function _0x5d1116(){_0x1f4f93=new _0xfaf46f(_0x2ba009),_0x1f4f93['init'](),_0x4fe3cd=new _0x27b9e3(_0x2ba009,_0x1f4f93),_0x577583=new _0x336577(_0x2ba009,_0x1f4f93,_0x4ea272,_0x4fe3cd),_0x2da260=new _0x101d53(_0x2ba009,_0x1f4f93),_0x577583['reverseDepthBuffer']&&_0x41b598&&_0x2da260['buffers']['depth']['setReversed'](!0x0),_0x3a3058=new _0x3543fa(_0x2ba009),_0x223a7a=new _0x4bf5ab(),_0x2291d6=new _0x3fa66a(_0x2ba009,_0x1f4f93,_0x2da260,_0x223a7a,_0x577583,_0x4fe3cd,_0x3a3058),_0x2876a3=new _0x3ee0e1(_0x3b3234),_0x281695=new _0x59ac29(_0x3b3234),_0x21d7fe=new _0x8c5811(_0x2ba009),_0x2dea0b=new _0x20e5e4(_0x2ba009,_0x21d7fe),_0x428e1b=new _0x117770(_0x2ba009,_0x21d7fe,_0x3a3058,_0x2dea0b),_0x323271=new _0x5d2fdb(_0x2ba009,_0x428e1b,_0x21d7fe,_0x3a3058),_0x285745=new _0x4a17d1(_0x2ba009,_0x577583,_0x2291d6),_0x550bbb=new _0xcf4eb8(_0x223a7a),_0x3cb6a2=new _0x18a53f(_0x3b3234,_0x2876a3,_0x281695,_0x1f4f93,_0x577583,_0x2dea0b,_0x550bbb),_0xb83e4d=new _0x42964b(_0x3b3234,_0x223a7a),_0x40a155=new _0x4e5141(),_0x473b89=new _0x2f3be1(_0x1f4f93),_0x22d253=new _0x4e6a7e(_0x3b3234,_0x2876a3,_0x281695,_0x2da260,_0x323271,_0x104830,_0x3cdb9f),_0x4759db=new _0x189458(_0x3b3234,_0x323271,_0x577583),_0x549ea5=new _0xe55bd6(_0x2ba009,_0x3a3058,_0x577583,_0x2da260),_0x824b33=new _0x324bb7(_0x2ba009,_0x1f4f93,_0x3a3058),_0x4618b0=new _0x249078(_0x2ba009,_0x1f4f93,_0x3a3058),_0x3a3058['programs']=_0x3cb6a2['programs'],_0x3b3234['capabilities']=_0x577583,_0x3b3234['extensions']=_0x1f4f93,_0x3b3234['properties']=_0x223a7a,_0x3b3234['renderLists']=_0x40a155,_0x3b3234['shadowMap']=_0x4759db,_0x3b3234['state']=_0x2da260,_0x3b3234['info']=_0x3a3058;}_0x5d1116();const _0x54a96=new _0x5f0c12(_0x3b3234,_0x2ba009);function _0x1fc21c(_0x37e286){_0x37e286['preventDefault'](),console['log']('THREE.WebGLRenderer:\x20Context\x20Lost.'),_0x119675=!0x0;}function _0x3ef015(){console['log']('THREE.WebGLRenderer:\x20Context\x20Restored.'),_0x119675=!0x1;const _0x4a0f4a=_0x3a3058['autoReset'],_0x5828a1=_0x4759db['enabled'],_0x1808c3=_0x4759db['autoUpdate'],_0x5471d0=_0x4759db['needsUpdate'],_0x4d80a4=_0x4759db['type'];_0x5d1116(),_0x3a3058['autoReset']=_0x4a0f4a,_0x4759db['enabled']=_0x5828a1,_0x4759db['autoUpdate']=_0x1808c3,_0x4759db['needsUpdate']=_0x5471d0,_0x4759db['type']=_0x4d80a4;}function _0x4e2681(_0x4f7e04){console['error']('THREE.WebGLRenderer:\x20A\x20WebGL\x20context\x20could\x20not\x20be\x20created.\x20Reason:\x20',_0x4f7e04['statusMessage']);}function _0x537d89(_0x25a76d){const _0x22115d=_0x25a76d['target'];_0x22115d['removeEventListener']('dispose',_0x537d89),function(_0x354a6f){(function(_0x9dbad8){const _0x551273=_0x223a7a['get'](_0x9dbad8)['programs'];void 0x0!==_0x551273&&(_0x551273['forEach'](function(_0xe57888){_0x3cb6a2['releaseProgram'](_0xe57888);}),_0x9dbad8['isShaderMaterial']&&_0x3cb6a2['releaseShaderCache'](_0x9dbad8));}(_0x354a6f),_0x223a7a['remove'](_0x354a6f));}(_0x22115d);}function _0x147feb(_0x444e45,_0x583832,_0x14dba7){!0x0===_0x444e45['transparent']&&_0x444e45['side']===_0x3e8626['$EB']&&!0x1===_0x444e45['forceSinglePass']?(_0x444e45['side']=_0x3e8626['hsX'],_0x444e45['needsUpdate']=!0x0,_0x18e1ec(_0x444e45,_0x583832,_0x14dba7),_0x444e45['side']=_0x3e8626['hB5'],_0x444e45['needsUpdate']=!0x0,_0x18e1ec(_0x444e45,_0x583832,_0x14dba7),_0x444e45['side']=_0x3e8626['$EB']):_0x18e1ec(_0x444e45,_0x583832,_0x14dba7);}this['xr']=_0x54a96,this['getContext']=function(){return _0x2ba009;},this['getContextAttributes']=function(){return _0x2ba009['getContextAttributes']();},this['forceContextLoss']=function(){const _0x8c19b1=_0x1f4f93['get']('WEBGL_lose_context');_0x8c19b1&&_0x8c19b1['loseContext']();},this['forceContextRestore']=function(){const _0x2fc051=_0x1f4f93['get']('WEBGL_lose_context');_0x2fc051&&_0x2fc051['restoreContext']();},this['getPixelRatio']=function(){return _0x4c1001;},this['setPixelRatio']=function(_0x13e7a8){void 0x0!==_0x13e7a8&&(_0x4c1001=_0x13e7a8,this['setSize'](_0x40d1aa,_0xf02d48,!0x1));},this['getSize']=function(_0x123a1e){return _0x123a1e['set'](_0x40d1aa,_0xf02d48);},this['setSize']=function(_0x5ef453,_0x175af2,_0x38a524=!0x0){_0x54a96['isPresenting']?console['warn']('THREE.WebGLRenderer:\x20Can\x27t\x20change\x20size\x20while\x20VR\x20device\x20is\x20presenting.'):(_0x40d1aa=_0x5ef453,_0xf02d48=_0x175af2,_0x402b1d['width']=Math['floor'](_0x5ef453*_0x4c1001),_0x402b1d['height']=Math['floor'](_0x175af2*_0x4c1001),!0x0===_0x38a524&&(_0x402b1d['style']['width']=_0x5ef453+'px',_0x402b1d['style']['height']=_0x175af2+'px'),this['setViewport'](0x0,0x0,_0x5ef453,_0x175af2));},this['getDrawingBufferSize']=function(_0x2f4561){return _0x2f4561['set'](_0x40d1aa*_0x4c1001,_0xf02d48*_0x4c1001)['floor']();},this['setDrawingBufferSize']=function(_0x54e03d,_0x1e8218,_0x47c610){_0x40d1aa=_0x54e03d,_0xf02d48=_0x1e8218,_0x4c1001=_0x47c610,_0x402b1d['width']=Math['floor'](_0x54e03d*_0x47c610),_0x402b1d['height']=Math['floor'](_0x1e8218*_0x47c610),this['setViewport'](0x0,0x0,_0x54e03d,_0x1e8218);},this['getCurrentViewport']=function(_0x29c46b){return _0x29c46b['copy'](_0x3b8ae9);},this['getViewport']=function(_0x37afde){return _0x37afde['copy'](_0x1a2cbe);},this['setViewport']=function(_0x19778b,_0xf9a4be,_0x1d1ff5,_0x173ea8){_0x19778b['isVector4']?_0x1a2cbe['set'](_0x19778b['x'],_0x19778b['y'],_0x19778b['z'],_0x19778b['w']):_0x1a2cbe['set'](_0x19778b,_0xf9a4be,_0x1d1ff5,_0x173ea8),_0x2da260['viewport'](_0x3b8ae9['copy'](_0x1a2cbe)['multiplyScalar'](_0x4c1001)['round']());},this['getScissor']=function(_0x51c4dd){return _0x51c4dd['copy'](_0x54779f);},this['setScissor']=function(_0x56b288,_0x2c7b8b,_0x2a1719,_0x4991d0){_0x56b288['isVector4']?_0x54779f['set'](_0x56b288['x'],_0x56b288['y'],_0x56b288['z'],_0x56b288['w']):_0x54779f['set'](_0x56b288,_0x2c7b8b,_0x2a1719,_0x4991d0),_0x2da260['scissor'](_0x341597['copy'](_0x54779f)['multiplyScalar'](_0x4c1001)['round']());},this['getScissorTest']=function(){return _0x5a97a0;},this['setScissorTest']=function(_0x563564){_0x2da260['setScissorTest'](_0x5a97a0=_0x563564);},this['setOpaqueSort']=function(_0x45400b){_0x1f60e5=_0x45400b;},this['setTransparentSort']=function(_0x112c69){_0x492f4e=_0x112c69;},this['getClearColor']=function(_0x471a79){return _0x471a79['copy'](_0x22d253['getClearColor']());},this['setClearColor']=function(){_0x22d253['setClearColor']['apply'](_0x22d253,arguments);},this['getClearAlpha']=function(){return _0x22d253['getClearAlpha']();},this['setClearAlpha']=function(){_0x22d253['setClearAlpha']['apply'](_0x22d253,arguments);},this['clear']=function(_0x54f3f0=!0x0,_0x59e488=!0x0,_0x5cff44=!0x0){let _0x4cd4ab=0x0;if(_0x54f3f0){let _0x4b07f3=!0x1;if(null!==_0x3e08cb){const _0x1bd45f=_0x3e08cb['texture']['format'];_0x4b07f3=_0x1bd45f===_0x3e8626['c90']||_0x1bd45f===_0x3e8626['TkQ']||_0x1bd45f===_0x3e8626['ZQM'];}if(_0x4b07f3){const _0x5adcbc=_0x3e08cb['texture']['type'],_0x45631c=_0x5adcbc===_0x3e8626['OUM']||_0x5adcbc===_0x3e8626['bkx']||_0x5adcbc===_0x3e8626['cHt']||_0x5adcbc===_0x3e8626['V3x']||_0x5adcbc===_0x3e8626['Wew']||_0x5adcbc===_0x3e8626['gJ2'],_0x42906e=_0x22d253['getClearColor'](),_0x3d0cd5=_0x22d253['getClearAlpha'](),_0x43362a=_0x42906e['r'],_0x52871a=_0x42906e['g'],_0xa717af=_0x42906e['b'];_0x45631c?(_0x41a821[0x0]=_0x43362a,_0x41a821[0x1]=_0x52871a,_0x41a821[0x2]=_0xa717af,_0x41a821[0x3]=_0x3d0cd5,_0x2ba009['clearBufferuiv'](_0x2ba009['COLOR'],0x0,_0x41a821)):(_0x3cbbab[0x0]=_0x43362a,_0x3cbbab[0x1]=_0x52871a,_0x3cbbab[0x2]=_0xa717af,_0x3cbbab[0x3]=_0x3d0cd5,_0x2ba009['clearBufferiv'](_0x2ba009['COLOR'],0x0,_0x3cbbab));}else _0x4cd4ab|=_0x2ba009['COLOR_BUFFER_BIT'];}_0x59e488&&(_0x4cd4ab|=_0x2ba009['DEPTH_BUFFER_BIT']),_0x5cff44&&(_0x4cd4ab|=_0x2ba009['STENCIL_BUFFER_BIT'],this['state']['buffers']['stencil']['setMask'](0xffffffff)),_0x2ba009['clear'](_0x4cd4ab);},this['clearColor']=function(){this['clear'](!0x0,!0x1,!0x1);},this['clearDepth']=function(){this['clear'](!0x1,!0x0,!0x1);},this['clearStencil']=function(){this['clear'](!0x1,!0x1,!0x0);},this['dispose']=function(){_0x402b1d['removeEventListener']('webglcontextlost',_0x1fc21c,!0x1),_0x402b1d['removeEventListener']('webglcontextrestored',_0x3ef015,!0x1),_0x402b1d['removeEventListener']('webglcontextcreationerror',_0x4e2681,!0x1),_0x22d253['dispose'](),_0x40a155['dispose'](),_0x473b89['dispose'](),_0x223a7a['dispose'](),_0x2876a3['dispose'](),_0x281695['dispose'](),_0x323271['dispose'](),_0x2dea0b['dispose'](),_0x549ea5['dispose'](),_0x3cb6a2['dispose'](),_0x54a96['dispose'](),_0x54a96['removeEventListener']('sessionstart',_0x12d206),_0x54a96['removeEventListener']('sessionend',_0xd48385),_0x337907['stop']();},this['renderBufferDirect']=function(_0x36de11,_0x35e22c,_0x4f5913,_0x250533,_0x5d57b2,_0x1a962d){null===_0x35e22c&&(_0x35e22c=_0x94fe61);const _0x462afa=_0x5d57b2['isMesh']&&_0x5d57b2['matrixWorld']['determinant']()<0x0,_0x5c9a15=function(_0x316be5,_0x58e8ec,_0x44a0ca,_0x3db32f,_0x54e206){!0x0!==_0x58e8ec['isScene']&&(_0x58e8ec=_0x94fe61),_0x2291d6['resetTextureUnits']();const _0x1c793a=_0x58e8ec['fog'],_0x293d1a=_0x3db32f['isMeshStandardMaterial']?_0x58e8ec['environment']:null,_0x30dce8=null===_0x3e08cb?_0x3b3234['outputColorSpace']:!0x0===_0x3e08cb['isXRRenderTarget']?_0x3e08cb['texture']['colorSpace']:_0x3e8626['Zr2'],_0x1b7335=(_0x3db32f['isMeshStandardMaterial']?_0x281695:_0x2876a3)['get'](_0x3db32f['envMap']||_0x293d1a),_0x18533d=!0x0===_0x3db32f['vertexColors']&&!!_0x44a0ca['attributes']['color']&&0x4===_0x44a0ca['attributes']['color']['itemSize'],_0xce8aba=!!_0x44a0ca['attributes']['tangent']&&(!!_0x3db32f['normalMap']||_0x3db32f['anisotropy']>0x0),_0x502864=!!_0x44a0ca['morphAttributes']['position'],_0x4e52d9=!!_0x44a0ca['morphAttributes']['normal'],_0x1e3ea6=!!_0x44a0ca['morphAttributes']['color'];let _0x3b5850=_0x3e8626['y_p'];_0x3db32f['toneMapped']&&(null!==_0x3e08cb&&!0x0!==_0x3e08cb['isXRRenderTarget']||(_0x3b5850=_0x3b3234['toneMapping']));const _0x238ea2=_0x44a0ca['morphAttributes']['position']||_0x44a0ca['morphAttributes']['normal']||_0x44a0ca['morphAttributes']['color'],_0x2ce967=void 0x0!==_0x238ea2?_0x238ea2['length']:0x0,_0x3817b6=_0x223a7a['get'](_0x3db32f),_0x3d64d0=_0x22e759['state']['lights'];if(!0x0===_0x1b9c68&&(!0x0===_0x4d5a85||_0x316be5!==_0x2389b8)){const _0x6e7bee=_0x316be5===_0x2389b8&&_0x3db32f['id']===_0xeff076;_0x550bbb['setState'](_0x3db32f,_0x316be5,_0x6e7bee);}let _0x18811b=!0x1;_0x3db32f['version']===_0x3817b6['__version']?_0x3817b6['needsLights']&&_0x3817b6['lightsStateVersion']!==_0x3d64d0['state']['version']||_0x3817b6['outputColorSpace']!==_0x30dce8||_0x54e206['isBatchedMesh']&&!0x1===_0x3817b6['batching']?_0x18811b=!0x0:_0x54e206['isBatchedMesh']||!0x0!==_0x3817b6['batching']?_0x54e206['isBatchedMesh']&&!0x0===_0x3817b6['batchingColor']&&null===_0x54e206['colorTexture']||_0x54e206['isBatchedMesh']&&!0x1===_0x3817b6['batchingColor']&&null!==_0x54e206['colorTexture']||_0x54e206['isInstancedMesh']&&!0x1===_0x3817b6['instancing']?_0x18811b=!0x0:_0x54e206['isInstancedMesh']||!0x0!==_0x3817b6['instancing']?_0x54e206['isSkinnedMesh']&&!0x1===_0x3817b6['skinning']?_0x18811b=!0x0:_0x54e206['isSkinnedMesh']||!0x0!==_0x3817b6['skinning']?_0x54e206['isInstancedMesh']&&!0x0===_0x3817b6['instancingColor']&&null===_0x54e206['instanceColor']||_0x54e206['isInstancedMesh']&&!0x1===_0x3817b6['instancingColor']&&null!==_0x54e206['instanceColor']||_0x54e206['isInstancedMesh']&&!0x0===_0x3817b6['instancingMorph']&&null===_0x54e206['morphTexture']||_0x54e206['isInstancedMesh']&&!0x1===_0x3817b6['instancingMorph']&&null!==_0x54e206['morphTexture']||_0x3817b6['envMap']!==_0x1b7335||!0x0===_0x3db32f['fog']&&_0x3817b6['fog']!==_0x1c793a?_0x18811b=!0x0:void 0x0===_0x3817b6['numClippingPlanes']||_0x3817b6['numClippingPlanes']===_0x550bbb['numPlanes']&&_0x3817b6['numIntersection']===_0x550bbb['numIntersection']?(_0x3817b6['vertexAlphas']!==_0x18533d||_0x3817b6['vertexTangents']!==_0xce8aba||_0x3817b6['morphTargets']!==_0x502864||_0x3817b6['morphNormals']!==_0x4e52d9||_0x3817b6['morphColors']!==_0x1e3ea6||_0x3817b6['toneMapping']!==_0x3b5850||_0x3817b6['morphTargetsCount']!==_0x2ce967)&&(_0x18811b=!0x0):_0x18811b=!0x0:_0x18811b=!0x0:_0x18811b=!0x0:_0x18811b=!0x0:(_0x18811b=!0x0,_0x3817b6['__version']=_0x3db32f['version']);let _0x3aa4ae=_0x3817b6['currentProgram'];!0x0===_0x18811b&&(_0x3aa4ae=_0x18e1ec(_0x3db32f,_0x58e8ec,_0x54e206));let _0x42ab0a=!0x1,_0x35bdf7=!0x1,_0x416814=!0x1;const _0x3eb109=_0x3aa4ae['getUniforms'](),_0x49a4c3=_0x3817b6['uniforms'];_0x2da260['useProgram'](_0x3aa4ae['program'])&&(_0x42ab0a=!0x0,_0x35bdf7=!0x0,_0x416814=!0x0),_0x3db32f['id']!==_0xeff076&&(_0xeff076=_0x3db32f['id'],_0x35bdf7=!0x0);if(_0x42ab0a||_0x2389b8!==_0x316be5){_0x2da260['buffers']['depth']['getReversed']()?(_0x1ebdb7['copy'](_0x316be5['projectionMatrix']),(0x0,_0x3e8626['xiE'])(_0x1ebdb7),(0x0,_0x3e8626['Mmk'])(_0x1ebdb7),_0x3eb109['setValue'](_0x2ba009,'projectionMatrix',_0x1ebdb7)):_0x3eb109['setValue'](_0x2ba009,'projectionMatrix',_0x316be5['projectionMatrix']),_0x3eb109['setValue'](_0x2ba009,'viewMatrix',_0x316be5['matrixWorldInverse']);const _0x3890ba=_0x3eb109['map']['cameraPosition'];void 0x0!==_0x3890ba&&_0x3890ba['setValue'](_0x2ba009,_0x3492e5['setFromMatrixPosition'](_0x316be5['matrixWorld'])),_0x577583['logarithmicDepthBuffer']&&_0x3eb109['setValue'](_0x2ba009,'logDepthBufFC',0x2/(Math['log'](_0x316be5['far']+0x1)/Math['LN2'])),(_0x3db32f['isMeshPhongMaterial']||_0x3db32f['isMeshToonMaterial']||_0x3db32f['isMeshLambertMaterial']||_0x3db32f['isMeshBasicMaterial']||_0x3db32f['isMeshStandardMaterial']||_0x3db32f['isShaderMaterial'])&&_0x3eb109['setValue'](_0x2ba009,'isOrthographic',!0x0===_0x316be5['isOrthographicCamera']),_0x2389b8!==_0x316be5&&(_0x2389b8=_0x316be5,_0x35bdf7=!0x0,_0x416814=!0x0);}if(_0x54e206['isSkinnedMesh']){_0x3eb109['setOptional'](_0x2ba009,_0x54e206,'bindMatrix'),_0x3eb109['setOptional'](_0x2ba009,_0x54e206,'bindMatrixInverse');const _0x434772=_0x54e206['skeleton'];_0x434772&&(null===_0x434772['boneTexture']&&_0x434772['computeBoneTexture'](),_0x3eb109['setValue'](_0x2ba009,'boneTexture',_0x434772['boneTexture'],_0x2291d6));}_0x54e206['isBatchedMesh']&&(_0x3eb109['setOptional'](_0x2ba009,_0x54e206,'batchingTexture'),_0x3eb109['setValue'](_0x2ba009,'batchingTexture',_0x54e206['_matricesTexture'],_0x2291d6),_0x3eb109['setOptional'](_0x2ba009,_0x54e206,'batchingIdTexture'),_0x3eb109['setValue'](_0x2ba009,'batchingIdTexture',_0x54e206['_indirectTexture'],_0x2291d6),_0x3eb109['setOptional'](_0x2ba009,_0x54e206,'batchingColorTexture'),null!==_0x54e206['_colorsTexture']&&_0x3eb109['setValue'](_0x2ba009,'batchingColorTexture',_0x54e206['_colorsTexture'],_0x2291d6));const _0x3f0b69=_0x44a0ca['morphAttributes'];void 0x0===_0x3f0b69['position']&&void 0x0===_0x3f0b69['normal']&&void 0x0===_0x3f0b69['color']||_0x285745['update'](_0x54e206,_0x44a0ca,_0x3aa4ae),(_0x35bdf7||_0x3817b6['receiveShadow']!==_0x54e206['receiveShadow'])&&(_0x3817b6['receiveShadow']=_0x54e206['receiveShadow'],_0x3eb109['setValue'](_0x2ba009,'receiveShadow',_0x54e206['receiveShadow'])),_0x3db32f['isMeshGouraudMaterial']&&null!==_0x3db32f['envMap']&&(_0x49a4c3['envMap']['value']=_0x1b7335,_0x49a4c3['flipEnvMap']['value']=_0x1b7335['isCubeTexture']&&!0x1===_0x1b7335['isRenderTargetTexture']?-0x1:0x1),_0x3db32f['isMeshStandardMaterial']&&null===_0x3db32f['envMap']&&null!==_0x58e8ec['environment']&&(_0x49a4c3['envMapIntensity']['value']=_0x58e8ec['environmentIntensity']),_0x35bdf7&&(_0x3eb109['setValue'](_0x2ba009,'toneMappingExposure',_0x3b3234['toneMappingExposure']),_0x3817b6['needsLights']&&(_0x24be94=_0x416814,(_0x583ec9=_0x49a4c3)['ambientLightColor']['needsUpdate']=_0x24be94,_0x583ec9['lightProbe']['needsUpdate']=_0x24be94,_0x583ec9['directionalLights']['needsUpdate']=_0x24be94,_0x583ec9['directionalLightShadows']['needsUpdate']=_0x24be94,_0x583ec9['pointLights']['needsUpdate']=_0x24be94,_0x583ec9['pointLightShadows']['needsUpdate']=_0x24be94,_0x583ec9['spotLights']['needsUpdate']=_0x24be94,_0x583ec9['spotLightShadows']['needsUpdate']=_0x24be94,_0x583ec9['rectAreaLights']['needsUpdate']=_0x24be94,_0x583ec9['hemisphereLights']['needsUpdate']=_0x24be94),_0x1c793a&&!0x0===_0x3db32f['fog']&&_0xb83e4d['refreshFogUniforms'](_0x49a4c3,_0x1c793a),_0xb83e4d['refreshMaterialUniforms'](_0x49a4c3,_0x3db32f,_0x4c1001,_0xf02d48,_0x22e759['state']['transmissionRenderTarget'][_0x316be5['id']]),_0xd32fe3['upload'](_0x2ba009,_0x1586a9(_0x3817b6),_0x49a4c3,_0x2291d6));var _0x583ec9,_0x24be94;_0x3db32f['isShaderMaterial']&&!0x0===_0x3db32f['uniformsNeedUpdate']&&(_0xd32fe3['upload'](_0x2ba009,_0x1586a9(_0x3817b6),_0x49a4c3,_0x2291d6),_0x3db32f['uniformsNeedUpdate']=!0x1),_0x3db32f['isSpriteMaterial']&&_0x3eb109['setValue'](_0x2ba009,'center',_0x54e206['center']);if(_0x3eb109['setValue'](_0x2ba009,'modelViewMatrix',_0x54e206['modelViewMatrix']),_0x3eb109['setValue'](_0x2ba009,'normalMatrix',_0x54e206['normalMatrix']),_0x3eb109['setValue'](_0x2ba009,'modelMatrix',_0x54e206['matrixWorld']),_0x3db32f['isShaderMaterial']||_0x3db32f['isRawShaderMaterial']){const _0x64205c=_0x3db32f['uniformsGroups'];for(let _0x10860d=0x0,_0x2ccfe6=_0x64205c['length'];_0x10860d<_0x2ccfe6;_0x10860d++){const _0x2f0709=_0x64205c[_0x10860d];_0x549ea5['update'](_0x2f0709,_0x3aa4ae),_0x549ea5['bind'](_0x2f0709,_0x3aa4ae);}}return _0x3aa4ae;}(_0x36de11,_0x35e22c,_0x4f5913,_0x250533,_0x5d57b2);_0x2da260['setMaterial'](_0x250533,_0x462afa);let _0x3e0306=_0x4f5913['index'],_0x5a8532=0x1;if(!0x0===_0x250533['wireframe']){if(_0x3e0306=_0x428e1b['getWireframeAttribute'](_0x4f5913),void 0x0===_0x3e0306)return;_0x5a8532=0x2;}const _0x3b0ffa=_0x4f5913['drawRange'],_0x3ecf6e=_0x4f5913['attributes']['position'];let _0x4c6d84=_0x3b0ffa['start']*_0x5a8532,_0x56b890=(_0x3b0ffa['start']+_0x3b0ffa['count'])*_0x5a8532;null!==_0x1a962d&&(_0x4c6d84=Math['max'](_0x4c6d84,_0x1a962d['start']*_0x5a8532),_0x56b890=Math['min'](_0x56b890,(_0x1a962d['start']+_0x1a962d['count'])*_0x5a8532)),null!==_0x3e0306?(_0x4c6d84=Math['max'](_0x4c6d84,0x0),_0x56b890=Math['min'](_0x56b890,_0x3e0306['count'])):null!=_0x3ecf6e&&(_0x4c6d84=Math['max'](_0x4c6d84,0x0),_0x56b890=Math['min'](_0x56b890,_0x3ecf6e['count']));const _0x47f104=_0x56b890-_0x4c6d84;if(_0x47f104<0x0||_0x47f104===0x1/0x0)return;let _0x505b94;_0x2dea0b['setup'](_0x5d57b2,_0x250533,_0x5c9a15,_0x4f5913,_0x3e0306);let _0x5a1909=_0x824b33;if(null!==_0x3e0306&&(_0x505b94=_0x21d7fe['get'](_0x3e0306),_0x5a1909=_0x4618b0,_0x5a1909['setIndex'](_0x505b94)),_0x5d57b2['isMesh'])!0x0===_0x250533['wireframe']?(_0x2da260['setLineWidth'](_0x250533['wireframeLinewidth']*_0x53c7be()),_0x5a1909['setMode'](_0x2ba009['LINES'])):_0x5a1909['setMode'](_0x2ba009['TRIANGLES']);else{if(_0x5d57b2['isLine']){let _0xe0ddbd=_0x250533['linewidth'];void 0x0===_0xe0ddbd&&(_0xe0ddbd=0x1),_0x2da260['setLineWidth'](_0xe0ddbd*_0x53c7be()),_0x5d57b2['isLineSegments']?_0x5a1909['setMode'](_0x2ba009['LINES']):_0x5d57b2['isLineLoop']?_0x5a1909['setMode'](_0x2ba009['LINE_LOOP']):_0x5a1909['setMode'](_0x2ba009['LINE_STRIP']);}else _0x5d57b2['isPoints']?_0x5a1909['setMode'](_0x2ba009['POINTS']):_0x5d57b2['isSprite']&&_0x5a1909['setMode'](_0x2ba009['TRIANGLES']);}if(_0x5d57b2['isBatchedMesh']){if(null!==_0x5d57b2['_multiDrawInstances'])_0x5a1909['renderMultiDrawInstances'](_0x5d57b2['_multiDrawStarts'],_0x5d57b2['_multiDrawCounts'],_0x5d57b2['_multiDrawCount'],_0x5d57b2['_multiDrawInstances']);else{if(_0x1f4f93['get']('WEBGL_multi_draw'))_0x5a1909['renderMultiDraw'](_0x5d57b2['_multiDrawStarts'],_0x5d57b2['_multiDrawCounts'],_0x5d57b2['_multiDrawCount']);else{const _0x1d4052=_0x5d57b2['_multiDrawStarts'],_0x28715e=_0x5d57b2['_multiDrawCounts'],_0x53bbd5=_0x5d57b2['_multiDrawCount'],_0x59c99b=_0x3e0306?_0x21d7fe['get'](_0x3e0306)['bytesPerElement']:0x1,_0x1af0c0=_0x223a7a['get'](_0x250533)['currentProgram']['getUniforms']();for(let _0x4494be=0x0;_0x4494be<_0x53bbd5;_0x4494be++)_0x1af0c0['setValue'](_0x2ba009,'_gl_DrawID',_0x4494be),_0x5a1909['render'](_0x1d4052[_0x4494be]/_0x59c99b,_0x28715e[_0x4494be]);}}}else{if(_0x5d57b2['isInstancedMesh'])_0x5a1909['renderInstances'](_0x4c6d84,_0x47f104,_0x5d57b2['count']);else{if(_0x4f5913['isInstancedBufferGeometry']){const _0x5d3c28=void 0x0!==_0x4f5913['_maxInstanceCount']?_0x4f5913['_maxInstanceCount']:0x1/0x0,_0x39d0a9=Math['min'](_0x4f5913['instanceCount'],_0x5d3c28);_0x5a1909['renderInstances'](_0x4c6d84,_0x47f104,_0x39d0a9);}else _0x5a1909['render'](_0x4c6d84,_0x47f104);}}},this['compile']=function(_0x1f361c,_0x4dfedb,_0x1c2376=null){null===_0x1c2376&&(_0x1c2376=_0x1f361c),_0x22e759=_0x473b89['get'](_0x1c2376),_0x22e759['init'](_0x4dfedb),_0xcefe3['push'](_0x22e759),_0x1c2376['traverseVisible'](function(_0x342e30){_0x342e30['isLight']&&_0x342e30['layers']['test'](_0x4dfedb['layers'])&&(_0x22e759['pushLight'](_0x342e30),_0x342e30['castShadow']&&_0x22e759['pushShadow'](_0x342e30));}),_0x1f361c!==_0x1c2376&&_0x1f361c['traverseVisible'](function(_0x44ffc7){_0x44ffc7['isLight']&&_0x44ffc7['layers']['test'](_0x4dfedb['layers'])&&(_0x22e759['pushLight'](_0x44ffc7),_0x44ffc7['castShadow']&&_0x22e759['pushShadow'](_0x44ffc7));}),_0x22e759['setupLights']();const _0x4de3df=new Set();return _0x1f361c['traverse'](function(_0x443b41){if(!(_0x443b41['isMesh']||_0x443b41['isPoints']||_0x443b41['isLine']||_0x443b41['isSprite']))return;const _0x2c74f0=_0x443b41['material'];if(_0x2c74f0){if(Array['isArray'](_0x2c74f0))for(let _0x36a146=0x0;_0x36a146<_0x2c74f0['length'];_0x36a146++){const _0x4ed0fb=_0x2c74f0[_0x36a146];_0x147feb(_0x4ed0fb,_0x1c2376,_0x443b41),_0x4de3df['add'](_0x4ed0fb);}else _0x147feb(_0x2c74f0,_0x1c2376,_0x443b41),_0x4de3df['add'](_0x2c74f0);}}),_0xcefe3['pop'](),_0x22e759=null,_0x4de3df;},this['compileAsync']=function(_0x476883,_0x5d6962,_0xfcce8=null){const _0x2089f8=this['compile'](_0x476883,_0x5d6962,_0xfcce8);return new Promise(_0x41926f=>{function _0x5107b0(){_0x2089f8['forEach'](function(_0x3dc4f7){_0x223a7a['get'](_0x3dc4f7)['currentProgram']['isReady']()&&_0x2089f8['delete'](_0x3dc4f7);}),0x0!==_0x2089f8['size']?setTimeout(_0x5107b0,0xa):_0x41926f(_0x476883);}null!==_0x1f4f93['get']('KHR_parallel_shader_compile')?_0x5107b0():setTimeout(_0x5107b0,0xa);});};let _0x576e6b=null;function _0x12d206(){_0x337907['stop']();}function _0xd48385(){_0x337907['start']();}const _0x337907=new _0x52fe21();function _0x200d21(_0x3688df,_0x4ecd86,_0x509128,_0x83f754){if(!0x1===_0x3688df['visible'])return;if(_0x3688df['layers']['test'](_0x4ecd86['layers'])){if(_0x3688df['isGroup'])_0x509128=_0x3688df['renderOrder'];else{if(_0x3688df['isLOD'])!0x0===_0x3688df['autoUpdate']&&_0x3688df['update'](_0x4ecd86);else{if(_0x3688df['isLight'])_0x22e759['pushLight'](_0x3688df),_0x3688df['castShadow']&&_0x22e759['pushShadow'](_0x3688df);else{if(_0x3688df['isSprite']){if(!_0x3688df['frustumCulled']||_0x5c62cc['intersectsSprite'](_0x3688df)){_0x83f754&&_0x559b54['setFromMatrixPosition'](_0x3688df['matrixWorld'])['applyMatrix4'](_0x1efbb6);const _0x23075d=_0x323271['update'](_0x3688df),_0x11f684=_0x3688df['material'];_0x11f684['visible']&&_0x42b40f['push'](_0x3688df,_0x23075d,_0x11f684,_0x509128,_0x559b54['z'],null);}}else{if((_0x3688df['isMesh']||_0x3688df['isLine']||_0x3688df['isPoints'])&&(!_0x3688df['frustumCulled']||_0x5c62cc['intersectsObject'](_0x3688df))){const _0x25887b=_0x323271['update'](_0x3688df),_0x2499b4=_0x3688df['material'];if(_0x83f754&&(void 0x0!==_0x3688df['boundingSphere']?(null===_0x3688df['boundingSphere']&&_0x3688df['computeBoundingSphere'](),_0x559b54['copy'](_0x3688df['boundingSphere']['center'])):(null===_0x25887b['boundingSphere']&&_0x25887b['computeBoundingSphere'](),_0x559b54['copy'](_0x25887b['boundingSphere']['center'])),_0x559b54['applyMatrix4'](_0x3688df['matrixWorld'])['applyMatrix4'](_0x1efbb6)),Array['isArray'](_0x2499b4)){const _0x134761=_0x25887b['groups'];for(let _0x1e6fff=0x0,_0x3f33b5=_0x134761['length'];_0x1e6fff<_0x3f33b5;_0x1e6fff++){const _0x5cb4ec=_0x134761[_0x1e6fff],_0x59fa8f=_0x2499b4[_0x5cb4ec['materialIndex']];_0x59fa8f&&_0x59fa8f['visible']&&_0x42b40f['push'](_0x3688df,_0x25887b,_0x59fa8f,_0x509128,_0x559b54['z'],_0x5cb4ec);}}else _0x2499b4['visible']&&_0x42b40f['push'](_0x3688df,_0x25887b,_0x2499b4,_0x509128,_0x559b54['z'],null);}}}}}}const _0x2516f3=_0x3688df['children'];for(let _0x4f3d8a=0x0,_0x6f128b=_0x2516f3['length'];_0x4f3d8a<_0x6f128b;_0x4f3d8a++)_0x200d21(_0x2516f3[_0x4f3d8a],_0x4ecd86,_0x509128,_0x83f754);}function _0xb7296b(_0x278b3e,_0x56b441,_0x5919a9,_0x349575){const _0x156e1b=_0x278b3e['opaque'],_0x12a36c=_0x278b3e['transmissive'],_0x4adfb7=_0x278b3e['transparent'];_0x22e759['setupLightsView'](_0x5919a9),!0x0===_0x1b9c68&&_0x550bbb['setGlobalState'](_0x3b3234['clippingPlanes'],_0x5919a9),_0x349575&&_0x2da260['viewport'](_0x3b8ae9['copy'](_0x349575)),_0x156e1b['length']>0x0&&_0x497b9f(_0x156e1b,_0x56b441,_0x5919a9),_0x12a36c['length']>0x0&&_0x497b9f(_0x12a36c,_0x56b441,_0x5919a9),_0x4adfb7['length']>0x0&&_0x497b9f(_0x4adfb7,_0x56b441,_0x5919a9),_0x2da260['buffers']['depth']['setTest'](!0x0),_0x2da260['buffers']['depth']['setMask'](!0x0),_0x2da260['buffers']['color']['setMask'](!0x0),_0x2da260['setPolygonOffset'](!0x1);}function _0x344c99(_0x1cbe81,_0x2528e2,_0x39e906,_0x5cd35c){if(null!==(!0x0===_0x39e906['isScene']?_0x39e906['overrideMaterial']:null))return;void 0x0===_0x22e759['state']['transmissionRenderTarget'][_0x5cd35c['id']]&&(_0x22e759['state']['transmissionRenderTarget'][_0x5cd35c['id']]=new _0x3e8626['nWS'](0x1,0x1,{'generateMipmaps':!0x0,'type':_0x1f4f93['has']('EXT_color_buffer_half_float')||_0x1f4f93['has']('EXT_color_buffer_float')?_0x3e8626['ix0']:_0x3e8626['OUM'],'minFilter':_0x3e8626['$_I'],'samples':0x4,'stencilBuffer':_0x3e49d7,'resolveDepthBuffer':!0x1,'resolveStencilBuffer':!0x1,'colorSpace':_0x3e8626['ppV']['workingColorSpace']}));const _0x5697f1=_0x22e759['state']['transmissionRenderTarget'][_0x5cd35c['id']],_0x20c4b9=_0x5cd35c['viewport']||_0x3b8ae9;_0x5697f1['setSize'](_0x20c4b9['z']*_0x3b3234['transmissionResolutionScale'],_0x20c4b9['w']*_0x3b3234['transmissionResolutionScale']);const _0x484558=_0x3b3234['getRenderTarget']();_0x3b3234['setRenderTarget'](_0x5697f1),_0x3b3234['getClearColor'](_0x2eaacd),_0x5e3be3=_0x3b3234['getClearAlpha'](),_0x5e3be3<0x1&&_0x3b3234['setClearColor'](0xffffff,0.5),_0x3b3234['clear'](),_0x34e384&&_0x22d253['render'](_0x39e906);const _0x44ec9d=_0x3b3234['toneMapping'];_0x3b3234['toneMapping']=_0x3e8626['y_p'];const _0x3e45f6=_0x5cd35c['viewport'];if(void 0x0!==_0x5cd35c['viewport']&&(_0x5cd35c['viewport']=void 0x0),_0x22e759['setupLightsView'](_0x5cd35c),!0x0===_0x1b9c68&&_0x550bbb['setGlobalState'](_0x3b3234['clippingPlanes'],_0x5cd35c),_0x497b9f(_0x1cbe81,_0x39e906,_0x5cd35c),_0x2291d6['updateMultisampleRenderTarget'](_0x5697f1),_0x2291d6['updateRenderTargetMipmap'](_0x5697f1),!0x1===_0x1f4f93['has']('WEBGL_multisampled_render_to_texture')){let _0x2e47f7=!0x1;for(let _0x34eb58=0x0,_0x54024f=_0x2528e2['length'];_0x34eb58<_0x54024f;_0x34eb58++){const _0x2f7513=_0x2528e2[_0x34eb58],_0x2e101a=_0x2f7513['object'],_0x56dc68=_0x2f7513['geometry'],_0x193753=_0x2f7513['material'],_0x3baf98=_0x2f7513['group'];if(_0x193753['side']===_0x3e8626['$EB']&&_0x2e101a['layers']['test'](_0x5cd35c['layers'])){const _0x47b618=_0x193753['side'];_0x193753['side']=_0x3e8626['hsX'],_0x193753['needsUpdate']=!0x0,_0x45a829(_0x2e101a,_0x39e906,_0x5cd35c,_0x56dc68,_0x193753,_0x3baf98),_0x193753['side']=_0x47b618,_0x193753['needsUpdate']=!0x0,_0x2e47f7=!0x0;}}!0x0===_0x2e47f7&&(_0x2291d6['updateMultisampleRenderTarget'](_0x5697f1),_0x2291d6['updateRenderTargetMipmap'](_0x5697f1));}_0x3b3234['setRenderTarget'](_0x484558),_0x3b3234['setClearColor'](_0x2eaacd,_0x5e3be3),void 0x0!==_0x3e45f6&&(_0x5cd35c['viewport']=_0x3e45f6),_0x3b3234['toneMapping']=_0x44ec9d;}function _0x497b9f(_0x14ac99,_0x7e8d23,_0x27b3e1){const _0x1ffcd2=!0x0===_0x7e8d23['isScene']?_0x7e8d23['overrideMaterial']:null;for(let _0x3ded47=0x0,_0x1dc35b=_0x14ac99['length'];_0x3ded47<_0x1dc35b;_0x3ded47++){const _0x3ea0b4=_0x14ac99[_0x3ded47],_0x21e2cf=_0x3ea0b4['object'],_0x485adf=_0x3ea0b4['geometry'],_0x1d41ba=null===_0x1ffcd2?_0x3ea0b4['material']:_0x1ffcd2,_0x8b1977=_0x3ea0b4['group'];_0x21e2cf['layers']['test'](_0x27b3e1['layers'])&&_0x45a829(_0x21e2cf,_0x7e8d23,_0x27b3e1,_0x485adf,_0x1d41ba,_0x8b1977);}}function _0x45a829(_0x466770,_0x3525a3,_0x5f251f,_0x2dd45d,_0x622ee,_0x3ed67f){_0x466770['onBeforeRender'](_0x3b3234,_0x3525a3,_0x5f251f,_0x2dd45d,_0x622ee,_0x3ed67f),_0x466770['modelViewMatrix']['multiplyMatrices'](_0x5f251f['matrixWorldInverse'],_0x466770['matrixWorld']),_0x466770['normalMatrix']['getNormalMatrix'](_0x466770['modelViewMatrix']),_0x622ee['onBeforeRender'](_0x3b3234,_0x3525a3,_0x5f251f,_0x2dd45d,_0x466770,_0x3ed67f),!0x0===_0x622ee['transparent']&&_0x622ee['side']===_0x3e8626['$EB']&&!0x1===_0x622ee['forceSinglePass']?(_0x622ee['side']=_0x3e8626['hsX'],_0x622ee['needsUpdate']=!0x0,_0x3b3234['renderBufferDirect'](_0x5f251f,_0x3525a3,_0x2dd45d,_0x622ee,_0x466770,_0x3ed67f),_0x622ee['side']=_0x3e8626['hB5'],_0x622ee['needsUpdate']=!0x0,_0x3b3234['renderBufferDirect'](_0x5f251f,_0x3525a3,_0x2dd45d,_0x622ee,_0x466770,_0x3ed67f),_0x622ee['side']=_0x3e8626['$EB']):_0x3b3234['renderBufferDirect'](_0x5f251f,_0x3525a3,_0x2dd45d,_0x622ee,_0x466770,_0x3ed67f),_0x466770['onAfterRender'](_0x3b3234,_0x3525a3,_0x5f251f,_0x2dd45d,_0x622ee,_0x3ed67f);}function _0x18e1ec(_0x4134b0,_0x2586c3,_0x308ecb){!0x0!==_0x2586c3['isScene']&&(_0x2586c3=_0x94fe61);const _0x1894c4=_0x223a7a['get'](_0x4134b0),_0x45fd67=_0x22e759['state']['lights'],_0x3840ac=_0x22e759['state']['shadowsArray'],_0x482f53=_0x45fd67['state']['version'],_0x218405=_0x3cb6a2['getParameters'](_0x4134b0,_0x45fd67['state'],_0x3840ac,_0x2586c3,_0x308ecb),_0x19e028=_0x3cb6a2['getProgramCacheKey'](_0x218405);let _0x4ce451=_0x1894c4['programs'];_0x1894c4['environment']=_0x4134b0['isMeshStandardMaterial']?_0x2586c3['environment']:null,_0x1894c4['fog']=_0x2586c3['fog'],_0x1894c4['envMap']=(_0x4134b0['isMeshStandardMaterial']?_0x281695:_0x2876a3)['get'](_0x4134b0['envMap']||_0x1894c4['environment']),_0x1894c4['envMapRotation']=null!==_0x1894c4['environment']&&null===_0x4134b0['envMap']?_0x2586c3['environmentRotation']:_0x4134b0['envMapRotation'],void 0x0===_0x4ce451&&(_0x4134b0['addEventListener']('dispose',_0x537d89),_0x4ce451=new Map(),_0x1894c4['programs']=_0x4ce451);let _0xa526cc=_0x4ce451['get'](_0x19e028);if(void 0x0!==_0xa526cc){if(_0x1894c4['currentProgram']===_0xa526cc&&_0x1894c4['lightsStateVersion']===_0x482f53)return _0x40392e(_0x4134b0,_0x218405),_0xa526cc;}else _0x218405['uniforms']=_0x3cb6a2['getUniforms'](_0x4134b0),_0x4134b0['onBeforeCompile'](_0x218405,_0x3b3234),_0xa526cc=_0x3cb6a2['acquireProgram'](_0x218405,_0x19e028),_0x4ce451['set'](_0x19e028,_0xa526cc),_0x1894c4['uniforms']=_0x218405['uniforms'];const _0x56b0eb=_0x1894c4['uniforms'];return(_0x4134b0['isShaderMaterial']||_0x4134b0['isRawShaderMaterial'])&&!0x0!==_0x4134b0['clipping']||(_0x56b0eb['clippingPlanes']=_0x550bbb['uniform']),_0x40392e(_0x4134b0,_0x218405),_0x1894c4['needsLights']=function(_0x23fc84){return _0x23fc84['isMeshLambertMaterial']||_0x23fc84['isMeshToonMaterial']||_0x23fc84['isMeshPhongMaterial']||_0x23fc84['isMeshStandardMaterial']||_0x23fc84['isShadowMaterial']||_0x23fc84['isShaderMaterial']&&!0x0===_0x23fc84['lights'];}(_0x4134b0),_0x1894c4['lightsStateVersion']=_0x482f53,_0x1894c4['needsLights']&&(_0x56b0eb['ambientLightColor']['value']=_0x45fd67['state']['ambient'],_0x56b0eb['lightProbe']['value']=_0x45fd67['state']['probe'],_0x56b0eb['directionalLights']['value']=_0x45fd67['state']['directional'],_0x56b0eb['directionalLightShadows']['value']=_0x45fd67['state']['directionalShadow'],_0x56b0eb['spotLights']['value']=_0x45fd67['state']['spot'],_0x56b0eb['spotLightShadows']['value']=_0x45fd67['state']['spotShadow'],_0x56b0eb['rectAreaLights']['value']=_0x45fd67['state']['rectArea'],_0x56b0eb['ltc_1']['value']=_0x45fd67['state']['rectAreaLTC1'],_0x56b0eb['ltc_2']['value']=_0x45fd67['state']['rectAreaLTC2'],_0x56b0eb['pointLights']['value']=_0x45fd67['state']['point'],_0x56b0eb['pointLightShadows']['value']=_0x45fd67['state']['pointShadow'],_0x56b0eb['hemisphereLights']['value']=_0x45fd67['state']['hemi'],_0x56b0eb['directionalShadowMap']['value']=_0x45fd67['state']['directionalShadowMap'],_0x56b0eb['directionalShadowMatrix']['value']=_0x45fd67['state']['directionalShadowMatrix'],_0x56b0eb['spotShadowMap']['value']=_0x45fd67['state']['spotShadowMap'],_0x56b0eb['spotLightMatrix']['value']=_0x45fd67['state']['spotLightMatrix'],_0x56b0eb['spotLightMap']['value']=_0x45fd67['state']['spotLightMap'],_0x56b0eb['pointShadowMap']['value']=_0x45fd67['state']['pointShadowMap'],_0x56b0eb['pointShadowMatrix']['value']=_0x45fd67['state']['pointShadowMatrix']),_0x1894c4['currentProgram']=_0xa526cc,_0x1894c4['uniformsList']=null,_0xa526cc;}function _0x1586a9(_0x29af11){if(null===_0x29af11['uniformsList']){const _0x444bf5=_0x29af11['currentProgram']['getUniforms']();_0x29af11['uniformsList']=_0xd32fe3['seqWithValue'](_0x444bf5['seq'],_0x29af11['uniforms']);}return _0x29af11['uniformsList'];}function _0x40392e(_0x3ca145,_0x3546cf){const _0x38f390=_0x223a7a['get'](_0x3ca145);_0x38f390['outputColorSpace']=_0x3546cf['outputColorSpace'],_0x38f390['batching']=_0x3546cf['batching'],_0x38f390['batchingColor']=_0x3546cf['batchingColor'],_0x38f390['instancing']=_0x3546cf['instancing'],_0x38f390['instancingColor']=_0x3546cf['instancingColor'],_0x38f390['instancingMorph']=_0x3546cf['instancingMorph'],_0x38f390['skinning']=_0x3546cf['skinning'],_0x38f390['morphTargets']=_0x3546cf['morphTargets'],_0x38f390['morphNormals']=_0x3546cf['morphNormals'],_0x38f390['morphColors']=_0x3546cf['morphColors'],_0x38f390['morphTargetsCount']=_0x3546cf['morphTargetsCount'],_0x38f390['numClippingPlanes']=_0x3546cf['numClippingPlanes'],_0x38f390['numIntersection']=_0x3546cf['numClipIntersection'],_0x38f390['vertexAlphas']=_0x3546cf['vertexAlphas'],_0x38f390['vertexTangents']=_0x3546cf['vertexTangents'],_0x38f390['toneMapping']=_0x3546cf['toneMapping'];}_0x337907['setAnimationLoop'](function(_0x92cec6){_0x576e6b&&_0x576e6b(_0x92cec6);}),'undefined'!=typeof self&&_0x337907['setContext'](self),this['setAnimationLoop']=function(_0x3f3d23){_0x576e6b=_0x3f3d23,_0x54a96['setAnimationLoop'](_0x3f3d23),null===_0x3f3d23?_0x337907['stop']():_0x337907['start']();},_0x54a96['addEventListener']('sessionstart',_0x12d206),_0x54a96['addEventListener']('sessionend',_0xd48385),this['render']=function(_0x2c185c,_0x29c7d0){if(void 0x0!==_0x29c7d0&&!0x0!==_0x29c7d0['isCamera'])return void console['error']('THREE.WebGLRenderer.render:\x20camera\x20is\x20not\x20an\x20instance\x20of\x20THREE.Camera.');if(!0x0===_0x119675)return;if(!0x0===_0x2c185c['matrixWorldAutoUpdate']&&_0x2c185c['updateMatrixWorld'](),null===_0x29c7d0['parent']&&!0x0===_0x29c7d0['matrixWorldAutoUpdate']&&_0x29c7d0['updateMatrixWorld'](),!0x0===_0x54a96['enabled']&&!0x0===_0x54a96['isPresenting']&&(!0x0===_0x54a96['cameraAutoUpdate']&&_0x54a96['updateCamera'](_0x29c7d0),_0x29c7d0=_0x54a96['getCamera']()),!0x0===_0x2c185c['isScene']&&_0x2c185c['onBeforeRender'](_0x3b3234,_0x2c185c,_0x29c7d0,_0x3e08cb),_0x22e759=_0x473b89['get'](_0x2c185c,_0xcefe3['length']),_0x22e759['init'](_0x29c7d0),_0xcefe3['push'](_0x22e759),_0x1efbb6['multiplyMatrices'](_0x29c7d0['projectionMatrix'],_0x29c7d0['matrixWorldInverse']),_0x5c62cc['setFromProjectionMatrix'](_0x1efbb6),_0x4d5a85=this['localClippingEnabled'],_0x1b9c68=_0x550bbb['init'](this['clippingPlanes'],_0x4d5a85),_0x42b40f=_0x40a155['get'](_0x2c185c,_0xebb6e2['length']),_0x42b40f['init'](),_0xebb6e2['push'](_0x42b40f),!0x0===_0x54a96['enabled']&&!0x0===_0x54a96['isPresenting']){const _0x55bf75=_0x3b3234['xr']['getDepthSensingMesh']();null!==_0x55bf75&&_0x200d21(_0x55bf75,_0x29c7d0,-0x1/0x0,_0x3b3234['sortObjects']);}_0x200d21(_0x2c185c,_0x29c7d0,0x0,_0x3b3234['sortObjects']),_0x42b40f['finish'](),!0x0===_0x3b3234['sortObjects']&&_0x42b40f['sort'](_0x1f60e5,_0x492f4e),_0x34e384=!0x1===_0x54a96['enabled']||!0x1===_0x54a96['isPresenting']||!0x1===_0x54a96['hasDepthSensing'](),_0x34e384&&_0x22d253['addToRenderList'](_0x42b40f,_0x2c185c),this['info']['render']['frame']++,!0x0===_0x1b9c68&&_0x550bbb['beginShadows']();const _0x5a0f75=_0x22e759['state']['shadowsArray'];_0x4759db['render'](_0x5a0f75,_0x2c185c,_0x29c7d0),!0x0===_0x1b9c68&&_0x550bbb['endShadows'](),!0x0===this['info']['autoReset']&&this['info']['reset']();const _0x3c9cf6=_0x42b40f['opaque'],_0x2d3be2=_0x42b40f['transmissive'];if(_0x22e759['setupLights'](),_0x29c7d0['isArrayCamera']){const _0x4d89a6=_0x29c7d0['cameras'];if(_0x2d3be2['length']>0x0)for(let _0x446562=0x0,_0x59f6c5=_0x4d89a6['length'];_0x446562<_0x59f6c5;_0x446562++){_0x344c99(_0x3c9cf6,_0x2d3be2,_0x2c185c,_0x4d89a6[_0x446562]);}_0x34e384&&_0x22d253['render'](_0x2c185c);for(let _0xa7306b=0x0,_0x178a86=_0x4d89a6['length'];_0xa7306b<_0x178a86;_0xa7306b++){const _0x565bb9=_0x4d89a6[_0xa7306b];_0xb7296b(_0x42b40f,_0x2c185c,_0x565bb9,_0x565bb9['viewport']);}}else _0x2d3be2['length']>0x0&&_0x344c99(_0x3c9cf6,_0x2d3be2,_0x2c185c,_0x29c7d0),_0x34e384&&_0x22d253['render'](_0x2c185c),_0xb7296b(_0x42b40f,_0x2c185c,_0x29c7d0);null!==_0x3e08cb&&0x0===_0x31b482&&(_0x2291d6['updateMultisampleRenderTarget'](_0x3e08cb),_0x2291d6['updateRenderTargetMipmap'](_0x3e08cb)),!0x0===_0x2c185c['isScene']&&_0x2c185c['onAfterRender'](_0x3b3234,_0x2c185c,_0x29c7d0),_0x2dea0b['resetDefaultState'](),_0xeff076=-0x1,_0x2389b8=null,_0xcefe3['pop'](),_0xcefe3['length']>0x0?(_0x22e759=_0xcefe3[_0xcefe3['length']-0x1],!0x0===_0x1b9c68&&_0x550bbb['setGlobalState'](_0x3b3234['clippingPlanes'],_0x22e759['state']['camera'])):_0x22e759=null,_0xebb6e2['pop'](),_0x42b40f=_0xebb6e2['length']>0x0?_0xebb6e2[_0xebb6e2['length']-0x1]:null;},this['getActiveCubeFace']=function(){return _0x4c43a7;},this['getActiveMipmapLevel']=function(){return _0x31b482;},this['getRenderTarget']=function(){return _0x3e08cb;},this['setRenderTargetTextures']=function(_0x295a07,_0x123490,_0x3d15b7){_0x223a7a['get'](_0x295a07['texture'])['__webglTexture']=_0x123490,_0x223a7a['get'](_0x295a07['depthTexture'])['__webglTexture']=_0x3d15b7;const _0x384c55=_0x223a7a['get'](_0x295a07);_0x384c55['__hasExternalTextures']=!0x0,_0x384c55['__autoAllocateDepthBuffer']=void 0x0===_0x3d15b7,_0x384c55['__autoAllocateDepthBuffer']||!0x0===_0x1f4f93['has']('WEBGL_multisampled_render_to_texture')&&(console['warn']('THREE.WebGLRenderer:\x20Render-to-texture\x20extension\x20was\x20disabled\x20because\x20an\x20external\x20texture\x20was\x20provided'),_0x384c55['__useRenderToTexture']=!0x1);},this['setRenderTargetFramebuffer']=function(_0x83e8d1,_0x1d4397){const _0x478cc1=_0x223a7a['get'](_0x83e8d1);_0x478cc1['__webglFramebuffer']=_0x1d4397,_0x478cc1['__useDefaultFramebuffer']=void 0x0===_0x1d4397;};const _0x3832c7=_0x2ba009['createFramebuffer']();this['setRenderTarget']=function(_0x16ba7d,_0x42d983=0x0,_0x390a76=0x0){_0x3e08cb=_0x16ba7d,_0x4c43a7=_0x42d983,_0x31b482=_0x390a76;let _0x1eab69=!0x0,_0x499473=null,_0x3e10b1=!0x1,_0x1f951c=!0x1;if(_0x16ba7d){const _0xfb39dd=_0x223a7a['get'](_0x16ba7d);if(void 0x0!==_0xfb39dd['__useDefaultFramebuffer'])_0x2da260['bindFramebuffer'](_0x2ba009['FRAMEBUFFER'],null),_0x1eab69=!0x1;else{if(void 0x0===_0xfb39dd['__webglFramebuffer'])_0x2291d6['setupRenderTarget'](_0x16ba7d);else{if(_0xfb39dd['__hasExternalTextures'])_0x2291d6['rebindTextures'](_0x16ba7d,_0x223a7a['get'](_0x16ba7d['texture'])['__webglTexture'],_0x223a7a['get'](_0x16ba7d['depthTexture'])['__webglTexture']);else{if(_0x16ba7d['depthBuffer']){const _0x12e94e=_0x16ba7d['depthTexture'];if(_0xfb39dd['__boundDepthTexture']!==_0x12e94e){if(null!==_0x12e94e&&_0x223a7a['has'](_0x12e94e)&&(_0x16ba7d['width']!==_0x12e94e['image']['width']||_0x16ba7d['height']!==_0x12e94e['image']['height']))throw new Error('WebGLRenderTarget:\x20Attached\x20DepthTexture\x20is\x20initialized\x20to\x20the\x20incorrect\x20size.');_0x2291d6['setupDepthRenderbuffer'](_0x16ba7d);}}}}}const _0x2755ee=_0x16ba7d['texture'];(_0x2755ee['isData3DTexture']||_0x2755ee['isDataArrayTexture']||_0x2755ee['isCompressedArrayTexture'])&&(_0x1f951c=!0x0);const _0x2ffc3e=_0x223a7a['get'](_0x16ba7d)['__webglFramebuffer'];_0x16ba7d['isWebGLCubeRenderTarget']?(_0x499473=Array['isArray'](_0x2ffc3e[_0x42d983])?_0x2ffc3e[_0x42d983][_0x390a76]:_0x2ffc3e[_0x42d983],_0x3e10b1=!0x0):_0x499473=_0x16ba7d['samples']>0x0&&!0x1===_0x2291d6['useMultisampledRTT'](_0x16ba7d)?_0x223a7a['get'](_0x16ba7d)['__webglMultisampledFramebuffer']:Array['isArray'](_0x2ffc3e)?_0x2ffc3e[_0x390a76]:_0x2ffc3e,_0x3b8ae9['copy'](_0x16ba7d['viewport']),_0x341597['copy'](_0x16ba7d['scissor']),_0x44d1cd=_0x16ba7d['scissorTest'];}else _0x3b8ae9['copy'](_0x1a2cbe)['multiplyScalar'](_0x4c1001)['floor'](),_0x341597['copy'](_0x54779f)['multiplyScalar'](_0x4c1001)['floor'](),_0x44d1cd=_0x5a97a0;0x0!==_0x390a76&&(_0x499473=_0x3832c7);if(_0x2da260['bindFramebuffer'](_0x2ba009['FRAMEBUFFER'],_0x499473)&&_0x1eab69&&_0x2da260['drawBuffers'](_0x16ba7d,_0x499473),_0x2da260['viewport'](_0x3b8ae9),_0x2da260['scissor'](_0x341597),_0x2da260['setScissorTest'](_0x44d1cd),_0x3e10b1){const _0x345674=_0x223a7a['get'](_0x16ba7d['texture']);_0x2ba009['framebufferTexture2D'](_0x2ba009['FRAMEBUFFER'],_0x2ba009['COLOR_ATTACHMENT0'],_0x2ba009['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x42d983,_0x345674['__webglTexture'],_0x390a76);}else{if(_0x1f951c){const _0x4d66f8=_0x223a7a['get'](_0x16ba7d['texture']),_0x26f445=_0x42d983;_0x2ba009['framebufferTextureLayer'](_0x2ba009['FRAMEBUFFER'],_0x2ba009['COLOR_ATTACHMENT0'],_0x4d66f8['__webglTexture'],_0x390a76,_0x26f445);}else{if(null!==_0x16ba7d&&0x0!==_0x390a76){const _0x5fbbe7=_0x223a7a['get'](_0x16ba7d['texture']);_0x2ba009['framebufferTexture2D'](_0x2ba009['FRAMEBUFFER'],_0x2ba009['COLOR_ATTACHMENT0'],_0x2ba009['TEXTURE_2D'],_0x5fbbe7['__webglTexture'],_0x390a76);}}}_0xeff076=-0x1;},this['readRenderTargetPixels']=function(_0x5db44f,_0x17ffd6,_0x4264b2,_0xea0d8e,_0x1a5fb8,_0xb546cd,_0x26257a){if(!_0x5db44f||!_0x5db44f['isWebGLRenderTarget'])return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20THREE.WebGLRenderTarget.');let _0x26e223=_0x223a7a['get'](_0x5db44f)['__webglFramebuffer'];if(_0x5db44f['isWebGLCubeRenderTarget']&&void 0x0!==_0x26257a&&(_0x26e223=_0x26e223[_0x26257a]),_0x26e223){_0x2da260['bindFramebuffer'](_0x2ba009['FRAMEBUFFER'],_0x26e223);try{const _0x51fbf4=_0x5db44f['texture'],_0x10a9ea=_0x51fbf4['format'],_0x474fb7=_0x51fbf4['type'];if(!_0x577583['textureFormatReadable'](_0x10a9ea))return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20in\x20RGBA\x20or\x20implementation\x20defined\x20format.');if(!_0x577583['textureTypeReadable'](_0x474fb7))return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20in\x20UnsignedByteType\x20or\x20implementation\x20defined\x20type.');_0x17ffd6>=0x0&&_0x17ffd6<=_0x5db44f['width']-_0xea0d8e&&_0x4264b2>=0x0&&_0x4264b2<=_0x5db44f['height']-_0x1a5fb8&&_0x2ba009['readPixels'](_0x17ffd6,_0x4264b2,_0xea0d8e,_0x1a5fb8,_0x4fe3cd['convert'](_0x10a9ea),_0x4fe3cd['convert'](_0x474fb7),_0xb546cd);}finally{const _0x38e449=null!==_0x3e08cb?_0x223a7a['get'](_0x3e08cb)['__webglFramebuffer']:null;_0x2da260['bindFramebuffer'](_0x2ba009['FRAMEBUFFER'],_0x38e449);}}},this['readRenderTargetPixelsAsync']=async function(_0x35e542,_0x2936a1,_0x3e537c,_0x34770e,_0x44bf65,_0x207040,_0x401460){if(!_0x35e542||!_0x35e542['isWebGLRenderTarget'])throw new Error('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20THREE.WebGLRenderTarget.');let _0x579f50=_0x223a7a['get'](_0x35e542)['__webglFramebuffer'];if(_0x35e542['isWebGLCubeRenderTarget']&&void 0x0!==_0x401460&&(_0x579f50=_0x579f50[_0x401460]),_0x579f50){const _0x32b76c=_0x35e542['texture'],_0x4ea014=_0x32b76c['format'],_0x1c79f5=_0x32b76c['type'];if(!_0x577583['textureFormatReadable'](_0x4ea014))throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20renderTarget\x20is\x20not\x20in\x20RGBA\x20or\x20implementation\x20defined\x20format.');if(!_0x577583['textureTypeReadable'](_0x1c79f5))throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20renderTarget\x20is\x20not\x20in\x20UnsignedByteType\x20or\x20implementation\x20defined\x20type.');if(_0x2936a1>=0x0&&_0x2936a1<=_0x35e542['width']-_0x34770e&&_0x3e537c>=0x0&&_0x3e537c<=_0x35e542['height']-_0x44bf65){_0x2da260['bindFramebuffer'](_0x2ba009['FRAMEBUFFER'],_0x579f50);const _0x16d086=_0x2ba009['createBuffer']();_0x2ba009['bindBuffer'](_0x2ba009['PIXEL_PACK_BUFFER'],_0x16d086),_0x2ba009['bufferData'](_0x2ba009['PIXEL_PACK_BUFFER'],_0x207040['byteLength'],_0x2ba009['STREAM_READ']),_0x2ba009['readPixels'](_0x2936a1,_0x3e537c,_0x34770e,_0x44bf65,_0x4fe3cd['convert'](_0x4ea014),_0x4fe3cd['convert'](_0x1c79f5),0x0);const _0x114768=null!==_0x3e08cb?_0x223a7a['get'](_0x3e08cb)['__webglFramebuffer']:null;_0x2da260['bindFramebuffer'](_0x2ba009['FRAMEBUFFER'],_0x114768);const _0x22ad5c=_0x2ba009['fenceSync'](_0x2ba009['SYNC_GPU_COMMANDS_COMPLETE'],0x0);return _0x2ba009['flush'](),await(0x0,_0x3e8626['jej'])(_0x2ba009,_0x22ad5c,0x4),_0x2ba009['bindBuffer'](_0x2ba009['PIXEL_PACK_BUFFER'],_0x16d086),_0x2ba009['getBufferSubData'](_0x2ba009['PIXEL_PACK_BUFFER'],0x0,_0x207040),_0x2ba009['deleteBuffer'](_0x16d086),_0x2ba009['deleteSync'](_0x22ad5c),_0x207040;}throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20requested\x20read\x20bounds\x20are\x20out\x20of\x20range.');}},this['copyFramebufferToTexture']=function(_0x58a49f,_0x3b2e3e=null,_0x22b758=0x0){!0x0!==_0x58a49f['isTexture']&&((0x0,_0x3e8626['mcG'])('WebGLRenderer:\x20copyFramebufferToTexture\x20function\x20signature\x20has\x20changed.'),_0x3b2e3e=arguments[0x0]||null,_0x58a49f=arguments[0x1]);const _0x56fecf=Math['pow'](0x2,-_0x22b758),_0xcc49e9=Math['floor'](_0x58a49f['image']['width']*_0x56fecf),_0x1a19bf=Math['floor'](_0x58a49f['image']['height']*_0x56fecf),_0x13edf6=null!==_0x3b2e3e?_0x3b2e3e['x']:0x0,_0x154c52=null!==_0x3b2e3e?_0x3b2e3e['y']:0x0;_0x2291d6['setTexture2D'](_0x58a49f,0x0),_0x2ba009['copyTexSubImage2D'](_0x2ba009['TEXTURE_2D'],_0x22b758,0x0,0x0,_0x13edf6,_0x154c52,_0xcc49e9,_0x1a19bf),_0x2da260['unbindTexture']();};const _0x2d1d3c=_0x2ba009['createFramebuffer'](),_0x52510f=_0x2ba009['createFramebuffer']();this['copyTextureToTexture']=function(_0xfcc1c0,_0x39f2dc,_0x55bc91=null,_0x381e56=null,_0x99abbc=0x0,_0x4f0d2a=null){let _0x379d4a,_0x53fd4e,_0x2530ec,_0x7a8263,_0x99fd00,_0x1b5296,_0x3bc008,_0x1b3931,_0x248fe9;!0x0!==_0xfcc1c0['isTexture']&&((0x0,_0x3e8626['mcG'])('WebGLRenderer:\x20copyTextureToTexture\x20function\x20signature\x20has\x20changed.'),_0x381e56=arguments[0x0]||null,_0xfcc1c0=arguments[0x1],_0x39f2dc=arguments[0x2],_0x4f0d2a=arguments[0x3]||0x0,_0x55bc91=null),null===_0x4f0d2a&&(0x0!==_0x99abbc?((0x0,_0x3e8626['mcG'])('WebGLRenderer:\x20copyTextureToTexture\x20function\x20signature\x20has\x20changed\x20to\x20support\x20src\x20and\x20dst\x20mipmap\x20levels.'),_0x4f0d2a=_0x99abbc,_0x99abbc=0x0):_0x4f0d2a=0x0);const _0x2109a6=_0xfcc1c0['isCompressedTexture']?_0xfcc1c0['mipmaps'][_0x4f0d2a]:_0xfcc1c0['image'];if(null!==_0x55bc91)_0x379d4a=_0x55bc91['max']['x']-_0x55bc91['min']['x'],_0x53fd4e=_0x55bc91['max']['y']-_0x55bc91['min']['y'],_0x2530ec=_0x55bc91['isBox3']?_0x55bc91['max']['z']-_0x55bc91['min']['z']:0x1,_0x7a8263=_0x55bc91['min']['x'],_0x99fd00=_0x55bc91['min']['y'],_0x1b5296=_0x55bc91['isBox3']?_0x55bc91['min']['z']:0x0;else{const _0x11a534=Math['pow'](0x2,-_0x99abbc);_0x379d4a=Math['floor'](_0x2109a6['width']*_0x11a534),_0x53fd4e=Math['floor'](_0x2109a6['height']*_0x11a534),_0x2530ec=_0xfcc1c0['isDataArrayTexture']?_0x2109a6['depth']:_0xfcc1c0['isData3DTexture']?Math['floor'](_0x2109a6['depth']*_0x11a534):0x1,_0x7a8263=0x0,_0x99fd00=0x0,_0x1b5296=0x0;}null!==_0x381e56?(_0x3bc008=_0x381e56['x'],_0x1b3931=_0x381e56['y'],_0x248fe9=_0x381e56['z']):(_0x3bc008=0x0,_0x1b3931=0x0,_0x248fe9=0x0);const _0x38d8f3=_0x4fe3cd['convert'](_0x39f2dc['format']),_0xf11656=_0x4fe3cd['convert'](_0x39f2dc['type']);let _0x2916b3;_0x39f2dc['isData3DTexture']?(_0x2291d6['setTexture3D'](_0x39f2dc,0x0),_0x2916b3=_0x2ba009['TEXTURE_3D']):_0x39f2dc['isDataArrayTexture']||_0x39f2dc['isCompressedArrayTexture']?(_0x2291d6['setTexture2DArray'](_0x39f2dc,0x0),_0x2916b3=_0x2ba009['TEXTURE_2D_ARRAY']):(_0x2291d6['setTexture2D'](_0x39f2dc,0x0),_0x2916b3=_0x2ba009['TEXTURE_2D']),_0x2ba009['pixelStorei'](_0x2ba009['UNPACK_FLIP_Y_WEBGL'],_0x39f2dc['flipY']),_0x2ba009['pixelStorei'](_0x2ba009['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x39f2dc['premultiplyAlpha']),_0x2ba009['pixelStorei'](_0x2ba009['UNPACK_ALIGNMENT'],_0x39f2dc['unpackAlignment']);const _0x406846=_0x2ba009['getParameter'](_0x2ba009['UNPACK_ROW_LENGTH']),_0x5a3c4e=_0x2ba009['getParameter'](_0x2ba009['UNPACK_IMAGE_HEIGHT']),_0x263962=_0x2ba009['getParameter'](_0x2ba009['UNPACK_SKIP_PIXELS']),_0x1917ab=_0x2ba009['getParameter'](_0x2ba009['UNPACK_SKIP_ROWS']),_0x41cee4=_0x2ba009['getParameter'](_0x2ba009['UNPACK_SKIP_IMAGES']);_0x2ba009['pixelStorei'](_0x2ba009['UNPACK_ROW_LENGTH'],_0x2109a6['width']),_0x2ba009['pixelStorei'](_0x2ba009['UNPACK_IMAGE_HEIGHT'],_0x2109a6['height']),_0x2ba009['pixelStorei'](_0x2ba009['UNPACK_SKIP_PIXELS'],_0x7a8263),_0x2ba009['pixelStorei'](_0x2ba009['UNPACK_SKIP_ROWS'],_0x99fd00),_0x2ba009['pixelStorei'](_0x2ba009['UNPACK_SKIP_IMAGES'],_0x1b5296);const _0x36460e=_0xfcc1c0['isDataArrayTexture']||_0xfcc1c0['isData3DTexture'],_0x522f5d=_0x39f2dc['isDataArrayTexture']||_0x39f2dc['isData3DTexture'];if(_0xfcc1c0['isDepthTexture']){const _0x1da2f7=_0x223a7a['get'](_0xfcc1c0),_0x176295=_0x223a7a['get'](_0x39f2dc),_0x2697a3=_0x223a7a['get'](_0x1da2f7['__renderTarget']),_0x179309=_0x223a7a['get'](_0x176295['__renderTarget']);_0x2da260['bindFramebuffer'](_0x2ba009['READ_FRAMEBUFFER'],_0x2697a3['__webglFramebuffer']),_0x2da260['bindFramebuffer'](_0x2ba009['DRAW_FRAMEBUFFER'],_0x179309['__webglFramebuffer']);for(let _0x13a693=0x0;_0x13a693<_0x2530ec;_0x13a693++)_0x36460e&&(_0x2ba009['framebufferTextureLayer'](_0x2ba009['READ_FRAMEBUFFER'],_0x2ba009['COLOR_ATTACHMENT0'],_0x223a7a['get'](_0xfcc1c0)['__webglTexture'],_0x99abbc,_0x1b5296+_0x13a693),_0x2ba009['framebufferTextureLayer'](_0x2ba009['DRAW_FRAMEBUFFER'],_0x2ba009['COLOR_ATTACHMENT0'],_0x223a7a['get'](_0x39f2dc)['__webglTexture'],_0x4f0d2a,_0x248fe9+_0x13a693)),_0x2ba009['blitFramebuffer'](_0x7a8263,_0x99fd00,_0x379d4a,_0x53fd4e,_0x3bc008,_0x1b3931,_0x379d4a,_0x53fd4e,_0x2ba009['DEPTH_BUFFER_BIT'],_0x2ba009['NEAREST']);_0x2da260['bindFramebuffer'](_0x2ba009['READ_FRAMEBUFFER'],null),_0x2da260['bindFramebuffer'](_0x2ba009['DRAW_FRAMEBUFFER'],null);}else{if(0x0!==_0x99abbc||_0xfcc1c0['isRenderTargetTexture']||_0x223a7a['has'](_0xfcc1c0)){const _0x312ffb=_0x223a7a['get'](_0xfcc1c0),_0x103083=_0x223a7a['get'](_0x39f2dc);_0x2da260['bindFramebuffer'](_0x2ba009['READ_FRAMEBUFFER'],_0x2d1d3c),_0x2da260['bindFramebuffer'](_0x2ba009['DRAW_FRAMEBUFFER'],_0x52510f);for(let _0x28c579=0x0;_0x28c579<_0x2530ec;_0x28c579++)_0x36460e?_0x2ba009['framebufferTextureLayer'](_0x2ba009['READ_FRAMEBUFFER'],_0x2ba009['COLOR_ATTACHMENT0'],_0x312ffb['__webglTexture'],_0x99abbc,_0x1b5296+_0x28c579):_0x2ba009['framebufferTexture2D'](_0x2ba009['READ_FRAMEBUFFER'],_0x2ba009['COLOR_ATTACHMENT0'],_0x2ba009['TEXTURE_2D'],_0x312ffb['__webglTexture'],_0x99abbc),_0x522f5d?_0x2ba009['framebufferTextureLayer'](_0x2ba009['DRAW_FRAMEBUFFER'],_0x2ba009['COLOR_ATTACHMENT0'],_0x103083['__webglTexture'],_0x4f0d2a,_0x248fe9+_0x28c579):_0x2ba009['framebufferTexture2D'](_0x2ba009['DRAW_FRAMEBUFFER'],_0x2ba009['COLOR_ATTACHMENT0'],_0x2ba009['TEXTURE_2D'],_0x103083['__webglTexture'],_0x4f0d2a),0x0!==_0x99abbc?_0x2ba009['blitFramebuffer'](_0x7a8263,_0x99fd00,_0x379d4a,_0x53fd4e,_0x3bc008,_0x1b3931,_0x379d4a,_0x53fd4e,_0x2ba009['COLOR_BUFFER_BIT'],_0x2ba009['NEAREST']):_0x522f5d?_0x2ba009['copyTexSubImage3D'](_0x2916b3,_0x4f0d2a,_0x3bc008,_0x1b3931,_0x248fe9+_0x28c579,_0x7a8263,_0x99fd00,_0x379d4a,_0x53fd4e):_0x2ba009['copyTexSubImage2D'](_0x2916b3,_0x4f0d2a,_0x3bc008,_0x1b3931,_0x7a8263,_0x99fd00,_0x379d4a,_0x53fd4e);_0x2da260['bindFramebuffer'](_0x2ba009['READ_FRAMEBUFFER'],null),_0x2da260['bindFramebuffer'](_0x2ba009['DRAW_FRAMEBUFFER'],null);}else _0x522f5d?_0xfcc1c0['isDataTexture']||_0xfcc1c0['isData3DTexture']?_0x2ba009['texSubImage3D'](_0x2916b3,_0x4f0d2a,_0x3bc008,_0x1b3931,_0x248fe9,_0x379d4a,_0x53fd4e,_0x2530ec,_0x38d8f3,_0xf11656,_0x2109a6['data']):_0x39f2dc['isCompressedArrayTexture']?_0x2ba009['compressedTexSubImage3D'](_0x2916b3,_0x4f0d2a,_0x3bc008,_0x1b3931,_0x248fe9,_0x379d4a,_0x53fd4e,_0x2530ec,_0x38d8f3,_0x2109a6['data']):_0x2ba009['texSubImage3D'](_0x2916b3,_0x4f0d2a,_0x3bc008,_0x1b3931,_0x248fe9,_0x379d4a,_0x53fd4e,_0x2530ec,_0x38d8f3,_0xf11656,_0x2109a6):_0xfcc1c0['isDataTexture']?_0x2ba009['texSubImage2D'](_0x2ba009['TEXTURE_2D'],_0x4f0d2a,_0x3bc008,_0x1b3931,_0x379d4a,_0x53fd4e,_0x38d8f3,_0xf11656,_0x2109a6['data']):_0xfcc1c0['isCompressedTexture']?_0x2ba009['compressedTexSubImage2D'](_0x2ba009['TEXTURE_2D'],_0x4f0d2a,_0x3bc008,_0x1b3931,_0x2109a6['width'],_0x2109a6['height'],_0x38d8f3,_0x2109a6['data']):_0x2ba009['texSubImage2D'](_0x2ba009['TEXTURE_2D'],_0x4f0d2a,_0x3bc008,_0x1b3931,_0x379d4a,_0x53fd4e,_0x38d8f3,_0xf11656,_0x2109a6);}_0x2ba009['pixelStorei'](_0x2ba009['UNPACK_ROW_LENGTH'],_0x406846),_0x2ba009['pixelStorei'](_0x2ba009['UNPACK_IMAGE_HEIGHT'],_0x5a3c4e),_0x2ba009['pixelStorei'](_0x2ba009['UNPACK_SKIP_PIXELS'],_0x263962),_0x2ba009['pixelStorei'](_0x2ba009['UNPACK_SKIP_ROWS'],_0x1917ab),_0x2ba009['pixelStorei'](_0x2ba009['UNPACK_SKIP_IMAGES'],_0x41cee4),0x0===_0x4f0d2a&&_0x39f2dc['generateMipmaps']&&_0x2ba009['generateMipmap'](_0x2916b3),_0x2da260['unbindTexture']();},this['copyTextureToTexture3D']=function(_0x2f3034,_0x8b172e,_0x36c928=null,_0x5872e0=null,_0x1280ff=0x0){return!0x0!==_0x2f3034['isTexture']&&((0x0,_0x3e8626['mcG'])('WebGLRenderer:\x20copyTextureToTexture3D\x20function\x20signature\x20has\x20changed.'),_0x36c928=arguments[0x0]||null,_0x5872e0=arguments[0x1]||null,_0x2f3034=arguments[0x2],_0x8b172e=arguments[0x3],_0x1280ff=arguments[0x4]||0x0),(0x0,_0x3e8626['mcG'])('WebGLRenderer:\x20copyTextureToTexture3D\x20function\x20has\x20been\x20deprecated.\x20Use\x20\x22copyTextureToTexture\x22\x20instead.'),this['copyTextureToTexture'](_0x2f3034,_0x8b172e,_0x36c928,_0x5872e0,_0x1280ff);},this['initRenderTarget']=function(_0xfea49e){void 0x0===_0x223a7a['get'](_0xfea49e)['__webglFramebuffer']&&_0x2291d6['setupRenderTarget'](_0xfea49e);},this['initTexture']=function(_0x3753e5){_0x3753e5['isCubeTexture']?_0x2291d6['setTextureCube'](_0x3753e5,0x0):_0x3753e5['isData3DTexture']?_0x2291d6['setTexture3D'](_0x3753e5,0x0):_0x3753e5['isDataArrayTexture']||_0x3753e5['isCompressedArrayTexture']?_0x2291d6['setTexture2DArray'](_0x3753e5,0x0):_0x2291d6['setTexture2D'](_0x3753e5,0x0),_0x2da260['unbindTexture']();},this['resetState']=function(){_0x4c43a7=0x0,_0x31b482=0x0,_0x3e08cb=null,_0x2da260['reset'](),_0x2dea0b['reset']();},'undefined'!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__['dispatchEvent'](new CustomEvent('observe',{'detail':this}));}get['coordinateSystem'](){return _0x3e8626['TdN'];}get['outputColorSpace'](){return this['_outputColorSpace'];}set['outputColorSpace'](_0x6f5d01){this['_outputColorSpace']=_0x6f5d01;const _0x2085e1=this['getContext']();_0x2085e1['drawingBufferColorspace']=_0x3e8626['ppV']['_getDrawingBufferColorSpace'](_0x6f5d01),_0x2085e1['unpackColorSpace']=_0x3e8626['ppV']['_getUnpackColorSpace']();}}}}]);