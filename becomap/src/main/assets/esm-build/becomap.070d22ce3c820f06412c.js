'use strict';(this['webpackChunkbecomap']=this['webpackChunkbecomap']||[])['push']([[0x282],{0x24dd:(_0x24caa3,_0x5e3502,_0xaf5de3)=>{_0xaf5de3['d'](_0x5e3502,{'JeP':()=>_0x4fa2c8,'vxI':()=>_0x2e7b57});var _0x42a528=_0xaf5de3(0x133a);function _0x4d841c(){let _0x572efd=null,_0x1882e2=!0x1,_0xd11c20=null,_0x166bfd=null;function _0x4389b7(_0x4b716b,_0x18c5dd){_0xd11c20(_0x4b716b,_0x18c5dd),_0x166bfd=_0x572efd['requestAnimationFrame'](_0x4389b7);}return{'start':function(){!0x0!==_0x1882e2&&null!==_0xd11c20&&(_0x166bfd=_0x572efd['requestAnimationFrame'](_0x4389b7),_0x1882e2=!0x0);},'stop':function(){_0x572efd['cancelAnimationFrame'](_0x166bfd),_0x1882e2=!0x1;},'setAnimationLoop':function(_0x145a02){_0xd11c20=_0x145a02;},'setContext':function(_0x25d635){_0x572efd=_0x25d635;}};}function _0x153402(_0x745379){const _0xa6a3f1=new WeakMap();return{'get':function(_0x2ca0a9){return _0x2ca0a9['isInterleavedBufferAttribute']&&(_0x2ca0a9=_0x2ca0a9['data']),_0xa6a3f1['get'](_0x2ca0a9);},'remove':function(_0x16a425){_0x16a425['isInterleavedBufferAttribute']&&(_0x16a425=_0x16a425['data']);const _0x4452a6=_0xa6a3f1['get'](_0x16a425);_0x4452a6&&(_0x745379['deleteBuffer'](_0x4452a6['buffer']),_0xa6a3f1['delete'](_0x16a425));},'update':function(_0x3c938d,_0x5d5a5){if(_0x3c938d['isInterleavedBufferAttribute']&&(_0x3c938d=_0x3c938d['data']),_0x3c938d['isGLBufferAttribute']){const _0xa88a27=_0xa6a3f1['get'](_0x3c938d);return void((!_0xa88a27||_0xa88a27['version']<_0x3c938d['version'])&&_0xa6a3f1['set'](_0x3c938d,{'buffer':_0x3c938d['buffer'],'type':_0x3c938d['type'],'bytesPerElement':_0x3c938d['elementSize'],'version':_0x3c938d['version']}));}const _0x918c2c=_0xa6a3f1['get'](_0x3c938d);if(void 0x0===_0x918c2c)_0xa6a3f1['set'](_0x3c938d,function(_0x293534,_0x4c7880){const _0x7a032f=_0x293534['array'],_0x265687=_0x293534['usage'],_0x49e58e=_0x7a032f['byteLength'],_0x3b0d51=_0x745379['createBuffer']();let _0x3d2397;if(_0x745379['bindBuffer'](_0x4c7880,_0x3b0d51),_0x745379['bufferData'](_0x4c7880,_0x7a032f,_0x265687),_0x293534['onUploadCallback'](),_0x7a032f instanceof Float32Array)_0x3d2397=_0x745379['FLOAT'];else{if(_0x7a032f instanceof Uint16Array)_0x3d2397=_0x293534['isFloat16BufferAttribute']?_0x745379['HALF_FLOAT']:_0x745379['UNSIGNED_SHORT'];else{if(_0x7a032f instanceof Int16Array)_0x3d2397=_0x745379['SHORT'];else{if(_0x7a032f instanceof Uint32Array)_0x3d2397=_0x745379['UNSIGNED_INT'];else{if(_0x7a032f instanceof Int32Array)_0x3d2397=_0x745379['INT'];else{if(_0x7a032f instanceof Int8Array)_0x3d2397=_0x745379['BYTE'];else{if(_0x7a032f instanceof Uint8Array)_0x3d2397=_0x745379['UNSIGNED_BYTE'];else{if(!(_0x7a032f instanceof Uint8ClampedArray))throw new Error('THREE.WebGLAttributes:\x20Unsupported\x20buffer\x20data\x20format:\x20'+_0x7a032f);_0x3d2397=_0x745379['UNSIGNED_BYTE'];}}}}}}}return{'buffer':_0x3b0d51,'type':_0x3d2397,'bytesPerElement':_0x7a032f['BYTES_PER_ELEMENT'],'version':_0x293534['version'],'size':_0x49e58e};}(_0x3c938d,_0x5d5a5));else{if(_0x918c2c['version']<_0x3c938d['version']){if(_0x918c2c['size']!==_0x3c938d['array']['byteLength'])throw new Error('THREE.WebGLAttributes:\x20The\x20size\x20of\x20the\x20buffer\x20attribute\x27s\x20array\x20buffer\x20does\x20not\x20match\x20the\x20original\x20size.\x20Resizing\x20buffer\x20attributes\x20is\x20not\x20supported.');!function(_0x50b560,_0x4ded3c,_0x264c0f){const _0x13d122=_0x4ded3c['array'],_0x31aaf5=_0x4ded3c['updateRanges'];if(_0x745379['bindBuffer'](_0x264c0f,_0x50b560),0x0===_0x31aaf5['length'])_0x745379['bufferSubData'](_0x264c0f,0x0,_0x13d122);else{_0x31aaf5['sort']((_0x2d9fea,_0x381b02)=>_0x2d9fea['start']-_0x381b02['start']);let _0x6a5cdd=0x0;for(let _0x4b5b0c=0x1;_0x4b5b0c<_0x31aaf5['length'];_0x4b5b0c++){const _0x343e1d=_0x31aaf5[_0x6a5cdd],_0x95f524=_0x31aaf5[_0x4b5b0c];_0x95f524['start']<=_0x343e1d['start']+_0x343e1d['count']+0x1?_0x343e1d['count']=Math['max'](_0x343e1d['count'],_0x95f524['start']+_0x95f524['count']-_0x343e1d['start']):(++_0x6a5cdd,_0x31aaf5[_0x6a5cdd]=_0x95f524);}_0x31aaf5['length']=_0x6a5cdd+0x1;for(let _0x123e93=0x0,_0x55b701=_0x31aaf5['length'];_0x123e93<_0x55b701;_0x123e93++){const _0x12a6d7=_0x31aaf5[_0x123e93];_0x745379['bufferSubData'](_0x264c0f,_0x12a6d7['start']*_0x13d122['BYTES_PER_ELEMENT'],_0x13d122,_0x12a6d7['start'],_0x12a6d7['count']);}_0x4ded3c['clearUpdateRanges']();}_0x4ded3c['onUploadCallback']();}(_0x918c2c['buffer'],_0x3c938d,_0x5d5a5),_0x918c2c['version']=_0x3c938d['version'];}}}};}const _0x2e7b57={'alphahash_fragment':'#ifdef\x20USE_ALPHAHASH\x0a\x09if\x20(\x20diffuseColor.a\x20<\x20getAlphaHashThreshold(\x20vPosition\x20)\x20)\x20discard;\x0a#endif','alphahash_pars_fragment':'#ifdef\x20USE_ALPHAHASH\x0a\x09const\x20float\x20ALPHA_HASH_SCALE\x20=\x200.05;\x0a\x09float\x20hash2D(\x20vec2\x20value\x20)\x20{\x0a\x09\x09return\x20fract(\x201.0e4\x20*\x20sin(\x2017.0\x20*\x20value.x\x20+\x200.1\x20*\x20value.y\x20)\x20*\x20(\x200.1\x20+\x20abs(\x20sin(\x2013.0\x20*\x20value.y\x20+\x20value.x\x20)\x20)\x20)\x20);\x0a\x09}\x0a\x09float\x20hash3D(\x20vec3\x20value\x20)\x20{\x0a\x09\x09return\x20hash2D(\x20vec2(\x20hash2D(\x20value.xy\x20),\x20value.z\x20)\x20);\x0a\x09}\x0a\x09float\x20getAlphaHashThreshold(\x20vec3\x20position\x20)\x20{\x0a\x09\x09float\x20maxDeriv\x20=\x20max(\x0a\x09\x09\x09length(\x20dFdx(\x20position.xyz\x20)\x20),\x0a\x09\x09\x09length(\x20dFdy(\x20position.xyz\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20pixScale\x20=\x201.0\x20/\x20(\x20ALPHA_HASH_SCALE\x20*\x20maxDeriv\x20);\x0a\x09\x09vec2\x20pixScales\x20=\x20vec2(\x0a\x09\x09\x09exp2(\x20floor(\x20log2(\x20pixScale\x20)\x20)\x20),\x0a\x09\x09\x09exp2(\x20ceil(\x20log2(\x20pixScale\x20)\x20)\x20)\x0a\x09\x09);\x0a\x09\x09vec2\x20alpha\x20=\x20vec2(\x0a\x09\x09\x09hash3D(\x20floor(\x20pixScales.x\x20*\x20position.xyz\x20)\x20),\x0a\x09\x09\x09hash3D(\x20floor(\x20pixScales.y\x20*\x20position.xyz\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20lerpFactor\x20=\x20fract(\x20log2(\x20pixScale\x20)\x20);\x0a\x09\x09float\x20x\x20=\x20(\x201.0\x20-\x20lerpFactor\x20)\x20*\x20alpha.x\x20+\x20lerpFactor\x20*\x20alpha.y;\x0a\x09\x09float\x20a\x20=\x20min(\x20lerpFactor,\x201.0\x20-\x20lerpFactor\x20);\x0a\x09\x09vec3\x20cases\x20=\x20vec3(\x0a\x09\x09\x09x\x20*\x20x\x20/\x20(\x202.0\x20*\x20a\x20*\x20(\x201.0\x20-\x20a\x20)\x20),\x0a\x09\x09\x09(\x20x\x20-\x200.5\x20*\x20a\x20)\x20/\x20(\x201.0\x20-\x20a\x20),\x0a\x09\x09\x091.0\x20-\x20(\x20(\x201.0\x20-\x20x\x20)\x20*\x20(\x201.0\x20-\x20x\x20)\x20/\x20(\x202.0\x20*\x20a\x20*\x20(\x201.0\x20-\x20a\x20)\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20threshold\x20=\x20(\x20x\x20<\x20(\x201.0\x20-\x20a\x20)\x20)\x0a\x09\x09\x09?\x20(\x20(\x20x\x20<\x20a\x20)\x20?\x20cases.x\x20:\x20cases.y\x20)\x0a\x09\x09\x09:\x20cases.z;\x0a\x09\x09return\x20clamp(\x20threshold\x20,\x201.0e-6,\x201.0\x20);\x0a\x09}\x0a#endif','alphamap_fragment':'#ifdef\x20USE_ALPHAMAP\x0a\x09diffuseColor.a\x20*=\x20texture2D(\x20alphaMap,\x20vAlphaMapUv\x20).g;\x0a#endif','alphamap_pars_fragment':'#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20sampler2D\x20alphaMap;\x0a#endif','alphatest_fragment':'#ifdef\x20USE_ALPHATEST\x0a\x09#ifdef\x20ALPHA_TO_COVERAGE\x0a\x09diffuseColor.a\x20=\x20smoothstep(\x20alphaTest,\x20alphaTest\x20+\x20fwidth(\x20diffuseColor.a\x20),\x20diffuseColor.a\x20);\x0a\x09if\x20(\x20diffuseColor.a\x20==\x200.0\x20)\x20discard;\x0a\x09#else\x0a\x09if\x20(\x20diffuseColor.a\x20<\x20alphaTest\x20)\x20discard;\x0a\x09#endif\x0a#endif','alphatest_pars_fragment':'#ifdef\x20USE_ALPHATEST\x0a\x09uniform\x20float\x20alphaTest;\x0a#endif','aomap_fragment':'#ifdef\x20USE_AOMAP\x0a\x09float\x20ambientOcclusion\x20=\x20(\x20texture2D(\x20aoMap,\x20vAoMapUv\x20).r\x20-\x201.0\x20)\x20*\x20aoMapIntensity\x20+\x201.0;\x0a\x09reflectedLight.indirectDiffuse\x20*=\x20ambientOcclusion;\x0a\x09#if\x20defined(\x20USE_CLEARCOAT\x20)\x20\x0a\x09\x09clearcoatSpecularIndirect\x20*=\x20ambientOcclusion;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_SHEEN\x20)\x20\x0a\x09\x09sheenSpecularIndirect\x20*=\x20ambientOcclusion;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20STANDARD\x20)\x0a\x09\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20geometryViewDir\x20)\x20);\x0a\x09\x09reflectedLight.indirectSpecular\x20*=\x20computeSpecularOcclusion(\x20dotNV,\x20ambientOcclusion,\x20material.roughness\x20);\x0a\x09#endif\x0a#endif','aomap_pars_fragment':'#ifdef\x20USE_AOMAP\x0a\x09uniform\x20sampler2D\x20aoMap;\x0a\x09uniform\x20float\x20aoMapIntensity;\x0a#endif','batching_pars_vertex':'#ifdef\x20USE_BATCHING\x0a\x09#if\x20!\x20defined(\x20GL_ANGLE_multi_draw\x20)\x0a\x09#define\x20gl_DrawID\x20_gl_DrawID\x0a\x09uniform\x20int\x20_gl_DrawID;\x0a\x09#endif\x0a\x09uniform\x20highp\x20sampler2D\x20batchingTexture;\x0a\x09uniform\x20highp\x20usampler2D\x20batchingIdTexture;\x0a\x09mat4\x20getBatchingMatrix(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20)\x20*\x204;\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09vec4\x20v1\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v2\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x201,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v3\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x202,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v4\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x203,\x20y\x20),\x200\x20);\x0a\x09\x09return\x20mat4(\x20v1,\x20v2,\x20v3,\x20v4\x20);\x0a\x09}\x0a\x09float\x20getIndirectIndex(\x20const\x20in\x20int\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingIdTexture,\x200\x20).x;\x0a\x09\x09int\x20x\x20=\x20i\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20i\x20/\x20size;\x0a\x09\x09return\x20float(\x20texelFetch(\x20batchingIdTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20).r\x20);\x0a\x09}\x0a#endif\x0a#ifdef\x20USE_BATCHING_COLOR\x0a\x09uniform\x20sampler2D\x20batchingColorTexture;\x0a\x09vec3\x20getBatchingColor(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingColorTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20);\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09return\x20texelFetch(\x20batchingColorTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20).rgb;\x0a\x09}\x0a#endif','batching_vertex':'#ifdef\x20USE_BATCHING\x0a\x09mat4\x20batchingMatrix\x20=\x20getBatchingMatrix(\x20getIndirectIndex(\x20gl_DrawID\x20)\x20);\x0a#endif','begin_vertex':'vec3\x20transformed\x20=\x20vec3(\x20position\x20);\x0a#ifdef\x20USE_ALPHAHASH\x0a\x09vPosition\x20=\x20vec3(\x20position\x20);\x0a#endif','beginnormal_vertex':'vec3\x20objectNormal\x20=\x20vec3(\x20normal\x20);\x0a#ifdef\x20USE_TANGENT\x0a\x09vec3\x20objectTangent\x20=\x20vec3(\x20tangent.xyz\x20);\x0a#endif','bsdfs':'float\x20G_BlinnPhong_Implicit(\x20)\x20{\x0a\x09return\x200.25;\x0a}\x0afloat\x20D_BlinnPhong(\x20const\x20in\x20float\x20shininess,\x20const\x20in\x20float\x20dotNH\x20)\x20{\x0a\x09return\x20RECIPROCAL_PI\x20*\x20(\x20shininess\x20*\x200.5\x20+\x201.0\x20)\x20*\x20pow(\x20dotNH,\x20shininess\x20);\x0a}\x0avec3\x20BRDF_BlinnPhong(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20shininess\x20)\x20{\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09vec3\x20F\x20=\x20F_Schlick(\x20specularColor,\x201.0,\x20dotVH\x20);\x0a\x09float\x20G\x20=\x20G_BlinnPhong_Implicit(\x20);\x0a\x09float\x20D\x20=\x20D_BlinnPhong(\x20shininess,\x20dotNH\x20);\x0a\x09return\x20F\x20*\x20(\x20G\x20*\x20D\x20);\x0a}\x20//\x20validated','iridescence_fragment':'#ifdef\x20USE_IRIDESCENCE\x0a\x09const\x20mat3\x20XYZ_TO_REC709\x20=\x20mat3(\x0a\x09\x09\x203.2404542,\x20-0.9692660,\x20\x200.0556434,\x0a\x09\x09-1.5371385,\x20\x201.8760108,\x20-0.2040259,\x0a\x09\x09-0.4985314,\x20\x200.0415560,\x20\x201.0572252\x0a\x09);\x0a\x09vec3\x20Fresnel0ToIor(\x20vec3\x20fresnel0\x20)\x20{\x0a\x09\x09vec3\x20sqrtF0\x20=\x20sqrt(\x20fresnel0\x20);\x0a\x09\x09return\x20(\x20vec3(\x201.0\x20)\x20+\x20sqrtF0\x20)\x20/\x20(\x20vec3(\x201.0\x20)\x20-\x20sqrtF0\x20);\x0a\x09}\x0a\x09vec3\x20IorToFresnel0(\x20vec3\x20transmittedIor,\x20float\x20incidentIor\x20)\x20{\x0a\x09\x09return\x20pow2(\x20(\x20transmittedIor\x20-\x20vec3(\x20incidentIor\x20)\x20)\x20/\x20(\x20transmittedIor\x20+\x20vec3(\x20incidentIor\x20)\x20)\x20);\x0a\x09}\x0a\x09float\x20IorToFresnel0(\x20float\x20transmittedIor,\x20float\x20incidentIor\x20)\x20{\x0a\x09\x09return\x20pow2(\x20(\x20transmittedIor\x20-\x20incidentIor\x20)\x20/\x20(\x20transmittedIor\x20+\x20incidentIor\x20));\x0a\x09}\x0a\x09vec3\x20evalSensitivity(\x20float\x20OPD,\x20vec3\x20shift\x20)\x20{\x0a\x09\x09float\x20phase\x20=\x202.0\x20*\x20PI\x20*\x20OPD\x20*\x201.0e-9;\x0a\x09\x09vec3\x20val\x20=\x20vec3(\x205.4856e-13,\x204.4201e-13,\x205.2481e-13\x20);\x0a\x09\x09vec3\x20pos\x20=\x20vec3(\x201.6810e+06,\x201.7953e+06,\x202.2084e+06\x20);\x0a\x09\x09vec3\x20var\x20=\x20vec3(\x204.3278e+09,\x209.3046e+09,\x206.6121e+09\x20);\x0a\x09\x09vec3\x20xyz\x20=\x20val\x20*\x20sqrt(\x202.0\x20*\x20PI\x20*\x20var\x20)\x20*\x20cos(\x20pos\x20*\x20phase\x20+\x20shift\x20)\x20*\x20exp(\x20-\x20pow2(\x20phase\x20)\x20*\x20var\x20);\x0a\x09\x09xyz.x\x20+=\x209.7470e-14\x20*\x20sqrt(\x202.0\x20*\x20PI\x20*\x204.5282e+09\x20)\x20*\x20cos(\x202.2399e+06\x20*\x20phase\x20+\x20shift[\x200\x20]\x20)\x20*\x20exp(\x20-\x204.5282e+09\x20*\x20pow2(\x20phase\x20)\x20);\x0a\x09\x09xyz\x20/=\x201.0685e-7;\x0a\x09\x09vec3\x20rgb\x20=\x20XYZ_TO_REC709\x20*\x20xyz;\x0a\x09\x09return\x20rgb;\x0a\x09}\x0a\x09vec3\x20evalIridescence(\x20float\x20outsideIOR,\x20float\x20eta2,\x20float\x20cosTheta1,\x20float\x20thinFilmThickness,\x20vec3\x20baseF0\x20)\x20{\x0a\x09\x09vec3\x20I;\x0a\x09\x09float\x20iridescenceIOR\x20=\x20mix(\x20outsideIOR,\x20eta2,\x20smoothstep(\x200.0,\x200.03,\x20thinFilmThickness\x20)\x20);\x0a\x09\x09float\x20sinTheta2Sq\x20=\x20pow2(\x20outsideIOR\x20/\x20iridescenceIOR\x20)\x20*\x20(\x201.0\x20-\x20pow2(\x20cosTheta1\x20)\x20);\x0a\x09\x09float\x20cosTheta2Sq\x20=\x201.0\x20-\x20sinTheta2Sq;\x0a\x09\x09if\x20(\x20cosTheta2Sq\x20<\x200.0\x20)\x20{\x0a\x09\x09\x09return\x20vec3(\x201.0\x20);\x0a\x09\x09}\x0a\x09\x09float\x20cosTheta2\x20=\x20sqrt(\x20cosTheta2Sq\x20);\x0a\x09\x09float\x20R0\x20=\x20IorToFresnel0(\x20iridescenceIOR,\x20outsideIOR\x20);\x0a\x09\x09float\x20R12\x20=\x20F_Schlick(\x20R0,\x201.0,\x20cosTheta1\x20);\x0a\x09\x09float\x20T121\x20=\x201.0\x20-\x20R12;\x0a\x09\x09float\x20phi12\x20=\x200.0;\x0a\x09\x09if\x20(\x20iridescenceIOR\x20<\x20outsideIOR\x20)\x20phi12\x20=\x20PI;\x0a\x09\x09float\x20phi21\x20=\x20PI\x20-\x20phi12;\x0a\x09\x09vec3\x20baseIOR\x20=\x20Fresnel0ToIor(\x20clamp(\x20baseF0,\x200.0,\x200.9999\x20)\x20);\x09\x09vec3\x20R1\x20=\x20IorToFresnel0(\x20baseIOR,\x20iridescenceIOR\x20);\x0a\x09\x09vec3\x20R23\x20=\x20F_Schlick(\x20R1,\x201.0,\x20cosTheta2\x20);\x0a\x09\x09vec3\x20phi23\x20=\x20vec3(\x200.0\x20);\x0a\x09\x09if\x20(\x20baseIOR[\x200\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x200\x20]\x20=\x20PI;\x0a\x09\x09if\x20(\x20baseIOR[\x201\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x201\x20]\x20=\x20PI;\x0a\x09\x09if\x20(\x20baseIOR[\x202\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x202\x20]\x20=\x20PI;\x0a\x09\x09float\x20OPD\x20=\x202.0\x20*\x20iridescenceIOR\x20*\x20thinFilmThickness\x20*\x20cosTheta2;\x0a\x09\x09vec3\x20phi\x20=\x20vec3(\x20phi21\x20)\x20+\x20phi23;\x0a\x09\x09vec3\x20R123\x20=\x20clamp(\x20R12\x20*\x20R23,\x201e-5,\x200.9999\x20);\x0a\x09\x09vec3\x20r123\x20=\x20sqrt(\x20R123\x20);\x0a\x09\x09vec3\x20Rs\x20=\x20pow2(\x20T121\x20)\x20*\x20R23\x20/\x20(\x20vec3(\x201.0\x20)\x20-\x20R123\x20);\x0a\x09\x09vec3\x20C0\x20=\x20R12\x20+\x20Rs;\x0a\x09\x09I\x20=\x20C0;\x0a\x09\x09vec3\x20Cm\x20=\x20Rs\x20-\x20T121;\x0a\x09\x09for\x20(\x20int\x20m\x20=\x201;\x20m\x20<=\x202;\x20++\x20m\x20)\x20{\x0a\x09\x09\x09Cm\x20*=\x20r123;\x0a\x09\x09\x09vec3\x20Sm\x20=\x202.0\x20*\x20evalSensitivity(\x20float(\x20m\x20)\x20*\x20OPD,\x20float(\x20m\x20)\x20*\x20phi\x20);\x0a\x09\x09\x09I\x20+=\x20Cm\x20*\x20Sm;\x0a\x09\x09}\x0a\x09\x09return\x20max(\x20I,\x20vec3(\x200.0\x20)\x20);\x0a\x09}\x0a#endif','bumpmap_pars_fragment':'#ifdef\x20USE_BUMPMAP\x0a\x09uniform\x20sampler2D\x20bumpMap;\x0a\x09uniform\x20float\x20bumpScale;\x0a\x09vec2\x20dHdxy_fwd()\x20{\x0a\x09\x09vec2\x20dSTdx\x20=\x20dFdx(\x20vBumpMapUv\x20);\x0a\x09\x09vec2\x20dSTdy\x20=\x20dFdy(\x20vBumpMapUv\x20);\x0a\x09\x09float\x20Hll\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20).x;\x0a\x09\x09float\x20dBx\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20+\x20dSTdx\x20).x\x20-\x20Hll;\x0a\x09\x09float\x20dBy\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20+\x20dSTdy\x20).x\x20-\x20Hll;\x0a\x09\x09return\x20vec2(\x20dBx,\x20dBy\x20);\x0a\x09}\x0a\x09vec3\x20perturbNormalArb(\x20vec3\x20surf_pos,\x20vec3\x20surf_norm,\x20vec2\x20dHdxy,\x20float\x20faceDirection\x20)\x20{\x0a\x09\x09vec3\x20vSigmaX\x20=\x20normalize(\x20dFdx(\x20surf_pos.xyz\x20)\x20);\x0a\x09\x09vec3\x20vSigmaY\x20=\x20normalize(\x20dFdy(\x20surf_pos.xyz\x20)\x20);\x0a\x09\x09vec3\x20vN\x20=\x20surf_norm;\x0a\x09\x09vec3\x20R1\x20=\x20cross(\x20vSigmaY,\x20vN\x20);\x0a\x09\x09vec3\x20R2\x20=\x20cross(\x20vN,\x20vSigmaX\x20);\x0a\x09\x09float\x20fDet\x20=\x20dot(\x20vSigmaX,\x20R1\x20)\x20*\x20faceDirection;\x0a\x09\x09vec3\x20vGrad\x20=\x20sign(\x20fDet\x20)\x20*\x20(\x20dHdxy.x\x20*\x20R1\x20+\x20dHdxy.y\x20*\x20R2\x20);\x0a\x09\x09return\x20normalize(\x20abs(\x20fDet\x20)\x20*\x20surf_norm\x20-\x20vGrad\x20);\x0a\x09}\x0a#endif','clipping_planes_fragment':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09vec4\x20plane;\x0a\x09#ifdef\x20ALPHA_TO_COVERAGE\x0a\x09\x09float\x20distanceToPlane,\x20distanceGradient;\x0a\x09\x09float\x20clipOpacity\x20=\x201.0;\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20UNION_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09distanceToPlane\x20=\x20-\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20+\x20plane.w;\x0a\x09\x09\x09distanceGradient\x20=\x20fwidth(\x20distanceToPlane\x20)\x20/\x202.0;\x0a\x09\x09\x09clipOpacity\x20*=\x20smoothstep(\x20-\x20distanceGradient,\x20distanceGradient,\x20distanceToPlane\x20);\x0a\x09\x09\x09if\x20(\x20clipOpacity\x20==\x200.0\x20)\x20discard;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09#if\x20UNION_CLIPPING_PLANES\x20<\x20NUM_CLIPPING_PLANES\x0a\x09\x09\x09float\x20unionClipOpacity\x20=\x201.0;\x0a\x09\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x20UNION_CLIPPING_PLANES;\x20i\x20<\x20NUM_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09\x09distanceToPlane\x20=\x20-\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20+\x20plane.w;\x0a\x09\x09\x09\x09distanceGradient\x20=\x20fwidth(\x20distanceToPlane\x20)\x20/\x202.0;\x0a\x09\x09\x09\x09unionClipOpacity\x20*=\x201.0\x20-\x20smoothstep(\x20-\x20distanceGradient,\x20distanceGradient,\x20distanceToPlane\x20);\x0a\x09\x09\x09}\x0a\x09\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09\x09clipOpacity\x20*=\x201.0\x20-\x20unionClipOpacity;\x0a\x09\x09#endif\x0a\x09\x09diffuseColor.a\x20*=\x20clipOpacity;\x0a\x09\x09if\x20(\x20diffuseColor.a\x20==\x200.0\x20)\x20discard;\x0a\x09#else\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20UNION_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09if\x20(\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20>\x20plane.w\x20)\x20discard;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09#if\x20UNION_CLIPPING_PLANES\x20<\x20NUM_CLIPPING_PLANES\x0a\x09\x09\x09bool\x20clipped\x20=\x20true;\x0a\x09\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x20UNION_CLIPPING_PLANES;\x20i\x20<\x20NUM_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09\x09clipped\x20=\x20(\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20>\x20plane.w\x20)\x20&&\x20clipped;\x0a\x09\x09\x09}\x0a\x09\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09\x09if\x20(\x20clipped\x20)\x20discard;\x0a\x09\x09#endif\x0a\x09#endif\x0a#endif','clipping_planes_pars_fragment':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09varying\x20vec3\x20vClipPosition;\x0a\x09uniform\x20vec4\x20clippingPlanes[\x20NUM_CLIPPING_PLANES\x20];\x0a#endif','clipping_planes_pars_vertex':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09varying\x20vec3\x20vClipPosition;\x0a#endif','clipping_planes_vertex':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09vClipPosition\x20=\x20-\x20mvPosition.xyz;\x0a#endif','color_fragment':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09diffuseColor\x20*=\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09diffuseColor.rgb\x20*=\x20vColor;\x0a#endif','color_pars_fragment':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09varying\x20vec4\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09varying\x20vec3\x20vColor;\x0a#endif','color_pars_vertex':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09varying\x20vec4\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x20||\x20defined(\x20USE_INSTANCING_COLOR\x20)\x20||\x20defined(\x20USE_BATCHING_COLOR\x20)\x0a\x09varying\x20vec3\x20vColor;\x0a#endif','color_vertex':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09vColor\x20=\x20vec4(\x201.0\x20);\x0a#elif\x20defined(\x20USE_COLOR\x20)\x20||\x20defined(\x20USE_INSTANCING_COLOR\x20)\x20||\x20defined(\x20USE_BATCHING_COLOR\x20)\x0a\x09vColor\x20=\x20vec3(\x201.0\x20);\x0a#endif\x0a#ifdef\x20USE_COLOR\x0a\x09vColor\x20*=\x20color;\x0a#endif\x0a#ifdef\x20USE_INSTANCING_COLOR\x0a\x09vColor.xyz\x20*=\x20instanceColor.xyz;\x0a#endif\x0a#ifdef\x20USE_BATCHING_COLOR\x0a\x09vec3\x20batchingColor\x20=\x20getBatchingColor(\x20getIndirectIndex(\x20gl_DrawID\x20)\x20);\x0a\x09vColor.xyz\x20*=\x20batchingColor.xyz;\x0a#endif','common':'#define\x20PI\x203.141592653589793\x0a#define\x20PI2\x206.283185307179586\x0a#define\x20PI_HALF\x201.5707963267948966\x0a#define\x20RECIPROCAL_PI\x200.3183098861837907\x0a#define\x20RECIPROCAL_PI2\x200.15915494309189535\x0a#define\x20EPSILON\x201e-6\x0a#ifndef\x20saturate\x0a#define\x20saturate(\x20a\x20)\x20clamp(\x20a,\x200.0,\x201.0\x20)\x0a#endif\x0a#define\x20whiteComplement(\x20a\x20)\x20(\x201.0\x20-\x20saturate(\x20a\x20)\x20)\x0afloat\x20pow2(\x20const\x20in\x20float\x20x\x20)\x20{\x20return\x20x*x;\x20}\x0avec3\x20pow2(\x20const\x20in\x20vec3\x20x\x20)\x20{\x20return\x20x*x;\x20}\x0afloat\x20pow3(\x20const\x20in\x20float\x20x\x20)\x20{\x20return\x20x*x*x;\x20}\x0afloat\x20pow4(\x20const\x20in\x20float\x20x\x20)\x20{\x20float\x20x2\x20=\x20x*x;\x20return\x20x2*x2;\x20}\x0afloat\x20max3(\x20const\x20in\x20vec3\x20v\x20)\x20{\x20return\x20max(\x20max(\x20v.x,\x20v.y\x20),\x20v.z\x20);\x20}\x0afloat\x20average(\x20const\x20in\x20vec3\x20v\x20)\x20{\x20return\x20dot(\x20v,\x20vec3(\x200.3333333\x20)\x20);\x20}\x0ahighp\x20float\x20rand(\x20const\x20in\x20vec2\x20uv\x20)\x20{\x0a\x09const\x20highp\x20float\x20a\x20=\x2012.9898,\x20b\x20=\x2078.233,\x20c\x20=\x2043758.5453;\x0a\x09highp\x20float\x20dt\x20=\x20dot(\x20uv.xy,\x20vec2(\x20a,b\x20)\x20),\x20sn\x20=\x20mod(\x20dt,\x20PI\x20);\x0a\x09return\x20fract(\x20sin(\x20sn\x20)\x20*\x20c\x20);\x0a}\x0a#ifdef\x20HIGH_PRECISION\x0a\x09float\x20precisionSafeLength(\x20vec3\x20v\x20)\x20{\x20return\x20length(\x20v\x20);\x20}\x0a#else\x0a\x09float\x20precisionSafeLength(\x20vec3\x20v\x20)\x20{\x0a\x09\x09float\x20maxComponent\x20=\x20max3(\x20abs(\x20v\x20)\x20);\x0a\x09\x09return\x20length(\x20v\x20/\x20maxComponent\x20)\x20*\x20maxComponent;\x0a\x09}\x0a#endif\x0astruct\x20IncidentLight\x20{\x0a\x09vec3\x20color;\x0a\x09vec3\x20direction;\x0a\x09bool\x20visible;\x0a};\x0astruct\x20ReflectedLight\x20{\x0a\x09vec3\x20directDiffuse;\x0a\x09vec3\x20directSpecular;\x0a\x09vec3\x20indirectDiffuse;\x0a\x09vec3\x20indirectSpecular;\x0a};\x0a#ifdef\x20USE_ALPHAHASH\x0a\x09varying\x20vec3\x20vPosition;\x0a#endif\x0avec3\x20transformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x09return\x20normalize(\x20(\x20matrix\x20*\x20vec4(\x20dir,\x200.0\x20)\x20).xyz\x20);\x0a}\x0avec3\x20inverseTransformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x09return\x20normalize(\x20(\x20vec4(\x20dir,\x200.0\x20)\x20*\x20matrix\x20).xyz\x20);\x0a}\x0amat3\x20transposeMat3(\x20const\x20in\x20mat3\x20m\x20)\x20{\x0a\x09mat3\x20tmp;\x0a\x09tmp[\x200\x20]\x20=\x20vec3(\x20m[\x200\x20].x,\x20m[\x201\x20].x,\x20m[\x202\x20].x\x20);\x0a\x09tmp[\x201\x20]\x20=\x20vec3(\x20m[\x200\x20].y,\x20m[\x201\x20].y,\x20m[\x202\x20].y\x20);\x0a\x09tmp[\x202\x20]\x20=\x20vec3(\x20m[\x200\x20].z,\x20m[\x201\x20].z,\x20m[\x202\x20].z\x20);\x0a\x09return\x20tmp;\x0a}\x0abool\x20isPerspectiveMatrix(\x20mat4\x20m\x20)\x20{\x0a\x09return\x20m[\x202\x20][\x203\x20]\x20==\x20-\x201.0;\x0a}\x0avec2\x20equirectUv(\x20in\x20vec3\x20dir\x20)\x20{\x0a\x09float\x20u\x20=\x20atan(\x20dir.z,\x20dir.x\x20)\x20*\x20RECIPROCAL_PI2\x20+\x200.5;\x0a\x09float\x20v\x20=\x20asin(\x20clamp(\x20dir.y,\x20-\x201.0,\x201.0\x20)\x20)\x20*\x20RECIPROCAL_PI\x20+\x200.5;\x0a\x09return\x20vec2(\x20u,\x20v\x20);\x0a}\x0avec3\x20BRDF_Lambert(\x20const\x20in\x20vec3\x20diffuseColor\x20)\x20{\x0a\x09return\x20RECIPROCAL_PI\x20*\x20diffuseColor;\x0a}\x0avec3\x20F_Schlick(\x20const\x20in\x20vec3\x20f0,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x09float\x20fresnel\x20=\x20exp2(\x20(\x20-\x205.55473\x20*\x20dotVH\x20-\x206.98316\x20)\x20*\x20dotVH\x20);\x0a\x09return\x20f0\x20*\x20(\x201.0\x20-\x20fresnel\x20)\x20+\x20(\x20f90\x20*\x20fresnel\x20);\x0a}\x0afloat\x20F_Schlick(\x20const\x20in\x20float\x20f0,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x09float\x20fresnel\x20=\x20exp2(\x20(\x20-\x205.55473\x20*\x20dotVH\x20-\x206.98316\x20)\x20*\x20dotVH\x20);\x0a\x09return\x20f0\x20*\x20(\x201.0\x20-\x20fresnel\x20)\x20+\x20(\x20f90\x20*\x20fresnel\x20);\x0a}\x20//\x20validated','cube_uv_reflection_fragment':'#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09#define\x20cubeUV_minMipLevel\x204.0\x0a\x09#define\x20cubeUV_minTileSize\x2016.0\x0a\x09float\x20getFace(\x20vec3\x20direction\x20)\x20{\x0a\x09\x09vec3\x20absDirection\x20=\x20abs(\x20direction\x20);\x0a\x09\x09float\x20face\x20=\x20-\x201.0;\x0a\x09\x09if\x20(\x20absDirection.x\x20>\x20absDirection.z\x20)\x20{\x0a\x09\x09\x09if\x20(\x20absDirection.x\x20>\x20absDirection.y\x20)\x0a\x09\x09\x09\x09face\x20=\x20direction.x\x20>\x200.0\x20?\x200.0\x20:\x203.0;\x0a\x09\x09\x09else\x0a\x09\x09\x09\x09face\x20=\x20direction.y\x20>\x200.0\x20?\x201.0\x20:\x204.0;\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09if\x20(\x20absDirection.z\x20>\x20absDirection.y\x20)\x0a\x09\x09\x09\x09face\x20=\x20direction.z\x20>\x200.0\x20?\x202.0\x20:\x205.0;\x0a\x09\x09\x09else\x0a\x09\x09\x09\x09face\x20=\x20direction.y\x20>\x200.0\x20?\x201.0\x20:\x204.0;\x0a\x09\x09}\x0a\x09\x09return\x20face;\x0a\x09}\x0a\x09vec2\x20getUV(\x20vec3\x20direction,\x20float\x20face\x20)\x20{\x0a\x09\x09vec2\x20uv;\x0a\x09\x09if\x20(\x20face\x20==\x200.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20direction.z,\x20direction.y\x20)\x20/\x20abs(\x20direction.x\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x201.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20-\x20direction.z\x20)\x20/\x20abs(\x20direction.y\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x202.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20direction.y\x20)\x20/\x20abs(\x20direction.z\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x203.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.z,\x20direction.y\x20)\x20/\x20abs(\x20direction.x\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x204.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20direction.z\x20)\x20/\x20abs(\x20direction.y\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20direction.x,\x20direction.y\x20)\x20/\x20abs(\x20direction.z\x20);\x0a\x09\x09}\x0a\x09\x09return\x200.5\x20*\x20(\x20uv\x20+\x201.0\x20);\x0a\x09}\x0a\x09vec3\x20bilinearCubeUV(\x20sampler2D\x20envMap,\x20vec3\x20direction,\x20float\x20mipInt\x20)\x20{\x0a\x09\x09float\x20face\x20=\x20getFace(\x20direction\x20);\x0a\x09\x09float\x20filterInt\x20=\x20max(\x20cubeUV_minMipLevel\x20-\x20mipInt,\x200.0\x20);\x0a\x09\x09mipInt\x20=\x20max(\x20mipInt,\x20cubeUV_minMipLevel\x20);\x0a\x09\x09float\x20faceSize\x20=\x20exp2(\x20mipInt\x20);\x0a\x09\x09highp\x20vec2\x20uv\x20=\x20getUV(\x20direction,\x20face\x20)\x20*\x20(\x20faceSize\x20-\x202.0\x20)\x20+\x201.0;\x0a\x09\x09if\x20(\x20face\x20>\x202.0\x20)\x20{\x0a\x09\x09\x09uv.y\x20+=\x20faceSize;\x0a\x09\x09\x09face\x20-=\x203.0;\x0a\x09\x09}\x0a\x09\x09uv.x\x20+=\x20face\x20*\x20faceSize;\x0a\x09\x09uv.x\x20+=\x20filterInt\x20*\x203.0\x20*\x20cubeUV_minTileSize;\x0a\x09\x09uv.y\x20+=\x204.0\x20*\x20(\x20exp2(\x20CUBEUV_MAX_MIP\x20)\x20-\x20faceSize\x20);\x0a\x09\x09uv.x\x20*=\x20CUBEUV_TEXEL_WIDTH;\x0a\x09\x09uv.y\x20*=\x20CUBEUV_TEXEL_HEIGHT;\x0a\x09\x09#ifdef\x20texture2DGradEXT\x0a\x09\x09\x09return\x20texture2DGradEXT(\x20envMap,\x20uv,\x20vec2(\x200.0\x20),\x20vec2(\x200.0\x20)\x20).rgb;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20texture2D(\x20envMap,\x20uv\x20).rgb;\x0a\x09\x09#endif\x0a\x09}\x0a\x09#define\x20cubeUV_r0\x201.0\x0a\x09#define\x20cubeUV_m0\x20-\x202.0\x0a\x09#define\x20cubeUV_r1\x200.8\x0a\x09#define\x20cubeUV_m1\x20-\x201.0\x0a\x09#define\x20cubeUV_r4\x200.4\x0a\x09#define\x20cubeUV_m4\x202.0\x0a\x09#define\x20cubeUV_r5\x200.305\x0a\x09#define\x20cubeUV_m5\x203.0\x0a\x09#define\x20cubeUV_r6\x200.21\x0a\x09#define\x20cubeUV_m6\x204.0\x0a\x09float\x20roughnessToMip(\x20float\x20roughness\x20)\x20{\x0a\x09\x09float\x20mip\x20=\x200.0;\x0a\x09\x09if\x20(\x20roughness\x20>=\x20cubeUV_r1\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r0\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m1\x20-\x20cubeUV_m0\x20)\x20/\x20(\x20cubeUV_r0\x20-\x20cubeUV_r1\x20)\x20+\x20cubeUV_m0;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r4\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r1\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m4\x20-\x20cubeUV_m1\x20)\x20/\x20(\x20cubeUV_r1\x20-\x20cubeUV_r4\x20)\x20+\x20cubeUV_m1;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r5\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r4\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m5\x20-\x20cubeUV_m4\x20)\x20/\x20(\x20cubeUV_r4\x20-\x20cubeUV_r5\x20)\x20+\x20cubeUV_m4;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r6\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r5\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m6\x20-\x20cubeUV_m5\x20)\x20/\x20(\x20cubeUV_r5\x20-\x20cubeUV_r6\x20)\x20+\x20cubeUV_m5;\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09mip\x20=\x20-\x202.0\x20*\x20log2(\x201.16\x20*\x20roughness\x20);\x09\x09}\x0a\x09\x09return\x20mip;\x0a\x09}\x0a\x09vec4\x20textureCubeUV(\x20sampler2D\x20envMap,\x20vec3\x20sampleDir,\x20float\x20roughness\x20)\x20{\x0a\x09\x09float\x20mip\x20=\x20clamp(\x20roughnessToMip(\x20roughness\x20),\x20cubeUV_m0,\x20CUBEUV_MAX_MIP\x20);\x0a\x09\x09float\x20mipF\x20=\x20fract(\x20mip\x20);\x0a\x09\x09float\x20mipInt\x20=\x20floor(\x20mip\x20);\x0a\x09\x09vec3\x20color0\x20=\x20bilinearCubeUV(\x20envMap,\x20sampleDir,\x20mipInt\x20);\x0a\x09\x09if\x20(\x20mipF\x20==\x200.0\x20)\x20{\x0a\x09\x09\x09return\x20vec4(\x20color0,\x201.0\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09vec3\x20color1\x20=\x20bilinearCubeUV(\x20envMap,\x20sampleDir,\x20mipInt\x20+\x201.0\x20);\x0a\x09\x09\x09return\x20vec4(\x20mix(\x20color0,\x20color1,\x20mipF\x20),\x201.0\x20);\x0a\x09\x09}\x0a\x09}\x0a#endif','defaultnormal_vertex':'vec3\x20transformedNormal\x20=\x20objectNormal;\x0a#ifdef\x20USE_TANGENT\x0a\x09vec3\x20transformedTangent\x20=\x20objectTangent;\x0a#endif\x0a#ifdef\x20USE_BATCHING\x0a\x09mat3\x20bm\x20=\x20mat3(\x20batchingMatrix\x20);\x0a\x09transformedNormal\x20/=\x20vec3(\x20dot(\x20bm[\x200\x20],\x20bm[\x200\x20]\x20),\x20dot(\x20bm[\x201\x20],\x20bm[\x201\x20]\x20),\x20dot(\x20bm[\x202\x20],\x20bm[\x202\x20]\x20)\x20);\x0a\x09transformedNormal\x20=\x20bm\x20*\x20transformedNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09transformedTangent\x20=\x20bm\x20*\x20transformedTangent;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_INSTANCING\x0a\x09mat3\x20im\x20=\x20mat3(\x20instanceMatrix\x20);\x0a\x09transformedNormal\x20/=\x20vec3(\x20dot(\x20im[\x200\x20],\x20im[\x200\x20]\x20),\x20dot(\x20im[\x201\x20],\x20im[\x201\x20]\x20),\x20dot(\x20im[\x202\x20],\x20im[\x202\x20]\x20)\x20);\x0a\x09transformedNormal\x20=\x20im\x20*\x20transformedNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09transformedTangent\x20=\x20im\x20*\x20transformedTangent;\x0a\x09#endif\x0a#endif\x0atransformedNormal\x20=\x20normalMatrix\x20*\x20transformedNormal;\x0a#ifdef\x20FLIP_SIDED\x0a\x09transformedNormal\x20=\x20-\x20transformedNormal;\x0a#endif\x0a#ifdef\x20USE_TANGENT\x0a\x09transformedTangent\x20=\x20(\x20modelViewMatrix\x20*\x20vec4(\x20transformedTangent,\x200.0\x20)\x20).xyz;\x0a\x09#ifdef\x20FLIP_SIDED\x0a\x09\x09transformedTangent\x20=\x20-\x20transformedTangent;\x0a\x09#endif\x0a#endif','displacementmap_pars_vertex':'#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09uniform\x20sampler2D\x20displacementMap;\x0a\x09uniform\x20float\x20displacementScale;\x0a\x09uniform\x20float\x20displacementBias;\x0a#endif','displacementmap_vertex':'#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09transformed\x20+=\x20normalize(\x20objectNormal\x20)\x20*\x20(\x20texture2D(\x20displacementMap,\x20vDisplacementMapUv\x20).x\x20*\x20displacementScale\x20+\x20displacementBias\x20);\x0a#endif','emissivemap_fragment':'#ifdef\x20USE_EMISSIVEMAP\x0a\x09vec4\x20emissiveColor\x20=\x20texture2D(\x20emissiveMap,\x20vEmissiveMapUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE_EMISSIVE\x0a\x09\x09emissiveColor\x20=\x20sRGBTransferEOTF(\x20emissiveColor\x20);\x0a\x09#endif\x0a\x09totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a#endif','emissivemap_pars_fragment':'#ifdef\x20USE_EMISSIVEMAP\x0a\x09uniform\x20sampler2D\x20emissiveMap;\x0a#endif','colorspace_fragment':'gl_FragColor\x20=\x20linearToOutputTexel(\x20gl_FragColor\x20);','colorspace_pars_fragment':'vec4\x20LinearTransferOETF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20value;\x0a}\x0avec4\x20sRGBTransferEOTF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20vec4(\x20mix(\x20pow(\x20value.rgb\x20*\x200.9478672986\x20+\x20vec3(\x200.0521327014\x20),\x20vec3(\x202.4\x20)\x20),\x20value.rgb\x20*\x200.0773993808,\x20vec3(\x20lessThanEqual(\x20value.rgb,\x20vec3(\x200.04045\x20)\x20)\x20)\x20),\x20value.a\x20);\x0a}\x0avec4\x20sRGBTransferOETF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20vec4(\x20mix(\x20pow(\x20value.rgb,\x20vec3(\x200.41666\x20)\x20)\x20*\x201.055\x20-\x20vec3(\x200.055\x20),\x20value.rgb\x20*\x2012.92,\x20vec3(\x20lessThanEqual(\x20value.rgb,\x20vec3(\x200.0031308\x20)\x20)\x20)\x20),\x20value.a\x20);\x0a}','envmap_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09vec3\x20cameraToFrag;\x0a\x09\x09if\x20(\x20isOrthographic\x20)\x20{\x0a\x09\x09\x09cameraToFrag\x20=\x20normalize(\x20vec3(\x20-\x20viewMatrix[\x200\x20][\x202\x20],\x20-\x20viewMatrix[\x201\x20][\x202\x20],\x20-\x20viewMatrix[\x202\x20][\x202\x20]\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09cameraToFrag\x20=\x20normalize(\x20vWorldPosition\x20-\x20cameraPosition\x20);\x0a\x09\x09}\x0a\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09\x09#ifdef\x20ENVMAP_MODE_REFLECTION\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20reflect(\x20cameraToFrag,\x20worldNormal\x20);\x0a\x09\x09#else\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20refract(\x20cameraToFrag,\x20worldNormal,\x20refractionRatio\x20);\x0a\x09\x09#endif\x0a\x09#else\x0a\x09\x09vec3\x20reflectVec\x20=\x20vReflect;\x0a\x09#endif\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09vec4\x20envColor\x20=\x20textureCube(\x20envMap,\x20envMapRotation\x20*\x20vec3(\x20flipEnvMap\x20*\x20reflectVec.x,\x20reflectVec.yz\x20)\x20);\x0a\x09#else\x0a\x09\x09vec4\x20envColor\x20=\x20vec4(\x200.0\x20);\x0a\x09#endif\x0a\x09#ifdef\x20ENVMAP_BLENDING_MULTIPLY\x0a\x09\x09outgoingLight\x20=\x20mix(\x20outgoingLight,\x20outgoingLight\x20*\x20envColor.xyz,\x20specularStrength\x20*\x20reflectivity\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_BLENDING_MIX\x20)\x0a\x09\x09outgoingLight\x20=\x20mix(\x20outgoingLight,\x20envColor.xyz,\x20specularStrength\x20*\x20reflectivity\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_BLENDING_ADD\x20)\x0a\x09\x09outgoingLight\x20+=\x20envColor.xyz\x20*\x20specularStrength\x20*\x20reflectivity;\x0a\x09#endif\x0a#endif','envmap_common_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09uniform\x20float\x20envMapIntensity;\x0a\x09uniform\x20float\x20flipEnvMap;\x0a\x09uniform\x20mat3\x20envMapRotation;\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x09#else\x0a\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x09#endif\x0a\x09\x0a#endif','envmap_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09uniform\x20float\x20reflectivity;\x0a\x09#if\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP\x20)\x20||\x20defined(\x20PHONG\x20)\x20||\x20defined(\x20LAMBERT\x20)\x0a\x09\x09#define\x20ENV_WORLDPOS\x0a\x09#endif\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09varying\x20vec3\x20vWorldPosition;\x0a\x09\x09uniform\x20float\x20refractionRatio;\x0a\x09#else\x0a\x09\x09varying\x20vec3\x20vReflect;\x0a\x09#endif\x0a#endif','envmap_pars_vertex':'#ifdef\x20USE_ENVMAP\x0a\x09#if\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP\x20)\x20||\x20defined(\x20PHONG\x20)\x20||\x20defined(\x20LAMBERT\x20)\x0a\x09\x09#define\x20ENV_WORLDPOS\x0a\x09#endif\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09\x0a\x09\x09varying\x20vec3\x20vWorldPosition;\x0a\x09#else\x0a\x09\x09varying\x20vec3\x20vReflect;\x0a\x09\x09uniform\x20float\x20refractionRatio;\x0a\x09#endif\x0a#endif','envmap_physical_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09vec3\x20getIBLIrradiance(\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09\x09\x09vec4\x20envMapColor\x20=\x20textureCubeUV(\x20envMap,\x20envMapRotation\x20*\x20worldNormal,\x201.0\x20);\x0a\x09\x09\x09return\x20PI\x20*\x20envMapColor.rgb\x20*\x20envMapIntensity;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09#endif\x0a\x09}\x0a\x09vec3\x20getIBLRadiance(\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20reflect(\x20-\x20viewDir,\x20normal\x20);\x0a\x09\x09\x09reflectVec\x20=\x20normalize(\x20mix(\x20reflectVec,\x20normal,\x20roughness\x20*\x20roughness)\x20);\x0a\x09\x09\x09reflectVec\x20=\x20inverseTransformDirection(\x20reflectVec,\x20viewMatrix\x20);\x0a\x09\x09\x09vec4\x20envMapColor\x20=\x20textureCubeUV(\x20envMap,\x20envMapRotation\x20*\x20reflectVec,\x20roughness\x20);\x0a\x09\x09\x09return\x20envMapColor.rgb\x20*\x20envMapIntensity;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09#endif\x0a\x09}\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09vec3\x20getIBLAnisotropyRadiance(\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20vec3\x20bitangent,\x20const\x20in\x20float\x20anisotropy\x20)\x20{\x0a\x09\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09\x09vec3\x20bentNormal\x20=\x20cross(\x20bitangent,\x20viewDir\x20);\x0a\x09\x09\x09\x09bentNormal\x20=\x20normalize(\x20cross(\x20bentNormal,\x20bitangent\x20)\x20);\x0a\x09\x09\x09\x09bentNormal\x20=\x20normalize(\x20mix(\x20bentNormal,\x20normal,\x20pow2(\x20pow2(\x201.0\x20-\x20anisotropy\x20*\x20(\x201.0\x20-\x20roughness\x20)\x20)\x20)\x20)\x20);\x0a\x09\x09\x09\x09return\x20getIBLRadiance(\x20viewDir,\x20bentNormal,\x20roughness\x20);\x0a\x09\x09\x09#else\x0a\x09\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09\x09#endif\x0a\x09\x09}\x0a\x09#endif\x0a#endif','envmap_vertex':'#ifdef\x20USE_ENVMAP\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a\x09#else\x0a\x09\x09vec3\x20cameraToVertex;\x0a\x09\x09if\x20(\x20isOrthographic\x20)\x20{\x0a\x09\x09\x09cameraToVertex\x20=\x20normalize(\x20vec3(\x20-\x20viewMatrix[\x200\x20][\x202\x20],\x20-\x20viewMatrix[\x201\x20][\x202\x20],\x20-\x20viewMatrix[\x202\x20][\x202\x20]\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09cameraToVertex\x20=\x20normalize(\x20worldPosition.xyz\x20-\x20cameraPosition\x20);\x0a\x09\x09}\x0a\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20transformedNormal,\x20viewMatrix\x20);\x0a\x09\x09#ifdef\x20ENVMAP_MODE_REFLECTION\x0a\x09\x09\x09vReflect\x20=\x20reflect(\x20cameraToVertex,\x20worldNormal\x20);\x0a\x09\x09#else\x0a\x09\x09\x09vReflect\x20=\x20refract(\x20cameraToVertex,\x20worldNormal,\x20refractionRatio\x20);\x0a\x09\x09#endif\x0a\x09#endif\x0a#endif','fog_vertex':'#ifdef\x20USE_FOG\x0a\x09vFogDepth\x20=\x20-\x20mvPosition.z;\x0a#endif','fog_pars_vertex':'#ifdef\x20USE_FOG\x0a\x09varying\x20float\x20vFogDepth;\x0a#endif','fog_fragment':'#ifdef\x20USE_FOG\x0a\x09#ifdef\x20FOG_EXP2\x0a\x09\x09float\x20fogFactor\x20=\x201.0\x20-\x20exp(\x20-\x20fogDensity\x20*\x20fogDensity\x20*\x20vFogDepth\x20*\x20vFogDepth\x20);\x0a\x09#else\x0a\x09\x09float\x20fogFactor\x20=\x20smoothstep(\x20fogNear,\x20fogFar,\x20vFogDepth\x20);\x0a\x09#endif\x0a\x09gl_FragColor.rgb\x20=\x20mix(\x20gl_FragColor.rgb,\x20fogColor,\x20fogFactor\x20);\x0a#endif','fog_pars_fragment':'#ifdef\x20USE_FOG\x0a\x09uniform\x20vec3\x20fogColor;\x0a\x09varying\x20float\x20vFogDepth;\x0a\x09#ifdef\x20FOG_EXP2\x0a\x09\x09uniform\x20float\x20fogDensity;\x0a\x09#else\x0a\x09\x09uniform\x20float\x20fogNear;\x0a\x09\x09uniform\x20float\x20fogFar;\x0a\x09#endif\x0a#endif','gradientmap_pars_fragment':'#ifdef\x20USE_GRADIENTMAP\x0a\x09uniform\x20sampler2D\x20gradientMap;\x0a#endif\x0avec3\x20getGradientIrradiance(\x20vec3\x20normal,\x20vec3\x20lightDirection\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20dot(\x20normal,\x20lightDirection\x20);\x0a\x09vec2\x20coord\x20=\x20vec2(\x20dotNL\x20*\x200.5\x20+\x200.5,\x200.0\x20);\x0a\x09#ifdef\x20USE_GRADIENTMAP\x0a\x09\x09return\x20vec3(\x20texture2D(\x20gradientMap,\x20coord\x20).r\x20);\x0a\x09#else\x0a\x09\x09vec2\x20fw\x20=\x20fwidth(\x20coord\x20)\x20*\x200.5;\x0a\x09\x09return\x20mix(\x20vec3(\x200.7\x20),\x20vec3(\x201.0\x20),\x20smoothstep(\x200.7\x20-\x20fw.x,\x200.7\x20+\x20fw.x,\x20coord.x\x20)\x20);\x0a\x09#endif\x0a}','lightmap_pars_fragment':'#ifdef\x20USE_LIGHTMAP\x0a\x09uniform\x20sampler2D\x20lightMap;\x0a\x09uniform\x20float\x20lightMapIntensity;\x0a#endif','lights_lambert_fragment':'LambertMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;\x0amaterial.specularStrength\x20=\x20specularStrength;','lights_lambert_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20LambertMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09float\x20specularStrength;\x0a};\x0avoid\x20RE_Direct_Lambert(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20LambertMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Lambert(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20LambertMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Lambert\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Lambert','lights_pars_begin':'uniform\x20bool\x20receiveShadow;\x0auniform\x20vec3\x20ambientLightColor;\x0a#if\x20defined(\x20USE_LIGHT_PROBES\x20)\x0a\x09uniform\x20vec3\x20lightProbe[\x209\x20];\x0a#endif\x0avec3\x20shGetIrradianceAt(\x20in\x20vec3\x20normal,\x20in\x20vec3\x20shCoefficients[\x209\x20]\x20)\x20{\x0a\x09float\x20x\x20=\x20normal.x,\x20y\x20=\x20normal.y,\x20z\x20=\x20normal.z;\x0a\x09vec3\x20result\x20=\x20shCoefficients[\x200\x20]\x20*\x200.886227;\x0a\x09result\x20+=\x20shCoefficients[\x201\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20y;\x0a\x09result\x20+=\x20shCoefficients[\x202\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x203\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20x;\x0a\x09result\x20+=\x20shCoefficients[\x204\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20x\x20*\x20y;\x0a\x09result\x20+=\x20shCoefficients[\x205\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20y\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x206\x20]\x20*\x20(\x200.743125\x20*\x20z\x20*\x20z\x20-\x200.247708\x20);\x0a\x09result\x20+=\x20shCoefficients[\x207\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20x\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x208\x20]\x20*\x200.429043\x20*\x20(\x20x\x20*\x20x\x20-\x20y\x20*\x20y\x20);\x0a\x09return\x20result;\x0a}\x0avec3\x20getLightProbeIrradiance(\x20const\x20in\x20vec3\x20lightProbe[\x209\x20],\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09vec3\x20irradiance\x20=\x20shGetIrradianceAt(\x20worldNormal,\x20lightProbe\x20);\x0a\x09return\x20irradiance;\x0a}\x0avec3\x20getAmbientLightIrradiance(\x20const\x20in\x20vec3\x20ambientLightColor\x20)\x20{\x0a\x09vec3\x20irradiance\x20=\x20ambientLightColor;\x0a\x09return\x20irradiance;\x0a}\x0afloat\x20getDistanceAttenuation(\x20const\x20in\x20float\x20lightDistance,\x20const\x20in\x20float\x20cutoffDistance,\x20const\x20in\x20float\x20decayExponent\x20)\x20{\x0a\x09float\x20distanceFalloff\x20=\x201.0\x20/\x20max(\x20pow(\x20lightDistance,\x20decayExponent\x20),\x200.01\x20);\x0a\x09if\x20(\x20cutoffDistance\x20>\x200.0\x20)\x20{\x0a\x09\x09distanceFalloff\x20*=\x20pow2(\x20saturate(\x201.0\x20-\x20pow4(\x20lightDistance\x20/\x20cutoffDistance\x20)\x20)\x20);\x0a\x09}\x0a\x09return\x20distanceFalloff;\x0a}\x0afloat\x20getSpotAttenuation(\x20const\x20in\x20float\x20coneCosine,\x20const\x20in\x20float\x20penumbraCosine,\x20const\x20in\x20float\x20angleCosine\x20)\x20{\x0a\x09return\x20smoothstep(\x20coneCosine,\x20penumbraCosine,\x20angleCosine\x20);\x0a}\x0a#if\x20NUM_DIR_LIGHTS\x20>\x200\x0a\x09struct\x20DirectionalLight\x20{\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20color;\x0a\x09};\x0a\x09uniform\x20DirectionalLight\x20directionalLights[\x20NUM_DIR_LIGHTS\x20];\x0a\x09void\x20getDirectionalLightInfo(\x20const\x20in\x20DirectionalLight\x20directionalLight,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09light.color\x20=\x20directionalLight.color;\x0a\x09\x09light.direction\x20=\x20directionalLight.direction;\x0a\x09\x09light.visible\x20=\x20true;\x0a\x09}\x0a#endif\x0a#if\x20NUM_POINT_LIGHTS\x20>\x200\x0a\x09struct\x20PointLight\x20{\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20color;\x0a\x09\x09float\x20distance;\x0a\x09\x09float\x20decay;\x0a\x09};\x0a\x09uniform\x20PointLight\x20pointLights[\x20NUM_POINT_LIGHTS\x20];\x0a\x09void\x20getPointLightInfo(\x20const\x20in\x20PointLight\x20pointLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09vec3\x20lVector\x20=\x20pointLight.position\x20-\x20geometryPosition;\x0a\x09\x09light.direction\x20=\x20normalize(\x20lVector\x20);\x0a\x09\x09float\x20lightDistance\x20=\x20length(\x20lVector\x20);\x0a\x09\x09light.color\x20=\x20pointLight.color;\x0a\x09\x09light.color\x20*=\x20getDistanceAttenuation(\x20lightDistance,\x20pointLight.distance,\x20pointLight.decay\x20);\x0a\x09\x09light.visible\x20=\x20(\x20light.color\x20!=\x20vec3(\x200.0\x20)\x20);\x0a\x09}\x0a#endif\x0a#if\x20NUM_SPOT_LIGHTS\x20>\x200\x0a\x09struct\x20SpotLight\x20{\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20color;\x0a\x09\x09float\x20distance;\x0a\x09\x09float\x20decay;\x0a\x09\x09float\x20coneCos;\x0a\x09\x09float\x20penumbraCos;\x0a\x09};\x0a\x09uniform\x20SpotLight\x20spotLights[\x20NUM_SPOT_LIGHTS\x20];\x0a\x09void\x20getSpotLightInfo(\x20const\x20in\x20SpotLight\x20spotLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09vec3\x20lVector\x20=\x20spotLight.position\x20-\x20geometryPosition;\x0a\x09\x09light.direction\x20=\x20normalize(\x20lVector\x20);\x0a\x09\x09float\x20angleCos\x20=\x20dot(\x20light.direction,\x20spotLight.direction\x20);\x0a\x09\x09float\x20spotAttenuation\x20=\x20getSpotAttenuation(\x20spotLight.coneCos,\x20spotLight.penumbraCos,\x20angleCos\x20);\x0a\x09\x09if\x20(\x20spotAttenuation\x20>\x200.0\x20)\x20{\x0a\x09\x09\x09float\x20lightDistance\x20=\x20length(\x20lVector\x20);\x0a\x09\x09\x09light.color\x20=\x20spotLight.color\x20*\x20spotAttenuation;\x0a\x09\x09\x09light.color\x20*=\x20getDistanceAttenuation(\x20lightDistance,\x20spotLight.distance,\x20spotLight.decay\x20);\x0a\x09\x09\x09light.visible\x20=\x20(\x20light.color\x20!=\x20vec3(\x200.0\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09light.color\x20=\x20vec3(\x200.0\x20);\x0a\x09\x09\x09light.visible\x20=\x20false;\x0a\x09\x09}\x0a\x09}\x0a#endif\x0a#if\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x0a\x09struct\x20RectAreaLight\x20{\x0a\x09\x09vec3\x20color;\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20halfWidth;\x0a\x09\x09vec3\x20halfHeight;\x0a\x09};\x0a\x09uniform\x20sampler2D\x20ltc_1;\x09uniform\x20sampler2D\x20ltc_2;\x0a\x09uniform\x20RectAreaLight\x20rectAreaLights[\x20NUM_RECT_AREA_LIGHTS\x20];\x0a#endif\x0a#if\x20NUM_HEMI_LIGHTS\x20>\x200\x0a\x09struct\x20HemisphereLight\x20{\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20skyColor;\x0a\x09\x09vec3\x20groundColor;\x0a\x09};\x0a\x09uniform\x20HemisphereLight\x20hemisphereLights[\x20NUM_HEMI_LIGHTS\x20];\x0a\x09vec3\x20getHemisphereLightIrradiance(\x20const\x20in\x20HemisphereLight\x20hemiLight,\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09\x09float\x20dotNL\x20=\x20dot(\x20normal,\x20hemiLight.direction\x20);\x0a\x09\x09float\x20hemiDiffuseWeight\x20=\x200.5\x20*\x20dotNL\x20+\x200.5;\x0a\x09\x09vec3\x20irradiance\x20=\x20mix(\x20hemiLight.groundColor,\x20hemiLight.skyColor,\x20hemiDiffuseWeight\x20);\x0a\x09\x09return\x20irradiance;\x0a\x09}\x0a#endif','lights_toon_fragment':'ToonMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;','lights_toon_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20ToonMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a};\x0avoid\x20RE_Direct_Toon(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20ToonMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09vec3\x20irradiance\x20=\x20getGradientIrradiance(\x20geometryNormal,\x20directLight.direction\x20)\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Toon(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20ToonMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Toon\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Toon','lights_phong_fragment':'BlinnPhongMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;\x0amaterial.specularColor\x20=\x20specular;\x0amaterial.specularShininess\x20=\x20shininess;\x0amaterial.specularStrength\x20=\x20specularStrength;','lights_phong_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20BlinnPhongMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09vec3\x20specularColor;\x0a\x09float\x20specularShininess;\x0a\x09float\x20specularStrength;\x0a};\x0avoid\x20RE_Direct_BlinnPhong(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20BlinnPhongMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a\x09reflectedLight.directSpecular\x20+=\x20irradiance\x20*\x20BRDF_BlinnPhong(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material.specularColor,\x20material.specularShininess\x20)\x20*\x20material.specularStrength;\x0a}\x0avoid\x20RE_IndirectDiffuse_BlinnPhong(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20BlinnPhongMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_BlinnPhong\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_BlinnPhong','lights_physical_fragment':'PhysicalMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb\x20*\x20(\x201.0\x20-\x20metalnessFactor\x20);\x0avec3\x20dxy\x20=\x20max(\x20abs(\x20dFdx(\x20nonPerturbedNormal\x20)\x20),\x20abs(\x20dFdy(\x20nonPerturbedNormal\x20)\x20)\x20);\x0afloat\x20geometryRoughness\x20=\x20max(\x20max(\x20dxy.x,\x20dxy.y\x20),\x20dxy.z\x20);\x0amaterial.roughness\x20=\x20max(\x20roughnessFactor,\x200.0525\x20);material.roughness\x20+=\x20geometryRoughness;\x0amaterial.roughness\x20=\x20min(\x20material.roughness,\x201.0\x20);\x0a#ifdef\x20IOR\x0a\x09material.ior\x20=\x20ior;\x0a\x09#ifdef\x20USE_SPECULAR\x0a\x09\x09float\x20specularIntensityFactor\x20=\x20specularIntensity;\x0a\x09\x09vec3\x20specularColorFactor\x20=\x20specularColor;\x0a\x09\x09#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09\x09\x09specularColorFactor\x20*=\x20texture2D(\x20specularColorMap,\x20vSpecularColorMapUv\x20).rgb;\x0a\x09\x09#endif\x0a\x09\x09#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09\x09\x09specularIntensityFactor\x20*=\x20texture2D(\x20specularIntensityMap,\x20vSpecularIntensityMapUv\x20).a;\x0a\x09\x09#endif\x0a\x09\x09material.specularF90\x20=\x20mix(\x20specularIntensityFactor,\x201.0,\x20metalnessFactor\x20);\x0a\x09#else\x0a\x09\x09float\x20specularIntensityFactor\x20=\x201.0;\x0a\x09\x09vec3\x20specularColorFactor\x20=\x20vec3(\x201.0\x20);\x0a\x09\x09material.specularF90\x20=\x201.0;\x0a\x09#endif\x0a\x09material.specularColor\x20=\x20mix(\x20min(\x20pow2(\x20(\x20material.ior\x20-\x201.0\x20)\x20/\x20(\x20material.ior\x20+\x201.0\x20)\x20)\x20*\x20specularColorFactor,\x20vec3(\x201.0\x20)\x20)\x20*\x20specularIntensityFactor,\x20diffuseColor.rgb,\x20metalnessFactor\x20);\x0a#else\x0a\x09material.specularColor\x20=\x20mix(\x20vec3(\x200.04\x20),\x20diffuseColor.rgb,\x20metalnessFactor\x20);\x0a\x09material.specularF90\x20=\x201.0;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09material.clearcoat\x20=\x20clearcoat;\x0a\x09material.clearcoatRoughness\x20=\x20clearcoatRoughness;\x0a\x09material.clearcoatF0\x20=\x20vec3(\x200.04\x20);\x0a\x09material.clearcoatF90\x20=\x201.0;\x0a\x09#ifdef\x20USE_CLEARCOATMAP\x0a\x09\x09material.clearcoat\x20*=\x20texture2D(\x20clearcoatMap,\x20vClearcoatMapUv\x20).x;\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09\x09material.clearcoatRoughness\x20*=\x20texture2D(\x20clearcoatRoughnessMap,\x20vClearcoatRoughnessMapUv\x20).y;\x0a\x09#endif\x0a\x09material.clearcoat\x20=\x20saturate(\x20material.clearcoat\x20);\x09material.clearcoatRoughness\x20=\x20max(\x20material.clearcoatRoughness,\x200.0525\x20);\x0a\x09material.clearcoatRoughness\x20+=\x20geometryRoughness;\x0a\x09material.clearcoatRoughness\x20=\x20min(\x20material.clearcoatRoughness,\x201.0\x20);\x0a#endif\x0a#ifdef\x20USE_DISPERSION\x0a\x09material.dispersion\x20=\x20dispersion;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09material.iridescence\x20=\x20iridescence;\x0a\x09material.iridescenceIOR\x20=\x20iridescenceIOR;\x0a\x09#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09\x09material.iridescence\x20*=\x20texture2D(\x20iridescenceMap,\x20vIridescenceMapUv\x20).r;\x0a\x09#endif\x0a\x09#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09\x09material.iridescenceThickness\x20=\x20(iridescenceThicknessMaximum\x20-\x20iridescenceThicknessMinimum)\x20*\x20texture2D(\x20iridescenceThicknessMap,\x20vIridescenceThicknessMapUv\x20).g\x20+\x20iridescenceThicknessMinimum;\x0a\x09#else\x0a\x09\x09material.iridescenceThickness\x20=\x20iridescenceThicknessMaximum;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_SHEEN\x0a\x09material.sheenColor\x20=\x20sheenColor;\x0a\x09#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09\x09material.sheenColor\x20*=\x20texture2D(\x20sheenColorMap,\x20vSheenColorMapUv\x20).rgb;\x0a\x09#endif\x0a\x09material.sheenRoughness\x20=\x20clamp(\x20sheenRoughness,\x200.07,\x201.0\x20);\x0a\x09#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09\x09material.sheenRoughness\x20*=\x20texture2D(\x20sheenRoughnessMap,\x20vSheenRoughnessMapUv\x20).a;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09#ifdef\x20USE_ANISOTROPYMAP\x0a\x09\x09mat2\x20anisotropyMat\x20=\x20mat2(\x20anisotropyVector.x,\x20anisotropyVector.y,\x20-\x20anisotropyVector.y,\x20anisotropyVector.x\x20);\x0a\x09\x09vec3\x20anisotropyPolar\x20=\x20texture2D(\x20anisotropyMap,\x20vAnisotropyMapUv\x20).rgb;\x0a\x09\x09vec2\x20anisotropyV\x20=\x20anisotropyMat\x20*\x20normalize(\x202.0\x20*\x20anisotropyPolar.rg\x20-\x20vec2(\x201.0\x20)\x20)\x20*\x20anisotropyPolar.b;\x0a\x09#else\x0a\x09\x09vec2\x20anisotropyV\x20=\x20anisotropyVector;\x0a\x09#endif\x0a\x09material.anisotropy\x20=\x20length(\x20anisotropyV\x20);\x0a\x09if(\x20material.anisotropy\x20==\x200.0\x20)\x20{\x0a\x09\x09anisotropyV\x20=\x20vec2(\x201.0,\x200.0\x20);\x0a\x09}\x20else\x20{\x0a\x09\x09anisotropyV\x20/=\x20material.anisotropy;\x0a\x09\x09material.anisotropy\x20=\x20saturate(\x20material.anisotropy\x20);\x0a\x09}\x0a\x09material.alphaT\x20=\x20mix(\x20pow2(\x20material.roughness\x20),\x201.0,\x20pow2(\x20material.anisotropy\x20)\x20);\x0a\x09material.anisotropyT\x20=\x20tbn[\x200\x20]\x20*\x20anisotropyV.x\x20+\x20tbn[\x201\x20]\x20*\x20anisotropyV.y;\x0a\x09material.anisotropyB\x20=\x20tbn[\x201\x20]\x20*\x20anisotropyV.x\x20-\x20tbn[\x200\x20]\x20*\x20anisotropyV.y;\x0a#endif','lights_physical_pars_fragment':'struct\x20PhysicalMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09float\x20roughness;\x0a\x09vec3\x20specularColor;\x0a\x09float\x20specularF90;\x0a\x09float\x20dispersion;\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20clearcoat;\x0a\x09\x09float\x20clearcoatRoughness;\x0a\x09\x09vec3\x20clearcoatF0;\x0a\x09\x09float\x20clearcoatF90;\x0a\x09#endif\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09float\x20iridescence;\x0a\x09\x09float\x20iridescenceIOR;\x0a\x09\x09float\x20iridescenceThickness;\x0a\x09\x09vec3\x20iridescenceFresnel;\x0a\x09\x09vec3\x20iridescenceF0;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09vec3\x20sheenColor;\x0a\x09\x09float\x20sheenRoughness;\x0a\x09#endif\x0a\x09#ifdef\x20IOR\x0a\x09\x09float\x20ior;\x0a\x09#endif\x0a\x09#ifdef\x20USE_TRANSMISSION\x0a\x09\x09float\x20transmission;\x0a\x09\x09float\x20transmissionAlpha;\x0a\x09\x09float\x20thickness;\x0a\x09\x09float\x20attenuationDistance;\x0a\x09\x09vec3\x20attenuationColor;\x0a\x09#endif\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09float\x20anisotropy;\x0a\x09\x09float\x20alphaT;\x0a\x09\x09vec3\x20anisotropyT;\x0a\x09\x09vec3\x20anisotropyB;\x0a\x09#endif\x0a};\x0avec3\x20clearcoatSpecularDirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20clearcoatSpecularIndirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20sheenSpecularDirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20sheenSpecularIndirect\x20=\x20vec3(0.0\x20);\x0avec3\x20Schlick_to_F0(\x20const\x20in\x20vec3\x20f,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x20\x20\x20\x20float\x20x\x20=\x20clamp(\x201.0\x20-\x20dotVH,\x200.0,\x201.0\x20);\x0a\x20\x20\x20\x20float\x20x2\x20=\x20x\x20*\x20x;\x0a\x20\x20\x20\x20float\x20x5\x20=\x20clamp(\x20x\x20*\x20x2\x20*\x20x2,\x200.0,\x200.9999\x20);\x0a\x20\x20\x20\x20return\x20(\x20f\x20-\x20vec3(\x20f90\x20)\x20*\x20x5\x20)\x20/\x20(\x201.0\x20-\x20x5\x20);\x0a}\x0afloat\x20V_GGX_SmithCorrelated(\x20const\x20in\x20float\x20alpha,\x20const\x20in\x20float\x20dotNL,\x20const\x20in\x20float\x20dotNV\x20)\x20{\x0a\x09float\x20a2\x20=\x20pow2(\x20alpha\x20);\x0a\x09float\x20gv\x20=\x20dotNL\x20*\x20sqrt(\x20a2\x20+\x20(\x201.0\x20-\x20a2\x20)\x20*\x20pow2(\x20dotNV\x20)\x20);\x0a\x09float\x20gl\x20=\x20dotNV\x20*\x20sqrt(\x20a2\x20+\x20(\x201.0\x20-\x20a2\x20)\x20*\x20pow2(\x20dotNL\x20)\x20);\x0a\x09return\x200.5\x20/\x20max(\x20gv\x20+\x20gl,\x20EPSILON\x20);\x0a}\x0afloat\x20D_GGX(\x20const\x20in\x20float\x20alpha,\x20const\x20in\x20float\x20dotNH\x20)\x20{\x0a\x09float\x20a2\x20=\x20pow2(\x20alpha\x20);\x0a\x09float\x20denom\x20=\x20pow2(\x20dotNH\x20)\x20*\x20(\x20a2\x20-\x201.0\x20)\x20+\x201.0;\x0a\x09return\x20RECIPROCAL_PI\x20*\x20a2\x20/\x20pow2(\x20denom\x20);\x0a}\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09float\x20V_GGX_SmithCorrelated_Anisotropic(\x20const\x20in\x20float\x20alphaT,\x20const\x20in\x20float\x20alphaB,\x20const\x20in\x20float\x20dotTV,\x20const\x20in\x20float\x20dotBV,\x20const\x20in\x20float\x20dotTL,\x20const\x20in\x20float\x20dotBL,\x20const\x20in\x20float\x20dotNV,\x20const\x20in\x20float\x20dotNL\x20)\x20{\x0a\x09\x09float\x20gv\x20=\x20dotNL\x20*\x20length(\x20vec3(\x20alphaT\x20*\x20dotTV,\x20alphaB\x20*\x20dotBV,\x20dotNV\x20)\x20);\x0a\x09\x09float\x20gl\x20=\x20dotNV\x20*\x20length(\x20vec3(\x20alphaT\x20*\x20dotTL,\x20alphaB\x20*\x20dotBL,\x20dotNL\x20)\x20);\x0a\x09\x09float\x20v\x20=\x200.5\x20/\x20(\x20gv\x20+\x20gl\x20);\x0a\x09\x09return\x20saturate(v);\x0a\x09}\x0a\x09float\x20D_GGX_Anisotropic(\x20const\x20in\x20float\x20alphaT,\x20const\x20in\x20float\x20alphaB,\x20const\x20in\x20float\x20dotNH,\x20const\x20in\x20float\x20dotTH,\x20const\x20in\x20float\x20dotBH\x20)\x20{\x0a\x09\x09float\x20a2\x20=\x20alphaT\x20*\x20alphaB;\x0a\x09\x09highp\x20vec3\x20v\x20=\x20vec3(\x20alphaB\x20*\x20dotTH,\x20alphaT\x20*\x20dotBH,\x20a2\x20*\x20dotNH\x20);\x0a\x09\x09highp\x20float\x20v2\x20=\x20dot(\x20v,\x20v\x20);\x0a\x09\x09float\x20w2\x20=\x20a2\x20/\x20v2;\x0a\x09\x09return\x20RECIPROCAL_PI\x20*\x20a2\x20*\x20pow2\x20(\x20w2\x20);\x0a\x09}\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09vec3\x20BRDF_GGX_Clearcoat(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20PhysicalMaterial\x20material)\x20{\x0a\x09\x09vec3\x20f0\x20=\x20material.clearcoatF0;\x0a\x09\x09float\x20f90\x20=\x20material.clearcoatF90;\x0a\x09\x09float\x20roughness\x20=\x20material.clearcoatRoughness;\x0a\x09\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09\x09vec3\x20F\x20=\x20F_Schlick(\x20f0,\x20f90,\x20dotVH\x20);\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated(\x20alpha,\x20dotNL,\x20dotNV\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX(\x20alpha,\x20dotNH\x20);\x0a\x09\x09return\x20F\x20*\x20(\x20V\x20*\x20D\x20);\x0a\x09}\x0a#endif\x0avec3\x20BRDF_GGX(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20PhysicalMaterial\x20material\x20)\x20{\x0a\x09vec3\x20f0\x20=\x20material.specularColor;\x0a\x09float\x20f90\x20=\x20material.specularF90;\x0a\x09float\x20roughness\x20=\x20material.roughness;\x0a\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09vec3\x20F\x20=\x20F_Schlick(\x20f0,\x20f90,\x20dotVH\x20);\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09F\x20=\x20mix(\x20F,\x20material.iridescenceFresnel,\x20material.iridescence\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09float\x20dotTL\x20=\x20dot(\x20material.anisotropyT,\x20lightDir\x20);\x0a\x09\x09float\x20dotTV\x20=\x20dot(\x20material.anisotropyT,\x20viewDir\x20);\x0a\x09\x09float\x20dotTH\x20=\x20dot(\x20material.anisotropyT,\x20halfDir\x20);\x0a\x09\x09float\x20dotBL\x20=\x20dot(\x20material.anisotropyB,\x20lightDir\x20);\x0a\x09\x09float\x20dotBV\x20=\x20dot(\x20material.anisotropyB,\x20viewDir\x20);\x0a\x09\x09float\x20dotBH\x20=\x20dot(\x20material.anisotropyB,\x20halfDir\x20);\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated_Anisotropic(\x20material.alphaT,\x20alpha,\x20dotTV,\x20dotBV,\x20dotTL,\x20dotBL,\x20dotNV,\x20dotNL\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX_Anisotropic(\x20material.alphaT,\x20alpha,\x20dotNH,\x20dotTH,\x20dotBH\x20);\x0a\x09#else\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated(\x20alpha,\x20dotNL,\x20dotNV\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX(\x20alpha,\x20dotNH\x20);\x0a\x09#endif\x0a\x09return\x20F\x20*\x20(\x20V\x20*\x20D\x20);\x0a}\x0avec2\x20LTC_Uv(\x20const\x20in\x20vec3\x20N,\x20const\x20in\x20vec3\x20V,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09const\x20float\x20LUT_SIZE\x20=\x2064.0;\x0a\x09const\x20float\x20LUT_SCALE\x20=\x20(\x20LUT_SIZE\x20-\x201.0\x20)\x20/\x20LUT_SIZE;\x0a\x09const\x20float\x20LUT_BIAS\x20=\x200.5\x20/\x20LUT_SIZE;\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20N,\x20V\x20)\x20);\x0a\x09vec2\x20uv\x20=\x20vec2(\x20roughness,\x20sqrt(\x201.0\x20-\x20dotNV\x20)\x20);\x0a\x09uv\x20=\x20uv\x20*\x20LUT_SCALE\x20+\x20LUT_BIAS;\x0a\x09return\x20uv;\x0a}\x0afloat\x20LTC_ClippedSphereFormFactor(\x20const\x20in\x20vec3\x20f\x20)\x20{\x0a\x09float\x20l\x20=\x20length(\x20f\x20);\x0a\x09return\x20max(\x20(\x20l\x20*\x20l\x20+\x20f.z\x20)\x20/\x20(\x20l\x20+\x201.0\x20),\x200.0\x20);\x0a}\x0avec3\x20LTC_EdgeVectorFormFactor(\x20const\x20in\x20vec3\x20v1,\x20const\x20in\x20vec3\x20v2\x20)\x20{\x0a\x09float\x20x\x20=\x20dot(\x20v1,\x20v2\x20);\x0a\x09float\x20y\x20=\x20abs(\x20x\x20);\x0a\x09float\x20a\x20=\x200.8543985\x20+\x20(\x200.4965155\x20+\x200.0145206\x20*\x20y\x20)\x20*\x20y;\x0a\x09float\x20b\x20=\x203.4175940\x20+\x20(\x204.1616724\x20+\x20y\x20)\x20*\x20y;\x0a\x09float\x20v\x20=\x20a\x20/\x20b;\x0a\x09float\x20theta_sintheta\x20=\x20(\x20x\x20>\x200.0\x20)\x20?\x20v\x20:\x200.5\x20*\x20inversesqrt(\x20max(\x201.0\x20-\x20x\x20*\x20x,\x201e-7\x20)\x20)\x20-\x20v;\x0a\x09return\x20cross(\x20v1,\x20v2\x20)\x20*\x20theta_sintheta;\x0a}\x0avec3\x20LTC_Evaluate(\x20const\x20in\x20vec3\x20N,\x20const\x20in\x20vec3\x20V,\x20const\x20in\x20vec3\x20P,\x20const\x20in\x20mat3\x20mInv,\x20const\x20in\x20vec3\x20rectCoords[\x204\x20]\x20)\x20{\x0a\x09vec3\x20v1\x20=\x20rectCoords[\x201\x20]\x20-\x20rectCoords[\x200\x20];\x0a\x09vec3\x20v2\x20=\x20rectCoords[\x203\x20]\x20-\x20rectCoords[\x200\x20];\x0a\x09vec3\x20lightNormal\x20=\x20cross(\x20v1,\x20v2\x20);\x0a\x09if(\x20dot(\x20lightNormal,\x20P\x20-\x20rectCoords[\x200\x20]\x20)\x20<\x200.0\x20)\x20return\x20vec3(\x200.0\x20);\x0a\x09vec3\x20T1,\x20T2;\x0a\x09T1\x20=\x20normalize(\x20V\x20-\x20N\x20*\x20dot(\x20V,\x20N\x20)\x20);\x0a\x09T2\x20=\x20-\x20cross(\x20N,\x20T1\x20);\x0a\x09mat3\x20mat\x20=\x20mInv\x20*\x20transposeMat3(\x20mat3(\x20T1,\x20T2,\x20N\x20)\x20);\x0a\x09vec3\x20coords[\x204\x20];\x0a\x09coords[\x200\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x200\x20]\x20-\x20P\x20);\x0a\x09coords[\x201\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x201\x20]\x20-\x20P\x20);\x0a\x09coords[\x202\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x202\x20]\x20-\x20P\x20);\x0a\x09coords[\x203\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x203\x20]\x20-\x20P\x20);\x0a\x09coords[\x200\x20]\x20=\x20normalize(\x20coords[\x200\x20]\x20);\x0a\x09coords[\x201\x20]\x20=\x20normalize(\x20coords[\x201\x20]\x20);\x0a\x09coords[\x202\x20]\x20=\x20normalize(\x20coords[\x202\x20]\x20);\x0a\x09coords[\x203\x20]\x20=\x20normalize(\x20coords[\x203\x20]\x20);\x0a\x09vec3\x20vectorFormFactor\x20=\x20vec3(\x200.0\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x200\x20],\x20coords[\x201\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x201\x20],\x20coords[\x202\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x202\x20],\x20coords[\x203\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x203\x20],\x20coords[\x200\x20]\x20);\x0a\x09float\x20result\x20=\x20LTC_ClippedSphereFormFactor(\x20vectorFormFactor\x20);\x0a\x09return\x20vec3(\x20result\x20);\x0a}\x0a#if\x20defined(\x20USE_SHEEN\x20)\x0afloat\x20D_Charlie(\x20float\x20roughness,\x20float\x20dotNH\x20)\x20{\x0a\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09float\x20invAlpha\x20=\x201.0\x20/\x20alpha;\x0a\x09float\x20cos2h\x20=\x20dotNH\x20*\x20dotNH;\x0a\x09float\x20sin2h\x20=\x20max(\x201.0\x20-\x20cos2h,\x200.0078125\x20);\x0a\x09return\x20(\x202.0\x20+\x20invAlpha\x20)\x20*\x20pow(\x20sin2h,\x20invAlpha\x20*\x200.5\x20)\x20/\x20(\x202.0\x20*\x20PI\x20);\x0a}\x0afloat\x20V_Neubelt(\x20float\x20dotNV,\x20float\x20dotNL\x20)\x20{\x0a\x09return\x20saturate(\x201.0\x20/\x20(\x204.0\x20*\x20(\x20dotNL\x20+\x20dotNV\x20-\x20dotNL\x20*\x20dotNV\x20)\x20)\x20);\x0a}\x0avec3\x20BRDF_Sheen(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20vec3\x20sheenColor,\x20const\x20in\x20float\x20sheenRoughness\x20)\x20{\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20D\x20=\x20D_Charlie(\x20sheenRoughness,\x20dotNH\x20);\x0a\x09float\x20V\x20=\x20V_Neubelt(\x20dotNV,\x20dotNL\x20);\x0a\x09return\x20sheenColor\x20*\x20(\x20D\x20*\x20V\x20);\x0a}\x0a#endif\x0afloat\x20IBLSheenBRDF(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20r2\x20=\x20roughness\x20*\x20roughness;\x0a\x09float\x20a\x20=\x20roughness\x20<\x200.25\x20?\x20-339.2\x20*\x20r2\x20+\x20161.4\x20*\x20roughness\x20-\x2025.9\x20:\x20-8.48\x20*\x20r2\x20+\x2014.3\x20*\x20roughness\x20-\x209.95;\x0a\x09float\x20b\x20=\x20roughness\x20<\x200.25\x20?\x2044.0\x20*\x20r2\x20-\x2023.7\x20*\x20roughness\x20+\x203.26\x20:\x201.97\x20*\x20r2\x20-\x203.27\x20*\x20roughness\x20+\x200.72;\x0a\x09float\x20DG\x20=\x20exp(\x20a\x20*\x20dotNV\x20+\x20b\x20)\x20+\x20(\x20roughness\x20<\x200.25\x20?\x200.0\x20:\x200.1\x20*\x20(\x20roughness\x20-\x200.25\x20)\x20);\x0a\x09return\x20saturate(\x20DG\x20*\x20RECIPROCAL_PI\x20);\x0a}\x0avec2\x20DFGApprox(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09const\x20vec4\x20c0\x20=\x20vec4(\x20-\x201,\x20-\x200.0275,\x20-\x200.572,\x200.022\x20);\x0a\x09const\x20vec4\x20c1\x20=\x20vec4(\x201,\x200.0425,\x201.04,\x20-\x200.04\x20);\x0a\x09vec4\x20r\x20=\x20roughness\x20*\x20c0\x20+\x20c1;\x0a\x09float\x20a004\x20=\x20min(\x20r.x\x20*\x20r.x,\x20exp2(\x20-\x209.28\x20*\x20dotNV\x20)\x20)\x20*\x20r.x\x20+\x20r.y;\x0a\x09vec2\x20fab\x20=\x20vec2(\x20-\x201.04,\x201.04\x20)\x20*\x20a004\x20+\x20r.zw;\x0a\x09return\x20fab;\x0a}\x0avec3\x20EnvironmentBRDF(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09vec2\x20fab\x20=\x20DFGApprox(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09return\x20specularColor\x20*\x20fab.x\x20+\x20specularF90\x20*\x20fab.y;\x0a}\x0a#ifdef\x20USE_IRIDESCENCE\x0avoid\x20computeMultiscatteringIridescence(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20iridescence,\x20const\x20in\x20vec3\x20iridescenceF0,\x20const\x20in\x20float\x20roughness,\x20inout\x20vec3\x20singleScatter,\x20inout\x20vec3\x20multiScatter\x20)\x20{\x0a#else\x0avoid\x20computeMultiscattering(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20roughness,\x20inout\x20vec3\x20singleScatter,\x20inout\x20vec3\x20multiScatter\x20)\x20{\x0a#endif\x0a\x09vec2\x20fab\x20=\x20DFGApprox(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09vec3\x20Fr\x20=\x20mix(\x20specularColor,\x20iridescenceF0,\x20iridescence\x20);\x0a\x09#else\x0a\x09\x09vec3\x20Fr\x20=\x20specularColor;\x0a\x09#endif\x0a\x09vec3\x20FssEss\x20=\x20Fr\x20*\x20fab.x\x20+\x20specularF90\x20*\x20fab.y;\x0a\x09float\x20Ess\x20=\x20fab.x\x20+\x20fab.y;\x0a\x09float\x20Ems\x20=\x201.0\x20-\x20Ess;\x0a\x09vec3\x20Favg\x20=\x20Fr\x20+\x20(\x201.0\x20-\x20Fr\x20)\x20*\x200.047619;\x09vec3\x20Fms\x20=\x20FssEss\x20*\x20Favg\x20/\x20(\x201.0\x20-\x20Ems\x20*\x20Favg\x20);\x0a\x09singleScatter\x20+=\x20FssEss;\x0a\x09multiScatter\x20+=\x20Fms\x20*\x20Ems;\x0a}\x0a#if\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x0a\x09void\x20RE_Direct_RectArea_Physical(\x20const\x20in\x20RectAreaLight\x20rectAreaLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09\x09vec3\x20normal\x20=\x20geometryNormal;\x0a\x09\x09vec3\x20viewDir\x20=\x20geometryViewDir;\x0a\x09\x09vec3\x20position\x20=\x20geometryPosition;\x0a\x09\x09vec3\x20lightPos\x20=\x20rectAreaLight.position;\x0a\x09\x09vec3\x20halfWidth\x20=\x20rectAreaLight.halfWidth;\x0a\x09\x09vec3\x20halfHeight\x20=\x20rectAreaLight.halfHeight;\x0a\x09\x09vec3\x20lightColor\x20=\x20rectAreaLight.color;\x0a\x09\x09float\x20roughness\x20=\x20material.roughness;\x0a\x09\x09vec3\x20rectCoords[\x204\x20];\x0a\x09\x09rectCoords[\x200\x20]\x20=\x20lightPos\x20+\x20halfWidth\x20-\x20halfHeight;\x09\x09rectCoords[\x201\x20]\x20=\x20lightPos\x20-\x20halfWidth\x20-\x20halfHeight;\x0a\x09\x09rectCoords[\x202\x20]\x20=\x20lightPos\x20-\x20halfWidth\x20+\x20halfHeight;\x0a\x09\x09rectCoords[\x203\x20]\x20=\x20lightPos\x20+\x20halfWidth\x20+\x20halfHeight;\x0a\x09\x09vec2\x20uv\x20=\x20LTC_Uv(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09\x09vec4\x20t1\x20=\x20texture2D(\x20ltc_1,\x20uv\x20);\x0a\x09\x09vec4\x20t2\x20=\x20texture2D(\x20ltc_2,\x20uv\x20);\x0a\x09\x09mat3\x20mInv\x20=\x20mat3(\x0a\x09\x09\x09vec3(\x20t1.x,\x200,\x20t1.y\x20),\x0a\x09\x09\x09vec3(\x20\x20\x20\x200,\x201,\x20\x20\x20\x200\x20),\x0a\x09\x09\x09vec3(\x20t1.z,\x200,\x20t1.w\x20)\x0a\x09\x09);\x0a\x09\x09vec3\x20fresnel\x20=\x20(\x20material.specularColor\x20*\x20t2.x\x20+\x20(\x20vec3(\x201.0\x20)\x20-\x20material.specularColor\x20)\x20*\x20t2.y\x20);\x0a\x09\x09reflectedLight.directSpecular\x20+=\x20lightColor\x20*\x20fresnel\x20*\x20LTC_Evaluate(\x20normal,\x20viewDir,\x20position,\x20mInv,\x20rectCoords\x20);\x0a\x09\x09reflectedLight.directDiffuse\x20+=\x20lightColor\x20*\x20material.diffuseColor\x20*\x20LTC_Evaluate(\x20normal,\x20viewDir,\x20position,\x20mat3(\x201.0\x20),\x20rectCoords\x20);\x0a\x09}\x0a#endif\x0avoid\x20RE_Direct_Physical(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20dotNLcc\x20=\x20saturate(\x20dot(\x20geometryClearcoatNormal,\x20directLight.direction\x20)\x20);\x0a\x09\x09vec3\x20ccIrradiance\x20=\x20dotNLcc\x20*\x20directLight.color;\x0a\x09\x09clearcoatSpecularDirect\x20+=\x20ccIrradiance\x20*\x20BRDF_GGX_Clearcoat(\x20directLight.direction,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09sheenSpecularDirect\x20+=\x20irradiance\x20*\x20BRDF_Sheen(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material.sheenColor,\x20material.sheenRoughness\x20);\x0a\x09#endif\x0a\x09reflectedLight.directSpecular\x20+=\x20irradiance\x20*\x20BRDF_GGX(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material\x20);\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Physical(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectSpecular_Physical(\x20const\x20in\x20vec3\x20radiance,\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20clearcoatRadiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight)\x20{\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09clearcoatSpecularIndirect\x20+=\x20clearcoatRadiance\x20*\x20EnvironmentBRDF(\x20geometryClearcoatNormal,\x20geometryViewDir,\x20material.clearcoatF0,\x20material.clearcoatF90,\x20material.clearcoatRoughness\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09sheenSpecularIndirect\x20+=\x20irradiance\x20*\x20material.sheenColor\x20*\x20IBLSheenBRDF(\x20geometryNormal,\x20geometryViewDir,\x20material.sheenRoughness\x20);\x0a\x09#endif\x0a\x09vec3\x20singleScattering\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20multiScattering\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20cosineWeightedIrradiance\x20=\x20irradiance\x20*\x20RECIPROCAL_PI;\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09computeMultiscatteringIridescence(\x20geometryNormal,\x20geometryViewDir,\x20material.specularColor,\x20material.specularF90,\x20material.iridescence,\x20material.iridescenceFresnel,\x20material.roughness,\x20singleScattering,\x20multiScattering\x20);\x0a\x09#else\x0a\x09\x09computeMultiscattering(\x20geometryNormal,\x20geometryViewDir,\x20material.specularColor,\x20material.specularF90,\x20material.roughness,\x20singleScattering,\x20multiScattering\x20);\x0a\x09#endif\x0a\x09vec3\x20totalScattering\x20=\x20singleScattering\x20+\x20multiScattering;\x0a\x09vec3\x20diffuse\x20=\x20material.diffuseColor\x20*\x20(\x201.0\x20-\x20max(\x20max(\x20totalScattering.r,\x20totalScattering.g\x20),\x20totalScattering.b\x20)\x20);\x0a\x09reflectedLight.indirectSpecular\x20+=\x20radiance\x20*\x20singleScattering;\x0a\x09reflectedLight.indirectSpecular\x20+=\x20multiScattering\x20*\x20cosineWeightedIrradiance;\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20diffuse\x20*\x20cosineWeightedIrradiance;\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Physical\x0a#define\x20RE_Direct_RectArea\x09\x09RE_Direct_RectArea_Physical\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Physical\x0a#define\x20RE_IndirectSpecular\x09\x09RE_IndirectSpecular_Physical\x0afloat\x20computeSpecularOcclusion(\x20const\x20in\x20float\x20dotNV,\x20const\x20in\x20float\x20ambientOcclusion,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09return\x20saturate(\x20pow(\x20dotNV\x20+\x20ambientOcclusion,\x20exp2(\x20-\x2016.0\x20*\x20roughness\x20-\x201.0\x20)\x20)\x20-\x201.0\x20+\x20ambientOcclusion\x20);\x0a}','lights_fragment_begin':'\x0avec3\x20geometryPosition\x20=\x20-\x20vViewPosition;\x0avec3\x20geometryNormal\x20=\x20normal;\x0avec3\x20geometryViewDir\x20=\x20(\x20isOrthographic\x20)\x20?\x20vec3(\x200,\x200,\x201\x20)\x20:\x20normalize(\x20vViewPosition\x20);\x0avec3\x20geometryClearcoatNormal\x20=\x20vec3(\x200.0\x20);\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09geometryClearcoatNormal\x20=\x20clearcoatNormal;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09float\x20dotNVi\x20=\x20saturate(\x20dot(\x20normal,\x20geometryViewDir\x20)\x20);\x0a\x09if\x20(\x20material.iridescenceThickness\x20==\x200.0\x20)\x20{\x0a\x09\x09material.iridescence\x20=\x200.0;\x0a\x09}\x20else\x20{\x0a\x09\x09material.iridescence\x20=\x20saturate(\x20material.iridescence\x20);\x0a\x09}\x0a\x09if\x20(\x20material.iridescence\x20>\x200.0\x20)\x20{\x0a\x09\x09material.iridescenceFresnel\x20=\x20evalIridescence(\x201.0,\x20material.iridescenceIOR,\x20dotNVi,\x20material.iridescenceThickness,\x20material.specularColor\x20);\x0a\x09\x09material.iridescenceF0\x20=\x20Schlick_to_F0(\x20material.iridescenceFresnel,\x201.0,\x20dotNVi\x20);\x0a\x09}\x0a#endif\x0aIncidentLight\x20directLight;\x0a#if\x20(\x20NUM_POINT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09PointLight\x20pointLight;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09PointLightShadow\x20pointLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09pointLight\x20=\x20pointLights[\x20i\x20];\x0a\x09\x09getPointLightInfo(\x20pointLight,\x20geometryPosition,\x20directLight\x20);\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_POINT_LIGHT_SHADOWS\x20)\x0a\x09\x09pointLightShadow\x20=\x20pointLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLightShadow.shadowMapSize,\x20pointLightShadow.shadowIntensity,\x20pointLightShadow.shadowBias,\x20pointLightShadow.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLightShadow.shadowCameraNear,\x20pointLightShadow.shadowCameraFar\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_SPOT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09SpotLight\x20spotLight;\x0a\x09vec4\x20spotColor;\x0a\x09vec3\x20spotLightCoord;\x0a\x09bool\x20inSpotLightMap;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09SpotLightShadow\x20spotLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09spotLight\x20=\x20spotLights[\x20i\x20];\x0a\x09\x09getSpotLightInfo(\x20spotLight,\x20geometryPosition,\x20directLight\x20);\x0a\x09\x09#if\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS\x20)\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20UNROLLED_LOOP_INDEX\x0a\x09\x09#elif\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20NUM_SPOT_LIGHT_MAPS\x0a\x09\x09#else\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20(\x20UNROLLED_LOOP_INDEX\x20-\x20NUM_SPOT_LIGHT_SHADOWS\x20+\x20NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS\x20)\x0a\x09\x09#endif\x0a\x09\x09#if\x20(\x20SPOT_LIGHT_MAP_INDEX\x20<\x20NUM_SPOT_LIGHT_MAPS\x20)\x0a\x09\x09\x09spotLightCoord\x20=\x20vSpotLightCoord[\x20i\x20].xyz\x20/\x20vSpotLightCoord[\x20i\x20].w;\x0a\x09\x09\x09inSpotLightMap\x20=\x20all(\x20lessThan(\x20abs(\x20spotLightCoord\x20*\x202.\x20-\x201.\x20),\x20vec3(\x201.0\x20)\x20)\x20);\x0a\x09\x09\x09spotColor\x20=\x20texture2D(\x20spotLightMap[\x20SPOT_LIGHT_MAP_INDEX\x20],\x20spotLightCoord.xy\x20);\x0a\x09\x09\x09directLight.color\x20=\x20inSpotLightMap\x20?\x20directLight.color\x20*\x20spotColor.rgb\x20:\x20directLight.color;\x0a\x09\x09#endif\x0a\x09\x09#undef\x20SPOT_LIGHT_MAP_INDEX\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09spotLightShadow\x20=\x20spotLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLightShadow.shadowMapSize,\x20spotLightShadow.shadowIntensity,\x20spotLightShadow.shadowBias,\x20spotLightShadow.shadowRadius,\x20vSpotLightCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_DIR_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09DirectionalLight\x20directionalLight;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09DirectionalLightShadow\x20directionalLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09directionalLight\x20=\x20directionalLights[\x20i\x20];\x0a\x09\x09getDirectionalLightInfo(\x20directionalLight,\x20directLight\x20);\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_DIR_LIGHT_SHADOWS\x20)\x0a\x09\x09directionalLightShadow\x20=\x20directionalLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLightShadow.shadowMapSize,\x20directionalLightShadow.shadowIntensity,\x20directionalLightShadow.shadowBias,\x20directionalLightShadow.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct_RectArea\x20)\x0a\x09RectAreaLight\x20rectAreaLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_RECT_AREA_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09rectAreaLight\x20=\x20rectAreaLights[\x20i\x20];\x0a\x09\x09RE_Direct_RectArea(\x20rectAreaLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09vec3\x20iblIrradiance\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20irradiance\x20=\x20getAmbientLightIrradiance(\x20ambientLightColor\x20);\x0a\x09#if\x20defined(\x20USE_LIGHT_PROBES\x20)\x0a\x09\x09irradiance\x20+=\x20getLightProbeIrradiance(\x20lightProbe,\x20geometryNormal\x20);\x0a\x09#endif\x0a\x09#if\x20(\x20NUM_HEMI_LIGHTS\x20>\x200\x20)\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_HEMI_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09irradiance\x20+=\x20getHemisphereLightIrradiance(\x20hemisphereLights[\x20i\x20],\x20geometryNormal\x20);\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09vec3\x20radiance\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20clearcoatRadiance\x20=\x20vec3(\x200.0\x20);\x0a#endif','lights_fragment_maps':'#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09#ifdef\x20USE_LIGHTMAP\x0a\x09\x09vec4\x20lightMapTexel\x20=\x20texture2D(\x20lightMap,\x20vLightMapUv\x20);\x0a\x09\x09vec3\x20lightMapIrradiance\x20=\x20lightMapTexel.rgb\x20*\x20lightMapIntensity;\x0a\x09\x09irradiance\x20+=\x20lightMapIrradiance;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20STANDARD\x20)\x20&&\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09\x09iblIrradiance\x20+=\x20getIBLIrradiance(\x20geometryNormal\x20);\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09radiance\x20+=\x20getIBLAnisotropyRadiance(\x20geometryViewDir,\x20geometryNormal,\x20material.roughness,\x20material.anisotropyB,\x20material.anisotropy\x20);\x0a\x09#else\x0a\x09\x09radiance\x20+=\x20getIBLRadiance(\x20geometryViewDir,\x20geometryNormal,\x20material.roughness\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09clearcoatRadiance\x20+=\x20getIBLRadiance(\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material.clearcoatRoughness\x20);\x0a\x09#endif\x0a#endif','lights_fragment_end':'#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09RE_IndirectDiffuse(\x20irradiance,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a#endif\x0a#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09RE_IndirectSpecular(\x20radiance,\x20iblIrradiance,\x20clearcoatRadiance,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a#endif','logdepthbuf_fragment':'#if\x20defined(\x20USE_LOGDEPTHBUF\x20)\x0a\x09gl_FragDepth\x20=\x20vIsPerspective\x20==\x200.0\x20?\x20gl_FragCoord.z\x20:\x20log2(\x20vFragDepth\x20)\x20*\x20logDepthBufFC\x20*\x200.5;\x0a#endif','logdepthbuf_pars_fragment':'#if\x20defined(\x20USE_LOGDEPTHBUF\x20)\x0a\x09uniform\x20float\x20logDepthBufFC;\x0a\x09varying\x20float\x20vFragDepth;\x0a\x09varying\x20float\x20vIsPerspective;\x0a#endif','logdepthbuf_pars_vertex':'#ifdef\x20USE_LOGDEPTHBUF\x0a\x09varying\x20float\x20vFragDepth;\x0a\x09varying\x20float\x20vIsPerspective;\x0a#endif','logdepthbuf_vertex':'#ifdef\x20USE_LOGDEPTHBUF\x0a\x09vFragDepth\x20=\x201.0\x20+\x20gl_Position.w;\x0a\x09vIsPerspective\x20=\x20float(\x20isPerspectiveMatrix(\x20projectionMatrix\x20)\x20);\x0a#endif','map_fragment':'#ifdef\x20USE_MAP\x0a\x09vec4\x20sampledDiffuseColor\x20=\x20texture2D(\x20map,\x20vMapUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE\x0a\x09\x09sampledDiffuseColor\x20=\x20sRGBTransferEOTF(\x20sampledDiffuseColor\x20);\x0a\x09#endif\x0a\x09diffuseColor\x20*=\x20sampledDiffuseColor;\x0a#endif','map_pars_fragment':'#ifdef\x20USE_MAP\x0a\x09uniform\x20sampler2D\x20map;\x0a#endif','map_particle_fragment':'#if\x20defined(\x20USE_MAP\x20)\x20||\x20defined(\x20USE_ALPHAMAP\x20)\x0a\x09#if\x20defined(\x20USE_POINTS_UV\x20)\x0a\x09\x09vec2\x20uv\x20=\x20vUv;\x0a\x09#else\x0a\x09\x09vec2\x20uv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20gl_PointCoord.x,\x201.0\x20-\x20gl_PointCoord.y,\x201\x20)\x20).xy;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09diffuseColor\x20*=\x20texture2D(\x20map,\x20uv\x20);\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09diffuseColor.a\x20*=\x20texture2D(\x20alphaMap,\x20uv\x20).g;\x0a#endif','map_particle_pars_fragment':'#if\x20defined(\x20USE_POINTS_UV\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#else\x0a\x09#if\x20defined(\x20USE_MAP\x20)\x20||\x20defined(\x20USE_ALPHAMAP\x20)\x0a\x09\x09uniform\x20mat3\x20uvTransform;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09uniform\x20sampler2D\x20map;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20sampler2D\x20alphaMap;\x0a#endif','metalnessmap_fragment':'float\x20metalnessFactor\x20=\x20metalness;\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09vec4\x20texelMetalness\x20=\x20texture2D(\x20metalnessMap,\x20vMetalnessMapUv\x20);\x0a\x09metalnessFactor\x20*=\x20texelMetalness.b;\x0a#endif','metalnessmap_pars_fragment':'#ifdef\x20USE_METALNESSMAP\x0a\x09uniform\x20sampler2D\x20metalnessMap;\x0a#endif','morphinstance_vertex':'#ifdef\x20USE_INSTANCING_MORPH\x0a\x09float\x20morphTargetInfluences[\x20MORPHTARGETS_COUNT\x20];\x0a\x09float\x20morphTargetBaseInfluence\x20=\x20texelFetch(\x20morphTexture,\x20ivec2(\x200,\x20gl_InstanceID\x20),\x200\x20).r;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09morphTargetInfluences[i]\x20=\x20\x20texelFetch(\x20morphTexture,\x20ivec2(\x20i\x20+\x201,\x20gl_InstanceID\x20),\x200\x20).r;\x0a\x09}\x0a#endif','morphcolor_vertex':'#if\x20defined(\x20USE_MORPHCOLORS\x20)\x0a\x09vColor\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20vColor\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x202\x20)\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09\x09#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20vColor\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x202\x20).rgb\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09\x09#endif\x0a\x09}\x0a#endif','morphnormal_vertex':'#ifdef\x20USE_MORPHNORMALS\x0a\x09objectNormal\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20objectNormal\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x201\x20).xyz\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09}\x0a#endif','morphtarget_pars_vertex':'#ifdef\x20USE_MORPHTARGETS\x0a\x09#ifndef\x20USE_INSTANCING_MORPH\x0a\x09\x09uniform\x20float\x20morphTargetBaseInfluence;\x0a\x09\x09uniform\x20float\x20morphTargetInfluences[\x20MORPHTARGETS_COUNT\x20];\x0a\x09#endif\x0a\x09uniform\x20sampler2DArray\x20morphTargetsTexture;\x0a\x09uniform\x20ivec2\x20morphTargetsTextureSize;\x0a\x09vec4\x20getMorph(\x20const\x20in\x20int\x20vertexIndex,\x20const\x20in\x20int\x20morphTargetIndex,\x20const\x20in\x20int\x20offset\x20)\x20{\x0a\x09\x09int\x20texelIndex\x20=\x20vertexIndex\x20*\x20MORPHTARGETS_TEXTURE_STRIDE\x20+\x20offset;\x0a\x09\x09int\x20y\x20=\x20texelIndex\x20/\x20morphTargetsTextureSize.x;\x0a\x09\x09int\x20x\x20=\x20texelIndex\x20-\x20y\x20*\x20morphTargetsTextureSize.x;\x0a\x09\x09ivec3\x20morphUV\x20=\x20ivec3(\x20x,\x20y,\x20morphTargetIndex\x20);\x0a\x09\x09return\x20texelFetch(\x20morphTargetsTexture,\x20morphUV,\x200\x20);\x0a\x09}\x0a#endif','morphtarget_vertex':'#ifdef\x20USE_MORPHTARGETS\x0a\x09transformed\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20transformed\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x200\x20).xyz\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09}\x0a#endif','normal_fragment_begin':'float\x20faceDirection\x20=\x20gl_FrontFacing\x20?\x201.0\x20:\x20-\x201.0;\x0a#ifdef\x20FLAT_SHADED\x0a\x09vec3\x20fdx\x20=\x20dFdx(\x20vViewPosition\x20);\x0a\x09vec3\x20fdy\x20=\x20dFdy(\x20vViewPosition\x20);\x0a\x09vec3\x20normal\x20=\x20normalize(\x20cross(\x20fdx,\x20fdy\x20)\x20);\x0a#else\x0a\x09vec3\x20normal\x20=\x20normalize(\x20vNormal\x20);\x0a\x09#ifdef\x20DOUBLE_SIDED\x0a\x09\x09normal\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x20||\x20defined(\x20USE_CLEARCOAT_NORMALMAP\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09mat3\x20tbn\x20=\x20mat3(\x20normalize(\x20vTangent\x20),\x20normalize(\x20vBitangent\x20),\x20normal\x20);\x0a\x09#else\x0a\x09\x09mat3\x20tbn\x20=\x20getTangentFrame(\x20-\x20vViewPosition,\x20normal,\x0a\x09\x09#if\x20defined(\x20USE_NORMALMAP\x20)\x0a\x09\x09\x09vNormalMapUv\x0a\x09\x09#elif\x20defined(\x20USE_CLEARCOAT_NORMALMAP\x20)\x0a\x09\x09\x09vClearcoatNormalMapUv\x0a\x09\x09#else\x0a\x09\x09\x09vUv\x0a\x09\x09#endif\x0a\x09\x09);\x0a\x09#endif\x0a\x09#if\x20defined(\x20DOUBLE_SIDED\x20)\x20&&\x20!\x20defined(\x20FLAT_SHADED\x20)\x0a\x09\x09tbn[0]\x20*=\x20faceDirection;\x0a\x09\x09tbn[1]\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09mat3\x20tbn2\x20=\x20mat3(\x20normalize(\x20vTangent\x20),\x20normalize(\x20vBitangent\x20),\x20normal\x20);\x0a\x09#else\x0a\x09\x09mat3\x20tbn2\x20=\x20getTangentFrame(\x20-\x20vViewPosition,\x20normal,\x20vClearcoatNormalMapUv\x20);\x0a\x09#endif\x0a\x09#if\x20defined(\x20DOUBLE_SIDED\x20)\x20&&\x20!\x20defined(\x20FLAT_SHADED\x20)\x0a\x09\x09tbn2[0]\x20*=\x20faceDirection;\x0a\x09\x09tbn2[1]\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0avec3\x20nonPerturbedNormal\x20=\x20normal;','normal_fragment_maps':'#ifdef\x20USE_NORMALMAP_OBJECTSPACE\x0a\x09normal\x20=\x20texture2D(\x20normalMap,\x20vNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09#ifdef\x20FLIP_SIDED\x0a\x09\x09normal\x20=\x20-\x20normal;\x0a\x09#endif\x0a\x09#ifdef\x20DOUBLE_SIDED\x0a\x09\x09normal\x20=\x20normal\x20*\x20faceDirection;\x0a\x09#endif\x0a\x09normal\x20=\x20normalize(\x20normalMatrix\x20*\x20normal\x20);\x0a#elif\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09vec3\x20mapN\x20=\x20texture2D(\x20normalMap,\x20vNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09mapN.xy\x20*=\x20normalScale;\x0a\x09normal\x20=\x20normalize(\x20tbn\x20*\x20mapN\x20);\x0a#elif\x20defined(\x20USE_BUMPMAP\x20)\x0a\x09normal\x20=\x20perturbNormalArb(\x20-\x20vViewPosition,\x20normal,\x20dHdxy_fwd(),\x20faceDirection\x20);\x0a#endif','normal_pars_fragment':'#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09varying\x20vec3\x20vTangent;\x0a\x09\x09varying\x20vec3\x20vBitangent;\x0a\x09#endif\x0a#endif','normal_pars_vertex':'#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09varying\x20vec3\x20vTangent;\x0a\x09\x09varying\x20vec3\x20vBitangent;\x0a\x09#endif\x0a#endif','normal_vertex':'#ifndef\x20FLAT_SHADED\x0a\x09vNormal\x20=\x20normalize(\x20transformedNormal\x20);\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09vTangent\x20=\x20normalize(\x20transformedTangent\x20);\x0a\x09\x09vBitangent\x20=\x20normalize(\x20cross(\x20vNormal,\x20vTangent\x20)\x20*\x20tangent.w\x20);\x0a\x09#endif\x0a#endif','normalmap_pars_fragment':'#ifdef\x20USE_NORMALMAP\x0a\x09uniform\x20sampler2D\x20normalMap;\x0a\x09uniform\x20vec2\x20normalScale;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP_OBJECTSPACE\x0a\x09uniform\x20mat3\x20normalMatrix;\x0a#endif\x0a#if\x20!\x20defined\x20(\x20USE_TANGENT\x20)\x20&&\x20(\x20defined\x20(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x20||\x20defined\x20(\x20USE_CLEARCOAT_NORMALMAP\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x20)\x0a\x09mat3\x20getTangentFrame(\x20vec3\x20eye_pos,\x20vec3\x20surf_norm,\x20vec2\x20uv\x20)\x20{\x0a\x09\x09vec3\x20q0\x20=\x20dFdx(\x20eye_pos.xyz\x20);\x0a\x09\x09vec3\x20q1\x20=\x20dFdy(\x20eye_pos.xyz\x20);\x0a\x09\x09vec2\x20st0\x20=\x20dFdx(\x20uv.st\x20);\x0a\x09\x09vec2\x20st1\x20=\x20dFdy(\x20uv.st\x20);\x0a\x09\x09vec3\x20N\x20=\x20surf_norm;\x0a\x09\x09vec3\x20q1perp\x20=\x20cross(\x20q1,\x20N\x20);\x0a\x09\x09vec3\x20q0perp\x20=\x20cross(\x20N,\x20q0\x20);\x0a\x09\x09vec3\x20T\x20=\x20q1perp\x20*\x20st0.x\x20+\x20q0perp\x20*\x20st1.x;\x0a\x09\x09vec3\x20B\x20=\x20q1perp\x20*\x20st0.y\x20+\x20q0perp\x20*\x20st1.y;\x0a\x09\x09float\x20det\x20=\x20max(\x20dot(\x20T,\x20T\x20),\x20dot(\x20B,\x20B\x20)\x20);\x0a\x09\x09float\x20scale\x20=\x20(\x20det\x20==\x200.0\x20)\x20?\x200.0\x20:\x20inversesqrt(\x20det\x20);\x0a\x09\x09return\x20mat3(\x20T\x20*\x20scale,\x20B\x20*\x20scale,\x20N\x20);\x0a\x09}\x0a#endif','clearcoat_normal_fragment_begin':'#ifdef\x20USE_CLEARCOAT\x0a\x09vec3\x20clearcoatNormal\x20=\x20nonPerturbedNormal;\x0a#endif','clearcoat_normal_fragment_maps':'#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09vec3\x20clearcoatMapN\x20=\x20texture2D(\x20clearcoatNormalMap,\x20vClearcoatNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09clearcoatMapN.xy\x20*=\x20clearcoatNormalScale;\x0a\x09clearcoatNormal\x20=\x20normalize(\x20tbn2\x20*\x20clearcoatMapN\x20);\x0a#endif','clearcoat_pars_fragment':'#ifdef\x20USE_CLEARCOATMAP\x0a\x09uniform\x20sampler2D\x20clearcoatMap;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09uniform\x20sampler2D\x20clearcoatNormalMap;\x0a\x09uniform\x20vec2\x20clearcoatNormalScale;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09uniform\x20sampler2D\x20clearcoatRoughnessMap;\x0a#endif','iridescence_pars_fragment':'#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09uniform\x20sampler2D\x20iridescenceMap;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09uniform\x20sampler2D\x20iridescenceThicknessMap;\x0a#endif','opaque_fragment':'#ifdef\x20OPAQUE\x0adiffuseColor.a\x20=\x201.0;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSION\x0adiffuseColor.a\x20*=\x20material.transmissionAlpha;\x0a#endif\x0agl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);','packing':'vec3\x20packNormalToRGB(\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09return\x20normalize(\x20normal\x20)\x20*\x200.5\x20+\x200.5;\x0a}\x0avec3\x20unpackRGBToNormal(\x20const\x20in\x20vec3\x20rgb\x20)\x20{\x0a\x09return\x202.0\x20*\x20rgb.xyz\x20-\x201.0;\x0a}\x0aconst\x20float\x20PackUpscale\x20=\x20256.\x20/\x20255.;const\x20float\x20UnpackDownscale\x20=\x20255.\x20/\x20256.;const\x20float\x20ShiftRight8\x20=\x201.\x20/\x20256.;\x0aconst\x20float\x20Inv255\x20=\x201.\x20/\x20255.;\x0aconst\x20vec4\x20PackFactors\x20=\x20vec4(\x201.0,\x20256.0,\x20256.0\x20*\x20256.0,\x20256.0\x20*\x20256.0\x20*\x20256.0\x20);\x0aconst\x20vec2\x20UnpackFactors2\x20=\x20vec2(\x20UnpackDownscale,\x201.0\x20/\x20PackFactors.g\x20);\x0aconst\x20vec3\x20UnpackFactors3\x20=\x20vec3(\x20UnpackDownscale\x20/\x20PackFactors.rg,\x201.0\x20/\x20PackFactors.b\x20);\x0aconst\x20vec4\x20UnpackFactors4\x20=\x20vec4(\x20UnpackDownscale\x20/\x20PackFactors.rgb,\x201.0\x20/\x20PackFactors.a\x20);\x0avec4\x20packDepthToRGBA(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec4(\x200.,\x200.,\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec4(\x201.,\x201.,\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20af\x20=\x20modf(\x20v\x20*\x20PackFactors.a,\x20vuf\x20);\x0a\x09float\x20bf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09float\x20gf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09return\x20vec4(\x20vuf\x20*\x20Inv255,\x20gf\x20*\x20PackUpscale,\x20bf\x20*\x20PackUpscale,\x20af\x20);\x0a}\x0avec3\x20packDepthToRGB(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec3(\x200.,\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec3(\x201.,\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20bf\x20=\x20modf(\x20v\x20*\x20PackFactors.b,\x20vuf\x20);\x0a\x09float\x20gf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09return\x20vec3(\x20vuf\x20*\x20Inv255,\x20gf\x20*\x20PackUpscale,\x20bf\x20);\x0a}\x0avec2\x20packDepthToRG(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec2(\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec2(\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20gf\x20=\x20modf(\x20v\x20*\x20256.,\x20vuf\x20);\x0a\x09return\x20vec2(\x20vuf\x20*\x20Inv255,\x20gf\x20);\x0a}\x0afloat\x20unpackRGBAToDepth(\x20const\x20in\x20vec4\x20v\x20)\x20{\x0a\x09return\x20dot(\x20v,\x20UnpackFactors4\x20);\x0a}\x0afloat\x20unpackRGBToDepth(\x20const\x20in\x20vec3\x20v\x20)\x20{\x0a\x09return\x20dot(\x20v,\x20UnpackFactors3\x20);\x0a}\x0afloat\x20unpackRGToDepth(\x20const\x20in\x20vec2\x20v\x20)\x20{\x0a\x09return\x20v.r\x20*\x20UnpackFactors2.r\x20+\x20v.g\x20*\x20UnpackFactors2.g;\x0a}\x0avec4\x20pack2HalfToRGBA(\x20const\x20in\x20vec2\x20v\x20)\x20{\x0a\x09vec4\x20r\x20=\x20vec4(\x20v.x,\x20fract(\x20v.x\x20*\x20255.0\x20),\x20v.y,\x20fract(\x20v.y\x20*\x20255.0\x20)\x20);\x0a\x09return\x20vec4(\x20r.x\x20-\x20r.y\x20/\x20255.0,\x20r.y,\x20r.z\x20-\x20r.w\x20/\x20255.0,\x20r.w\x20);\x0a}\x0avec2\x20unpackRGBATo2Half(\x20const\x20in\x20vec4\x20v\x20)\x20{\x0a\x09return\x20vec2(\x20v.x\x20+\x20(\x20v.y\x20/\x20255.0\x20),\x20v.z\x20+\x20(\x20v.w\x20/\x20255.0\x20)\x20);\x0a}\x0afloat\x20viewZToOrthographicDepth(\x20const\x20in\x20float\x20viewZ,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20viewZ\x20+\x20near\x20)\x20/\x20(\x20near\x20-\x20far\x20);\x0a}\x0afloat\x20orthographicDepthToViewZ(\x20const\x20in\x20float\x20depth,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20depth\x20*\x20(\x20near\x20-\x20far\x20)\x20-\x20near;\x0a}\x0afloat\x20viewZToPerspectiveDepth(\x20const\x20in\x20float\x20viewZ,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20(\x20near\x20+\x20viewZ\x20)\x20*\x20far\x20)\x20/\x20(\x20(\x20far\x20-\x20near\x20)\x20*\x20viewZ\x20);\x0a}\x0afloat\x20perspectiveDepthToViewZ(\x20const\x20in\x20float\x20depth,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20near\x20*\x20far\x20)\x20/\x20(\x20(\x20far\x20-\x20near\x20)\x20*\x20depth\x20-\x20far\x20);\x0a}','premultiplied_alpha_fragment':'#ifdef\x20PREMULTIPLIED_ALPHA\x0a\x09gl_FragColor.rgb\x20*=\x20gl_FragColor.a;\x0a#endif','project_vertex':'vec4\x20mvPosition\x20=\x20vec4(\x20transformed,\x201.0\x20);\x0a#ifdef\x20USE_BATCHING\x0a\x09mvPosition\x20=\x20batchingMatrix\x20*\x20mvPosition;\x0a#endif\x0a#ifdef\x20USE_INSTANCING\x0a\x09mvPosition\x20=\x20instanceMatrix\x20*\x20mvPosition;\x0a#endif\x0amvPosition\x20=\x20modelViewMatrix\x20*\x20mvPosition;\x0agl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;','dithering_fragment':'#ifdef\x20DITHERING\x0a\x09gl_FragColor.rgb\x20=\x20dithering(\x20gl_FragColor.rgb\x20);\x0a#endif','dithering_pars_fragment':'#ifdef\x20DITHERING\x0a\x09vec3\x20dithering(\x20vec3\x20color\x20)\x20{\x0a\x09\x09float\x20grid_position\x20=\x20rand(\x20gl_FragCoord.xy\x20);\x0a\x09\x09vec3\x20dither_shift_RGB\x20=\x20vec3(\x200.25\x20/\x20255.0,\x20-0.25\x20/\x20255.0,\x200.25\x20/\x20255.0\x20);\x0a\x09\x09dither_shift_RGB\x20=\x20mix(\x202.0\x20*\x20dither_shift_RGB,\x20-2.0\x20*\x20dither_shift_RGB,\x20grid_position\x20);\x0a\x09\x09return\x20color\x20+\x20dither_shift_RGB;\x0a\x09}\x0a#endif','roughnessmap_fragment':'float\x20roughnessFactor\x20=\x20roughness;\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09vec4\x20texelRoughness\x20=\x20texture2D(\x20roughnessMap,\x20vRoughnessMapUv\x20);\x0a\x09roughnessFactor\x20*=\x20texelRoughness.g;\x0a#endif','roughnessmap_pars_fragment':'#ifdef\x20USE_ROUGHNESSMAP\x0a\x09uniform\x20sampler2D\x20roughnessMap;\x0a#endif','shadowmap_pars_fragment':'#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09varying\x20vec4\x20vSpotLightCoord[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a#endif\x0a#if\x20NUM_SPOT_LIGHT_MAPS\x20>\x200\x0a\x09uniform\x20sampler2D\x20spotLightMap[\x20NUM_SPOT_LIGHT_MAPS\x20];\x0a#endif\x0a#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20directionalShadowMap[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vDirectionalShadowCoord[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20DirectionalLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20DirectionalLightShadow\x20directionalLightShadows[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20spotShadowMap[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20SpotLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20SpotLightShadow\x20spotLightShadows[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20pointShadowMap[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vPointShadowCoord[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20PointLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09\x09float\x20shadowCameraNear;\x0a\x09\x09\x09float\x20shadowCameraFar;\x0a\x09\x09};\x0a\x09\x09uniform\x20PointLightShadow\x20pointLightShadows[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09float\x20texture2DCompare(\x20sampler2D\x20depths,\x20vec2\x20uv,\x20float\x20compare\x20)\x20{\x0a\x09\x09return\x20step(\x20compare,\x20unpackRGBAToDepth(\x20texture2D(\x20depths,\x20uv\x20)\x20)\x20);\x0a\x09}\x0a\x09vec2\x20texture2DDistribution(\x20sampler2D\x20shadow,\x20vec2\x20uv\x20)\x20{\x0a\x09\x09return\x20unpackRGBATo2Half(\x20texture2D(\x20shadow,\x20uv\x20)\x20);\x0a\x09}\x0a\x09float\x20VSMShadow\x20(sampler2D\x20shadow,\x20vec2\x20uv,\x20float\x20compare\x20){\x0a\x09\x09float\x20occlusion\x20=\x201.0;\x0a\x09\x09vec2\x20distribution\x20=\x20texture2DDistribution(\x20shadow,\x20uv\x20);\x0a\x09\x09float\x20hard_shadow\x20=\x20step(\x20compare\x20,\x20distribution.x\x20);\x0a\x09\x09if\x20(hard_shadow\x20!=\x201.0\x20)\x20{\x0a\x09\x09\x09float\x20distance\x20=\x20compare\x20-\x20distribution.x\x20;\x0a\x09\x09\x09float\x20variance\x20=\x20max(\x200.00000,\x20distribution.y\x20*\x20distribution.y\x20);\x0a\x09\x09\x09float\x20softness_probability\x20=\x20variance\x20/\x20(variance\x20+\x20distance\x20*\x20distance\x20);\x09\x09\x09softness_probability\x20=\x20clamp(\x20(\x20softness_probability\x20-\x200.3\x20)\x20/\x20(\x200.95\x20-\x200.3\x20),\x200.0,\x201.0\x20);\x09\x09\x09occlusion\x20=\x20clamp(\x20max(\x20hard_shadow,\x20softness_probability\x20),\x200.0,\x201.0\x20);\x0a\x09\x09}\x0a\x09\x09return\x20occlusion;\x0a\x09}\x0a\x09float\x20getShadow(\x20sampler2D\x20shadowMap,\x20vec2\x20shadowMapSize,\x20float\x20shadowIntensity,\x20float\x20shadowBias,\x20float\x20shadowRadius,\x20vec4\x20shadowCoord\x20)\x20{\x0a\x09\x09float\x20shadow\x20=\x201.0;\x0a\x09\x09shadowCoord.xyz\x20/=\x20shadowCoord.w;\x0a\x09\x09shadowCoord.z\x20+=\x20shadowBias;\x0a\x09\x09bool\x20inFrustum\x20=\x20shadowCoord.x\x20>=\x200.0\x20&&\x20shadowCoord.x\x20<=\x201.0\x20&&\x20shadowCoord.y\x20>=\x200.0\x20&&\x20shadowCoord.y\x20<=\x201.0;\x0a\x09\x09bool\x20frustumTest\x20=\x20inFrustum\x20&&\x20shadowCoord.z\x20<=\x201.0;\x0a\x09\x09if\x20(\x20frustumTest\x20)\x20{\x0a\x09\x09#if\x20defined(\x20SHADOWMAP_TYPE_PCF\x20)\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20shadowMapSize;\x0a\x09\x09\x09float\x20dx0\x20=\x20-\x20texelSize.x\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dy0\x20=\x20-\x20texelSize.y\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dx1\x20=\x20+\x20texelSize.x\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dy1\x20=\x20+\x20texelSize.y\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dx2\x20=\x20dx0\x20/\x202.0;\x0a\x09\x09\x09float\x20dy2\x20=\x20dy0\x20/\x202.0;\x0a\x09\x09\x09float\x20dx3\x20=\x20dx1\x20/\x202.0;\x0a\x09\x09\x09float\x20dy3\x20=\x20dy1\x20/\x202.0;\x0a\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x20dy1\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy1\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x20dy1\x20),\x20shadowCoord.z\x20)\x0a\x09\x09\x09)\x20*\x20(\x201.0\x20/\x2017.0\x20);\x0a\x09\x09#elif\x20defined(\x20SHADOWMAP_TYPE_PCF_SOFT\x20)\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20shadowMapSize;\x0a\x09\x09\x09float\x20dx\x20=\x20texelSize.x;\x0a\x09\x09\x09float\x20dy\x20=\x20texelSize.y;\x0a\x09\x09\x09vec2\x20uv\x20=\x20shadowCoord.xy;\x0a\x09\x09\x09vec2\x20f\x20=\x20fract(\x20uv\x20*\x20shadowMapSize\x20+\x200.5\x20);\x0a\x09\x09\x09uv\x20-=\x20f\x20*\x20texelSize;\x0a\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x20dy\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20texelSize,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x200.0\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x200.0\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.x\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.x\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20f.x\x20),\x0a\x09\x09\x09\x09\x09\x20mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20f.x\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x0a\x09\x09\x09)\x20*\x20(\x201.0\x20/\x209.0\x20);\x0a\x09\x09#elif\x20defined(\x20SHADOWMAP_TYPE_VSM\x20)\x0a\x09\x09\x09shadow\x20=\x20VSMShadow(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20);\x0a\x09\x09#else\x0a\x09\x09\x09shadow\x20=\x20texture2DCompare(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20);\x0a\x09\x09#endif\x0a\x09\x09}\x0a\x09\x09return\x20mix(\x201.0,\x20shadow,\x20shadowIntensity\x20);\x0a\x09}\x0a\x09vec2\x20cubeToUV(\x20vec3\x20v,\x20float\x20texelSizeY\x20)\x20{\x0a\x09\x09vec3\x20absV\x20=\x20abs(\x20v\x20);\x0a\x09\x09float\x20scaleToCube\x20=\x201.0\x20/\x20max(\x20absV.x,\x20max(\x20absV.y,\x20absV.z\x20)\x20);\x0a\x09\x09absV\x20*=\x20scaleToCube;\x0a\x09\x09v\x20*=\x20scaleToCube\x20*\x20(\x201.0\x20-\x202.0\x20*\x20texelSizeY\x20);\x0a\x09\x09vec2\x20planar\x20=\x20v.xy;\x0a\x09\x09float\x20almostATexel\x20=\x201.5\x20*\x20texelSizeY;\x0a\x09\x09float\x20almostOne\x20=\x201.0\x20-\x20almostATexel;\x0a\x09\x09if\x20(\x20absV.z\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09if\x20(\x20v.z\x20>\x200.0\x20)\x0a\x09\x09\x09\x09planar.x\x20=\x204.0\x20-\x20v.x;\x0a\x09\x09}\x20else\x20if\x20(\x20absV.x\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09float\x20signX\x20=\x20sign(\x20v.x\x20);\x0a\x09\x09\x09planar.x\x20=\x20v.z\x20*\x20signX\x20+\x202.0\x20*\x20signX;\x0a\x09\x09}\x20else\x20if\x20(\x20absV.y\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09float\x20signY\x20=\x20sign(\x20v.y\x20);\x0a\x09\x09\x09planar.x\x20=\x20v.x\x20+\x202.0\x20*\x20signY\x20+\x202.0;\x0a\x09\x09\x09planar.y\x20=\x20v.z\x20*\x20signY\x20-\x202.0;\x0a\x09\x09}\x0a\x09\x09return\x20vec2(\x200.125,\x200.25\x20)\x20*\x20planar\x20+\x20vec2(\x200.375,\x200.75\x20);\x0a\x09}\x0a\x09float\x20getPointShadow(\x20sampler2D\x20shadowMap,\x20vec2\x20shadowMapSize,\x20float\x20shadowIntensity,\x20float\x20shadowBias,\x20float\x20shadowRadius,\x20vec4\x20shadowCoord,\x20float\x20shadowCameraNear,\x20float\x20shadowCameraFar\x20)\x20{\x0a\x09\x09float\x20shadow\x20=\x201.0;\x0a\x09\x09vec3\x20lightToPosition\x20=\x20shadowCoord.xyz;\x0a\x09\x09\x0a\x09\x09float\x20lightToPositionLength\x20=\x20length(\x20lightToPosition\x20);\x0a\x09\x09if\x20(\x20lightToPositionLength\x20-\x20shadowCameraFar\x20<=\x200.0\x20&&\x20lightToPositionLength\x20-\x20shadowCameraNear\x20>=\x200.0\x20)\x20{\x0a\x09\x09\x09float\x20dp\x20=\x20(\x20lightToPositionLength\x20-\x20shadowCameraNear\x20)\x20/\x20(\x20shadowCameraFar\x20-\x20shadowCameraNear\x20);\x09\x09\x09dp\x20+=\x20shadowBias;\x0a\x09\x09\x09vec3\x20bd3D\x20=\x20normalize(\x20lightToPosition\x20);\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20(\x20shadowMapSize\x20*\x20vec2(\x204.0,\x202.0\x20)\x20);\x0a\x09\x09\x09#if\x20defined(\x20SHADOWMAP_TYPE_PCF\x20)\x20||\x20defined(\x20SHADOWMAP_TYPE_PCF_SOFT\x20)\x20||\x20defined(\x20SHADOWMAP_TYPE_VSM\x20)\x0a\x09\x09\x09\x09vec2\x20offset\x20=\x20vec2(\x20-\x201,\x201\x20)\x20*\x20shadowRadius\x20*\x20texelSize.y;\x0a\x09\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xyy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yyy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xyx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yyx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xxy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yxy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xxx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yxx,\x20texelSize.y\x20),\x20dp\x20)\x0a\x09\x09\x09\x09)\x20*\x20(\x201.0\x20/\x209.0\x20);\x0a\x09\x09\x09#else\x0a\x09\x09\x09\x09shadow\x20=\x20texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D,\x20texelSize.y\x20),\x20dp\x20);\x0a\x09\x09\x09#endif\x0a\x09\x09}\x0a\x09\x09return\x20mix(\x201.0,\x20shadow,\x20shadowIntensity\x20);\x0a\x09}\x0a#endif','shadowmap_pars_vertex':'#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09uniform\x20mat4\x20spotLightMatrix[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a\x09varying\x20vec4\x20vSpotLightCoord[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a#endif\x0a#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20mat4\x20directionalShadowMatrix[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vDirectionalShadowCoord[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20DirectionalLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20DirectionalLightShadow\x20directionalLightShadows[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09struct\x20SpotLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20SpotLightShadow\x20spotLightShadows[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20mat4\x20pointShadowMatrix[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vPointShadowCoord[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20PointLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09\x09float\x20shadowCameraNear;\x0a\x09\x09\x09float\x20shadowCameraFar;\x0a\x09\x09};\x0a\x09\x09uniform\x20PointLightShadow\x20pointLightShadows[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a#endif','shadowmap_vertex':'#if\x20(\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x20||\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x20)\x20)\x20||\x20(\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x20)\x0a\x09vec3\x20shadowWorldNormal\x20=\x20inverseTransformDirection(\x20transformedNormal,\x20viewMatrix\x20);\x0a\x09vec4\x20shadowWorldPosition;\x0a#endif\x0a#if\x20defined(\x20USE_SHADOWMAP\x20)\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09shadowWorldPosition\x20=\x20worldPosition\x20+\x20vec4(\x20shadowWorldNormal\x20*\x20directionalLightShadows[\x20i\x20].shadowNormalBias,\x200\x20);\x0a\x09\x09\x09vDirectionalShadowCoord[\x20i\x20]\x20=\x20directionalShadowMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09shadowWorldPosition\x20=\x20worldPosition\x20+\x20vec4(\x20shadowWorldNormal\x20*\x20pointLightShadows[\x20i\x20].shadowNormalBias,\x200\x20);\x0a\x09\x09\x09vPointShadowCoord[\x20i\x20]\x20=\x20pointShadowMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a#endif\x0a#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHT_COORDS;\x20i\x20++\x20)\x20{\x0a\x09\x09shadowWorldPosition\x20=\x20worldPosition;\x0a\x09\x09#if\x20(\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09\x09shadowWorldPosition.xyz\x20+=\x20shadowWorldNormal\x20*\x20spotLightShadows[\x20i\x20].shadowNormalBias;\x0a\x09\x09#endif\x0a\x09\x09vSpotLightCoord[\x20i\x20]\x20=\x20spotLightMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif','shadowmask_pars_fragment':'float\x20getShadowMask()\x20{\x0a\x09float\x20shadow\x20=\x201.0;\x0a\x09#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09DirectionalLightShadow\x20directionalLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09directionalLight\x20=\x20directionalLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLight.shadowMapSize,\x20directionalLight.shadowIntensity,\x20directionalLight.shadowBias,\x20directionalLight.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09SpotLightShadow\x20spotLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09spotLight\x20=\x20spotLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLight.shadowMapSize,\x20spotLight.shadowIntensity,\x20spotLight.shadowBias,\x20spotLight.shadowRadius,\x20vSpotLightCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09PointLightShadow\x20pointLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09pointLight\x20=\x20pointLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLight.shadowMapSize,\x20pointLight.shadowIntensity,\x20pointLight.shadowBias,\x20pointLight.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLight.shadowCameraNear,\x20pointLight.shadowCameraFar\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#endif\x0a\x09return\x20shadow;\x0a}','skinbase_vertex':'#ifdef\x20USE_SKINNING\x0a\x09mat4\x20boneMatX\x20=\x20getBoneMatrix(\x20skinIndex.x\x20);\x0a\x09mat4\x20boneMatY\x20=\x20getBoneMatrix(\x20skinIndex.y\x20);\x0a\x09mat4\x20boneMatZ\x20=\x20getBoneMatrix(\x20skinIndex.z\x20);\x0a\x09mat4\x20boneMatW\x20=\x20getBoneMatrix(\x20skinIndex.w\x20);\x0a#endif','skinning_pars_vertex':'#ifdef\x20USE_SKINNING\x0a\x09uniform\x20mat4\x20bindMatrix;\x0a\x09uniform\x20mat4\x20bindMatrixInverse;\x0a\x09uniform\x20highp\x20sampler2D\x20boneTexture;\x0a\x09mat4\x20getBoneMatrix(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20boneTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20)\x20*\x204;\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09vec4\x20v1\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v2\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x201,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v3\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x202,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v4\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x203,\x20y\x20),\x200\x20);\x0a\x09\x09return\x20mat4(\x20v1,\x20v2,\x20v3,\x20v4\x20);\x0a\x09}\x0a#endif','skinning_vertex':'#ifdef\x20USE_SKINNING\x0a\x09vec4\x20skinVertex\x20=\x20bindMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);\x0a\x09vec4\x20skinned\x20=\x20vec4(\x200.0\x20);\x0a\x09skinned\x20+=\x20boneMatX\x20*\x20skinVertex\x20*\x20skinWeight.x;\x0a\x09skinned\x20+=\x20boneMatY\x20*\x20skinVertex\x20*\x20skinWeight.y;\x0a\x09skinned\x20+=\x20boneMatZ\x20*\x20skinVertex\x20*\x20skinWeight.z;\x0a\x09skinned\x20+=\x20boneMatW\x20*\x20skinVertex\x20*\x20skinWeight.w;\x0a\x09transformed\x20=\x20(\x20bindMatrixInverse\x20*\x20skinned\x20).xyz;\x0a#endif','skinnormal_vertex':'#ifdef\x20USE_SKINNING\x0a\x09mat4\x20skinMatrix\x20=\x20mat4(\x200.0\x20);\x0a\x09skinMatrix\x20+=\x20skinWeight.x\x20*\x20boneMatX;\x0a\x09skinMatrix\x20+=\x20skinWeight.y\x20*\x20boneMatY;\x0a\x09skinMatrix\x20+=\x20skinWeight.z\x20*\x20boneMatZ;\x0a\x09skinMatrix\x20+=\x20skinWeight.w\x20*\x20boneMatW;\x0a\x09skinMatrix\x20=\x20bindMatrixInverse\x20*\x20skinMatrix\x20*\x20bindMatrix;\x0a\x09objectNormal\x20=\x20vec4(\x20skinMatrix\x20*\x20vec4(\x20objectNormal,\x200.0\x20)\x20).xyz;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09objectTangent\x20=\x20vec4(\x20skinMatrix\x20*\x20vec4(\x20objectTangent,\x200.0\x20)\x20).xyz;\x0a\x09#endif\x0a#endif','specularmap_fragment':'float\x20specularStrength;\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09vec4\x20texelSpecular\x20=\x20texture2D(\x20specularMap,\x20vSpecularMapUv\x20);\x0a\x09specularStrength\x20=\x20texelSpecular.r;\x0a#else\x0a\x09specularStrength\x20=\x201.0;\x0a#endif','specularmap_pars_fragment':'#ifdef\x20USE_SPECULARMAP\x0a\x09uniform\x20sampler2D\x20specularMap;\x0a#endif','tonemapping_fragment':'#if\x20defined(\x20TONE_MAPPING\x20)\x0a\x09gl_FragColor.rgb\x20=\x20toneMapping(\x20gl_FragColor.rgb\x20);\x0a#endif','tonemapping_pars_fragment':'#ifndef\x20saturate\x0a#define\x20saturate(\x20a\x20)\x20clamp(\x20a,\x200.0,\x201.0\x20)\x0a#endif\x0auniform\x20float\x20toneMappingExposure;\x0avec3\x20LinearToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09return\x20saturate(\x20toneMappingExposure\x20*\x20color\x20);\x0a}\x0avec3\x20ReinhardToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09return\x20saturate(\x20color\x20/\x20(\x20vec3(\x201.0\x20)\x20+\x20color\x20)\x20);\x0a}\x0avec3\x20CineonToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09color\x20=\x20max(\x20vec3(\x200.0\x20),\x20color\x20-\x200.004\x20);\x0a\x09return\x20pow(\x20(\x20color\x20*\x20(\x206.2\x20*\x20color\x20+\x200.5\x20)\x20)\x20/\x20(\x20color\x20*\x20(\x206.2\x20*\x20color\x20+\x201.7\x20)\x20+\x200.06\x20),\x20vec3(\x202.2\x20)\x20);\x0a}\x0avec3\x20RRTAndODTFit(\x20vec3\x20v\x20)\x20{\x0a\x09vec3\x20a\x20=\x20v\x20*\x20(\x20v\x20+\x200.0245786\x20)\x20-\x200.000090537;\x0a\x09vec3\x20b\x20=\x20v\x20*\x20(\x200.983729\x20*\x20v\x20+\x200.4329510\x20)\x20+\x200.238081;\x0a\x09return\x20a\x20/\x20b;\x0a}\x0avec3\x20ACESFilmicToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20mat3\x20ACESInputMat\x20=\x20mat3(\x0a\x09\x09vec3(\x200.59719,\x200.07600,\x200.02840\x20),\x09\x09vec3(\x200.35458,\x200.90834,\x200.13383\x20),\x0a\x09\x09vec3(\x200.04823,\x200.01566,\x200.83777\x20)\x0a\x09);\x0a\x09const\x20mat3\x20ACESOutputMat\x20=\x20mat3(\x0a\x09\x09vec3(\x20\x201.60475,\x20-0.10208,\x20-0.00327\x20),\x09\x09vec3(\x20-0.53108,\x20\x201.10813,\x20-0.07276\x20),\x0a\x09\x09vec3(\x20-0.07367,\x20-0.00605,\x20\x201.07602\x20)\x0a\x09);\x0a\x09color\x20*=\x20toneMappingExposure\x20/\x200.6;\x0a\x09color\x20=\x20ACESInputMat\x20*\x20color;\x0a\x09color\x20=\x20RRTAndODTFit(\x20color\x20);\x0a\x09color\x20=\x20ACESOutputMat\x20*\x20color;\x0a\x09return\x20saturate(\x20color\x20);\x0a}\x0aconst\x20mat3\x20LINEAR_REC2020_TO_LINEAR_SRGB\x20=\x20mat3(\x0a\x09vec3(\x201.6605,\x20-\x200.1246,\x20-\x200.0182\x20),\x0a\x09vec3(\x20-\x200.5876,\x201.1329,\x20-\x200.1006\x20),\x0a\x09vec3(\x20-\x200.0728,\x20-\x200.0083,\x201.1187\x20)\x0a);\x0aconst\x20mat3\x20LINEAR_SRGB_TO_LINEAR_REC2020\x20=\x20mat3(\x0a\x09vec3(\x200.6274,\x200.0691,\x200.0164\x20),\x0a\x09vec3(\x200.3293,\x200.9195,\x200.0880\x20),\x0a\x09vec3(\x200.0433,\x200.0113,\x200.8956\x20)\x0a);\x0avec3\x20agxDefaultContrastApprox(\x20vec3\x20x\x20)\x20{\x0a\x09vec3\x20x2\x20=\x20x\x20*\x20x;\x0a\x09vec3\x20x4\x20=\x20x2\x20*\x20x2;\x0a\x09return\x20+\x2015.5\x20*\x20x4\x20*\x20x2\x0a\x09\x09-\x2040.14\x20*\x20x4\x20*\x20x\x0a\x09\x09+\x2031.96\x20*\x20x4\x0a\x09\x09-\x206.868\x20*\x20x2\x20*\x20x\x0a\x09\x09+\x200.4298\x20*\x20x2\x0a\x09\x09+\x200.1191\x20*\x20x\x0a\x09\x09-\x200.00232;\x0a}\x0avec3\x20AgXToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20mat3\x20AgXInsetMatrix\x20=\x20mat3(\x0a\x09\x09vec3(\x200.856627153315983,\x200.137318972929847,\x200.11189821299995\x20),\x0a\x09\x09vec3(\x200.0951212405381588,\x200.761241990602591,\x200.0767994186031903\x20),\x0a\x09\x09vec3(\x200.0482516061458583,\x200.101439036467562,\x200.811302368396859\x20)\x0a\x09);\x0a\x09const\x20mat3\x20AgXOutsetMatrix\x20=\x20mat3(\x0a\x09\x09vec3(\x201.1271005818144368,\x20-\x200.1413297634984383,\x20-\x200.14132976349843826\x20),\x0a\x09\x09vec3(\x20-\x200.11060664309660323,\x201.157823702216272,\x20-\x200.11060664309660294\x20),\x0a\x09\x09vec3(\x20-\x200.016493938717834573,\x20-\x200.016493938717834257,\x201.2519364065950405\x20)\x0a\x09);\x0a\x09const\x20float\x20AgxMinEv\x20=\x20-\x2012.47393;\x09const\x20float\x20AgxMaxEv\x20=\x204.026069;\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09color\x20=\x20LINEAR_SRGB_TO_LINEAR_REC2020\x20*\x20color;\x0a\x09color\x20=\x20AgXInsetMatrix\x20*\x20color;\x0a\x09color\x20=\x20max(\x20color,\x201e-10\x20);\x09color\x20=\x20log2(\x20color\x20);\x0a\x09color\x20=\x20(\x20color\x20-\x20AgxMinEv\x20)\x20/\x20(\x20AgxMaxEv\x20-\x20AgxMinEv\x20);\x0a\x09color\x20=\x20clamp(\x20color,\x200.0,\x201.0\x20);\x0a\x09color\x20=\x20agxDefaultContrastApprox(\x20color\x20);\x0a\x09color\x20=\x20AgXOutsetMatrix\x20*\x20color;\x0a\x09color\x20=\x20pow(\x20max(\x20vec3(\x200.0\x20),\x20color\x20),\x20vec3(\x202.2\x20)\x20);\x0a\x09color\x20=\x20LINEAR_REC2020_TO_LINEAR_SRGB\x20*\x20color;\x0a\x09color\x20=\x20clamp(\x20color,\x200.0,\x201.0\x20);\x0a\x09return\x20color;\x0a}\x0avec3\x20NeutralToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20float\x20StartCompression\x20=\x200.8\x20-\x200.04;\x0a\x09const\x20float\x20Desaturation\x20=\x200.15;\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09float\x20x\x20=\x20min(\x20color.r,\x20min(\x20color.g,\x20color.b\x20)\x20);\x0a\x09float\x20offset\x20=\x20x\x20<\x200.08\x20?\x20x\x20-\x206.25\x20*\x20x\x20*\x20x\x20:\x200.04;\x0a\x09color\x20-=\x20offset;\x0a\x09float\x20peak\x20=\x20max(\x20color.r,\x20max(\x20color.g,\x20color.b\x20)\x20);\x0a\x09if\x20(\x20peak\x20<\x20StartCompression\x20)\x20return\x20color;\x0a\x09float\x20d\x20=\x201.\x20-\x20StartCompression;\x0a\x09float\x20newPeak\x20=\x201.\x20-\x20d\x20*\x20d\x20/\x20(\x20peak\x20+\x20d\x20-\x20StartCompression\x20);\x0a\x09color\x20*=\x20newPeak\x20/\x20peak;\x0a\x09float\x20g\x20=\x201.\x20-\x201.\x20/\x20(\x20Desaturation\x20*\x20(\x20peak\x20-\x20newPeak\x20)\x20+\x201.\x20);\x0a\x09return\x20mix(\x20color,\x20vec3(\x20newPeak\x20),\x20g\x20);\x0a}\x0avec3\x20CustomToneMapping(\x20vec3\x20color\x20)\x20{\x20return\x20color;\x20}','transmission_fragment':'#ifdef\x20USE_TRANSMISSION\x0a\x09material.transmission\x20=\x20transmission;\x0a\x09material.transmissionAlpha\x20=\x201.0;\x0a\x09material.thickness\x20=\x20thickness;\x0a\x09material.attenuationDistance\x20=\x20attenuationDistance;\x0a\x09material.attenuationColor\x20=\x20attenuationColor;\x0a\x09#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09\x09material.transmission\x20*=\x20texture2D(\x20transmissionMap,\x20vTransmissionMapUv\x20).r;\x0a\x09#endif\x0a\x09#ifdef\x20USE_THICKNESSMAP\x0a\x09\x09material.thickness\x20*=\x20texture2D(\x20thicknessMap,\x20vThicknessMapUv\x20).g;\x0a\x09#endif\x0a\x09vec3\x20pos\x20=\x20vWorldPosition;\x0a\x09vec3\x20v\x20=\x20normalize(\x20cameraPosition\x20-\x20pos\x20);\x0a\x09vec3\x20n\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09vec4\x20transmitted\x20=\x20getIBLVolumeRefraction(\x0a\x09\x09n,\x20v,\x20material.roughness,\x20material.diffuseColor,\x20material.specularColor,\x20material.specularF90,\x0a\x09\x09pos,\x20modelMatrix,\x20viewMatrix,\x20projectionMatrix,\x20material.dispersion,\x20material.ior,\x20material.thickness,\x0a\x09\x09material.attenuationColor,\x20material.attenuationDistance\x20);\x0a\x09material.transmissionAlpha\x20=\x20mix(\x20material.transmissionAlpha,\x20transmitted.a,\x20material.transmission\x20);\x0a\x09totalDiffuse\x20=\x20mix(\x20totalDiffuse,\x20transmitted.rgb,\x20material.transmission\x20);\x0a#endif','transmission_pars_fragment':'#ifdef\x20USE_TRANSMISSION\x0a\x09uniform\x20float\x20transmission;\x0a\x09uniform\x20float\x20thickness;\x0a\x09uniform\x20float\x20attenuationDistance;\x0a\x09uniform\x20vec3\x20attenuationColor;\x0a\x09#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09\x09uniform\x20sampler2D\x20transmissionMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_THICKNESSMAP\x0a\x09\x09uniform\x20sampler2D\x20thicknessMap;\x0a\x09#endif\x0a\x09uniform\x20vec2\x20transmissionSamplerSize;\x0a\x09uniform\x20sampler2D\x20transmissionSamplerMap;\x0a\x09uniform\x20mat4\x20modelMatrix;\x0a\x09uniform\x20mat4\x20projectionMatrix;\x0a\x09varying\x20vec3\x20vWorldPosition;\x0a\x09float\x20w0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20(\x20a\x20*\x20(\x20-\x20a\x20+\x203.0\x20)\x20-\x203.0\x20)\x20+\x201.0\x20);\x0a\x09}\x0a\x09float\x20w1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20\x20a\x20*\x20(\x203.0\x20*\x20a\x20-\x206.0\x20)\x20+\x204.0\x20);\x0a\x09}\x0a\x09float\x20w2(\x20float\x20a\x20){\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20(\x20a\x20*\x20(\x20-\x203.0\x20*\x20a\x20+\x203.0\x20)\x20+\x203.0\x20)\x20+\x201.0\x20);\x0a\x09}\x0a\x09float\x20w3(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20a\x20*\x20a\x20);\x0a\x09}\x0a\x09float\x20g0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20w0(\x20a\x20)\x20+\x20w1(\x20a\x20);\x0a\x09}\x0a\x09float\x20g1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20w2(\x20a\x20)\x20+\x20w3(\x20a\x20);\x0a\x09}\x0a\x09float\x20h0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20-\x201.0\x20+\x20w1(\x20a\x20)\x20/\x20(\x20w0(\x20a\x20)\x20+\x20w1(\x20a\x20)\x20);\x0a\x09}\x0a\x09float\x20h1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x201.0\x20+\x20w3(\x20a\x20)\x20/\x20(\x20w2(\x20a\x20)\x20+\x20w3(\x20a\x20)\x20);\x0a\x09}\x0a\x09vec4\x20bicubic(\x20sampler2D\x20tex,\x20vec2\x20uv,\x20vec4\x20texelSize,\x20float\x20lod\x20)\x20{\x0a\x09\x09uv\x20=\x20uv\x20*\x20texelSize.zw\x20+\x200.5;\x0a\x09\x09vec2\x20iuv\x20=\x20floor(\x20uv\x20);\x0a\x09\x09vec2\x20fuv\x20=\x20fract(\x20uv\x20);\x0a\x09\x09float\x20g0x\x20=\x20g0(\x20fuv.x\x20);\x0a\x09\x09float\x20g1x\x20=\x20g1(\x20fuv.x\x20);\x0a\x09\x09float\x20h0x\x20=\x20h0(\x20fuv.x\x20);\x0a\x09\x09float\x20h1x\x20=\x20h1(\x20fuv.x\x20);\x0a\x09\x09float\x20h0y\x20=\x20h0(\x20fuv.y\x20);\x0a\x09\x09float\x20h1y\x20=\x20h1(\x20fuv.y\x20);\x0a\x09\x09vec2\x20p0\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h0x,\x20iuv.y\x20+\x20h0y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p1\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h1x,\x20iuv.y\x20+\x20h0y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p2\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h0x,\x20iuv.y\x20+\x20h1y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p3\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h1x,\x20iuv.y\x20+\x20h1y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09return\x20g0(\x20fuv.y\x20)\x20*\x20(\x20g0x\x20*\x20textureLod(\x20tex,\x20p0,\x20lod\x20)\x20+\x20g1x\x20*\x20textureLod(\x20tex,\x20p1,\x20lod\x20)\x20)\x20+\x0a\x09\x09\x09g1(\x20fuv.y\x20)\x20*\x20(\x20g0x\x20*\x20textureLod(\x20tex,\x20p2,\x20lod\x20)\x20+\x20g1x\x20*\x20textureLod(\x20tex,\x20p3,\x20lod\x20)\x20);\x0a\x09}\x0a\x09vec4\x20textureBicubic(\x20sampler2D\x20sampler,\x20vec2\x20uv,\x20float\x20lod\x20)\x20{\x0a\x09\x09vec2\x20fLodSize\x20=\x20vec2(\x20textureSize(\x20sampler,\x20int(\x20lod\x20)\x20)\x20);\x0a\x09\x09vec2\x20cLodSize\x20=\x20vec2(\x20textureSize(\x20sampler,\x20int(\x20lod\x20+\x201.0\x20)\x20)\x20);\x0a\x09\x09vec2\x20fLodSizeInv\x20=\x201.0\x20/\x20fLodSize;\x0a\x09\x09vec2\x20cLodSizeInv\x20=\x201.0\x20/\x20cLodSize;\x0a\x09\x09vec4\x20fSample\x20=\x20bicubic(\x20sampler,\x20uv,\x20vec4(\x20fLodSizeInv,\x20fLodSize\x20),\x20floor(\x20lod\x20)\x20);\x0a\x09\x09vec4\x20cSample\x20=\x20bicubic(\x20sampler,\x20uv,\x20vec4(\x20cLodSizeInv,\x20cLodSize\x20),\x20ceil(\x20lod\x20)\x20);\x0a\x09\x09return\x20mix(\x20fSample,\x20cSample,\x20fract(\x20lod\x20)\x20);\x0a\x09}\x0a\x09vec3\x20getVolumeTransmissionRay(\x20const\x20in\x20vec3\x20n,\x20const\x20in\x20vec3\x20v,\x20const\x20in\x20float\x20thickness,\x20const\x20in\x20float\x20ior,\x20const\x20in\x20mat4\x20modelMatrix\x20)\x20{\x0a\x09\x09vec3\x20refractionVector\x20=\x20refract(\x20-\x20v,\x20normalize(\x20n\x20),\x201.0\x20/\x20ior\x20);\x0a\x09\x09vec3\x20modelScale;\x0a\x09\x09modelScale.x\x20=\x20length(\x20vec3(\x20modelMatrix[\x200\x20].xyz\x20)\x20);\x0a\x09\x09modelScale.y\x20=\x20length(\x20vec3(\x20modelMatrix[\x201\x20].xyz\x20)\x20);\x0a\x09\x09modelScale.z\x20=\x20length(\x20vec3(\x20modelMatrix[\x202\x20].xyz\x20)\x20);\x0a\x09\x09return\x20normalize(\x20refractionVector\x20)\x20*\x20thickness\x20*\x20modelScale;\x0a\x09}\x0a\x09float\x20applyIorToRoughness(\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20float\x20ior\x20)\x20{\x0a\x09\x09return\x20roughness\x20*\x20clamp(\x20ior\x20*\x202.0\x20-\x202.0,\x200.0,\x201.0\x20);\x0a\x09}\x0a\x09vec4\x20getTransmissionSample(\x20const\x20in\x20vec2\x20fragCoord,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20float\x20ior\x20)\x20{\x0a\x09\x09float\x20lod\x20=\x20log2(\x20transmissionSamplerSize.x\x20)\x20*\x20applyIorToRoughness(\x20roughness,\x20ior\x20);\x0a\x09\x09return\x20textureBicubic(\x20transmissionSamplerMap,\x20fragCoord.xy,\x20lod\x20);\x0a\x09}\x0a\x09vec3\x20volumeAttenuation(\x20const\x20in\x20float\x20transmissionDistance,\x20const\x20in\x20vec3\x20attenuationColor,\x20const\x20in\x20float\x20attenuationDistance\x20)\x20{\x0a\x09\x09if\x20(\x20isinf(\x20attenuationDistance\x20)\x20)\x20{\x0a\x09\x09\x09return\x20vec3(\x201.0\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09vec3\x20attenuationCoefficient\x20=\x20-log(\x20attenuationColor\x20)\x20/\x20attenuationDistance;\x0a\x09\x09\x09vec3\x20transmittance\x20=\x20exp(\x20-\x20attenuationCoefficient\x20*\x20transmissionDistance\x20);\x09\x09\x09return\x20transmittance;\x0a\x09\x09}\x0a\x09}\x0a\x09vec4\x20getIBLVolumeRefraction(\x20const\x20in\x20vec3\x20n,\x20const\x20in\x20vec3\x20v,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20vec3\x20diffuseColor,\x0a\x09\x09const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20vec3\x20position,\x20const\x20in\x20mat4\x20modelMatrix,\x0a\x09\x09const\x20in\x20mat4\x20viewMatrix,\x20const\x20in\x20mat4\x20projMatrix,\x20const\x20in\x20float\x20dispersion,\x20const\x20in\x20float\x20ior,\x20const\x20in\x20float\x20thickness,\x0a\x09\x09const\x20in\x20vec3\x20attenuationColor,\x20const\x20in\x20float\x20attenuationDistance\x20)\x20{\x0a\x09\x09vec4\x20transmittedLight;\x0a\x09\x09vec3\x20transmittance;\x0a\x09\x09#ifdef\x20USE_DISPERSION\x0a\x09\x09\x09float\x20halfSpread\x20=\x20(\x20ior\x20-\x201.0\x20)\x20*\x200.025\x20*\x20dispersion;\x0a\x09\x09\x09vec3\x20iors\x20=\x20vec3(\x20ior\x20-\x20halfSpread,\x20ior,\x20ior\x20+\x20halfSpread\x20);\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x203;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09vec3\x20transmissionRay\x20=\x20getVolumeTransmissionRay(\x20n,\x20v,\x20thickness,\x20iors[\x20i\x20],\x20modelMatrix\x20);\x0a\x09\x09\x09\x09vec3\x20refractedRayExit\x20=\x20position\x20+\x20transmissionRay;\x0a\x09\x09\x09\x09vec4\x20ndcPos\x20=\x20projMatrix\x20*\x20viewMatrix\x20*\x20vec4(\x20refractedRayExit,\x201.0\x20);\x0a\x09\x09\x09\x09vec2\x20refractionCoords\x20=\x20ndcPos.xy\x20/\x20ndcPos.w;\x0a\x09\x09\x09\x09refractionCoords\x20+=\x201.0;\x0a\x09\x09\x09\x09refractionCoords\x20/=\x202.0;\x0a\x09\x09\x09\x09vec4\x20transmissionSample\x20=\x20getTransmissionSample(\x20refractionCoords,\x20roughness,\x20iors[\x20i\x20]\x20);\x0a\x09\x09\x09\x09transmittedLight[\x20i\x20]\x20=\x20transmissionSample[\x20i\x20];\x0a\x09\x09\x09\x09transmittedLight.a\x20+=\x20transmissionSample.a;\x0a\x09\x09\x09\x09transmittance[\x20i\x20]\x20=\x20diffuseColor[\x20i\x20]\x20*\x20volumeAttenuation(\x20length(\x20transmissionRay\x20),\x20attenuationColor,\x20attenuationDistance\x20)[\x20i\x20];\x0a\x09\x09\x09}\x0a\x09\x09\x09transmittedLight.a\x20/=\x203.0;\x0a\x09\x09#else\x0a\x09\x09\x09vec3\x20transmissionRay\x20=\x20getVolumeTransmissionRay(\x20n,\x20v,\x20thickness,\x20ior,\x20modelMatrix\x20);\x0a\x09\x09\x09vec3\x20refractedRayExit\x20=\x20position\x20+\x20transmissionRay;\x0a\x09\x09\x09vec4\x20ndcPos\x20=\x20projMatrix\x20*\x20viewMatrix\x20*\x20vec4(\x20refractedRayExit,\x201.0\x20);\x0a\x09\x09\x09vec2\x20refractionCoords\x20=\x20ndcPos.xy\x20/\x20ndcPos.w;\x0a\x09\x09\x09refractionCoords\x20+=\x201.0;\x0a\x09\x09\x09refractionCoords\x20/=\x202.0;\x0a\x09\x09\x09transmittedLight\x20=\x20getTransmissionSample(\x20refractionCoords,\x20roughness,\x20ior\x20);\x0a\x09\x09\x09transmittance\x20=\x20diffuseColor\x20*\x20volumeAttenuation(\x20length(\x20transmissionRay\x20),\x20attenuationColor,\x20attenuationDistance\x20);\x0a\x09\x09#endif\x0a\x09\x09vec3\x20attenuatedColor\x20=\x20transmittance\x20*\x20transmittedLight.rgb;\x0a\x09\x09vec3\x20F\x20=\x20EnvironmentBRDF(\x20n,\x20v,\x20specularColor,\x20specularF90,\x20roughness\x20);\x0a\x09\x09float\x20transmittanceFactor\x20=\x20(\x20transmittance.r\x20+\x20transmittance.g\x20+\x20transmittance.b\x20)\x20/\x203.0;\x0a\x09\x09return\x20vec4(\x20(\x201.0\x20-\x20F\x20)\x20*\x20attenuatedColor,\x201.0\x20-\x20(\x201.0\x20-\x20transmittedLight.a\x20)\x20*\x20transmittanceFactor\x20);\x0a\x09}\x0a#endif','uv_pars_fragment':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09varying\x20vec2\x20vMapUv;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09varying\x20vec2\x20vAlphaMapUv;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09varying\x20vec2\x20vLightMapUv;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09varying\x20vec2\x20vAoMapUv;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09varying\x20vec2\x20vBumpMapUv;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09varying\x20vec2\x20vNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09varying\x20vec2\x20vEmissiveMapUv;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09varying\x20vec2\x20vMetalnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09varying\x20vec2\x20vAnisotropyMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09varying\x20vec2\x20vClearcoatMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09varying\x20vec2\x20vClearcoatNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vClearcoatRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09varying\x20vec2\x20vIridescenceMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09varying\x20vec2\x20vIridescenceThicknessMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09varying\x20vec2\x20vSheenColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vSheenRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09varying\x20vec2\x20vSpecularMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09varying\x20vec2\x20vSpecularColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09varying\x20vec2\x20vSpecularIntensityMapUv;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09uniform\x20mat3\x20transmissionMapTransform;\x0a\x09varying\x20vec2\x20vTransmissionMapUv;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20thicknessMapTransform;\x0a\x09varying\x20vec2\x20vThicknessMapUv;\x0a#endif','uv_pars_vertex':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09uniform\x20mat3\x20mapTransform;\x0a\x09varying\x20vec2\x20vMapUv;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20mat3\x20alphaMapTransform;\x0a\x09varying\x20vec2\x20vAlphaMapUv;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09uniform\x20mat3\x20lightMapTransform;\x0a\x09varying\x20vec2\x20vLightMapUv;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09uniform\x20mat3\x20aoMapTransform;\x0a\x09varying\x20vec2\x20vAoMapUv;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09uniform\x20mat3\x20bumpMapTransform;\x0a\x09varying\x20vec2\x20vBumpMapUv;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09uniform\x20mat3\x20normalMapTransform;\x0a\x09varying\x20vec2\x20vNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09uniform\x20mat3\x20displacementMapTransform;\x0a\x09varying\x20vec2\x20vDisplacementMapUv;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09uniform\x20mat3\x20emissiveMapTransform;\x0a\x09varying\x20vec2\x20vEmissiveMapUv;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09uniform\x20mat3\x20metalnessMapTransform;\x0a\x09varying\x20vec2\x20vMetalnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20roughnessMapTransform;\x0a\x09varying\x20vec2\x20vRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09uniform\x20mat3\x20anisotropyMapTransform;\x0a\x09varying\x20vec2\x20vAnisotropyMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09uniform\x20mat3\x20clearcoatMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09uniform\x20mat3\x20clearcoatNormalMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20clearcoatRoughnessMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09uniform\x20mat3\x20sheenColorMapTransform;\x0a\x09varying\x20vec2\x20vSheenColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20sheenRoughnessMapTransform;\x0a\x09varying\x20vec2\x20vSheenRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09uniform\x20mat3\x20iridescenceMapTransform;\x0a\x09varying\x20vec2\x20vIridescenceMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20iridescenceThicknessMapTransform;\x0a\x09varying\x20vec2\x20vIridescenceThicknessMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09uniform\x20mat3\x20specularMapTransform;\x0a\x09varying\x20vec2\x20vSpecularMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09uniform\x20mat3\x20specularColorMapTransform;\x0a\x09varying\x20vec2\x20vSpecularColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09uniform\x20mat3\x20specularIntensityMapTransform;\x0a\x09varying\x20vec2\x20vSpecularIntensityMapUv;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09uniform\x20mat3\x20transmissionMapTransform;\x0a\x09varying\x20vec2\x20vTransmissionMapUv;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20thicknessMapTransform;\x0a\x09varying\x20vec2\x20vThicknessMapUv;\x0a#endif','uv_vertex':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09vUv\x20=\x20vec3(\x20uv,\x201\x20).xy;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09vMapUv\x20=\x20(\x20mapTransform\x20*\x20vec3(\x20MAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09vAlphaMapUv\x20=\x20(\x20alphaMapTransform\x20*\x20vec3(\x20ALPHAMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09vLightMapUv\x20=\x20(\x20lightMapTransform\x20*\x20vec3(\x20LIGHTMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09vAoMapUv\x20=\x20(\x20aoMapTransform\x20*\x20vec3(\x20AOMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09vBumpMapUv\x20=\x20(\x20bumpMapTransform\x20*\x20vec3(\x20BUMPMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09vNormalMapUv\x20=\x20(\x20normalMapTransform\x20*\x20vec3(\x20NORMALMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09vDisplacementMapUv\x20=\x20(\x20displacementMapTransform\x20*\x20vec3(\x20DISPLACEMENTMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09vEmissiveMapUv\x20=\x20(\x20emissiveMapTransform\x20*\x20vec3(\x20EMISSIVEMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09vMetalnessMapUv\x20=\x20(\x20metalnessMapTransform\x20*\x20vec3(\x20METALNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09vRoughnessMapUv\x20=\x20(\x20roughnessMapTransform\x20*\x20vec3(\x20ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09vAnisotropyMapUv\x20=\x20(\x20anisotropyMapTransform\x20*\x20vec3(\x20ANISOTROPYMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09vClearcoatMapUv\x20=\x20(\x20clearcoatMapTransform\x20*\x20vec3(\x20CLEARCOATMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09vClearcoatNormalMapUv\x20=\x20(\x20clearcoatNormalMapTransform\x20*\x20vec3(\x20CLEARCOAT_NORMALMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09vClearcoatRoughnessMapUv\x20=\x20(\x20clearcoatRoughnessMapTransform\x20*\x20vec3(\x20CLEARCOAT_ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09vIridescenceMapUv\x20=\x20(\x20iridescenceMapTransform\x20*\x20vec3(\x20IRIDESCENCEMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09vIridescenceThicknessMapUv\x20=\x20(\x20iridescenceThicknessMapTransform\x20*\x20vec3(\x20IRIDESCENCE_THICKNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09vSheenColorMapUv\x20=\x20(\x20sheenColorMapTransform\x20*\x20vec3(\x20SHEEN_COLORMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09vSheenRoughnessMapUv\x20=\x20(\x20sheenRoughnessMapTransform\x20*\x20vec3(\x20SHEEN_ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09vSpecularMapUv\x20=\x20(\x20specularMapTransform\x20*\x20vec3(\x20SPECULARMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09vSpecularColorMapUv\x20=\x20(\x20specularColorMapTransform\x20*\x20vec3(\x20SPECULAR_COLORMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09vSpecularIntensityMapUv\x20=\x20(\x20specularIntensityMapTransform\x20*\x20vec3(\x20SPECULAR_INTENSITYMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09vTransmissionMapUv\x20=\x20(\x20transmissionMapTransform\x20*\x20vec3(\x20TRANSMISSIONMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09vThicknessMapUv\x20=\x20(\x20thicknessMapTransform\x20*\x20vec3(\x20THICKNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif','worldpos_vertex':'#if\x20defined(\x20USE_ENVMAP\x20)\x20||\x20defined(\x20DISTANCE\x20)\x20||\x20defined\x20(\x20USE_SHADOWMAP\x20)\x20||\x20defined\x20(\x20USE_TRANSMISSION\x20)\x20||\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09vec4\x20worldPosition\x20=\x20vec4(\x20transformed,\x201.0\x20);\x0a\x09#ifdef\x20USE_BATCHING\x0a\x09\x09worldPosition\x20=\x20batchingMatrix\x20*\x20worldPosition;\x0a\x09#endif\x0a\x09#ifdef\x20USE_INSTANCING\x0a\x09\x09worldPosition\x20=\x20instanceMatrix\x20*\x20worldPosition;\x0a\x09#endif\x0a\x09worldPosition\x20=\x20modelMatrix\x20*\x20worldPosition;\x0a#endif','background_vert':'varying\x20vec2\x20vUv;\x0auniform\x20mat3\x20uvTransform;\x0avoid\x20main()\x20{\x0a\x09vUv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20uv,\x201\x20)\x20).xy;\x0a\x09gl_Position\x20=\x20vec4(\x20position.xy,\x201.0,\x201.0\x20);\x0a}','background_frag':'uniform\x20sampler2D\x20t2D;\x0auniform\x20float\x20backgroundIntensity;\x0avarying\x20vec2\x20vUv;\x0avoid\x20main()\x20{\x0a\x09vec4\x20texColor\x20=\x20texture2D(\x20t2D,\x20vUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE\x0a\x09\x09texColor\x20=\x20vec4(\x20mix(\x20pow(\x20texColor.rgb\x20*\x200.9478672986\x20+\x20vec3(\x200.0521327014\x20),\x20vec3(\x202.4\x20)\x20),\x20texColor.rgb\x20*\x200.0773993808,\x20vec3(\x20lessThanEqual(\x20texColor.rgb,\x20vec3(\x200.04045\x20)\x20)\x20)\x20),\x20texColor.w\x20);\x0a\x09#endif\x0a\x09texColor.rgb\x20*=\x20backgroundIntensity;\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','backgroundCube_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_Position.z\x20=\x20gl_Position.w;\x0a}','backgroundCube_frag':'#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09uniform\x20samplerCube\x20envMap;\x0a#elif\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09uniform\x20sampler2D\x20envMap;\x0a#endif\x0auniform\x20float\x20flipEnvMap;\x0auniform\x20float\x20backgroundBlurriness;\x0auniform\x20float\x20backgroundIntensity;\x0auniform\x20mat3\x20backgroundRotation;\x0avarying\x20vec3\x20vWorldDirection;\x0a#include\x20<cube_uv_reflection_fragment>\x0avoid\x20main()\x20{\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09vec4\x20texColor\x20=\x20textureCube(\x20envMap,\x20backgroundRotation\x20*\x20vec3(\x20flipEnvMap\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09\x09vec4\x20texColor\x20=\x20textureCubeUV(\x20envMap,\x20backgroundRotation\x20*\x20vWorldDirection,\x20backgroundBlurriness\x20);\x0a\x09#else\x0a\x09\x09vec4\x20texColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x201.0\x20);\x0a\x09#endif\x0a\x09texColor.rgb\x20*=\x20backgroundIntensity;\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','cube_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_Position.z\x20=\x20gl_Position.w;\x0a}','cube_frag':'uniform\x20samplerCube\x20tCube;\x0auniform\x20float\x20tFlip;\x0auniform\x20float\x20opacity;\x0avarying\x20vec3\x20vWorldDirection;\x0avoid\x20main()\x20{\x0a\x09vec4\x20texColor\x20=\x20textureCube(\x20tCube,\x20vec3(\x20tFlip\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09gl_FragColor.a\x20*=\x20opacity;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','depth_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avarying\x20vec2\x20vHighPrecisionZW;\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vHighPrecisionZW\x20=\x20gl_Position.zw;\x0a}','depth_frag':'#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09uniform\x20float\x20opacity;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avarying\x20vec2\x20vHighPrecisionZW;\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x201.0\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09\x09diffuseColor.a\x20=\x20opacity;\x0a\x09#endif\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09float\x20fragCoordZ\x20=\x200.5\x20*\x20vHighPrecisionZW[0]\x20/\x20vHighPrecisionZW[1]\x20+\x200.5;\x0a\x09#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20vec3(\x201.0\x20-\x20fragCoordZ\x20),\x20opacity\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203201\x0a\x09\x09gl_FragColor\x20=\x20packDepthToRGBA(\x20fragCoordZ\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203202\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20packDepthToRGB(\x20fragCoordZ\x20),\x201.0\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203203\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20packDepthToRG(\x20fragCoordZ\x20),\x200.0,\x201.0\x20);\x0a\x09#endif\x0a}','distanceRGBA_vert':'#define\x20DISTANCE\x0avarying\x20vec3\x20vWorldPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a}','distanceRGBA_frag':'#define\x20DISTANCE\x0auniform\x20vec3\x20referencePosition;\x0auniform\x20float\x20nearDistance;\x0auniform\x20float\x20farDistance;\x0avarying\x20vec3\x20vWorldPosition;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main\x20()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x201.0\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09float\x20dist\x20=\x20length(\x20vWorldPosition\x20-\x20referencePosition\x20);\x0a\x09dist\x20=\x20(\x20dist\x20-\x20nearDistance\x20)\x20/\x20(\x20farDistance\x20-\x20nearDistance\x20);\x0a\x09dist\x20=\x20saturate(\x20dist\x20);\x0a\x09gl_FragColor\x20=\x20packDepthToRGBA(\x20dist\x20);\x0a}','equirect_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a}','equirect_frag':'uniform\x20sampler2D\x20tEquirect;\x0avarying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vec3\x20direction\x20=\x20normalize(\x20vWorldDirection\x20);\x0a\x09vec2\x20sampleUV\x20=\x20equirectUv(\x20direction\x20);\x0a\x09gl_FragColor\x20=\x20texture2D(\x20tEquirect,\x20sampleUV\x20);\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','linedashed_vert':'uniform\x20float\x20scale;\x0aattribute\x20float\x20lineDistance;\x0avarying\x20float\x20vLineDistance;\x0a#include\x20<common>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09vLineDistance\x20=\x20scale\x20*\x20lineDistance;\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','linedashed_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0auniform\x20float\x20dashSize;\x0auniform\x20float\x20totalSize;\x0avarying\x20float\x20vLineDistance;\x0a#include\x20<common>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09if\x20(\x20mod(\x20vLineDistance,\x20totalSize\x20)\x20>\x20dashSize\x20)\x20{\x0a\x09\x09discard;\x0a\x09}\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a}','meshbasic_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#if\x20defined\x20(\x20USE_ENVMAP\x20)\x20||\x20defined\x20(\x20USE_SKINNING\x20)\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinbase_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09\x09#include\x20<defaultnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshbasic_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09#ifdef\x20USE_LIGHTMAP\x0a\x09\x09vec4\x20lightMapTexel\x20=\x20texture2D(\x20lightMap,\x20vLightMapUv\x20);\x0a\x09\x09reflectedLight.indirectDiffuse\x20+=\x20lightMapTexel.rgb\x20*\x20lightMapIntensity\x20*\x20RECIPROCAL_PI;\x0a\x09#else\x0a\x09\x09reflectedLight.indirectDiffuse\x20+=\x20vec3(\x201.0\x20);\x0a\x09#endif\x0a\x09#include\x20<aomap_fragment>\x0a\x09reflectedLight.indirectDiffuse\x20*=\x20diffuseColor.rgb;\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.indirectDiffuse;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshlambert_vert':'#define\x20LAMBERT\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshlambert_frag':'#define\x20LAMBERT\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_lambert_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_lambert_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshmatcap_vert':'#define\x20MATCAP\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a}','meshmatcap_frag':'#define\x20MATCAP\x0auniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0auniform\x20sampler2D\x20matcap;\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09vec3\x20viewDir\x20=\x20normalize(\x20vViewPosition\x20);\x0a\x09vec3\x20x\x20=\x20normalize(\x20vec3(\x20viewDir.z,\x200.0,\x20-\x20viewDir.x\x20)\x20);\x0a\x09vec3\x20y\x20=\x20cross(\x20viewDir,\x20x\x20);\x0a\x09vec2\x20uv\x20=\x20vec2(\x20dot(\x20x,\x20normal\x20),\x20dot(\x20y,\x20normal\x20)\x20)\x20*\x200.495\x20+\x200.5;\x0a\x09#ifdef\x20USE_MATCAP\x0a\x09\x09vec4\x20matcapColor\x20=\x20texture2D(\x20matcap,\x20uv\x20);\x0a\x09#else\x0a\x09\x09vec4\x20matcapColor\x20=\x20vec4(\x20vec3(\x20mix(\x200.2,\x200.8,\x20uv.y\x20)\x20),\x201.0\x20);\x0a\x09#endif\x0a\x09vec3\x20outgoingLight\x20=\x20diffuseColor.rgb\x20*\x20matcapColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshnormal_vert':'#define\x20NORMAL\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09varying\x20vec3\x20vViewPosition;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a#endif\x0a}','meshnormal_frag':'#define\x20NORMAL\x0auniform\x20float\x20opacity;\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09varying\x20vec3\x20vViewPosition;\x0a#endif\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09gl_FragColor\x20=\x20vec4(\x20packNormalToRGB(\x20normal\x20),\x20diffuseColor.a\x20);\x0a\x09#ifdef\x20OPAQUE\x0a\x09\x09gl_FragColor.a\x20=\x201.0;\x0a\x09#endif\x0a}','meshphong_vert':'#define\x20PHONG\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshphong_frag':'#define\x20PHONG\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20vec3\x20specular;\x0auniform\x20float\x20shininess;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_phong_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_phong_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20reflectedLight.directSpecular\x20+\x20reflectedLight.indirectSpecular\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshphysical_vert':'#define\x20STANDARD\x0avarying\x20vec3\x20vViewPosition;\x0a#ifdef\x20USE_TRANSMISSION\x0a\x09varying\x20vec3\x20vWorldPosition;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a#ifdef\x20USE_TRANSMISSION\x0a\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a#endif\x0a}','meshphysical_frag':'#define\x20STANDARD\x0a#ifdef\x20PHYSICAL\x0a\x09#define\x20IOR\x0a\x09#define\x20USE_SPECULAR\x0a#endif\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20roughness;\x0auniform\x20float\x20metalness;\x0auniform\x20float\x20opacity;\x0a#ifdef\x20IOR\x0a\x09uniform\x20float\x20ior;\x0a#endif\x0a#ifdef\x20USE_SPECULAR\x0a\x09uniform\x20float\x20specularIntensity;\x0a\x09uniform\x20vec3\x20specularColor;\x0a\x09#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09\x09uniform\x20sampler2D\x20specularColorMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09\x09uniform\x20sampler2D\x20specularIntensityMap;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09uniform\x20float\x20clearcoat;\x0a\x09uniform\x20float\x20clearcoatRoughness;\x0a#endif\x0a#ifdef\x20USE_DISPERSION\x0a\x09uniform\x20float\x20dispersion;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09uniform\x20float\x20iridescence;\x0a\x09uniform\x20float\x20iridescenceIOR;\x0a\x09uniform\x20float\x20iridescenceThicknessMinimum;\x0a\x09uniform\x20float\x20iridescenceThicknessMaximum;\x0a#endif\x0a#ifdef\x20USE_SHEEN\x0a\x09uniform\x20vec3\x20sheenColor;\x0a\x09uniform\x20float\x20sheenRoughness;\x0a\x09#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09\x09uniform\x20sampler2D\x20sheenColorMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09\x09uniform\x20sampler2D\x20sheenRoughnessMap;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09uniform\x20vec2\x20anisotropyVector;\x0a\x09#ifdef\x20USE_ANISOTROPYMAP\x0a\x09\x09uniform\x20sampler2D\x20anisotropyMap;\x0a\x09#endif\x0a#endif\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<iridescence_fragment>\x0a#include\x20<cube_uv_reflection_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_physical_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_physical_pars_fragment>\x0a#include\x20<transmission_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<clearcoat_pars_fragment>\x0a#include\x20<iridescence_pars_fragment>\x0a#include\x20<roughnessmap_pars_fragment>\x0a#include\x20<metalnessmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<roughnessmap_fragment>\x0a\x09#include\x20<metalnessmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<clearcoat_normal_fragment_begin>\x0a\x09#include\x20<clearcoat_normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_physical_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20totalDiffuse\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse;\x0a\x09vec3\x20totalSpecular\x20=\x20reflectedLight.directSpecular\x20+\x20reflectedLight.indirectSpecular;\x0a\x09#include\x20<transmission_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20totalDiffuse\x20+\x20totalSpecular\x20+\x20totalEmissiveRadiance;\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09float\x20sheenEnergyComp\x20=\x201.0\x20-\x200.157\x20*\x20max3(\x20material.sheenColor\x20);\x0a\x09\x09outgoingLight\x20=\x20outgoingLight\x20*\x20sheenEnergyComp\x20+\x20sheenSpecularDirect\x20+\x20sheenSpecularIndirect;\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20dotNVcc\x20=\x20saturate(\x20dot(\x20geometryClearcoatNormal,\x20geometryViewDir\x20)\x20);\x0a\x09\x09vec3\x20Fcc\x20=\x20F_Schlick(\x20material.clearcoatF0,\x20material.clearcoatF90,\x20dotNVcc\x20);\x0a\x09\x09outgoingLight\x20=\x20outgoingLight\x20*\x20(\x201.0\x20-\x20material.clearcoat\x20*\x20Fcc\x20)\x20+\x20(\x20clearcoatSpecularDirect\x20+\x20clearcoatSpecularIndirect\x20)\x20*\x20material.clearcoat;\x0a\x09#endif\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshtoon_vert':'#define\x20TOON\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshtoon_frag':'#define\x20TOON\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<gradientmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_toon_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_toon_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','points_vert':'uniform\x20float\x20size;\x0auniform\x20float\x20scale;\x0a#include\x20<common>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0a#ifdef\x20USE_POINTS_UV\x0a\x09varying\x20vec2\x20vUv;\x0a\x09uniform\x20mat3\x20uvTransform;\x0a#endif\x0avoid\x20main()\x20{\x0a\x09#ifdef\x20USE_POINTS_UV\x0a\x09\x09vUv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20uv,\x201\x20)\x20).xy;\x0a\x09#endif\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_PointSize\x20=\x20size;\x0a\x09#ifdef\x20USE_SIZEATTENUATION\x0a\x09\x09bool\x20isPerspective\x20=\x20isPerspectiveMatrix(\x20projectionMatrix\x20);\x0a\x09\x09if\x20(\x20isPerspective\x20)\x20gl_PointSize\x20*=\x20(\x20scale\x20/\x20-\x20mvPosition.z\x20);\x0a\x09#endif\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','points_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<map_particle_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_particle_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a}','shadow_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','shadow_frag':'uniform\x20vec3\x20color;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<shadowmask_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09gl_FragColor\x20=\x20vec4(\x20color,\x20opacity\x20*\x20(\x201.0\x20-\x20getShadowMask()\x20)\x20);\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a}','sprite_vert':'uniform\x20float\x20rotation;\x0auniform\x20vec2\x20center;\x0a#include\x20<common>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09vec4\x20mvPosition\x20=\x20modelViewMatrix[\x203\x20];\x0a\x09vec2\x20scale\x20=\x20vec2(\x20length(\x20modelMatrix[\x200\x20].xyz\x20),\x20length(\x20modelMatrix[\x201\x20].xyz\x20)\x20);\x0a\x09#ifndef\x20USE_SIZEATTENUATION\x0a\x09\x09bool\x20isPerspective\x20=\x20isPerspectiveMatrix(\x20projectionMatrix\x20);\x0a\x09\x09if\x20(\x20isPerspective\x20)\x20scale\x20*=\x20-\x20mvPosition.z;\x0a\x09#endif\x0a\x09vec2\x20alignedPosition\x20=\x20(\x20position.xy\x20-\x20(\x20center\x20-\x20vec2(\x200.5\x20)\x20)\x20)\x20*\x20scale;\x0a\x09vec2\x20rotatedPosition;\x0a\x09rotatedPosition.x\x20=\x20cos(\x20rotation\x20)\x20*\x20alignedPosition.x\x20-\x20sin(\x20rotation\x20)\x20*\x20alignedPosition.y;\x0a\x09rotatedPosition.y\x20=\x20sin(\x20rotation\x20)\x20*\x20alignedPosition.x\x20+\x20cos(\x20rotation\x20)\x20*\x20alignedPosition.y;\x0a\x09mvPosition.xy\x20+=\x20rotatedPosition;\x0a\x09gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','sprite_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a}'},_0x47fec4={'common':{'diffuse':{'value':new _0x42a528['Q1f'](0xffffff)},'opacity':{'value':0x1},'map':{'value':null},'mapTransform':{'value':new _0x42a528['dwI']()},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x42a528['dwI']()},'alphaTest':{'value':0x0}},'specularmap':{'specularMap':{'value':null},'specularMapTransform':{'value':new _0x42a528['dwI']()}},'envmap':{'envMap':{'value':null},'envMapRotation':{'value':new _0x42a528['dwI']()},'flipEnvMap':{'value':-0x1},'reflectivity':{'value':0x1},'ior':{'value':1.5},'refractionRatio':{'value':0.98}},'aomap':{'aoMap':{'value':null},'aoMapIntensity':{'value':0x1},'aoMapTransform':{'value':new _0x42a528['dwI']()}},'lightmap':{'lightMap':{'value':null},'lightMapIntensity':{'value':0x1},'lightMapTransform':{'value':new _0x42a528['dwI']()}},'bumpmap':{'bumpMap':{'value':null},'bumpMapTransform':{'value':new _0x42a528['dwI']()},'bumpScale':{'value':0x1}},'normalmap':{'normalMap':{'value':null},'normalMapTransform':{'value':new _0x42a528['dwI']()},'normalScale':{'value':new _0x42a528['I9Y'](0x1,0x1)}},'displacementmap':{'displacementMap':{'value':null},'displacementMapTransform':{'value':new _0x42a528['dwI']()},'displacementScale':{'value':0x1},'displacementBias':{'value':0x0}},'emissivemap':{'emissiveMap':{'value':null},'emissiveMapTransform':{'value':new _0x42a528['dwI']()}},'metalnessmap':{'metalnessMap':{'value':null},'metalnessMapTransform':{'value':new _0x42a528['dwI']()}},'roughnessmap':{'roughnessMap':{'value':null},'roughnessMapTransform':{'value':new _0x42a528['dwI']()}},'gradientmap':{'gradientMap':{'value':null}},'fog':{'fogDensity':{'value':0.00025},'fogNear':{'value':0x1},'fogFar':{'value':0x7d0},'fogColor':{'value':new _0x42a528['Q1f'](0xffffff)}},'lights':{'ambientLightColor':{'value':[]},'lightProbe':{'value':[]},'directionalLights':{'value':[],'properties':{'direction':{},'color':{}}},'directionalLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{}}},'directionalShadowMap':{'value':[]},'directionalShadowMatrix':{'value':[]},'spotLights':{'value':[],'properties':{'color':{},'position':{},'direction':{},'distance':{},'coneCos':{},'penumbraCos':{},'decay':{}}},'spotLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{}}},'spotLightMap':{'value':[]},'spotShadowMap':{'value':[]},'spotLightMatrix':{'value':[]},'pointLights':{'value':[],'properties':{'color':{},'position':{},'decay':{},'distance':{}}},'pointLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{},'shadowCameraNear':{},'shadowCameraFar':{}}},'pointShadowMap':{'value':[]},'pointShadowMatrix':{'value':[]},'hemisphereLights':{'value':[],'properties':{'direction':{},'skyColor':{},'groundColor':{}}},'rectAreaLights':{'value':[],'properties':{'color':{},'position':{},'width':{},'height':{}}},'ltc_1':{'value':null},'ltc_2':{'value':null}},'points':{'diffuse':{'value':new _0x42a528['Q1f'](0xffffff)},'opacity':{'value':0x1},'size':{'value':0x1},'scale':{'value':0x1},'map':{'value':null},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x42a528['dwI']()},'alphaTest':{'value':0x0},'uvTransform':{'value':new _0x42a528['dwI']()}},'sprite':{'diffuse':{'value':new _0x42a528['Q1f'](0xffffff)},'opacity':{'value':0x1},'center':{'value':new _0x42a528['I9Y'](0.5,0.5)},'rotation':{'value':0x0},'map':{'value':null},'mapTransform':{'value':new _0x42a528['dwI']()},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x42a528['dwI']()},'alphaTest':{'value':0x0}}},_0x1bf9f9={'basic':{'uniforms':(0x0,_0x42a528['Iit'])([_0x47fec4['common'],_0x47fec4['specularmap'],_0x47fec4['envmap'],_0x47fec4['aomap'],_0x47fec4['lightmap'],_0x47fec4['fog']]),'vertexShader':_0x2e7b57['meshbasic_vert'],'fragmentShader':_0x2e7b57['meshbasic_frag']},'lambert':{'uniforms':(0x0,_0x42a528['Iit'])([_0x47fec4['common'],_0x47fec4['specularmap'],_0x47fec4['envmap'],_0x47fec4['aomap'],_0x47fec4['lightmap'],_0x47fec4['emissivemap'],_0x47fec4['bumpmap'],_0x47fec4['normalmap'],_0x47fec4['displacementmap'],_0x47fec4['fog'],_0x47fec4['lights'],{'emissive':{'value':new _0x42a528['Q1f'](0x0)}}]),'vertexShader':_0x2e7b57['meshlambert_vert'],'fragmentShader':_0x2e7b57['meshlambert_frag']},'phong':{'uniforms':(0x0,_0x42a528['Iit'])([_0x47fec4['common'],_0x47fec4['specularmap'],_0x47fec4['envmap'],_0x47fec4['aomap'],_0x47fec4['lightmap'],_0x47fec4['emissivemap'],_0x47fec4['bumpmap'],_0x47fec4['normalmap'],_0x47fec4['displacementmap'],_0x47fec4['fog'],_0x47fec4['lights'],{'emissive':{'value':new _0x42a528['Q1f'](0x0)},'specular':{'value':new _0x42a528['Q1f'](0x111111)},'shininess':{'value':0x1e}}]),'vertexShader':_0x2e7b57['meshphong_vert'],'fragmentShader':_0x2e7b57['meshphong_frag']},'standard':{'uniforms':(0x0,_0x42a528['Iit'])([_0x47fec4['common'],_0x47fec4['envmap'],_0x47fec4['aomap'],_0x47fec4['lightmap'],_0x47fec4['emissivemap'],_0x47fec4['bumpmap'],_0x47fec4['normalmap'],_0x47fec4['displacementmap'],_0x47fec4['roughnessmap'],_0x47fec4['metalnessmap'],_0x47fec4['fog'],_0x47fec4['lights'],{'emissive':{'value':new _0x42a528['Q1f'](0x0)},'roughness':{'value':0x1},'metalness':{'value':0x0},'envMapIntensity':{'value':0x1}}]),'vertexShader':_0x2e7b57['meshphysical_vert'],'fragmentShader':_0x2e7b57['meshphysical_frag']},'toon':{'uniforms':(0x0,_0x42a528['Iit'])([_0x47fec4['common'],_0x47fec4['aomap'],_0x47fec4['lightmap'],_0x47fec4['emissivemap'],_0x47fec4['bumpmap'],_0x47fec4['normalmap'],_0x47fec4['displacementmap'],_0x47fec4['gradientmap'],_0x47fec4['fog'],_0x47fec4['lights'],{'emissive':{'value':new _0x42a528['Q1f'](0x0)}}]),'vertexShader':_0x2e7b57['meshtoon_vert'],'fragmentShader':_0x2e7b57['meshtoon_frag']},'matcap':{'uniforms':(0x0,_0x42a528['Iit'])([_0x47fec4['common'],_0x47fec4['bumpmap'],_0x47fec4['normalmap'],_0x47fec4['displacementmap'],_0x47fec4['fog'],{'matcap':{'value':null}}]),'vertexShader':_0x2e7b57['meshmatcap_vert'],'fragmentShader':_0x2e7b57['meshmatcap_frag']},'points':{'uniforms':(0x0,_0x42a528['Iit'])([_0x47fec4['points'],_0x47fec4['fog']]),'vertexShader':_0x2e7b57['points_vert'],'fragmentShader':_0x2e7b57['points_frag']},'dashed':{'uniforms':(0x0,_0x42a528['Iit'])([_0x47fec4['common'],_0x47fec4['fog'],{'scale':{'value':0x1},'dashSize':{'value':0x1},'totalSize':{'value':0x2}}]),'vertexShader':_0x2e7b57['linedashed_vert'],'fragmentShader':_0x2e7b57['linedashed_frag']},'depth':{'uniforms':(0x0,_0x42a528['Iit'])([_0x47fec4['common'],_0x47fec4['displacementmap']]),'vertexShader':_0x2e7b57['depth_vert'],'fragmentShader':_0x2e7b57['depth_frag']},'normal':{'uniforms':(0x0,_0x42a528['Iit'])([_0x47fec4['common'],_0x47fec4['bumpmap'],_0x47fec4['normalmap'],_0x47fec4['displacementmap'],{'opacity':{'value':0x1}}]),'vertexShader':_0x2e7b57['meshnormal_vert'],'fragmentShader':_0x2e7b57['meshnormal_frag']},'sprite':{'uniforms':(0x0,_0x42a528['Iit'])([_0x47fec4['sprite'],_0x47fec4['fog']]),'vertexShader':_0x2e7b57['sprite_vert'],'fragmentShader':_0x2e7b57['sprite_frag']},'background':{'uniforms':{'uvTransform':{'value':new _0x42a528['dwI']()},'t2D':{'value':null},'backgroundIntensity':{'value':0x1}},'vertexShader':_0x2e7b57['background_vert'],'fragmentShader':_0x2e7b57['background_frag']},'backgroundCube':{'uniforms':{'envMap':{'value':null},'flipEnvMap':{'value':-0x1},'backgroundBlurriness':{'value':0x0},'backgroundIntensity':{'value':0x1},'backgroundRotation':{'value':new _0x42a528['dwI']()}},'vertexShader':_0x2e7b57['backgroundCube_vert'],'fragmentShader':_0x2e7b57['backgroundCube_frag']},'cube':{'uniforms':{'tCube':{'value':null},'tFlip':{'value':-0x1},'opacity':{'value':0x1}},'vertexShader':_0x2e7b57['cube_vert'],'fragmentShader':_0x2e7b57['cube_frag']},'equirect':{'uniforms':{'tEquirect':{'value':null}},'vertexShader':_0x2e7b57['equirect_vert'],'fragmentShader':_0x2e7b57['equirect_frag']},'distanceRGBA':{'uniforms':(0x0,_0x42a528['Iit'])([_0x47fec4['common'],_0x47fec4['displacementmap'],{'referencePosition':{'value':new _0x42a528['Pq0']()},'nearDistance':{'value':0x1},'farDistance':{'value':0x3e8}}]),'vertexShader':_0x2e7b57['distanceRGBA_vert'],'fragmentShader':_0x2e7b57['distanceRGBA_frag']},'shadow':{'uniforms':(0x0,_0x42a528['Iit'])([_0x47fec4['lights'],_0x47fec4['fog'],{'color':{'value':new _0x42a528['Q1f'](0x0)},'opacity':{'value':0x1}}]),'vertexShader':_0x2e7b57['shadow_vert'],'fragmentShader':_0x2e7b57['shadow_frag']}};_0x1bf9f9['physical']={'uniforms':(0x0,_0x42a528['Iit'])([_0x1bf9f9['standard']['uniforms'],{'clearcoat':{'value':0x0},'clearcoatMap':{'value':null},'clearcoatMapTransform':{'value':new _0x42a528['dwI']()},'clearcoatNormalMap':{'value':null},'clearcoatNormalMapTransform':{'value':new _0x42a528['dwI']()},'clearcoatNormalScale':{'value':new _0x42a528['I9Y'](0x1,0x1)},'clearcoatRoughness':{'value':0x0},'clearcoatRoughnessMap':{'value':null},'clearcoatRoughnessMapTransform':{'value':new _0x42a528['dwI']()},'dispersion':{'value':0x0},'iridescence':{'value':0x0},'iridescenceMap':{'value':null},'iridescenceMapTransform':{'value':new _0x42a528['dwI']()},'iridescenceIOR':{'value':1.3},'iridescenceThicknessMinimum':{'value':0x64},'iridescenceThicknessMaximum':{'value':0x190},'iridescenceThicknessMap':{'value':null},'iridescenceThicknessMapTransform':{'value':new _0x42a528['dwI']()},'sheen':{'value':0x0},'sheenColor':{'value':new _0x42a528['Q1f'](0x0)},'sheenColorMap':{'value':null},'sheenColorMapTransform':{'value':new _0x42a528['dwI']()},'sheenRoughness':{'value':0x1},'sheenRoughnessMap':{'value':null},'sheenRoughnessMapTransform':{'value':new _0x42a528['dwI']()},'transmission':{'value':0x0},'transmissionMap':{'value':null},'transmissionMapTransform':{'value':new _0x42a528['dwI']()},'transmissionSamplerSize':{'value':new _0x42a528['I9Y']()},'transmissionSamplerMap':{'value':null},'thickness':{'value':0x0},'thicknessMap':{'value':null},'thicknessMapTransform':{'value':new _0x42a528['dwI']()},'attenuationDistance':{'value':0x0},'attenuationColor':{'value':new _0x42a528['Q1f'](0x0)},'specularColor':{'value':new _0x42a528['Q1f'](0x1,0x1,0x1)},'specularColorMap':{'value':null},'specularColorMapTransform':{'value':new _0x42a528['dwI']()},'specularIntensity':{'value':0x1},'specularIntensityMap':{'value':null},'specularIntensityMapTransform':{'value':new _0x42a528['dwI']()},'anisotropyVector':{'value':new _0x42a528['I9Y']()},'anisotropyMap':{'value':null},'anisotropyMapTransform':{'value':new _0x42a528['dwI']()}}]),'vertexShader':_0x2e7b57['meshphysical_vert'],'fragmentShader':_0x2e7b57['meshphysical_frag']};const _0x452e81={'r':0x0,'b':0x0,'g':0x0},_0x170505=new _0x42a528['O9p'](),_0x14a615=new _0x42a528['kn4']();function _0x253c76(_0x2b0c77,_0x3d8c62,_0x2faa41,_0x396fb6,_0x31be0e,_0x2d6e31,_0x2e0210){const _0x26f12a=new _0x42a528['Q1f'](0x0);let _0x4c4f15,_0x40f847,_0x4a371f=!0x0===_0x2d6e31?0x0:0x1,_0x5336f9=null,_0x74b41d=0x0,_0x3c85a2=null;function _0x19fa4f(_0x348898){let _0x382264=!0x0===_0x348898['isScene']?_0x348898['background']:null;return _0x382264&&_0x382264['isTexture']&&(_0x382264=(_0x348898['backgroundBlurriness']>0x0?_0x2faa41:_0x3d8c62)['get'](_0x382264)),_0x382264;}function _0x22cd35(_0x1dc6c3,_0x49c9b8){_0x1dc6c3['getRGB'](_0x452e81,(0x0,_0x42a528['_Ut'])(_0x2b0c77)),_0x396fb6['buffers']['color']['setClear'](_0x452e81['r'],_0x452e81['g'],_0x452e81['b'],_0x49c9b8,_0x2e0210);}return{'getClearColor':function(){return _0x26f12a;},'setClearColor':function(_0x11abaa,_0x3fab5b=0x1){_0x26f12a['set'](_0x11abaa),_0x4a371f=_0x3fab5b,_0x22cd35(_0x26f12a,_0x4a371f);},'getClearAlpha':function(){return _0x4a371f;},'setClearAlpha':function(_0x29a004){_0x4a371f=_0x29a004,_0x22cd35(_0x26f12a,_0x4a371f);},'render':function(_0x30a1d5){let _0x4fca00=!0x1;const _0x13ef88=_0x19fa4f(_0x30a1d5);null===_0x13ef88?_0x22cd35(_0x26f12a,_0x4a371f):_0x13ef88&&_0x13ef88['isColor']&&(_0x22cd35(_0x13ef88,0x1),_0x4fca00=!0x0);const _0x21c5b2=_0x2b0c77['xr']['getEnvironmentBlendMode']();'additive'===_0x21c5b2?_0x396fb6['buffers']['color']['setClear'](0x0,0x0,0x0,0x1,_0x2e0210):'alpha-blend'===_0x21c5b2&&_0x396fb6['buffers']['color']['setClear'](0x0,0x0,0x0,0x0,_0x2e0210),(_0x2b0c77['autoClear']||_0x4fca00)&&(_0x396fb6['buffers']['depth']['setTest'](!0x0),_0x396fb6['buffers']['depth']['setMask'](!0x0),_0x396fb6['buffers']['color']['setMask'](!0x0),_0x2b0c77['clear'](_0x2b0c77['autoClearColor'],_0x2b0c77['autoClearDepth'],_0x2b0c77['autoClearStencil']));},'addToRenderList':function(_0x19cf2,_0x273db3){const _0xaee5ec=_0x19fa4f(_0x273db3);_0xaee5ec&&(_0xaee5ec['isCubeTexture']||_0xaee5ec['mapping']===_0x42a528['Om'])?(void 0x0===_0x40f847&&(_0x40f847=new _0x42a528['eaF'](new _0x42a528['iNn'](0x1,0x1,0x1),new _0x42a528['BKk']({'name':'BackgroundCubeMaterial','uniforms':(0x0,_0x42a528['lxW'])(_0x1bf9f9['backgroundCube']['uniforms']),'vertexShader':_0x1bf9f9['backgroundCube']['vertexShader'],'fragmentShader':_0x1bf9f9['backgroundCube']['fragmentShader'],'side':_0x42a528['hsX'],'depthTest':!0x1,'depthWrite':!0x1,'fog':!0x1})),_0x40f847['geometry']['deleteAttribute']('normal'),_0x40f847['geometry']['deleteAttribute']('uv'),_0x40f847['onBeforeRender']=function(_0x49c3f6,_0x3566cb,_0x49ca74){this['matrixWorld']['copyPosition'](_0x49ca74['matrixWorld']);},Object['defineProperty'](_0x40f847['material'],'envMap',{'get':function(){return this['uniforms']['envMap']['value'];}}),_0x31be0e['update'](_0x40f847)),_0x170505['copy'](_0x273db3['backgroundRotation']),_0x170505['x']*=-0x1,_0x170505['y']*=-0x1,_0x170505['z']*=-0x1,_0xaee5ec['isCubeTexture']&&!0x1===_0xaee5ec['isRenderTargetTexture']&&(_0x170505['y']*=-0x1,_0x170505['z']*=-0x1),_0x40f847['material']['uniforms']['envMap']['value']=_0xaee5ec,_0x40f847['material']['uniforms']['flipEnvMap']['value']=_0xaee5ec['isCubeTexture']&&!0x1===_0xaee5ec['isRenderTargetTexture']?-0x1:0x1,_0x40f847['material']['uniforms']['backgroundBlurriness']['value']=_0x273db3['backgroundBlurriness'],_0x40f847['material']['uniforms']['backgroundIntensity']['value']=_0x273db3['backgroundIntensity'],_0x40f847['material']['uniforms']['backgroundRotation']['value']['setFromMatrix4'](_0x14a615['makeRotationFromEuler'](_0x170505)),_0x40f847['material']['toneMapped']=_0x42a528['ppV']['getTransfer'](_0xaee5ec['colorSpace'])!==_0x42a528['KLL'],_0x5336f9===_0xaee5ec&&_0x74b41d===_0xaee5ec['version']&&_0x3c85a2===_0x2b0c77['toneMapping']||(_0x40f847['material']['needsUpdate']=!0x0,_0x5336f9=_0xaee5ec,_0x74b41d=_0xaee5ec['version'],_0x3c85a2=_0x2b0c77['toneMapping']),_0x40f847['layers']['enableAll'](),_0x19cf2['unshift'](_0x40f847,_0x40f847['geometry'],_0x40f847['material'],0x0,0x0,null)):_0xaee5ec&&_0xaee5ec['isTexture']&&(void 0x0===_0x4c4f15&&(_0x4c4f15=new _0x42a528['eaF'](new _0x42a528['bdM'](0x2,0x2),new _0x42a528['BKk']({'name':'BackgroundMaterial','uniforms':(0x0,_0x42a528['lxW'])(_0x1bf9f9['background']['uniforms']),'vertexShader':_0x1bf9f9['background']['vertexShader'],'fragmentShader':_0x1bf9f9['background']['fragmentShader'],'side':_0x42a528['hB5'],'depthTest':!0x1,'depthWrite':!0x1,'fog':!0x1})),_0x4c4f15['geometry']['deleteAttribute']('normal'),Object['defineProperty'](_0x4c4f15['material'],'map',{'get':function(){return this['uniforms']['t2D']['value'];}}),_0x31be0e['update'](_0x4c4f15)),_0x4c4f15['material']['uniforms']['t2D']['value']=_0xaee5ec,_0x4c4f15['material']['uniforms']['backgroundIntensity']['value']=_0x273db3['backgroundIntensity'],_0x4c4f15['material']['toneMapped']=_0x42a528['ppV']['getTransfer'](_0xaee5ec['colorSpace'])!==_0x42a528['KLL'],!0x0===_0xaee5ec['matrixAutoUpdate']&&_0xaee5ec['updateMatrix'](),_0x4c4f15['material']['uniforms']['uvTransform']['value']['copy'](_0xaee5ec['matrix']),_0x5336f9===_0xaee5ec&&_0x74b41d===_0xaee5ec['version']&&_0x3c85a2===_0x2b0c77['toneMapping']||(_0x4c4f15['material']['needsUpdate']=!0x0,_0x5336f9=_0xaee5ec,_0x74b41d=_0xaee5ec['version'],_0x3c85a2=_0x2b0c77['toneMapping']),_0x4c4f15['layers']['enableAll'](),_0x19cf2['unshift'](_0x4c4f15,_0x4c4f15['geometry'],_0x4c4f15['material'],0x0,0x0,null));},'dispose':function(){void 0x0!==_0x40f847&&(_0x40f847['geometry']['dispose'](),_0x40f847['material']['dispose']()),void 0x0!==_0x4c4f15&&(_0x4c4f15['geometry']['dispose'](),_0x4c4f15['material']['dispose']());}};}function _0x2ff5fa(_0x5a0bf5,_0x3f0472){const _0x5ee54b=_0x5a0bf5['getParameter'](_0x5a0bf5['MAX_VERTEX_ATTRIBS']),_0x16f99c={},_0x4b0989=_0x4db34c(null);let _0x26e2f0=_0x4b0989,_0x1f69af=!0x1;function _0x2e2b18(_0x36cfb8){return _0x5a0bf5['bindVertexArray'](_0x36cfb8);}function _0x2a979b(_0x2cc3){return _0x5a0bf5['deleteVertexArray'](_0x2cc3);}function _0x4db34c(_0x237ccc){const _0x2dba67=[],_0x129a9c=[],_0x2def4e=[];for(let _0x2e696f=0x0;_0x2e696f<_0x5ee54b;_0x2e696f++)_0x2dba67[_0x2e696f]=0x0,_0x129a9c[_0x2e696f]=0x0,_0x2def4e[_0x2e696f]=0x0;return{'geometry':null,'program':null,'wireframe':!0x1,'newAttributes':_0x2dba67,'enabledAttributes':_0x129a9c,'attributeDivisors':_0x2def4e,'object':_0x237ccc,'attributes':{},'index':null};}function _0x1ef823(){const _0x1baafd=_0x26e2f0['newAttributes'];for(let _0x414e1a=0x0,_0x57f8ad=_0x1baafd['length'];_0x414e1a<_0x57f8ad;_0x414e1a++)_0x1baafd[_0x414e1a]=0x0;}function _0x27f296(_0x2c7d55){_0x8b34f3(_0x2c7d55,0x0);}function _0x8b34f3(_0xbbd02,_0x5dc4d8){const _0x424021=_0x26e2f0['newAttributes'],_0x3c7dff=_0x26e2f0['enabledAttributes'],_0x4763fd=_0x26e2f0['attributeDivisors'];_0x424021[_0xbbd02]=0x1,0x0===_0x3c7dff[_0xbbd02]&&(_0x5a0bf5['enableVertexAttribArray'](_0xbbd02),_0x3c7dff[_0xbbd02]=0x1),_0x4763fd[_0xbbd02]!==_0x5dc4d8&&(_0x5a0bf5['vertexAttribDivisor'](_0xbbd02,_0x5dc4d8),_0x4763fd[_0xbbd02]=_0x5dc4d8);}function _0x1bdd37(){const _0x939990=_0x26e2f0['newAttributes'],_0x5c7e67=_0x26e2f0['enabledAttributes'];for(let _0x491ffb=0x0,_0x228e48=_0x5c7e67['length'];_0x491ffb<_0x228e48;_0x491ffb++)_0x5c7e67[_0x491ffb]!==_0x939990[_0x491ffb]&&(_0x5a0bf5['disableVertexAttribArray'](_0x491ffb),_0x5c7e67[_0x491ffb]=0x0);}function _0x5e3ac8(_0x319347,_0x1731e0,_0x16b30f,_0x4febc7,_0x5b8b54,_0x434888,_0x2e3dce){!0x0===_0x2e3dce?_0x5a0bf5['vertexAttribIPointer'](_0x319347,_0x1731e0,_0x16b30f,_0x5b8b54,_0x434888):_0x5a0bf5['vertexAttribPointer'](_0x319347,_0x1731e0,_0x16b30f,_0x4febc7,_0x5b8b54,_0x434888);}function _0x22ef2f(){_0x1829c8(),_0x1f69af=!0x0,_0x26e2f0!==_0x4b0989&&(_0x26e2f0=_0x4b0989,_0x2e2b18(_0x26e2f0['object']));}function _0x1829c8(){_0x4b0989['geometry']=null,_0x4b0989['program']=null,_0x4b0989['wireframe']=!0x1;}return{'setup':function(_0x1ff5ee,_0x9ebe41,_0x503443,_0x44eae6,_0x3e0185){let _0x2dc98c=!0x1;const _0x40c69=function(_0x580540,_0x1ca368,_0x1b3c89){const _0x4f6f54=!0x0===_0x1b3c89['wireframe'];let _0x431b94=_0x16f99c[_0x580540['id']];void 0x0===_0x431b94&&(_0x431b94={},_0x16f99c[_0x580540['id']]=_0x431b94);let _0x19d9c5=_0x431b94[_0x1ca368['id']];void 0x0===_0x19d9c5&&(_0x19d9c5={},_0x431b94[_0x1ca368['id']]=_0x19d9c5);let _0x1f3e88=_0x19d9c5[_0x4f6f54];return void 0x0===_0x1f3e88&&(_0x1f3e88=_0x4db34c(_0x5a0bf5['createVertexArray']()),_0x19d9c5[_0x4f6f54]=_0x1f3e88),_0x1f3e88;}(_0x44eae6,_0x503443,_0x9ebe41);_0x26e2f0!==_0x40c69&&(_0x26e2f0=_0x40c69,_0x2e2b18(_0x26e2f0['object'])),_0x2dc98c=function(_0x5884bf,_0x4c045a,_0x41251f,_0x222f11){const _0x3ac8ea=_0x26e2f0['attributes'],_0x536ac2=_0x4c045a['attributes'];let _0xe6a22e=0x0;const _0x5c2f76=_0x41251f['getAttributes']();for(const _0x5c99de in _0x5c2f76){if(_0x5c2f76[_0x5c99de]['location']>=0x0){const _0x3d0218=_0x3ac8ea[_0x5c99de];let _0x422832=_0x536ac2[_0x5c99de];if(void 0x0===_0x422832&&('instanceMatrix'===_0x5c99de&&_0x5884bf['instanceMatrix']&&(_0x422832=_0x5884bf['instanceMatrix']),'instanceColor'===_0x5c99de&&_0x5884bf['instanceColor']&&(_0x422832=_0x5884bf['instanceColor'])),void 0x0===_0x3d0218)return!0x0;if(_0x3d0218['attribute']!==_0x422832)return!0x0;if(_0x422832&&_0x3d0218['data']!==_0x422832['data'])return!0x0;_0xe6a22e++;}}return _0x26e2f0['attributesNum']!==_0xe6a22e||_0x26e2f0['index']!==_0x222f11;}(_0x1ff5ee,_0x44eae6,_0x503443,_0x3e0185),_0x2dc98c&&function(_0x280141,_0x435007,_0x4a1774,_0x36e20d){const _0x6a758f={},_0x237303=_0x435007['attributes'];let _0xa97e87=0x0;const _0x35f621=_0x4a1774['getAttributes']();for(const _0x5572bb in _0x35f621){if(_0x35f621[_0x5572bb]['location']>=0x0){let _0x11e8f5=_0x237303[_0x5572bb];void 0x0===_0x11e8f5&&('instanceMatrix'===_0x5572bb&&_0x280141['instanceMatrix']&&(_0x11e8f5=_0x280141['instanceMatrix']),'instanceColor'===_0x5572bb&&_0x280141['instanceColor']&&(_0x11e8f5=_0x280141['instanceColor']));const _0x22fc88={};_0x22fc88['attribute']=_0x11e8f5,_0x11e8f5&&_0x11e8f5['data']&&(_0x22fc88['data']=_0x11e8f5['data']),_0x6a758f[_0x5572bb]=_0x22fc88,_0xa97e87++;}}_0x26e2f0['attributes']=_0x6a758f,_0x26e2f0['attributesNum']=_0xa97e87,_0x26e2f0['index']=_0x36e20d;}(_0x1ff5ee,_0x44eae6,_0x503443,_0x3e0185),null!==_0x3e0185&&_0x3f0472['update'](_0x3e0185,_0x5a0bf5['ELEMENT_ARRAY_BUFFER']),(_0x2dc98c||_0x1f69af)&&(_0x1f69af=!0x1,function(_0x4d4cb2,_0x288f76,_0x33b8d1,_0x562c20){_0x1ef823();const _0x4a8c9b=_0x562c20['attributes'],_0x5e0dda=_0x33b8d1['getAttributes'](),_0x3835cf=_0x288f76['defaultAttributeValues'];for(const _0x1dfafd in _0x5e0dda){const _0x3710c2=_0x5e0dda[_0x1dfafd];if(_0x3710c2['location']>=0x0){let _0x2c4674=_0x4a8c9b[_0x1dfafd];if(void 0x0===_0x2c4674&&('instanceMatrix'===_0x1dfafd&&_0x4d4cb2['instanceMatrix']&&(_0x2c4674=_0x4d4cb2['instanceMatrix']),'instanceColor'===_0x1dfafd&&_0x4d4cb2['instanceColor']&&(_0x2c4674=_0x4d4cb2['instanceColor'])),void 0x0!==_0x2c4674){const _0x2999c2=_0x2c4674['normalized'],_0x4d068d=_0x2c4674['itemSize'],_0x1fd953=_0x3f0472['get'](_0x2c4674);if(void 0x0===_0x1fd953)continue;const _0x4d1c6c=_0x1fd953['buffer'],_0x287af9=_0x1fd953['type'],_0x10e73c=_0x1fd953['bytesPerElement'],_0x5f1b5b=_0x287af9===_0x5a0bf5['INT']||_0x287af9===_0x5a0bf5['UNSIGNED_INT']||_0x2c4674['gpuType']===_0x42a528['Yuy'];if(_0x2c4674['isInterleavedBufferAttribute']){const _0x5ea9e1=_0x2c4674['data'],_0x23e152=_0x5ea9e1['stride'],_0xe678f3=_0x2c4674['offset'];if(_0x5ea9e1['isInstancedInterleavedBuffer']){for(let _0x52e5f8=0x0;_0x52e5f8<_0x3710c2['locationSize'];_0x52e5f8++)_0x8b34f3(_0x3710c2['location']+_0x52e5f8,_0x5ea9e1['meshPerAttribute']);!0x0!==_0x4d4cb2['isInstancedMesh']&&void 0x0===_0x562c20['_maxInstanceCount']&&(_0x562c20['_maxInstanceCount']=_0x5ea9e1['meshPerAttribute']*_0x5ea9e1['count']);}else{for(let _0x46c01e=0x0;_0x46c01e<_0x3710c2['locationSize'];_0x46c01e++)_0x27f296(_0x3710c2['location']+_0x46c01e);}_0x5a0bf5['bindBuffer'](_0x5a0bf5['ARRAY_BUFFER'],_0x4d1c6c);for(let _0xc40406=0x0;_0xc40406<_0x3710c2['locationSize'];_0xc40406++)_0x5e3ac8(_0x3710c2['location']+_0xc40406,_0x4d068d/_0x3710c2['locationSize'],_0x287af9,_0x2999c2,_0x23e152*_0x10e73c,(_0xe678f3+_0x4d068d/_0x3710c2['locationSize']*_0xc40406)*_0x10e73c,_0x5f1b5b);}else{if(_0x2c4674['isInstancedBufferAttribute']){for(let _0x336520=0x0;_0x336520<_0x3710c2['locationSize'];_0x336520++)_0x8b34f3(_0x3710c2['location']+_0x336520,_0x2c4674['meshPerAttribute']);!0x0!==_0x4d4cb2['isInstancedMesh']&&void 0x0===_0x562c20['_maxInstanceCount']&&(_0x562c20['_maxInstanceCount']=_0x2c4674['meshPerAttribute']*_0x2c4674['count']);}else{for(let _0x5e6303=0x0;_0x5e6303<_0x3710c2['locationSize'];_0x5e6303++)_0x27f296(_0x3710c2['location']+_0x5e6303);}_0x5a0bf5['bindBuffer'](_0x5a0bf5['ARRAY_BUFFER'],_0x4d1c6c);for(let _0x415321=0x0;_0x415321<_0x3710c2['locationSize'];_0x415321++)_0x5e3ac8(_0x3710c2['location']+_0x415321,_0x4d068d/_0x3710c2['locationSize'],_0x287af9,_0x2999c2,_0x4d068d*_0x10e73c,_0x4d068d/_0x3710c2['locationSize']*_0x415321*_0x10e73c,_0x5f1b5b);}}else{if(void 0x0!==_0x3835cf){const _0x266185=_0x3835cf[_0x1dfafd];if(void 0x0!==_0x266185)switch(_0x266185['length']){case 0x2:_0x5a0bf5['vertexAttrib2fv'](_0x3710c2['location'],_0x266185);break;case 0x3:_0x5a0bf5['vertexAttrib3fv'](_0x3710c2['location'],_0x266185);break;case 0x4:_0x5a0bf5['vertexAttrib4fv'](_0x3710c2['location'],_0x266185);break;default:_0x5a0bf5['vertexAttrib1fv'](_0x3710c2['location'],_0x266185);}}}}}_0x1bdd37();}(_0x1ff5ee,_0x9ebe41,_0x503443,_0x44eae6),null!==_0x3e0185&&_0x5a0bf5['bindBuffer'](_0x5a0bf5['ELEMENT_ARRAY_BUFFER'],_0x3f0472['get'](_0x3e0185)['buffer']));},'reset':_0x22ef2f,'resetDefaultState':_0x1829c8,'dispose':function(){_0x22ef2f();for(const _0x21fb6c in _0x16f99c){const _0x232c23=_0x16f99c[_0x21fb6c];for(const _0x3706e8 in _0x232c23){const _0x102259=_0x232c23[_0x3706e8];for(const _0x27efd3 in _0x102259)_0x2a979b(_0x102259[_0x27efd3]['object']),delete _0x102259[_0x27efd3];delete _0x232c23[_0x3706e8];}delete _0x16f99c[_0x21fb6c];}},'releaseStatesOfGeometry':function(_0x254952){if(void 0x0===_0x16f99c[_0x254952['id']])return;const _0x3c72f3=_0x16f99c[_0x254952['id']];for(const _0x38b332 in _0x3c72f3){const _0x42f789=_0x3c72f3[_0x38b332];for(const _0xd3375 in _0x42f789)_0x2a979b(_0x42f789[_0xd3375]['object']),delete _0x42f789[_0xd3375];delete _0x3c72f3[_0x38b332];}delete _0x16f99c[_0x254952['id']];},'releaseStatesOfProgram':function(_0x4d8d33){for(const _0x366f20 in _0x16f99c){const _0x125490=_0x16f99c[_0x366f20];if(void 0x0===_0x125490[_0x4d8d33['id']])continue;const _0x142273=_0x125490[_0x4d8d33['id']];for(const _0x4868b7 in _0x142273)_0x2a979b(_0x142273[_0x4868b7]['object']),delete _0x142273[_0x4868b7];delete _0x125490[_0x4d8d33['id']];}},'initAttributes':_0x1ef823,'enableAttribute':_0x27f296,'disableUnusedAttributes':_0x1bdd37};}function _0x5e543c(_0x5ab79c,_0x3b72fb,_0x50ed51){let _0x42d893;function _0x384059(_0xb59cc5,_0x1ebf30,_0x3d97f8){0x0!==_0x3d97f8&&(_0x5ab79c['drawArraysInstanced'](_0x42d893,_0xb59cc5,_0x1ebf30,_0x3d97f8),_0x50ed51['update'](_0x1ebf30,_0x42d893,_0x3d97f8));}this['setMode']=function(_0x5382ba){_0x42d893=_0x5382ba;},this['render']=function(_0x5e8446,_0x4a0c49){_0x5ab79c['drawArrays'](_0x42d893,_0x5e8446,_0x4a0c49),_0x50ed51['update'](_0x4a0c49,_0x42d893,0x1);},this['renderInstances']=_0x384059,this['renderMultiDraw']=function(_0xc97659,_0x3c54a1,_0x3f7a73){if(0x0===_0x3f7a73)return;_0x3b72fb['get']('WEBGL_multi_draw')['multiDrawArraysWEBGL'](_0x42d893,_0xc97659,0x0,_0x3c54a1,0x0,_0x3f7a73);let _0x3ed402=0x0;for(let _0xbe1b54=0x0;_0xbe1b54<_0x3f7a73;_0xbe1b54++)_0x3ed402+=_0x3c54a1[_0xbe1b54];_0x50ed51['update'](_0x3ed402,_0x42d893,0x1);},this['renderMultiDrawInstances']=function(_0x2e3827,_0x3b829a,_0x3c3ef4,_0xf7033c){if(0x0===_0x3c3ef4)return;const _0x40c59e=_0x3b72fb['get']('WEBGL_multi_draw');if(null===_0x40c59e){for(let _0x1fc10e=0x0;_0x1fc10e<_0x2e3827['length'];_0x1fc10e++)_0x384059(_0x2e3827[_0x1fc10e],_0x3b829a[_0x1fc10e],_0xf7033c[_0x1fc10e]);}else{_0x40c59e['multiDrawArraysInstancedWEBGL'](_0x42d893,_0x2e3827,0x0,_0x3b829a,0x0,_0xf7033c,0x0,_0x3c3ef4);let _0x541679=0x0;for(let _0x348e5e=0x0;_0x348e5e<_0x3c3ef4;_0x348e5e++)_0x541679+=_0x3b829a[_0x348e5e]*_0xf7033c[_0x348e5e];_0x50ed51['update'](_0x541679,_0x42d893,0x1);}};}function _0x5e4e79(_0x13178a,_0x56b080,_0x2fbaec,_0x3df7bf){let _0xb17dfc;function _0x506011(_0x4935ba){if('highp'===_0x4935ba){if(_0x13178a['getShaderPrecisionFormat'](_0x13178a['VERTEX_SHADER'],_0x13178a['HIGH_FLOAT'])['precision']>0x0&&_0x13178a['getShaderPrecisionFormat'](_0x13178a['FRAGMENT_SHADER'],_0x13178a['HIGH_FLOAT'])['precision']>0x0)return'highp';_0x4935ba='mediump';}return'mediump'===_0x4935ba&&_0x13178a['getShaderPrecisionFormat'](_0x13178a['VERTEX_SHADER'],_0x13178a['MEDIUM_FLOAT'])['precision']>0x0&&_0x13178a['getShaderPrecisionFormat'](_0x13178a['FRAGMENT_SHADER'],_0x13178a['MEDIUM_FLOAT'])['precision']>0x0?'mediump':'lowp';}let _0x3ffa89=void 0x0!==_0x2fbaec['precision']?_0x2fbaec['precision']:'highp';const _0x362ac2=_0x506011(_0x3ffa89);_0x362ac2!==_0x3ffa89&&(console['warn']('THREE.WebGLRenderer:',_0x3ffa89,'not\x20supported,\x20using',_0x362ac2,'instead.'),_0x3ffa89=_0x362ac2);const _0x413ae3=!0x0===_0x2fbaec['logarithmicDepthBuffer'],_0x478038=!0x0===_0x2fbaec['reverseDepthBuffer']&&_0x56b080['has']('EXT_clip_control'),_0x5623e1=_0x13178a['getParameter'](_0x13178a['MAX_TEXTURE_IMAGE_UNITS']),_0x105ae6=_0x13178a['getParameter'](_0x13178a['MAX_VERTEX_TEXTURE_IMAGE_UNITS']);return{'isWebGL2':!0x0,'getMaxAnisotropy':function(){if(void 0x0!==_0xb17dfc)return _0xb17dfc;if(!0x0===_0x56b080['has']('EXT_texture_filter_anisotropic')){const _0x38eb53=_0x56b080['get']('EXT_texture_filter_anisotropic');_0xb17dfc=_0x13178a['getParameter'](_0x38eb53['MAX_TEXTURE_MAX_ANISOTROPY_EXT']);}else _0xb17dfc=0x0;return _0xb17dfc;},'getMaxPrecision':_0x506011,'textureFormatReadable':function(_0x4dfc51){return _0x4dfc51===_0x42a528['GWd']||_0x3df7bf['convert'](_0x4dfc51)===_0x13178a['getParameter'](_0x13178a['IMPLEMENTATION_COLOR_READ_FORMAT']);},'textureTypeReadable':function(_0x1fa050){const _0x448622=_0x1fa050===_0x42a528['ix0']&&(_0x56b080['has']('EXT_color_buffer_half_float')||_0x56b080['has']('EXT_color_buffer_float'));return!(_0x1fa050!==_0x42a528['OUM']&&_0x3df7bf['convert'](_0x1fa050)!==_0x13178a['getParameter'](_0x13178a['IMPLEMENTATION_COLOR_READ_TYPE'])&&_0x1fa050!==_0x42a528['RQf']&&!_0x448622);},'precision':_0x3ffa89,'logarithmicDepthBuffer':_0x413ae3,'reverseDepthBuffer':_0x478038,'maxTextures':_0x5623e1,'maxVertexTextures':_0x105ae6,'maxTextureSize':_0x13178a['getParameter'](_0x13178a['MAX_TEXTURE_SIZE']),'maxCubemapSize':_0x13178a['getParameter'](_0x13178a['MAX_CUBE_MAP_TEXTURE_SIZE']),'maxAttributes':_0x13178a['getParameter'](_0x13178a['MAX_VERTEX_ATTRIBS']),'maxVertexUniforms':_0x13178a['getParameter'](_0x13178a['MAX_VERTEX_UNIFORM_VECTORS']),'maxVaryings':_0x13178a['getParameter'](_0x13178a['MAX_VARYING_VECTORS']),'maxFragmentUniforms':_0x13178a['getParameter'](_0x13178a['MAX_FRAGMENT_UNIFORM_VECTORS']),'vertexTextures':_0x105ae6>0x0,'maxSamples':_0x13178a['getParameter'](_0x13178a['MAX_SAMPLES'])};}function _0x421333(_0x40df2d){const _0x503834=this;let _0x375d4c=null,_0x19205a=0x0,_0x5a08c8=!0x1,_0x28605f=!0x1;const _0x4e982c=new _0x42a528['Zcv'](),_0x5d4f92=new _0x42a528['dwI'](),_0x1d4dfb={'value':null,'needsUpdate':!0x1};function _0x58afcf(_0x1d8f82,_0x33cba9,_0x3f0ca8,_0x597f82){const _0x18bc8d=null!==_0x1d8f82?_0x1d8f82['length']:0x0;let _0x1d507f=null;if(0x0!==_0x18bc8d){if(_0x1d507f=_0x1d4dfb['value'],!0x0!==_0x597f82||null===_0x1d507f){const _0x330ed9=_0x3f0ca8+0x4*_0x18bc8d,_0x35a2e2=_0x33cba9['matrixWorldInverse'];_0x5d4f92['getNormalMatrix'](_0x35a2e2),(null===_0x1d507f||_0x1d507f['length']<_0x330ed9)&&(_0x1d507f=new Float32Array(_0x330ed9));for(let _0x27d029=0x0,_0x1e5511=_0x3f0ca8;_0x27d029!==_0x18bc8d;++_0x27d029,_0x1e5511+=0x4)_0x4e982c['copy'](_0x1d8f82[_0x27d029])['applyMatrix4'](_0x35a2e2,_0x5d4f92),_0x4e982c['normal']['toArray'](_0x1d507f,_0x1e5511),_0x1d507f[_0x1e5511+0x3]=_0x4e982c['constant'];}_0x1d4dfb['value']=_0x1d507f,_0x1d4dfb['needsUpdate']=!0x0;}return _0x503834['numPlanes']=_0x18bc8d,_0x503834['numIntersection']=0x0,_0x1d507f;}this['uniform']=_0x1d4dfb,this['numPlanes']=0x0,this['numIntersection']=0x0,this['init']=function(_0x2cd590,_0x312aab){const _0x47072c=0x0!==_0x2cd590['length']||_0x312aab||0x0!==_0x19205a||_0x5a08c8;return _0x5a08c8=_0x312aab,_0x19205a=_0x2cd590['length'],_0x47072c;},this['beginShadows']=function(){_0x28605f=!0x0,_0x58afcf(null);},this['endShadows']=function(){_0x28605f=!0x1;},this['setGlobalState']=function(_0x37b493,_0x3d340d){_0x375d4c=_0x58afcf(_0x37b493,_0x3d340d,0x0);},this['setState']=function(_0x19ea08,_0x5f1a9a,_0x582f90){const _0x22bd97=_0x19ea08['clippingPlanes'],_0x450f6e=_0x19ea08['clipIntersection'],_0x423fdc=_0x19ea08['clipShadows'],_0x2c7cab=_0x40df2d['get'](_0x19ea08);if(!_0x5a08c8||null===_0x22bd97||0x0===_0x22bd97['length']||_0x28605f&&!_0x423fdc)_0x28605f?_0x58afcf(null):(function(){_0x1d4dfb['value']!==_0x375d4c&&(_0x1d4dfb['value']=_0x375d4c,_0x1d4dfb['needsUpdate']=_0x19205a>0x0),(_0x503834['numPlanes']=_0x19205a,_0x503834['numIntersection']=0x0);}());else{const _0x5f1855=_0x28605f?0x0:_0x19205a,_0x1f0c70=0x4*_0x5f1855;let _0x39bf6c=_0x2c7cab['clippingState']||null;_0x1d4dfb['value']=_0x39bf6c,_0x39bf6c=_0x58afcf(_0x22bd97,_0x5f1a9a,_0x1f0c70,_0x582f90);for(let _0x2a3911=0x0;_0x2a3911!==_0x1f0c70;++_0x2a3911)_0x39bf6c[_0x2a3911]=_0x375d4c[_0x2a3911];_0x2c7cab['clippingState']=_0x39bf6c,this['numIntersection']=_0x450f6e?this['numPlanes']:0x0,this['numPlanes']+=_0x5f1855;}};}function _0x1b694f(_0x114188){let _0x43dd93=new WeakMap();function _0x63c716(_0x1183b7,_0x36eb79){return _0x36eb79===_0x42a528['wfO']?_0x1183b7['mapping']=_0x42a528['hy7']:_0x36eb79===_0x42a528['uV5']&&(_0x1183b7['mapping']=_0x42a528['xFO']),_0x1183b7;}function _0x5db0e9(_0x27f058){const _0x21d71d=_0x27f058['target'];_0x21d71d['removeEventListener']('dispose',_0x5db0e9);const _0x1f1560=_0x43dd93['get'](_0x21d71d);void 0x0!==_0x1f1560&&(_0x43dd93['delete'](_0x21d71d),_0x1f1560['dispose']());}return{'get':function(_0x123d17){if(_0x123d17&&_0x123d17['isTexture']){const _0x59c7c2=_0x123d17['mapping'];if(_0x59c7c2===_0x42a528['wfO']||_0x59c7c2===_0x42a528['uV5']){if(_0x43dd93['has'](_0x123d17))return _0x63c716(_0x43dd93['get'](_0x123d17)['texture'],_0x123d17['mapping']);{const _0x308b8e=_0x123d17['image'];if(_0x308b8e&&_0x308b8e['height']>0x0){const _0x462f02=new _0x42a528['o6l'](_0x308b8e['height']);return _0x462f02['fromEquirectangularTexture'](_0x114188,_0x123d17),_0x43dd93['set'](_0x123d17,_0x462f02),_0x123d17['addEventListener']('dispose',_0x5db0e9),_0x63c716(_0x462f02['texture'],_0x123d17['mapping']);}return null;}}}return _0x123d17;},'dispose':function(){_0x43dd93=new WeakMap();}};}const _0x1471d6=[0.125,0.215,0.35,0.446,0.526,0.582],_0x2f367c=0x14,_0x156d03=new _0x42a528['qUd'](),_0x33415f=new _0x42a528['Q1f']();let _0x19ab97=null,_0x13a290=0x0,_0x32c030=0x0,_0x39372a=!0x1;const _0x1aaf06=(0x1+Math['sqrt'](0x5))/0x2,_0x490728=0x1/_0x1aaf06,_0x18635e=[new _0x42a528['Pq0'](-_0x1aaf06,_0x490728,0x0),new _0x42a528['Pq0'](_0x1aaf06,_0x490728,0x0),new _0x42a528['Pq0'](-_0x490728,0x0,_0x1aaf06),new _0x42a528['Pq0'](_0x490728,0x0,_0x1aaf06),new _0x42a528['Pq0'](0x0,_0x1aaf06,-_0x490728),new _0x42a528['Pq0'](0x0,_0x1aaf06,_0x490728),new _0x42a528['Pq0'](-0x1,0x1,-0x1),new _0x42a528['Pq0'](0x1,0x1,-0x1),new _0x42a528['Pq0'](-0x1,0x1,0x1),new _0x42a528['Pq0'](0x1,0x1,0x1)];class _0x544fd9{constructor(_0x5bb41a){this['_renderer']=_0x5bb41a,this['_pingPongRenderTarget']=null,this['_lodMax']=0x0,this['_cubeSize']=0x0,this['_lodPlanes']=[],this['_sizeLods']=[],this['_sigmas']=[],this['_blurMaterial']=null,this['_cubemapMaterial']=null,this['_equirectMaterial']=null,this['_compileMaterial'](this['_blurMaterial']);}['fromScene'](_0x58c87f,_0x425ade=0x0,_0x38510d=0.1,_0x3ab45f=0x64){_0x19ab97=this['_renderer']['getRenderTarget'](),_0x13a290=this['_renderer']['getActiveCubeFace'](),_0x32c030=this['_renderer']['getActiveMipmapLevel'](),_0x39372a=this['_renderer']['xr']['enabled'],this['_renderer']['xr']['enabled']=!0x1,this['_setSize'](0x100);const _0x42dad0=this['_allocateTargets']();return _0x42dad0['depthBuffer']=!0x0,this['_sceneToCubeUV'](_0x58c87f,_0x38510d,_0x3ab45f,_0x42dad0),_0x425ade>0x0&&this['_blur'](_0x42dad0,0x0,0x0,_0x425ade),this['_applyPMREM'](_0x42dad0),this['_cleanup'](_0x42dad0),_0x42dad0;}['fromEquirectangular'](_0x98ac86,_0x1d913c=null){return this['_fromTexture'](_0x98ac86,_0x1d913c);}['fromCubemap'](_0x2095fe,_0x3af29b=null){return this['_fromTexture'](_0x2095fe,_0x3af29b);}['compileCubemapShader'](){null===this['_cubemapMaterial']&&(this['_cubemapMaterial']=_0x517984(),this['_compileMaterial'](this['_cubemapMaterial']));}['compileEquirectangularShader'](){null===this['_equirectMaterial']&&(this['_equirectMaterial']=_0xf574ee(),this['_compileMaterial'](this['_equirectMaterial']));}['dispose'](){this['_dispose'](),null!==this['_cubemapMaterial']&&this['_cubemapMaterial']['dispose'](),null!==this['_equirectMaterial']&&this['_equirectMaterial']['dispose']();}['_setSize'](_0x4848ea){this['_lodMax']=Math['floor'](Math['log2'](_0x4848ea)),this['_cubeSize']=Math['pow'](0x2,this['_lodMax']);}['_dispose'](){null!==this['_blurMaterial']&&this['_blurMaterial']['dispose'](),null!==this['_pingPongRenderTarget']&&this['_pingPongRenderTarget']['dispose']();for(let _0x30028b=0x0;_0x30028b<this['_lodPlanes']['length'];_0x30028b++)this['_lodPlanes'][_0x30028b]['dispose']();}['_cleanup'](_0x54e76f){this['_renderer']['setRenderTarget'](_0x19ab97,_0x13a290,_0x32c030),this['_renderer']['xr']['enabled']=_0x39372a,_0x54e76f['scissorTest']=!0x1,_0x17270a(_0x54e76f,0x0,0x0,_0x54e76f['width'],_0x54e76f['height']);}['_fromTexture'](_0x2f91d0,_0x475ef8){_0x2f91d0['mapping']===_0x42a528['hy7']||_0x2f91d0['mapping']===_0x42a528['xFO']?this['_setSize'](0x0===_0x2f91d0['image']['length']?0x10:_0x2f91d0['image'][0x0]['width']||_0x2f91d0['image'][0x0]['image']['width']):this['_setSize'](_0x2f91d0['image']['width']/0x4),_0x19ab97=this['_renderer']['getRenderTarget'](),_0x13a290=this['_renderer']['getActiveCubeFace'](),_0x32c030=this['_renderer']['getActiveMipmapLevel'](),_0x39372a=this['_renderer']['xr']['enabled'],this['_renderer']['xr']['enabled']=!0x1;const _0x5e9d30=_0x475ef8||this['_allocateTargets']();return this['_textureToCubeUV'](_0x2f91d0,_0x5e9d30),this['_applyPMREM'](_0x5e9d30),this['_cleanup'](_0x5e9d30),_0x5e9d30;}['_allocateTargets'](){const _0x4de2b5=0x3*Math['max'](this['_cubeSize'],0x70),_0xfb405b=0x4*this['_cubeSize'],_0x47a7d3={'magFilter':_0x42a528['k6q'],'minFilter':_0x42a528['k6q'],'generateMipmaps':!0x1,'type':_0x42a528['ix0'],'format':_0x42a528['GWd'],'colorSpace':_0x42a528['Zr2'],'depthBuffer':!0x1},_0x5cec57=_0x4c4ce6(_0x4de2b5,_0xfb405b,_0x47a7d3);if(null===this['_pingPongRenderTarget']||this['_pingPongRenderTarget']['width']!==_0x4de2b5||this['_pingPongRenderTarget']['height']!==_0xfb405b){null!==this['_pingPongRenderTarget']&&this['_dispose'](),this['_pingPongRenderTarget']=_0x4c4ce6(_0x4de2b5,_0xfb405b,_0x47a7d3);const {_lodMax:_0x48ea1d}=this;({sizeLods:this['_sizeLods'],lodPlanes:this['_lodPlanes'],sigmas:this['_sigmas']}=function(_0x116334){const _0x81938f=[],_0x3c36c7=[],_0xae4713=[];let _0x53ad5c=_0x116334;const _0x2c1bf2=_0x116334-0x4+0x1+_0x1471d6['length'];for(let _0x496102=0x0;_0x496102<_0x2c1bf2;_0x496102++){const _0x1e5d6c=Math['pow'](0x2,_0x53ad5c);_0x3c36c7['push'](_0x1e5d6c);let _0x435a4b=0x1/_0x1e5d6c;_0x496102>_0x116334-0x4?_0x435a4b=_0x1471d6[_0x496102-_0x116334+0x4-0x1]:0x0===_0x496102&&(_0x435a4b=0x0),_0xae4713['push'](_0x435a4b);const _0x24a79f=0x1/(_0x1e5d6c-0x2),_0x31dfde=-_0x24a79f,_0x210c81=0x1+_0x24a79f,_0x363ccd=[_0x31dfde,_0x31dfde,_0x210c81,_0x31dfde,_0x210c81,_0x210c81,_0x31dfde,_0x31dfde,_0x210c81,_0x210c81,_0x31dfde,_0x210c81],_0x274c6f=0x6,_0x28e5e6=0x6,_0x1a903f=0x3,_0x260afd=0x2,_0x3a4ca1=0x1,_0x3a1a1f=new Float32Array(_0x1a903f*_0x28e5e6*_0x274c6f),_0x1571ad=new Float32Array(_0x260afd*_0x28e5e6*_0x274c6f),_0x18c9c3=new Float32Array(_0x3a4ca1*_0x28e5e6*_0x274c6f);for(let _0x22c0b0=0x0;_0x22c0b0<_0x274c6f;_0x22c0b0++){const _0x1db971=_0x22c0b0%0x3*0x2/0x3-0x1,_0x521f3a=_0x22c0b0>0x2?0x0:-0x1,_0x12e436=[_0x1db971,_0x521f3a,0x0,_0x1db971+0x2/0x3,_0x521f3a,0x0,_0x1db971+0x2/0x3,_0x521f3a+0x1,0x0,_0x1db971,_0x521f3a,0x0,_0x1db971+0x2/0x3,_0x521f3a+0x1,0x0,_0x1db971,_0x521f3a+0x1,0x0];_0x3a1a1f['set'](_0x12e436,_0x1a903f*_0x28e5e6*_0x22c0b0),_0x1571ad['set'](_0x363ccd,_0x260afd*_0x28e5e6*_0x22c0b0);const _0x1c9b6f=[_0x22c0b0,_0x22c0b0,_0x22c0b0,_0x22c0b0,_0x22c0b0,_0x22c0b0];_0x18c9c3['set'](_0x1c9b6f,_0x3a4ca1*_0x28e5e6*_0x22c0b0);}const _0x1790a0=new _0x42a528['LoY']();_0x1790a0['setAttribute']('position',new _0x42a528['THS'](_0x3a1a1f,_0x1a903f)),_0x1790a0['setAttribute']('uv',new _0x42a528['THS'](_0x1571ad,_0x260afd)),_0x1790a0['setAttribute']('faceIndex',new _0x42a528['THS'](_0x18c9c3,_0x3a4ca1)),_0x81938f['push'](_0x1790a0),_0x53ad5c>0x4&&_0x53ad5c--;}return{'lodPlanes':_0x81938f,'sizeLods':_0x3c36c7,'sigmas':_0xae4713};}(_0x48ea1d),this['_blurMaterial']=function(_0x57b6b0,_0x2311a2,_0x101210){const _0x51be81=new Float32Array(_0x2f367c),_0x5e21b5=new _0x42a528['Pq0'](0x0,0x1,0x0),_0x14dc46=new _0x42a528['BKk']({'name':'SphericalGaussianBlur','defines':{'n':_0x2f367c,'CUBEUV_TEXEL_WIDTH':0x1/_0x2311a2,'CUBEUV_TEXEL_HEIGHT':0x1/_0x101210,'CUBEUV_MAX_MIP':_0x57b6b0+'.0'},'uniforms':{'envMap':{'value':null},'samples':{'value':0x1},'weights':{'value':_0x51be81},'latitudinal':{'value':!0x1},'dTheta':{'value':0x0},'mipInt':{'value':0x0},'poleAxis':{'value':_0x5e21b5}},'vertexShader':_0x1c09df(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x09\x09\x09uniform\x20int\x20samples;\x0a\x09\x09\x09uniform\x20float\x20weights[\x20n\x20];\x0a\x09\x09\x09uniform\x20bool\x20latitudinal;\x0a\x09\x09\x09uniform\x20float\x20dTheta;\x0a\x09\x09\x09uniform\x20float\x20mipInt;\x0a\x09\x09\x09uniform\x20vec3\x20poleAxis;\x0a\x0a\x09\x09\x09#define\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09#include\x20<cube_uv_reflection_fragment>\x0a\x0a\x09\x09\x09vec3\x20getSample(\x20float\x20theta,\x20vec3\x20axis\x20)\x20{\x0a\x0a\x09\x09\x09\x09float\x20cosTheta\x20=\x20cos(\x20theta\x20);\x0a\x09\x09\x09\x09//\x20Rodrigues\x27\x20axis-angle\x20rotation\x0a\x09\x09\x09\x09vec3\x20sampleDirection\x20=\x20vOutputDirection\x20*\x20cosTheta\x0a\x09\x09\x09\x09\x09+\x20cross(\x20axis,\x20vOutputDirection\x20)\x20*\x20sin(\x20theta\x20)\x0a\x09\x09\x09\x09\x09+\x20axis\x20*\x20dot(\x20axis,\x20vOutputDirection\x20)\x20*\x20(\x201.0\x20-\x20cosTheta\x20);\x0a\x0a\x09\x09\x09\x09return\x20bilinearCubeUV(\x20envMap,\x20sampleDirection,\x20mipInt\x20);\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20axis\x20=\x20latitudinal\x20?\x20poleAxis\x20:\x20cross(\x20poleAxis,\x20vOutputDirection\x20);\x0a\x0a\x09\x09\x09\x09if\x20(\x20all(\x20equal(\x20axis,\x20vec3(\x200.0\x20)\x20)\x20)\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09axis\x20=\x20vec3(\x20vOutputDirection.z,\x200.0,\x20-\x20vOutputDirection.x\x20);\x0a\x0a\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09axis\x20=\x20normalize(\x20axis\x20);\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x201.0\x20);\x0a\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x200\x20]\x20*\x20getSample(\x200.0,\x20axis\x20);\x0a\x0a\x09\x09\x09\x09for\x20(\x20int\x20i\x20=\x201;\x20i\x20<\x20n;\x20i++\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09if\x20(\x20i\x20>=\x20samples\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09\x09break;\x0a\x0a\x09\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09\x09float\x20theta\x20=\x20dTheta\x20*\x20float(\x20i\x20);\x0a\x09\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x20i\x20]\x20*\x20getSample(\x20-1.0\x20*\x20theta,\x20axis\x20);\x0a\x09\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x20i\x20]\x20*\x20getSample(\x20theta,\x20axis\x20);\x0a\x0a\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x42a528['XIg'],'depthTest':!0x1,'depthWrite':!0x1});return _0x14dc46;}(_0x48ea1d,_0x4de2b5,_0xfb405b));}return _0x5cec57;}['_compileMaterial'](_0x237658){const _0x4fbfca=new _0x42a528['eaF'](this['_lodPlanes'][0x0],_0x237658);this['_renderer']['compile'](_0x4fbfca,_0x156d03);}['_sceneToCubeUV'](_0x3a73bf,_0x369927,_0x4a6f9d,_0x324640){const _0x545d2f=new _0x42a528['ubm'](0x5a,0x1,_0x369927,_0x4a6f9d),_0x5c5ae7=[0x1,-0x1,0x1,0x1,0x1,0x1],_0x4b40e9=[0x1,0x1,0x1,-0x1,-0x1,-0x1],_0x306062=this['_renderer'],_0x1a398e=_0x306062['autoClear'],_0x34c3d4=_0x306062['toneMapping'];_0x306062['getClearColor'](_0x33415f),_0x306062['toneMapping']=_0x42a528['y_p'],_0x306062['autoClear']=!0x1;const _0x40d457=new _0x42a528['V9B']({'name':'PMREM.Background','side':_0x42a528['hsX'],'depthWrite':!0x1,'depthTest':!0x1}),_0x166bb7=new _0x42a528['eaF'](new _0x42a528['iNn'](),_0x40d457);let _0x5ef5ea=!0x1;const _0x26cbe5=_0x3a73bf['background'];_0x26cbe5?_0x26cbe5['isColor']&&(_0x40d457['color']['copy'](_0x26cbe5),_0x3a73bf['background']=null,_0x5ef5ea=!0x0):(_0x40d457['color']['copy'](_0x33415f),_0x5ef5ea=!0x0);for(let _0x337a9c=0x0;_0x337a9c<0x6;_0x337a9c++){const _0xa1ffcc=_0x337a9c%0x3;0x0===_0xa1ffcc?(_0x545d2f['up']['set'](0x0,_0x5c5ae7[_0x337a9c],0x0),_0x545d2f['lookAt'](_0x4b40e9[_0x337a9c],0x0,0x0)):0x1===_0xa1ffcc?(_0x545d2f['up']['set'](0x0,0x0,_0x5c5ae7[_0x337a9c]),_0x545d2f['lookAt'](0x0,_0x4b40e9[_0x337a9c],0x0)):(_0x545d2f['up']['set'](0x0,_0x5c5ae7[_0x337a9c],0x0),_0x545d2f['lookAt'](0x0,0x0,_0x4b40e9[_0x337a9c]));const _0x501b93=this['_cubeSize'];_0x17270a(_0x324640,_0xa1ffcc*_0x501b93,_0x337a9c>0x2?_0x501b93:0x0,_0x501b93,_0x501b93),_0x306062['setRenderTarget'](_0x324640),_0x5ef5ea&&_0x306062['render'](_0x166bb7,_0x545d2f),_0x306062['render'](_0x3a73bf,_0x545d2f);}_0x166bb7['geometry']['dispose'](),_0x166bb7['material']['dispose'](),_0x306062['toneMapping']=_0x34c3d4,_0x306062['autoClear']=_0x1a398e,_0x3a73bf['background']=_0x26cbe5;}['_textureToCubeUV'](_0xe6d641,_0x18bd54){const _0x53daa6=this['_renderer'],_0x4fe557=_0xe6d641['mapping']===_0x42a528['hy7']||_0xe6d641['mapping']===_0x42a528['xFO'];_0x4fe557?(null===this['_cubemapMaterial']&&(this['_cubemapMaterial']=_0x517984()),this['_cubemapMaterial']['uniforms']['flipEnvMap']['value']=!0x1===_0xe6d641['isRenderTargetTexture']?-0x1:0x1):null===this['_equirectMaterial']&&(this['_equirectMaterial']=_0xf574ee());const _0x14605a=_0x4fe557?this['_cubemapMaterial']:this['_equirectMaterial'],_0xc22849=new _0x42a528['eaF'](this['_lodPlanes'][0x0],_0x14605a);_0x14605a['uniforms']['envMap']['value']=_0xe6d641;const _0x103d14=this['_cubeSize'];_0x17270a(_0x18bd54,0x0,0x0,0x3*_0x103d14,0x2*_0x103d14),_0x53daa6['setRenderTarget'](_0x18bd54),_0x53daa6['render'](_0xc22849,_0x156d03);}['_applyPMREM'](_0x5e456a){const _0x3380bc=this['_renderer'],_0x5d4c40=_0x3380bc['autoClear'];_0x3380bc['autoClear']=!0x1;const _0x3889a1=this['_lodPlanes']['length'];for(let _0x231d28=0x1;_0x231d28<_0x3889a1;_0x231d28++){const _0x201431=Math['sqrt'](this['_sigmas'][_0x231d28]*this['_sigmas'][_0x231d28]-this['_sigmas'][_0x231d28-0x1]*this['_sigmas'][_0x231d28-0x1]),_0x5f3ff4=_0x18635e[(_0x3889a1-_0x231d28-0x1)%_0x18635e['length']];this['_blur'](_0x5e456a,_0x231d28-0x1,_0x231d28,_0x201431,_0x5f3ff4);}_0x3380bc['autoClear']=_0x5d4c40;}['_blur'](_0x32ec50,_0x54c173,_0x58cb05,_0x3c7324,_0x509410){const _0x4564dd=this['_pingPongRenderTarget'];this['_halfBlur'](_0x32ec50,_0x4564dd,_0x54c173,_0x58cb05,_0x3c7324,'latitudinal',_0x509410),this['_halfBlur'](_0x4564dd,_0x32ec50,_0x58cb05,_0x58cb05,_0x3c7324,'longitudinal',_0x509410);}['_halfBlur'](_0x42d57c,_0x3aaf70,_0x417382,_0xf17c83,_0x315323,_0x588a56,_0x3daa02){const _0xf3ad5e=this['_renderer'],_0x28fb45=this['_blurMaterial'];'latitudinal'!==_0x588a56&&'longitudinal'!==_0x588a56&&console['error']('blur\x20direction\x20must\x20be\x20either\x20latitudinal\x20or\x20longitudinal!');const _0x258416=new _0x42a528['eaF'](this['_lodPlanes'][_0xf17c83],_0x28fb45),_0xba4c45=_0x28fb45['uniforms'],_0x1b0b11=this['_sizeLods'][_0x417382]-0x1,_0x2e7e4f=isFinite(_0x315323)?Math['PI']/(0x2*_0x1b0b11):0x2*Math['PI']/0x27,_0x1ea0c1=_0x315323/_0x2e7e4f,_0xdd707e=isFinite(_0x315323)?0x1+Math['floor'](0x3*_0x1ea0c1):_0x2f367c;_0xdd707e>_0x2f367c&&console['warn']('sigmaRadians,\x20'+_0x315323+',\x20is\x20too\x20large\x20and\x20will\x20clip,\x20as\x20it\x20requested\x20'+_0xdd707e+'\x20samples\x20when\x20the\x20maximum\x20is\x20set\x20to\x2020');const _0x432c23=[];let _0x57b1c2=0x0;for(let _0x38f961=0x0;_0x38f961<_0x2f367c;++_0x38f961){const _0x2612bb=_0x38f961/_0x1ea0c1,_0x1e95d5=Math['exp'](-_0x2612bb*_0x2612bb/0x2);_0x432c23['push'](_0x1e95d5),0x0===_0x38f961?_0x57b1c2+=_0x1e95d5:_0x38f961<_0xdd707e&&(_0x57b1c2+=0x2*_0x1e95d5);}for(let _0x250029=0x0;_0x250029<_0x432c23['length'];_0x250029++)_0x432c23[_0x250029]=_0x432c23[_0x250029]/_0x57b1c2;_0xba4c45['envMap']['value']=_0x42d57c['texture'],_0xba4c45['samples']['value']=_0xdd707e,_0xba4c45['weights']['value']=_0x432c23,_0xba4c45['latitudinal']['value']='latitudinal'===_0x588a56,_0x3daa02&&(_0xba4c45['poleAxis']['value']=_0x3daa02);const {_lodMax:_0x5b4be9}=this;_0xba4c45['dTheta']['value']=_0x2e7e4f,_0xba4c45['mipInt']['value']=_0x5b4be9-_0x417382;const _0x31e552=this['_sizeLods'][_0xf17c83];_0x17270a(_0x3aaf70,0x3*_0x31e552*(_0xf17c83>_0x5b4be9-0x4?_0xf17c83-_0x5b4be9+0x4:0x0),0x4*(this['_cubeSize']-_0x31e552),0x3*_0x31e552,0x2*_0x31e552),_0xf3ad5e['setRenderTarget'](_0x3aaf70),_0xf3ad5e['render'](_0x258416,_0x156d03);}}function _0x4c4ce6(_0x364b25,_0x49145c,_0x156e42){const _0x4a9534=new _0x42a528['nWS'](_0x364b25,_0x49145c,_0x156e42);return _0x4a9534['texture']['mapping']=_0x42a528['Om'],_0x4a9534['texture']['name']='PMREM.cubeUv',_0x4a9534['scissorTest']=!0x0,_0x4a9534;}function _0x17270a(_0xb54815,_0x34d6a8,_0xf1e70,_0x41c594,_0x17a29b){_0xb54815['viewport']['set'](_0x34d6a8,_0xf1e70,_0x41c594,_0x17a29b),_0xb54815['scissor']['set'](_0x34d6a8,_0xf1e70,_0x41c594,_0x17a29b);}function _0xf574ee(){return new _0x42a528['BKk']({'name':'EquirectangularToCubeUV','uniforms':{'envMap':{'value':null}},'vertexShader':_0x1c09df(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x0a\x09\x09\x09#include\x20<common>\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20outputDirection\x20=\x20normalize(\x20vOutputDirection\x20);\x0a\x09\x09\x09\x09vec2\x20uv\x20=\x20equirectUv(\x20outputDirection\x20);\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(\x20texture2D\x20(\x20envMap,\x20uv\x20).rgb,\x201.0\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x42a528['XIg'],'depthTest':!0x1,'depthWrite':!0x1});}function _0x517984(){return new _0x42a528['BKk']({'name':'CubemapToCubeUV','uniforms':{'envMap':{'value':null},'flipEnvMap':{'value':-0x1}},'vertexShader':_0x1c09df(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09uniform\x20float\x20flipEnvMap;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20textureCube(\x20envMap,\x20vec3(\x20flipEnvMap\x20*\x20vOutputDirection.x,\x20vOutputDirection.yz\x20)\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x42a528['XIg'],'depthTest':!0x1,'depthWrite':!0x1});}function _0x1c09df(){return'\x0a\x0a\x09\x09precision\x20mediump\x20float;\x0a\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09attribute\x20float\x20faceIndex;\x0a\x0a\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09//\x20RH\x20coordinate\x20system;\x20PMREM\x20face-indexing\x20convention\x0a\x09\x09vec3\x20getDirection(\x20vec2\x20uv,\x20float\x20face\x20)\x20{\x0a\x0a\x09\x09\x09uv\x20=\x202.0\x20*\x20uv\x20-\x201.0;\x0a\x0a\x09\x09\x09vec3\x20direction\x20=\x20vec3(\x20uv,\x201.0\x20);\x0a\x0a\x09\x09\x09if\x20(\x20face\x20==\x200.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.zyx;\x20//\x20(\x201,\x20v,\x20u\x20)\x20pos\x20x\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x201.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.xzy;\x0a\x09\x09\x09\x09direction.xz\x20*=\x20-1.0;\x20//\x20(\x20-u,\x201,\x20-v\x20)\x20pos\x20y\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x202.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction.x\x20*=\x20-1.0;\x20//\x20(\x20-u,\x20v,\x201\x20)\x20pos\x20z\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x203.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.zyx;\x0a\x09\x09\x09\x09direction.xz\x20*=\x20-1.0;\x20//\x20(\x20-1,\x20v,\x20-u\x20)\x20neg\x20x\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x204.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.xzy;\x0a\x09\x09\x09\x09direction.xy\x20*=\x20-1.0;\x20//\x20(\x20-u,\x20-1,\x20v\x20)\x20neg\x20y\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x205.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction.z\x20*=\x20-1.0;\x20//\x20(\x20u,\x20v,\x20-1\x20)\x20neg\x20z\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09return\x20direction;\x0a\x0a\x09\x09}\x0a\x0a\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09vOutputDirection\x20=\x20getDirection(\x20uv,\x20faceIndex\x20);\x0a\x09\x09\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x0a\x09\x09}\x0a\x09';}function _0x3cd108(_0x1bbd20){let _0x218927=new WeakMap(),_0x1ec655=null;function _0x2d98a3(_0x25cd52){const _0xf9e333=_0x25cd52['target'];_0xf9e333['removeEventListener']('dispose',_0x2d98a3);const _0x5c171f=_0x218927['get'](_0xf9e333);void 0x0!==_0x5c171f&&(_0x218927['delete'](_0xf9e333),_0x5c171f['dispose']());}return{'get':function(_0x47ecf2){if(_0x47ecf2&&_0x47ecf2['isTexture']){const _0x1f412d=_0x47ecf2['mapping'],_0x564fd8=_0x1f412d===_0x42a528['wfO']||_0x1f412d===_0x42a528['uV5'],_0x36cb11=_0x1f412d===_0x42a528['hy7']||_0x1f412d===_0x42a528['xFO'];if(_0x564fd8||_0x36cb11){let _0x2e50c0=_0x218927['get'](_0x47ecf2);const _0x26378e=void 0x0!==_0x2e50c0?_0x2e50c0['texture']['pmremVersion']:0x0;if(_0x47ecf2['isRenderTargetTexture']&&_0x47ecf2['pmremVersion']!==_0x26378e)return null===_0x1ec655&&(_0x1ec655=new _0x544fd9(_0x1bbd20)),_0x2e50c0=_0x564fd8?_0x1ec655['fromEquirectangular'](_0x47ecf2,_0x2e50c0):_0x1ec655['fromCubemap'](_0x47ecf2,_0x2e50c0),_0x2e50c0['texture']['pmremVersion']=_0x47ecf2['pmremVersion'],_0x218927['set'](_0x47ecf2,_0x2e50c0),_0x2e50c0['texture'];if(void 0x0!==_0x2e50c0)return _0x2e50c0['texture'];{const _0x17c2df=_0x47ecf2['image'];return _0x564fd8&&_0x17c2df&&_0x17c2df['height']>0x0||_0x36cb11&&_0x17c2df&&function(_0x175bd5){let _0x149600=0x0;const _0x427d0c=0x6;for(let _0x2e36dc=0x0;_0x2e36dc<_0x427d0c;_0x2e36dc++)void 0x0!==_0x175bd5[_0x2e36dc]&&_0x149600++;return _0x149600===_0x427d0c;}(_0x17c2df)?(null===_0x1ec655&&(_0x1ec655=new _0x544fd9(_0x1bbd20)),_0x2e50c0=_0x564fd8?_0x1ec655['fromEquirectangular'](_0x47ecf2):_0x1ec655['fromCubemap'](_0x47ecf2),_0x2e50c0['texture']['pmremVersion']=_0x47ecf2['pmremVersion'],_0x218927['set'](_0x47ecf2,_0x2e50c0),_0x47ecf2['addEventListener']('dispose',_0x2d98a3),_0x2e50c0['texture']):null;}}}return _0x47ecf2;},'dispose':function(){_0x218927=new WeakMap(),null!==_0x1ec655&&(_0x1ec655['dispose'](),_0x1ec655=null);}};}function _0x59bb47(_0x1bbafa){const _0x386776={};function _0x5cbe84(_0x5cc53d){if(void 0x0!==_0x386776[_0x5cc53d])return _0x386776[_0x5cc53d];let _0x5b692f;switch(_0x5cc53d){case'WEBGL_depth_texture':_0x5b692f=_0x1bbafa['getExtension']('WEBGL_depth_texture')||_0x1bbafa['getExtension']('MOZ_WEBGL_depth_texture')||_0x1bbafa['getExtension']('WEBKIT_WEBGL_depth_texture');break;case'EXT_texture_filter_anisotropic':_0x5b692f=_0x1bbafa['getExtension']('EXT_texture_filter_anisotropic')||_0x1bbafa['getExtension']('MOZ_EXT_texture_filter_anisotropic')||_0x1bbafa['getExtension']('WEBKIT_EXT_texture_filter_anisotropic');break;case'WEBGL_compressed_texture_s3tc':_0x5b692f=_0x1bbafa['getExtension']('WEBGL_compressed_texture_s3tc')||_0x1bbafa['getExtension']('MOZ_WEBGL_compressed_texture_s3tc')||_0x1bbafa['getExtension']('WEBKIT_WEBGL_compressed_texture_s3tc');break;case'WEBGL_compressed_texture_pvrtc':_0x5b692f=_0x1bbafa['getExtension']('WEBGL_compressed_texture_pvrtc')||_0x1bbafa['getExtension']('WEBKIT_WEBGL_compressed_texture_pvrtc');break;default:_0x5b692f=_0x1bbafa['getExtension'](_0x5cc53d);}return _0x386776[_0x5cc53d]=_0x5b692f,_0x5b692f;}return{'has':function(_0x410b9d){return null!==_0x5cbe84(_0x410b9d);},'init':function(){_0x5cbe84('EXT_color_buffer_float'),_0x5cbe84('WEBGL_clip_cull_distance'),_0x5cbe84('OES_texture_float_linear'),_0x5cbe84('EXT_color_buffer_half_float'),_0x5cbe84('WEBGL_multisampled_render_to_texture'),_0x5cbe84('WEBGL_render_shared_exponent');},'get':function(_0x12e3cd){const _0x456e85=_0x5cbe84(_0x12e3cd);return null===_0x456e85&&(0x0,_0x42a528['mcG'])('THREE.WebGLRenderer:\x20'+_0x12e3cd+'\x20extension\x20not\x20supported.'),_0x456e85;}};}function _0xae9ae1(_0x2c9b53,_0x12e7cc,_0x5eb25d,_0x299696){const _0x1b6913={},_0x5b7d1f=new WeakMap();function _0xee651f(_0x4e9821){const _0x3a72b2=_0x4e9821['target'];null!==_0x3a72b2['index']&&_0x12e7cc['remove'](_0x3a72b2['index']);for(const _0x8c636a in _0x3a72b2['attributes'])_0x12e7cc['remove'](_0x3a72b2['attributes'][_0x8c636a]);_0x3a72b2['removeEventListener']('dispose',_0xee651f),delete _0x1b6913[_0x3a72b2['id']];const _0x3cca9a=_0x5b7d1f['get'](_0x3a72b2);_0x3cca9a&&(_0x12e7cc['remove'](_0x3cca9a),_0x5b7d1f['delete'](_0x3a72b2)),_0x299696['releaseStatesOfGeometry'](_0x3a72b2),!0x0===_0x3a72b2['isInstancedBufferGeometry']&&delete _0x3a72b2['_maxInstanceCount'],_0x5eb25d['memory']['geometries']--;}function _0xbddc68(_0x12cdc1){const _0x34b544=[],_0x14ac3f=_0x12cdc1['index'],_0x320834=_0x12cdc1['attributes']['position'];let _0x12c5b2=0x0;if(null!==_0x14ac3f){const _0x59da04=_0x14ac3f['array'];_0x12c5b2=_0x14ac3f['version'];for(let _0x177a6b=0x0,_0x151f3e=_0x59da04['length'];_0x177a6b<_0x151f3e;_0x177a6b+=0x3){const _0x450ce5=_0x59da04[_0x177a6b+0x0],_0x1f9fcb=_0x59da04[_0x177a6b+0x1],_0x2b5d66=_0x59da04[_0x177a6b+0x2];_0x34b544['push'](_0x450ce5,_0x1f9fcb,_0x1f9fcb,_0x2b5d66,_0x2b5d66,_0x450ce5);}}else{if(void 0x0===_0x320834)return;{const _0x12d6a9=_0x320834['array'];_0x12c5b2=_0x320834['version'];for(let _0x12247e=0x0,_0x53fe99=_0x12d6a9['length']/0x3-0x1;_0x12247e<_0x53fe99;_0x12247e+=0x3){const _0x48474c=_0x12247e+0x0,_0xcc30dd=_0x12247e+0x1,_0x57642d=_0x12247e+0x2;_0x34b544['push'](_0x48474c,_0xcc30dd,_0xcc30dd,_0x57642d,_0x57642d,_0x48474c);}}}const _0x569dcd=new(((0x0,_0x42a528['AQS'])(_0x34b544))?_0x42a528['MW4']:_0x42a528['A$4'])(_0x34b544,0x1);_0x569dcd['version']=_0x12c5b2;const _0x37421d=_0x5b7d1f['get'](_0x12cdc1);_0x37421d&&_0x12e7cc['remove'](_0x37421d),_0x5b7d1f['set'](_0x12cdc1,_0x569dcd);}return{'get':function(_0x3c3130,_0x178385){return!0x0===_0x1b6913[_0x178385['id']]||(_0x178385['addEventListener']('dispose',_0xee651f),_0x1b6913[_0x178385['id']]=!0x0,_0x5eb25d['memory']['geometries']++),_0x178385;},'update':function(_0x33a4a1){const _0x39b783=_0x33a4a1['attributes'];for(const _0x18301c in _0x39b783)_0x12e7cc['update'](_0x39b783[_0x18301c],_0x2c9b53['ARRAY_BUFFER']);},'getWireframeAttribute':function(_0x1b1802){const _0x3b65fe=_0x5b7d1f['get'](_0x1b1802);if(_0x3b65fe){const _0x4cf885=_0x1b1802['index'];null!==_0x4cf885&&_0x3b65fe['version']<_0x4cf885['version']&&_0xbddc68(_0x1b1802);}else _0xbddc68(_0x1b1802);return _0x5b7d1f['get'](_0x1b1802);}};}function _0x51282b(_0x4293c1,_0x1723fe,_0x5b3f4f){let _0x11c5ac,_0x5c1dfe,_0x58a5dc;function _0x6c7dc8(_0x195907,_0x22c862,_0x2805d7){0x0!==_0x2805d7&&(_0x4293c1['drawElementsInstanced'](_0x11c5ac,_0x22c862,_0x5c1dfe,_0x195907*_0x58a5dc,_0x2805d7),_0x5b3f4f['update'](_0x22c862,_0x11c5ac,_0x2805d7));}this['setMode']=function(_0x53b4d2){_0x11c5ac=_0x53b4d2;},this['setIndex']=function(_0x256740){_0x5c1dfe=_0x256740['type'],_0x58a5dc=_0x256740['bytesPerElement'];},this['render']=function(_0x1a8d8b,_0xef3ce6){_0x4293c1['drawElements'](_0x11c5ac,_0xef3ce6,_0x5c1dfe,_0x1a8d8b*_0x58a5dc),_0x5b3f4f['update'](_0xef3ce6,_0x11c5ac,0x1);},this['renderInstances']=_0x6c7dc8,this['renderMultiDraw']=function(_0x66aef3,_0x20e017,_0x1818ff){if(0x0===_0x1818ff)return;_0x1723fe['get']('WEBGL_multi_draw')['multiDrawElementsWEBGL'](_0x11c5ac,_0x20e017,0x0,_0x5c1dfe,_0x66aef3,0x0,_0x1818ff);let _0x94d953=0x0;for(let _0x1b0ffa=0x0;_0x1b0ffa<_0x1818ff;_0x1b0ffa++)_0x94d953+=_0x20e017[_0x1b0ffa];_0x5b3f4f['update'](_0x94d953,_0x11c5ac,0x1);},this['renderMultiDrawInstances']=function(_0x3e122a,_0xddb08f,_0x1ff182,_0x2e84b0){if(0x0===_0x1ff182)return;const _0x1293c0=_0x1723fe['get']('WEBGL_multi_draw');if(null===_0x1293c0){for(let _0x30a7de=0x0;_0x30a7de<_0x3e122a['length'];_0x30a7de++)_0x6c7dc8(_0x3e122a[_0x30a7de]/_0x58a5dc,_0xddb08f[_0x30a7de],_0x2e84b0[_0x30a7de]);}else{_0x1293c0['multiDrawElementsInstancedWEBGL'](_0x11c5ac,_0xddb08f,0x0,_0x5c1dfe,_0x3e122a,0x0,_0x2e84b0,0x0,_0x1ff182);let _0x5cce4a=0x0;for(let _0x161c4a=0x0;_0x161c4a<_0x1ff182;_0x161c4a++)_0x5cce4a+=_0xddb08f[_0x161c4a]*_0x2e84b0[_0x161c4a];_0x5b3f4f['update'](_0x5cce4a,_0x11c5ac,0x1);}};}function _0x17616a(_0x5d3cd8){const _0x59e229={'frame':0x0,'calls':0x0,'triangles':0x0,'points':0x0,'lines':0x0};return{'memory':{'geometries':0x0,'textures':0x0},'render':_0x59e229,'programs':null,'autoReset':!0x0,'reset':function(){_0x59e229['calls']=0x0,_0x59e229['triangles']=0x0,_0x59e229['points']=0x0,_0x59e229['lines']=0x0;},'update':function(_0x356725,_0x4fff63,_0x984419){switch(_0x59e229['calls']++,_0x4fff63){case _0x5d3cd8['TRIANGLES']:_0x59e229['triangles']+=_0x984419*(_0x356725/0x3);break;case _0x5d3cd8['LINES']:_0x59e229['lines']+=_0x984419*(_0x356725/0x2);break;case _0x5d3cd8['LINE_STRIP']:_0x59e229['lines']+=_0x984419*(_0x356725-0x1);break;case _0x5d3cd8['LINE_LOOP']:_0x59e229['lines']+=_0x984419*_0x356725;break;case _0x5d3cd8['POINTS']:_0x59e229['points']+=_0x984419*_0x356725;break;default:console['error']('THREE.WebGLInfo:\x20Unknown\x20draw\x20mode:',_0x4fff63);}}};}function _0x290321(_0x2a3433,_0x1812d1,_0x2b4ee5){const _0x53292b=new WeakMap(),_0x4a2065=new _0x42a528['IUQ']();return{'update':function(_0x24607e,_0x117e0b,_0x19c09b){const _0x53d39b=_0x24607e['morphTargetInfluences'],_0x69eceb=_0x117e0b['morphAttributes']['position']||_0x117e0b['morphAttributes']['normal']||_0x117e0b['morphAttributes']['color'],_0x174202=void 0x0!==_0x69eceb?_0x69eceb['length']:0x0;let _0x2662d9=_0x53292b['get'](_0x117e0b);if(void 0x0===_0x2662d9||_0x2662d9['count']!==_0x174202){void 0x0!==_0x2662d9&&_0x2662d9['texture']['dispose']();const _0xaec4b0=void 0x0!==_0x117e0b['morphAttributes']['position'],_0x2101bb=void 0x0!==_0x117e0b['morphAttributes']['normal'],_0x94dc84=void 0x0!==_0x117e0b['morphAttributes']['color'],_0x116933=_0x117e0b['morphAttributes']['position']||[],_0x261f39=_0x117e0b['morphAttributes']['normal']||[],_0x52c869=_0x117e0b['morphAttributes']['color']||[];let _0x4b55a8=0x0;!0x0===_0xaec4b0&&(_0x4b55a8=0x1),!0x0===_0x2101bb&&(_0x4b55a8=0x2),!0x0===_0x94dc84&&(_0x4b55a8=0x3);let _0x52a1f0=_0x117e0b['attributes']['position']['count']*_0x4b55a8,_0x3de107=0x1;_0x52a1f0>_0x1812d1['maxTextureSize']&&(_0x3de107=Math['ceil'](_0x52a1f0/_0x1812d1['maxTextureSize']),_0x52a1f0=_0x1812d1['maxTextureSize']);const _0x23b327=new Float32Array(_0x52a1f0*_0x3de107*0x4*_0x174202),_0x338bb3=new _0x42a528['rFo'](_0x23b327,_0x52a1f0,_0x3de107,_0x174202);_0x338bb3['type']=_0x42a528['RQf'],_0x338bb3['needsUpdate']=!0x0;const _0x3b06e9=0x4*_0x4b55a8;for(let _0x9f2a6b=0x0;_0x9f2a6b<_0x174202;_0x9f2a6b++){const _0x18ea29=_0x116933[_0x9f2a6b],_0x2909c3=_0x261f39[_0x9f2a6b],_0x319e8d=_0x52c869[_0x9f2a6b],_0x5be4f1=_0x52a1f0*_0x3de107*0x4*_0x9f2a6b;for(let _0x2ce17b=0x0;_0x2ce17b<_0x18ea29['count'];_0x2ce17b++){const _0x266f55=_0x2ce17b*_0x3b06e9;!0x0===_0xaec4b0&&(_0x4a2065['fromBufferAttribute'](_0x18ea29,_0x2ce17b),_0x23b327[_0x5be4f1+_0x266f55+0x0]=_0x4a2065['x'],_0x23b327[_0x5be4f1+_0x266f55+0x1]=_0x4a2065['y'],_0x23b327[_0x5be4f1+_0x266f55+0x2]=_0x4a2065['z'],_0x23b327[_0x5be4f1+_0x266f55+0x3]=0x0),!0x0===_0x2101bb&&(_0x4a2065['fromBufferAttribute'](_0x2909c3,_0x2ce17b),_0x23b327[_0x5be4f1+_0x266f55+0x4]=_0x4a2065['x'],_0x23b327[_0x5be4f1+_0x266f55+0x5]=_0x4a2065['y'],_0x23b327[_0x5be4f1+_0x266f55+0x6]=_0x4a2065['z'],_0x23b327[_0x5be4f1+_0x266f55+0x7]=0x0),!0x0===_0x94dc84&&(_0x4a2065['fromBufferAttribute'](_0x319e8d,_0x2ce17b),_0x23b327[_0x5be4f1+_0x266f55+0x8]=_0x4a2065['x'],_0x23b327[_0x5be4f1+_0x266f55+0x9]=_0x4a2065['y'],_0x23b327[_0x5be4f1+_0x266f55+0xa]=_0x4a2065['z'],_0x23b327[_0x5be4f1+_0x266f55+0xb]=0x4===_0x319e8d['itemSize']?_0x4a2065['w']:0x1);}}function _0x3ac69a(){_0x338bb3['dispose'](),_0x53292b['delete'](_0x117e0b),_0x117e0b['removeEventListener']('dispose',_0x3ac69a);}_0x2662d9={'count':_0x174202,'texture':_0x338bb3,'size':new _0x42a528['I9Y'](_0x52a1f0,_0x3de107)},_0x53292b['set'](_0x117e0b,_0x2662d9),_0x117e0b['addEventListener']('dispose',_0x3ac69a);}if(!0x0===_0x24607e['isInstancedMesh']&&null!==_0x24607e['morphTexture'])_0x19c09b['getUniforms']()['setValue'](_0x2a3433,'morphTexture',_0x24607e['morphTexture'],_0x2b4ee5);else{let _0x1b4e11=0x0;for(let _0x48b881=0x0;_0x48b881<_0x53d39b['length'];_0x48b881++)_0x1b4e11+=_0x53d39b[_0x48b881];const _0x29679c=_0x117e0b['morphTargetsRelative']?0x1:0x1-_0x1b4e11;_0x19c09b['getUniforms']()['setValue'](_0x2a3433,'morphTargetBaseInfluence',_0x29679c),_0x19c09b['getUniforms']()['setValue'](_0x2a3433,'morphTargetInfluences',_0x53d39b);}_0x19c09b['getUniforms']()['setValue'](_0x2a3433,'morphTargetsTexture',_0x2662d9['texture'],_0x2b4ee5),_0x19c09b['getUniforms']()['setValue'](_0x2a3433,'morphTargetsTextureSize',_0x2662d9['size']);}};}function _0x3f7f6a(_0x6a7005,_0x22c8dd,_0x2c3154,_0x54e91d){let _0xc6c7c9=new WeakMap();function _0x28d39e(_0x3823f4){const _0x125571=_0x3823f4['target'];_0x125571['removeEventListener']('dispose',_0x28d39e),_0x2c3154['remove'](_0x125571['instanceMatrix']),null!==_0x125571['instanceColor']&&_0x2c3154['remove'](_0x125571['instanceColor']);}return{'update':function(_0xdd60f1){const _0x3dc9bf=_0x54e91d['render']['frame'],_0x3df2e1=_0xdd60f1['geometry'],_0x550eed=_0x22c8dd['get'](_0xdd60f1,_0x3df2e1);if(_0xc6c7c9['get'](_0x550eed)!==_0x3dc9bf&&(_0x22c8dd['update'](_0x550eed),_0xc6c7c9['set'](_0x550eed,_0x3dc9bf)),_0xdd60f1['isInstancedMesh']&&(!0x1===_0xdd60f1['hasEventListener']('dispose',_0x28d39e)&&_0xdd60f1['addEventListener']('dispose',_0x28d39e),_0xc6c7c9['get'](_0xdd60f1)!==_0x3dc9bf&&(_0x2c3154['update'](_0xdd60f1['instanceMatrix'],_0x6a7005['ARRAY_BUFFER']),null!==_0xdd60f1['instanceColor']&&_0x2c3154['update'](_0xdd60f1['instanceColor'],_0x6a7005['ARRAY_BUFFER']),_0xc6c7c9['set'](_0xdd60f1,_0x3dc9bf))),_0xdd60f1['isSkinnedMesh']){const _0x7878c6=_0xdd60f1['skeleton'];_0xc6c7c9['get'](_0x7878c6)!==_0x3dc9bf&&(_0x7878c6['update'](),_0xc6c7c9['set'](_0x7878c6,_0x3dc9bf));}return _0x550eed;},'dispose':function(){_0xc6c7c9=new WeakMap();}};}const _0xa216f7=new _0x42a528['gPd'](),_0x9b0445=new _0x42a528['VCu'](0x1,0x1),_0x1bf9e1=new _0x42a528['rFo'](),_0x39592e=new _0x42a528['dYF'](),_0x1690f0=new _0x42a528['b4q'](),_0x2e571e=[],_0x488177=[],_0x448cd9=new Float32Array(0x10),_0xadfb29=new Float32Array(0x9),_0x53ae7c=new Float32Array(0x4);function _0x4017be(_0x28122e,_0x5ed2f4,_0xb9e056){const _0x57db4e=_0x28122e[0x0];if(_0x57db4e<=0x0||_0x57db4e>0x0)return _0x28122e;const _0x211765=_0x5ed2f4*_0xb9e056;let _0x5f53c2=_0x2e571e[_0x211765];if(void 0x0===_0x5f53c2&&(_0x5f53c2=new Float32Array(_0x211765),_0x2e571e[_0x211765]=_0x5f53c2),0x0!==_0x5ed2f4){_0x57db4e['toArray'](_0x5f53c2,0x0);for(let _0x2b808a=0x1,_0x5764d3=0x0;_0x2b808a!==_0x5ed2f4;++_0x2b808a)_0x5764d3+=_0xb9e056,_0x28122e[_0x2b808a]['toArray'](_0x5f53c2,_0x5764d3);}return _0x5f53c2;}function _0x18146e(_0x1743c4,_0xd7d466){if(_0x1743c4['length']!==_0xd7d466['length'])return!0x1;for(let _0x6aea6e=0x0,_0x2ccc51=_0x1743c4['length'];_0x6aea6e<_0x2ccc51;_0x6aea6e++)if(_0x1743c4[_0x6aea6e]!==_0xd7d466[_0x6aea6e])return!0x1;return!0x0;}function _0x23b515(_0x57ccdf,_0x2bb0ac){for(let _0x58aefc=0x0,_0x17f9dc=_0x2bb0ac['length'];_0x58aefc<_0x17f9dc;_0x58aefc++)_0x57ccdf[_0x58aefc]=_0x2bb0ac[_0x58aefc];}function _0x4a9280(_0x377d03,_0x361c55){let _0xd80f5e=_0x488177[_0x361c55];void 0x0===_0xd80f5e&&(_0xd80f5e=new Int32Array(_0x361c55),_0x488177[_0x361c55]=_0xd80f5e);for(let _0x13e39d=0x0;_0x13e39d!==_0x361c55;++_0x13e39d)_0xd80f5e[_0x13e39d]=_0x377d03['allocateTextureUnit']();return _0xd80f5e;}function _0x5ddcb9(_0x3e7028,_0x2785b4){const _0x51636e=this['cache'];_0x51636e[0x0]!==_0x2785b4&&(_0x3e7028['uniform1f'](this['addr'],_0x2785b4),_0x51636e[0x0]=_0x2785b4);}function _0x5ec272(_0x21aff2,_0x58dc42){const _0x249f57=this['cache'];if(void 0x0!==_0x58dc42['x'])_0x249f57[0x0]===_0x58dc42['x']&&_0x249f57[0x1]===_0x58dc42['y']||(_0x21aff2['uniform2f'](this['addr'],_0x58dc42['x'],_0x58dc42['y']),_0x249f57[0x0]=_0x58dc42['x'],_0x249f57[0x1]=_0x58dc42['y']);else{if(_0x18146e(_0x249f57,_0x58dc42))return;_0x21aff2['uniform2fv'](this['addr'],_0x58dc42),_0x23b515(_0x249f57,_0x58dc42);}}function _0x1e3c67(_0x18bdc4,_0x168b32){const _0x4fff35=this['cache'];if(void 0x0!==_0x168b32['x'])_0x4fff35[0x0]===_0x168b32['x']&&_0x4fff35[0x1]===_0x168b32['y']&&_0x4fff35[0x2]===_0x168b32['z']||(_0x18bdc4['uniform3f'](this['addr'],_0x168b32['x'],_0x168b32['y'],_0x168b32['z']),_0x4fff35[0x0]=_0x168b32['x'],_0x4fff35[0x1]=_0x168b32['y'],_0x4fff35[0x2]=_0x168b32['z']);else{if(void 0x0!==_0x168b32['r'])_0x4fff35[0x0]===_0x168b32['r']&&_0x4fff35[0x1]===_0x168b32['g']&&_0x4fff35[0x2]===_0x168b32['b']||(_0x18bdc4['uniform3f'](this['addr'],_0x168b32['r'],_0x168b32['g'],_0x168b32['b']),_0x4fff35[0x0]=_0x168b32['r'],_0x4fff35[0x1]=_0x168b32['g'],_0x4fff35[0x2]=_0x168b32['b']);else{if(_0x18146e(_0x4fff35,_0x168b32))return;_0x18bdc4['uniform3fv'](this['addr'],_0x168b32),_0x23b515(_0x4fff35,_0x168b32);}}}function _0x7aed05(_0x58a33b,_0x19419a){const _0x1823a1=this['cache'];if(void 0x0!==_0x19419a['x'])_0x1823a1[0x0]===_0x19419a['x']&&_0x1823a1[0x1]===_0x19419a['y']&&_0x1823a1[0x2]===_0x19419a['z']&&_0x1823a1[0x3]===_0x19419a['w']||(_0x58a33b['uniform4f'](this['addr'],_0x19419a['x'],_0x19419a['y'],_0x19419a['z'],_0x19419a['w']),_0x1823a1[0x0]=_0x19419a['x'],_0x1823a1[0x1]=_0x19419a['y'],_0x1823a1[0x2]=_0x19419a['z'],_0x1823a1[0x3]=_0x19419a['w']);else{if(_0x18146e(_0x1823a1,_0x19419a))return;_0x58a33b['uniform4fv'](this['addr'],_0x19419a),_0x23b515(_0x1823a1,_0x19419a);}}function _0x11cce0(_0x27ac17,_0x109732){const _0x200312=this['cache'],_0x3fcb72=_0x109732['elements'];if(void 0x0===_0x3fcb72){if(_0x18146e(_0x200312,_0x109732))return;_0x27ac17['uniformMatrix2fv'](this['addr'],!0x1,_0x109732),_0x23b515(_0x200312,_0x109732);}else{if(_0x18146e(_0x200312,_0x3fcb72))return;_0x53ae7c['set'](_0x3fcb72),_0x27ac17['uniformMatrix2fv'](this['addr'],!0x1,_0x53ae7c),_0x23b515(_0x200312,_0x3fcb72);}}function _0x45c097(_0x5df0ea,_0x3ccc37){const _0x52e981=this['cache'],_0x42ce3a=_0x3ccc37['elements'];if(void 0x0===_0x42ce3a){if(_0x18146e(_0x52e981,_0x3ccc37))return;_0x5df0ea['uniformMatrix3fv'](this['addr'],!0x1,_0x3ccc37),_0x23b515(_0x52e981,_0x3ccc37);}else{if(_0x18146e(_0x52e981,_0x42ce3a))return;_0xadfb29['set'](_0x42ce3a),_0x5df0ea['uniformMatrix3fv'](this['addr'],!0x1,_0xadfb29),_0x23b515(_0x52e981,_0x42ce3a);}}function _0x41c205(_0x1a8761,_0x39dc40){const _0x549c1f=this['cache'],_0x1d4f47=_0x39dc40['elements'];if(void 0x0===_0x1d4f47){if(_0x18146e(_0x549c1f,_0x39dc40))return;_0x1a8761['uniformMatrix4fv'](this['addr'],!0x1,_0x39dc40),_0x23b515(_0x549c1f,_0x39dc40);}else{if(_0x18146e(_0x549c1f,_0x1d4f47))return;_0x448cd9['set'](_0x1d4f47),_0x1a8761['uniformMatrix4fv'](this['addr'],!0x1,_0x448cd9),_0x23b515(_0x549c1f,_0x1d4f47);}}function _0x36a840(_0x241733,_0x27f77a){const _0x3c4b1d=this['cache'];_0x3c4b1d[0x0]!==_0x27f77a&&(_0x241733['uniform1i'](this['addr'],_0x27f77a),_0x3c4b1d[0x0]=_0x27f77a);}function _0xa77c7(_0x1e6fa8,_0x1024bb){const _0x1921e4=this['cache'];if(void 0x0!==_0x1024bb['x'])_0x1921e4[0x0]===_0x1024bb['x']&&_0x1921e4[0x1]===_0x1024bb['y']||(_0x1e6fa8['uniform2i'](this['addr'],_0x1024bb['x'],_0x1024bb['y']),_0x1921e4[0x0]=_0x1024bb['x'],_0x1921e4[0x1]=_0x1024bb['y']);else{if(_0x18146e(_0x1921e4,_0x1024bb))return;_0x1e6fa8['uniform2iv'](this['addr'],_0x1024bb),_0x23b515(_0x1921e4,_0x1024bb);}}function _0x48da3c(_0x50dc8d,_0x4d6f1f){const _0x259425=this['cache'];if(void 0x0!==_0x4d6f1f['x'])_0x259425[0x0]===_0x4d6f1f['x']&&_0x259425[0x1]===_0x4d6f1f['y']&&_0x259425[0x2]===_0x4d6f1f['z']||(_0x50dc8d['uniform3i'](this['addr'],_0x4d6f1f['x'],_0x4d6f1f['y'],_0x4d6f1f['z']),_0x259425[0x0]=_0x4d6f1f['x'],_0x259425[0x1]=_0x4d6f1f['y'],_0x259425[0x2]=_0x4d6f1f['z']);else{if(_0x18146e(_0x259425,_0x4d6f1f))return;_0x50dc8d['uniform3iv'](this['addr'],_0x4d6f1f),_0x23b515(_0x259425,_0x4d6f1f);}}function _0x33af4c(_0x3b7525,_0x3dc134){const _0x37bdce=this['cache'];if(void 0x0!==_0x3dc134['x'])_0x37bdce[0x0]===_0x3dc134['x']&&_0x37bdce[0x1]===_0x3dc134['y']&&_0x37bdce[0x2]===_0x3dc134['z']&&_0x37bdce[0x3]===_0x3dc134['w']||(_0x3b7525['uniform4i'](this['addr'],_0x3dc134['x'],_0x3dc134['y'],_0x3dc134['z'],_0x3dc134['w']),_0x37bdce[0x0]=_0x3dc134['x'],_0x37bdce[0x1]=_0x3dc134['y'],_0x37bdce[0x2]=_0x3dc134['z'],_0x37bdce[0x3]=_0x3dc134['w']);else{if(_0x18146e(_0x37bdce,_0x3dc134))return;_0x3b7525['uniform4iv'](this['addr'],_0x3dc134),_0x23b515(_0x37bdce,_0x3dc134);}}function _0x21dc4c(_0x2899d9,_0x34950a){const _0x277369=this['cache'];_0x277369[0x0]!==_0x34950a&&(_0x2899d9['uniform1ui'](this['addr'],_0x34950a),_0x277369[0x0]=_0x34950a);}function _0x348e2c(_0x8ea99f,_0xb8ed02){const _0x1fe576=this['cache'];if(void 0x0!==_0xb8ed02['x'])_0x1fe576[0x0]===_0xb8ed02['x']&&_0x1fe576[0x1]===_0xb8ed02['y']||(_0x8ea99f['uniform2ui'](this['addr'],_0xb8ed02['x'],_0xb8ed02['y']),_0x1fe576[0x0]=_0xb8ed02['x'],_0x1fe576[0x1]=_0xb8ed02['y']);else{if(_0x18146e(_0x1fe576,_0xb8ed02))return;_0x8ea99f['uniform2uiv'](this['addr'],_0xb8ed02),_0x23b515(_0x1fe576,_0xb8ed02);}}function _0x3dbe10(_0x4634ab,_0x203698){const _0x5706aa=this['cache'];if(void 0x0!==_0x203698['x'])_0x5706aa[0x0]===_0x203698['x']&&_0x5706aa[0x1]===_0x203698['y']&&_0x5706aa[0x2]===_0x203698['z']||(_0x4634ab['uniform3ui'](this['addr'],_0x203698['x'],_0x203698['y'],_0x203698['z']),_0x5706aa[0x0]=_0x203698['x'],_0x5706aa[0x1]=_0x203698['y'],_0x5706aa[0x2]=_0x203698['z']);else{if(_0x18146e(_0x5706aa,_0x203698))return;_0x4634ab['uniform3uiv'](this['addr'],_0x203698),_0x23b515(_0x5706aa,_0x203698);}}function _0x130e9d(_0x433189,_0x5c720b){const _0x40acd6=this['cache'];if(void 0x0!==_0x5c720b['x'])_0x40acd6[0x0]===_0x5c720b['x']&&_0x40acd6[0x1]===_0x5c720b['y']&&_0x40acd6[0x2]===_0x5c720b['z']&&_0x40acd6[0x3]===_0x5c720b['w']||(_0x433189['uniform4ui'](this['addr'],_0x5c720b['x'],_0x5c720b['y'],_0x5c720b['z'],_0x5c720b['w']),_0x40acd6[0x0]=_0x5c720b['x'],_0x40acd6[0x1]=_0x5c720b['y'],_0x40acd6[0x2]=_0x5c720b['z'],_0x40acd6[0x3]=_0x5c720b['w']);else{if(_0x18146e(_0x40acd6,_0x5c720b))return;_0x433189['uniform4uiv'](this['addr'],_0x5c720b),_0x23b515(_0x40acd6,_0x5c720b);}}function _0x5118f8(_0x2780b2,_0x59bb65,_0x531198){const _0x34da87=this['cache'],_0x19cf13=_0x531198['allocateTextureUnit']();let _0x284cbd;_0x34da87[0x0]!==_0x19cf13&&(_0x2780b2['uniform1i'](this['addr'],_0x19cf13),_0x34da87[0x0]=_0x19cf13),this['type']===_0x2780b2['SAMPLER_2D_SHADOW']?(_0x9b0445['compareFunction']=_0x42a528['TiK'],_0x284cbd=_0x9b0445):_0x284cbd=_0xa216f7,_0x531198['setTexture2D'](_0x59bb65||_0x284cbd,_0x19cf13);}function _0x3aa8bf(_0x3bce02,_0x28d352,_0x1dea17){const _0x2228cc=this['cache'],_0x22294f=_0x1dea17['allocateTextureUnit']();_0x2228cc[0x0]!==_0x22294f&&(_0x3bce02['uniform1i'](this['addr'],_0x22294f),_0x2228cc[0x0]=_0x22294f),_0x1dea17['setTexture3D'](_0x28d352||_0x39592e,_0x22294f);}function _0x2d7b6e(_0x763d5a,_0x29bff8,_0x52f09d){const _0x107b0d=this['cache'],_0x16762e=_0x52f09d['allocateTextureUnit']();_0x107b0d[0x0]!==_0x16762e&&(_0x763d5a['uniform1i'](this['addr'],_0x16762e),_0x107b0d[0x0]=_0x16762e),_0x52f09d['setTextureCube'](_0x29bff8||_0x1690f0,_0x16762e);}function _0x98111c(_0x2f1f63,_0x22738f,_0x2755f6){const _0x22236e=this['cache'],_0x4ab78c=_0x2755f6['allocateTextureUnit']();_0x22236e[0x0]!==_0x4ab78c&&(_0x2f1f63['uniform1i'](this['addr'],_0x4ab78c),_0x22236e[0x0]=_0x4ab78c),_0x2755f6['setTexture2DArray'](_0x22738f||_0x1bf9e1,_0x4ab78c);}function _0x41aad7(_0x57edaf,_0x5c3585){_0x57edaf['uniform1fv'](this['addr'],_0x5c3585);}function _0x4fee74(_0x12fca4,_0x1838bc){const _0xe66b4c=_0x4017be(_0x1838bc,this['size'],0x2);_0x12fca4['uniform2fv'](this['addr'],_0xe66b4c);}function _0x236b77(_0x4ce173,_0x2414d3){const _0x114e4d=_0x4017be(_0x2414d3,this['size'],0x3);_0x4ce173['uniform3fv'](this['addr'],_0x114e4d);}function _0x307a4d(_0x373072,_0xccb890){const _0xd462fa=_0x4017be(_0xccb890,this['size'],0x4);_0x373072['uniform4fv'](this['addr'],_0xd462fa);}function _0x4fd536(_0x5761ce,_0xebbd52){const _0x37c1ac=_0x4017be(_0xebbd52,this['size'],0x4);_0x5761ce['uniformMatrix2fv'](this['addr'],!0x1,_0x37c1ac);}function _0x34b9cb(_0x3d5004,_0x5e42d6){const _0x379626=_0x4017be(_0x5e42d6,this['size'],0x9);_0x3d5004['uniformMatrix3fv'](this['addr'],!0x1,_0x379626);}function _0x36332f(_0x95e4de,_0x441865){const _0x5a0b96=_0x4017be(_0x441865,this['size'],0x10);_0x95e4de['uniformMatrix4fv'](this['addr'],!0x1,_0x5a0b96);}function _0x37be7c(_0x56d99d,_0x3902ad){_0x56d99d['uniform1iv'](this['addr'],_0x3902ad);}function _0x4be256(_0x6f690b,_0x3065c5){_0x6f690b['uniform2iv'](this['addr'],_0x3065c5);}function _0x2627cc(_0x3bf383,_0x438119){_0x3bf383['uniform3iv'](this['addr'],_0x438119);}function _0x40207c(_0x3d43c0,_0x5eea4c){_0x3d43c0['uniform4iv'](this['addr'],_0x5eea4c);}function _0x5665b0(_0x106fbd,_0x13c7df){_0x106fbd['uniform1uiv'](this['addr'],_0x13c7df);}function _0x596788(_0xc4e511,_0x4425ea){_0xc4e511['uniform2uiv'](this['addr'],_0x4425ea);}function _0x13f302(_0x246261,_0x44b17b){_0x246261['uniform3uiv'](this['addr'],_0x44b17b);}function _0x2051e0(_0x5404df,_0x1fc1ca){_0x5404df['uniform4uiv'](this['addr'],_0x1fc1ca);}function _0x15aeb8(_0x5d53be,_0x36a799,_0x5af439){const _0x1b8152=this['cache'],_0x5565dc=_0x36a799['length'],_0x145c46=_0x4a9280(_0x5af439,_0x5565dc);_0x18146e(_0x1b8152,_0x145c46)||(_0x5d53be['uniform1iv'](this['addr'],_0x145c46),_0x23b515(_0x1b8152,_0x145c46));for(let _0x96e733=0x0;_0x96e733!==_0x5565dc;++_0x96e733)_0x5af439['setTexture2D'](_0x36a799[_0x96e733]||_0xa216f7,_0x145c46[_0x96e733]);}function _0x4d8141(_0x159719,_0x444444,_0x334b04){const _0x569a90=this['cache'],_0x26dbee=_0x444444['length'],_0x204b1e=_0x4a9280(_0x334b04,_0x26dbee);_0x18146e(_0x569a90,_0x204b1e)||(_0x159719['uniform1iv'](this['addr'],_0x204b1e),_0x23b515(_0x569a90,_0x204b1e));for(let _0xe6d8c=0x0;_0xe6d8c!==_0x26dbee;++_0xe6d8c)_0x334b04['setTexture3D'](_0x444444[_0xe6d8c]||_0x39592e,_0x204b1e[_0xe6d8c]);}function _0x5a49f2(_0x3b8bd3,_0x2e48c3,_0x155894){const _0x595eb2=this['cache'],_0x150249=_0x2e48c3['length'],_0x30ecf3=_0x4a9280(_0x155894,_0x150249);_0x18146e(_0x595eb2,_0x30ecf3)||(_0x3b8bd3['uniform1iv'](this['addr'],_0x30ecf3),_0x23b515(_0x595eb2,_0x30ecf3));for(let _0x1315e1=0x0;_0x1315e1!==_0x150249;++_0x1315e1)_0x155894['setTextureCube'](_0x2e48c3[_0x1315e1]||_0x1690f0,_0x30ecf3[_0x1315e1]);}function _0x14fbbe(_0x52ef24,_0x40afdf,_0x3a29b8){const _0xeb7bc9=this['cache'],_0x509097=_0x40afdf['length'],_0x1cf2fa=_0x4a9280(_0x3a29b8,_0x509097);_0x18146e(_0xeb7bc9,_0x1cf2fa)||(_0x52ef24['uniform1iv'](this['addr'],_0x1cf2fa),_0x23b515(_0xeb7bc9,_0x1cf2fa));for(let _0x563c2f=0x0;_0x563c2f!==_0x509097;++_0x563c2f)_0x3a29b8['setTexture2DArray'](_0x40afdf[_0x563c2f]||_0x1bf9e1,_0x1cf2fa[_0x563c2f]);}class _0x1e055a{constructor(_0x2d72dc,_0x59b913,_0x4022d4){this['id']=_0x2d72dc,this['addr']=_0x4022d4,this['cache']=[],this['type']=_0x59b913['type'],this['setValue']=function(_0x51e66b){switch(_0x51e66b){case 0x1406:return _0x5ddcb9;case 0x8b50:return _0x5ec272;case 0x8b51:return _0x1e3c67;case 0x8b52:return _0x7aed05;case 0x8b5a:return _0x11cce0;case 0x8b5b:return _0x45c097;case 0x8b5c:return _0x41c205;case 0x1404:case 0x8b56:return _0x36a840;case 0x8b53:case 0x8b57:return _0xa77c7;case 0x8b54:case 0x8b58:return _0x48da3c;case 0x8b55:case 0x8b59:return _0x33af4c;case 0x1405:return _0x21dc4c;case 0x8dc6:return _0x348e2c;case 0x8dc7:return _0x3dbe10;case 0x8dc8:return _0x130e9d;case 0x8b5e:case 0x8d66:case 0x8dca:case 0x8dd2:case 0x8b62:return _0x5118f8;case 0x8b5f:case 0x8dcb:case 0x8dd3:return _0x3aa8bf;case 0x8b60:case 0x8dcc:case 0x8dd4:case 0x8dc5:return _0x2d7b6e;case 0x8dc1:case 0x8dcf:case 0x8dd7:case 0x8dc4:return _0x98111c;}}(_0x59b913['type']);}}class _0x340983{constructor(_0x12404f,_0x7a15ef,_0x158ef8){this['id']=_0x12404f,this['addr']=_0x158ef8,this['cache']=[],this['type']=_0x7a15ef['type'],this['size']=_0x7a15ef['size'],this['setValue']=function(_0x25d5c5){switch(_0x25d5c5){case 0x1406:return _0x41aad7;case 0x8b50:return _0x4fee74;case 0x8b51:return _0x236b77;case 0x8b52:return _0x307a4d;case 0x8b5a:return _0x4fd536;case 0x8b5b:return _0x34b9cb;case 0x8b5c:return _0x36332f;case 0x1404:case 0x8b56:return _0x37be7c;case 0x8b53:case 0x8b57:return _0x4be256;case 0x8b54:case 0x8b58:return _0x2627cc;case 0x8b55:case 0x8b59:return _0x40207c;case 0x1405:return _0x5665b0;case 0x8dc6:return _0x596788;case 0x8dc7:return _0x13f302;case 0x8dc8:return _0x2051e0;case 0x8b5e:case 0x8d66:case 0x8dca:case 0x8dd2:case 0x8b62:return _0x15aeb8;case 0x8b5f:case 0x8dcb:case 0x8dd3:return _0x4d8141;case 0x8b60:case 0x8dcc:case 0x8dd4:case 0x8dc5:return _0x5a49f2;case 0x8dc1:case 0x8dcf:case 0x8dd7:case 0x8dc4:return _0x14fbbe;}}(_0x7a15ef['type']);}}class _0x45ab50{constructor(_0xe8a3f0){this['id']=_0xe8a3f0,this['seq']=[],this['map']={};}['setValue'](_0x33e7b7,_0x37e159,_0x10048e){const _0x9c58ca=this['seq'];for(let _0x122d05=0x0,_0x3cbd17=_0x9c58ca['length'];_0x122d05!==_0x3cbd17;++_0x122d05){const _0x3eb341=_0x9c58ca[_0x122d05];_0x3eb341['setValue'](_0x33e7b7,_0x37e159[_0x3eb341['id']],_0x10048e);}}}const _0x2ddce2=/(\w+)(\])?(\[|\.)?/g;function _0x389aab(_0x5a61cf,_0x2324c8){_0x5a61cf['seq']['push'](_0x2324c8),_0x5a61cf['map'][_0x2324c8['id']]=_0x2324c8;}function _0x2aef7a(_0x1c1f28,_0x1f03a8,_0x9db86d){const _0x584d3d=_0x1c1f28['name'],_0x3078e2=_0x584d3d['length'];for(_0x2ddce2['lastIndex']=0x0;;){const _0x2a3c6d=_0x2ddce2['exec'](_0x584d3d),_0x3a799c=_0x2ddce2['lastIndex'];let _0x141287=_0x2a3c6d[0x1];const _0xa48362=']'===_0x2a3c6d[0x2],_0x5531eb=_0x2a3c6d[0x3];if(_0xa48362&&(_0x141287|=0x0),void 0x0===_0x5531eb||'['===_0x5531eb&&_0x3a799c+0x2===_0x3078e2){_0x389aab(_0x9db86d,void 0x0===_0x5531eb?new _0x1e055a(_0x141287,_0x1c1f28,_0x1f03a8):new _0x340983(_0x141287,_0x1c1f28,_0x1f03a8));break;}{let _0x528923=_0x9db86d['map'][_0x141287];void 0x0===_0x528923&&(_0x528923=new _0x45ab50(_0x141287),_0x389aab(_0x9db86d,_0x528923)),_0x9db86d=_0x528923;}}}class _0x20e1ab{constructor(_0x38e602,_0x5934c4){this['seq']=[],this['map']={};const _0x1dced4=_0x38e602['getProgramParameter'](_0x5934c4,_0x38e602['ACTIVE_UNIFORMS']);for(let _0x290211=0x0;_0x290211<_0x1dced4;++_0x290211){const _0x275ea8=_0x38e602['getActiveUniform'](_0x5934c4,_0x290211);_0x2aef7a(_0x275ea8,_0x38e602['getUniformLocation'](_0x5934c4,_0x275ea8['name']),this);}}['setValue'](_0x7c1175,_0x37336f,_0x15eef2,_0x3bb92b){const _0x432dd4=this['map'][_0x37336f];void 0x0!==_0x432dd4&&_0x432dd4['setValue'](_0x7c1175,_0x15eef2,_0x3bb92b);}['setOptional'](_0x4430dd,_0x399b5a,_0x4b29b9){const _0x2f2d8f=_0x399b5a[_0x4b29b9];void 0x0!==_0x2f2d8f&&this['setValue'](_0x4430dd,_0x4b29b9,_0x2f2d8f);}static['upload'](_0x3fb0b6,_0x53dcc3,_0x1f0f1b,_0x530f7b){for(let _0x2584fd=0x0,_0x32b784=_0x53dcc3['length'];_0x2584fd!==_0x32b784;++_0x2584fd){const _0x19388a=_0x53dcc3[_0x2584fd],_0x4b8186=_0x1f0f1b[_0x19388a['id']];!0x1!==_0x4b8186['needsUpdate']&&_0x19388a['setValue'](_0x3fb0b6,_0x4b8186['value'],_0x530f7b);}}static['seqWithValue'](_0x48c1db,_0xca88f1){const _0x3ad527=[];for(let _0x252c02=0x0,_0x483fa5=_0x48c1db['length'];_0x252c02!==_0x483fa5;++_0x252c02){const _0x1877e6=_0x48c1db[_0x252c02];_0x1877e6['id']in _0xca88f1&&_0x3ad527['push'](_0x1877e6);}return _0x3ad527;}}function _0x9bcf6a(_0x24b520,_0x41c042,_0x38f663){const _0x3fc925=_0x24b520['createShader'](_0x41c042);return _0x24b520['shaderSource'](_0x3fc925,_0x38f663),_0x24b520['compileShader'](_0x3fc925),_0x3fc925;}const _0x173137=0x91b1;let _0x4b7999=0x0;const _0x308780=new _0x42a528['dwI']();function _0x390bac(_0x2ade0a,_0x1a4640,_0x484842){const _0xa73a9f=_0x2ade0a['getShaderParameter'](_0x1a4640,_0x2ade0a['COMPILE_STATUS']),_0x448bad=_0x2ade0a['getShaderInfoLog'](_0x1a4640)['trim']();if(_0xa73a9f&&''===_0x448bad)return'';const _0x22d08c=/ERROR: 0:(\d+)/['exec'](_0x448bad);if(_0x22d08c){const _0x317105=parseInt(_0x22d08c[0x1]);return _0x484842['toUpperCase']()+'\x0a\x0a'+_0x448bad+'\x0a\x0a'+function(_0x390c09,_0xc84b56){const _0xcd86d4=_0x390c09['split']('\x0a'),_0xf35c0e=[],_0x5b6565=Math['max'](_0xc84b56-0x6,0x0),_0x2405fc=Math['min'](_0xc84b56+0x6,_0xcd86d4['length']);for(let _0x36fe25=_0x5b6565;_0x36fe25<_0x2405fc;_0x36fe25++){const _0x5a1acd=_0x36fe25+0x1;_0xf35c0e['push']((_0x5a1acd===_0xc84b56?'>':'\x20')+'\x20'+_0x5a1acd+':\x20'+_0xcd86d4[_0x36fe25]);}return _0xf35c0e['join']('\x0a');}(_0x2ade0a['getShaderSource'](_0x1a4640),_0x317105);}return _0x448bad;}function _0x298ee2(_0x37e98d,_0x4e7f82){const _0x1f5f5f=function(_0x355307){_0x42a528['ppV']['_getMatrix'](_0x308780,_0x42a528['ppV']['workingColorSpace'],_0x355307);const _0x29f05b='mat3(\x20'+_0x308780['elements']['map'](_0xa74963=>_0xa74963['toFixed'](0x4))+'\x20)';switch(_0x42a528['ppV']['getTransfer'](_0x355307)){case _0x42a528['VxR']:return[_0x29f05b,'LinearTransferOETF'];case _0x42a528['KLL']:return[_0x29f05b,'sRGBTransferOETF'];default:return console['warn']('THREE.WebGLProgram:\x20Unsupported\x20color\x20space:\x20',_0x355307),[_0x29f05b,'LinearTransferOETF'];}}(_0x4e7f82);return['vec4\x20'+_0x37e98d+'(\x20vec4\x20value\x20)\x20{','\x09return\x20'+_0x1f5f5f[0x1]+'(\x20vec4(\x20value.rgb\x20*\x20'+_0x1f5f5f[0x0]+',\x20value.a\x20)\x20);','}']['join']('\x0a');}function _0x2711aa(_0x60765e,_0x373e01){let _0x19fdc5;switch(_0x373e01){case _0x42a528['kyO']:_0x19fdc5='Linear';break;case _0x42a528['Mjd']:_0x19fdc5='Reinhard';break;case _0x42a528['nNL']:_0x19fdc5='Cineon';break;case _0x42a528['FV']:_0x19fdc5='ACESFilmic';break;case _0x42a528['LAk']:_0x19fdc5='AgX';break;case _0x42a528['aJ8']:_0x19fdc5='Neutral';break;case _0x42a528['g7M']:_0x19fdc5='Custom';break;default:console['warn']('THREE.WebGLProgram:\x20Unsupported\x20toneMapping:',_0x373e01),_0x19fdc5='Linear';}return'vec3\x20'+_0x60765e+'(\x20vec3\x20color\x20)\x20{\x20return\x20'+_0x19fdc5+'ToneMapping(\x20color\x20);\x20}';}const _0x21e13a=new _0x42a528['Pq0']();function _0x4b0f77(){return _0x42a528['ppV']['getLuminanceCoefficients'](_0x21e13a),['float\x20luminance(\x20const\x20in\x20vec3\x20rgb\x20)\x20{','\x09const\x20vec3\x20weights\x20=\x20vec3(\x20'+_0x21e13a['x']['toFixed'](0x4)+',\x20'+_0x21e13a['y']['toFixed'](0x4)+',\x20'+_0x21e13a['z']['toFixed'](0x4)+'\x20);','\x09return\x20dot(\x20weights,\x20rgb\x20);','}']['join']('\x0a');}function _0x1211d1(_0x46cb4c){return''!==_0x46cb4c;}function _0x1a1689(_0x3eee45,_0x31e1c1){const _0x4a0324=_0x31e1c1['numSpotLightShadows']+_0x31e1c1['numSpotLightMaps']-_0x31e1c1['numSpotLightShadowsWithMaps'];return _0x3eee45['replace'](/NUM_DIR_LIGHTS/g,_0x31e1c1['numDirLights'])['replace'](/NUM_SPOT_LIGHTS/g,_0x31e1c1['numSpotLights'])['replace'](/NUM_SPOT_LIGHT_MAPS/g,_0x31e1c1['numSpotLightMaps'])['replace'](/NUM_SPOT_LIGHT_COORDS/g,_0x4a0324)['replace'](/NUM_RECT_AREA_LIGHTS/g,_0x31e1c1['numRectAreaLights'])['replace'](/NUM_POINT_LIGHTS/g,_0x31e1c1['numPointLights'])['replace'](/NUM_HEMI_LIGHTS/g,_0x31e1c1['numHemiLights'])['replace'](/NUM_DIR_LIGHT_SHADOWS/g,_0x31e1c1['numDirLightShadows'])['replace'](/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,_0x31e1c1['numSpotLightShadowsWithMaps'])['replace'](/NUM_SPOT_LIGHT_SHADOWS/g,_0x31e1c1['numSpotLightShadows'])['replace'](/NUM_POINT_LIGHT_SHADOWS/g,_0x31e1c1['numPointLightShadows']);}function _0x2d9d57(_0x261973,_0x164552){return _0x261973['replace'](/NUM_CLIPPING_PLANES/g,_0x164552['numClippingPlanes'])['replace'](/UNION_CLIPPING_PLANES/g,_0x164552['numClippingPlanes']-_0x164552['numClipIntersection']);}const _0xd7fcf1=/^[ \t]*#include +<([\w\d./]+)>/gm;function _0xbd8e92(_0x54a662){return _0x54a662['replace'](_0xd7fcf1,_0x439b4e);}const _0x5914d3=new Map();function _0x439b4e(_0x3fb4c2,_0xa95bee){let _0x2147ce=_0x2e7b57[_0xa95bee];if(void 0x0===_0x2147ce){const _0x39de99=_0x5914d3['get'](_0xa95bee);if(void 0x0===_0x39de99)throw new Error('Can\x20not\x20resolve\x20#include\x20<'+_0xa95bee+'>');_0x2147ce=_0x2e7b57[_0x39de99],console['warn']('THREE.WebGLRenderer:\x20Shader\x20chunk\x20\x22%s\x22\x20has\x20been\x20deprecated.\x20Use\x20\x22%s\x22\x20instead.',_0xa95bee,_0x39de99);}return _0xbd8e92(_0x2147ce);}const _0x2f2dcd=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function _0x569aea(_0x2f6b63){return _0x2f6b63['replace'](_0x2f2dcd,_0x2d91d7);}function _0x2d91d7(_0x306036,_0x4e1ee2,_0x1d7fe3,_0x44242e){let _0x23f12f='';for(let _0x27993f=parseInt(_0x4e1ee2);_0x27993f<parseInt(_0x1d7fe3);_0x27993f++)_0x23f12f+=_0x44242e['replace'](/\[\s*i\s*\]/g,'[\x20'+_0x27993f+'\x20]')['replace'](/UNROLLED_LOOP_INDEX/g,_0x27993f);return _0x23f12f;}function _0x273f62(_0x18e86c){let _0x3c9c7a='precision\x20'+_0x18e86c['precision']+'\x20float;\x0a\x09precision\x20'+_0x18e86c['precision']+'\x20int;\x0a\x09precision\x20'+_0x18e86c['precision']+'\x20sampler2D;\x0a\x09precision\x20'+_0x18e86c['precision']+'\x20samplerCube;\x0a\x09precision\x20'+_0x18e86c['precision']+'\x20sampler3D;\x0a\x09precision\x20'+_0x18e86c['precision']+'\x20sampler2DArray;\x0a\x09precision\x20'+_0x18e86c['precision']+'\x20sampler2DShadow;\x0a\x09precision\x20'+_0x18e86c['precision']+'\x20samplerCubeShadow;\x0a\x09precision\x20'+_0x18e86c['precision']+'\x20sampler2DArrayShadow;\x0a\x09precision\x20'+_0x18e86c['precision']+'\x20isampler2D;\x0a\x09precision\x20'+_0x18e86c['precision']+'\x20isampler3D;\x0a\x09precision\x20'+_0x18e86c['precision']+'\x20isamplerCube;\x0a\x09precision\x20'+_0x18e86c['precision']+'\x20isampler2DArray;\x0a\x09precision\x20'+_0x18e86c['precision']+'\x20usampler2D;\x0a\x09precision\x20'+_0x18e86c['precision']+'\x20usampler3D;\x0a\x09precision\x20'+_0x18e86c['precision']+'\x20usamplerCube;\x0a\x09precision\x20'+_0x18e86c['precision']+'\x20usampler2DArray;\x0a\x09';return'highp'===_0x18e86c['precision']?_0x3c9c7a+='\x0a#define\x20HIGH_PRECISION':'mediump'===_0x18e86c['precision']?_0x3c9c7a+='\x0a#define\x20MEDIUM_PRECISION':'lowp'===_0x18e86c['precision']&&(_0x3c9c7a+='\x0a#define\x20LOW_PRECISION'),_0x3c9c7a;}function _0xa3f9e4(_0x4f83b3,_0x5e0080,_0x31e15a,_0x32c15c){const _0x4d9790=_0x4f83b3['getContext'](),_0x126d2f=_0x31e15a['defines'];let _0x41e2fc=_0x31e15a['vertexShader'],_0x31a0b9=_0x31e15a['fragmentShader'];const _0x47be62=function(_0x41d1e1){let _0xa0a2fb='SHADOWMAP_TYPE_BASIC';return _0x41d1e1['shadowMapType']===_0x42a528['QP0']?_0xa0a2fb='SHADOWMAP_TYPE_PCF':_0x41d1e1['shadowMapType']===_0x42a528['Wk7']?_0xa0a2fb='SHADOWMAP_TYPE_PCF_SOFT':_0x41d1e1['shadowMapType']===_0x42a528['RyA']&&(_0xa0a2fb='SHADOWMAP_TYPE_VSM'),_0xa0a2fb;}(_0x31e15a),_0x4285fd=function(_0x3553a0){let _0x5c37f3='ENVMAP_TYPE_CUBE';if(_0x3553a0['envMap'])switch(_0x3553a0['envMapMode']){case _0x42a528['hy7']:case _0x42a528['xFO']:_0x5c37f3='ENVMAP_TYPE_CUBE';break;case _0x42a528['Om']:_0x5c37f3='ENVMAP_TYPE_CUBE_UV';}return _0x5c37f3;}(_0x31e15a),_0x4c2f32=function(_0x226734){let _0x54cfc3='ENVMAP_MODE_REFLECTION';return _0x226734['envMap']&&_0x226734['envMapMode']===_0x42a528['xFO']&&(_0x54cfc3='ENVMAP_MODE_REFRACTION'),_0x54cfc3;}(_0x31e15a),_0xfb8d7d=function(_0x2ef1d8){let _0x575cc3='ENVMAP_BLENDING_NONE';if(_0x2ef1d8['envMap'])switch(_0x2ef1d8['combine']){case _0x42a528['caT']:_0x575cc3='ENVMAP_BLENDING_MULTIPLY';break;case _0x42a528['KRh']:_0x575cc3='ENVMAP_BLENDING_MIX';break;case _0x42a528['XrR']:_0x575cc3='ENVMAP_BLENDING_ADD';}return _0x575cc3;}(_0x31e15a),_0x165dc6=function(_0x29f937){const _0x4d444a=_0x29f937['envMapCubeUVHeight'];if(null===_0x4d444a)return null;const _0x145528=Math['log2'](_0x4d444a)-0x2,_0x352021=0x1/_0x4d444a;return{'texelWidth':0x1/(0x3*Math['max'](Math['pow'](0x2,_0x145528),0x70)),'texelHeight':_0x352021,'maxMip':_0x145528};}(_0x31e15a),_0x5ba7f8=function(_0x2f703d){return[_0x2f703d['extensionClipCullDistance']?'#extension\x20GL_ANGLE_clip_cull_distance\x20:\x20require':'',_0x2f703d['extensionMultiDraw']?'#extension\x20GL_ANGLE_multi_draw\x20:\x20require':'']['filter'](_0x1211d1)['join']('\x0a');}(_0x31e15a),_0x1e585f=function(_0x4b368b){const _0x10ed9d=[];for(const _0x2915b6 in _0x4b368b){const _0x12bd79=_0x4b368b[_0x2915b6];!0x1!==_0x12bd79&&_0x10ed9d['push']('#define\x20'+_0x2915b6+'\x20'+_0x12bd79);}return _0x10ed9d['join']('\x0a');}(_0x126d2f),_0x336e54=_0x4d9790['createProgram']();let _0x17e310,_0x32fcb2,_0x40a98f=_0x31e15a['glslVersion']?'#version\x20'+_0x31e15a['glslVersion']+'\x0a':'';_0x31e15a['isRawShaderMaterial']?(_0x17e310=['#define\x20SHADER_TYPE\x20'+_0x31e15a['shaderType'],'#define\x20SHADER_NAME\x20'+_0x31e15a['shaderName'],_0x1e585f]['filter'](_0x1211d1)['join']('\x0a'),_0x17e310['length']>0x0&&(_0x17e310+='\x0a'),_0x32fcb2=['#define\x20SHADER_TYPE\x20'+_0x31e15a['shaderType'],'#define\x20SHADER_NAME\x20'+_0x31e15a['shaderName'],_0x1e585f]['filter'](_0x1211d1)['join']('\x0a'),_0x32fcb2['length']>0x0&&(_0x32fcb2+='\x0a')):(_0x17e310=[_0x273f62(_0x31e15a),'#define\x20SHADER_TYPE\x20'+_0x31e15a['shaderType'],'#define\x20SHADER_NAME\x20'+_0x31e15a['shaderName'],_0x1e585f,_0x31e15a['extensionClipCullDistance']?'#define\x20USE_CLIP_DISTANCE':'',_0x31e15a['batching']?'#define\x20USE_BATCHING':'',_0x31e15a['batchingColor']?'#define\x20USE_BATCHING_COLOR':'',_0x31e15a['instancing']?'#define\x20USE_INSTANCING':'',_0x31e15a['instancingColor']?'#define\x20USE_INSTANCING_COLOR':'',_0x31e15a['instancingMorph']?'#define\x20USE_INSTANCING_MORPH':'',_0x31e15a['useFog']&&_0x31e15a['fog']?'#define\x20USE_FOG':'',_0x31e15a['useFog']&&_0x31e15a['fogExp2']?'#define\x20FOG_EXP2':'',_0x31e15a['map']?'#define\x20USE_MAP':'',_0x31e15a['envMap']?'#define\x20USE_ENVMAP':'',_0x31e15a['envMap']?'#define\x20'+_0x4c2f32:'',_0x31e15a['lightMap']?'#define\x20USE_LIGHTMAP':'',_0x31e15a['aoMap']?'#define\x20USE_AOMAP':'',_0x31e15a['bumpMap']?'#define\x20USE_BUMPMAP':'',_0x31e15a['normalMap']?'#define\x20USE_NORMALMAP':'',_0x31e15a['normalMapObjectSpace']?'#define\x20USE_NORMALMAP_OBJECTSPACE':'',_0x31e15a['normalMapTangentSpace']?'#define\x20USE_NORMALMAP_TANGENTSPACE':'',_0x31e15a['displacementMap']?'#define\x20USE_DISPLACEMENTMAP':'',_0x31e15a['emissiveMap']?'#define\x20USE_EMISSIVEMAP':'',_0x31e15a['anisotropy']?'#define\x20USE_ANISOTROPY':'',_0x31e15a['anisotropyMap']?'#define\x20USE_ANISOTROPYMAP':'',_0x31e15a['clearcoatMap']?'#define\x20USE_CLEARCOATMAP':'',_0x31e15a['clearcoatRoughnessMap']?'#define\x20USE_CLEARCOAT_ROUGHNESSMAP':'',_0x31e15a['clearcoatNormalMap']?'#define\x20USE_CLEARCOAT_NORMALMAP':'',_0x31e15a['iridescenceMap']?'#define\x20USE_IRIDESCENCEMAP':'',_0x31e15a['iridescenceThicknessMap']?'#define\x20USE_IRIDESCENCE_THICKNESSMAP':'',_0x31e15a['specularMap']?'#define\x20USE_SPECULARMAP':'',_0x31e15a['specularColorMap']?'#define\x20USE_SPECULAR_COLORMAP':'',_0x31e15a['specularIntensityMap']?'#define\x20USE_SPECULAR_INTENSITYMAP':'',_0x31e15a['roughnessMap']?'#define\x20USE_ROUGHNESSMAP':'',_0x31e15a['metalnessMap']?'#define\x20USE_METALNESSMAP':'',_0x31e15a['alphaMap']?'#define\x20USE_ALPHAMAP':'',_0x31e15a['alphaHash']?'#define\x20USE_ALPHAHASH':'',_0x31e15a['transmission']?'#define\x20USE_TRANSMISSION':'',_0x31e15a['transmissionMap']?'#define\x20USE_TRANSMISSIONMAP':'',_0x31e15a['thicknessMap']?'#define\x20USE_THICKNESSMAP':'',_0x31e15a['sheenColorMap']?'#define\x20USE_SHEEN_COLORMAP':'',_0x31e15a['sheenRoughnessMap']?'#define\x20USE_SHEEN_ROUGHNESSMAP':'',_0x31e15a['mapUv']?'#define\x20MAP_UV\x20'+_0x31e15a['mapUv']:'',_0x31e15a['alphaMapUv']?'#define\x20ALPHAMAP_UV\x20'+_0x31e15a['alphaMapUv']:'',_0x31e15a['lightMapUv']?'#define\x20LIGHTMAP_UV\x20'+_0x31e15a['lightMapUv']:'',_0x31e15a['aoMapUv']?'#define\x20AOMAP_UV\x20'+_0x31e15a['aoMapUv']:'',_0x31e15a['emissiveMapUv']?'#define\x20EMISSIVEMAP_UV\x20'+_0x31e15a['emissiveMapUv']:'',_0x31e15a['bumpMapUv']?'#define\x20BUMPMAP_UV\x20'+_0x31e15a['bumpMapUv']:'',_0x31e15a['normalMapUv']?'#define\x20NORMALMAP_UV\x20'+_0x31e15a['normalMapUv']:'',_0x31e15a['displacementMapUv']?'#define\x20DISPLACEMENTMAP_UV\x20'+_0x31e15a['displacementMapUv']:'',_0x31e15a['metalnessMapUv']?'#define\x20METALNESSMAP_UV\x20'+_0x31e15a['metalnessMapUv']:'',_0x31e15a['roughnessMapUv']?'#define\x20ROUGHNESSMAP_UV\x20'+_0x31e15a['roughnessMapUv']:'',_0x31e15a['anisotropyMapUv']?'#define\x20ANISOTROPYMAP_UV\x20'+_0x31e15a['anisotropyMapUv']:'',_0x31e15a['clearcoatMapUv']?'#define\x20CLEARCOATMAP_UV\x20'+_0x31e15a['clearcoatMapUv']:'',_0x31e15a['clearcoatNormalMapUv']?'#define\x20CLEARCOAT_NORMALMAP_UV\x20'+_0x31e15a['clearcoatNormalMapUv']:'',_0x31e15a['clearcoatRoughnessMapUv']?'#define\x20CLEARCOAT_ROUGHNESSMAP_UV\x20'+_0x31e15a['clearcoatRoughnessMapUv']:'',_0x31e15a['iridescenceMapUv']?'#define\x20IRIDESCENCEMAP_UV\x20'+_0x31e15a['iridescenceMapUv']:'',_0x31e15a['iridescenceThicknessMapUv']?'#define\x20IRIDESCENCE_THICKNESSMAP_UV\x20'+_0x31e15a['iridescenceThicknessMapUv']:'',_0x31e15a['sheenColorMapUv']?'#define\x20SHEEN_COLORMAP_UV\x20'+_0x31e15a['sheenColorMapUv']:'',_0x31e15a['sheenRoughnessMapUv']?'#define\x20SHEEN_ROUGHNESSMAP_UV\x20'+_0x31e15a['sheenRoughnessMapUv']:'',_0x31e15a['specularMapUv']?'#define\x20SPECULARMAP_UV\x20'+_0x31e15a['specularMapUv']:'',_0x31e15a['specularColorMapUv']?'#define\x20SPECULAR_COLORMAP_UV\x20'+_0x31e15a['specularColorMapUv']:'',_0x31e15a['specularIntensityMapUv']?'#define\x20SPECULAR_INTENSITYMAP_UV\x20'+_0x31e15a['specularIntensityMapUv']:'',_0x31e15a['transmissionMapUv']?'#define\x20TRANSMISSIONMAP_UV\x20'+_0x31e15a['transmissionMapUv']:'',_0x31e15a['thicknessMapUv']?'#define\x20THICKNESSMAP_UV\x20'+_0x31e15a['thicknessMapUv']:'',_0x31e15a['vertexTangents']&&!0x1===_0x31e15a['flatShading']?'#define\x20USE_TANGENT':'',_0x31e15a['vertexColors']?'#define\x20USE_COLOR':'',_0x31e15a['vertexAlphas']?'#define\x20USE_COLOR_ALPHA':'',_0x31e15a['vertexUv1s']?'#define\x20USE_UV1':'',_0x31e15a['vertexUv2s']?'#define\x20USE_UV2':'',_0x31e15a['vertexUv3s']?'#define\x20USE_UV3':'',_0x31e15a['pointsUvs']?'#define\x20USE_POINTS_UV':'',_0x31e15a['flatShading']?'#define\x20FLAT_SHADED':'',_0x31e15a['skinning']?'#define\x20USE_SKINNING':'',_0x31e15a['morphTargets']?'#define\x20USE_MORPHTARGETS':'',_0x31e15a['morphNormals']&&!0x1===_0x31e15a['flatShading']?'#define\x20USE_MORPHNORMALS':'',_0x31e15a['morphColors']?'#define\x20USE_MORPHCOLORS':'',_0x31e15a['morphTargetsCount']>0x0?'#define\x20MORPHTARGETS_TEXTURE_STRIDE\x20'+_0x31e15a['morphTextureStride']:'',_0x31e15a['morphTargetsCount']>0x0?'#define\x20MORPHTARGETS_COUNT\x20'+_0x31e15a['morphTargetsCount']:'',_0x31e15a['doubleSided']?'#define\x20DOUBLE_SIDED':'',_0x31e15a['flipSided']?'#define\x20FLIP_SIDED':'',_0x31e15a['shadowMapEnabled']?'#define\x20USE_SHADOWMAP':'',_0x31e15a['shadowMapEnabled']?'#define\x20'+_0x47be62:'',_0x31e15a['sizeAttenuation']?'#define\x20USE_SIZEATTENUATION':'',_0x31e15a['numLightProbes']>0x0?'#define\x20USE_LIGHT_PROBES':'',_0x31e15a['logarithmicDepthBuffer']?'#define\x20USE_LOGDEPTHBUF':'',_0x31e15a['reverseDepthBuffer']?'#define\x20USE_REVERSEDEPTHBUF':'','uniform\x20mat4\x20modelMatrix;','uniform\x20mat4\x20modelViewMatrix;','uniform\x20mat4\x20projectionMatrix;','uniform\x20mat4\x20viewMatrix;','uniform\x20mat3\x20normalMatrix;','uniform\x20vec3\x20cameraPosition;','uniform\x20bool\x20isOrthographic;','#ifdef\x20USE_INSTANCING','\x09attribute\x20mat4\x20instanceMatrix;','#endif','#ifdef\x20USE_INSTANCING_COLOR','\x09attribute\x20vec3\x20instanceColor;','#endif','#ifdef\x20USE_INSTANCING_MORPH','\x09uniform\x20sampler2D\x20morphTexture;','#endif','attribute\x20vec3\x20position;','attribute\x20vec3\x20normal;','attribute\x20vec2\x20uv;','#ifdef\x20USE_UV1','\x09attribute\x20vec2\x20uv1;','#endif','#ifdef\x20USE_UV2','\x09attribute\x20vec2\x20uv2;','#endif','#ifdef\x20USE_UV3','\x09attribute\x20vec2\x20uv3;','#endif','#ifdef\x20USE_TANGENT','\x09attribute\x20vec4\x20tangent;','#endif','#if\x20defined(\x20USE_COLOR_ALPHA\x20)','\x09attribute\x20vec4\x20color;','#elif\x20defined(\x20USE_COLOR\x20)','\x09attribute\x20vec3\x20color;','#endif','#ifdef\x20USE_SKINNING','\x09attribute\x20vec4\x20skinIndex;','\x09attribute\x20vec4\x20skinWeight;','#endif','\x0a']['filter'](_0x1211d1)['join']('\x0a'),_0x32fcb2=[_0x273f62(_0x31e15a),'#define\x20SHADER_TYPE\x20'+_0x31e15a['shaderType'],'#define\x20SHADER_NAME\x20'+_0x31e15a['shaderName'],_0x1e585f,_0x31e15a['useFog']&&_0x31e15a['fog']?'#define\x20USE_FOG':'',_0x31e15a['useFog']&&_0x31e15a['fogExp2']?'#define\x20FOG_EXP2':'',_0x31e15a['alphaToCoverage']?'#define\x20ALPHA_TO_COVERAGE':'',_0x31e15a['map']?'#define\x20USE_MAP':'',_0x31e15a['matcap']?'#define\x20USE_MATCAP':'',_0x31e15a['envMap']?'#define\x20USE_ENVMAP':'',_0x31e15a['envMap']?'#define\x20'+_0x4285fd:'',_0x31e15a['envMap']?'#define\x20'+_0x4c2f32:'',_0x31e15a['envMap']?'#define\x20'+_0xfb8d7d:'',_0x165dc6?'#define\x20CUBEUV_TEXEL_WIDTH\x20'+_0x165dc6['texelWidth']:'',_0x165dc6?'#define\x20CUBEUV_TEXEL_HEIGHT\x20'+_0x165dc6['texelHeight']:'',_0x165dc6?'#define\x20CUBEUV_MAX_MIP\x20'+_0x165dc6['maxMip']+'.0':'',_0x31e15a['lightMap']?'#define\x20USE_LIGHTMAP':'',_0x31e15a['aoMap']?'#define\x20USE_AOMAP':'',_0x31e15a['bumpMap']?'#define\x20USE_BUMPMAP':'',_0x31e15a['normalMap']?'#define\x20USE_NORMALMAP':'',_0x31e15a['normalMapObjectSpace']?'#define\x20USE_NORMALMAP_OBJECTSPACE':'',_0x31e15a['normalMapTangentSpace']?'#define\x20USE_NORMALMAP_TANGENTSPACE':'',_0x31e15a['emissiveMap']?'#define\x20USE_EMISSIVEMAP':'',_0x31e15a['anisotropy']?'#define\x20USE_ANISOTROPY':'',_0x31e15a['anisotropyMap']?'#define\x20USE_ANISOTROPYMAP':'',_0x31e15a['clearcoat']?'#define\x20USE_CLEARCOAT':'',_0x31e15a['clearcoatMap']?'#define\x20USE_CLEARCOATMAP':'',_0x31e15a['clearcoatRoughnessMap']?'#define\x20USE_CLEARCOAT_ROUGHNESSMAP':'',_0x31e15a['clearcoatNormalMap']?'#define\x20USE_CLEARCOAT_NORMALMAP':'',_0x31e15a['dispersion']?'#define\x20USE_DISPERSION':'',_0x31e15a['iridescence']?'#define\x20USE_IRIDESCENCE':'',_0x31e15a['iridescenceMap']?'#define\x20USE_IRIDESCENCEMAP':'',_0x31e15a['iridescenceThicknessMap']?'#define\x20USE_IRIDESCENCE_THICKNESSMAP':'',_0x31e15a['specularMap']?'#define\x20USE_SPECULARMAP':'',_0x31e15a['specularColorMap']?'#define\x20USE_SPECULAR_COLORMAP':'',_0x31e15a['specularIntensityMap']?'#define\x20USE_SPECULAR_INTENSITYMAP':'',_0x31e15a['roughnessMap']?'#define\x20USE_ROUGHNESSMAP':'',_0x31e15a['metalnessMap']?'#define\x20USE_METALNESSMAP':'',_0x31e15a['alphaMap']?'#define\x20USE_ALPHAMAP':'',_0x31e15a['alphaTest']?'#define\x20USE_ALPHATEST':'',_0x31e15a['alphaHash']?'#define\x20USE_ALPHAHASH':'',_0x31e15a['sheen']?'#define\x20USE_SHEEN':'',_0x31e15a['sheenColorMap']?'#define\x20USE_SHEEN_COLORMAP':'',_0x31e15a['sheenRoughnessMap']?'#define\x20USE_SHEEN_ROUGHNESSMAP':'',_0x31e15a['transmission']?'#define\x20USE_TRANSMISSION':'',_0x31e15a['transmissionMap']?'#define\x20USE_TRANSMISSIONMAP':'',_0x31e15a['thicknessMap']?'#define\x20USE_THICKNESSMAP':'',_0x31e15a['vertexTangents']&&!0x1===_0x31e15a['flatShading']?'#define\x20USE_TANGENT':'',_0x31e15a['vertexColors']||_0x31e15a['instancingColor']||_0x31e15a['batchingColor']?'#define\x20USE_COLOR':'',_0x31e15a['vertexAlphas']?'#define\x20USE_COLOR_ALPHA':'',_0x31e15a['vertexUv1s']?'#define\x20USE_UV1':'',_0x31e15a['vertexUv2s']?'#define\x20USE_UV2':'',_0x31e15a['vertexUv3s']?'#define\x20USE_UV3':'',_0x31e15a['pointsUvs']?'#define\x20USE_POINTS_UV':'',_0x31e15a['gradientMap']?'#define\x20USE_GRADIENTMAP':'',_0x31e15a['flatShading']?'#define\x20FLAT_SHADED':'',_0x31e15a['doubleSided']?'#define\x20DOUBLE_SIDED':'',_0x31e15a['flipSided']?'#define\x20FLIP_SIDED':'',_0x31e15a['shadowMapEnabled']?'#define\x20USE_SHADOWMAP':'',_0x31e15a['shadowMapEnabled']?'#define\x20'+_0x47be62:'',_0x31e15a['premultipliedAlpha']?'#define\x20PREMULTIPLIED_ALPHA':'',_0x31e15a['numLightProbes']>0x0?'#define\x20USE_LIGHT_PROBES':'',_0x31e15a['decodeVideoTexture']?'#define\x20DECODE_VIDEO_TEXTURE':'',_0x31e15a['decodeVideoTextureEmissive']?'#define\x20DECODE_VIDEO_TEXTURE_EMISSIVE':'',_0x31e15a['logarithmicDepthBuffer']?'#define\x20USE_LOGDEPTHBUF':'',_0x31e15a['reverseDepthBuffer']?'#define\x20USE_REVERSEDEPTHBUF':'','uniform\x20mat4\x20viewMatrix;','uniform\x20vec3\x20cameraPosition;','uniform\x20bool\x20isOrthographic;',_0x31e15a['toneMapping']!==_0x42a528['y_p']?'#define\x20TONE_MAPPING':'',_0x31e15a['toneMapping']!==_0x42a528['y_p']?_0x2e7b57['tonemapping_pars_fragment']:'',_0x31e15a['toneMapping']!==_0x42a528['y_p']?_0x2711aa('toneMapping',_0x31e15a['toneMapping']):'',_0x31e15a['dithering']?'#define\x20DITHERING':'',_0x31e15a['opaque']?'#define\x20OPAQUE':'',_0x2e7b57['colorspace_pars_fragment'],_0x298ee2('linearToOutputTexel',_0x31e15a['outputColorSpace']),_0x4b0f77(),_0x31e15a['useDepthPacking']?'#define\x20DEPTH_PACKING\x20'+_0x31e15a['depthPacking']:'','\x0a']['filter'](_0x1211d1)['join']('\x0a')),_0x41e2fc=_0xbd8e92(_0x41e2fc),_0x41e2fc=_0x1a1689(_0x41e2fc,_0x31e15a),_0x41e2fc=_0x2d9d57(_0x41e2fc,_0x31e15a),_0x31a0b9=_0xbd8e92(_0x31a0b9),_0x31a0b9=_0x1a1689(_0x31a0b9,_0x31e15a),_0x31a0b9=_0x2d9d57(_0x31a0b9,_0x31e15a),_0x41e2fc=_0x569aea(_0x41e2fc),_0x31a0b9=_0x569aea(_0x31a0b9),!0x0!==_0x31e15a['isRawShaderMaterial']&&(_0x40a98f='#version\x20300\x20es\x0a',_0x17e310=[_0x5ba7f8,'#define\x20attribute\x20in','#define\x20varying\x20out','#define\x20texture2D\x20texture']['join']('\x0a')+'\x0a'+_0x17e310,_0x32fcb2=['#define\x20varying\x20in',_0x31e15a['glslVersion']===_0x42a528['Wdf']?'':'layout(location\x20=\x200)\x20out\x20highp\x20vec4\x20pc_fragColor;',_0x31e15a['glslVersion']===_0x42a528['Wdf']?'':'#define\x20gl_FragColor\x20pc_fragColor','#define\x20gl_FragDepthEXT\x20gl_FragDepth','#define\x20texture2D\x20texture','#define\x20textureCube\x20texture','#define\x20texture2DProj\x20textureProj','#define\x20texture2DLodEXT\x20textureLod','#define\x20texture2DProjLodEXT\x20textureProjLod','#define\x20textureCubeLodEXT\x20textureLod','#define\x20texture2DGradEXT\x20textureGrad','#define\x20texture2DProjGradEXT\x20textureProjGrad','#define\x20textureCubeGradEXT\x20textureGrad']['join']('\x0a')+'\x0a'+_0x32fcb2);const _0xe31540=_0x40a98f+_0x17e310+_0x41e2fc,_0x3c1f28=_0x40a98f+_0x32fcb2+_0x31a0b9,_0x39d533=_0x9bcf6a(_0x4d9790,_0x4d9790['VERTEX_SHADER'],_0xe31540),_0x39fa63=_0x9bcf6a(_0x4d9790,_0x4d9790['FRAGMENT_SHADER'],_0x3c1f28);function _0x5d06cf(_0x1dbf25){if(_0x4f83b3['debug']['checkShaderErrors']){const _0x5ea0f3=_0x4d9790['getProgramInfoLog'](_0x336e54)['trim'](),_0x38885a=_0x4d9790['getShaderInfoLog'](_0x39d533)['trim'](),_0x3ec153=_0x4d9790['getShaderInfoLog'](_0x39fa63)['trim']();let _0x56d6c6=!0x0,_0x4864b8=!0x0;if(!0x1===_0x4d9790['getProgramParameter'](_0x336e54,_0x4d9790['LINK_STATUS'])){if(_0x56d6c6=!0x1,'function'==typeof _0x4f83b3['debug']['onShaderError'])_0x4f83b3['debug']['onShaderError'](_0x4d9790,_0x336e54,_0x39d533,_0x39fa63);else{const _0x2f4b1c=_0x390bac(_0x4d9790,_0x39d533,'vertex'),_0x1cd043=_0x390bac(_0x4d9790,_0x39fa63,'fragment');console['error']('THREE.WebGLProgram:\x20Shader\x20Error\x20'+_0x4d9790['getError']()+'\x20-\x20VALIDATE_STATUS\x20'+_0x4d9790['getProgramParameter'](_0x336e54,_0x4d9790['VALIDATE_STATUS'])+'\x0a\x0aMaterial\x20Name:\x20'+_0x1dbf25['name']+'\x0aMaterial\x20Type:\x20'+_0x1dbf25['type']+'\x0a\x0aProgram\x20Info\x20Log:\x20'+_0x5ea0f3+'\x0a'+_0x2f4b1c+'\x0a'+_0x1cd043);}}else''!==_0x5ea0f3?console['warn']('THREE.WebGLProgram:\x20Program\x20Info\x20Log:',_0x5ea0f3):''!==_0x38885a&&''!==_0x3ec153||(_0x4864b8=!0x1);_0x4864b8&&(_0x1dbf25['diagnostics']={'runnable':_0x56d6c6,'programLog':_0x5ea0f3,'vertexShader':{'log':_0x38885a,'prefix':_0x17e310},'fragmentShader':{'log':_0x3ec153,'prefix':_0x32fcb2}});}_0x4d9790['deleteShader'](_0x39d533),_0x4d9790['deleteShader'](_0x39fa63),_0x6ed8ad=new _0x20e1ab(_0x4d9790,_0x336e54),_0x451cd1=function(_0x17f42a,_0x58d150){const _0xa2d8d={},_0x2d3475=_0x17f42a['getProgramParameter'](_0x58d150,_0x17f42a['ACTIVE_ATTRIBUTES']);for(let _0x5041dd=0x0;_0x5041dd<_0x2d3475;_0x5041dd++){const _0x4137ab=_0x17f42a['getActiveAttrib'](_0x58d150,_0x5041dd),_0x5df4f1=_0x4137ab['name'];let _0xe8de8b=0x1;_0x4137ab['type']===_0x17f42a['FLOAT_MAT2']&&(_0xe8de8b=0x2),_0x4137ab['type']===_0x17f42a['FLOAT_MAT3']&&(_0xe8de8b=0x3),_0x4137ab['type']===_0x17f42a['FLOAT_MAT4']&&(_0xe8de8b=0x4),_0xa2d8d[_0x5df4f1]={'type':_0x4137ab['type'],'location':_0x17f42a['getAttribLocation'](_0x58d150,_0x5df4f1),'locationSize':_0xe8de8b};}return _0xa2d8d;}(_0x4d9790,_0x336e54);}let _0x6ed8ad,_0x451cd1;_0x4d9790['attachShader'](_0x336e54,_0x39d533),_0x4d9790['attachShader'](_0x336e54,_0x39fa63),void 0x0!==_0x31e15a['index0AttributeName']?_0x4d9790['bindAttribLocation'](_0x336e54,0x0,_0x31e15a['index0AttributeName']):!0x0===_0x31e15a['morphTargets']&&_0x4d9790['bindAttribLocation'](_0x336e54,0x0,'position'),_0x4d9790['linkProgram'](_0x336e54),this['getUniforms']=function(){return void 0x0===_0x6ed8ad&&_0x5d06cf(this),_0x6ed8ad;},this['getAttributes']=function(){return void 0x0===_0x451cd1&&_0x5d06cf(this),_0x451cd1;};let _0x319f77=!0x1===_0x31e15a['rendererExtensionParallelShaderCompile'];return this['isReady']=function(){return!0x1===_0x319f77&&(_0x319f77=_0x4d9790['getProgramParameter'](_0x336e54,_0x173137)),_0x319f77;},this['destroy']=function(){_0x32c15c['releaseStatesOfProgram'](this),_0x4d9790['deleteProgram'](_0x336e54),this['program']=void 0x0;},this['type']=_0x31e15a['shaderType'],this['name']=_0x31e15a['shaderName'],this['id']=_0x4b7999++,this['cacheKey']=_0x5e0080,this['usedTimes']=0x1,this['program']=_0x336e54,this['vertexShader']=_0x39d533,this['fragmentShader']=_0x39fa63,this;}let _0x3443b8=0x0;class _0x39c179{constructor(){this['shaderCache']=new Map(),this['materialCache']=new Map();}['update'](_0xd560dc){const _0x422b19=_0xd560dc['vertexShader'],_0x4219f9=_0xd560dc['fragmentShader'],_0x44693a=this['_getShaderStage'](_0x422b19),_0x3fdcf6=this['_getShaderStage'](_0x4219f9),_0x4a693d=this['_getShaderCacheForMaterial'](_0xd560dc);return!0x1===_0x4a693d['has'](_0x44693a)&&(_0x4a693d['add'](_0x44693a),_0x44693a['usedTimes']++),!0x1===_0x4a693d['has'](_0x3fdcf6)&&(_0x4a693d['add'](_0x3fdcf6),_0x3fdcf6['usedTimes']++),this;}['remove'](_0x5c8600){const _0x319c47=this['materialCache']['get'](_0x5c8600);for(const _0x791c0 of _0x319c47)_0x791c0['usedTimes']--,0x0===_0x791c0['usedTimes']&&this['shaderCache']['delete'](_0x791c0['code']);return this['materialCache']['delete'](_0x5c8600),this;}['getVertexShaderID'](_0x3e6cad){return this['_getShaderStage'](_0x3e6cad['vertexShader'])['id'];}['getFragmentShaderID'](_0x3c6ed5){return this['_getShaderStage'](_0x3c6ed5['fragmentShader'])['id'];}['dispose'](){this['shaderCache']['clear'](),this['materialCache']['clear']();}['_getShaderCacheForMaterial'](_0x1bf13b){const _0x18fd44=this['materialCache'];let _0x83ef2d=_0x18fd44['get'](_0x1bf13b);return void 0x0===_0x83ef2d&&(_0x83ef2d=new Set(),_0x18fd44['set'](_0x1bf13b,_0x83ef2d)),_0x83ef2d;}['_getShaderStage'](_0x52a7f5){const _0x236560=this['shaderCache'];let _0x1f6265=_0x236560['get'](_0x52a7f5);return void 0x0===_0x1f6265&&(_0x1f6265=new _0x3cda7a(_0x52a7f5),_0x236560['set'](_0x52a7f5,_0x1f6265)),_0x1f6265;}}class _0x3cda7a{constructor(_0x13b211){this['id']=_0x3443b8++,this['code']=_0x13b211,this['usedTimes']=0x0;}}function _0x3e9bf2(_0x18e2a5,_0x34aa95,_0x36811e,_0x432241,_0x27ea96,_0x79d8b9,_0x218229){const _0x404740=new _0x42a528['zgK'](),_0x3a9eca=new _0x39c179(),_0x50a7b2=new Set(),_0x2bc519=[],_0x3a3f28=_0x27ea96['logarithmicDepthBuffer'],_0x56797d=_0x27ea96['vertexTextures'];let _0xe9efff=_0x27ea96['precision'];const _0xe9a760={'MeshDepthMaterial':'depth','MeshDistanceMaterial':'distanceRGBA','MeshNormalMaterial':'normal','MeshBasicMaterial':'basic','MeshLambertMaterial':'lambert','MeshPhongMaterial':'phong','MeshToonMaterial':'toon','MeshStandardMaterial':'physical','MeshPhysicalMaterial':'physical','MeshMatcapMaterial':'matcap','LineBasicMaterial':'basic','LineDashedMaterial':'dashed','PointsMaterial':'points','ShadowMaterial':'shadow','SpriteMaterial':'sprite'};function _0xd170d6(_0x48dced){return _0x50a7b2['add'](_0x48dced),0x0===_0x48dced?'uv':'uv'+_0x48dced;}return{'getParameters':function(_0x7057bf,_0x325848,_0x54e6fe,_0x578e92,_0x264f36){const _0x3c52a4=_0x578e92['fog'],_0x3fd4e9=_0x264f36['geometry'],_0x47636e=_0x7057bf['isMeshStandardMaterial']?_0x578e92['environment']:null,_0x57703a=(_0x7057bf['isMeshStandardMaterial']?_0x36811e:_0x34aa95)['get'](_0x7057bf['envMap']||_0x47636e),_0x544392=_0x57703a&&_0x57703a['mapping']===_0x42a528['Om']?_0x57703a['image']['height']:null,_0x3ff6fb=_0xe9a760[_0x7057bf['type']];null!==_0x7057bf['precision']&&(_0xe9efff=_0x27ea96['getMaxPrecision'](_0x7057bf['precision']),_0xe9efff!==_0x7057bf['precision']&&console['warn']('THREE.WebGLProgram.getParameters:',_0x7057bf['precision'],'not\x20supported,\x20using',_0xe9efff,'instead.'));const _0x4cd395=_0x3fd4e9['morphAttributes']['position']||_0x3fd4e9['morphAttributes']['normal']||_0x3fd4e9['morphAttributes']['color'],_0x2f5611=void 0x0!==_0x4cd395?_0x4cd395['length']:0x0;let _0x3f7404,_0x55593b,_0x568ffb,_0xfa1431,_0x266346=0x0;if(void 0x0!==_0x3fd4e9['morphAttributes']['position']&&(_0x266346=0x1),void 0x0!==_0x3fd4e9['morphAttributes']['normal']&&(_0x266346=0x2),void 0x0!==_0x3fd4e9['morphAttributes']['color']&&(_0x266346=0x3),_0x3ff6fb){const _0x2d3cb6=_0x1bf9f9[_0x3ff6fb];_0x3f7404=_0x2d3cb6['vertexShader'],_0x55593b=_0x2d3cb6['fragmentShader'];}else _0x3f7404=_0x7057bf['vertexShader'],_0x55593b=_0x7057bf['fragmentShader'],_0x3a9eca['update'](_0x7057bf),_0x568ffb=_0x3a9eca['getVertexShaderID'](_0x7057bf),_0xfa1431=_0x3a9eca['getFragmentShaderID'](_0x7057bf);const _0x3b1154=_0x18e2a5['getRenderTarget'](),_0x18f6b7=_0x18e2a5['state']['buffers']['depth']['getReversed'](),_0x1db9ab=!0x0===_0x264f36['isInstancedMesh'],_0x5d0c71=!0x0===_0x264f36['isBatchedMesh'],_0x2221f5=!!_0x7057bf['map'],_0x37ce66=!!_0x7057bf['matcap'],_0x30c88d=!!_0x57703a,_0x46ba9a=!!_0x7057bf['aoMap'],_0x57cae5=!!_0x7057bf['lightMap'],_0x52100d=!!_0x7057bf['bumpMap'],_0x1528f7=!!_0x7057bf['normalMap'],_0x1d06a7=!!_0x7057bf['displacementMap'],_0x3a1f5a=!!_0x7057bf['emissiveMap'],_0x51a46b=!!_0x7057bf['metalnessMap'],_0x1490cc=!!_0x7057bf['roughnessMap'],_0x46712b=_0x7057bf['anisotropy']>0x0,_0x216bbc=_0x7057bf['clearcoat']>0x0,_0x58557f=_0x7057bf['dispersion']>0x0,_0x2ea749=_0x7057bf['iridescence']>0x0,_0x2fabd5=_0x7057bf['sheen']>0x0,_0x495d89=_0x7057bf['transmission']>0x0,_0x1a43aa=_0x46712b&&!!_0x7057bf['anisotropyMap'],_0xe5cecf=_0x216bbc&&!!_0x7057bf['clearcoatMap'],_0x5892b9=_0x216bbc&&!!_0x7057bf['clearcoatNormalMap'],_0x541525=_0x216bbc&&!!_0x7057bf['clearcoatRoughnessMap'],_0x7bd6ff=_0x2ea749&&!!_0x7057bf['iridescenceMap'],_0x314601=_0x2ea749&&!!_0x7057bf['iridescenceThicknessMap'],_0xe757a7=_0x2fabd5&&!!_0x7057bf['sheenColorMap'],_0x3b45bb=_0x2fabd5&&!!_0x7057bf['sheenRoughnessMap'],_0x29de1c=!!_0x7057bf['specularMap'],_0x4df713=!!_0x7057bf['specularColorMap'],_0x3a29bf=!!_0x7057bf['specularIntensityMap'],_0x1ab6e7=_0x495d89&&!!_0x7057bf['transmissionMap'],_0x4fb7e8=_0x495d89&&!!_0x7057bf['thicknessMap'],_0x430d4a=!!_0x7057bf['gradientMap'],_0x14833f=!!_0x7057bf['alphaMap'],_0x3e78fe=_0x7057bf['alphaTest']>0x0,_0x2a3698=!!_0x7057bf['alphaHash'],_0x497de1=!!_0x7057bf['extensions'];let _0x522922=_0x42a528['y_p'];_0x7057bf['toneMapped']&&(null!==_0x3b1154&&!0x0!==_0x3b1154['isXRRenderTarget']||(_0x522922=_0x18e2a5['toneMapping']));const _0x4fd36e={'shaderID':_0x3ff6fb,'shaderType':_0x7057bf['type'],'shaderName':_0x7057bf['name'],'vertexShader':_0x3f7404,'fragmentShader':_0x55593b,'defines':_0x7057bf['defines'],'customVertexShaderID':_0x568ffb,'customFragmentShaderID':_0xfa1431,'isRawShaderMaterial':!0x0===_0x7057bf['isRawShaderMaterial'],'glslVersion':_0x7057bf['glslVersion'],'precision':_0xe9efff,'batching':_0x5d0c71,'batchingColor':_0x5d0c71&&null!==_0x264f36['_colorsTexture'],'instancing':_0x1db9ab,'instancingColor':_0x1db9ab&&null!==_0x264f36['instanceColor'],'instancingMorph':_0x1db9ab&&null!==_0x264f36['morphTexture'],'supportsVertexTextures':_0x56797d,'outputColorSpace':null===_0x3b1154?_0x18e2a5['outputColorSpace']:!0x0===_0x3b1154['isXRRenderTarget']?_0x3b1154['texture']['colorSpace']:_0x42a528['Zr2'],'alphaToCoverage':!!_0x7057bf['alphaToCoverage'],'map':_0x2221f5,'matcap':_0x37ce66,'envMap':_0x30c88d,'envMapMode':_0x30c88d&&_0x57703a['mapping'],'envMapCubeUVHeight':_0x544392,'aoMap':_0x46ba9a,'lightMap':_0x57cae5,'bumpMap':_0x52100d,'normalMap':_0x1528f7,'displacementMap':_0x56797d&&_0x1d06a7,'emissiveMap':_0x3a1f5a,'normalMapObjectSpace':_0x1528f7&&_0x7057bf['normalMapType']===_0x42a528['vyJ'],'normalMapTangentSpace':_0x1528f7&&_0x7057bf['normalMapType']===_0x42a528['bI3'],'metalnessMap':_0x51a46b,'roughnessMap':_0x1490cc,'anisotropy':_0x46712b,'anisotropyMap':_0x1a43aa,'clearcoat':_0x216bbc,'clearcoatMap':_0xe5cecf,'clearcoatNormalMap':_0x5892b9,'clearcoatRoughnessMap':_0x541525,'dispersion':_0x58557f,'iridescence':_0x2ea749,'iridescenceMap':_0x7bd6ff,'iridescenceThicknessMap':_0x314601,'sheen':_0x2fabd5,'sheenColorMap':_0xe757a7,'sheenRoughnessMap':_0x3b45bb,'specularMap':_0x29de1c,'specularColorMap':_0x4df713,'specularIntensityMap':_0x3a29bf,'transmission':_0x495d89,'transmissionMap':_0x1ab6e7,'thicknessMap':_0x4fb7e8,'gradientMap':_0x430d4a,'opaque':!0x1===_0x7057bf['transparent']&&_0x7057bf['blending']===_0x42a528['NTi']&&!0x1===_0x7057bf['alphaToCoverage'],'alphaMap':_0x14833f,'alphaTest':_0x3e78fe,'alphaHash':_0x2a3698,'combine':_0x7057bf['combine'],'mapUv':_0x2221f5&&_0xd170d6(_0x7057bf['map']['channel']),'aoMapUv':_0x46ba9a&&_0xd170d6(_0x7057bf['aoMap']['channel']),'lightMapUv':_0x57cae5&&_0xd170d6(_0x7057bf['lightMap']['channel']),'bumpMapUv':_0x52100d&&_0xd170d6(_0x7057bf['bumpMap']['channel']),'normalMapUv':_0x1528f7&&_0xd170d6(_0x7057bf['normalMap']['channel']),'displacementMapUv':_0x1d06a7&&_0xd170d6(_0x7057bf['displacementMap']['channel']),'emissiveMapUv':_0x3a1f5a&&_0xd170d6(_0x7057bf['emissiveMap']['channel']),'metalnessMapUv':_0x51a46b&&_0xd170d6(_0x7057bf['metalnessMap']['channel']),'roughnessMapUv':_0x1490cc&&_0xd170d6(_0x7057bf['roughnessMap']['channel']),'anisotropyMapUv':_0x1a43aa&&_0xd170d6(_0x7057bf['anisotropyMap']['channel']),'clearcoatMapUv':_0xe5cecf&&_0xd170d6(_0x7057bf['clearcoatMap']['channel']),'clearcoatNormalMapUv':_0x5892b9&&_0xd170d6(_0x7057bf['clearcoatNormalMap']['channel']),'clearcoatRoughnessMapUv':_0x541525&&_0xd170d6(_0x7057bf['clearcoatRoughnessMap']['channel']),'iridescenceMapUv':_0x7bd6ff&&_0xd170d6(_0x7057bf['iridescenceMap']['channel']),'iridescenceThicknessMapUv':_0x314601&&_0xd170d6(_0x7057bf['iridescenceThicknessMap']['channel']),'sheenColorMapUv':_0xe757a7&&_0xd170d6(_0x7057bf['sheenColorMap']['channel']),'sheenRoughnessMapUv':_0x3b45bb&&_0xd170d6(_0x7057bf['sheenRoughnessMap']['channel']),'specularMapUv':_0x29de1c&&_0xd170d6(_0x7057bf['specularMap']['channel']),'specularColorMapUv':_0x4df713&&_0xd170d6(_0x7057bf['specularColorMap']['channel']),'specularIntensityMapUv':_0x3a29bf&&_0xd170d6(_0x7057bf['specularIntensityMap']['channel']),'transmissionMapUv':_0x1ab6e7&&_0xd170d6(_0x7057bf['transmissionMap']['channel']),'thicknessMapUv':_0x4fb7e8&&_0xd170d6(_0x7057bf['thicknessMap']['channel']),'alphaMapUv':_0x14833f&&_0xd170d6(_0x7057bf['alphaMap']['channel']),'vertexTangents':!!_0x3fd4e9['attributes']['tangent']&&(_0x1528f7||_0x46712b),'vertexColors':_0x7057bf['vertexColors'],'vertexAlphas':!0x0===_0x7057bf['vertexColors']&&!!_0x3fd4e9['attributes']['color']&&0x4===_0x3fd4e9['attributes']['color']['itemSize'],'pointsUvs':!0x0===_0x264f36['isPoints']&&!!_0x3fd4e9['attributes']['uv']&&(_0x2221f5||_0x14833f),'fog':!!_0x3c52a4,'useFog':!0x0===_0x7057bf['fog'],'fogExp2':!!_0x3c52a4&&_0x3c52a4['isFogExp2'],'flatShading':!0x0===_0x7057bf['flatShading'],'sizeAttenuation':!0x0===_0x7057bf['sizeAttenuation'],'logarithmicDepthBuffer':_0x3a3f28,'reverseDepthBuffer':_0x18f6b7,'skinning':!0x0===_0x264f36['isSkinnedMesh'],'morphTargets':void 0x0!==_0x3fd4e9['morphAttributes']['position'],'morphNormals':void 0x0!==_0x3fd4e9['morphAttributes']['normal'],'morphColors':void 0x0!==_0x3fd4e9['morphAttributes']['color'],'morphTargetsCount':_0x2f5611,'morphTextureStride':_0x266346,'numDirLights':_0x325848['directional']['length'],'numPointLights':_0x325848['point']['length'],'numSpotLights':_0x325848['spot']['length'],'numSpotLightMaps':_0x325848['spotLightMap']['length'],'numRectAreaLights':_0x325848['rectArea']['length'],'numHemiLights':_0x325848['hemi']['length'],'numDirLightShadows':_0x325848['directionalShadowMap']['length'],'numPointLightShadows':_0x325848['pointShadowMap']['length'],'numSpotLightShadows':_0x325848['spotShadowMap']['length'],'numSpotLightShadowsWithMaps':_0x325848['numSpotLightShadowsWithMaps'],'numLightProbes':_0x325848['numLightProbes'],'numClippingPlanes':_0x218229['numPlanes'],'numClipIntersection':_0x218229['numIntersection'],'dithering':_0x7057bf['dithering'],'shadowMapEnabled':_0x18e2a5['shadowMap']['enabled']&&_0x54e6fe['length']>0x0,'shadowMapType':_0x18e2a5['shadowMap']['type'],'toneMapping':_0x522922,'decodeVideoTexture':_0x2221f5&&!0x0===_0x7057bf['map']['isVideoTexture']&&_0x42a528['ppV']['getTransfer'](_0x7057bf['map']['colorSpace'])===_0x42a528['KLL'],'decodeVideoTextureEmissive':_0x3a1f5a&&!0x0===_0x7057bf['emissiveMap']['isVideoTexture']&&_0x42a528['ppV']['getTransfer'](_0x7057bf['emissiveMap']['colorSpace'])===_0x42a528['KLL'],'premultipliedAlpha':_0x7057bf['premultipliedAlpha'],'doubleSided':_0x7057bf['side']===_0x42a528['$EB'],'flipSided':_0x7057bf['side']===_0x42a528['hsX'],'useDepthPacking':_0x7057bf['depthPacking']>=0x0,'depthPacking':_0x7057bf['depthPacking']||0x0,'index0AttributeName':_0x7057bf['index0AttributeName'],'extensionClipCullDistance':_0x497de1&&!0x0===_0x7057bf['extensions']['clipCullDistance']&&_0x432241['has']('WEBGL_clip_cull_distance'),'extensionMultiDraw':(_0x497de1&&!0x0===_0x7057bf['extensions']['multiDraw']||_0x5d0c71)&&_0x432241['has']('WEBGL_multi_draw'),'rendererExtensionParallelShaderCompile':_0x432241['has']('KHR_parallel_shader_compile'),'customProgramCacheKey':_0x7057bf['customProgramCacheKey']()};return _0x4fd36e['vertexUv1s']=_0x50a7b2['has'](0x1),_0x4fd36e['vertexUv2s']=_0x50a7b2['has'](0x2),_0x4fd36e['vertexUv3s']=_0x50a7b2['has'](0x3),_0x50a7b2['clear'](),_0x4fd36e;},'getProgramCacheKey':function(_0x35cc9c){const _0x5ef317=[];if(_0x35cc9c['shaderID']?_0x5ef317['push'](_0x35cc9c['shaderID']):(_0x5ef317['push'](_0x35cc9c['customVertexShaderID']),_0x5ef317['push'](_0x35cc9c['customFragmentShaderID'])),void 0x0!==_0x35cc9c['defines']){for(const _0x18e27e in _0x35cc9c['defines'])_0x5ef317['push'](_0x18e27e),_0x5ef317['push'](_0x35cc9c['defines'][_0x18e27e]);}return!0x1===_0x35cc9c['isRawShaderMaterial']&&(!function(_0x2449cf,_0x1db1f7){_0x2449cf['push'](_0x1db1f7['precision']),_0x2449cf['push'](_0x1db1f7['outputColorSpace']),_0x2449cf['push'](_0x1db1f7['envMapMode']),_0x2449cf['push'](_0x1db1f7['envMapCubeUVHeight']),_0x2449cf['push'](_0x1db1f7['mapUv']),_0x2449cf['push'](_0x1db1f7['alphaMapUv']),_0x2449cf['push'](_0x1db1f7['lightMapUv']),_0x2449cf['push'](_0x1db1f7['aoMapUv']),_0x2449cf['push'](_0x1db1f7['bumpMapUv']),_0x2449cf['push'](_0x1db1f7['normalMapUv']),_0x2449cf['push'](_0x1db1f7['displacementMapUv']),_0x2449cf['push'](_0x1db1f7['emissiveMapUv']),_0x2449cf['push'](_0x1db1f7['metalnessMapUv']),_0x2449cf['push'](_0x1db1f7['roughnessMapUv']),_0x2449cf['push'](_0x1db1f7['anisotropyMapUv']),_0x2449cf['push'](_0x1db1f7['clearcoatMapUv']),_0x2449cf['push'](_0x1db1f7['clearcoatNormalMapUv']),_0x2449cf['push'](_0x1db1f7['clearcoatRoughnessMapUv']),_0x2449cf['push'](_0x1db1f7['iridescenceMapUv']),_0x2449cf['push'](_0x1db1f7['iridescenceThicknessMapUv']),_0x2449cf['push'](_0x1db1f7['sheenColorMapUv']),_0x2449cf['push'](_0x1db1f7['sheenRoughnessMapUv']),_0x2449cf['push'](_0x1db1f7['specularMapUv']),_0x2449cf['push'](_0x1db1f7['specularColorMapUv']),_0x2449cf['push'](_0x1db1f7['specularIntensityMapUv']),_0x2449cf['push'](_0x1db1f7['transmissionMapUv']),_0x2449cf['push'](_0x1db1f7['thicknessMapUv']),_0x2449cf['push'](_0x1db1f7['combine']),_0x2449cf['push'](_0x1db1f7['fogExp2']),_0x2449cf['push'](_0x1db1f7['sizeAttenuation']),_0x2449cf['push'](_0x1db1f7['morphTargetsCount']),_0x2449cf['push'](_0x1db1f7['morphAttributeCount']),_0x2449cf['push'](_0x1db1f7['numDirLights']),_0x2449cf['push'](_0x1db1f7['numPointLights']),_0x2449cf['push'](_0x1db1f7['numSpotLights']),_0x2449cf['push'](_0x1db1f7['numSpotLightMaps']),_0x2449cf['push'](_0x1db1f7['numHemiLights']),_0x2449cf['push'](_0x1db1f7['numRectAreaLights']),_0x2449cf['push'](_0x1db1f7['numDirLightShadows']),_0x2449cf['push'](_0x1db1f7['numPointLightShadows']),_0x2449cf['push'](_0x1db1f7['numSpotLightShadows']),_0x2449cf['push'](_0x1db1f7['numSpotLightShadowsWithMaps']),_0x2449cf['push'](_0x1db1f7['numLightProbes']),_0x2449cf['push'](_0x1db1f7['shadowMapType']),_0x2449cf['push'](_0x1db1f7['toneMapping']),_0x2449cf['push'](_0x1db1f7['numClippingPlanes']),_0x2449cf['push'](_0x1db1f7['numClipIntersection']),_0x2449cf['push'](_0x1db1f7['depthPacking']);}(_0x5ef317,_0x35cc9c),function(_0x31ae6f,_0x11ed24){_0x404740['disableAll'](),_0x11ed24['supportsVertexTextures']&&_0x404740['enable'](0x0),_0x11ed24['instancing']&&_0x404740['enable'](0x1),_0x11ed24['instancingColor']&&_0x404740['enable'](0x2),_0x11ed24['instancingMorph']&&_0x404740['enable'](0x3),_0x11ed24['matcap']&&_0x404740['enable'](0x4),_0x11ed24['envMap']&&_0x404740['enable'](0x5),_0x11ed24['normalMapObjectSpace']&&_0x404740['enable'](0x6),_0x11ed24['normalMapTangentSpace']&&_0x404740['enable'](0x7),_0x11ed24['clearcoat']&&_0x404740['enable'](0x8),_0x11ed24['iridescence']&&_0x404740['enable'](0x9),_0x11ed24['alphaTest']&&_0x404740['enable'](0xa),_0x11ed24['vertexColors']&&_0x404740['enable'](0xb),_0x11ed24['vertexAlphas']&&_0x404740['enable'](0xc),_0x11ed24['vertexUv1s']&&_0x404740['enable'](0xd),_0x11ed24['vertexUv2s']&&_0x404740['enable'](0xe),_0x11ed24['vertexUv3s']&&_0x404740['enable'](0xf),_0x11ed24['vertexTangents']&&_0x404740['enable'](0x10),_0x11ed24['anisotropy']&&_0x404740['enable'](0x11),_0x11ed24['alphaHash']&&_0x404740['enable'](0x12),_0x11ed24['batching']&&_0x404740['enable'](0x13),_0x11ed24['dispersion']&&_0x404740['enable'](0x14),_0x11ed24['batchingColor']&&_0x404740['enable'](0x15),(_0x31ae6f['push'](_0x404740['mask']),_0x404740['disableAll'](),_0x11ed24['fog']&&_0x404740['enable'](0x0)),_0x11ed24['useFog']&&_0x404740['enable'](0x1),_0x11ed24['flatShading']&&_0x404740['enable'](0x2),_0x11ed24['logarithmicDepthBuffer']&&_0x404740['enable'](0x3),_0x11ed24['reverseDepthBuffer']&&_0x404740['enable'](0x4),_0x11ed24['skinning']&&_0x404740['enable'](0x5),_0x11ed24['morphTargets']&&_0x404740['enable'](0x6),_0x11ed24['morphNormals']&&_0x404740['enable'](0x7),_0x11ed24['morphColors']&&_0x404740['enable'](0x8),_0x11ed24['premultipliedAlpha']&&_0x404740['enable'](0x9),_0x11ed24['shadowMapEnabled']&&_0x404740['enable'](0xa),_0x11ed24['doubleSided']&&_0x404740['enable'](0xb),_0x11ed24['flipSided']&&_0x404740['enable'](0xc),_0x11ed24['useDepthPacking']&&_0x404740['enable'](0xd),_0x11ed24['dithering']&&_0x404740['enable'](0xe),_0x11ed24['transmission']&&_0x404740['enable'](0xf),_0x11ed24['sheen']&&_0x404740['enable'](0x10),_0x11ed24['opaque']&&_0x404740['enable'](0x11),_0x11ed24['pointsUvs']&&_0x404740['enable'](0x12),_0x11ed24['decodeVideoTexture']&&_0x404740['enable'](0x13),_0x11ed24['decodeVideoTextureEmissive']&&_0x404740['enable'](0x14),_0x11ed24['alphaToCoverage']&&_0x404740['enable'](0x15),_0x31ae6f['push'](_0x404740['mask']);}(_0x5ef317,_0x35cc9c),_0x5ef317['push'](_0x18e2a5['outputColorSpace'])),_0x5ef317['push'](_0x35cc9c['customProgramCacheKey']),_0x5ef317['join']();},'getUniforms':function(_0x4417d1){const _0x55d8f4=_0xe9a760[_0x4417d1['type']];let _0x3b97e9;if(_0x55d8f4){const _0x488927=_0x1bf9f9[_0x55d8f4];_0x3b97e9=_0x42a528['LlO']['clone'](_0x488927['uniforms']);}else _0x3b97e9=_0x4417d1['uniforms'];return _0x3b97e9;},'acquireProgram':function(_0x300a62,_0x197d08){let _0x2631c4;for(let _0x1232fa=0x0,_0xef97cf=_0x2bc519['length'];_0x1232fa<_0xef97cf;_0x1232fa++){const _0x146287=_0x2bc519[_0x1232fa];if(_0x146287['cacheKey']===_0x197d08){_0x2631c4=_0x146287,++_0x2631c4['usedTimes'];break;}}return void 0x0===_0x2631c4&&(_0x2631c4=new _0xa3f9e4(_0x18e2a5,_0x197d08,_0x300a62,_0x79d8b9),_0x2bc519['push'](_0x2631c4)),_0x2631c4;},'releaseProgram':function(_0x53f58d){if(0x0==--_0x53f58d['usedTimes']){const _0x3a1f05=_0x2bc519['indexOf'](_0x53f58d);_0x2bc519[_0x3a1f05]=_0x2bc519[_0x2bc519['length']-0x1],_0x2bc519['pop'](),_0x53f58d['destroy']();}},'releaseShaderCache':function(_0x191f25){_0x3a9eca['remove'](_0x191f25);},'programs':_0x2bc519,'dispose':function(){_0x3a9eca['dispose']();}};}function _0x21b0fb(){let _0x50bc37=new WeakMap();return{'has':function(_0x59660f){return _0x50bc37['has'](_0x59660f);},'get':function(_0xe41f00){let _0x19e538=_0x50bc37['get'](_0xe41f00);return void 0x0===_0x19e538&&(_0x19e538={},_0x50bc37['set'](_0xe41f00,_0x19e538)),_0x19e538;},'remove':function(_0x9b6baa){_0x50bc37['delete'](_0x9b6baa);},'update':function(_0xbf8ff0,_0x13b285,_0x16f355){_0x50bc37['get'](_0xbf8ff0)[_0x13b285]=_0x16f355;},'dispose':function(){_0x50bc37=new WeakMap();}};}function _0x3092ab(_0x5cf6e9,_0x19eff7){return _0x5cf6e9['groupOrder']!==_0x19eff7['groupOrder']?_0x5cf6e9['groupOrder']-_0x19eff7['groupOrder']:_0x5cf6e9['renderOrder']!==_0x19eff7['renderOrder']?_0x5cf6e9['renderOrder']-_0x19eff7['renderOrder']:_0x5cf6e9['material']['id']!==_0x19eff7['material']['id']?_0x5cf6e9['material']['id']-_0x19eff7['material']['id']:_0x5cf6e9['z']!==_0x19eff7['z']?_0x5cf6e9['z']-_0x19eff7['z']:_0x5cf6e9['id']-_0x19eff7['id'];}function _0x5490c7(_0x15330a,_0xf75cb5){return _0x15330a['groupOrder']!==_0xf75cb5['groupOrder']?_0x15330a['groupOrder']-_0xf75cb5['groupOrder']:_0x15330a['renderOrder']!==_0xf75cb5['renderOrder']?_0x15330a['renderOrder']-_0xf75cb5['renderOrder']:_0x15330a['z']!==_0xf75cb5['z']?_0xf75cb5['z']-_0x15330a['z']:_0x15330a['id']-_0xf75cb5['id'];}function _0x1fe7cc(){const _0x329c68=[];let _0x3f0fbc=0x0;const _0x474d95=[],_0x35be39=[],_0xd8314c=[];function _0x3584e6(_0x3c4f88,_0x575c8e,_0x2114ef,_0x3fd33e,_0x1c06c2,_0x25620e){let _0x5efaeb=_0x329c68[_0x3f0fbc];return void 0x0===_0x5efaeb?(_0x5efaeb={'id':_0x3c4f88['id'],'object':_0x3c4f88,'geometry':_0x575c8e,'material':_0x2114ef,'groupOrder':_0x3fd33e,'renderOrder':_0x3c4f88['renderOrder'],'z':_0x1c06c2,'group':_0x25620e},_0x329c68[_0x3f0fbc]=_0x5efaeb):(_0x5efaeb['id']=_0x3c4f88['id'],_0x5efaeb['object']=_0x3c4f88,_0x5efaeb['geometry']=_0x575c8e,_0x5efaeb['material']=_0x2114ef,_0x5efaeb['groupOrder']=_0x3fd33e,_0x5efaeb['renderOrder']=_0x3c4f88['renderOrder'],_0x5efaeb['z']=_0x1c06c2,_0x5efaeb['group']=_0x25620e),_0x3f0fbc++,_0x5efaeb;}return{'opaque':_0x474d95,'transmissive':_0x35be39,'transparent':_0xd8314c,'init':function(){_0x3f0fbc=0x0,_0x474d95['length']=0x0,_0x35be39['length']=0x0,_0xd8314c['length']=0x0;},'push':function(_0x33547c,_0x4f6dc7,_0x1ad1e5,_0x14ce2b,_0x4f9218,_0x4ff305){const _0x156411=_0x3584e6(_0x33547c,_0x4f6dc7,_0x1ad1e5,_0x14ce2b,_0x4f9218,_0x4ff305);_0x1ad1e5['transmission']>0x0?_0x35be39['push'](_0x156411):!0x0===_0x1ad1e5['transparent']?_0xd8314c['push'](_0x156411):_0x474d95['push'](_0x156411);},'unshift':function(_0x2de698,_0x3e728c,_0x476aae,_0x5bee49,_0x501b1d,_0x4e73c8){const _0x9cb9cc=_0x3584e6(_0x2de698,_0x3e728c,_0x476aae,_0x5bee49,_0x501b1d,_0x4e73c8);_0x476aae['transmission']>0x0?_0x35be39['unshift'](_0x9cb9cc):!0x0===_0x476aae['transparent']?_0xd8314c['unshift'](_0x9cb9cc):_0x474d95['unshift'](_0x9cb9cc);},'finish':function(){for(let _0x502f8e=_0x3f0fbc,_0x785b04=_0x329c68['length'];_0x502f8e<_0x785b04;_0x502f8e++){const _0x302bb0=_0x329c68[_0x502f8e];if(null===_0x302bb0['id'])break;_0x302bb0['id']=null,_0x302bb0['object']=null,_0x302bb0['geometry']=null,_0x302bb0['material']=null,_0x302bb0['group']=null;}},'sort':function(_0x2cc77c,_0x5c8418){_0x474d95['length']>0x1&&_0x474d95['sort'](_0x2cc77c||_0x3092ab),_0x35be39['length']>0x1&&_0x35be39['sort'](_0x5c8418||_0x5490c7),_0xd8314c['length']>0x1&&_0xd8314c['sort'](_0x5c8418||_0x5490c7);}};}function _0x38984b(){let _0x26cc22=new WeakMap();return{'get':function(_0x965379,_0x1c46e0){const _0x2892fc=_0x26cc22['get'](_0x965379);let _0xf94497;return void 0x0===_0x2892fc?(_0xf94497=new _0x1fe7cc(),_0x26cc22['set'](_0x965379,[_0xf94497])):_0x1c46e0>=_0x2892fc['length']?(_0xf94497=new _0x1fe7cc(),_0x2892fc['push'](_0xf94497)):_0xf94497=_0x2892fc[_0x1c46e0],_0xf94497;},'dispose':function(){_0x26cc22=new WeakMap();}};}function _0x203bfe(){const _0xac779d={};return{'get':function(_0x1e44af){if(void 0x0!==_0xac779d[_0x1e44af['id']])return _0xac779d[_0x1e44af['id']];let _0x417e01;switch(_0x1e44af['type']){case'DirectionalLight':_0x417e01={'direction':new _0x42a528['Pq0'](),'color':new _0x42a528['Q1f']()};break;case'SpotLight':_0x417e01={'position':new _0x42a528['Pq0'](),'direction':new _0x42a528['Pq0'](),'color':new _0x42a528['Q1f'](),'distance':0x0,'coneCos':0x0,'penumbraCos':0x0,'decay':0x0};break;case'PointLight':_0x417e01={'position':new _0x42a528['Pq0'](),'color':new _0x42a528['Q1f'](),'distance':0x0,'decay':0x0};break;case'HemisphereLight':_0x417e01={'direction':new _0x42a528['Pq0'](),'skyColor':new _0x42a528['Q1f'](),'groundColor':new _0x42a528['Q1f']()};break;case'RectAreaLight':_0x417e01={'color':new _0x42a528['Q1f'](),'position':new _0x42a528['Pq0'](),'halfWidth':new _0x42a528['Pq0'](),'halfHeight':new _0x42a528['Pq0']()};}return _0xac779d[_0x1e44af['id']]=_0x417e01,_0x417e01;}};}let _0x43a038=0x0;function _0x4dc8b5(_0x585023,_0x36e2e6){return(_0x36e2e6['castShadow']?0x2:0x0)-(_0x585023['castShadow']?0x2:0x0)+(_0x36e2e6['map']?0x1:0x0)-(_0x585023['map']?0x1:0x0);}function _0x47cb67(_0x1347a7){const _0x145d41=new _0x203bfe(),_0x165072=(function(){const _0xac577c={};return{'get':function(_0x22f143){if(void 0x0!==_0xac577c[_0x22f143['id']])return _0xac577c[_0x22f143['id']];let _0x480af0;switch(_0x22f143['type']){case'DirectionalLight':case'SpotLight':_0x480af0={'shadowIntensity':0x1,'shadowBias':0x0,'shadowNormalBias':0x0,'shadowRadius':0x1,'shadowMapSize':new _0x42a528['I9Y']()};break;case'PointLight':_0x480af0={'shadowIntensity':0x1,'shadowBias':0x0,'shadowNormalBias':0x0,'shadowRadius':0x1,'shadowMapSize':new _0x42a528['I9Y'](),'shadowCameraNear':0x1,'shadowCameraFar':0x3e8};}return _0xac577c[_0x22f143['id']]=_0x480af0,_0x480af0;}};}()),_0x5ba1ac={'version':0x0,'hash':{'directionalLength':-0x1,'pointLength':-0x1,'spotLength':-0x1,'rectAreaLength':-0x1,'hemiLength':-0x1,'numDirectionalShadows':-0x1,'numPointShadows':-0x1,'numSpotShadows':-0x1,'numSpotMaps':-0x1,'numLightProbes':-0x1},'ambient':[0x0,0x0,0x0],'probe':[],'directional':[],'directionalShadow':[],'directionalShadowMap':[],'directionalShadowMatrix':[],'spot':[],'spotLightMap':[],'spotShadow':[],'spotShadowMap':[],'spotLightMatrix':[],'rectArea':[],'rectAreaLTC1':null,'rectAreaLTC2':null,'point':[],'pointShadow':[],'pointShadowMap':[],'pointShadowMatrix':[],'hemi':[],'numSpotLightShadowsWithMaps':0x0,'numLightProbes':0x0};for(let _0x1f9cbf=0x0;_0x1f9cbf<0x9;_0x1f9cbf++)_0x5ba1ac['probe']['push'](new _0x42a528['Pq0']());const _0x2b29a4=new _0x42a528['Pq0'](),_0x50e0ac=new _0x42a528['kn4'](),_0x21626c=new _0x42a528['kn4']();return{'setup':function(_0x21614b){let _0x3d894c=0x0,_0x1bd7e8=0x0,_0x311fd1=0x0;for(let _0x45c979=0x0;_0x45c979<0x9;_0x45c979++)_0x5ba1ac['probe'][_0x45c979]['set'](0x0,0x0,0x0);let _0x17cd74=0x0,_0x1cf109=0x0,_0x512a93=0x0,_0x38b207=0x0,_0x253c0f=0x0,_0x7e560=0x0,_0x282160=0x0,_0x3ef5c7=0x0,_0x180cf8=0x0,_0x4111f2=0x0,_0x3eefbc=0x0;_0x21614b['sort'](_0x4dc8b5);for(let _0x3a788b=0x0,_0x26e868=_0x21614b['length'];_0x3a788b<_0x26e868;_0x3a788b++){const _0x441af6=_0x21614b[_0x3a788b],_0x1442bd=_0x441af6['color'],_0x290edd=_0x441af6['intensity'],_0x417194=_0x441af6['distance'],_0x23e8e2=_0x441af6['shadow']&&_0x441af6['shadow']['map']?_0x441af6['shadow']['map']['texture']:null;if(_0x441af6['isAmbientLight'])_0x3d894c+=_0x1442bd['r']*_0x290edd,_0x1bd7e8+=_0x1442bd['g']*_0x290edd,_0x311fd1+=_0x1442bd['b']*_0x290edd;else{if(_0x441af6['isLightProbe']){for(let _0x44b9d7=0x0;_0x44b9d7<0x9;_0x44b9d7++)_0x5ba1ac['probe'][_0x44b9d7]['addScaledVector'](_0x441af6['sh']['coefficients'][_0x44b9d7],_0x290edd);_0x3eefbc++;}else{if(_0x441af6['isDirectionalLight']){const _0x337ff0=_0x145d41['get'](_0x441af6);if(_0x337ff0['color']['copy'](_0x441af6['color'])['multiplyScalar'](_0x441af6['intensity']),_0x441af6['castShadow']){const _0x345c47=_0x441af6['shadow'],_0x14d1d4=_0x165072['get'](_0x441af6);_0x14d1d4['shadowIntensity']=_0x345c47['intensity'],_0x14d1d4['shadowBias']=_0x345c47['bias'],_0x14d1d4['shadowNormalBias']=_0x345c47['normalBias'],_0x14d1d4['shadowRadius']=_0x345c47['radius'],_0x14d1d4['shadowMapSize']=_0x345c47['mapSize'],_0x5ba1ac['directionalShadow'][_0x17cd74]=_0x14d1d4,_0x5ba1ac['directionalShadowMap'][_0x17cd74]=_0x23e8e2,_0x5ba1ac['directionalShadowMatrix'][_0x17cd74]=_0x441af6['shadow']['matrix'],_0x7e560++;}_0x5ba1ac['directional'][_0x17cd74]=_0x337ff0,_0x17cd74++;}else{if(_0x441af6['isSpotLight']){const _0x5d7443=_0x145d41['get'](_0x441af6);_0x5d7443['position']['setFromMatrixPosition'](_0x441af6['matrixWorld']),_0x5d7443['color']['copy'](_0x1442bd)['multiplyScalar'](_0x290edd),_0x5d7443['distance']=_0x417194,_0x5d7443['coneCos']=Math['cos'](_0x441af6['angle']),_0x5d7443['penumbraCos']=Math['cos'](_0x441af6['angle']*(0x1-_0x441af6['penumbra'])),_0x5d7443['decay']=_0x441af6['decay'],_0x5ba1ac['spot'][_0x512a93]=_0x5d7443;const _0x2d8286=_0x441af6['shadow'];if(_0x441af6['map']&&(_0x5ba1ac['spotLightMap'][_0x180cf8]=_0x441af6['map'],_0x180cf8++,_0x2d8286['updateMatrices'](_0x441af6),_0x441af6['castShadow']&&_0x4111f2++),_0x5ba1ac['spotLightMatrix'][_0x512a93]=_0x2d8286['matrix'],_0x441af6['castShadow']){const _0x37dd4a=_0x165072['get'](_0x441af6);_0x37dd4a['shadowIntensity']=_0x2d8286['intensity'],_0x37dd4a['shadowBias']=_0x2d8286['bias'],_0x37dd4a['shadowNormalBias']=_0x2d8286['normalBias'],_0x37dd4a['shadowRadius']=_0x2d8286['radius'],_0x37dd4a['shadowMapSize']=_0x2d8286['mapSize'],_0x5ba1ac['spotShadow'][_0x512a93]=_0x37dd4a,_0x5ba1ac['spotShadowMap'][_0x512a93]=_0x23e8e2,_0x3ef5c7++;}_0x512a93++;}else{if(_0x441af6['isRectAreaLight']){const _0x59be31=_0x145d41['get'](_0x441af6);_0x59be31['color']['copy'](_0x1442bd)['multiplyScalar'](_0x290edd),_0x59be31['halfWidth']['set'](0.5*_0x441af6['width'],0x0,0x0),_0x59be31['halfHeight']['set'](0x0,0.5*_0x441af6['height'],0x0),_0x5ba1ac['rectArea'][_0x38b207]=_0x59be31,_0x38b207++;}else{if(_0x441af6['isPointLight']){const _0x4992c3=_0x145d41['get'](_0x441af6);if(_0x4992c3['color']['copy'](_0x441af6['color'])['multiplyScalar'](_0x441af6['intensity']),_0x4992c3['distance']=_0x441af6['distance'],_0x4992c3['decay']=_0x441af6['decay'],_0x441af6['castShadow']){const _0x1eb80e=_0x441af6['shadow'],_0x3bf3f8=_0x165072['get'](_0x441af6);_0x3bf3f8['shadowIntensity']=_0x1eb80e['intensity'],_0x3bf3f8['shadowBias']=_0x1eb80e['bias'],_0x3bf3f8['shadowNormalBias']=_0x1eb80e['normalBias'],_0x3bf3f8['shadowRadius']=_0x1eb80e['radius'],_0x3bf3f8['shadowMapSize']=_0x1eb80e['mapSize'],_0x3bf3f8['shadowCameraNear']=_0x1eb80e['camera']['near'],_0x3bf3f8['shadowCameraFar']=_0x1eb80e['camera']['far'],_0x5ba1ac['pointShadow'][_0x1cf109]=_0x3bf3f8,_0x5ba1ac['pointShadowMap'][_0x1cf109]=_0x23e8e2,_0x5ba1ac['pointShadowMatrix'][_0x1cf109]=_0x441af6['shadow']['matrix'],_0x282160++;}_0x5ba1ac['point'][_0x1cf109]=_0x4992c3,_0x1cf109++;}else{if(_0x441af6['isHemisphereLight']){const _0x52dd9b=_0x145d41['get'](_0x441af6);_0x52dd9b['skyColor']['copy'](_0x441af6['color'])['multiplyScalar'](_0x290edd),_0x52dd9b['groundColor']['copy'](_0x441af6['groundColor'])['multiplyScalar'](_0x290edd),_0x5ba1ac['hemi'][_0x253c0f]=_0x52dd9b,_0x253c0f++;}}}}}}}}_0x38b207>0x0&&(!0x0===_0x1347a7['has']('OES_texture_float_linear')?(_0x5ba1ac['rectAreaLTC1']=_0x47fec4['LTC_FLOAT_1'],_0x5ba1ac['rectAreaLTC2']=_0x47fec4['LTC_FLOAT_2']):(_0x5ba1ac['rectAreaLTC1']=_0x47fec4['LTC_HALF_1'],_0x5ba1ac['rectAreaLTC2']=_0x47fec4['LTC_HALF_2'])),_0x5ba1ac['ambient'][0x0]=_0x3d894c,_0x5ba1ac['ambient'][0x1]=_0x1bd7e8,_0x5ba1ac['ambient'][0x2]=_0x311fd1;const _0x764d25=_0x5ba1ac['hash'];_0x764d25['directionalLength']===_0x17cd74&&_0x764d25['pointLength']===_0x1cf109&&_0x764d25['spotLength']===_0x512a93&&_0x764d25['rectAreaLength']===_0x38b207&&_0x764d25['hemiLength']===_0x253c0f&&_0x764d25['numDirectionalShadows']===_0x7e560&&_0x764d25['numPointShadows']===_0x282160&&_0x764d25['numSpotShadows']===_0x3ef5c7&&_0x764d25['numSpotMaps']===_0x180cf8&&_0x764d25['numLightProbes']===_0x3eefbc||(_0x5ba1ac['directional']['length']=_0x17cd74,_0x5ba1ac['spot']['length']=_0x512a93,_0x5ba1ac['rectArea']['length']=_0x38b207,_0x5ba1ac['point']['length']=_0x1cf109,_0x5ba1ac['hemi']['length']=_0x253c0f,_0x5ba1ac['directionalShadow']['length']=_0x7e560,_0x5ba1ac['directionalShadowMap']['length']=_0x7e560,_0x5ba1ac['pointShadow']['length']=_0x282160,_0x5ba1ac['pointShadowMap']['length']=_0x282160,_0x5ba1ac['spotShadow']['length']=_0x3ef5c7,_0x5ba1ac['spotShadowMap']['length']=_0x3ef5c7,_0x5ba1ac['directionalShadowMatrix']['length']=_0x7e560,_0x5ba1ac['pointShadowMatrix']['length']=_0x282160,_0x5ba1ac['spotLightMatrix']['length']=_0x3ef5c7+_0x180cf8-_0x4111f2,_0x5ba1ac['spotLightMap']['length']=_0x180cf8,_0x5ba1ac['numSpotLightShadowsWithMaps']=_0x4111f2,_0x5ba1ac['numLightProbes']=_0x3eefbc,_0x764d25['directionalLength']=_0x17cd74,_0x764d25['pointLength']=_0x1cf109,_0x764d25['spotLength']=_0x512a93,_0x764d25['rectAreaLength']=_0x38b207,_0x764d25['hemiLength']=_0x253c0f,_0x764d25['numDirectionalShadows']=_0x7e560,_0x764d25['numPointShadows']=_0x282160,_0x764d25['numSpotShadows']=_0x3ef5c7,_0x764d25['numSpotMaps']=_0x180cf8,_0x764d25['numLightProbes']=_0x3eefbc,_0x5ba1ac['version']=_0x43a038++);},'setupView':function(_0x4089bc,_0x3fce4d){let _0x1a4447=0x0,_0xc5121c=0x0,_0x1e26c5=0x0,_0x2fb3ff=0x0,_0x4f224f=0x0;const _0x457c49=_0x3fce4d['matrixWorldInverse'];for(let _0x357f89=0x0,_0x3aa9a4=_0x4089bc['length'];_0x357f89<_0x3aa9a4;_0x357f89++){const _0x1a4050=_0x4089bc[_0x357f89];if(_0x1a4050['isDirectionalLight']){const _0x159fdf=_0x5ba1ac['directional'][_0x1a4447];_0x159fdf['direction']['setFromMatrixPosition'](_0x1a4050['matrixWorld']),_0x2b29a4['setFromMatrixPosition'](_0x1a4050['target']['matrixWorld']),_0x159fdf['direction']['sub'](_0x2b29a4),_0x159fdf['direction']['transformDirection'](_0x457c49),_0x1a4447++;}else{if(_0x1a4050['isSpotLight']){const _0x277657=_0x5ba1ac['spot'][_0x1e26c5];_0x277657['position']['setFromMatrixPosition'](_0x1a4050['matrixWorld']),_0x277657['position']['applyMatrix4'](_0x457c49),_0x277657['direction']['setFromMatrixPosition'](_0x1a4050['matrixWorld']),_0x2b29a4['setFromMatrixPosition'](_0x1a4050['target']['matrixWorld']),_0x277657['direction']['sub'](_0x2b29a4),_0x277657['direction']['transformDirection'](_0x457c49),_0x1e26c5++;}else{if(_0x1a4050['isRectAreaLight']){const _0x19a573=_0x5ba1ac['rectArea'][_0x2fb3ff];_0x19a573['position']['setFromMatrixPosition'](_0x1a4050['matrixWorld']),_0x19a573['position']['applyMatrix4'](_0x457c49),_0x21626c['identity'](),_0x50e0ac['copy'](_0x1a4050['matrixWorld']),_0x50e0ac['premultiply'](_0x457c49),_0x21626c['extractRotation'](_0x50e0ac),_0x19a573['halfWidth']['set'](0.5*_0x1a4050['width'],0x0,0x0),_0x19a573['halfHeight']['set'](0x0,0.5*_0x1a4050['height'],0x0),_0x19a573['halfWidth']['applyMatrix4'](_0x21626c),_0x19a573['halfHeight']['applyMatrix4'](_0x21626c),_0x2fb3ff++;}else{if(_0x1a4050['isPointLight']){const _0x2df3ac=_0x5ba1ac['point'][_0xc5121c];_0x2df3ac['position']['setFromMatrixPosition'](_0x1a4050['matrixWorld']),_0x2df3ac['position']['applyMatrix4'](_0x457c49),_0xc5121c++;}else{if(_0x1a4050['isHemisphereLight']){const _0x25669b=_0x5ba1ac['hemi'][_0x4f224f];_0x25669b['direction']['setFromMatrixPosition'](_0x1a4050['matrixWorld']),_0x25669b['direction']['transformDirection'](_0x457c49),_0x4f224f++;}}}}}}},'state':_0x5ba1ac};}function _0x284244(_0x1a5906){const _0x4a9c99=new _0x47cb67(_0x1a5906),_0x47056b=[],_0x808a13=[],_0x2d84f6={'lightsArray':_0x47056b,'shadowsArray':_0x808a13,'camera':null,'lights':_0x4a9c99,'transmissionRenderTarget':{}};return{'init':function(_0x1765f6){_0x2d84f6['camera']=_0x1765f6,_0x47056b['length']=0x0,_0x808a13['length']=0x0;},'state':_0x2d84f6,'setupLights':function(){_0x4a9c99['setup'](_0x47056b);},'setupLightsView':function(_0x3d1599){_0x4a9c99['setupView'](_0x47056b,_0x3d1599);},'pushLight':function(_0x262955){_0x47056b['push'](_0x262955);},'pushShadow':function(_0x2d5477){_0x808a13['push'](_0x2d5477);}};}function _0x52ab7a(_0x5d410f){let _0x5360a3=new WeakMap();return{'get':function(_0x1c5432,_0x39382c=0x0){const _0x3e568d=_0x5360a3['get'](_0x1c5432);let _0x478c60;return void 0x0===_0x3e568d?(_0x478c60=new _0x284244(_0x5d410f),_0x5360a3['set'](_0x1c5432,[_0x478c60])):_0x39382c>=_0x3e568d['length']?(_0x478c60=new _0x284244(_0x5d410f),_0x3e568d['push'](_0x478c60)):_0x478c60=_0x3e568d[_0x39382c],_0x478c60;},'dispose':function(){_0x5360a3=new WeakMap();}};}function _0x375535(_0x59c8e0,_0xafefbd,_0x16c25c){let _0x5b935f=new _0x42a528['PPD']();const _0x1c19c6=new _0x42a528['I9Y'](),_0x5403cf=new _0x42a528['I9Y'](),_0x41bb04=new _0x42a528['IUQ'](),_0x370550=new _0x42a528['CSG']({'depthPacking':_0x42a528['N5j']}),_0x54d678=new _0x42a528['aVO'](),_0x4a5fa4={},_0x28a6c2=_0x16c25c['maxTextureSize'],_0x340456={[_0x42a528['hB5']]:_0x42a528['hsX'],[_0x42a528['hsX']]:_0x42a528['hB5'],[_0x42a528['$EB']]:_0x42a528['$EB']},_0x474434=new _0x42a528['BKk']({'defines':{'VSM_SAMPLES':0x8},'uniforms':{'shadow_pass':{'value':null},'resolution':{'value':new _0x42a528['I9Y']()},'radius':{'value':0x4}},'vertexShader':'void\x20main()\x20{\x0a\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a}','fragmentShader':'uniform\x20sampler2D\x20shadow_pass;\x0auniform\x20vec2\x20resolution;\x0auniform\x20float\x20radius;\x0a#include\x20<packing>\x0avoid\x20main()\x20{\x0a\x09const\x20float\x20samples\x20=\x20float(\x20VSM_SAMPLES\x20);\x0a\x09float\x20mean\x20=\x200.0;\x0a\x09float\x20squared_mean\x20=\x200.0;\x0a\x09float\x20uvStride\x20=\x20samples\x20<=\x201.0\x20?\x200.0\x20:\x202.0\x20/\x20(\x20samples\x20-\x201.0\x20);\x0a\x09float\x20uvStart\x20=\x20samples\x20<=\x201.0\x20?\x200.0\x20:\x20-\x201.0;\x0a\x09for\x20(\x20float\x20i\x20=\x200.0;\x20i\x20<\x20samples;\x20i\x20++\x20)\x20{\x0a\x09\x09float\x20uvOffset\x20=\x20uvStart\x20+\x20i\x20*\x20uvStride;\x0a\x09\x09#ifdef\x20HORIZONTAL_PASS\x0a\x09\x09\x09vec2\x20distribution\x20=\x20unpackRGBATo2Half(\x20texture2D(\x20shadow_pass,\x20(\x20gl_FragCoord.xy\x20+\x20vec2(\x20uvOffset,\x200.0\x20)\x20*\x20radius\x20)\x20/\x20resolution\x20)\x20);\x0a\x09\x09\x09mean\x20+=\x20distribution.x;\x0a\x09\x09\x09squared_mean\x20+=\x20distribution.y\x20*\x20distribution.y\x20+\x20distribution.x\x20*\x20distribution.x;\x0a\x09\x09#else\x0a\x09\x09\x09float\x20depth\x20=\x20unpackRGBAToDepth(\x20texture2D(\x20shadow_pass,\x20(\x20gl_FragCoord.xy\x20+\x20vec2(\x200.0,\x20uvOffset\x20)\x20*\x20radius\x20)\x20/\x20resolution\x20)\x20);\x0a\x09\x09\x09mean\x20+=\x20depth;\x0a\x09\x09\x09squared_mean\x20+=\x20depth\x20*\x20depth;\x0a\x09\x09#endif\x0a\x09}\x0a\x09mean\x20=\x20mean\x20/\x20samples;\x0a\x09squared_mean\x20=\x20squared_mean\x20/\x20samples;\x0a\x09float\x20std_dev\x20=\x20sqrt(\x20squared_mean\x20-\x20mean\x20*\x20mean\x20);\x0a\x09gl_FragColor\x20=\x20pack2HalfToRGBA(\x20vec2(\x20mean,\x20std_dev\x20)\x20);\x0a}'}),_0x5b955a=_0x474434['clone']();_0x5b955a['defines']['HORIZONTAL_PASS']=0x1;const _0x24bed8=new _0x42a528['LoY']();_0x24bed8['setAttribute']('position',new _0x42a528['THS'](new Float32Array([-0x1,-0x1,0.5,0x3,-0x1,0.5,-0x1,0x3,0.5]),0x3));const _0x1130cd=new _0x42a528['eaF'](_0x24bed8,_0x474434),_0x4463d5=this;this['enabled']=!0x1,this['autoUpdate']=!0x0,this['needsUpdate']=!0x1,this['type']=_0x42a528['QP0'];let _0x420fa1=this['type'];function _0x2ecde2(_0x24cb3d,_0x46f733){const _0x989ebd=_0xafefbd['update'](_0x1130cd);_0x474434['defines']['VSM_SAMPLES']!==_0x24cb3d['blurSamples']&&(_0x474434['defines']['VSM_SAMPLES']=_0x24cb3d['blurSamples'],_0x5b955a['defines']['VSM_SAMPLES']=_0x24cb3d['blurSamples'],_0x474434['needsUpdate']=!0x0,_0x5b955a['needsUpdate']=!0x0),null===_0x24cb3d['mapPass']&&(_0x24cb3d['mapPass']=new _0x42a528['nWS'](_0x1c19c6['x'],_0x1c19c6['y'])),_0x474434['uniforms']['shadow_pass']['value']=_0x24cb3d['map']['texture'],_0x474434['uniforms']['resolution']['value']=_0x24cb3d['mapSize'],_0x474434['uniforms']['radius']['value']=_0x24cb3d['radius'],_0x59c8e0['setRenderTarget'](_0x24cb3d['mapPass']),_0x59c8e0['clear'](),_0x59c8e0['renderBufferDirect'](_0x46f733,null,_0x989ebd,_0x474434,_0x1130cd,null),_0x5b955a['uniforms']['shadow_pass']['value']=_0x24cb3d['mapPass']['texture'],_0x5b955a['uniforms']['resolution']['value']=_0x24cb3d['mapSize'],_0x5b955a['uniforms']['radius']['value']=_0x24cb3d['radius'],_0x59c8e0['setRenderTarget'](_0x24cb3d['map']),_0x59c8e0['clear'](),_0x59c8e0['renderBufferDirect'](_0x46f733,null,_0x989ebd,_0x5b955a,_0x1130cd,null);}function _0xd6fe08(_0x11bf34,_0x58853f,_0x3253ef,_0x5728f6){let _0x8de8f6=null;const _0x5c7500=!0x0===_0x3253ef['isPointLight']?_0x11bf34['customDistanceMaterial']:_0x11bf34['customDepthMaterial'];if(void 0x0!==_0x5c7500)_0x8de8f6=_0x5c7500;else{if(_0x8de8f6=!0x0===_0x3253ef['isPointLight']?_0x54d678:_0x370550,_0x59c8e0['localClippingEnabled']&&!0x0===_0x58853f['clipShadows']&&Array['isArray'](_0x58853f['clippingPlanes'])&&0x0!==_0x58853f['clippingPlanes']['length']||_0x58853f['displacementMap']&&0x0!==_0x58853f['displacementScale']||_0x58853f['alphaMap']&&_0x58853f['alphaTest']>0x0||_0x58853f['map']&&_0x58853f['alphaTest']>0x0){const _0x49ccff=_0x8de8f6['uuid'],_0x27aac3=_0x58853f['uuid'];let _0x228ea5=_0x4a5fa4[_0x49ccff];void 0x0===_0x228ea5&&(_0x228ea5={},_0x4a5fa4[_0x49ccff]=_0x228ea5);let _0x20a43d=_0x228ea5[_0x27aac3];void 0x0===_0x20a43d&&(_0x20a43d=_0x8de8f6['clone'](),_0x228ea5[_0x27aac3]=_0x20a43d,_0x58853f['addEventListener']('dispose',_0x36c136)),_0x8de8f6=_0x20a43d;}}return(_0x8de8f6['visible']=_0x58853f['visible'],_0x8de8f6['wireframe']=_0x58853f['wireframe'],_0x5728f6===_0x42a528['RyA']?_0x8de8f6['side']=null!==_0x58853f['shadowSide']?_0x58853f['shadowSide']:_0x58853f['side']:_0x8de8f6['side']=null!==_0x58853f['shadowSide']?_0x58853f['shadowSide']:_0x340456[_0x58853f['side']],_0x8de8f6['alphaMap']=_0x58853f['alphaMap'],_0x8de8f6['alphaTest']=_0x58853f['alphaTest'],_0x8de8f6['map']=_0x58853f['map'],_0x8de8f6['clipShadows']=_0x58853f['clipShadows'],_0x8de8f6['clippingPlanes']=_0x58853f['clippingPlanes'],_0x8de8f6['clipIntersection']=_0x58853f['clipIntersection'],_0x8de8f6['displacementMap']=_0x58853f['displacementMap'],_0x8de8f6['displacementScale']=_0x58853f['displacementScale'],_0x8de8f6['displacementBias']=_0x58853f['displacementBias'],_0x8de8f6['wireframeLinewidth']=_0x58853f['wireframeLinewidth'],_0x8de8f6['linewidth']=_0x58853f['linewidth'],!0x0===_0x3253ef['isPointLight']&&!0x0===_0x8de8f6['isMeshDistanceMaterial'])&&(_0x59c8e0['properties']['get'](_0x8de8f6)['light']=_0x3253ef),_0x8de8f6;}function _0x35332c(_0x59fa7f,_0x3ffda6,_0x375344,_0x57b477,_0x1bbbd4){if(!0x1===_0x59fa7f['visible'])return;if(_0x59fa7f['layers']['test'](_0x3ffda6['layers'])&&(_0x59fa7f['isMesh']||_0x59fa7f['isLine']||_0x59fa7f['isPoints'])&&(_0x59fa7f['castShadow']||_0x59fa7f['receiveShadow']&&_0x1bbbd4===_0x42a528['RyA'])&&(!_0x59fa7f['frustumCulled']||_0x5b935f['intersectsObject'](_0x59fa7f))){_0x59fa7f['modelViewMatrix']['multiplyMatrices'](_0x375344['matrixWorldInverse'],_0x59fa7f['matrixWorld']);const _0x196376=_0xafefbd['update'](_0x59fa7f),_0x236e55=_0x59fa7f['material'];if(Array['isArray'](_0x236e55)){const _0x350f4a=_0x196376['groups'];for(let _0x4b1376=0x0,_0x432e65=_0x350f4a['length'];_0x4b1376<_0x432e65;_0x4b1376++){const _0x57bb22=_0x350f4a[_0x4b1376],_0x423f06=_0x236e55[_0x57bb22['materialIndex']];if(_0x423f06&&_0x423f06['visible']){const _0x465c2b=_0xd6fe08(_0x59fa7f,_0x423f06,_0x57b477,_0x1bbbd4);_0x59fa7f['onBeforeShadow'](_0x59c8e0,_0x59fa7f,_0x3ffda6,_0x375344,_0x196376,_0x465c2b,_0x57bb22),_0x59c8e0['renderBufferDirect'](_0x375344,null,_0x196376,_0x465c2b,_0x59fa7f,_0x57bb22),_0x59fa7f['onAfterShadow'](_0x59c8e0,_0x59fa7f,_0x3ffda6,_0x375344,_0x196376,_0x465c2b,_0x57bb22);}}}else{if(_0x236e55['visible']){const _0x36fdfd=_0xd6fe08(_0x59fa7f,_0x236e55,_0x57b477,_0x1bbbd4);_0x59fa7f['onBeforeShadow'](_0x59c8e0,_0x59fa7f,_0x3ffda6,_0x375344,_0x196376,_0x36fdfd,null),_0x59c8e0['renderBufferDirect'](_0x375344,null,_0x196376,_0x36fdfd,_0x59fa7f,null),_0x59fa7f['onAfterShadow'](_0x59c8e0,_0x59fa7f,_0x3ffda6,_0x375344,_0x196376,_0x36fdfd,null);}}}const _0x5b8ed4=_0x59fa7f['children'];for(let _0x4ac3a2=0x0,_0x1ae88a=_0x5b8ed4['length'];_0x4ac3a2<_0x1ae88a;_0x4ac3a2++)_0x35332c(_0x5b8ed4[_0x4ac3a2],_0x3ffda6,_0x375344,_0x57b477,_0x1bbbd4);}function _0x36c136(_0x2a8398){_0x2a8398['target']['removeEventListener']('dispose',_0x36c136);for(const _0x182ee4 in _0x4a5fa4){const _0x58b145=_0x4a5fa4[_0x182ee4],_0x3ecfdc=_0x2a8398['target']['uuid'];_0x3ecfdc in _0x58b145&&(_0x58b145[_0x3ecfdc]['dispose'](),delete _0x58b145[_0x3ecfdc]);}}this['render']=function(_0x2afccf,_0x195d58,_0x133939){if(!0x1===_0x4463d5['enabled'])return;if(!0x1===_0x4463d5['autoUpdate']&&!0x1===_0x4463d5['needsUpdate'])return;if(0x0===_0x2afccf['length'])return;const _0x131dd8=_0x59c8e0['getRenderTarget'](),_0x269944=_0x59c8e0['getActiveCubeFace'](),_0x133193=_0x59c8e0['getActiveMipmapLevel'](),_0x26231e=_0x59c8e0['state'];_0x26231e['setBlending'](_0x42a528['XIg']),_0x26231e['buffers']['color']['setClear'](0x1,0x1,0x1,0x1),_0x26231e['buffers']['depth']['setTest'](!0x0),_0x26231e['setScissorTest'](!0x1);const _0x4fc95f=_0x420fa1!==_0x42a528['RyA']&&this['type']===_0x42a528['RyA'],_0x184db2=_0x420fa1===_0x42a528['RyA']&&this['type']!==_0x42a528['RyA'];for(let _0x4ddad4=0x0,_0x1a701a=_0x2afccf['length'];_0x4ddad4<_0x1a701a;_0x4ddad4++){const _0x3326dd=_0x2afccf[_0x4ddad4],_0xd08e9b=_0x3326dd['shadow'];if(void 0x0===_0xd08e9b){console['warn']('THREE.WebGLShadowMap:',_0x3326dd,'has\x20no\x20shadow.');continue;}if(!0x1===_0xd08e9b['autoUpdate']&&!0x1===_0xd08e9b['needsUpdate'])continue;_0x1c19c6['copy'](_0xd08e9b['mapSize']);const _0x16cf7c=_0xd08e9b['getFrameExtents']();if(_0x1c19c6['multiply'](_0x16cf7c),_0x5403cf['copy'](_0xd08e9b['mapSize']),(_0x1c19c6['x']>_0x28a6c2||_0x1c19c6['y']>_0x28a6c2)&&(_0x1c19c6['x']>_0x28a6c2&&(_0x5403cf['x']=Math['floor'](_0x28a6c2/_0x16cf7c['x']),_0x1c19c6['x']=_0x5403cf['x']*_0x16cf7c['x'],_0xd08e9b['mapSize']['x']=_0x5403cf['x']),_0x1c19c6['y']>_0x28a6c2&&(_0x5403cf['y']=Math['floor'](_0x28a6c2/_0x16cf7c['y']),_0x1c19c6['y']=_0x5403cf['y']*_0x16cf7c['y'],_0xd08e9b['mapSize']['y']=_0x5403cf['y'])),null===_0xd08e9b['map']||!0x0===_0x4fc95f||!0x0===_0x184db2){const _0x560561=this['type']!==_0x42a528['RyA']?{'minFilter':_0x42a528['hxR'],'magFilter':_0x42a528['hxR']}:{};null!==_0xd08e9b['map']&&_0xd08e9b['map']['dispose'](),_0xd08e9b['map']=new _0x42a528['nWS'](_0x1c19c6['x'],_0x1c19c6['y'],_0x560561),_0xd08e9b['map']['texture']['name']=_0x3326dd['name']+'.shadowMap',_0xd08e9b['camera']['updateProjectionMatrix']();}_0x59c8e0['setRenderTarget'](_0xd08e9b['map']),_0x59c8e0['clear']();const _0x1ce26a=_0xd08e9b['getViewportCount']();for(let _0x54698b=0x0;_0x54698b<_0x1ce26a;_0x54698b++){const _0x262b53=_0xd08e9b['getViewport'](_0x54698b);_0x41bb04['set'](_0x5403cf['x']*_0x262b53['x'],_0x5403cf['y']*_0x262b53['y'],_0x5403cf['x']*_0x262b53['z'],_0x5403cf['y']*_0x262b53['w']),_0x26231e['viewport'](_0x41bb04),_0xd08e9b['updateMatrices'](_0x3326dd,_0x54698b),_0x5b935f=_0xd08e9b['getFrustum'](),_0x35332c(_0x195d58,_0x133939,_0xd08e9b['camera'],_0x3326dd,this['type']);}!0x0!==_0xd08e9b['isPointLightShadow']&&this['type']===_0x42a528['RyA']&&_0x2ecde2(_0xd08e9b,_0x133939),_0xd08e9b['needsUpdate']=!0x1;}_0x420fa1=this['type'],_0x4463d5['needsUpdate']=!0x1,_0x59c8e0['setRenderTarget'](_0x131dd8,_0x269944,_0x133193);};}const _0x444f9c={[_0x42a528['eHc']]:_0x42a528['lGu'],[_0x42a528['brA']]:_0x42a528['K52'],[_0x42a528['U3G']]:_0x42a528['bw0'],[_0x42a528['xSv']]:_0x42a528['Gwm'],[_0x42a528['lGu']]:_0x42a528['eHc'],[_0x42a528['K52']]:_0x42a528['brA'],[_0x42a528['bw0']]:_0x42a528['U3G'],[_0x42a528['Gwm']]:_0x42a528['xSv']};function _0x46ddf2(_0x9bb26f,_0x544b4d){const _0x206e7f=new function(){let _0x2b2b66=!0x1;const _0x4fd821=new _0x42a528['IUQ']();let _0x3e3393=null;const _0x228e9=new _0x42a528['IUQ'](0x0,0x0,0x0,0x0);return{'setMask':function(_0x43f6ba){_0x3e3393===_0x43f6ba||_0x2b2b66||(_0x9bb26f['colorMask'](_0x43f6ba,_0x43f6ba,_0x43f6ba,_0x43f6ba),_0x3e3393=_0x43f6ba);},'setLocked':function(_0x5b5c8a){_0x2b2b66=_0x5b5c8a;},'setClear':function(_0x51138a,_0x23cde6,_0xf87742,_0x5433d2,_0x43e157){!0x0===_0x43e157&&(_0x51138a*=_0x5433d2,_0x23cde6*=_0x5433d2,_0xf87742*=_0x5433d2),_0x4fd821['set'](_0x51138a,_0x23cde6,_0xf87742,_0x5433d2),!0x1===_0x228e9['equals'](_0x4fd821)&&(_0x9bb26f['clearColor'](_0x51138a,_0x23cde6,_0xf87742,_0x5433d2),_0x228e9['copy'](_0x4fd821));},'reset':function(){_0x2b2b66=!0x1,_0x3e3393=null,_0x228e9['set'](-0x1,0x0,0x0,0x0);}};}(),_0x11e6c3=new function(){let _0x42584c=!0x1,_0x454aeb=!0x1,_0x15bca0=null,_0xf82be1=null,_0x5a5c2a=null;return{'setReversed':function(_0x2e8190){if(_0x454aeb!==_0x2e8190){const _0x179398=_0x544b4d['get']('EXT_clip_control');_0x454aeb?_0x179398['clipControlEXT'](_0x179398['LOWER_LEFT_EXT'],_0x179398['ZERO_TO_ONE_EXT']):_0x179398['clipControlEXT'](_0x179398['LOWER_LEFT_EXT'],_0x179398['NEGATIVE_ONE_TO_ONE_EXT']);const _0x2cf7d3=_0x5a5c2a;_0x5a5c2a=null,this['setClear'](_0x2cf7d3);}_0x454aeb=_0x2e8190;},'getReversed':function(){return _0x454aeb;},'setTest':function(_0x482e5b){_0x482e5b?_0xd6aab8(_0x9bb26f['DEPTH_TEST']):_0x3ad2d7(_0x9bb26f['DEPTH_TEST']);},'setMask':function(_0x1f11b9){_0x15bca0===_0x1f11b9||_0x42584c||(_0x9bb26f['depthMask'](_0x1f11b9),_0x15bca0=_0x1f11b9);},'setFunc':function(_0x278aff){if(_0x454aeb&&(_0x278aff=_0x444f9c[_0x278aff]),_0xf82be1!==_0x278aff){switch(_0x278aff){case _0x42a528['eHc']:_0x9bb26f['depthFunc'](_0x9bb26f['NEVER']);break;case _0x42a528['lGu']:_0x9bb26f['depthFunc'](_0x9bb26f['ALWAYS']);break;case _0x42a528['brA']:_0x9bb26f['depthFunc'](_0x9bb26f['LESS']);break;case _0x42a528['xSv']:_0x9bb26f['depthFunc'](_0x9bb26f['LEQUAL']);break;case _0x42a528['U3G']:_0x9bb26f['depthFunc'](_0x9bb26f['EQUAL']);break;case _0x42a528['Gwm']:_0x9bb26f['depthFunc'](_0x9bb26f['GEQUAL']);break;case _0x42a528['K52']:_0x9bb26f['depthFunc'](_0x9bb26f['GREATER']);break;case _0x42a528['bw0']:_0x9bb26f['depthFunc'](_0x9bb26f['NOTEQUAL']);break;default:_0x9bb26f['depthFunc'](_0x9bb26f['LEQUAL']);}_0xf82be1=_0x278aff;}},'setLocked':function(_0x5a46b2){_0x42584c=_0x5a46b2;},'setClear':function(_0x1b0278){_0x5a5c2a!==_0x1b0278&&(_0x454aeb&&(_0x1b0278=0x1-_0x1b0278),_0x9bb26f['clearDepth'](_0x1b0278),_0x5a5c2a=_0x1b0278);},'reset':function(){_0x42584c=!0x1,_0x15bca0=null,_0xf82be1=null,_0x5a5c2a=null,_0x454aeb=!0x1;}};}(),_0x2f48d0=new function(){let _0x15f689=!0x1,_0x15aca5=null,_0x39abff=null,_0x1e5326=null,_0x252109=null,_0x90cc27=null,_0x24ad5a=null,_0x26bab8=null,_0x1da5d3=null;return{'setTest':function(_0x5b828e){_0x15f689||(_0x5b828e?_0xd6aab8(_0x9bb26f['STENCIL_TEST']):_0x3ad2d7(_0x9bb26f['STENCIL_TEST']));},'setMask':function(_0x1d203d){_0x15aca5===_0x1d203d||_0x15f689||(_0x9bb26f['stencilMask'](_0x1d203d),_0x15aca5=_0x1d203d);},'setFunc':function(_0x1c324e,_0x4e9f04,_0xbe29){_0x39abff===_0x1c324e&&_0x1e5326===_0x4e9f04&&_0x252109===_0xbe29||(_0x9bb26f['stencilFunc'](_0x1c324e,_0x4e9f04,_0xbe29),_0x39abff=_0x1c324e,_0x1e5326=_0x4e9f04,_0x252109=_0xbe29);},'setOp':function(_0x4b3099,_0x3a66d1,_0x469d96){_0x90cc27===_0x4b3099&&_0x24ad5a===_0x3a66d1&&_0x26bab8===_0x469d96||(_0x9bb26f['stencilOp'](_0x4b3099,_0x3a66d1,_0x469d96),_0x90cc27=_0x4b3099,_0x24ad5a=_0x3a66d1,_0x26bab8=_0x469d96);},'setLocked':function(_0x348f4f){_0x15f689=_0x348f4f;},'setClear':function(_0x5f1948){_0x1da5d3!==_0x5f1948&&(_0x9bb26f['clearStencil'](_0x5f1948),_0x1da5d3=_0x5f1948);},'reset':function(){_0x15f689=!0x1,_0x15aca5=null,_0x39abff=null,_0x1e5326=null,_0x252109=null,_0x90cc27=null,_0x24ad5a=null,_0x26bab8=null,_0x1da5d3=null;}};}(),_0x355d7b=new WeakMap(),_0x948072=new WeakMap();let _0x4ca281={},_0x540dbc={},_0x133d15=new WeakMap(),_0x24f039=[],_0x24ff0d=null,_0x46e668=!0x1,_0x14cd73=null,_0xefd5e4=null,_0xc422c5=null,_0x1bcf1c=null,_0x46fd70=null,_0x45c1d2=null,_0x207ae3=null,_0x35c61c=new _0x42a528['Q1f'](0x0,0x0,0x0),_0x27620d=0x0,_0x4fa0a4=!0x1,_0x1830cb=null,_0x470a9c=null,_0x1a84f4=null,_0x8a32fa=null,_0x48fbf0=null;const _0x54d6fa=_0x9bb26f['getParameter'](_0x9bb26f['MAX_COMBINED_TEXTURE_IMAGE_UNITS']);let _0x51e677=!0x1,_0x125acb=0x0;const _0x12e260=_0x9bb26f['getParameter'](_0x9bb26f['VERSION']);-0x1!==_0x12e260['indexOf']('WebGL')?(_0x125acb=parseFloat(/^WebGL (\d)/['exec'](_0x12e260)[0x1]),_0x51e677=_0x125acb>=0x1):-0x1!==_0x12e260['indexOf']('OpenGL\x20ES')&&(_0x125acb=parseFloat(/^OpenGL ES (\d)/['exec'](_0x12e260)[0x1]),_0x51e677=_0x125acb>=0x2);let _0x34dc10=null,_0x4f7b54={};const _0x38f48d=_0x9bb26f['getParameter'](_0x9bb26f['SCISSOR_BOX']),_0x13f7c2=_0x9bb26f['getParameter'](_0x9bb26f['VIEWPORT']),_0x5be537=new _0x42a528['IUQ']()['fromArray'](_0x38f48d),_0x21cee7=new _0x42a528['IUQ']()['fromArray'](_0x13f7c2);function _0xf6cc9e(_0x35908f,_0x4c0a23,_0x34497c,_0x81a441){const _0x438b54=new Uint8Array(0x4),_0x38fdb2=_0x9bb26f['createTexture']();_0x9bb26f['bindTexture'](_0x35908f,_0x38fdb2),_0x9bb26f['texParameteri'](_0x35908f,_0x9bb26f['TEXTURE_MIN_FILTER'],_0x9bb26f['NEAREST']),_0x9bb26f['texParameteri'](_0x35908f,_0x9bb26f['TEXTURE_MAG_FILTER'],_0x9bb26f['NEAREST']);for(let _0x40aca7=0x0;_0x40aca7<_0x34497c;_0x40aca7++)_0x35908f===_0x9bb26f['TEXTURE_3D']||_0x35908f===_0x9bb26f['TEXTURE_2D_ARRAY']?_0x9bb26f['texImage3D'](_0x4c0a23,0x0,_0x9bb26f['RGBA'],0x1,0x1,_0x81a441,0x0,_0x9bb26f['RGBA'],_0x9bb26f['UNSIGNED_BYTE'],_0x438b54):_0x9bb26f['texImage2D'](_0x4c0a23+_0x40aca7,0x0,_0x9bb26f['RGBA'],0x1,0x1,0x0,_0x9bb26f['RGBA'],_0x9bb26f['UNSIGNED_BYTE'],_0x438b54);return _0x38fdb2;}const _0x51b0b8={};function _0xd6aab8(_0x58e224){!0x0!==_0x4ca281[_0x58e224]&&(_0x9bb26f['enable'](_0x58e224),_0x4ca281[_0x58e224]=!0x0);}function _0x3ad2d7(_0x3e5f10){!0x1!==_0x4ca281[_0x3e5f10]&&(_0x9bb26f['disable'](_0x3e5f10),_0x4ca281[_0x3e5f10]=!0x1);}_0x51b0b8[_0x9bb26f['TEXTURE_2D']]=_0xf6cc9e(_0x9bb26f['TEXTURE_2D'],_0x9bb26f['TEXTURE_2D'],0x1),_0x51b0b8[_0x9bb26f['TEXTURE_CUBE_MAP']]=_0xf6cc9e(_0x9bb26f['TEXTURE_CUBE_MAP'],_0x9bb26f['TEXTURE_CUBE_MAP_POSITIVE_X'],0x6),_0x51b0b8[_0x9bb26f['TEXTURE_2D_ARRAY']]=_0xf6cc9e(_0x9bb26f['TEXTURE_2D_ARRAY'],_0x9bb26f['TEXTURE_2D_ARRAY'],0x1,0x1),_0x51b0b8[_0x9bb26f['TEXTURE_3D']]=_0xf6cc9e(_0x9bb26f['TEXTURE_3D'],_0x9bb26f['TEXTURE_3D'],0x1,0x1),_0x206e7f['setClear'](0x0,0x0,0x0,0x1),_0x11e6c3['setClear'](0x1),_0x2f48d0['setClear'](0x0),_0xd6aab8(_0x9bb26f['DEPTH_TEST']),_0x11e6c3['setFunc'](_0x42a528['xSv']),_0x48a3f6(!0x1),_0x908a2f(_0x42a528['Vb5']),_0xd6aab8(_0x9bb26f['CULL_FACE']),_0x57eb7d(_0x42a528['XIg']);const _0x21c017={[_0x42a528['gO9']]:_0x9bb26f['FUNC_ADD'],[_0x42a528['FXf']]:_0x9bb26f['FUNC_SUBTRACT'],[_0x42a528['nST']]:_0x9bb26f['FUNC_REVERSE_SUBTRACT']};_0x21c017[_0x42a528['znC']]=_0x9bb26f['MIN'],_0x21c017[_0x42a528['$ei']]=_0x9bb26f['MAX'];const _0x3c353c={[_0x42a528['ojh']]:_0x9bb26f['ZERO'],[_0x42a528['qad']]:_0x9bb26f['ONE'],[_0x42a528['f4X']]:_0x9bb26f['SRC_COLOR'],[_0x42a528['ie2']]:_0x9bb26f['SRC_ALPHA'],[_0x42a528['hgQ']]:_0x9bb26f['SRC_ALPHA_SATURATE'],[_0x42a528['wn6']]:_0x9bb26f['DST_COLOR'],[_0x42a528['hdd']]:_0x9bb26f['DST_ALPHA'],[_0x42a528['LiQ']]:_0x9bb26f['ONE_MINUS_SRC_COLOR'],[_0x42a528['OuU']]:_0x9bb26f['ONE_MINUS_SRC_ALPHA'],[_0x42a528['aEY']]:_0x9bb26f['ONE_MINUS_DST_COLOR'],[_0x42a528['Nt7']]:_0x9bb26f['ONE_MINUS_DST_ALPHA'],[_0x42a528['RrE']]:_0x9bb26f['CONSTANT_COLOR'],[_0x42a528['$Yl']]:_0x9bb26f['ONE_MINUS_CONSTANT_COLOR'],[_0x42a528['e0p']]:_0x9bb26f['CONSTANT_ALPHA'],[_0x42a528['ov9']]:_0x9bb26f['ONE_MINUS_CONSTANT_ALPHA']};function _0x57eb7d(_0x1056cf,_0x2c892a,_0x49fac0,_0x4f0aec,_0x5e6ee0,_0x204654,_0x50742e,_0x7439c4,_0x43d870,_0x5e2c34){if(_0x1056cf!==_0x42a528['XIg']){if(!0x1===_0x46e668&&(_0xd6aab8(_0x9bb26f['BLEND']),_0x46e668=!0x0),_0x1056cf===_0x42a528['bCz'])_0x5e6ee0=_0x5e6ee0||_0x2c892a,_0x204654=_0x204654||_0x49fac0,_0x50742e=_0x50742e||_0x4f0aec,_0x2c892a===_0xefd5e4&&_0x5e6ee0===_0x46fd70||(_0x9bb26f['blendEquationSeparate'](_0x21c017[_0x2c892a],_0x21c017[_0x5e6ee0]),_0xefd5e4=_0x2c892a,_0x46fd70=_0x5e6ee0),_0x49fac0===_0xc422c5&&_0x4f0aec===_0x1bcf1c&&_0x204654===_0x45c1d2&&_0x50742e===_0x207ae3||(_0x9bb26f['blendFuncSeparate'](_0x3c353c[_0x49fac0],_0x3c353c[_0x4f0aec],_0x3c353c[_0x204654],_0x3c353c[_0x50742e]),_0xc422c5=_0x49fac0,_0x1bcf1c=_0x4f0aec,_0x45c1d2=_0x204654,_0x207ae3=_0x50742e),!0x1!==_0x7439c4['equals'](_0x35c61c)&&_0x43d870===_0x27620d||(_0x9bb26f['blendColor'](_0x7439c4['r'],_0x7439c4['g'],_0x7439c4['b'],_0x43d870),_0x35c61c['copy'](_0x7439c4),_0x27620d=_0x43d870),_0x14cd73=_0x1056cf,_0x4fa0a4=!0x1;else{if(_0x1056cf!==_0x14cd73||_0x5e2c34!==_0x4fa0a4){if(_0xefd5e4===_0x42a528['gO9']&&_0x46fd70===_0x42a528['gO9']||(_0x9bb26f['blendEquation'](_0x9bb26f['FUNC_ADD']),_0xefd5e4=_0x42a528['gO9'],_0x46fd70=_0x42a528['gO9']),_0x5e2c34)switch(_0x1056cf){case _0x42a528['NTi']:_0x9bb26f['blendFuncSeparate'](_0x9bb26f['ONE'],_0x9bb26f['ONE_MINUS_SRC_ALPHA'],_0x9bb26f['ONE'],_0x9bb26f['ONE_MINUS_SRC_ALPHA']);break;case _0x42a528['EZo']:_0x9bb26f['blendFunc'](_0x9bb26f['ONE'],_0x9bb26f['ONE']);break;case _0x42a528['Kwu']:_0x9bb26f['blendFuncSeparate'](_0x9bb26f['ZERO'],_0x9bb26f['ONE_MINUS_SRC_COLOR'],_0x9bb26f['ZERO'],_0x9bb26f['ONE']);break;case _0x42a528['EdD']:_0x9bb26f['blendFuncSeparate'](_0x9bb26f['ZERO'],_0x9bb26f['SRC_COLOR'],_0x9bb26f['ZERO'],_0x9bb26f['SRC_ALPHA']);break;default:console['error']('THREE.WebGLState:\x20Invalid\x20blending:\x20',_0x1056cf);}else switch(_0x1056cf){case _0x42a528['NTi']:_0x9bb26f['blendFuncSeparate'](_0x9bb26f['SRC_ALPHA'],_0x9bb26f['ONE_MINUS_SRC_ALPHA'],_0x9bb26f['ONE'],_0x9bb26f['ONE_MINUS_SRC_ALPHA']);break;case _0x42a528['EZo']:_0x9bb26f['blendFunc'](_0x9bb26f['SRC_ALPHA'],_0x9bb26f['ONE']);break;case _0x42a528['Kwu']:_0x9bb26f['blendFuncSeparate'](_0x9bb26f['ZERO'],_0x9bb26f['ONE_MINUS_SRC_COLOR'],_0x9bb26f['ZERO'],_0x9bb26f['ONE']);break;case _0x42a528['EdD']:_0x9bb26f['blendFunc'](_0x9bb26f['ZERO'],_0x9bb26f['SRC_COLOR']);break;default:console['error']('THREE.WebGLState:\x20Invalid\x20blending:\x20',_0x1056cf);}_0xc422c5=null,_0x1bcf1c=null,_0x45c1d2=null,_0x207ae3=null,_0x35c61c['set'](0x0,0x0,0x0),_0x27620d=0x0,_0x14cd73=_0x1056cf,_0x4fa0a4=_0x5e2c34;}}}else!0x0===_0x46e668&&(_0x3ad2d7(_0x9bb26f['BLEND']),_0x46e668=!0x1);}function _0x48a3f6(_0x392ca6){_0x1830cb!==_0x392ca6&&(_0x392ca6?_0x9bb26f['frontFace'](_0x9bb26f['CW']):_0x9bb26f['frontFace'](_0x9bb26f['CCW']),_0x1830cb=_0x392ca6);}function _0x908a2f(_0x12bf3c){_0x12bf3c!==_0x42a528['WNZ']?(_0xd6aab8(_0x9bb26f['CULL_FACE']),_0x12bf3c!==_0x470a9c&&(_0x12bf3c===_0x42a528['Vb5']?_0x9bb26f['cullFace'](_0x9bb26f['BACK']):_0x12bf3c===_0x42a528['Jnc']?_0x9bb26f['cullFace'](_0x9bb26f['FRONT']):_0x9bb26f['cullFace'](_0x9bb26f['FRONT_AND_BACK']))):_0x3ad2d7(_0x9bb26f['CULL_FACE']),_0x470a9c=_0x12bf3c;}function _0x111030(_0x3a9aa8,_0x1dc17d,_0x498a72){_0x3a9aa8?(_0xd6aab8(_0x9bb26f['POLYGON_OFFSET_FILL']),_0x8a32fa===_0x1dc17d&&_0x48fbf0===_0x498a72||(_0x9bb26f['polygonOffset'](_0x1dc17d,_0x498a72),_0x8a32fa=_0x1dc17d,_0x48fbf0=_0x498a72)):_0x3ad2d7(_0x9bb26f['POLYGON_OFFSET_FILL']);}return{'buffers':{'color':_0x206e7f,'depth':_0x11e6c3,'stencil':_0x2f48d0},'enable':_0xd6aab8,'disable':_0x3ad2d7,'bindFramebuffer':function(_0x344f09,_0x3ae8a3){return _0x540dbc[_0x344f09]!==_0x3ae8a3&&(_0x9bb26f['bindFramebuffer'](_0x344f09,_0x3ae8a3),_0x540dbc[_0x344f09]=_0x3ae8a3,_0x344f09===_0x9bb26f['DRAW_FRAMEBUFFER']&&(_0x540dbc[_0x9bb26f['FRAMEBUFFER']]=_0x3ae8a3),_0x344f09===_0x9bb26f['FRAMEBUFFER']&&(_0x540dbc[_0x9bb26f['DRAW_FRAMEBUFFER']]=_0x3ae8a3),!0x0);},'drawBuffers':function(_0x5197ab,_0x29d8fd){let _0x3cd0d8=_0x24f039,_0x2b4d29=!0x1;if(_0x5197ab){_0x3cd0d8=_0x133d15['get'](_0x29d8fd),void 0x0===_0x3cd0d8&&(_0x3cd0d8=[],_0x133d15['set'](_0x29d8fd,_0x3cd0d8));const _0x2ae9f5=_0x5197ab['textures'];if(_0x3cd0d8['length']!==_0x2ae9f5['length']||_0x3cd0d8[0x0]!==_0x9bb26f['COLOR_ATTACHMENT0']){for(let _0x4edf91=0x0,_0xcb0e36=_0x2ae9f5['length'];_0x4edf91<_0xcb0e36;_0x4edf91++)_0x3cd0d8[_0x4edf91]=_0x9bb26f['COLOR_ATTACHMENT0']+_0x4edf91;_0x3cd0d8['length']=_0x2ae9f5['length'],_0x2b4d29=!0x0;}}else _0x3cd0d8[0x0]!==_0x9bb26f['BACK']&&(_0x3cd0d8[0x0]=_0x9bb26f['BACK'],_0x2b4d29=!0x0);_0x2b4d29&&_0x9bb26f['drawBuffers'](_0x3cd0d8);},'useProgram':function(_0x4ab9bf){return _0x24ff0d!==_0x4ab9bf&&(_0x9bb26f['useProgram'](_0x4ab9bf),_0x24ff0d=_0x4ab9bf,!0x0);},'setBlending':_0x57eb7d,'setMaterial':function(_0xb2fe5d,_0x4fed3a){_0xb2fe5d['side']===_0x42a528['$EB']?_0x3ad2d7(_0x9bb26f['CULL_FACE']):_0xd6aab8(_0x9bb26f['CULL_FACE']);let _0x4d2bc3=_0xb2fe5d['side']===_0x42a528['hsX'];_0x4fed3a&&(_0x4d2bc3=!_0x4d2bc3),_0x48a3f6(_0x4d2bc3),_0xb2fe5d['blending']===_0x42a528['NTi']&&!0x1===_0xb2fe5d['transparent']?_0x57eb7d(_0x42a528['XIg']):_0x57eb7d(_0xb2fe5d['blending'],_0xb2fe5d['blendEquation'],_0xb2fe5d['blendSrc'],_0xb2fe5d['blendDst'],_0xb2fe5d['blendEquationAlpha'],_0xb2fe5d['blendSrcAlpha'],_0xb2fe5d['blendDstAlpha'],_0xb2fe5d['blendColor'],_0xb2fe5d['blendAlpha'],_0xb2fe5d['premultipliedAlpha']),_0x11e6c3['setFunc'](_0xb2fe5d['depthFunc']),_0x11e6c3['setTest'](_0xb2fe5d['depthTest']),_0x11e6c3['setMask'](_0xb2fe5d['depthWrite']),_0x206e7f['setMask'](_0xb2fe5d['colorWrite']);const _0x2f8592=_0xb2fe5d['stencilWrite'];_0x2f48d0['setTest'](_0x2f8592),_0x2f8592&&(_0x2f48d0['setMask'](_0xb2fe5d['stencilWriteMask']),_0x2f48d0['setFunc'](_0xb2fe5d['stencilFunc'],_0xb2fe5d['stencilRef'],_0xb2fe5d['stencilFuncMask']),_0x2f48d0['setOp'](_0xb2fe5d['stencilFail'],_0xb2fe5d['stencilZFail'],_0xb2fe5d['stencilZPass'])),_0x111030(_0xb2fe5d['polygonOffset'],_0xb2fe5d['polygonOffsetFactor'],_0xb2fe5d['polygonOffsetUnits']),!0x0===_0xb2fe5d['alphaToCoverage']?_0xd6aab8(_0x9bb26f['SAMPLE_ALPHA_TO_COVERAGE']):_0x3ad2d7(_0x9bb26f['SAMPLE_ALPHA_TO_COVERAGE']);},'setFlipSided':_0x48a3f6,'setCullFace':_0x908a2f,'setLineWidth':function(_0x30bb01){_0x30bb01!==_0x1a84f4&&(_0x51e677&&_0x9bb26f['lineWidth'](_0x30bb01),_0x1a84f4=_0x30bb01);},'setPolygonOffset':_0x111030,'setScissorTest':function(_0x43361f){_0x43361f?_0xd6aab8(_0x9bb26f['SCISSOR_TEST']):_0x3ad2d7(_0x9bb26f['SCISSOR_TEST']);},'activeTexture':function(_0x4f2170){void 0x0===_0x4f2170&&(_0x4f2170=_0x9bb26f['TEXTURE0']+_0x54d6fa-0x1),_0x34dc10!==_0x4f2170&&(_0x9bb26f['activeTexture'](_0x4f2170),_0x34dc10=_0x4f2170);},'bindTexture':function(_0x40a77b,_0x517ee4,_0x53cdc7){void 0x0===_0x53cdc7&&(_0x53cdc7=null===_0x34dc10?_0x9bb26f['TEXTURE0']+_0x54d6fa-0x1:_0x34dc10);let _0x2fb5bf=_0x4f7b54[_0x53cdc7];void 0x0===_0x2fb5bf&&(_0x2fb5bf={'type':void 0x0,'texture':void 0x0},_0x4f7b54[_0x53cdc7]=_0x2fb5bf),_0x2fb5bf['type']===_0x40a77b&&_0x2fb5bf['texture']===_0x517ee4||(_0x34dc10!==_0x53cdc7&&(_0x9bb26f['activeTexture'](_0x53cdc7),_0x34dc10=_0x53cdc7),_0x9bb26f['bindTexture'](_0x40a77b,_0x517ee4||_0x51b0b8[_0x40a77b]),_0x2fb5bf['type']=_0x40a77b,_0x2fb5bf['texture']=_0x517ee4);},'unbindTexture':function(){const _0x261fb1=_0x4f7b54[_0x34dc10];void 0x0!==_0x261fb1&&void 0x0!==_0x261fb1['type']&&(_0x9bb26f['bindTexture'](_0x261fb1['type'],null),_0x261fb1['type']=void 0x0,_0x261fb1['texture']=void 0x0);},'compressedTexImage2D':function(){try{_0x9bb26f['compressedTexImage2D']['apply'](_0x9bb26f,arguments);}catch(_0xdcdbba){console['error']('THREE.WebGLState:',_0xdcdbba);}},'compressedTexImage3D':function(){try{_0x9bb26f['compressedTexImage3D']['apply'](_0x9bb26f,arguments);}catch(_0x303161){console['error']('THREE.WebGLState:',_0x303161);}},'texImage2D':function(){try{_0x9bb26f['texImage2D']['apply'](_0x9bb26f,arguments);}catch(_0x12b754){console['error']('THREE.WebGLState:',_0x12b754);}},'texImage3D':function(){try{_0x9bb26f['texImage3D']['apply'](_0x9bb26f,arguments);}catch(_0x5c6af4){console['error']('THREE.WebGLState:',_0x5c6af4);}},'updateUBOMapping':function(_0x39d7fe,_0x1e48d8){let _0x5ee76c=_0x948072['get'](_0x1e48d8);void 0x0===_0x5ee76c&&(_0x5ee76c=new WeakMap(),_0x948072['set'](_0x1e48d8,_0x5ee76c));let _0x1a314a=_0x5ee76c['get'](_0x39d7fe);void 0x0===_0x1a314a&&(_0x1a314a=_0x9bb26f['getUniformBlockIndex'](_0x1e48d8,_0x39d7fe['name']),_0x5ee76c['set'](_0x39d7fe,_0x1a314a));},'uniformBlockBinding':function(_0xbcecf4,_0xd26b7f){const _0x5b7225=_0x948072['get'](_0xd26b7f)['get'](_0xbcecf4);_0x355d7b['get'](_0xd26b7f)!==_0x5b7225&&(_0x9bb26f['uniformBlockBinding'](_0xd26b7f,_0x5b7225,_0xbcecf4['__bindingPointIndex']),_0x355d7b['set'](_0xd26b7f,_0x5b7225));},'texStorage2D':function(){try{_0x9bb26f['texStorage2D']['apply'](_0x9bb26f,arguments);}catch(_0x2def5c){console['error']('THREE.WebGLState:',_0x2def5c);}},'texStorage3D':function(){try{_0x9bb26f['texStorage3D']['apply'](_0x9bb26f,arguments);}catch(_0x53ced1){console['error']('THREE.WebGLState:',_0x53ced1);}},'texSubImage2D':function(){try{_0x9bb26f['texSubImage2D']['apply'](_0x9bb26f,arguments);}catch(_0x197d4f){console['error']('THREE.WebGLState:',_0x197d4f);}},'texSubImage3D':function(){try{_0x9bb26f['texSubImage3D']['apply'](_0x9bb26f,arguments);}catch(_0x1ab910){console['error']('THREE.WebGLState:',_0x1ab910);}},'compressedTexSubImage2D':function(){try{_0x9bb26f['compressedTexSubImage2D']['apply'](_0x9bb26f,arguments);}catch(_0x3b31fb){console['error']('THREE.WebGLState:',_0x3b31fb);}},'compressedTexSubImage3D':function(){try{_0x9bb26f['compressedTexSubImage3D']['apply'](_0x9bb26f,arguments);}catch(_0x4e9b52){console['error']('THREE.WebGLState:',_0x4e9b52);}},'scissor':function(_0x30c496){!0x1===_0x5be537['equals'](_0x30c496)&&(_0x9bb26f['scissor'](_0x30c496['x'],_0x30c496['y'],_0x30c496['z'],_0x30c496['w']),_0x5be537['copy'](_0x30c496));},'viewport':function(_0x32713b){!0x1===_0x21cee7['equals'](_0x32713b)&&(_0x9bb26f['viewport'](_0x32713b['x'],_0x32713b['y'],_0x32713b['z'],_0x32713b['w']),_0x21cee7['copy'](_0x32713b));},'reset':function(){_0x9bb26f['disable'](_0x9bb26f['BLEND']),_0x9bb26f['disable'](_0x9bb26f['CULL_FACE']),_0x9bb26f['disable'](_0x9bb26f['DEPTH_TEST']),_0x9bb26f['disable'](_0x9bb26f['POLYGON_OFFSET_FILL']),_0x9bb26f['disable'](_0x9bb26f['SCISSOR_TEST']),_0x9bb26f['disable'](_0x9bb26f['STENCIL_TEST']),_0x9bb26f['disable'](_0x9bb26f['SAMPLE_ALPHA_TO_COVERAGE']),_0x9bb26f['blendEquation'](_0x9bb26f['FUNC_ADD']),_0x9bb26f['blendFunc'](_0x9bb26f['ONE'],_0x9bb26f['ZERO']),_0x9bb26f['blendFuncSeparate'](_0x9bb26f['ONE'],_0x9bb26f['ZERO'],_0x9bb26f['ONE'],_0x9bb26f['ZERO']),_0x9bb26f['blendColor'](0x0,0x0,0x0,0x0),_0x9bb26f['colorMask'](!0x0,!0x0,!0x0,!0x0),_0x9bb26f['clearColor'](0x0,0x0,0x0,0x0),_0x9bb26f['depthMask'](!0x0),_0x9bb26f['depthFunc'](_0x9bb26f['LESS']),_0x11e6c3['setReversed'](!0x1),_0x9bb26f['clearDepth'](0x1),_0x9bb26f['stencilMask'](0xffffffff),_0x9bb26f['stencilFunc'](_0x9bb26f['ALWAYS'],0x0,0xffffffff),_0x9bb26f['stencilOp'](_0x9bb26f['KEEP'],_0x9bb26f['KEEP'],_0x9bb26f['KEEP']),_0x9bb26f['clearStencil'](0x0),_0x9bb26f['cullFace'](_0x9bb26f['BACK']),_0x9bb26f['frontFace'](_0x9bb26f['CCW']),_0x9bb26f['polygonOffset'](0x0,0x0),_0x9bb26f['activeTexture'](_0x9bb26f['TEXTURE0']),_0x9bb26f['bindFramebuffer'](_0x9bb26f['FRAMEBUFFER'],null),_0x9bb26f['bindFramebuffer'](_0x9bb26f['DRAW_FRAMEBUFFER'],null),_0x9bb26f['bindFramebuffer'](_0x9bb26f['READ_FRAMEBUFFER'],null),_0x9bb26f['useProgram'](null),_0x9bb26f['lineWidth'](0x1),_0x9bb26f['scissor'](0x0,0x0,_0x9bb26f['canvas']['width'],_0x9bb26f['canvas']['height']),_0x9bb26f['viewport'](0x0,0x0,_0x9bb26f['canvas']['width'],_0x9bb26f['canvas']['height']),_0x4ca281={},_0x34dc10=null,_0x4f7b54={},_0x540dbc={},_0x133d15=new WeakMap(),_0x24f039=[],_0x24ff0d=null,_0x46e668=!0x1,_0x14cd73=null,_0xefd5e4=null,_0xc422c5=null,_0x1bcf1c=null,_0x46fd70=null,_0x45c1d2=null,_0x207ae3=null,_0x35c61c=new _0x42a528['Q1f'](0x0,0x0,0x0),_0x27620d=0x0,_0x4fa0a4=!0x1,_0x1830cb=null,_0x470a9c=null,_0x1a84f4=null,_0x8a32fa=null,_0x48fbf0=null,_0x5be537['set'](0x0,0x0,_0x9bb26f['canvas']['width'],_0x9bb26f['canvas']['height']),_0x21cee7['set'](0x0,0x0,_0x9bb26f['canvas']['width'],_0x9bb26f['canvas']['height']),_0x206e7f['reset'](),_0x11e6c3['reset'](),_0x2f48d0['reset']();}};}function _0x3d6641(_0x4be0ce,_0x3af990,_0x2623ef,_0x9633d0,_0x138aee,_0x43815b,_0x2eebb5){const _0x4002e8=_0x3af990['has']('WEBGL_multisampled_render_to_texture')?_0x3af990['get']('WEBGL_multisampled_render_to_texture'):null,_0x16f3b7='undefined'!=typeof navigator&&/OculusBrowser/g['test'](navigator['userAgent']),_0x25a674=new _0x42a528['I9Y'](),_0x26944c=new WeakMap();let _0x355a6a;const _0x5936d9=new WeakMap();let _0x2b169a=!0x1;try{_0x2b169a='undefined'!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(0x1,0x1)['getContext']('2d');}catch(_0x5973be){}function _0xa40a14(_0x5e1340,_0x28f7a0){return _0x2b169a?new OffscreenCanvas(_0x5e1340,_0x28f7a0):(0x0,_0x42a528['qq$'])('canvas');}function _0x56b535(_0x383af6,_0x86b48b,_0x54d2dc){let _0x57b6fc=0x1;const _0x52cb85=_0x6f02f5(_0x383af6);if((_0x52cb85['width']>_0x54d2dc||_0x52cb85['height']>_0x54d2dc)&&(_0x57b6fc=_0x54d2dc/Math['max'](_0x52cb85['width'],_0x52cb85['height'])),_0x57b6fc<0x1){if('undefined'!=typeof HTMLImageElement&&_0x383af6 instanceof HTMLImageElement||'undefined'!=typeof HTMLCanvasElement&&_0x383af6 instanceof HTMLCanvasElement||'undefined'!=typeof ImageBitmap&&_0x383af6 instanceof ImageBitmap||'undefined'!=typeof VideoFrame&&_0x383af6 instanceof VideoFrame){const _0x26db1e=Math['floor'](_0x57b6fc*_0x52cb85['width']),_0x1d7143=Math['floor'](_0x57b6fc*_0x52cb85['height']);void 0x0===_0x355a6a&&(_0x355a6a=_0xa40a14(_0x26db1e,_0x1d7143));const _0x2b63c7=_0x86b48b?_0xa40a14(_0x26db1e,_0x1d7143):_0x355a6a;return _0x2b63c7['width']=_0x26db1e,_0x2b63c7['height']=_0x1d7143,(_0x2b63c7['getContext']('2d')['drawImage'](_0x383af6,0x0,0x0,_0x26db1e,_0x1d7143),console['warn']('THREE.WebGLRenderer:\x20Texture\x20has\x20been\x20resized\x20from\x20('+_0x52cb85['width']+'x'+_0x52cb85['height']+')\x20to\x20('+_0x26db1e+'x'+_0x1d7143+').'),_0x2b63c7);}return'data'in _0x383af6&&console['warn']('THREE.WebGLRenderer:\x20Image\x20in\x20DataTexture\x20is\x20too\x20big\x20('+_0x52cb85['width']+'x'+_0x52cb85['height']+').'),_0x383af6;}return _0x383af6;}function _0x4ad1a9(_0x586f5e){return _0x586f5e['generateMipmaps'];}function _0xedcc65(_0x49e78a){_0x4be0ce['generateMipmap'](_0x49e78a);}function _0x5aa990(_0x1ebf3c){return _0x1ebf3c['isWebGLCubeRenderTarget']?_0x4be0ce['TEXTURE_CUBE_MAP']:_0x1ebf3c['isWebGL3DRenderTarget']?_0x4be0ce['TEXTURE_3D']:_0x1ebf3c['isWebGLArrayRenderTarget']||_0x1ebf3c['isCompressedArrayTexture']?_0x4be0ce['TEXTURE_2D_ARRAY']:_0x4be0ce['TEXTURE_2D'];}function _0x58f5d0(_0x301f56,_0x504afa,_0x44025a,_0x562a7b,_0x1b79bd=!0x1){if(null!==_0x301f56){if(void 0x0!==_0x4be0ce[_0x301f56])return _0x4be0ce[_0x301f56];console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20use\x20non-existing\x20WebGL\x20internal\x20format\x20\x27'+_0x301f56+'\x27');}let _0x197bcf=_0x504afa;if(_0x504afa===_0x4be0ce['RED']&&(_0x44025a===_0x4be0ce['FLOAT']&&(_0x197bcf=_0x4be0ce['R32F']),_0x44025a===_0x4be0ce['HALF_FLOAT']&&(_0x197bcf=_0x4be0ce['R16F']),_0x44025a===_0x4be0ce['UNSIGNED_BYTE']&&(_0x197bcf=_0x4be0ce['R8'])),_0x504afa===_0x4be0ce['RED_INTEGER']&&(_0x44025a===_0x4be0ce['UNSIGNED_BYTE']&&(_0x197bcf=_0x4be0ce['R8UI']),_0x44025a===_0x4be0ce['UNSIGNED_SHORT']&&(_0x197bcf=_0x4be0ce['R16UI']),_0x44025a===_0x4be0ce['UNSIGNED_INT']&&(_0x197bcf=_0x4be0ce['R32UI']),_0x44025a===_0x4be0ce['BYTE']&&(_0x197bcf=_0x4be0ce['R8I']),_0x44025a===_0x4be0ce['SHORT']&&(_0x197bcf=_0x4be0ce['R16I']),_0x44025a===_0x4be0ce['INT']&&(_0x197bcf=_0x4be0ce['R32I'])),_0x504afa===_0x4be0ce['RG']&&(_0x44025a===_0x4be0ce['FLOAT']&&(_0x197bcf=_0x4be0ce['RG32F']),_0x44025a===_0x4be0ce['HALF_FLOAT']&&(_0x197bcf=_0x4be0ce['RG16F']),_0x44025a===_0x4be0ce['UNSIGNED_BYTE']&&(_0x197bcf=_0x4be0ce['RG8'])),_0x504afa===_0x4be0ce['RG_INTEGER']&&(_0x44025a===_0x4be0ce['UNSIGNED_BYTE']&&(_0x197bcf=_0x4be0ce['RG8UI']),_0x44025a===_0x4be0ce['UNSIGNED_SHORT']&&(_0x197bcf=_0x4be0ce['RG16UI']),_0x44025a===_0x4be0ce['UNSIGNED_INT']&&(_0x197bcf=_0x4be0ce['RG32UI']),_0x44025a===_0x4be0ce['BYTE']&&(_0x197bcf=_0x4be0ce['RG8I']),_0x44025a===_0x4be0ce['SHORT']&&(_0x197bcf=_0x4be0ce['RG16I']),_0x44025a===_0x4be0ce['INT']&&(_0x197bcf=_0x4be0ce['RG32I'])),_0x504afa===_0x4be0ce['RGB_INTEGER']&&(_0x44025a===_0x4be0ce['UNSIGNED_BYTE']&&(_0x197bcf=_0x4be0ce['RGB8UI']),_0x44025a===_0x4be0ce['UNSIGNED_SHORT']&&(_0x197bcf=_0x4be0ce['RGB16UI']),_0x44025a===_0x4be0ce['UNSIGNED_INT']&&(_0x197bcf=_0x4be0ce['RGB32UI']),_0x44025a===_0x4be0ce['BYTE']&&(_0x197bcf=_0x4be0ce['RGB8I']),_0x44025a===_0x4be0ce['SHORT']&&(_0x197bcf=_0x4be0ce['RGB16I']),_0x44025a===_0x4be0ce['INT']&&(_0x197bcf=_0x4be0ce['RGB32I'])),_0x504afa===_0x4be0ce['RGBA_INTEGER']&&(_0x44025a===_0x4be0ce['UNSIGNED_BYTE']&&(_0x197bcf=_0x4be0ce['RGBA8UI']),_0x44025a===_0x4be0ce['UNSIGNED_SHORT']&&(_0x197bcf=_0x4be0ce['RGBA16UI']),_0x44025a===_0x4be0ce['UNSIGNED_INT']&&(_0x197bcf=_0x4be0ce['RGBA32UI']),_0x44025a===_0x4be0ce['BYTE']&&(_0x197bcf=_0x4be0ce['RGBA8I']),_0x44025a===_0x4be0ce['SHORT']&&(_0x197bcf=_0x4be0ce['RGBA16I']),_0x44025a===_0x4be0ce['INT']&&(_0x197bcf=_0x4be0ce['RGBA32I'])),_0x504afa===_0x4be0ce['RGB']&&_0x44025a===_0x4be0ce['UNSIGNED_INT_5_9_9_9_REV']&&(_0x197bcf=_0x4be0ce['RGB9_E5']),_0x504afa===_0x4be0ce['RGBA']){const _0x42de6e=_0x1b79bd?_0x42a528['VxR']:_0x42a528['ppV']['getTransfer'](_0x562a7b);_0x44025a===_0x4be0ce['FLOAT']&&(_0x197bcf=_0x4be0ce['RGBA32F']),_0x44025a===_0x4be0ce['HALF_FLOAT']&&(_0x197bcf=_0x4be0ce['RGBA16F']),_0x44025a===_0x4be0ce['UNSIGNED_BYTE']&&(_0x197bcf=_0x42de6e===_0x42a528['KLL']?_0x4be0ce['SRGB8_ALPHA8']:_0x4be0ce['RGBA8']),_0x44025a===_0x4be0ce['UNSIGNED_SHORT_4_4_4_4']&&(_0x197bcf=_0x4be0ce['RGBA4']),_0x44025a===_0x4be0ce['UNSIGNED_SHORT_5_5_5_1']&&(_0x197bcf=_0x4be0ce['RGB5_A1']);}return _0x197bcf!==_0x4be0ce['R16F']&&_0x197bcf!==_0x4be0ce['R32F']&&_0x197bcf!==_0x4be0ce['RG16F']&&_0x197bcf!==_0x4be0ce['RG32F']&&_0x197bcf!==_0x4be0ce['RGBA16F']&&_0x197bcf!==_0x4be0ce['RGBA32F']||_0x3af990['get']('EXT_color_buffer_float'),_0x197bcf;}function _0x427d24(_0x356988,_0xcc67ae){let _0x50e827;return _0x356988?null===_0xcc67ae||_0xcc67ae===_0x42a528['bkx']||_0xcc67ae===_0x42a528['V3x']?_0x50e827=_0x4be0ce['DEPTH24_STENCIL8']:_0xcc67ae===_0x42a528['RQf']?_0x50e827=_0x4be0ce['DEPTH32F_STENCIL8']:_0xcc67ae===_0x42a528['cHt']&&(_0x50e827=_0x4be0ce['DEPTH24_STENCIL8'],console['warn']('DepthTexture:\x2016\x20bit\x20depth\x20attachment\x20is\x20not\x20supported\x20with\x20stencil.\x20Using\x2024-bit\x20attachment.')):null===_0xcc67ae||_0xcc67ae===_0x42a528['bkx']||_0xcc67ae===_0x42a528['V3x']?_0x50e827=_0x4be0ce['DEPTH_COMPONENT24']:_0xcc67ae===_0x42a528['RQf']?_0x50e827=_0x4be0ce['DEPTH_COMPONENT32F']:_0xcc67ae===_0x42a528['cHt']&&(_0x50e827=_0x4be0ce['DEPTH_COMPONENT16']),_0x50e827;}function _0x500ff6(_0x583c0e,_0x3dd439){return!0x0===_0x4ad1a9(_0x583c0e)||_0x583c0e['isFramebufferTexture']&&_0x583c0e['minFilter']!==_0x42a528['hxR']&&_0x583c0e['minFilter']!==_0x42a528['k6q']?Math['log2'](Math['max'](_0x3dd439['width'],_0x3dd439['height']))+0x1:void 0x0!==_0x583c0e['mipmaps']&&_0x583c0e['mipmaps']['length']>0x0?_0x583c0e['mipmaps']['length']:_0x583c0e['isCompressedTexture']&&Array['isArray'](_0x583c0e['image'])?_0x3dd439['mipmaps']['length']:0x1;}function _0x38fe30(_0x1d7ef9){const _0x206668=_0x1d7ef9['target'];_0x206668['removeEventListener']('dispose',_0x38fe30),function(_0x10da0d){const _0x52ba2f=_0x9633d0['get'](_0x10da0d);if(void 0x0===_0x52ba2f['__webglInit'])return;const _0x33ec78=_0x10da0d['source'],_0x2fb283=_0x5936d9['get'](_0x33ec78);if(_0x2fb283){const _0x21c480=_0x2fb283[_0x52ba2f['__cacheKey']];_0x21c480['usedTimes']--,0x0===_0x21c480['usedTimes']&&_0x20e077(_0x10da0d),0x0===Object['keys'](_0x2fb283)['length']&&_0x5936d9['delete'](_0x33ec78);}_0x9633d0['remove'](_0x10da0d);}(_0x206668),_0x206668['isVideoTexture']&&_0x26944c['delete'](_0x206668);}function _0x5d800d(_0x42a187){const _0x354281=_0x42a187['target'];_0x354281['removeEventListener']('dispose',_0x5d800d),function(_0x100a97){const _0x1961c7=_0x9633d0['get'](_0x100a97);_0x100a97['depthTexture']&&(_0x100a97['depthTexture']['dispose'](),_0x9633d0['remove'](_0x100a97['depthTexture']));if(_0x100a97['isWebGLCubeRenderTarget'])for(let _0x1a6608=0x0;_0x1a6608<0x6;_0x1a6608++){if(Array['isArray'](_0x1961c7['__webglFramebuffer'][_0x1a6608])){for(let _0xc888f6=0x0;_0xc888f6<_0x1961c7['__webglFramebuffer'][_0x1a6608]['length'];_0xc888f6++)_0x4be0ce['deleteFramebuffer'](_0x1961c7['__webglFramebuffer'][_0x1a6608][_0xc888f6]);}else _0x4be0ce['deleteFramebuffer'](_0x1961c7['__webglFramebuffer'][_0x1a6608]);_0x1961c7['__webglDepthbuffer']&&_0x4be0ce['deleteRenderbuffer'](_0x1961c7['__webglDepthbuffer'][_0x1a6608]);}else{if(Array['isArray'](_0x1961c7['__webglFramebuffer'])){for(let _0x146949=0x0;_0x146949<_0x1961c7['__webglFramebuffer']['length'];_0x146949++)_0x4be0ce['deleteFramebuffer'](_0x1961c7['__webglFramebuffer'][_0x146949]);}else _0x4be0ce['deleteFramebuffer'](_0x1961c7['__webglFramebuffer']);if(_0x1961c7['__webglDepthbuffer']&&_0x4be0ce['deleteRenderbuffer'](_0x1961c7['__webglDepthbuffer']),_0x1961c7['__webglMultisampledFramebuffer']&&_0x4be0ce['deleteFramebuffer'](_0x1961c7['__webglMultisampledFramebuffer']),_0x1961c7['__webglColorRenderbuffer']){for(let _0x504661=0x0;_0x504661<_0x1961c7['__webglColorRenderbuffer']['length'];_0x504661++)_0x1961c7['__webglColorRenderbuffer'][_0x504661]&&_0x4be0ce['deleteRenderbuffer'](_0x1961c7['__webglColorRenderbuffer'][_0x504661]);}_0x1961c7['__webglDepthRenderbuffer']&&_0x4be0ce['deleteRenderbuffer'](_0x1961c7['__webglDepthRenderbuffer']);}const _0x4e8d38=_0x100a97['textures'];for(let _0x5b3836=0x0,_0x48b2e6=_0x4e8d38['length'];_0x5b3836<_0x48b2e6;_0x5b3836++){const _0x1813b5=_0x9633d0['get'](_0x4e8d38[_0x5b3836]);_0x1813b5['__webglTexture']&&(_0x4be0ce['deleteTexture'](_0x1813b5['__webglTexture']),_0x2eebb5['memory']['textures']--),_0x9633d0['remove'](_0x4e8d38[_0x5b3836]);}_0x9633d0['remove'](_0x100a97);}(_0x354281);}function _0x20e077(_0x24e12d){const _0x4a3400=_0x9633d0['get'](_0x24e12d);_0x4be0ce['deleteTexture'](_0x4a3400['__webglTexture']);const _0xf2f3e1=_0x24e12d['source'];delete _0x5936d9['get'](_0xf2f3e1)[_0x4a3400['__cacheKey']],_0x2eebb5['memory']['textures']--;}let _0x4ea86c=0x0;function _0x99fcb5(_0x5556c0,_0x5a7949){const _0x5bfc16=_0x9633d0['get'](_0x5556c0);if(_0x5556c0['isVideoTexture']&&function(_0x33c5ef){const _0x4d31b6=_0x2eebb5['render']['frame'];_0x26944c['get'](_0x33c5ef)!==_0x4d31b6&&(_0x26944c['set'](_0x33c5ef,_0x4d31b6),_0x33c5ef['update']());}(_0x5556c0),!0x1===_0x5556c0['isRenderTargetTexture']&&_0x5556c0['version']>0x0&&_0x5bfc16['__version']!==_0x5556c0['version']){const _0x5b4bfc=_0x5556c0['image'];if(null===_0x5b4bfc)console['warn']('THREE.WebGLRenderer:\x20Texture\x20marked\x20for\x20update\x20but\x20no\x20image\x20data\x20found.');else{if(!0x1!==_0x5b4bfc['complete'])return void _0x59dcb6(_0x5bfc16,_0x5556c0,_0x5a7949);console['warn']('THREE.WebGLRenderer:\x20Texture\x20marked\x20for\x20update\x20but\x20image\x20is\x20incomplete');}}_0x2623ef['bindTexture'](_0x4be0ce['TEXTURE_2D'],_0x5bfc16['__webglTexture'],_0x4be0ce['TEXTURE0']+_0x5a7949);}const _0x8548a0={[_0x42a528['GJx']]:_0x4be0ce['REPEAT'],[_0x42a528['ghU']]:_0x4be0ce['CLAMP_TO_EDGE'],[_0x42a528['kTW']]:_0x4be0ce['MIRRORED_REPEAT']},_0x10ca63={[_0x42a528['hxR']]:_0x4be0ce['NEAREST'],[_0x42a528['pHI']]:_0x4be0ce['NEAREST_MIPMAP_NEAREST'],[_0x42a528['Cfg']]:_0x4be0ce['NEAREST_MIPMAP_LINEAR'],[_0x42a528['k6q']]:_0x4be0ce['LINEAR'],[_0x42a528['kRr']]:_0x4be0ce['LINEAR_MIPMAP_NEAREST'],[_0x42a528['$_I']]:_0x4be0ce['LINEAR_MIPMAP_LINEAR']},_0x27377a={[_0x42a528['amv']]:_0x4be0ce['NEVER'],[_0x42a528['FFZ']]:_0x4be0ce['ALWAYS'],[_0x42a528['vim']]:_0x4be0ce['LESS'],[_0x42a528['TiK']]:_0x4be0ce['LEQUAL'],[_0x42a528['kO0']]:_0x4be0ce['EQUAL'],[_0x42a528['gWB']]:_0x4be0ce['GEQUAL'],[_0x42a528['eoi']]:_0x4be0ce['GREATER'],[_0x42a528['jzd']]:_0x4be0ce['NOTEQUAL']};function _0x368575(_0xdb9997,_0x218c86){if(_0x218c86['type']!==_0x42a528['RQf']||!0x1!==_0x3af990['has']('OES_texture_float_linear')||_0x218c86['magFilter']!==_0x42a528['k6q']&&_0x218c86['magFilter']!==_0x42a528['kRr']&&_0x218c86['magFilter']!==_0x42a528['Cfg']&&_0x218c86['magFilter']!==_0x42a528['$_I']&&_0x218c86['minFilter']!==_0x42a528['k6q']&&_0x218c86['minFilter']!==_0x42a528['kRr']&&_0x218c86['minFilter']!==_0x42a528['Cfg']&&_0x218c86['minFilter']!==_0x42a528['$_I']||console['warn']('THREE.WebGLRenderer:\x20Unable\x20to\x20use\x20linear\x20filtering\x20with\x20floating\x20point\x20textures.\x20OES_texture_float_linear\x20not\x20supported\x20on\x20this\x20device.'),_0x4be0ce['texParameteri'](_0xdb9997,_0x4be0ce['TEXTURE_WRAP_S'],_0x8548a0[_0x218c86['wrapS']]),_0x4be0ce['texParameteri'](_0xdb9997,_0x4be0ce['TEXTURE_WRAP_T'],_0x8548a0[_0x218c86['wrapT']]),_0xdb9997!==_0x4be0ce['TEXTURE_3D']&&_0xdb9997!==_0x4be0ce['TEXTURE_2D_ARRAY']||_0x4be0ce['texParameteri'](_0xdb9997,_0x4be0ce['TEXTURE_WRAP_R'],_0x8548a0[_0x218c86['wrapR']]),_0x4be0ce['texParameteri'](_0xdb9997,_0x4be0ce['TEXTURE_MAG_FILTER'],_0x10ca63[_0x218c86['magFilter']]),_0x4be0ce['texParameteri'](_0xdb9997,_0x4be0ce['TEXTURE_MIN_FILTER'],_0x10ca63[_0x218c86['minFilter']]),_0x218c86['compareFunction']&&(_0x4be0ce['texParameteri'](_0xdb9997,_0x4be0ce['TEXTURE_COMPARE_MODE'],_0x4be0ce['COMPARE_REF_TO_TEXTURE']),_0x4be0ce['texParameteri'](_0xdb9997,_0x4be0ce['TEXTURE_COMPARE_FUNC'],_0x27377a[_0x218c86['compareFunction']])),!0x0===_0x3af990['has']('EXT_texture_filter_anisotropic')){if(_0x218c86['magFilter']===_0x42a528['hxR'])return;if(_0x218c86['minFilter']!==_0x42a528['Cfg']&&_0x218c86['minFilter']!==_0x42a528['$_I'])return;if(_0x218c86['type']===_0x42a528['RQf']&&!0x1===_0x3af990['has']('OES_texture_float_linear'))return;if(_0x218c86['anisotropy']>0x1||_0x9633d0['get'](_0x218c86)['__currentAnisotropy']){const _0x39a51b=_0x3af990['get']('EXT_texture_filter_anisotropic');_0x4be0ce['texParameterf'](_0xdb9997,_0x39a51b['TEXTURE_MAX_ANISOTROPY_EXT'],Math['min'](_0x218c86['anisotropy'],_0x138aee['getMaxAnisotropy']())),_0x9633d0['get'](_0x218c86)['__currentAnisotropy']=_0x218c86['anisotropy'];}}}function _0x5cf66b(_0x13b873,_0x561102){let _0x30799c=!0x1;void 0x0===_0x13b873['__webglInit']&&(_0x13b873['__webglInit']=!0x0,_0x561102['addEventListener']('dispose',_0x38fe30));const _0x2f17b0=_0x561102['source'];let _0x3e65cd=_0x5936d9['get'](_0x2f17b0);void 0x0===_0x3e65cd&&(_0x3e65cd={},_0x5936d9['set'](_0x2f17b0,_0x3e65cd));const _0x38716a=function(_0x183521){const _0x13af05=[];return _0x13af05['push'](_0x183521['wrapS']),_0x13af05['push'](_0x183521['wrapT']),_0x13af05['push'](_0x183521['wrapR']||0x0),_0x13af05['push'](_0x183521['magFilter']),_0x13af05['push'](_0x183521['minFilter']),_0x13af05['push'](_0x183521['anisotropy']),_0x13af05['push'](_0x183521['internalFormat']),_0x13af05['push'](_0x183521['format']),_0x13af05['push'](_0x183521['type']),_0x13af05['push'](_0x183521['generateMipmaps']),_0x13af05['push'](_0x183521['premultiplyAlpha']),_0x13af05['push'](_0x183521['flipY']),_0x13af05['push'](_0x183521['unpackAlignment']),_0x13af05['push'](_0x183521['colorSpace']),_0x13af05['join']();}(_0x561102);if(_0x38716a!==_0x13b873['__cacheKey']){void 0x0===_0x3e65cd[_0x38716a]&&(_0x3e65cd[_0x38716a]={'texture':_0x4be0ce['createTexture'](),'usedTimes':0x0},_0x2eebb5['memory']['textures']++,_0x30799c=!0x0),_0x3e65cd[_0x38716a]['usedTimes']++;const _0xa8e428=_0x3e65cd[_0x13b873['__cacheKey']];void 0x0!==_0xa8e428&&(_0x3e65cd[_0x13b873['__cacheKey']]['usedTimes']--,0x0===_0xa8e428['usedTimes']&&_0x20e077(_0x561102)),_0x13b873['__cacheKey']=_0x38716a,_0x13b873['__webglTexture']=_0x3e65cd[_0x38716a]['texture'];}return _0x30799c;}function _0x59dcb6(_0x5e700c,_0x5e2f4c,_0x36cdb6){let _0x500f55=_0x4be0ce['TEXTURE_2D'];(_0x5e2f4c['isDataArrayTexture']||_0x5e2f4c['isCompressedArrayTexture'])&&(_0x500f55=_0x4be0ce['TEXTURE_2D_ARRAY']),_0x5e2f4c['isData3DTexture']&&(_0x500f55=_0x4be0ce['TEXTURE_3D']);const _0x23bd3c=_0x5cf66b(_0x5e700c,_0x5e2f4c),_0x2ad2b6=_0x5e2f4c['source'];_0x2623ef['bindTexture'](_0x500f55,_0x5e700c['__webglTexture'],_0x4be0ce['TEXTURE0']+_0x36cdb6);const _0x23b347=_0x9633d0['get'](_0x2ad2b6);if(_0x2ad2b6['version']!==_0x23b347['__version']||!0x0===_0x23bd3c){_0x2623ef['activeTexture'](_0x4be0ce['TEXTURE0']+_0x36cdb6);const _0x45e1a8=_0x42a528['ppV']['getPrimaries'](_0x42a528['ppV']['workingColorSpace']),_0x5389ad=_0x5e2f4c['colorSpace']===_0x42a528['jf0']?null:_0x42a528['ppV']['getPrimaries'](_0x5e2f4c['colorSpace']),_0x4d454a=_0x5e2f4c['colorSpace']===_0x42a528['jf0']||_0x45e1a8===_0x5389ad?_0x4be0ce['NONE']:_0x4be0ce['BROWSER_DEFAULT_WEBGL'];_0x4be0ce['pixelStorei'](_0x4be0ce['UNPACK_FLIP_Y_WEBGL'],_0x5e2f4c['flipY']),_0x4be0ce['pixelStorei'](_0x4be0ce['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x5e2f4c['premultiplyAlpha']),_0x4be0ce['pixelStorei'](_0x4be0ce['UNPACK_ALIGNMENT'],_0x5e2f4c['unpackAlignment']),_0x4be0ce['pixelStorei'](_0x4be0ce['UNPACK_COLORSPACE_CONVERSION_WEBGL'],_0x4d454a);let _0x312420=_0x56b535(_0x5e2f4c['image'],!0x1,_0x138aee['maxTextureSize']);_0x312420=_0x16ed98(_0x5e2f4c,_0x312420);const _0x59c368=_0x43815b['convert'](_0x5e2f4c['format'],_0x5e2f4c['colorSpace']),_0x46b2f4=_0x43815b['convert'](_0x5e2f4c['type']);let _0x4bffea,_0x436a93=_0x58f5d0(_0x5e2f4c['internalFormat'],_0x59c368,_0x46b2f4,_0x5e2f4c['colorSpace'],_0x5e2f4c['isVideoTexture']);_0x368575(_0x500f55,_0x5e2f4c);const _0x3e20d4=_0x5e2f4c['mipmaps'],_0x52cc12=!0x0!==_0x5e2f4c['isVideoTexture'],_0x36ee3=void 0x0===_0x23b347['__version']||!0x0===_0x23bd3c,_0x221ef9=_0x2ad2b6['dataReady'],_0x10d0e2=_0x500ff6(_0x5e2f4c,_0x312420);if(_0x5e2f4c['isDepthTexture'])_0x436a93=_0x427d24(_0x5e2f4c['format']===_0x42a528['dcC'],_0x5e2f4c['type']),_0x36ee3&&(_0x52cc12?_0x2623ef['texStorage2D'](_0x4be0ce['TEXTURE_2D'],0x1,_0x436a93,_0x312420['width'],_0x312420['height']):_0x2623ef['texImage2D'](_0x4be0ce['TEXTURE_2D'],0x0,_0x436a93,_0x312420['width'],_0x312420['height'],0x0,_0x59c368,_0x46b2f4,null));else{if(_0x5e2f4c['isDataTexture']){if(_0x3e20d4['length']>0x0){_0x52cc12&&_0x36ee3&&_0x2623ef['texStorage2D'](_0x4be0ce['TEXTURE_2D'],_0x10d0e2,_0x436a93,_0x3e20d4[0x0]['width'],_0x3e20d4[0x0]['height']);for(let _0x517089=0x0,_0x49792e=_0x3e20d4['length'];_0x517089<_0x49792e;_0x517089++)_0x4bffea=_0x3e20d4[_0x517089],_0x52cc12?_0x221ef9&&_0x2623ef['texSubImage2D'](_0x4be0ce['TEXTURE_2D'],_0x517089,0x0,0x0,_0x4bffea['width'],_0x4bffea['height'],_0x59c368,_0x46b2f4,_0x4bffea['data']):_0x2623ef['texImage2D'](_0x4be0ce['TEXTURE_2D'],_0x517089,_0x436a93,_0x4bffea['width'],_0x4bffea['height'],0x0,_0x59c368,_0x46b2f4,_0x4bffea['data']);_0x5e2f4c['generateMipmaps']=!0x1;}else _0x52cc12?(_0x36ee3&&_0x2623ef['texStorage2D'](_0x4be0ce['TEXTURE_2D'],_0x10d0e2,_0x436a93,_0x312420['width'],_0x312420['height']),_0x221ef9&&_0x2623ef['texSubImage2D'](_0x4be0ce['TEXTURE_2D'],0x0,0x0,0x0,_0x312420['width'],_0x312420['height'],_0x59c368,_0x46b2f4,_0x312420['data'])):_0x2623ef['texImage2D'](_0x4be0ce['TEXTURE_2D'],0x0,_0x436a93,_0x312420['width'],_0x312420['height'],0x0,_0x59c368,_0x46b2f4,_0x312420['data']);}else{if(_0x5e2f4c['isCompressedTexture']){if(_0x5e2f4c['isCompressedArrayTexture']){_0x52cc12&&_0x36ee3&&_0x2623ef['texStorage3D'](_0x4be0ce['TEXTURE_2D_ARRAY'],_0x10d0e2,_0x436a93,_0x3e20d4[0x0]['width'],_0x3e20d4[0x0]['height'],_0x312420['depth']);for(let _0x56089b=0x0,_0x3d6265=_0x3e20d4['length'];_0x56089b<_0x3d6265;_0x56089b++)if(_0x4bffea=_0x3e20d4[_0x56089b],_0x5e2f4c['format']!==_0x42a528['GWd']){if(null!==_0x59c368){if(_0x52cc12){if(_0x221ef9){if(_0x5e2f4c['layerUpdates']['size']>0x0){const _0x30300c=(0x0,_0x42a528['Nex'])(_0x4bffea['width'],_0x4bffea['height'],_0x5e2f4c['format'],_0x5e2f4c['type']);for(const _0x20c3e3 of _0x5e2f4c['layerUpdates']){const _0x5ed6b7=_0x4bffea['data']['subarray'](_0x20c3e3*_0x30300c/_0x4bffea['data']['BYTES_PER_ELEMENT'],(_0x20c3e3+0x1)*_0x30300c/_0x4bffea['data']['BYTES_PER_ELEMENT']);_0x2623ef['compressedTexSubImage3D'](_0x4be0ce['TEXTURE_2D_ARRAY'],_0x56089b,0x0,0x0,_0x20c3e3,_0x4bffea['width'],_0x4bffea['height'],0x1,_0x59c368,_0x5ed6b7);}_0x5e2f4c['clearLayerUpdates']();}else _0x2623ef['compressedTexSubImage3D'](_0x4be0ce['TEXTURE_2D_ARRAY'],_0x56089b,0x0,0x0,0x0,_0x4bffea['width'],_0x4bffea['height'],_0x312420['depth'],_0x59c368,_0x4bffea['data']);}}else _0x2623ef['compressedTexImage3D'](_0x4be0ce['TEXTURE_2D_ARRAY'],_0x56089b,_0x436a93,_0x4bffea['width'],_0x4bffea['height'],_0x312420['depth'],0x0,_0x4bffea['data'],0x0,0x0);}else console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.uploadTexture()');}else _0x52cc12?_0x221ef9&&_0x2623ef['texSubImage3D'](_0x4be0ce['TEXTURE_2D_ARRAY'],_0x56089b,0x0,0x0,0x0,_0x4bffea['width'],_0x4bffea['height'],_0x312420['depth'],_0x59c368,_0x46b2f4,_0x4bffea['data']):_0x2623ef['texImage3D'](_0x4be0ce['TEXTURE_2D_ARRAY'],_0x56089b,_0x436a93,_0x4bffea['width'],_0x4bffea['height'],_0x312420['depth'],0x0,_0x59c368,_0x46b2f4,_0x4bffea['data']);}else{_0x52cc12&&_0x36ee3&&_0x2623ef['texStorage2D'](_0x4be0ce['TEXTURE_2D'],_0x10d0e2,_0x436a93,_0x3e20d4[0x0]['width'],_0x3e20d4[0x0]['height']);for(let _0x458ec8=0x0,_0x1b5626=_0x3e20d4['length'];_0x458ec8<_0x1b5626;_0x458ec8++)_0x4bffea=_0x3e20d4[_0x458ec8],_0x5e2f4c['format']!==_0x42a528['GWd']?null!==_0x59c368?_0x52cc12?_0x221ef9&&_0x2623ef['compressedTexSubImage2D'](_0x4be0ce['TEXTURE_2D'],_0x458ec8,0x0,0x0,_0x4bffea['width'],_0x4bffea['height'],_0x59c368,_0x4bffea['data']):_0x2623ef['compressedTexImage2D'](_0x4be0ce['TEXTURE_2D'],_0x458ec8,_0x436a93,_0x4bffea['width'],_0x4bffea['height'],0x0,_0x4bffea['data']):console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.uploadTexture()'):_0x52cc12?_0x221ef9&&_0x2623ef['texSubImage2D'](_0x4be0ce['TEXTURE_2D'],_0x458ec8,0x0,0x0,_0x4bffea['width'],_0x4bffea['height'],_0x59c368,_0x46b2f4,_0x4bffea['data']):_0x2623ef['texImage2D'](_0x4be0ce['TEXTURE_2D'],_0x458ec8,_0x436a93,_0x4bffea['width'],_0x4bffea['height'],0x0,_0x59c368,_0x46b2f4,_0x4bffea['data']);}}else{if(_0x5e2f4c['isDataArrayTexture']){if(_0x52cc12){if(_0x36ee3&&_0x2623ef['texStorage3D'](_0x4be0ce['TEXTURE_2D_ARRAY'],_0x10d0e2,_0x436a93,_0x312420['width'],_0x312420['height'],_0x312420['depth']),_0x221ef9){if(_0x5e2f4c['layerUpdates']['size']>0x0){const _0x19dfea=(0x0,_0x42a528['Nex'])(_0x312420['width'],_0x312420['height'],_0x5e2f4c['format'],_0x5e2f4c['type']);for(const _0x2b701a of _0x5e2f4c['layerUpdates']){const _0x4e9e89=_0x312420['data']['subarray'](_0x2b701a*_0x19dfea/_0x312420['data']['BYTES_PER_ELEMENT'],(_0x2b701a+0x1)*_0x19dfea/_0x312420['data']['BYTES_PER_ELEMENT']);_0x2623ef['texSubImage3D'](_0x4be0ce['TEXTURE_2D_ARRAY'],0x0,0x0,0x0,_0x2b701a,_0x312420['width'],_0x312420['height'],0x1,_0x59c368,_0x46b2f4,_0x4e9e89);}_0x5e2f4c['clearLayerUpdates']();}else _0x2623ef['texSubImage3D'](_0x4be0ce['TEXTURE_2D_ARRAY'],0x0,0x0,0x0,0x0,_0x312420['width'],_0x312420['height'],_0x312420['depth'],_0x59c368,_0x46b2f4,_0x312420['data']);}}else _0x2623ef['texImage3D'](_0x4be0ce['TEXTURE_2D_ARRAY'],0x0,_0x436a93,_0x312420['width'],_0x312420['height'],_0x312420['depth'],0x0,_0x59c368,_0x46b2f4,_0x312420['data']);}else{if(_0x5e2f4c['isData3DTexture'])_0x52cc12?(_0x36ee3&&_0x2623ef['texStorage3D'](_0x4be0ce['TEXTURE_3D'],_0x10d0e2,_0x436a93,_0x312420['width'],_0x312420['height'],_0x312420['depth']),_0x221ef9&&_0x2623ef['texSubImage3D'](_0x4be0ce['TEXTURE_3D'],0x0,0x0,0x0,0x0,_0x312420['width'],_0x312420['height'],_0x312420['depth'],_0x59c368,_0x46b2f4,_0x312420['data'])):_0x2623ef['texImage3D'](_0x4be0ce['TEXTURE_3D'],0x0,_0x436a93,_0x312420['width'],_0x312420['height'],_0x312420['depth'],0x0,_0x59c368,_0x46b2f4,_0x312420['data']);else{if(_0x5e2f4c['isFramebufferTexture']){if(_0x36ee3){if(_0x52cc12)_0x2623ef['texStorage2D'](_0x4be0ce['TEXTURE_2D'],_0x10d0e2,_0x436a93,_0x312420['width'],_0x312420['height']);else{let _0x1317e8=_0x312420['width'],_0x44ae61=_0x312420['height'];for(let _0x548bdf=0x0;_0x548bdf<_0x10d0e2;_0x548bdf++)_0x2623ef['texImage2D'](_0x4be0ce['TEXTURE_2D'],_0x548bdf,_0x436a93,_0x1317e8,_0x44ae61,0x0,_0x59c368,_0x46b2f4,null),_0x1317e8>>=0x1,_0x44ae61>>=0x1;}}}else{if(_0x3e20d4['length']>0x0){if(_0x52cc12&&_0x36ee3){const _0x37995e=_0x6f02f5(_0x3e20d4[0x0]);_0x2623ef['texStorage2D'](_0x4be0ce['TEXTURE_2D'],_0x10d0e2,_0x436a93,_0x37995e['width'],_0x37995e['height']);}for(let _0x28309b=0x0,_0xcebe67=_0x3e20d4['length'];_0x28309b<_0xcebe67;_0x28309b++)_0x4bffea=_0x3e20d4[_0x28309b],_0x52cc12?_0x221ef9&&_0x2623ef['texSubImage2D'](_0x4be0ce['TEXTURE_2D'],_0x28309b,0x0,0x0,_0x59c368,_0x46b2f4,_0x4bffea):_0x2623ef['texImage2D'](_0x4be0ce['TEXTURE_2D'],_0x28309b,_0x436a93,_0x59c368,_0x46b2f4,_0x4bffea);_0x5e2f4c['generateMipmaps']=!0x1;}else{if(_0x52cc12){if(_0x36ee3){const _0x32012c=_0x6f02f5(_0x312420);_0x2623ef['texStorage2D'](_0x4be0ce['TEXTURE_2D'],_0x10d0e2,_0x436a93,_0x32012c['width'],_0x32012c['height']);}_0x221ef9&&_0x2623ef['texSubImage2D'](_0x4be0ce['TEXTURE_2D'],0x0,0x0,0x0,_0x59c368,_0x46b2f4,_0x312420);}else _0x2623ef['texImage2D'](_0x4be0ce['TEXTURE_2D'],0x0,_0x436a93,_0x59c368,_0x46b2f4,_0x312420);}}}}}}}_0x4ad1a9(_0x5e2f4c)&&_0xedcc65(_0x500f55),_0x23b347['__version']=_0x2ad2b6['version'],_0x5e2f4c['onUpdate']&&_0x5e2f4c['onUpdate'](_0x5e2f4c);}_0x5e700c['__version']=_0x5e2f4c['version'];}function _0x3ce9df(_0xc8109d,_0x84bb3b,_0x89dda7,_0x2075d7,_0x1c17b8,_0x520ecb){const _0x5f0c21=_0x43815b['convert'](_0x89dda7['format'],_0x89dda7['colorSpace']),_0x4cafe6=_0x43815b['convert'](_0x89dda7['type']),_0x261171=_0x58f5d0(_0x89dda7['internalFormat'],_0x5f0c21,_0x4cafe6,_0x89dda7['colorSpace']),_0x4585f5=_0x9633d0['get'](_0x84bb3b),_0x429046=_0x9633d0['get'](_0x89dda7);if(_0x429046['__renderTarget']=_0x84bb3b,!_0x4585f5['__hasExternalTextures']){const _0x4c292a=Math['max'](0x1,_0x84bb3b['width']>>_0x520ecb),_0x18ea5a=Math['max'](0x1,_0x84bb3b['height']>>_0x520ecb);_0x1c17b8===_0x4be0ce['TEXTURE_3D']||_0x1c17b8===_0x4be0ce['TEXTURE_2D_ARRAY']?_0x2623ef['texImage3D'](_0x1c17b8,_0x520ecb,_0x261171,_0x4c292a,_0x18ea5a,_0x84bb3b['depth'],0x0,_0x5f0c21,_0x4cafe6,null):_0x2623ef['texImage2D'](_0x1c17b8,_0x520ecb,_0x261171,_0x4c292a,_0x18ea5a,0x0,_0x5f0c21,_0x4cafe6,null);}_0x2623ef['bindFramebuffer'](_0x4be0ce['FRAMEBUFFER'],_0xc8109d),_0x432c09(_0x84bb3b)?_0x4002e8['framebufferTexture2DMultisampleEXT'](_0x4be0ce['FRAMEBUFFER'],_0x2075d7,_0x1c17b8,_0x429046['__webglTexture'],0x0,_0x2f642b(_0x84bb3b)):(_0x1c17b8===_0x4be0ce['TEXTURE_2D']||_0x1c17b8>=_0x4be0ce['TEXTURE_CUBE_MAP_POSITIVE_X']&&_0x1c17b8<=_0x4be0ce['TEXTURE_CUBE_MAP_NEGATIVE_Z'])&&_0x4be0ce['framebufferTexture2D'](_0x4be0ce['FRAMEBUFFER'],_0x2075d7,_0x1c17b8,_0x429046['__webglTexture'],_0x520ecb),_0x2623ef['bindFramebuffer'](_0x4be0ce['FRAMEBUFFER'],null);}function _0xc90079(_0x43bd01,_0xae7517,_0x54e748){if(_0x4be0ce['bindRenderbuffer'](_0x4be0ce['RENDERBUFFER'],_0x43bd01),_0xae7517['depthBuffer']){const _0x1b3ce1=_0xae7517['depthTexture'],_0x3f4ffc=_0x1b3ce1&&_0x1b3ce1['isDepthTexture']?_0x1b3ce1['type']:null,_0x518752=_0x427d24(_0xae7517['stencilBuffer'],_0x3f4ffc),_0x3f9bee=_0xae7517['stencilBuffer']?_0x4be0ce['DEPTH_STENCIL_ATTACHMENT']:_0x4be0ce['DEPTH_ATTACHMENT'],_0x4a29af=_0x2f642b(_0xae7517);_0x432c09(_0xae7517)?_0x4002e8['renderbufferStorageMultisampleEXT'](_0x4be0ce['RENDERBUFFER'],_0x4a29af,_0x518752,_0xae7517['width'],_0xae7517['height']):_0x54e748?_0x4be0ce['renderbufferStorageMultisample'](_0x4be0ce['RENDERBUFFER'],_0x4a29af,_0x518752,_0xae7517['width'],_0xae7517['height']):_0x4be0ce['renderbufferStorage'](_0x4be0ce['RENDERBUFFER'],_0x518752,_0xae7517['width'],_0xae7517['height']),_0x4be0ce['framebufferRenderbuffer'](_0x4be0ce['FRAMEBUFFER'],_0x3f9bee,_0x4be0ce['RENDERBUFFER'],_0x43bd01);}else{const _0x59aa88=_0xae7517['textures'];for(let _0x590f7e=0x0;_0x590f7e<_0x59aa88['length'];_0x590f7e++){const _0x1cb439=_0x59aa88[_0x590f7e],_0x1904ba=_0x43815b['convert'](_0x1cb439['format'],_0x1cb439['colorSpace']),_0x589b9c=_0x43815b['convert'](_0x1cb439['type']),_0x504984=_0x58f5d0(_0x1cb439['internalFormat'],_0x1904ba,_0x589b9c,_0x1cb439['colorSpace']),_0x63efa4=_0x2f642b(_0xae7517);_0x54e748&&!0x1===_0x432c09(_0xae7517)?_0x4be0ce['renderbufferStorageMultisample'](_0x4be0ce['RENDERBUFFER'],_0x63efa4,_0x504984,_0xae7517['width'],_0xae7517['height']):_0x432c09(_0xae7517)?_0x4002e8['renderbufferStorageMultisampleEXT'](_0x4be0ce['RENDERBUFFER'],_0x63efa4,_0x504984,_0xae7517['width'],_0xae7517['height']):_0x4be0ce['renderbufferStorage'](_0x4be0ce['RENDERBUFFER'],_0x504984,_0xae7517['width'],_0xae7517['height']);}}_0x4be0ce['bindRenderbuffer'](_0x4be0ce['RENDERBUFFER'],null);}function _0x292b5e(_0x525584){const _0x29783c=_0x9633d0['get'](_0x525584),_0x345333=!0x0===_0x525584['isWebGLCubeRenderTarget'];if(_0x29783c['__boundDepthTexture']!==_0x525584['depthTexture']){const _0x4f9018=_0x525584['depthTexture'];if(_0x29783c['__depthDisposeCallback']&&_0x29783c['__depthDisposeCallback'](),_0x4f9018){const _0x827d5b=()=>{delete _0x29783c['__boundDepthTexture'],delete _0x29783c['__depthDisposeCallback'],_0x4f9018['removeEventListener']('dispose',_0x827d5b);};_0x4f9018['addEventListener']('dispose',_0x827d5b),_0x29783c['__depthDisposeCallback']=_0x827d5b;}_0x29783c['__boundDepthTexture']=_0x4f9018;}if(_0x525584['depthTexture']&&!_0x29783c['__autoAllocateDepthBuffer']){if(_0x345333)throw new Error('target.depthTexture\x20not\x20supported\x20in\x20Cube\x20render\x20targets');!function(_0x2e1f6a,_0x2dc9fe){if(_0x2dc9fe&&_0x2dc9fe['isWebGLCubeRenderTarget'])throw new Error('Depth\x20Texture\x20with\x20cube\x20render\x20targets\x20is\x20not\x20supported');if(_0x2623ef['bindFramebuffer'](_0x4be0ce['FRAMEBUFFER'],_0x2e1f6a),!_0x2dc9fe['depthTexture']||!_0x2dc9fe['depthTexture']['isDepthTexture'])throw new Error('renderTarget.depthTexture\x20must\x20be\x20an\x20instance\x20of\x20THREE.DepthTexture');const _0x220b49=_0x9633d0['get'](_0x2dc9fe['depthTexture']);_0x220b49['__renderTarget']=_0x2dc9fe,_0x220b49['__webglTexture']&&_0x2dc9fe['depthTexture']['image']['width']===_0x2dc9fe['width']&&_0x2dc9fe['depthTexture']['image']['height']===_0x2dc9fe['height']||(_0x2dc9fe['depthTexture']['image']['width']=_0x2dc9fe['width'],_0x2dc9fe['depthTexture']['image']['height']=_0x2dc9fe['height'],_0x2dc9fe['depthTexture']['needsUpdate']=!0x0),_0x99fcb5(_0x2dc9fe['depthTexture'],0x0);const _0x22a35d=_0x220b49['__webglTexture'],_0x567b73=_0x2f642b(_0x2dc9fe);if(_0x2dc9fe['depthTexture']['format']===_0x42a528['zdS'])_0x432c09(_0x2dc9fe)?_0x4002e8['framebufferTexture2DMultisampleEXT'](_0x4be0ce['FRAMEBUFFER'],_0x4be0ce['DEPTH_ATTACHMENT'],_0x4be0ce['TEXTURE_2D'],_0x22a35d,0x0,_0x567b73):_0x4be0ce['framebufferTexture2D'](_0x4be0ce['FRAMEBUFFER'],_0x4be0ce['DEPTH_ATTACHMENT'],_0x4be0ce['TEXTURE_2D'],_0x22a35d,0x0);else{if(_0x2dc9fe['depthTexture']['format']!==_0x42a528['dcC'])throw new Error('Unknown\x20depthTexture\x20format');_0x432c09(_0x2dc9fe)?_0x4002e8['framebufferTexture2DMultisampleEXT'](_0x4be0ce['FRAMEBUFFER'],_0x4be0ce['DEPTH_STENCIL_ATTACHMENT'],_0x4be0ce['TEXTURE_2D'],_0x22a35d,0x0,_0x567b73):_0x4be0ce['framebufferTexture2D'](_0x4be0ce['FRAMEBUFFER'],_0x4be0ce['DEPTH_STENCIL_ATTACHMENT'],_0x4be0ce['TEXTURE_2D'],_0x22a35d,0x0);}}(_0x29783c['__webglFramebuffer'],_0x525584);}else{if(_0x345333){_0x29783c['__webglDepthbuffer']=[];for(let _0x45eeb4=0x0;_0x45eeb4<0x6;_0x45eeb4++)if(_0x2623ef['bindFramebuffer'](_0x4be0ce['FRAMEBUFFER'],_0x29783c['__webglFramebuffer'][_0x45eeb4]),void 0x0===_0x29783c['__webglDepthbuffer'][_0x45eeb4])_0x29783c['__webglDepthbuffer'][_0x45eeb4]=_0x4be0ce['createRenderbuffer'](),_0xc90079(_0x29783c['__webglDepthbuffer'][_0x45eeb4],_0x525584,!0x1);else{const _0x382cb7=_0x525584['stencilBuffer']?_0x4be0ce['DEPTH_STENCIL_ATTACHMENT']:_0x4be0ce['DEPTH_ATTACHMENT'],_0x14ceb0=_0x29783c['__webglDepthbuffer'][_0x45eeb4];_0x4be0ce['bindRenderbuffer'](_0x4be0ce['RENDERBUFFER'],_0x14ceb0),_0x4be0ce['framebufferRenderbuffer'](_0x4be0ce['FRAMEBUFFER'],_0x382cb7,_0x4be0ce['RENDERBUFFER'],_0x14ceb0);}}else{if(_0x2623ef['bindFramebuffer'](_0x4be0ce['FRAMEBUFFER'],_0x29783c['__webglFramebuffer']),void 0x0===_0x29783c['__webglDepthbuffer'])_0x29783c['__webglDepthbuffer']=_0x4be0ce['createRenderbuffer'](),_0xc90079(_0x29783c['__webglDepthbuffer'],_0x525584,!0x1);else{const _0x20abc1=_0x525584['stencilBuffer']?_0x4be0ce['DEPTH_STENCIL_ATTACHMENT']:_0x4be0ce['DEPTH_ATTACHMENT'],_0x15c29b=_0x29783c['__webglDepthbuffer'];_0x4be0ce['bindRenderbuffer'](_0x4be0ce['RENDERBUFFER'],_0x15c29b),_0x4be0ce['framebufferRenderbuffer'](_0x4be0ce['FRAMEBUFFER'],_0x20abc1,_0x4be0ce['RENDERBUFFER'],_0x15c29b);}}}_0x2623ef['bindFramebuffer'](_0x4be0ce['FRAMEBUFFER'],null);}const _0x60783d=[],_0x22b662=[];function _0x2f642b(_0x3c3172){return Math['min'](_0x138aee['maxSamples'],_0x3c3172['samples']);}function _0x432c09(_0x56f0e8){const _0xb1c0d=_0x9633d0['get'](_0x56f0e8);return _0x56f0e8['samples']>0x0&&!0x0===_0x3af990['has']('WEBGL_multisampled_render_to_texture')&&!0x1!==_0xb1c0d['__useRenderToTexture'];}function _0x16ed98(_0x99817c,_0x1a3a47){const _0x2e988b=_0x99817c['colorSpace'],_0x3903d6=_0x99817c['format'],_0x3cb124=_0x99817c['type'];return!0x0===_0x99817c['isCompressedTexture']||!0x0===_0x99817c['isVideoTexture']||_0x2e988b!==_0x42a528['Zr2']&&_0x2e988b!==_0x42a528['jf0']&&(_0x42a528['ppV']['getTransfer'](_0x2e988b)===_0x42a528['KLL']?_0x3903d6===_0x42a528['GWd']&&_0x3cb124===_0x42a528['OUM']||console['warn']('THREE.WebGLTextures:\x20sRGB\x20encoded\x20textures\x20have\x20to\x20use\x20RGBAFormat\x20and\x20UnsignedByteType.'):console['error']('THREE.WebGLTextures:\x20Unsupported\x20texture\x20color\x20space:',_0x2e988b)),_0x1a3a47;}function _0x6f02f5(_0x49c17f){return'undefined'!=typeof HTMLImageElement&&_0x49c17f instanceof HTMLImageElement?(_0x25a674['width']=_0x49c17f['naturalWidth']||_0x49c17f['width'],_0x25a674['height']=_0x49c17f['naturalHeight']||_0x49c17f['height']):'undefined'!=typeof VideoFrame&&_0x49c17f instanceof VideoFrame?(_0x25a674['width']=_0x49c17f['displayWidth'],_0x25a674['height']=_0x49c17f['displayHeight']):(_0x25a674['width']=_0x49c17f['width'],_0x25a674['height']=_0x49c17f['height']),_0x25a674;}this['allocateTextureUnit']=function(){const _0x56b745=_0x4ea86c;return _0x56b745>=_0x138aee['maxTextures']&&console['warn']('THREE.WebGLTextures:\x20Trying\x20to\x20use\x20'+_0x56b745+'\x20texture\x20units\x20while\x20this\x20GPU\x20supports\x20only\x20'+_0x138aee['maxTextures']),_0x4ea86c+=0x1,_0x56b745;},this['resetTextureUnits']=function(){_0x4ea86c=0x0;},this['setTexture2D']=_0x99fcb5,this['setTexture2DArray']=function(_0x50c93b,_0x1f4ce6){const _0x3a6627=_0x9633d0['get'](_0x50c93b);_0x50c93b['version']>0x0&&_0x3a6627['__version']!==_0x50c93b['version']?_0x59dcb6(_0x3a6627,_0x50c93b,_0x1f4ce6):_0x2623ef['bindTexture'](_0x4be0ce['TEXTURE_2D_ARRAY'],_0x3a6627['__webglTexture'],_0x4be0ce['TEXTURE0']+_0x1f4ce6);},this['setTexture3D']=function(_0x3983eb,_0x25a3e5){const _0x4f02fe=_0x9633d0['get'](_0x3983eb);_0x3983eb['version']>0x0&&_0x4f02fe['__version']!==_0x3983eb['version']?_0x59dcb6(_0x4f02fe,_0x3983eb,_0x25a3e5):_0x2623ef['bindTexture'](_0x4be0ce['TEXTURE_3D'],_0x4f02fe['__webglTexture'],_0x4be0ce['TEXTURE0']+_0x25a3e5);},this['setTextureCube']=function(_0x211ea8,_0x83f635){const _0x3b8b22=_0x9633d0['get'](_0x211ea8);_0x211ea8['version']>0x0&&_0x3b8b22['__version']!==_0x211ea8['version']?function(_0x1935c7,_0x489338,_0x195b0e){if(0x6!==_0x489338['image']['length'])return;const _0x5c69d6=_0x5cf66b(_0x1935c7,_0x489338),_0x43d920=_0x489338['source'];_0x2623ef['bindTexture'](_0x4be0ce['TEXTURE_CUBE_MAP'],_0x1935c7['__webglTexture'],_0x4be0ce['TEXTURE0']+_0x195b0e);const _0x2bd9a7=_0x9633d0['get'](_0x43d920);if(_0x43d920['version']!==_0x2bd9a7['__version']||!0x0===_0x5c69d6){_0x2623ef['activeTexture'](_0x4be0ce['TEXTURE0']+_0x195b0e);const _0x481ad1=_0x42a528['ppV']['getPrimaries'](_0x42a528['ppV']['workingColorSpace']),_0x342903=_0x489338['colorSpace']===_0x42a528['jf0']?null:_0x42a528['ppV']['getPrimaries'](_0x489338['colorSpace']),_0x71dbe5=_0x489338['colorSpace']===_0x42a528['jf0']||_0x481ad1===_0x342903?_0x4be0ce['NONE']:_0x4be0ce['BROWSER_DEFAULT_WEBGL'];_0x4be0ce['pixelStorei'](_0x4be0ce['UNPACK_FLIP_Y_WEBGL'],_0x489338['flipY']),_0x4be0ce['pixelStorei'](_0x4be0ce['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x489338['premultiplyAlpha']),_0x4be0ce['pixelStorei'](_0x4be0ce['UNPACK_ALIGNMENT'],_0x489338['unpackAlignment']),_0x4be0ce['pixelStorei'](_0x4be0ce['UNPACK_COLORSPACE_CONVERSION_WEBGL'],_0x71dbe5);const _0x26c549=_0x489338['isCompressedTexture']||_0x489338['image'][0x0]['isCompressedTexture'],_0x3faa33=_0x489338['image'][0x0]&&_0x489338['image'][0x0]['isDataTexture'],_0x2d31e0=[];for(let _0xdf441c=0x0;_0xdf441c<0x6;_0xdf441c++)_0x2d31e0[_0xdf441c]=_0x26c549||_0x3faa33?_0x3faa33?_0x489338['image'][_0xdf441c]['image']:_0x489338['image'][_0xdf441c]:_0x56b535(_0x489338['image'][_0xdf441c],!0x0,_0x138aee['maxCubemapSize']),_0x2d31e0[_0xdf441c]=_0x16ed98(_0x489338,_0x2d31e0[_0xdf441c]);const _0x5cc83d=_0x2d31e0[0x0],_0x22cc8b=_0x43815b['convert'](_0x489338['format'],_0x489338['colorSpace']),_0x5c979f=_0x43815b['convert'](_0x489338['type']),_0x42e3c5=_0x58f5d0(_0x489338['internalFormat'],_0x22cc8b,_0x5c979f,_0x489338['colorSpace']),_0x5c8314=!0x0!==_0x489338['isVideoTexture'],_0x3696eb=void 0x0===_0x2bd9a7['__version']||!0x0===_0x5c69d6,_0xbfb684=_0x43d920['dataReady'];let _0x590d96,_0x23d833=_0x500ff6(_0x489338,_0x5cc83d);if(_0x368575(_0x4be0ce['TEXTURE_CUBE_MAP'],_0x489338),_0x26c549){_0x5c8314&&_0x3696eb&&_0x2623ef['texStorage2D'](_0x4be0ce['TEXTURE_CUBE_MAP'],_0x23d833,_0x42e3c5,_0x5cc83d['width'],_0x5cc83d['height']);for(let _0x1337e8=0x0;_0x1337e8<0x6;_0x1337e8++){_0x590d96=_0x2d31e0[_0x1337e8]['mipmaps'];for(let _0x316897=0x0;_0x316897<_0x590d96['length'];_0x316897++){const _0x226d83=_0x590d96[_0x316897];_0x489338['format']!==_0x42a528['GWd']?null!==_0x22cc8b?_0x5c8314?_0xbfb684&&_0x2623ef['compressedTexSubImage2D'](_0x4be0ce['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x1337e8,_0x316897,0x0,0x0,_0x226d83['width'],_0x226d83['height'],_0x22cc8b,_0x226d83['data']):_0x2623ef['compressedTexImage2D'](_0x4be0ce['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x1337e8,_0x316897,_0x42e3c5,_0x226d83['width'],_0x226d83['height'],0x0,_0x226d83['data']):console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.setTextureCube()'):_0x5c8314?_0xbfb684&&_0x2623ef['texSubImage2D'](_0x4be0ce['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x1337e8,_0x316897,0x0,0x0,_0x226d83['width'],_0x226d83['height'],_0x22cc8b,_0x5c979f,_0x226d83['data']):_0x2623ef['texImage2D'](_0x4be0ce['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x1337e8,_0x316897,_0x42e3c5,_0x226d83['width'],_0x226d83['height'],0x0,_0x22cc8b,_0x5c979f,_0x226d83['data']);}}}else{if(_0x590d96=_0x489338['mipmaps'],_0x5c8314&&_0x3696eb){_0x590d96['length']>0x0&&_0x23d833++;const _0x227c36=_0x6f02f5(_0x2d31e0[0x0]);_0x2623ef['texStorage2D'](_0x4be0ce['TEXTURE_CUBE_MAP'],_0x23d833,_0x42e3c5,_0x227c36['width'],_0x227c36['height']);}for(let _0x3d05e3=0x0;_0x3d05e3<0x6;_0x3d05e3++)if(_0x3faa33){_0x5c8314?_0xbfb684&&_0x2623ef['texSubImage2D'](_0x4be0ce['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3d05e3,0x0,0x0,0x0,_0x2d31e0[_0x3d05e3]['width'],_0x2d31e0[_0x3d05e3]['height'],_0x22cc8b,_0x5c979f,_0x2d31e0[_0x3d05e3]['data']):_0x2623ef['texImage2D'](_0x4be0ce['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3d05e3,0x0,_0x42e3c5,_0x2d31e0[_0x3d05e3]['width'],_0x2d31e0[_0x3d05e3]['height'],0x0,_0x22cc8b,_0x5c979f,_0x2d31e0[_0x3d05e3]['data']);for(let _0x1c6c2c=0x0;_0x1c6c2c<_0x590d96['length'];_0x1c6c2c++){const _0x1bff0a=_0x590d96[_0x1c6c2c]['image'][_0x3d05e3]['image'];_0x5c8314?_0xbfb684&&_0x2623ef['texSubImage2D'](_0x4be0ce['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3d05e3,_0x1c6c2c+0x1,0x0,0x0,_0x1bff0a['width'],_0x1bff0a['height'],_0x22cc8b,_0x5c979f,_0x1bff0a['data']):_0x2623ef['texImage2D'](_0x4be0ce['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3d05e3,_0x1c6c2c+0x1,_0x42e3c5,_0x1bff0a['width'],_0x1bff0a['height'],0x0,_0x22cc8b,_0x5c979f,_0x1bff0a['data']);}}else{_0x5c8314?_0xbfb684&&_0x2623ef['texSubImage2D'](_0x4be0ce['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3d05e3,0x0,0x0,0x0,_0x22cc8b,_0x5c979f,_0x2d31e0[_0x3d05e3]):_0x2623ef['texImage2D'](_0x4be0ce['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3d05e3,0x0,_0x42e3c5,_0x22cc8b,_0x5c979f,_0x2d31e0[_0x3d05e3]);for(let _0x48ba35=0x0;_0x48ba35<_0x590d96['length'];_0x48ba35++){const _0x21c2e5=_0x590d96[_0x48ba35];_0x5c8314?_0xbfb684&&_0x2623ef['texSubImage2D'](_0x4be0ce['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3d05e3,_0x48ba35+0x1,0x0,0x0,_0x22cc8b,_0x5c979f,_0x21c2e5['image'][_0x3d05e3]):_0x2623ef['texImage2D'](_0x4be0ce['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3d05e3,_0x48ba35+0x1,_0x42e3c5,_0x22cc8b,_0x5c979f,_0x21c2e5['image'][_0x3d05e3]);}}}_0x4ad1a9(_0x489338)&&_0xedcc65(_0x4be0ce['TEXTURE_CUBE_MAP']),_0x2bd9a7['__version']=_0x43d920['version'],_0x489338['onUpdate']&&_0x489338['onUpdate'](_0x489338);}_0x1935c7['__version']=_0x489338['version'];}(_0x3b8b22,_0x211ea8,_0x83f635):_0x2623ef['bindTexture'](_0x4be0ce['TEXTURE_CUBE_MAP'],_0x3b8b22['__webglTexture'],_0x4be0ce['TEXTURE0']+_0x83f635);},this['rebindTextures']=function(_0x2c15f6,_0x4885b9,_0x7fa5ce){const _0x5d93e8=_0x9633d0['get'](_0x2c15f6);void 0x0!==_0x4885b9&&_0x3ce9df(_0x5d93e8['__webglFramebuffer'],_0x2c15f6,_0x2c15f6['texture'],_0x4be0ce['COLOR_ATTACHMENT0'],_0x4be0ce['TEXTURE_2D'],0x0),void 0x0!==_0x7fa5ce&&_0x292b5e(_0x2c15f6);},this['setupRenderTarget']=function(_0x5760eb){const _0xd066ab=_0x5760eb['texture'],_0x510c0f=_0x9633d0['get'](_0x5760eb),_0x13d2bd=_0x9633d0['get'](_0xd066ab);_0x5760eb['addEventListener']('dispose',_0x5d800d);const _0x515fc4=_0x5760eb['textures'],_0x228857=!0x0===_0x5760eb['isWebGLCubeRenderTarget'],_0x455ad6=_0x515fc4['length']>0x1;if(_0x455ad6||(void 0x0===_0x13d2bd['__webglTexture']&&(_0x13d2bd['__webglTexture']=_0x4be0ce['createTexture']()),_0x13d2bd['__version']=_0xd066ab['version'],_0x2eebb5['memory']['textures']++),_0x228857){_0x510c0f['__webglFramebuffer']=[];for(let _0x1df172=0x0;_0x1df172<0x6;_0x1df172++)if(_0xd066ab['mipmaps']&&_0xd066ab['mipmaps']['length']>0x0){_0x510c0f['__webglFramebuffer'][_0x1df172]=[];for(let _0x19af2c=0x0;_0x19af2c<_0xd066ab['mipmaps']['length'];_0x19af2c++)_0x510c0f['__webglFramebuffer'][_0x1df172][_0x19af2c]=_0x4be0ce['createFramebuffer']();}else _0x510c0f['__webglFramebuffer'][_0x1df172]=_0x4be0ce['createFramebuffer']();}else{if(_0xd066ab['mipmaps']&&_0xd066ab['mipmaps']['length']>0x0){_0x510c0f['__webglFramebuffer']=[];for(let _0x368a43=0x0;_0x368a43<_0xd066ab['mipmaps']['length'];_0x368a43++)_0x510c0f['__webglFramebuffer'][_0x368a43]=_0x4be0ce['createFramebuffer']();}else _0x510c0f['__webglFramebuffer']=_0x4be0ce['createFramebuffer']();if(_0x455ad6)for(let _0xe999fd=0x0,_0x11eaf2=_0x515fc4['length'];_0xe999fd<_0x11eaf2;_0xe999fd++){const _0x4be7a1=_0x9633d0['get'](_0x515fc4[_0xe999fd]);void 0x0===_0x4be7a1['__webglTexture']&&(_0x4be7a1['__webglTexture']=_0x4be0ce['createTexture'](),_0x2eebb5['memory']['textures']++);}if(_0x5760eb['samples']>0x0&&!0x1===_0x432c09(_0x5760eb)){_0x510c0f['__webglMultisampledFramebuffer']=_0x4be0ce['createFramebuffer'](),_0x510c0f['__webglColorRenderbuffer']=[],_0x2623ef['bindFramebuffer'](_0x4be0ce['FRAMEBUFFER'],_0x510c0f['__webglMultisampledFramebuffer']);for(let _0xe5407=0x0;_0xe5407<_0x515fc4['length'];_0xe5407++){const _0xd4bdfc=_0x515fc4[_0xe5407];_0x510c0f['__webglColorRenderbuffer'][_0xe5407]=_0x4be0ce['createRenderbuffer'](),_0x4be0ce['bindRenderbuffer'](_0x4be0ce['RENDERBUFFER'],_0x510c0f['__webglColorRenderbuffer'][_0xe5407]);const _0x5d841f=_0x43815b['convert'](_0xd4bdfc['format'],_0xd4bdfc['colorSpace']),_0x577ec=_0x43815b['convert'](_0xd4bdfc['type']),_0x2dcfdc=_0x58f5d0(_0xd4bdfc['internalFormat'],_0x5d841f,_0x577ec,_0xd4bdfc['colorSpace'],!0x0===_0x5760eb['isXRRenderTarget']),_0x38c2b0=_0x2f642b(_0x5760eb);_0x4be0ce['renderbufferStorageMultisample'](_0x4be0ce['RENDERBUFFER'],_0x38c2b0,_0x2dcfdc,_0x5760eb['width'],_0x5760eb['height']),_0x4be0ce['framebufferRenderbuffer'](_0x4be0ce['FRAMEBUFFER'],_0x4be0ce['COLOR_ATTACHMENT0']+_0xe5407,_0x4be0ce['RENDERBUFFER'],_0x510c0f['__webglColorRenderbuffer'][_0xe5407]);}_0x4be0ce['bindRenderbuffer'](_0x4be0ce['RENDERBUFFER'],null),_0x5760eb['depthBuffer']&&(_0x510c0f['__webglDepthRenderbuffer']=_0x4be0ce['createRenderbuffer'](),_0xc90079(_0x510c0f['__webglDepthRenderbuffer'],_0x5760eb,!0x0)),_0x2623ef['bindFramebuffer'](_0x4be0ce['FRAMEBUFFER'],null);}}if(_0x228857){_0x2623ef['bindTexture'](_0x4be0ce['TEXTURE_CUBE_MAP'],_0x13d2bd['__webglTexture']),_0x368575(_0x4be0ce['TEXTURE_CUBE_MAP'],_0xd066ab);for(let _0x442f49=0x0;_0x442f49<0x6;_0x442f49++)if(_0xd066ab['mipmaps']&&_0xd066ab['mipmaps']['length']>0x0){for(let _0x1c7d55=0x0;_0x1c7d55<_0xd066ab['mipmaps']['length'];_0x1c7d55++)_0x3ce9df(_0x510c0f['__webglFramebuffer'][_0x442f49][_0x1c7d55],_0x5760eb,_0xd066ab,_0x4be0ce['COLOR_ATTACHMENT0'],_0x4be0ce['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x442f49,_0x1c7d55);}else _0x3ce9df(_0x510c0f['__webglFramebuffer'][_0x442f49],_0x5760eb,_0xd066ab,_0x4be0ce['COLOR_ATTACHMENT0'],_0x4be0ce['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x442f49,0x0);_0x4ad1a9(_0xd066ab)&&_0xedcc65(_0x4be0ce['TEXTURE_CUBE_MAP']),_0x2623ef['unbindTexture']();}else{if(_0x455ad6){for(let _0xf6c3a=0x0,_0x4be75c=_0x515fc4['length'];_0xf6c3a<_0x4be75c;_0xf6c3a++){const _0xbfa51c=_0x515fc4[_0xf6c3a],_0x4a9f81=_0x9633d0['get'](_0xbfa51c);_0x2623ef['bindTexture'](_0x4be0ce['TEXTURE_2D'],_0x4a9f81['__webglTexture']),_0x368575(_0x4be0ce['TEXTURE_2D'],_0xbfa51c),_0x3ce9df(_0x510c0f['__webglFramebuffer'],_0x5760eb,_0xbfa51c,_0x4be0ce['COLOR_ATTACHMENT0']+_0xf6c3a,_0x4be0ce['TEXTURE_2D'],0x0),_0x4ad1a9(_0xbfa51c)&&_0xedcc65(_0x4be0ce['TEXTURE_2D']);}_0x2623ef['unbindTexture']();}else{let _0x1412ec=_0x4be0ce['TEXTURE_2D'];if((_0x5760eb['isWebGL3DRenderTarget']||_0x5760eb['isWebGLArrayRenderTarget'])&&(_0x1412ec=_0x5760eb['isWebGL3DRenderTarget']?_0x4be0ce['TEXTURE_3D']:_0x4be0ce['TEXTURE_2D_ARRAY']),_0x2623ef['bindTexture'](_0x1412ec,_0x13d2bd['__webglTexture']),_0x368575(_0x1412ec,_0xd066ab),_0xd066ab['mipmaps']&&_0xd066ab['mipmaps']['length']>0x0){for(let _0x25b6a9=0x0;_0x25b6a9<_0xd066ab['mipmaps']['length'];_0x25b6a9++)_0x3ce9df(_0x510c0f['__webglFramebuffer'][_0x25b6a9],_0x5760eb,_0xd066ab,_0x4be0ce['COLOR_ATTACHMENT0'],_0x1412ec,_0x25b6a9);}else _0x3ce9df(_0x510c0f['__webglFramebuffer'],_0x5760eb,_0xd066ab,_0x4be0ce['COLOR_ATTACHMENT0'],_0x1412ec,0x0);_0x4ad1a9(_0xd066ab)&&_0xedcc65(_0x1412ec),_0x2623ef['unbindTexture']();}}_0x5760eb['depthBuffer']&&_0x292b5e(_0x5760eb);},this['updateRenderTargetMipmap']=function(_0x19947d){const _0x214cf2=_0x19947d['textures'];for(let _0x3d1e91=0x0,_0x819dd7=_0x214cf2['length'];_0x3d1e91<_0x819dd7;_0x3d1e91++){const _0x4ecedb=_0x214cf2[_0x3d1e91];if(_0x4ad1a9(_0x4ecedb)){const _0x5d702e=_0x5aa990(_0x19947d),_0x22557d=_0x9633d0['get'](_0x4ecedb)['__webglTexture'];_0x2623ef['bindTexture'](_0x5d702e,_0x22557d),_0xedcc65(_0x5d702e),_0x2623ef['unbindTexture']();}}},this['updateMultisampleRenderTarget']=function(_0x34ce61){if(_0x34ce61['samples']>0x0){if(!0x1===_0x432c09(_0x34ce61)){const _0x57fe43=_0x34ce61['textures'],_0x4a2c81=_0x34ce61['width'],_0x3967c9=_0x34ce61['height'];let _0x2b184a=_0x4be0ce['COLOR_BUFFER_BIT'];const _0xa73e13=_0x34ce61['stencilBuffer']?_0x4be0ce['DEPTH_STENCIL_ATTACHMENT']:_0x4be0ce['DEPTH_ATTACHMENT'],_0x64667a=_0x9633d0['get'](_0x34ce61),_0x13030b=_0x57fe43['length']>0x1;if(_0x13030b){for(let _0x589c90=0x0;_0x589c90<_0x57fe43['length'];_0x589c90++)_0x2623ef['bindFramebuffer'](_0x4be0ce['FRAMEBUFFER'],_0x64667a['__webglMultisampledFramebuffer']),_0x4be0ce['framebufferRenderbuffer'](_0x4be0ce['FRAMEBUFFER'],_0x4be0ce['COLOR_ATTACHMENT0']+_0x589c90,_0x4be0ce['RENDERBUFFER'],null),_0x2623ef['bindFramebuffer'](_0x4be0ce['FRAMEBUFFER'],_0x64667a['__webglFramebuffer']),_0x4be0ce['framebufferTexture2D'](_0x4be0ce['DRAW_FRAMEBUFFER'],_0x4be0ce['COLOR_ATTACHMENT0']+_0x589c90,_0x4be0ce['TEXTURE_2D'],null,0x0);}_0x2623ef['bindFramebuffer'](_0x4be0ce['READ_FRAMEBUFFER'],_0x64667a['__webglMultisampledFramebuffer']),_0x2623ef['bindFramebuffer'](_0x4be0ce['DRAW_FRAMEBUFFER'],_0x64667a['__webglFramebuffer']);for(let _0x30feed=0x0;_0x30feed<_0x57fe43['length'];_0x30feed++){if(_0x34ce61['resolveDepthBuffer']&&(_0x34ce61['depthBuffer']&&(_0x2b184a|=_0x4be0ce['DEPTH_BUFFER_BIT']),_0x34ce61['stencilBuffer']&&_0x34ce61['resolveStencilBuffer']&&(_0x2b184a|=_0x4be0ce['STENCIL_BUFFER_BIT'])),_0x13030b){_0x4be0ce['framebufferRenderbuffer'](_0x4be0ce['READ_FRAMEBUFFER'],_0x4be0ce['COLOR_ATTACHMENT0'],_0x4be0ce['RENDERBUFFER'],_0x64667a['__webglColorRenderbuffer'][_0x30feed]);const _0x240510=_0x9633d0['get'](_0x57fe43[_0x30feed])['__webglTexture'];_0x4be0ce['framebufferTexture2D'](_0x4be0ce['DRAW_FRAMEBUFFER'],_0x4be0ce['COLOR_ATTACHMENT0'],_0x4be0ce['TEXTURE_2D'],_0x240510,0x0);}_0x4be0ce['blitFramebuffer'](0x0,0x0,_0x4a2c81,_0x3967c9,0x0,0x0,_0x4a2c81,_0x3967c9,_0x2b184a,_0x4be0ce['NEAREST']),!0x0===_0x16f3b7&&(_0x60783d['length']=0x0,_0x22b662['length']=0x0,_0x60783d['push'](_0x4be0ce['COLOR_ATTACHMENT0']+_0x30feed),_0x34ce61['depthBuffer']&&!0x1===_0x34ce61['resolveDepthBuffer']&&(_0x60783d['push'](_0xa73e13),_0x22b662['push'](_0xa73e13),_0x4be0ce['invalidateFramebuffer'](_0x4be0ce['DRAW_FRAMEBUFFER'],_0x22b662)),_0x4be0ce['invalidateFramebuffer'](_0x4be0ce['READ_FRAMEBUFFER'],_0x60783d));}if(_0x2623ef['bindFramebuffer'](_0x4be0ce['READ_FRAMEBUFFER'],null),_0x2623ef['bindFramebuffer'](_0x4be0ce['DRAW_FRAMEBUFFER'],null),_0x13030b)for(let _0x100f31=0x0;_0x100f31<_0x57fe43['length'];_0x100f31++){_0x2623ef['bindFramebuffer'](_0x4be0ce['FRAMEBUFFER'],_0x64667a['__webglMultisampledFramebuffer']),_0x4be0ce['framebufferRenderbuffer'](_0x4be0ce['FRAMEBUFFER'],_0x4be0ce['COLOR_ATTACHMENT0']+_0x100f31,_0x4be0ce['RENDERBUFFER'],_0x64667a['__webglColorRenderbuffer'][_0x100f31]);const _0x3f4754=_0x9633d0['get'](_0x57fe43[_0x100f31])['__webglTexture'];_0x2623ef['bindFramebuffer'](_0x4be0ce['FRAMEBUFFER'],_0x64667a['__webglFramebuffer']),_0x4be0ce['framebufferTexture2D'](_0x4be0ce['DRAW_FRAMEBUFFER'],_0x4be0ce['COLOR_ATTACHMENT0']+_0x100f31,_0x4be0ce['TEXTURE_2D'],_0x3f4754,0x0);}_0x2623ef['bindFramebuffer'](_0x4be0ce['DRAW_FRAMEBUFFER'],_0x64667a['__webglMultisampledFramebuffer']);}else{if(_0x34ce61['depthBuffer']&&!0x1===_0x34ce61['resolveDepthBuffer']&&_0x16f3b7){const _0x51c9d4=_0x34ce61['stencilBuffer']?_0x4be0ce['DEPTH_STENCIL_ATTACHMENT']:_0x4be0ce['DEPTH_ATTACHMENT'];_0x4be0ce['invalidateFramebuffer'](_0x4be0ce['DRAW_FRAMEBUFFER'],[_0x51c9d4]);}}}},this['setupDepthRenderbuffer']=_0x292b5e,this['setupFrameBufferTexture']=_0x3ce9df,this['useMultisampledRTT']=_0x432c09;}function _0x2500cb(_0x43a4c6,_0x2d97be){return{'convert':function(_0x42f75e,_0x4cb09e=_0x42a528['jf0']){let _0x410997;const _0x11c414=_0x42a528['ppV']['getTransfer'](_0x4cb09e);if(_0x42f75e===_0x42a528['OUM'])return _0x43a4c6['UNSIGNED_BYTE'];if(_0x42f75e===_0x42a528['Wew'])return _0x43a4c6['UNSIGNED_SHORT_4_4_4_4'];if(_0x42f75e===_0x42a528['gJ2'])return _0x43a4c6['UNSIGNED_SHORT_5_5_5_1'];if(_0x42f75e===_0x42a528['Dmk'])return _0x43a4c6['UNSIGNED_INT_5_9_9_9_REV'];if(_0x42f75e===_0x42a528['tJf'])return _0x43a4c6['BYTE'];if(_0x42f75e===_0x42a528['fBL'])return _0x43a4c6['SHORT'];if(_0x42f75e===_0x42a528['cHt'])return _0x43a4c6['UNSIGNED_SHORT'];if(_0x42f75e===_0x42a528['Yuy'])return _0x43a4c6['INT'];if(_0x42f75e===_0x42a528['bkx'])return _0x43a4c6['UNSIGNED_INT'];if(_0x42f75e===_0x42a528['RQf'])return _0x43a4c6['FLOAT'];if(_0x42f75e===_0x42a528['ix0'])return _0x43a4c6['HALF_FLOAT'];if(_0x42f75e===_0x42a528['wrO'])return _0x43a4c6['ALPHA'];if(_0x42f75e===_0x42a528['HIg'])return _0x43a4c6['RGB'];if(_0x42f75e===_0x42a528['GWd'])return _0x43a4c6['RGBA'];if(_0x42f75e===_0x42a528['Kzv'])return _0x43a4c6['LUMINANCE'];if(_0x42f75e===_0x42a528['CMB'])return _0x43a4c6['LUMINANCE_ALPHA'];if(_0x42f75e===_0x42a528['zdS'])return _0x43a4c6['DEPTH_COMPONENT'];if(_0x42f75e===_0x42a528['dcC'])return _0x43a4c6['DEPTH_STENCIL'];if(_0x42f75e===_0x42a528['VT0'])return _0x43a4c6['RED'];if(_0x42f75e===_0x42a528['ZQM'])return _0x43a4c6['RED_INTEGER'];if(_0x42f75e===_0x42a528['paN'])return _0x43a4c6['RG'];if(_0x42f75e===_0x42a528['TkQ'])return _0x43a4c6['RG_INTEGER'];if(_0x42f75e===_0x42a528['c90'])return _0x43a4c6['RGBA_INTEGER'];if(_0x42f75e===_0x42a528['IE4']||_0x42f75e===_0x42a528['Nz6']||_0x42f75e===_0x42a528['jR7']||_0x42f75e===_0x42a528['BXX']){if(_0x11c414===_0x42a528['KLL']){if(_0x410997=_0x2d97be['get']('WEBGL_compressed_texture_s3tc_srgb'),null===_0x410997)return null;if(_0x42f75e===_0x42a528['IE4'])return _0x410997['COMPRESSED_SRGB_S3TC_DXT1_EXT'];if(_0x42f75e===_0x42a528['Nz6'])return _0x410997['COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT'];if(_0x42f75e===_0x42a528['jR7'])return _0x410997['COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT'];if(_0x42f75e===_0x42a528['BXX'])return _0x410997['COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT'];}else{if(_0x410997=_0x2d97be['get']('WEBGL_compressed_texture_s3tc'),null===_0x410997)return null;if(_0x42f75e===_0x42a528['IE4'])return _0x410997['COMPRESSED_RGB_S3TC_DXT1_EXT'];if(_0x42f75e===_0x42a528['Nz6'])return _0x410997['COMPRESSED_RGBA_S3TC_DXT1_EXT'];if(_0x42f75e===_0x42a528['jR7'])return _0x410997['COMPRESSED_RGBA_S3TC_DXT3_EXT'];if(_0x42f75e===_0x42a528['BXX'])return _0x410997['COMPRESSED_RGBA_S3TC_DXT5_EXT'];}}if(_0x42f75e===_0x42a528['k6Q']||_0x42f75e===_0x42a528['kTp']||_0x42f75e===_0x42a528['HXV']||_0x42f75e===_0x42a528['pBf']){if(_0x410997=_0x2d97be['get']('WEBGL_compressed_texture_pvrtc'),null===_0x410997)return null;if(_0x42f75e===_0x42a528['k6Q'])return _0x410997['COMPRESSED_RGB_PVRTC_4BPPV1_IMG'];if(_0x42f75e===_0x42a528['kTp'])return _0x410997['COMPRESSED_RGB_PVRTC_2BPPV1_IMG'];if(_0x42f75e===_0x42a528['HXV'])return _0x410997['COMPRESSED_RGBA_PVRTC_4BPPV1_IMG'];if(_0x42f75e===_0x42a528['pBf'])return _0x410997['COMPRESSED_RGBA_PVRTC_2BPPV1_IMG'];}if(_0x42f75e===_0x42a528['CVz']||_0x42f75e===_0x42a528['Riy']||_0x42f75e===_0x42a528['KDk']){if(_0x410997=_0x2d97be['get']('WEBGL_compressed_texture_etc'),null===_0x410997)return null;if(_0x42f75e===_0x42a528['CVz']||_0x42f75e===_0x42a528['Riy'])return _0x11c414===_0x42a528['KLL']?_0x410997['COMPRESSED_SRGB8_ETC2']:_0x410997['COMPRESSED_RGB8_ETC2'];if(_0x42f75e===_0x42a528['KDk'])return _0x11c414===_0x42a528['KLL']?_0x410997['COMPRESSED_SRGB8_ALPHA8_ETC2_EAC']:_0x410997['COMPRESSED_RGBA8_ETC2_EAC'];}if(_0x42f75e===_0x42a528['qa3']||_0x42f75e===_0x42a528['B_h']||_0x42f75e===_0x42a528['czI']||_0x42f75e===_0x42a528['rSH']||_0x42f75e===_0x42a528['Qrf']||_0x42f75e===_0x42a528['psI']||_0x42f75e===_0x42a528['a5J']||_0x42f75e===_0x42a528['_QJ']||_0x42f75e===_0x42a528['uB5']||_0x42f75e===_0x42a528['lyL']||_0x42f75e===_0x42a528['bC7']||_0x42f75e===_0x42a528['y3Z']||_0x42f75e===_0x42a528['ojs']||_0x42f75e===_0x42a528['S$4']){if(_0x410997=_0x2d97be['get']('WEBGL_compressed_texture_astc'),null===_0x410997)return null;if(_0x42f75e===_0x42a528['qa3'])return _0x11c414===_0x42a528['KLL']?_0x410997['COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR']:_0x410997['COMPRESSED_RGBA_ASTC_4x4_KHR'];if(_0x42f75e===_0x42a528['B_h'])return _0x11c414===_0x42a528['KLL']?_0x410997['COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR']:_0x410997['COMPRESSED_RGBA_ASTC_5x4_KHR'];if(_0x42f75e===_0x42a528['czI'])return _0x11c414===_0x42a528['KLL']?_0x410997['COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR']:_0x410997['COMPRESSED_RGBA_ASTC_5x5_KHR'];if(_0x42f75e===_0x42a528['rSH'])return _0x11c414===_0x42a528['KLL']?_0x410997['COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR']:_0x410997['COMPRESSED_RGBA_ASTC_6x5_KHR'];if(_0x42f75e===_0x42a528['Qrf'])return _0x11c414===_0x42a528['KLL']?_0x410997['COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR']:_0x410997['COMPRESSED_RGBA_ASTC_6x6_KHR'];if(_0x42f75e===_0x42a528['psI'])return _0x11c414===_0x42a528['KLL']?_0x410997['COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR']:_0x410997['COMPRESSED_RGBA_ASTC_8x5_KHR'];if(_0x42f75e===_0x42a528['a5J'])return _0x11c414===_0x42a528['KLL']?_0x410997['COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR']:_0x410997['COMPRESSED_RGBA_ASTC_8x6_KHR'];if(_0x42f75e===_0x42a528['_QJ'])return _0x11c414===_0x42a528['KLL']?_0x410997['COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR']:_0x410997['COMPRESSED_RGBA_ASTC_8x8_KHR'];if(_0x42f75e===_0x42a528['uB5'])return _0x11c414===_0x42a528['KLL']?_0x410997['COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR']:_0x410997['COMPRESSED_RGBA_ASTC_10x5_KHR'];if(_0x42f75e===_0x42a528['lyL'])return _0x11c414===_0x42a528['KLL']?_0x410997['COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR']:_0x410997['COMPRESSED_RGBA_ASTC_10x6_KHR'];if(_0x42f75e===_0x42a528['bC7'])return _0x11c414===_0x42a528['KLL']?_0x410997['COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR']:_0x410997['COMPRESSED_RGBA_ASTC_10x8_KHR'];if(_0x42f75e===_0x42a528['y3Z'])return _0x11c414===_0x42a528['KLL']?_0x410997['COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR']:_0x410997['COMPRESSED_RGBA_ASTC_10x10_KHR'];if(_0x42f75e===_0x42a528['ojs'])return _0x11c414===_0x42a528['KLL']?_0x410997['COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR']:_0x410997['COMPRESSED_RGBA_ASTC_12x10_KHR'];if(_0x42f75e===_0x42a528['S$4'])return _0x11c414===_0x42a528['KLL']?_0x410997['COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR']:_0x410997['COMPRESSED_RGBA_ASTC_12x12_KHR'];}if(_0x42f75e===_0x42a528['Fn']||_0x42f75e===_0x42a528['H23']||_0x42f75e===_0x42a528['W9U']){if(_0x410997=_0x2d97be['get']('EXT_texture_compression_bptc'),null===_0x410997)return null;if(_0x42f75e===_0x42a528['Fn'])return _0x11c414===_0x42a528['KLL']?_0x410997['COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT']:_0x410997['COMPRESSED_RGBA_BPTC_UNORM_EXT'];if(_0x42f75e===_0x42a528['H23'])return _0x410997['COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT'];if(_0x42f75e===_0x42a528['W9U'])return _0x410997['COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT'];}if(_0x42f75e===_0x42a528['Kef']||_0x42f75e===_0x42a528['XG_']||_0x42f75e===_0x42a528['HO_']||_0x42f75e===_0x42a528['CWW']){if(_0x410997=_0x2d97be['get']('EXT_texture_compression_rgtc'),null===_0x410997)return null;if(_0x42f75e===_0x42a528['Fn'])return _0x410997['COMPRESSED_RED_RGTC1_EXT'];if(_0x42f75e===_0x42a528['XG_'])return _0x410997['COMPRESSED_SIGNED_RED_RGTC1_EXT'];if(_0x42f75e===_0x42a528['HO_'])return _0x410997['COMPRESSED_RED_GREEN_RGTC2_EXT'];if(_0x42f75e===_0x42a528['CWW'])return _0x410997['COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT'];}return _0x42f75e===_0x42a528['V3x']?_0x43a4c6['UNSIGNED_INT_24_8']:void 0x0!==_0x43a4c6[_0x42f75e]?_0x43a4c6[_0x42f75e]:null;}};}const _0x51d9d5={'type':'move'};class _0x38e18d{constructor(){this['_targetRay']=null,this['_grip']=null,this['_hand']=null;}['getHandSpace'](){return null===this['_hand']&&(this['_hand']=new _0x42a528['YJl'](),this['_hand']['matrixAutoUpdate']=!0x1,this['_hand']['visible']=!0x1,this['_hand']['joints']={},this['_hand']['inputState']={'pinching':!0x1}),this['_hand'];}['getTargetRaySpace'](){return null===this['_targetRay']&&(this['_targetRay']=new _0x42a528['YJl'](),this['_targetRay']['matrixAutoUpdate']=!0x1,this['_targetRay']['visible']=!0x1,this['_targetRay']['hasLinearVelocity']=!0x1,this['_targetRay']['linearVelocity']=new _0x42a528['Pq0'](),this['_targetRay']['hasAngularVelocity']=!0x1,this['_targetRay']['angularVelocity']=new _0x42a528['Pq0']()),this['_targetRay'];}['getGripSpace'](){return null===this['_grip']&&(this['_grip']=new _0x42a528['YJl'](),this['_grip']['matrixAutoUpdate']=!0x1,this['_grip']['visible']=!0x1,this['_grip']['hasLinearVelocity']=!0x1,this['_grip']['linearVelocity']=new _0x42a528['Pq0'](),this['_grip']['hasAngularVelocity']=!0x1,this['_grip']['angularVelocity']=new _0x42a528['Pq0']()),this['_grip'];}['dispatchEvent'](_0x7b3f2){return null!==this['_targetRay']&&this['_targetRay']['dispatchEvent'](_0x7b3f2),null!==this['_grip']&&this['_grip']['dispatchEvent'](_0x7b3f2),null!==this['_hand']&&this['_hand']['dispatchEvent'](_0x7b3f2),this;}['connect'](_0x430e6f){if(_0x430e6f&&_0x430e6f['hand']){const _0x508cb5=this['_hand'];if(_0x508cb5){for(const _0x4aa451 of _0x430e6f['hand']['values']())this['_getHandJoint'](_0x508cb5,_0x4aa451);}}return this['dispatchEvent']({'type':'connected','data':_0x430e6f}),this;}['disconnect'](_0x128a71){return this['dispatchEvent']({'type':'disconnected','data':_0x128a71}),null!==this['_targetRay']&&(this['_targetRay']['visible']=!0x1),null!==this['_grip']&&(this['_grip']['visible']=!0x1),null!==this['_hand']&&(this['_hand']['visible']=!0x1),this;}['update'](_0x5906f5,_0x3eddb0,_0x593a99){let _0x414852=null,_0x481d48=null,_0x26063b=null;const _0xbcd5e4=this['_targetRay'],_0x4b09dd=this['_grip'],_0x5767c7=this['_hand'];if(_0x5906f5&&'visible-blurred'!==_0x3eddb0['session']['visibilityState']){if(_0x5767c7&&_0x5906f5['hand']){_0x26063b=!0x0;for(const _0x4b1d24 of _0x5906f5['hand']['values']()){const _0x416f6d=_0x3eddb0['getJointPose'](_0x4b1d24,_0x593a99),_0x57a57d=this['_getHandJoint'](_0x5767c7,_0x4b1d24);null!==_0x416f6d&&(_0x57a57d['matrix']['fromArray'](_0x416f6d['transform']['matrix']),_0x57a57d['matrix']['decompose'](_0x57a57d['position'],_0x57a57d['rotation'],_0x57a57d['scale']),_0x57a57d['matrixWorldNeedsUpdate']=!0x0,_0x57a57d['jointRadius']=_0x416f6d['radius']),_0x57a57d['visible']=null!==_0x416f6d;}const _0x3b2b1e=_0x5767c7['joints']['index-finger-tip'],_0x1d905a=_0x5767c7['joints']['thumb-tip'],_0x54d2fd=_0x3b2b1e['position']['distanceTo'](_0x1d905a['position']),_0x237c52=0.02,_0x9d0d2d=0.005;_0x5767c7['inputState']['pinching']&&_0x54d2fd>_0x237c52+_0x9d0d2d?(_0x5767c7['inputState']['pinching']=!0x1,this['dispatchEvent']({'type':'pinchend','handedness':_0x5906f5['handedness'],'target':this})):!_0x5767c7['inputState']['pinching']&&_0x54d2fd<=_0x237c52-_0x9d0d2d&&(_0x5767c7['inputState']['pinching']=!0x0,this['dispatchEvent']({'type':'pinchstart','handedness':_0x5906f5['handedness'],'target':this}));}else null!==_0x4b09dd&&_0x5906f5['gripSpace']&&(_0x481d48=_0x3eddb0['getPose'](_0x5906f5['gripSpace'],_0x593a99),null!==_0x481d48&&(_0x4b09dd['matrix']['fromArray'](_0x481d48['transform']['matrix']),_0x4b09dd['matrix']['decompose'](_0x4b09dd['position'],_0x4b09dd['rotation'],_0x4b09dd['scale']),_0x4b09dd['matrixWorldNeedsUpdate']=!0x0,_0x481d48['linearVelocity']?(_0x4b09dd['hasLinearVelocity']=!0x0,_0x4b09dd['linearVelocity']['copy'](_0x481d48['linearVelocity'])):_0x4b09dd['hasLinearVelocity']=!0x1,_0x481d48['angularVelocity']?(_0x4b09dd['hasAngularVelocity']=!0x0,_0x4b09dd['angularVelocity']['copy'](_0x481d48['angularVelocity'])):_0x4b09dd['hasAngularVelocity']=!0x1));null!==_0xbcd5e4&&(_0x414852=_0x3eddb0['getPose'](_0x5906f5['targetRaySpace'],_0x593a99),null===_0x414852&&null!==_0x481d48&&(_0x414852=_0x481d48),null!==_0x414852&&(_0xbcd5e4['matrix']['fromArray'](_0x414852['transform']['matrix']),_0xbcd5e4['matrix']['decompose'](_0xbcd5e4['position'],_0xbcd5e4['rotation'],_0xbcd5e4['scale']),_0xbcd5e4['matrixWorldNeedsUpdate']=!0x0,_0x414852['linearVelocity']?(_0xbcd5e4['hasLinearVelocity']=!0x0,_0xbcd5e4['linearVelocity']['copy'](_0x414852['linearVelocity'])):_0xbcd5e4['hasLinearVelocity']=!0x1,_0x414852['angularVelocity']?(_0xbcd5e4['hasAngularVelocity']=!0x0,_0xbcd5e4['angularVelocity']['copy'](_0x414852['angularVelocity'])):_0xbcd5e4['hasAngularVelocity']=!0x1,this['dispatchEvent'](_0x51d9d5)));}return null!==_0xbcd5e4&&(_0xbcd5e4['visible']=null!==_0x414852),null!==_0x4b09dd&&(_0x4b09dd['visible']=null!==_0x481d48),null!==_0x5767c7&&(_0x5767c7['visible']=null!==_0x26063b),this;}['_getHandJoint'](_0x1a3cc0,_0x39d8c9){if(void 0x0===_0x1a3cc0['joints'][_0x39d8c9['jointName']]){const _0xe3decf=new _0x42a528['YJl']();_0xe3decf['matrixAutoUpdate']=!0x1,_0xe3decf['visible']=!0x1,_0x1a3cc0['joints'][_0x39d8c9['jointName']]=_0xe3decf,_0x1a3cc0['add'](_0xe3decf);}return _0x1a3cc0['joints'][_0x39d8c9['jointName']];}}class _0x12971c{constructor(){this['texture']=null,this['mesh']=null,this['depthNear']=0x0,this['depthFar']=0x0;}['init'](_0x39a97b,_0x5c5077,_0x436708){if(null===this['texture']){const _0x5ab5d0=new _0x42a528['gPd']();_0x39a97b['properties']['get'](_0x5ab5d0)['__webglTexture']=_0x5c5077['texture'],_0x5c5077['depthNear']===_0x436708['depthNear']&&_0x5c5077['depthFar']===_0x436708['depthFar']||(this['depthNear']=_0x5c5077['depthNear'],this['depthFar']=_0x5c5077['depthFar']),this['texture']=_0x5ab5d0;}}['getMesh'](_0x47e08f){if(null!==this['texture']&&null===this['mesh']){const _0x14b143=_0x47e08f['cameras'][0x0]['viewport'],_0x5c97e1=new _0x42a528['BKk']({'vertexShader':'\x0avoid\x20main()\x20{\x0a\x0a\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x0a}','fragmentShader':'\x0auniform\x20sampler2DArray\x20depthColor;\x0auniform\x20float\x20depthWidth;\x0auniform\x20float\x20depthHeight;\x0a\x0avoid\x20main()\x20{\x0a\x0a\x09vec2\x20coord\x20=\x20vec2(\x20gl_FragCoord.x\x20/\x20depthWidth,\x20gl_FragCoord.y\x20/\x20depthHeight\x20);\x0a\x0a\x09if\x20(\x20coord.x\x20>=\x201.0\x20)\x20{\x0a\x0a\x09\x09gl_FragDepth\x20=\x20texture(\x20depthColor,\x20vec3(\x20coord.x\x20-\x201.0,\x20coord.y,\x201\x20)\x20).r;\x0a\x0a\x09}\x20else\x20{\x0a\x0a\x09\x09gl_FragDepth\x20=\x20texture(\x20depthColor,\x20vec3(\x20coord.x,\x20coord.y,\x200\x20)\x20).r;\x0a\x0a\x09}\x0a\x0a}','uniforms':{'depthColor':{'value':this['texture']},'depthWidth':{'value':_0x14b143['z']},'depthHeight':{'value':_0x14b143['w']}}});this['mesh']=new _0x42a528['eaF'](new _0x42a528['bdM'](0x14,0x14),_0x5c97e1);}return this['mesh'];}['reset'](){this['texture']=null,this['mesh']=null;}['getDepthTexture'](){return this['texture'];}}class _0x69c3cd extends _0x42a528['Qev']{constructor(_0x315e35,_0x1d3045){super();const _0x4f1323=this;let _0x7d7316=null,_0x1f5764=0x1,_0x3f5864=null,_0x18d0c6='local-floor',_0x97f4c5=0x1,_0x5e5e75=null,_0x209850=null,_0x4c6874=null,_0x7eaf3b=null,_0x272569=null,_0x503645=null;const _0x569ef1=new _0x12971c(),_0x47a76e=_0x1d3045['getContextAttributes']();let _0x2031b0=null,_0x168fc4=null;const _0x1086a6=[],_0x5809b8=[],_0x122c02=new _0x42a528['I9Y']();let _0x3f0b63=null;const _0x3aa979=new _0x42a528['ubm']();_0x3aa979['viewport']=new _0x42a528['IUQ']();const _0x19a97f=new _0x42a528['ubm']();_0x19a97f['viewport']=new _0x42a528['IUQ']();const _0x589829=[_0x3aa979,_0x19a97f],_0x4b6d00=new _0x42a528['nZQ']();let _0x35727a=null,_0x385efd=null;function _0x146250(_0xd7bfac){const _0x399be4=_0x5809b8['indexOf'](_0xd7bfac['inputSource']);if(-0x1===_0x399be4)return;const _0x98eec1=_0x1086a6[_0x399be4];void 0x0!==_0x98eec1&&(_0x98eec1['update'](_0xd7bfac['inputSource'],_0xd7bfac['frame'],_0x5e5e75||_0x3f5864),_0x98eec1['dispatchEvent']({'type':_0xd7bfac['type'],'data':_0xd7bfac['inputSource']}));}function _0x4a7161(){_0x7d7316['removeEventListener']('select',_0x146250),_0x7d7316['removeEventListener']('selectstart',_0x146250),_0x7d7316['removeEventListener']('selectend',_0x146250),_0x7d7316['removeEventListener']('squeeze',_0x146250),_0x7d7316['removeEventListener']('squeezestart',_0x146250),_0x7d7316['removeEventListener']('squeezeend',_0x146250),_0x7d7316['removeEventListener']('end',_0x4a7161),_0x7d7316['removeEventListener']('inputsourceschange',_0x5cd735);for(let _0x58fcb=0x0;_0x58fcb<_0x1086a6['length'];_0x58fcb++){const _0x443348=_0x5809b8[_0x58fcb];null!==_0x443348&&(_0x5809b8[_0x58fcb]=null,_0x1086a6[_0x58fcb]['disconnect'](_0x443348));}_0x35727a=null,_0x385efd=null,_0x569ef1['reset'](),_0x315e35['setRenderTarget'](_0x2031b0),_0x272569=null,_0x7eaf3b=null,_0x4c6874=null,_0x7d7316=null,_0x168fc4=null,_0x3e7729['stop'](),_0x4f1323['isPresenting']=!0x1,_0x315e35['setPixelRatio'](_0x3f0b63),_0x315e35['setSize'](_0x122c02['width'],_0x122c02['height'],!0x1),_0x4f1323['dispatchEvent']({'type':'sessionend'});}function _0x5cd735(_0x4c3883){for(let _0x105886=0x0;_0x105886<_0x4c3883['removed']['length'];_0x105886++){const _0x23dc75=_0x4c3883['removed'][_0x105886],_0x1ee975=_0x5809b8['indexOf'](_0x23dc75);_0x1ee975>=0x0&&(_0x5809b8[_0x1ee975]=null,_0x1086a6[_0x1ee975]['disconnect'](_0x23dc75));}for(let _0x557502=0x0;_0x557502<_0x4c3883['added']['length'];_0x557502++){const _0x4d0e15=_0x4c3883['added'][_0x557502];let _0x491c53=_0x5809b8['indexOf'](_0x4d0e15);if(-0x1===_0x491c53){for(let _0xbe8563=0x0;_0xbe8563<_0x1086a6['length'];_0xbe8563++){if(_0xbe8563>=_0x5809b8['length']){_0x5809b8['push'](_0x4d0e15),_0x491c53=_0xbe8563;break;}if(null===_0x5809b8[_0xbe8563]){_0x5809b8[_0xbe8563]=_0x4d0e15,_0x491c53=_0xbe8563;break;}}if(-0x1===_0x491c53)break;}const _0x337ec3=_0x1086a6[_0x491c53];_0x337ec3&&_0x337ec3['connect'](_0x4d0e15);}}this['cameraAutoUpdate']=!0x0,this['enabled']=!0x1,this['isPresenting']=!0x1,this['getController']=function(_0x269105){let _0x41c506=_0x1086a6[_0x269105];return void 0x0===_0x41c506&&(_0x41c506=new _0x38e18d(),_0x1086a6[_0x269105]=_0x41c506),_0x41c506['getTargetRaySpace']();},this['getControllerGrip']=function(_0x366e59){let _0x150678=_0x1086a6[_0x366e59];return void 0x0===_0x150678&&(_0x150678=new _0x38e18d(),_0x1086a6[_0x366e59]=_0x150678),_0x150678['getGripSpace']();},this['getHand']=function(_0x83fbab){let _0x1eec77=_0x1086a6[_0x83fbab];return void 0x0===_0x1eec77&&(_0x1eec77=new _0x38e18d(),_0x1086a6[_0x83fbab]=_0x1eec77),_0x1eec77['getHandSpace']();},this['setFramebufferScaleFactor']=function(_0xc0c8e){_0x1f5764=_0xc0c8e,!0x0===_0x4f1323['isPresenting']&&console['warn']('THREE.WebXRManager:\x20Cannot\x20change\x20framebuffer\x20scale\x20while\x20presenting.');},this['setReferenceSpaceType']=function(_0x422f94){_0x18d0c6=_0x422f94,!0x0===_0x4f1323['isPresenting']&&console['warn']('THREE.WebXRManager:\x20Cannot\x20change\x20reference\x20space\x20type\x20while\x20presenting.');},this['getReferenceSpace']=function(){return _0x5e5e75||_0x3f5864;},this['setReferenceSpace']=function(_0x2b2a52){_0x5e5e75=_0x2b2a52;},this['getBaseLayer']=function(){return null!==_0x7eaf3b?_0x7eaf3b:_0x272569;},this['getBinding']=function(){return _0x4c6874;},this['getFrame']=function(){return _0x503645;},this['getSession']=function(){return _0x7d7316;},this['setSession']=async function(_0x1096ad){if(_0x7d7316=_0x1096ad,null!==_0x7d7316){_0x2031b0=_0x315e35['getRenderTarget'](),_0x7d7316['addEventListener']('select',_0x146250),_0x7d7316['addEventListener']('selectstart',_0x146250),_0x7d7316['addEventListener']('selectend',_0x146250),_0x7d7316['addEventListener']('squeeze',_0x146250),_0x7d7316['addEventListener']('squeezestart',_0x146250),_0x7d7316['addEventListener']('squeezeend',_0x146250),_0x7d7316['addEventListener']('end',_0x4a7161),_0x7d7316['addEventListener']('inputsourceschange',_0x5cd735),!0x0!==_0x47a76e['xrCompatible']&&await _0x1d3045['makeXRCompatible'](),_0x3f0b63=_0x315e35['getPixelRatio'](),_0x315e35['getSize'](_0x122c02);if(void 0x0!==_0x7d7316['enabledFeatures']&&_0x7d7316['enabledFeatures']['includes']('layers')){let _0x532be1=null,_0x5614ba=null,_0x25b73e=null;_0x47a76e['depth']&&(_0x25b73e=_0x47a76e['stencil']?_0x1d3045['DEPTH24_STENCIL8']:_0x1d3045['DEPTH_COMPONENT24'],_0x532be1=_0x47a76e['stencil']?_0x42a528['dcC']:_0x42a528['zdS'],_0x5614ba=_0x47a76e['stencil']?_0x42a528['V3x']:_0x42a528['bkx']);const _0x1dd903={'colorFormat':_0x1d3045['RGBA8'],'depthFormat':_0x25b73e,'scaleFactor':_0x1f5764};_0x4c6874=new XRWebGLBinding(_0x7d7316,_0x1d3045),_0x7eaf3b=_0x4c6874['createProjectionLayer'](_0x1dd903),_0x7d7316['updateRenderState']({'layers':[_0x7eaf3b]}),_0x315e35['setPixelRatio'](0x1),_0x315e35['setSize'](_0x7eaf3b['textureWidth'],_0x7eaf3b['textureHeight'],!0x1),_0x168fc4=new _0x42a528['nWS'](_0x7eaf3b['textureWidth'],_0x7eaf3b['textureHeight'],{'format':_0x42a528['GWd'],'type':_0x42a528['OUM'],'depthTexture':new _0x42a528['VCu'](_0x7eaf3b['textureWidth'],_0x7eaf3b['textureHeight'],_0x5614ba,void 0x0,void 0x0,void 0x0,void 0x0,void 0x0,void 0x0,_0x532be1),'stencilBuffer':_0x47a76e['stencil'],'colorSpace':_0x315e35['outputColorSpace'],'samples':_0x47a76e['antialias']?0x4:0x0,'resolveDepthBuffer':!0x1===_0x7eaf3b['ignoreDepthValues']});}else{const _0x2e0f92={'antialias':_0x47a76e['antialias'],'alpha':!0x0,'depth':_0x47a76e['depth'],'stencil':_0x47a76e['stencil'],'framebufferScaleFactor':_0x1f5764};_0x272569=new XRWebGLLayer(_0x7d7316,_0x1d3045,_0x2e0f92),_0x7d7316['updateRenderState']({'baseLayer':_0x272569}),_0x315e35['setPixelRatio'](0x1),_0x315e35['setSize'](_0x272569['framebufferWidth'],_0x272569['framebufferHeight'],!0x1),_0x168fc4=new _0x42a528['nWS'](_0x272569['framebufferWidth'],_0x272569['framebufferHeight'],{'format':_0x42a528['GWd'],'type':_0x42a528['OUM'],'colorSpace':_0x315e35['outputColorSpace'],'stencilBuffer':_0x47a76e['stencil']});}_0x168fc4['isXRRenderTarget']=!0x0,this['setFoveation'](_0x97f4c5),_0x5e5e75=null,_0x3f5864=await _0x7d7316['requestReferenceSpace'](_0x18d0c6),_0x3e7729['setContext'](_0x7d7316),_0x3e7729['start'](),_0x4f1323['isPresenting']=!0x0,_0x4f1323['dispatchEvent']({'type':'sessionstart'});}},this['getEnvironmentBlendMode']=function(){if(null!==_0x7d7316)return _0x7d7316['environmentBlendMode'];},this['getDepthTexture']=function(){return _0x569ef1['getDepthTexture']();};const _0x4932e1=new _0x42a528['Pq0'](),_0x6a542=new _0x42a528['Pq0']();function _0x576c90(_0x598cb7,_0x4286f6){null===_0x4286f6?_0x598cb7['matrixWorld']['copy'](_0x598cb7['matrix']):_0x598cb7['matrixWorld']['multiplyMatrices'](_0x4286f6['matrixWorld'],_0x598cb7['matrix']),_0x598cb7['matrixWorldInverse']['copy'](_0x598cb7['matrixWorld'])['invert']();}this['updateCamera']=function(_0x4b42f0){if(null===_0x7d7316)return;let _0x8c7f1=_0x4b42f0['near'],_0x38ca85=_0x4b42f0['far'];null!==_0x569ef1['texture']&&(_0x569ef1['depthNear']>0x0&&(_0x8c7f1=_0x569ef1['depthNear']),_0x569ef1['depthFar']>0x0&&(_0x38ca85=_0x569ef1['depthFar'])),_0x4b6d00['near']=_0x19a97f['near']=_0x3aa979['near']=_0x8c7f1,_0x4b6d00['far']=_0x19a97f['far']=_0x3aa979['far']=_0x38ca85,_0x35727a===_0x4b6d00['near']&&_0x385efd===_0x4b6d00['far']||(_0x7d7316['updateRenderState']({'depthNear':_0x4b6d00['near'],'depthFar':_0x4b6d00['far']}),_0x35727a=_0x4b6d00['near'],_0x385efd=_0x4b6d00['far']),_0x3aa979['layers']['mask']=0x2|_0x4b42f0['layers']['mask'],_0x19a97f['layers']['mask']=0x4|_0x4b42f0['layers']['mask'],_0x4b6d00['layers']['mask']=_0x3aa979['layers']['mask']|_0x19a97f['layers']['mask'];const _0x2b4cb8=_0x4b42f0['parent'],_0x3393b6=_0x4b6d00['cameras'];_0x576c90(_0x4b6d00,_0x2b4cb8);for(let _0x51c1d8=0x0;_0x51c1d8<_0x3393b6['length'];_0x51c1d8++)_0x576c90(_0x3393b6[_0x51c1d8],_0x2b4cb8);0x2===_0x3393b6['length']?function(_0x34f0a5,_0x3e7045,_0x36ffdf){_0x4932e1['setFromMatrixPosition'](_0x3e7045['matrixWorld']),_0x6a542['setFromMatrixPosition'](_0x36ffdf['matrixWorld']);const _0x15eed0=_0x4932e1['distanceTo'](_0x6a542),_0x2e4ece=_0x3e7045['projectionMatrix']['elements'],_0x1077ca=_0x36ffdf['projectionMatrix']['elements'],_0x65283e=_0x2e4ece[0xe]/(_0x2e4ece[0xa]-0x1),_0x4fe631=_0x2e4ece[0xe]/(_0x2e4ece[0xa]+0x1),_0x299beb=(_0x2e4ece[0x9]+0x1)/_0x2e4ece[0x5],_0x467f62=(_0x2e4ece[0x9]-0x1)/_0x2e4ece[0x5],_0x2ba41a=(_0x2e4ece[0x8]-0x1)/_0x2e4ece[0x0],_0xe4aea6=(_0x1077ca[0x8]+0x1)/_0x1077ca[0x0],_0x232369=_0x65283e*_0x2ba41a,_0x26fe4a=_0x65283e*_0xe4aea6,_0x1e5bd8=_0x15eed0/(-_0x2ba41a+_0xe4aea6),_0x4f072e=_0x1e5bd8*-_0x2ba41a;if(_0x3e7045['matrixWorld']['decompose'](_0x34f0a5['position'],_0x34f0a5['quaternion'],_0x34f0a5['scale']),_0x34f0a5['translateX'](_0x4f072e),_0x34f0a5['translateZ'](_0x1e5bd8),_0x34f0a5['matrixWorld']['compose'](_0x34f0a5['position'],_0x34f0a5['quaternion'],_0x34f0a5['scale']),_0x34f0a5['matrixWorldInverse']['copy'](_0x34f0a5['matrixWorld'])['invert'](),-0x1===_0x2e4ece[0xa])_0x34f0a5['projectionMatrix']['copy'](_0x3e7045['projectionMatrix']),_0x34f0a5['projectionMatrixInverse']['copy'](_0x3e7045['projectionMatrixInverse']);else{const _0x104e91=_0x65283e+_0x1e5bd8,_0x1ad95c=_0x4fe631+_0x1e5bd8,_0x180145=_0x232369-_0x4f072e,_0x1519eb=_0x26fe4a+(_0x15eed0-_0x4f072e),_0x2ffd23=_0x299beb*_0x4fe631/_0x1ad95c*_0x104e91,_0x3de874=_0x467f62*_0x4fe631/_0x1ad95c*_0x104e91;_0x34f0a5['projectionMatrix']['makePerspective'](_0x180145,_0x1519eb,_0x2ffd23,_0x3de874,_0x104e91,_0x1ad95c),_0x34f0a5['projectionMatrixInverse']['copy'](_0x34f0a5['projectionMatrix'])['invert']();}}(_0x4b6d00,_0x3aa979,_0x19a97f):_0x4b6d00['projectionMatrix']['copy'](_0x3aa979['projectionMatrix']),function(_0x35b82a,_0x370a80,_0xb65252){null===_0xb65252?_0x35b82a['matrix']['copy'](_0x370a80['matrixWorld']):(_0x35b82a['matrix']['copy'](_0xb65252['matrixWorld']),_0x35b82a['matrix']['invert'](),_0x35b82a['matrix']['multiply'](_0x370a80['matrixWorld'])),(_0x35b82a['matrix']['decompose'](_0x35b82a['position'],_0x35b82a['quaternion'],_0x35b82a['scale']),_0x35b82a['updateMatrixWorld'](!0x0),_0x35b82a['projectionMatrix']['copy'](_0x370a80['projectionMatrix']),_0x35b82a['projectionMatrixInverse']['copy'](_0x370a80['projectionMatrixInverse']),_0x35b82a['isPerspectiveCamera']&&(_0x35b82a['fov']=0x2*_0x42a528['a55']*Math['atan'](0x1/_0x35b82a['projectionMatrix']['elements'][0x5]),_0x35b82a['zoom']=0x1));}(_0x4b42f0,_0x4b6d00,_0x2b4cb8);},this['getCamera']=function(){return _0x4b6d00;},this['getFoveation']=function(){if(null!==_0x7eaf3b||null!==_0x272569)return _0x97f4c5;},this['setFoveation']=function(_0x324123){_0x97f4c5=_0x324123,null!==_0x7eaf3b&&(_0x7eaf3b['fixedFoveation']=_0x324123),null!==_0x272569&&void 0x0!==_0x272569['fixedFoveation']&&(_0x272569['fixedFoveation']=_0x324123);},this['hasDepthSensing']=function(){return null!==_0x569ef1['texture'];},this['getDepthSensingMesh']=function(){return _0x569ef1['getMesh'](_0x4b6d00);};let _0x3fccc2=null;const _0x3e7729=new _0x4d841c();_0x3e7729['setAnimationLoop'](function(_0x2f245b,_0x425300){if(_0x209850=_0x425300['getViewerPose'](_0x5e5e75||_0x3f5864),_0x503645=_0x425300,null!==_0x209850){const _0x344c63=_0x209850['views'];null!==_0x272569&&(_0x315e35['setRenderTargetFramebuffer'](_0x168fc4,_0x272569['framebuffer']),_0x315e35['setRenderTarget'](_0x168fc4));let _0x2c599f=!0x1;_0x344c63['length']!==_0x4b6d00['cameras']['length']&&(_0x4b6d00['cameras']['length']=0x0,_0x2c599f=!0x0);for(let _0x15d548=0x0;_0x15d548<_0x344c63['length'];_0x15d548++){const _0x5435b9=_0x344c63[_0x15d548];let _0x4b2319=null;if(null!==_0x272569)_0x4b2319=_0x272569['getViewport'](_0x5435b9);else{const _0x3629de=_0x4c6874['getViewSubImage'](_0x7eaf3b,_0x5435b9);_0x4b2319=_0x3629de['viewport'],0x0===_0x15d548&&(_0x315e35['setRenderTargetTextures'](_0x168fc4,_0x3629de['colorTexture'],_0x7eaf3b['ignoreDepthValues']?void 0x0:_0x3629de['depthStencilTexture']),_0x315e35['setRenderTarget'](_0x168fc4));}let _0x2406fb=_0x589829[_0x15d548];void 0x0===_0x2406fb&&(_0x2406fb=new _0x42a528['ubm'](),_0x2406fb['layers']['enable'](_0x15d548),_0x2406fb['viewport']=new _0x42a528['IUQ'](),_0x589829[_0x15d548]=_0x2406fb),_0x2406fb['matrix']['fromArray'](_0x5435b9['transform']['matrix']),_0x2406fb['matrix']['decompose'](_0x2406fb['position'],_0x2406fb['quaternion'],_0x2406fb['scale']),_0x2406fb['projectionMatrix']['fromArray'](_0x5435b9['projectionMatrix']),_0x2406fb['projectionMatrixInverse']['copy'](_0x2406fb['projectionMatrix'])['invert'](),_0x2406fb['viewport']['set'](_0x4b2319['x'],_0x4b2319['y'],_0x4b2319['width'],_0x4b2319['height']),0x0===_0x15d548&&(_0x4b6d00['matrix']['copy'](_0x2406fb['matrix']),_0x4b6d00['matrix']['decompose'](_0x4b6d00['position'],_0x4b6d00['quaternion'],_0x4b6d00['scale'])),!0x0===_0x2c599f&&_0x4b6d00['cameras']['push'](_0x2406fb);}const _0x1af9d2=_0x7d7316['enabledFeatures'];if(_0x1af9d2&&_0x1af9d2['includes']('depth-sensing')){const _0x2c6cdb=_0x4c6874['getDepthInformation'](_0x344c63[0x0]);_0x2c6cdb&&_0x2c6cdb['isValid']&&_0x2c6cdb['texture']&&_0x569ef1['init'](_0x315e35,_0x2c6cdb,_0x7d7316['renderState']);}}for(let _0x1c8df9=0x0;_0x1c8df9<_0x1086a6['length'];_0x1c8df9++){const _0x30dac9=_0x5809b8[_0x1c8df9],_0x24e15e=_0x1086a6[_0x1c8df9];null!==_0x30dac9&&void 0x0!==_0x24e15e&&_0x24e15e['update'](_0x30dac9,_0x425300,_0x5e5e75||_0x3f5864);}_0x3fccc2&&_0x3fccc2(_0x2f245b,_0x425300),_0x425300['detectedPlanes']&&_0x4f1323['dispatchEvent']({'type':'planesdetected','data':_0x425300}),_0x503645=null;}),this['setAnimationLoop']=function(_0x17cbda){_0x3fccc2=_0x17cbda;},this['dispose']=function(){};}}const _0x4aecfd=new _0x42a528['O9p'](),_0x343260=new _0x42a528['kn4']();function _0xccab38(_0x54dc0b,_0x256766){function _0x20883a(_0x35ba70,_0x534f97){!0x0===_0x35ba70['matrixAutoUpdate']&&_0x35ba70['updateMatrix'](),_0x534f97['value']['copy'](_0x35ba70['matrix']);}function _0x144cf9(_0xfda830,_0x42a8b6){_0xfda830['opacity']['value']=_0x42a8b6['opacity'],_0x42a8b6['color']&&_0xfda830['diffuse']['value']['copy'](_0x42a8b6['color']),_0x42a8b6['emissive']&&_0xfda830['emissive']['value']['copy'](_0x42a8b6['emissive'])['multiplyScalar'](_0x42a8b6['emissiveIntensity']),_0x42a8b6['map']&&(_0xfda830['map']['value']=_0x42a8b6['map'],_0x20883a(_0x42a8b6['map'],_0xfda830['mapTransform'])),_0x42a8b6['alphaMap']&&(_0xfda830['alphaMap']['value']=_0x42a8b6['alphaMap'],_0x20883a(_0x42a8b6['alphaMap'],_0xfda830['alphaMapTransform'])),_0x42a8b6['bumpMap']&&(_0xfda830['bumpMap']['value']=_0x42a8b6['bumpMap'],_0x20883a(_0x42a8b6['bumpMap'],_0xfda830['bumpMapTransform']),_0xfda830['bumpScale']['value']=_0x42a8b6['bumpScale'],_0x42a8b6['side']===_0x42a528['hsX']&&(_0xfda830['bumpScale']['value']*=-0x1)),_0x42a8b6['normalMap']&&(_0xfda830['normalMap']['value']=_0x42a8b6['normalMap'],_0x20883a(_0x42a8b6['normalMap'],_0xfda830['normalMapTransform']),_0xfda830['normalScale']['value']['copy'](_0x42a8b6['normalScale']),_0x42a8b6['side']===_0x42a528['hsX']&&_0xfda830['normalScale']['value']['negate']()),_0x42a8b6['displacementMap']&&(_0xfda830['displacementMap']['value']=_0x42a8b6['displacementMap'],_0x20883a(_0x42a8b6['displacementMap'],_0xfda830['displacementMapTransform']),_0xfda830['displacementScale']['value']=_0x42a8b6['displacementScale'],_0xfda830['displacementBias']['value']=_0x42a8b6['displacementBias']),_0x42a8b6['emissiveMap']&&(_0xfda830['emissiveMap']['value']=_0x42a8b6['emissiveMap'],_0x20883a(_0x42a8b6['emissiveMap'],_0xfda830['emissiveMapTransform'])),_0x42a8b6['specularMap']&&(_0xfda830['specularMap']['value']=_0x42a8b6['specularMap'],_0x20883a(_0x42a8b6['specularMap'],_0xfda830['specularMapTransform'])),_0x42a8b6['alphaTest']>0x0&&(_0xfda830['alphaTest']['value']=_0x42a8b6['alphaTest']);const _0x19a8f3=_0x256766['get'](_0x42a8b6),_0x58531b=_0x19a8f3['envMap'],_0x4ecb2b=_0x19a8f3['envMapRotation'];_0x58531b&&(_0xfda830['envMap']['value']=_0x58531b,_0x4aecfd['copy'](_0x4ecb2b),_0x4aecfd['x']*=-0x1,_0x4aecfd['y']*=-0x1,_0x4aecfd['z']*=-0x1,_0x58531b['isCubeTexture']&&!0x1===_0x58531b['isRenderTargetTexture']&&(_0x4aecfd['y']*=-0x1,_0x4aecfd['z']*=-0x1),_0xfda830['envMapRotation']['value']['setFromMatrix4'](_0x343260['makeRotationFromEuler'](_0x4aecfd)),_0xfda830['flipEnvMap']['value']=_0x58531b['isCubeTexture']&&!0x1===_0x58531b['isRenderTargetTexture']?-0x1:0x1,_0xfda830['reflectivity']['value']=_0x42a8b6['reflectivity'],_0xfda830['ior']['value']=_0x42a8b6['ior'],_0xfda830['refractionRatio']['value']=_0x42a8b6['refractionRatio']),_0x42a8b6['lightMap']&&(_0xfda830['lightMap']['value']=_0x42a8b6['lightMap'],_0xfda830['lightMapIntensity']['value']=_0x42a8b6['lightMapIntensity'],_0x20883a(_0x42a8b6['lightMap'],_0xfda830['lightMapTransform'])),_0x42a8b6['aoMap']&&(_0xfda830['aoMap']['value']=_0x42a8b6['aoMap'],_0xfda830['aoMapIntensity']['value']=_0x42a8b6['aoMapIntensity'],_0x20883a(_0x42a8b6['aoMap'],_0xfda830['aoMapTransform']));}return{'refreshFogUniforms':function(_0x3f2091,_0x4802ed){_0x4802ed['color']['getRGB'](_0x3f2091['fogColor']['value'],(0x0,_0x42a528['_Ut'])(_0x54dc0b)),_0x4802ed['isFog']?(_0x3f2091['fogNear']['value']=_0x4802ed['near'],_0x3f2091['fogFar']['value']=_0x4802ed['far']):_0x4802ed['isFogExp2']&&(_0x3f2091['fogDensity']['value']=_0x4802ed['density']);},'refreshMaterialUniforms':function(_0xbd048e,_0x405992,_0x41e83d,_0x5f00d0,_0x1d76d5){_0x405992['isMeshBasicMaterial']||_0x405992['isMeshLambertMaterial']?_0x144cf9(_0xbd048e,_0x405992):_0x405992['isMeshToonMaterial']?(_0x144cf9(_0xbd048e,_0x405992),function(_0x5e3d7e,_0x481ed0){_0x481ed0['gradientMap']&&(_0x5e3d7e['gradientMap']['value']=_0x481ed0['gradientMap']);}(_0xbd048e,_0x405992)):_0x405992['isMeshPhongMaterial']?(_0x144cf9(_0xbd048e,_0x405992),function(_0x333c61,_0x39b567){_0x333c61['specular']['value']['copy'](_0x39b567['specular']),_0x333c61['shininess']['value']=Math['max'](_0x39b567['shininess'],0.0001);}(_0xbd048e,_0x405992)):_0x405992['isMeshStandardMaterial']?(_0x144cf9(_0xbd048e,_0x405992),function(_0x3ae4f3,_0x316c08){_0x3ae4f3['metalness']['value']=_0x316c08['metalness'],_0x316c08['metalnessMap']&&(_0x3ae4f3['metalnessMap']['value']=_0x316c08['metalnessMap'],_0x20883a(_0x316c08['metalnessMap'],_0x3ae4f3['metalnessMapTransform'])),(_0x3ae4f3['roughness']['value']=_0x316c08['roughness'],_0x316c08['roughnessMap']&&(_0x3ae4f3['roughnessMap']['value']=_0x316c08['roughnessMap'],_0x20883a(_0x316c08['roughnessMap'],_0x3ae4f3['roughnessMapTransform']))),_0x316c08['envMap']&&(_0x3ae4f3['envMapIntensity']['value']=_0x316c08['envMapIntensity']);}(_0xbd048e,_0x405992),_0x405992['isMeshPhysicalMaterial']&&function(_0x10a97b,_0x539661,_0x542cbb){_0x10a97b['ior']['value']=_0x539661['ior'],_0x539661['sheen']>0x0&&(_0x10a97b['sheenColor']['value']['copy'](_0x539661['sheenColor'])['multiplyScalar'](_0x539661['sheen']),_0x10a97b['sheenRoughness']['value']=_0x539661['sheenRoughness'],_0x539661['sheenColorMap']&&(_0x10a97b['sheenColorMap']['value']=_0x539661['sheenColorMap'],_0x20883a(_0x539661['sheenColorMap'],_0x10a97b['sheenColorMapTransform'])),_0x539661['sheenRoughnessMap']&&(_0x10a97b['sheenRoughnessMap']['value']=_0x539661['sheenRoughnessMap'],_0x20883a(_0x539661['sheenRoughnessMap'],_0x10a97b['sheenRoughnessMapTransform']))),_0x539661['clearcoat']>0x0&&(_0x10a97b['clearcoat']['value']=_0x539661['clearcoat'],_0x10a97b['clearcoatRoughness']['value']=_0x539661['clearcoatRoughness'],_0x539661['clearcoatMap']&&(_0x10a97b['clearcoatMap']['value']=_0x539661['clearcoatMap'],_0x20883a(_0x539661['clearcoatMap'],_0x10a97b['clearcoatMapTransform'])),_0x539661['clearcoatRoughnessMap']&&(_0x10a97b['clearcoatRoughnessMap']['value']=_0x539661['clearcoatRoughnessMap'],_0x20883a(_0x539661['clearcoatRoughnessMap'],_0x10a97b['clearcoatRoughnessMapTransform'])),_0x539661['clearcoatNormalMap']&&(_0x10a97b['clearcoatNormalMap']['value']=_0x539661['clearcoatNormalMap'],_0x20883a(_0x539661['clearcoatNormalMap'],_0x10a97b['clearcoatNormalMapTransform']),_0x10a97b['clearcoatNormalScale']['value']['copy'](_0x539661['clearcoatNormalScale']),_0x539661['side']===_0x42a528['hsX']&&_0x10a97b['clearcoatNormalScale']['value']['negate']())),_0x539661['dispersion']>0x0&&(_0x10a97b['dispersion']['value']=_0x539661['dispersion']),_0x539661['iridescence']>0x0&&(_0x10a97b['iridescence']['value']=_0x539661['iridescence'],_0x10a97b['iridescenceIOR']['value']=_0x539661['iridescenceIOR'],_0x10a97b['iridescenceThicknessMinimum']['value']=_0x539661['iridescenceThicknessRange'][0x0],_0x10a97b['iridescenceThicknessMaximum']['value']=_0x539661['iridescenceThicknessRange'][0x1],_0x539661['iridescenceMap']&&(_0x10a97b['iridescenceMap']['value']=_0x539661['iridescenceMap'],_0x20883a(_0x539661['iridescenceMap'],_0x10a97b['iridescenceMapTransform'])),_0x539661['iridescenceThicknessMap']&&(_0x10a97b['iridescenceThicknessMap']['value']=_0x539661['iridescenceThicknessMap'],_0x20883a(_0x539661['iridescenceThicknessMap'],_0x10a97b['iridescenceThicknessMapTransform']))),_0x539661['transmission']>0x0&&(_0x10a97b['transmission']['value']=_0x539661['transmission'],_0x10a97b['transmissionSamplerMap']['value']=_0x542cbb['texture'],_0x10a97b['transmissionSamplerSize']['value']['set'](_0x542cbb['width'],_0x542cbb['height']),_0x539661['transmissionMap']&&(_0x10a97b['transmissionMap']['value']=_0x539661['transmissionMap'],_0x20883a(_0x539661['transmissionMap'],_0x10a97b['transmissionMapTransform'])),_0x10a97b['thickness']['value']=_0x539661['thickness'],_0x539661['thicknessMap']&&(_0x10a97b['thicknessMap']['value']=_0x539661['thicknessMap'],_0x20883a(_0x539661['thicknessMap'],_0x10a97b['thicknessMapTransform'])),_0x10a97b['attenuationDistance']['value']=_0x539661['attenuationDistance'],_0x10a97b['attenuationColor']['value']['copy'](_0x539661['attenuationColor'])),_0x539661['anisotropy']>0x0&&(_0x10a97b['anisotropyVector']['value']['set'](_0x539661['anisotropy']*Math['cos'](_0x539661['anisotropyRotation']),_0x539661['anisotropy']*Math['sin'](_0x539661['anisotropyRotation'])),_0x539661['anisotropyMap']&&(_0x10a97b['anisotropyMap']['value']=_0x539661['anisotropyMap'],_0x20883a(_0x539661['anisotropyMap'],_0x10a97b['anisotropyMapTransform']))),(_0x10a97b['specularIntensity']['value']=_0x539661['specularIntensity'],_0x10a97b['specularColor']['value']['copy'](_0x539661['specularColor']),_0x539661['specularColorMap']&&(_0x10a97b['specularColorMap']['value']=_0x539661['specularColorMap'],_0x20883a(_0x539661['specularColorMap'],_0x10a97b['specularColorMapTransform']))),_0x539661['specularIntensityMap']&&(_0x10a97b['specularIntensityMap']['value']=_0x539661['specularIntensityMap'],_0x20883a(_0x539661['specularIntensityMap'],_0x10a97b['specularIntensityMapTransform']));}(_0xbd048e,_0x405992,_0x1d76d5)):_0x405992['isMeshMatcapMaterial']?(_0x144cf9(_0xbd048e,_0x405992),function(_0x52ddd1,_0x9c7b17){_0x9c7b17['matcap']&&(_0x52ddd1['matcap']['value']=_0x9c7b17['matcap']);}(_0xbd048e,_0x405992)):_0x405992['isMeshDepthMaterial']?_0x144cf9(_0xbd048e,_0x405992):_0x405992['isMeshDistanceMaterial']?(_0x144cf9(_0xbd048e,_0x405992),function(_0x3377ad,_0xe4562){const _0x1426fe=_0x256766['get'](_0xe4562)['light'];_0x3377ad['referencePosition']['value']['setFromMatrixPosition'](_0x1426fe['matrixWorld']),_0x3377ad['nearDistance']['value']=_0x1426fe['shadow']['camera']['near'],_0x3377ad['farDistance']['value']=_0x1426fe['shadow']['camera']['far'];}(_0xbd048e,_0x405992)):_0x405992['isMeshNormalMaterial']?_0x144cf9(_0xbd048e,_0x405992):_0x405992['isLineBasicMaterial']?(function(_0x3af6d6,_0x533149){_0x3af6d6['diffuse']['value']['copy'](_0x533149['color']),_0x3af6d6['opacity']['value']=_0x533149['opacity'],_0x533149['map']&&(_0x3af6d6['map']['value']=_0x533149['map'],_0x20883a(_0x533149['map'],_0x3af6d6['mapTransform']));}(_0xbd048e,_0x405992),_0x405992['isLineDashedMaterial']&&function(_0x4f7be8,_0x34a90e){_0x4f7be8['dashSize']['value']=_0x34a90e['dashSize'],_0x4f7be8['totalSize']['value']=_0x34a90e['dashSize']+_0x34a90e['gapSize'],_0x4f7be8['scale']['value']=_0x34a90e['scale'];}(_0xbd048e,_0x405992)):_0x405992['isPointsMaterial']?function(_0x10ac4b,_0x3056e7,_0x3d7444,_0x27274f){_0x10ac4b['diffuse']['value']['copy'](_0x3056e7['color']),_0x10ac4b['opacity']['value']=_0x3056e7['opacity'],_0x10ac4b['size']['value']=_0x3056e7['size']*_0x3d7444,_0x10ac4b['scale']['value']=0.5*_0x27274f,_0x3056e7['map']&&(_0x10ac4b['map']['value']=_0x3056e7['map'],_0x20883a(_0x3056e7['map'],_0x10ac4b['uvTransform'])),_0x3056e7['alphaMap']&&(_0x10ac4b['alphaMap']['value']=_0x3056e7['alphaMap'],_0x20883a(_0x3056e7['alphaMap'],_0x10ac4b['alphaMapTransform'])),_0x3056e7['alphaTest']>0x0&&(_0x10ac4b['alphaTest']['value']=_0x3056e7['alphaTest']);}(_0xbd048e,_0x405992,_0x41e83d,_0x5f00d0):_0x405992['isSpriteMaterial']?function(_0x1adbd7,_0x499f72){_0x1adbd7['diffuse']['value']['copy'](_0x499f72['color']),_0x1adbd7['opacity']['value']=_0x499f72['opacity'],_0x1adbd7['rotation']['value']=_0x499f72['rotation'],_0x499f72['map']&&(_0x1adbd7['map']['value']=_0x499f72['map'],_0x20883a(_0x499f72['map'],_0x1adbd7['mapTransform'])),_0x499f72['alphaMap']&&(_0x1adbd7['alphaMap']['value']=_0x499f72['alphaMap'],_0x20883a(_0x499f72['alphaMap'],_0x1adbd7['alphaMapTransform'])),_0x499f72['alphaTest']>0x0&&(_0x1adbd7['alphaTest']['value']=_0x499f72['alphaTest']);}(_0xbd048e,_0x405992):_0x405992['isShadowMaterial']?(_0xbd048e['color']['value']['copy'](_0x405992['color']),_0xbd048e['opacity']['value']=_0x405992['opacity']):_0x405992['isShaderMaterial']&&(_0x405992['uniformsNeedUpdate']=!0x1);}};}function _0xc1fb57(_0x143d98,_0x5b0848,_0x43f6ab,_0x25dfcb){let _0x5a773d={},_0x502242={},_0x37178c=[];const _0x46fcc2=_0x143d98['getParameter'](_0x143d98['MAX_UNIFORM_BUFFER_BINDINGS']);function _0x3408e6(_0x42fb12,_0x2483e9,_0x64a3f3,_0x3d4689){const _0x11c56d=_0x42fb12['value'],_0x6351a4=_0x2483e9+'_'+_0x64a3f3;if(void 0x0===_0x3d4689[_0x6351a4])return _0x3d4689[_0x6351a4]='number'==typeof _0x11c56d||'boolean'==typeof _0x11c56d?_0x11c56d:_0x11c56d['clone'](),!0x0;{const _0x184ed9=_0x3d4689[_0x6351a4];if('number'==typeof _0x11c56d||'boolean'==typeof _0x11c56d){if(_0x184ed9!==_0x11c56d)return _0x3d4689[_0x6351a4]=_0x11c56d,!0x0;}else{if(!0x1===_0x184ed9['equals'](_0x11c56d))return _0x184ed9['copy'](_0x11c56d),!0x0;}}return!0x1;}function _0x161d8f(_0x5a4941){const _0x4b23b4={'boundary':0x0,'storage':0x0};return'number'==typeof _0x5a4941||'boolean'==typeof _0x5a4941?(_0x4b23b4['boundary']=0x4,_0x4b23b4['storage']=0x4):_0x5a4941['isVector2']?(_0x4b23b4['boundary']=0x8,_0x4b23b4['storage']=0x8):_0x5a4941['isVector3']||_0x5a4941['isColor']?(_0x4b23b4['boundary']=0x10,_0x4b23b4['storage']=0xc):_0x5a4941['isVector4']?(_0x4b23b4['boundary']=0x10,_0x4b23b4['storage']=0x10):_0x5a4941['isMatrix3']?(_0x4b23b4['boundary']=0x30,_0x4b23b4['storage']=0x30):_0x5a4941['isMatrix4']?(_0x4b23b4['boundary']=0x40,_0x4b23b4['storage']=0x40):_0x5a4941['isTexture']?console['warn']('THREE.WebGLRenderer:\x20Texture\x20samplers\x20can\x20not\x20be\x20part\x20of\x20an\x20uniforms\x20group.'):console['warn']('THREE.WebGLRenderer:\x20Unsupported\x20uniform\x20value\x20type.',_0x5a4941),_0x4b23b4;}function _0x2478ba(_0x597e5b){const _0x5c6933=_0x597e5b['target'];_0x5c6933['removeEventListener']('dispose',_0x2478ba);const _0x24d705=_0x37178c['indexOf'](_0x5c6933['__bindingPointIndex']);_0x37178c['splice'](_0x24d705,0x1),_0x143d98['deleteBuffer'](_0x5a773d[_0x5c6933['id']]),delete _0x5a773d[_0x5c6933['id']],delete _0x502242[_0x5c6933['id']];}return{'bind':function(_0x4e3a57,_0x149bbe){const _0xd2627b=_0x149bbe['program'];_0x25dfcb['uniformBlockBinding'](_0x4e3a57,_0xd2627b);},'update':function(_0x5bb216,_0x156364){let _0x22d278=_0x5a773d[_0x5bb216['id']];void 0x0===_0x22d278&&(!function(_0x1288b6){const _0x3fdbb1=_0x1288b6['uniforms'];let _0x3cebfc=0x0;const _0x917f=0x10;for(let _0x591556=0x0,_0x168c84=_0x3fdbb1['length'];_0x591556<_0x168c84;_0x591556++){const _0x4391b5=Array['isArray'](_0x3fdbb1[_0x591556])?_0x3fdbb1[_0x591556]:[_0x3fdbb1[_0x591556]];for(let _0x19836b=0x0,_0x3c6518=_0x4391b5['length'];_0x19836b<_0x3c6518;_0x19836b++){const _0x527478=_0x4391b5[_0x19836b],_0x30b2a4=Array['isArray'](_0x527478['value'])?_0x527478['value']:[_0x527478['value']];for(let _0x23ce94=0x0,_0x5b497e=_0x30b2a4['length'];_0x23ce94<_0x5b497e;_0x23ce94++){const _0x29b35=_0x161d8f(_0x30b2a4[_0x23ce94]),_0x1af9c3=_0x3cebfc%_0x917f,_0x5d4da9=_0x1af9c3%_0x29b35['boundary'],_0x41732f=_0x1af9c3+_0x5d4da9;_0x3cebfc+=_0x5d4da9,0x0!==_0x41732f&&_0x917f-_0x41732f<_0x29b35['storage']&&(_0x3cebfc+=_0x917f-_0x41732f),_0x527478['__data']=new Float32Array(_0x29b35['storage']/Float32Array['BYTES_PER_ELEMENT']),_0x527478['__offset']=_0x3cebfc,_0x3cebfc+=_0x29b35['storage'];}}}const _0x2eff59=_0x3cebfc%_0x917f;_0x2eff59>0x0&&(_0x3cebfc+=_0x917f-_0x2eff59),(_0x1288b6['__size']=_0x3cebfc,_0x1288b6['__cache']={});}(_0x5bb216),_0x22d278=function(_0x27ee5e){const _0x58c946=(function(){for(let _0x5a9c25=0x0;_0x5a9c25<_0x46fcc2;_0x5a9c25++)if(-0x1===_0x37178c['indexOf'](_0x5a9c25))return _0x37178c['push'](_0x5a9c25),_0x5a9c25;return console['error']('THREE.WebGLRenderer:\x20Maximum\x20number\x20of\x20simultaneously\x20usable\x20uniforms\x20groups\x20reached.'),0x0;}());_0x27ee5e['__bindingPointIndex']=_0x58c946;const _0x3b09e8=_0x143d98['createBuffer'](),_0xcd7195=_0x27ee5e['__size'],_0x4e0c1f=_0x27ee5e['usage'];return _0x143d98['bindBuffer'](_0x143d98['UNIFORM_BUFFER'],_0x3b09e8),_0x143d98['bufferData'](_0x143d98['UNIFORM_BUFFER'],_0xcd7195,_0x4e0c1f),_0x143d98['bindBuffer'](_0x143d98['UNIFORM_BUFFER'],null),_0x143d98['bindBufferBase'](_0x143d98['UNIFORM_BUFFER'],_0x58c946,_0x3b09e8),_0x3b09e8;}(_0x5bb216),_0x5a773d[_0x5bb216['id']]=_0x22d278,_0x5bb216['addEventListener']('dispose',_0x2478ba));const _0x9da0e9=_0x156364['program'];_0x25dfcb['updateUBOMapping'](_0x5bb216,_0x9da0e9);const _0x3e1831=_0x5b0848['render']['frame'];_0x502242[_0x5bb216['id']]!==_0x3e1831&&(!function(_0x1b2d3){const _0x2b32fd=_0x5a773d[_0x1b2d3['id']],_0x3ddb9b=_0x1b2d3['uniforms'],_0x393744=_0x1b2d3['__cache'];_0x143d98['bindBuffer'](_0x143d98['UNIFORM_BUFFER'],_0x2b32fd);for(let _0x27209e=0x0,_0x4e114f=_0x3ddb9b['length'];_0x27209e<_0x4e114f;_0x27209e++){const _0x29d999=Array['isArray'](_0x3ddb9b[_0x27209e])?_0x3ddb9b[_0x27209e]:[_0x3ddb9b[_0x27209e]];for(let _0x305801=0x0,_0x255231=_0x29d999['length'];_0x305801<_0x255231;_0x305801++){const _0x150967=_0x29d999[_0x305801];if(!0x0===_0x3408e6(_0x150967,_0x27209e,_0x305801,_0x393744)){const _0xa3d8a6=_0x150967['__offset'],_0x10bac3=Array['isArray'](_0x150967['value'])?_0x150967['value']:[_0x150967['value']];let _0x284837=0x0;for(let _0x19e47e=0x0;_0x19e47e<_0x10bac3['length'];_0x19e47e++){const _0x6c6b98=_0x10bac3[_0x19e47e],_0x398d8c=_0x161d8f(_0x6c6b98);'number'==typeof _0x6c6b98||'boolean'==typeof _0x6c6b98?(_0x150967['__data'][0x0]=_0x6c6b98,_0x143d98['bufferSubData'](_0x143d98['UNIFORM_BUFFER'],_0xa3d8a6+_0x284837,_0x150967['__data'])):_0x6c6b98['isMatrix3']?(_0x150967['__data'][0x0]=_0x6c6b98['elements'][0x0],_0x150967['__data'][0x1]=_0x6c6b98['elements'][0x1],_0x150967['__data'][0x2]=_0x6c6b98['elements'][0x2],_0x150967['__data'][0x3]=0x0,_0x150967['__data'][0x4]=_0x6c6b98['elements'][0x3],_0x150967['__data'][0x5]=_0x6c6b98['elements'][0x4],_0x150967['__data'][0x6]=_0x6c6b98['elements'][0x5],_0x150967['__data'][0x7]=0x0,_0x150967['__data'][0x8]=_0x6c6b98['elements'][0x6],_0x150967['__data'][0x9]=_0x6c6b98['elements'][0x7],_0x150967['__data'][0xa]=_0x6c6b98['elements'][0x8],_0x150967['__data'][0xb]=0x0):(_0x6c6b98['toArray'](_0x150967['__data'],_0x284837),_0x284837+=_0x398d8c['storage']/Float32Array['BYTES_PER_ELEMENT']);}_0x143d98['bufferSubData'](_0x143d98['UNIFORM_BUFFER'],_0xa3d8a6,_0x150967['__data']);}}}_0x143d98['bindBuffer'](_0x143d98['UNIFORM_BUFFER'],null);}(_0x5bb216),_0x502242[_0x5bb216['id']]=_0x3e1831);},'dispose':function(){for(const _0x96e565 in _0x5a773d)_0x143d98['deleteBuffer'](_0x5a773d[_0x96e565]);_0x37178c=[],_0x5a773d={},_0x502242={};}};}class _0x4fa2c8{constructor(_0x45a353={}){const {canvas:_0x5bcd0b=(0x0,_0x42a528['lPF'])(),context:_0x4ca453=null,depth:_0x52d09f=!0x0,stencil:_0x339d7a=!0x1,alpha:_0x3a912a=!0x1,antialias:_0x33cfd5=!0x1,premultipliedAlpha:_0x5b35fc=!0x0,preserveDrawingBuffer:_0x139e51=!0x1,powerPreference:_0x516d3d='default',failIfMajorPerformanceCaveat:_0x499bcb=!0x1,reverseDepthBuffer:_0x5593d6=!0x1}=_0x45a353;let _0x483d21;if(this['isWebGLRenderer']=!0x0,null!==_0x4ca453){if('undefined'!=typeof WebGLRenderingContext&&_0x4ca453 instanceof WebGLRenderingContext)throw new Error('THREE.WebGLRenderer:\x20WebGL\x201\x20is\x20not\x20supported\x20since\x20r163.');_0x483d21=_0x4ca453['getContextAttributes']()['alpha'];}else _0x483d21=_0x3a912a;const _0x1b6176=new Uint32Array(0x4),_0x3cc510=new Int32Array(0x4);let _0xf2ab=null,_0x543df6=null;const _0x470f5e=[],_0x4359ed=[];this['domElement']=_0x5bcd0b,this['debug']={'checkShaderErrors':!0x0,'onShaderError':null},this['autoClear']=!0x0,this['autoClearColor']=!0x0,this['autoClearDepth']=!0x0,this['autoClearStencil']=!0x0,this['sortObjects']=!0x0,this['clippingPlanes']=[],this['localClippingEnabled']=!0x1,this['_outputColorSpace']=_0x42a528['er$'],this['toneMapping']=_0x42a528['y_p'],this['toneMappingExposure']=0x1;const _0x370da6=this;let _0x521482=!0x1,_0x206d17=0x0,_0x4b8700=0x0,_0x4406da=null,_0x2ade00=-0x1,_0x31b28f=null;const _0x463f7e=new _0x42a528['IUQ'](),_0x5eb2fd=new _0x42a528['IUQ']();let _0x218380=null;const _0x43ef95=new _0x42a528['Q1f'](0x0);let _0x2025d5=0x0,_0x36dc56=_0x5bcd0b['width'],_0x167a2f=_0x5bcd0b['height'],_0x22c788=0x1,_0x6e873b=null,_0x5d82ae=null;const _0x375f36=new _0x42a528['IUQ'](0x0,0x0,_0x36dc56,_0x167a2f),_0x22153a=new _0x42a528['IUQ'](0x0,0x0,_0x36dc56,_0x167a2f);let _0x3a54c1=!0x1;const _0x3ce95a=new _0x42a528['PPD']();let _0x196633=!0x1,_0x261bcf=!0x1;this['transmissionResolutionScale']=0x1;const _0x5ccd15=new _0x42a528['kn4'](),_0x352cf4=new _0x42a528['kn4'](),_0x31f6f8=new _0x42a528['Pq0'](),_0x416fab=new _0x42a528['IUQ'](),_0x351f69={'background':null,'fog':null,'environment':null,'overrideMaterial':null,'isScene':!0x0};let _0x480836=!0x1;function _0x2e3e51(){return null===_0x4406da?_0x22c788:0x1;}let _0x3a8c92,_0x399d7f,_0x25c8f2,_0x4d21fa,_0x5c22f0,_0x160826,_0x272af1,_0x2535fa,_0x3a99c9,_0x1a0ef2,_0x5aa979,_0xd8c22d,_0x5871c4,_0x4a7e1e,_0x2d0af7,_0x5477b1,_0x5ef8b1,_0x35afde,_0x318ce7,_0x36b958,_0x11889a,_0x140498,_0x54c603,_0x40979b,_0x21ed3f=_0x4ca453;function _0x759444(_0xa40011,_0x50636e){return _0x5bcd0b['getContext'](_0xa40011,_0x50636e);}try{const _0x2526ce={'alpha':!0x0,'depth':_0x52d09f,'stencil':_0x339d7a,'antialias':_0x33cfd5,'premultipliedAlpha':_0x5b35fc,'preserveDrawingBuffer':_0x139e51,'powerPreference':_0x516d3d,'failIfMajorPerformanceCaveat':_0x499bcb};if('setAttribute'in _0x5bcd0b&&_0x5bcd0b['setAttribute']('data-engine','three.js\x20r'+_0x42a528['sPf']),_0x5bcd0b['addEventListener']('webglcontextlost',_0x325391,!0x1),_0x5bcd0b['addEventListener']('webglcontextrestored',_0x5295b5,!0x1),_0x5bcd0b['addEventListener']('webglcontextcreationerror',_0x3e2863,!0x1),null===_0x21ed3f){const _0x27012d='webgl2';if(_0x21ed3f=_0x759444(_0x27012d,_0x2526ce),null===_0x21ed3f)throw _0x759444(_0x27012d)?new Error('Error\x20creating\x20WebGL\x20context\x20with\x20your\x20selected\x20attributes.'):new Error('Error\x20creating\x20WebGL\x20context.');}}catch(_0x47b45a){throw console['error']('THREE.WebGLRenderer:\x20'+_0x47b45a['message']),_0x47b45a;}function _0x1429d7(){_0x3a8c92=new _0x59bb47(_0x21ed3f),_0x3a8c92['init'](),_0x140498=new _0x2500cb(_0x21ed3f,_0x3a8c92),_0x399d7f=new _0x5e4e79(_0x21ed3f,_0x3a8c92,_0x45a353,_0x140498),_0x25c8f2=new _0x46ddf2(_0x21ed3f,_0x3a8c92),_0x399d7f['reverseDepthBuffer']&&_0x5593d6&&_0x25c8f2['buffers']['depth']['setReversed'](!0x0),_0x4d21fa=new _0x17616a(_0x21ed3f),_0x5c22f0=new _0x21b0fb(),_0x160826=new _0x3d6641(_0x21ed3f,_0x3a8c92,_0x25c8f2,_0x5c22f0,_0x399d7f,_0x140498,_0x4d21fa),_0x272af1=new _0x1b694f(_0x370da6),_0x2535fa=new _0x3cd108(_0x370da6),_0x3a99c9=new _0x153402(_0x21ed3f),_0x54c603=new _0x2ff5fa(_0x21ed3f,_0x3a99c9),_0x1a0ef2=new _0xae9ae1(_0x21ed3f,_0x3a99c9,_0x4d21fa,_0x54c603),_0x5aa979=new _0x3f7f6a(_0x21ed3f,_0x1a0ef2,_0x3a99c9,_0x4d21fa),_0x318ce7=new _0x290321(_0x21ed3f,_0x399d7f,_0x160826),_0x5477b1=new _0x421333(_0x5c22f0),_0xd8c22d=new _0x3e9bf2(_0x370da6,_0x272af1,_0x2535fa,_0x3a8c92,_0x399d7f,_0x54c603,_0x5477b1),_0x5871c4=new _0xccab38(_0x370da6,_0x5c22f0),_0x4a7e1e=new _0x38984b(),_0x2d0af7=new _0x52ab7a(_0x3a8c92),_0x35afde=new _0x253c76(_0x370da6,_0x272af1,_0x2535fa,_0x25c8f2,_0x5aa979,_0x483d21,_0x5b35fc),_0x5ef8b1=new _0x375535(_0x370da6,_0x5aa979,_0x399d7f),_0x40979b=new _0xc1fb57(_0x21ed3f,_0x4d21fa,_0x399d7f,_0x25c8f2),_0x36b958=new _0x5e543c(_0x21ed3f,_0x3a8c92,_0x4d21fa),_0x11889a=new _0x51282b(_0x21ed3f,_0x3a8c92,_0x4d21fa),_0x4d21fa['programs']=_0xd8c22d['programs'],_0x370da6['capabilities']=_0x399d7f,_0x370da6['extensions']=_0x3a8c92,_0x370da6['properties']=_0x5c22f0,_0x370da6['renderLists']=_0x4a7e1e,_0x370da6['shadowMap']=_0x5ef8b1,_0x370da6['state']=_0x25c8f2,_0x370da6['info']=_0x4d21fa;}_0x1429d7();const _0x4a1e7f=new _0x69c3cd(_0x370da6,_0x21ed3f);function _0x325391(_0x59c95e){_0x59c95e['preventDefault'](),console['log']('THREE.WebGLRenderer:\x20Context\x20Lost.'),_0x521482=!0x0;}function _0x5295b5(){console['log']('THREE.WebGLRenderer:\x20Context\x20Restored.'),_0x521482=!0x1;const _0x314a46=_0x4d21fa['autoReset'],_0x2788a3=_0x5ef8b1['enabled'],_0x28c7ba=_0x5ef8b1['autoUpdate'],_0x359a84=_0x5ef8b1['needsUpdate'],_0x2a789f=_0x5ef8b1['type'];_0x1429d7(),_0x4d21fa['autoReset']=_0x314a46,_0x5ef8b1['enabled']=_0x2788a3,_0x5ef8b1['autoUpdate']=_0x28c7ba,_0x5ef8b1['needsUpdate']=_0x359a84,_0x5ef8b1['type']=_0x2a789f;}function _0x3e2863(_0x22dcee){console['error']('THREE.WebGLRenderer:\x20A\x20WebGL\x20context\x20could\x20not\x20be\x20created.\x20Reason:\x20',_0x22dcee['statusMessage']);}function _0x5c9459(_0x417346){const _0x3a7b4c=_0x417346['target'];_0x3a7b4c['removeEventListener']('dispose',_0x5c9459),function(_0xe262af){(function(_0x4b1621){const _0x26c1a0=_0x5c22f0['get'](_0x4b1621)['programs'];void 0x0!==_0x26c1a0&&(_0x26c1a0['forEach'](function(_0x3e069b){_0xd8c22d['releaseProgram'](_0x3e069b);}),_0x4b1621['isShaderMaterial']&&_0xd8c22d['releaseShaderCache'](_0x4b1621));}(_0xe262af),_0x5c22f0['remove'](_0xe262af));}(_0x3a7b4c);}function _0x4e00d1(_0x43ab39,_0x7a396,_0x207ab2){!0x0===_0x43ab39['transparent']&&_0x43ab39['side']===_0x42a528['$EB']&&!0x1===_0x43ab39['forceSinglePass']?(_0x43ab39['side']=_0x42a528['hsX'],_0x43ab39['needsUpdate']=!0x0,_0x7a399(_0x43ab39,_0x7a396,_0x207ab2),_0x43ab39['side']=_0x42a528['hB5'],_0x43ab39['needsUpdate']=!0x0,_0x7a399(_0x43ab39,_0x7a396,_0x207ab2),_0x43ab39['side']=_0x42a528['$EB']):_0x7a399(_0x43ab39,_0x7a396,_0x207ab2);}this['xr']=_0x4a1e7f,this['getContext']=function(){return _0x21ed3f;},this['getContextAttributes']=function(){return _0x21ed3f['getContextAttributes']();},this['forceContextLoss']=function(){const _0x5d93b7=_0x3a8c92['get']('WEBGL_lose_context');_0x5d93b7&&_0x5d93b7['loseContext']();},this['forceContextRestore']=function(){const _0x57d42a=_0x3a8c92['get']('WEBGL_lose_context');_0x57d42a&&_0x57d42a['restoreContext']();},this['getPixelRatio']=function(){return _0x22c788;},this['setPixelRatio']=function(_0x290570){void 0x0!==_0x290570&&(_0x22c788=_0x290570,this['setSize'](_0x36dc56,_0x167a2f,!0x1));},this['getSize']=function(_0x971b8b){return _0x971b8b['set'](_0x36dc56,_0x167a2f);},this['setSize']=function(_0x429906,_0x43fe57,_0x47801c=!0x0){_0x4a1e7f['isPresenting']?console['warn']('THREE.WebGLRenderer:\x20Can\x27t\x20change\x20size\x20while\x20VR\x20device\x20is\x20presenting.'):(_0x36dc56=_0x429906,_0x167a2f=_0x43fe57,_0x5bcd0b['width']=Math['floor'](_0x429906*_0x22c788),_0x5bcd0b['height']=Math['floor'](_0x43fe57*_0x22c788),!0x0===_0x47801c&&(_0x5bcd0b['style']['width']=_0x429906+'px',_0x5bcd0b['style']['height']=_0x43fe57+'px'),this['setViewport'](0x0,0x0,_0x429906,_0x43fe57));},this['getDrawingBufferSize']=function(_0x168e50){return _0x168e50['set'](_0x36dc56*_0x22c788,_0x167a2f*_0x22c788)['floor']();},this['setDrawingBufferSize']=function(_0x24fa08,_0x16456b,_0x2d74d3){_0x36dc56=_0x24fa08,_0x167a2f=_0x16456b,_0x22c788=_0x2d74d3,_0x5bcd0b['width']=Math['floor'](_0x24fa08*_0x2d74d3),_0x5bcd0b['height']=Math['floor'](_0x16456b*_0x2d74d3),this['setViewport'](0x0,0x0,_0x24fa08,_0x16456b);},this['getCurrentViewport']=function(_0x137613){return _0x137613['copy'](_0x463f7e);},this['getViewport']=function(_0x268b42){return _0x268b42['copy'](_0x375f36);},this['setViewport']=function(_0x283ad4,_0x39bb90,_0x17f895,_0xbce038){_0x283ad4['isVector4']?_0x375f36['set'](_0x283ad4['x'],_0x283ad4['y'],_0x283ad4['z'],_0x283ad4['w']):_0x375f36['set'](_0x283ad4,_0x39bb90,_0x17f895,_0xbce038),_0x25c8f2['viewport'](_0x463f7e['copy'](_0x375f36)['multiplyScalar'](_0x22c788)['round']());},this['getScissor']=function(_0x304cd2){return _0x304cd2['copy'](_0x22153a);},this['setScissor']=function(_0x32cb1e,_0x3aba95,_0x3fa613,_0x29332f){_0x32cb1e['isVector4']?_0x22153a['set'](_0x32cb1e['x'],_0x32cb1e['y'],_0x32cb1e['z'],_0x32cb1e['w']):_0x22153a['set'](_0x32cb1e,_0x3aba95,_0x3fa613,_0x29332f),_0x25c8f2['scissor'](_0x5eb2fd['copy'](_0x22153a)['multiplyScalar'](_0x22c788)['round']());},this['getScissorTest']=function(){return _0x3a54c1;},this['setScissorTest']=function(_0x29db08){_0x25c8f2['setScissorTest'](_0x3a54c1=_0x29db08);},this['setOpaqueSort']=function(_0x2d00bf){_0x6e873b=_0x2d00bf;},this['setTransparentSort']=function(_0x5ef19a){_0x5d82ae=_0x5ef19a;},this['getClearColor']=function(_0x27ca70){return _0x27ca70['copy'](_0x35afde['getClearColor']());},this['setClearColor']=function(){_0x35afde['setClearColor']['apply'](_0x35afde,arguments);},this['getClearAlpha']=function(){return _0x35afde['getClearAlpha']();},this['setClearAlpha']=function(){_0x35afde['setClearAlpha']['apply'](_0x35afde,arguments);},this['clear']=function(_0x107e77=!0x0,_0x405bb5=!0x0,_0x1578af=!0x0){let _0xa3261a=0x0;if(_0x107e77){let _0x75cdc5=!0x1;if(null!==_0x4406da){const _0x13332a=_0x4406da['texture']['format'];_0x75cdc5=_0x13332a===_0x42a528['c90']||_0x13332a===_0x42a528['TkQ']||_0x13332a===_0x42a528['ZQM'];}if(_0x75cdc5){const _0x4f56af=_0x4406da['texture']['type'],_0x5dfca3=_0x4f56af===_0x42a528['OUM']||_0x4f56af===_0x42a528['bkx']||_0x4f56af===_0x42a528['cHt']||_0x4f56af===_0x42a528['V3x']||_0x4f56af===_0x42a528['Wew']||_0x4f56af===_0x42a528['gJ2'],_0x35165c=_0x35afde['getClearColor'](),_0x3b81eb=_0x35afde['getClearAlpha'](),_0x539057=_0x35165c['r'],_0x12873b=_0x35165c['g'],_0x27811f=_0x35165c['b'];_0x5dfca3?(_0x1b6176[0x0]=_0x539057,_0x1b6176[0x1]=_0x12873b,_0x1b6176[0x2]=_0x27811f,_0x1b6176[0x3]=_0x3b81eb,_0x21ed3f['clearBufferuiv'](_0x21ed3f['COLOR'],0x0,_0x1b6176)):(_0x3cc510[0x0]=_0x539057,_0x3cc510[0x1]=_0x12873b,_0x3cc510[0x2]=_0x27811f,_0x3cc510[0x3]=_0x3b81eb,_0x21ed3f['clearBufferiv'](_0x21ed3f['COLOR'],0x0,_0x3cc510));}else _0xa3261a|=_0x21ed3f['COLOR_BUFFER_BIT'];}_0x405bb5&&(_0xa3261a|=_0x21ed3f['DEPTH_BUFFER_BIT']),_0x1578af&&(_0xa3261a|=_0x21ed3f['STENCIL_BUFFER_BIT'],this['state']['buffers']['stencil']['setMask'](0xffffffff)),_0x21ed3f['clear'](_0xa3261a);},this['clearColor']=function(){this['clear'](!0x0,!0x1,!0x1);},this['clearDepth']=function(){this['clear'](!0x1,!0x0,!0x1);},this['clearStencil']=function(){this['clear'](!0x1,!0x1,!0x0);},this['dispose']=function(){_0x5bcd0b['removeEventListener']('webglcontextlost',_0x325391,!0x1),_0x5bcd0b['removeEventListener']('webglcontextrestored',_0x5295b5,!0x1),_0x5bcd0b['removeEventListener']('webglcontextcreationerror',_0x3e2863,!0x1),_0x35afde['dispose'](),_0x4a7e1e['dispose'](),_0x2d0af7['dispose'](),_0x5c22f0['dispose'](),_0x272af1['dispose'](),_0x2535fa['dispose'](),_0x5aa979['dispose'](),_0x54c603['dispose'](),_0x40979b['dispose'](),_0xd8c22d['dispose'](),_0x4a1e7f['dispose'](),_0x4a1e7f['removeEventListener']('sessionstart',_0x3fc007),_0x4a1e7f['removeEventListener']('sessionend',_0x4b14b2),_0x4161b5['stop']();},this['renderBufferDirect']=function(_0x17db03,_0x332a79,_0x5b19ed,_0x35fb65,_0xdf1295,_0x18383d){null===_0x332a79&&(_0x332a79=_0x351f69);const _0x502e1f=_0xdf1295['isMesh']&&_0xdf1295['matrixWorld']['determinant']()<0x0,_0xc8ebe8=function(_0x14b58b,_0x4064c0,_0x3fc80b,_0x19a01b,_0x4daa65){!0x0!==_0x4064c0['isScene']&&(_0x4064c0=_0x351f69),_0x160826['resetTextureUnits']();const _0x3aeb2d=_0x4064c0['fog'],_0x317e2a=_0x19a01b['isMeshStandardMaterial']?_0x4064c0['environment']:null,_0x28cf5e=null===_0x4406da?_0x370da6['outputColorSpace']:!0x0===_0x4406da['isXRRenderTarget']?_0x4406da['texture']['colorSpace']:_0x42a528['Zr2'],_0xf08bbc=(_0x19a01b['isMeshStandardMaterial']?_0x2535fa:_0x272af1)['get'](_0x19a01b['envMap']||_0x317e2a),_0x8b6149=!0x0===_0x19a01b['vertexColors']&&!!_0x3fc80b['attributes']['color']&&0x4===_0x3fc80b['attributes']['color']['itemSize'],_0x5557f7=!!_0x3fc80b['attributes']['tangent']&&(!!_0x19a01b['normalMap']||_0x19a01b['anisotropy']>0x0),_0x241e76=!!_0x3fc80b['morphAttributes']['position'],_0x389880=!!_0x3fc80b['morphAttributes']['normal'],_0x3334ff=!!_0x3fc80b['morphAttributes']['color'];let _0x53bac4=_0x42a528['y_p'];_0x19a01b['toneMapped']&&(null!==_0x4406da&&!0x0!==_0x4406da['isXRRenderTarget']||(_0x53bac4=_0x370da6['toneMapping']));const _0x43b8c7=_0x3fc80b['morphAttributes']['position']||_0x3fc80b['morphAttributes']['normal']||_0x3fc80b['morphAttributes']['color'],_0x526206=void 0x0!==_0x43b8c7?_0x43b8c7['length']:0x0,_0x45a6af=_0x5c22f0['get'](_0x19a01b),_0x3dd685=_0x543df6['state']['lights'];if(!0x0===_0x196633&&(!0x0===_0x261bcf||_0x14b58b!==_0x31b28f)){const _0x38e219=_0x14b58b===_0x31b28f&&_0x19a01b['id']===_0x2ade00;_0x5477b1['setState'](_0x19a01b,_0x14b58b,_0x38e219);}let _0x394e3c=!0x1;_0x19a01b['version']===_0x45a6af['__version']?_0x45a6af['needsLights']&&_0x45a6af['lightsStateVersion']!==_0x3dd685['state']['version']||_0x45a6af['outputColorSpace']!==_0x28cf5e||_0x4daa65['isBatchedMesh']&&!0x1===_0x45a6af['batching']?_0x394e3c=!0x0:_0x4daa65['isBatchedMesh']||!0x0!==_0x45a6af['batching']?_0x4daa65['isBatchedMesh']&&!0x0===_0x45a6af['batchingColor']&&null===_0x4daa65['colorTexture']||_0x4daa65['isBatchedMesh']&&!0x1===_0x45a6af['batchingColor']&&null!==_0x4daa65['colorTexture']||_0x4daa65['isInstancedMesh']&&!0x1===_0x45a6af['instancing']?_0x394e3c=!0x0:_0x4daa65['isInstancedMesh']||!0x0!==_0x45a6af['instancing']?_0x4daa65['isSkinnedMesh']&&!0x1===_0x45a6af['skinning']?_0x394e3c=!0x0:_0x4daa65['isSkinnedMesh']||!0x0!==_0x45a6af['skinning']?_0x4daa65['isInstancedMesh']&&!0x0===_0x45a6af['instancingColor']&&null===_0x4daa65['instanceColor']||_0x4daa65['isInstancedMesh']&&!0x1===_0x45a6af['instancingColor']&&null!==_0x4daa65['instanceColor']||_0x4daa65['isInstancedMesh']&&!0x0===_0x45a6af['instancingMorph']&&null===_0x4daa65['morphTexture']||_0x4daa65['isInstancedMesh']&&!0x1===_0x45a6af['instancingMorph']&&null!==_0x4daa65['morphTexture']||_0x45a6af['envMap']!==_0xf08bbc||!0x0===_0x19a01b['fog']&&_0x45a6af['fog']!==_0x3aeb2d?_0x394e3c=!0x0:void 0x0===_0x45a6af['numClippingPlanes']||_0x45a6af['numClippingPlanes']===_0x5477b1['numPlanes']&&_0x45a6af['numIntersection']===_0x5477b1['numIntersection']?(_0x45a6af['vertexAlphas']!==_0x8b6149||_0x45a6af['vertexTangents']!==_0x5557f7||_0x45a6af['morphTargets']!==_0x241e76||_0x45a6af['morphNormals']!==_0x389880||_0x45a6af['morphColors']!==_0x3334ff||_0x45a6af['toneMapping']!==_0x53bac4||_0x45a6af['morphTargetsCount']!==_0x526206)&&(_0x394e3c=!0x0):_0x394e3c=!0x0:_0x394e3c=!0x0:_0x394e3c=!0x0:_0x394e3c=!0x0:(_0x394e3c=!0x0,_0x45a6af['__version']=_0x19a01b['version']);let _0xbb5e9e=_0x45a6af['currentProgram'];!0x0===_0x394e3c&&(_0xbb5e9e=_0x7a399(_0x19a01b,_0x4064c0,_0x4daa65));let _0x5cd9b8=!0x1,_0x45c79b=!0x1,_0x1f953a=!0x1;const _0x4ecd46=_0xbb5e9e['getUniforms'](),_0x25d79a=_0x45a6af['uniforms'];_0x25c8f2['useProgram'](_0xbb5e9e['program'])&&(_0x5cd9b8=!0x0,_0x45c79b=!0x0,_0x1f953a=!0x0),_0x19a01b['id']!==_0x2ade00&&(_0x2ade00=_0x19a01b['id'],_0x45c79b=!0x0);if(_0x5cd9b8||_0x31b28f!==_0x14b58b){_0x25c8f2['buffers']['depth']['getReversed']()?(_0x5ccd15['copy'](_0x14b58b['projectionMatrix']),(0x0,_0x42a528['xiE'])(_0x5ccd15),(0x0,_0x42a528['Mmk'])(_0x5ccd15),_0x4ecd46['setValue'](_0x21ed3f,'projectionMatrix',_0x5ccd15)):_0x4ecd46['setValue'](_0x21ed3f,'projectionMatrix',_0x14b58b['projectionMatrix']),_0x4ecd46['setValue'](_0x21ed3f,'viewMatrix',_0x14b58b['matrixWorldInverse']);const _0x6e636f=_0x4ecd46['map']['cameraPosition'];void 0x0!==_0x6e636f&&_0x6e636f['setValue'](_0x21ed3f,_0x31f6f8['setFromMatrixPosition'](_0x14b58b['matrixWorld'])),_0x399d7f['logarithmicDepthBuffer']&&_0x4ecd46['setValue'](_0x21ed3f,'logDepthBufFC',0x2/(Math['log'](_0x14b58b['far']+0x1)/Math['LN2'])),(_0x19a01b['isMeshPhongMaterial']||_0x19a01b['isMeshToonMaterial']||_0x19a01b['isMeshLambertMaterial']||_0x19a01b['isMeshBasicMaterial']||_0x19a01b['isMeshStandardMaterial']||_0x19a01b['isShaderMaterial'])&&_0x4ecd46['setValue'](_0x21ed3f,'isOrthographic',!0x0===_0x14b58b['isOrthographicCamera']),_0x31b28f!==_0x14b58b&&(_0x31b28f=_0x14b58b,_0x45c79b=!0x0,_0x1f953a=!0x0);}if(_0x4daa65['isSkinnedMesh']){_0x4ecd46['setOptional'](_0x21ed3f,_0x4daa65,'bindMatrix'),_0x4ecd46['setOptional'](_0x21ed3f,_0x4daa65,'bindMatrixInverse');const _0x205dda=_0x4daa65['skeleton'];_0x205dda&&(null===_0x205dda['boneTexture']&&_0x205dda['computeBoneTexture'](),_0x4ecd46['setValue'](_0x21ed3f,'boneTexture',_0x205dda['boneTexture'],_0x160826));}_0x4daa65['isBatchedMesh']&&(_0x4ecd46['setOptional'](_0x21ed3f,_0x4daa65,'batchingTexture'),_0x4ecd46['setValue'](_0x21ed3f,'batchingTexture',_0x4daa65['_matricesTexture'],_0x160826),_0x4ecd46['setOptional'](_0x21ed3f,_0x4daa65,'batchingIdTexture'),_0x4ecd46['setValue'](_0x21ed3f,'batchingIdTexture',_0x4daa65['_indirectTexture'],_0x160826),_0x4ecd46['setOptional'](_0x21ed3f,_0x4daa65,'batchingColorTexture'),null!==_0x4daa65['_colorsTexture']&&_0x4ecd46['setValue'](_0x21ed3f,'batchingColorTexture',_0x4daa65['_colorsTexture'],_0x160826));const _0x413ccc=_0x3fc80b['morphAttributes'];void 0x0===_0x413ccc['position']&&void 0x0===_0x413ccc['normal']&&void 0x0===_0x413ccc['color']||_0x318ce7['update'](_0x4daa65,_0x3fc80b,_0xbb5e9e),(_0x45c79b||_0x45a6af['receiveShadow']!==_0x4daa65['receiveShadow'])&&(_0x45a6af['receiveShadow']=_0x4daa65['receiveShadow'],_0x4ecd46['setValue'](_0x21ed3f,'receiveShadow',_0x4daa65['receiveShadow'])),_0x19a01b['isMeshGouraudMaterial']&&null!==_0x19a01b['envMap']&&(_0x25d79a['envMap']['value']=_0xf08bbc,_0x25d79a['flipEnvMap']['value']=_0xf08bbc['isCubeTexture']&&!0x1===_0xf08bbc['isRenderTargetTexture']?-0x1:0x1),_0x19a01b['isMeshStandardMaterial']&&null===_0x19a01b['envMap']&&null!==_0x4064c0['environment']&&(_0x25d79a['envMapIntensity']['value']=_0x4064c0['environmentIntensity']),_0x45c79b&&(_0x4ecd46['setValue'](_0x21ed3f,'toneMappingExposure',_0x370da6['toneMappingExposure']),_0x45a6af['needsLights']&&(_0x5bbe63=_0x1f953a,(_0x4f2b15=_0x25d79a)['ambientLightColor']['needsUpdate']=_0x5bbe63,_0x4f2b15['lightProbe']['needsUpdate']=_0x5bbe63,_0x4f2b15['directionalLights']['needsUpdate']=_0x5bbe63,_0x4f2b15['directionalLightShadows']['needsUpdate']=_0x5bbe63,_0x4f2b15['pointLights']['needsUpdate']=_0x5bbe63,_0x4f2b15['pointLightShadows']['needsUpdate']=_0x5bbe63,_0x4f2b15['spotLights']['needsUpdate']=_0x5bbe63,_0x4f2b15['spotLightShadows']['needsUpdate']=_0x5bbe63,_0x4f2b15['rectAreaLights']['needsUpdate']=_0x5bbe63,_0x4f2b15['hemisphereLights']['needsUpdate']=_0x5bbe63),_0x3aeb2d&&!0x0===_0x19a01b['fog']&&_0x5871c4['refreshFogUniforms'](_0x25d79a,_0x3aeb2d),_0x5871c4['refreshMaterialUniforms'](_0x25d79a,_0x19a01b,_0x22c788,_0x167a2f,_0x543df6['state']['transmissionRenderTarget'][_0x14b58b['id']]),_0x20e1ab['upload'](_0x21ed3f,_0x56201b(_0x45a6af),_0x25d79a,_0x160826));var _0x4f2b15,_0x5bbe63;_0x19a01b['isShaderMaterial']&&!0x0===_0x19a01b['uniformsNeedUpdate']&&(_0x20e1ab['upload'](_0x21ed3f,_0x56201b(_0x45a6af),_0x25d79a,_0x160826),_0x19a01b['uniformsNeedUpdate']=!0x1),_0x19a01b['isSpriteMaterial']&&_0x4ecd46['setValue'](_0x21ed3f,'center',_0x4daa65['center']);if(_0x4ecd46['setValue'](_0x21ed3f,'modelViewMatrix',_0x4daa65['modelViewMatrix']),_0x4ecd46['setValue'](_0x21ed3f,'normalMatrix',_0x4daa65['normalMatrix']),_0x4ecd46['setValue'](_0x21ed3f,'modelMatrix',_0x4daa65['matrixWorld']),_0x19a01b['isShaderMaterial']||_0x19a01b['isRawShaderMaterial']){const _0x2928bb=_0x19a01b['uniformsGroups'];for(let _0x1281df=0x0,_0x179b03=_0x2928bb['length'];_0x1281df<_0x179b03;_0x1281df++){const _0x1eff32=_0x2928bb[_0x1281df];_0x40979b['update'](_0x1eff32,_0xbb5e9e),_0x40979b['bind'](_0x1eff32,_0xbb5e9e);}}return _0xbb5e9e;}(_0x17db03,_0x332a79,_0x5b19ed,_0x35fb65,_0xdf1295);_0x25c8f2['setMaterial'](_0x35fb65,_0x502e1f);let _0xb4c05d=_0x5b19ed['index'],_0x15b8c6=0x1;if(!0x0===_0x35fb65['wireframe']){if(_0xb4c05d=_0x1a0ef2['getWireframeAttribute'](_0x5b19ed),void 0x0===_0xb4c05d)return;_0x15b8c6=0x2;}const _0x215594=_0x5b19ed['drawRange'],_0x1acaaf=_0x5b19ed['attributes']['position'];let _0x2f6d9e=_0x215594['start']*_0x15b8c6,_0x58fb57=(_0x215594['start']+_0x215594['count'])*_0x15b8c6;null!==_0x18383d&&(_0x2f6d9e=Math['max'](_0x2f6d9e,_0x18383d['start']*_0x15b8c6),_0x58fb57=Math['min'](_0x58fb57,(_0x18383d['start']+_0x18383d['count'])*_0x15b8c6)),null!==_0xb4c05d?(_0x2f6d9e=Math['max'](_0x2f6d9e,0x0),_0x58fb57=Math['min'](_0x58fb57,_0xb4c05d['count'])):null!=_0x1acaaf&&(_0x2f6d9e=Math['max'](_0x2f6d9e,0x0),_0x58fb57=Math['min'](_0x58fb57,_0x1acaaf['count']));const _0x366d83=_0x58fb57-_0x2f6d9e;if(_0x366d83<0x0||_0x366d83===0x1/0x0)return;let _0x2a4c78;_0x54c603['setup'](_0xdf1295,_0x35fb65,_0xc8ebe8,_0x5b19ed,_0xb4c05d);let _0x4bd1d1=_0x36b958;if(null!==_0xb4c05d&&(_0x2a4c78=_0x3a99c9['get'](_0xb4c05d),_0x4bd1d1=_0x11889a,_0x4bd1d1['setIndex'](_0x2a4c78)),_0xdf1295['isMesh'])!0x0===_0x35fb65['wireframe']?(_0x25c8f2['setLineWidth'](_0x35fb65['wireframeLinewidth']*_0x2e3e51()),_0x4bd1d1['setMode'](_0x21ed3f['LINES'])):_0x4bd1d1['setMode'](_0x21ed3f['TRIANGLES']);else{if(_0xdf1295['isLine']){let _0x488eea=_0x35fb65['linewidth'];void 0x0===_0x488eea&&(_0x488eea=0x1),_0x25c8f2['setLineWidth'](_0x488eea*_0x2e3e51()),_0xdf1295['isLineSegments']?_0x4bd1d1['setMode'](_0x21ed3f['LINES']):_0xdf1295['isLineLoop']?_0x4bd1d1['setMode'](_0x21ed3f['LINE_LOOP']):_0x4bd1d1['setMode'](_0x21ed3f['LINE_STRIP']);}else _0xdf1295['isPoints']?_0x4bd1d1['setMode'](_0x21ed3f['POINTS']):_0xdf1295['isSprite']&&_0x4bd1d1['setMode'](_0x21ed3f['TRIANGLES']);}if(_0xdf1295['isBatchedMesh']){if(null!==_0xdf1295['_multiDrawInstances'])_0x4bd1d1['renderMultiDrawInstances'](_0xdf1295['_multiDrawStarts'],_0xdf1295['_multiDrawCounts'],_0xdf1295['_multiDrawCount'],_0xdf1295['_multiDrawInstances']);else{if(_0x3a8c92['get']('WEBGL_multi_draw'))_0x4bd1d1['renderMultiDraw'](_0xdf1295['_multiDrawStarts'],_0xdf1295['_multiDrawCounts'],_0xdf1295['_multiDrawCount']);else{const _0x86ec=_0xdf1295['_multiDrawStarts'],_0x23f033=_0xdf1295['_multiDrawCounts'],_0x28ac73=_0xdf1295['_multiDrawCount'],_0x51fcda=_0xb4c05d?_0x3a99c9['get'](_0xb4c05d)['bytesPerElement']:0x1,_0x1e1ed5=_0x5c22f0['get'](_0x35fb65)['currentProgram']['getUniforms']();for(let _0x2d36a4=0x0;_0x2d36a4<_0x28ac73;_0x2d36a4++)_0x1e1ed5['setValue'](_0x21ed3f,'_gl_DrawID',_0x2d36a4),_0x4bd1d1['render'](_0x86ec[_0x2d36a4]/_0x51fcda,_0x23f033[_0x2d36a4]);}}}else{if(_0xdf1295['isInstancedMesh'])_0x4bd1d1['renderInstances'](_0x2f6d9e,_0x366d83,_0xdf1295['count']);else{if(_0x5b19ed['isInstancedBufferGeometry']){const _0x5398de=void 0x0!==_0x5b19ed['_maxInstanceCount']?_0x5b19ed['_maxInstanceCount']:0x1/0x0,_0x3dc7bc=Math['min'](_0x5b19ed['instanceCount'],_0x5398de);_0x4bd1d1['renderInstances'](_0x2f6d9e,_0x366d83,_0x3dc7bc);}else _0x4bd1d1['render'](_0x2f6d9e,_0x366d83);}}},this['compile']=function(_0x584bc5,_0x78a87e,_0x34b7e4=null){null===_0x34b7e4&&(_0x34b7e4=_0x584bc5),_0x543df6=_0x2d0af7['get'](_0x34b7e4),_0x543df6['init'](_0x78a87e),_0x4359ed['push'](_0x543df6),_0x34b7e4['traverseVisible'](function(_0x31876a){_0x31876a['isLight']&&_0x31876a['layers']['test'](_0x78a87e['layers'])&&(_0x543df6['pushLight'](_0x31876a),_0x31876a['castShadow']&&_0x543df6['pushShadow'](_0x31876a));}),_0x584bc5!==_0x34b7e4&&_0x584bc5['traverseVisible'](function(_0x526bd1){_0x526bd1['isLight']&&_0x526bd1['layers']['test'](_0x78a87e['layers'])&&(_0x543df6['pushLight'](_0x526bd1),_0x526bd1['castShadow']&&_0x543df6['pushShadow'](_0x526bd1));}),_0x543df6['setupLights']();const _0x2359f1=new Set();return _0x584bc5['traverse'](function(_0x5b3712){if(!(_0x5b3712['isMesh']||_0x5b3712['isPoints']||_0x5b3712['isLine']||_0x5b3712['isSprite']))return;const _0x9b84e7=_0x5b3712['material'];if(_0x9b84e7){if(Array['isArray'](_0x9b84e7))for(let _0x1ab271=0x0;_0x1ab271<_0x9b84e7['length'];_0x1ab271++){const _0x5ca779=_0x9b84e7[_0x1ab271];_0x4e00d1(_0x5ca779,_0x34b7e4,_0x5b3712),_0x2359f1['add'](_0x5ca779);}else _0x4e00d1(_0x9b84e7,_0x34b7e4,_0x5b3712),_0x2359f1['add'](_0x9b84e7);}}),_0x4359ed['pop'](),_0x543df6=null,_0x2359f1;},this['compileAsync']=function(_0x4adcde,_0x12e62e,_0x444d92=null){const _0x3fd81c=this['compile'](_0x4adcde,_0x12e62e,_0x444d92);return new Promise(_0x3d82a0=>{function _0x37273b(){_0x3fd81c['forEach'](function(_0x1ba42c){_0x5c22f0['get'](_0x1ba42c)['currentProgram']['isReady']()&&_0x3fd81c['delete'](_0x1ba42c);}),0x0!==_0x3fd81c['size']?setTimeout(_0x37273b,0xa):_0x3d82a0(_0x4adcde);}null!==_0x3a8c92['get']('KHR_parallel_shader_compile')?_0x37273b():setTimeout(_0x37273b,0xa);});};let _0x4a3a6f=null;function _0x3fc007(){_0x4161b5['stop']();}function _0x4b14b2(){_0x4161b5['start']();}const _0x4161b5=new _0x4d841c();function _0x2e72ce(_0x309de7,_0x2f52e0,_0x486282,_0x4f996a){if(!0x1===_0x309de7['visible'])return;if(_0x309de7['layers']['test'](_0x2f52e0['layers'])){if(_0x309de7['isGroup'])_0x486282=_0x309de7['renderOrder'];else{if(_0x309de7['isLOD'])!0x0===_0x309de7['autoUpdate']&&_0x309de7['update'](_0x2f52e0);else{if(_0x309de7['isLight'])_0x543df6['pushLight'](_0x309de7),_0x309de7['castShadow']&&_0x543df6['pushShadow'](_0x309de7);else{if(_0x309de7['isSprite']){if(!_0x309de7['frustumCulled']||_0x3ce95a['intersectsSprite'](_0x309de7)){_0x4f996a&&_0x416fab['setFromMatrixPosition'](_0x309de7['matrixWorld'])['applyMatrix4'](_0x352cf4);const _0x41ae2d=_0x5aa979['update'](_0x309de7),_0x21e85b=_0x309de7['material'];_0x21e85b['visible']&&_0xf2ab['push'](_0x309de7,_0x41ae2d,_0x21e85b,_0x486282,_0x416fab['z'],null);}}else{if((_0x309de7['isMesh']||_0x309de7['isLine']||_0x309de7['isPoints'])&&(!_0x309de7['frustumCulled']||_0x3ce95a['intersectsObject'](_0x309de7))){const _0x9f3d00=_0x5aa979['update'](_0x309de7),_0x5ec4ed=_0x309de7['material'];if(_0x4f996a&&(void 0x0!==_0x309de7['boundingSphere']?(null===_0x309de7['boundingSphere']&&_0x309de7['computeBoundingSphere'](),_0x416fab['copy'](_0x309de7['boundingSphere']['center'])):(null===_0x9f3d00['boundingSphere']&&_0x9f3d00['computeBoundingSphere'](),_0x416fab['copy'](_0x9f3d00['boundingSphere']['center'])),_0x416fab['applyMatrix4'](_0x309de7['matrixWorld'])['applyMatrix4'](_0x352cf4)),Array['isArray'](_0x5ec4ed)){const _0x42a3fe=_0x9f3d00['groups'];for(let _0x4260e5=0x0,_0x29c8cd=_0x42a3fe['length'];_0x4260e5<_0x29c8cd;_0x4260e5++){const _0x2f9b42=_0x42a3fe[_0x4260e5],_0x4c06c3=_0x5ec4ed[_0x2f9b42['materialIndex']];_0x4c06c3&&_0x4c06c3['visible']&&_0xf2ab['push'](_0x309de7,_0x9f3d00,_0x4c06c3,_0x486282,_0x416fab['z'],_0x2f9b42);}}else _0x5ec4ed['visible']&&_0xf2ab['push'](_0x309de7,_0x9f3d00,_0x5ec4ed,_0x486282,_0x416fab['z'],null);}}}}}}const _0x2bc4ec=_0x309de7['children'];for(let _0x91998b=0x0,_0x412b08=_0x2bc4ec['length'];_0x91998b<_0x412b08;_0x91998b++)_0x2e72ce(_0x2bc4ec[_0x91998b],_0x2f52e0,_0x486282,_0x4f996a);}function _0x140a7b(_0x34990d,_0x2d82f1,_0x4218e5,_0x927360){const _0x237d78=_0x34990d['opaque'],_0x36b4f7=_0x34990d['transmissive'],_0x2d1fd7=_0x34990d['transparent'];_0x543df6['setupLightsView'](_0x4218e5),!0x0===_0x196633&&_0x5477b1['setGlobalState'](_0x370da6['clippingPlanes'],_0x4218e5),_0x927360&&_0x25c8f2['viewport'](_0x463f7e['copy'](_0x927360)),_0x237d78['length']>0x0&&_0x389ba0(_0x237d78,_0x2d82f1,_0x4218e5),_0x36b4f7['length']>0x0&&_0x389ba0(_0x36b4f7,_0x2d82f1,_0x4218e5),_0x2d1fd7['length']>0x0&&_0x389ba0(_0x2d1fd7,_0x2d82f1,_0x4218e5),_0x25c8f2['buffers']['depth']['setTest'](!0x0),_0x25c8f2['buffers']['depth']['setMask'](!0x0),_0x25c8f2['buffers']['color']['setMask'](!0x0),_0x25c8f2['setPolygonOffset'](!0x1);}function _0x5139ff(_0x1ed554,_0x257766,_0x4e435c,_0x2112b9){if(null!==(!0x0===_0x4e435c['isScene']?_0x4e435c['overrideMaterial']:null))return;void 0x0===_0x543df6['state']['transmissionRenderTarget'][_0x2112b9['id']]&&(_0x543df6['state']['transmissionRenderTarget'][_0x2112b9['id']]=new _0x42a528['nWS'](0x1,0x1,{'generateMipmaps':!0x0,'type':_0x3a8c92['has']('EXT_color_buffer_half_float')||_0x3a8c92['has']('EXT_color_buffer_float')?_0x42a528['ix0']:_0x42a528['OUM'],'minFilter':_0x42a528['$_I'],'samples':0x4,'stencilBuffer':_0x339d7a,'resolveDepthBuffer':!0x1,'resolveStencilBuffer':!0x1,'colorSpace':_0x42a528['ppV']['workingColorSpace']}));const _0xbfc497=_0x543df6['state']['transmissionRenderTarget'][_0x2112b9['id']],_0x4afcc5=_0x2112b9['viewport']||_0x463f7e;_0xbfc497['setSize'](_0x4afcc5['z']*_0x370da6['transmissionResolutionScale'],_0x4afcc5['w']*_0x370da6['transmissionResolutionScale']);const _0x5e3c22=_0x370da6['getRenderTarget']();_0x370da6['setRenderTarget'](_0xbfc497),_0x370da6['getClearColor'](_0x43ef95),_0x2025d5=_0x370da6['getClearAlpha'](),_0x2025d5<0x1&&_0x370da6['setClearColor'](0xffffff,0.5),_0x370da6['clear'](),_0x480836&&_0x35afde['render'](_0x4e435c);const _0x47b62a=_0x370da6['toneMapping'];_0x370da6['toneMapping']=_0x42a528['y_p'];const _0x4d8707=_0x2112b9['viewport'];if(void 0x0!==_0x2112b9['viewport']&&(_0x2112b9['viewport']=void 0x0),_0x543df6['setupLightsView'](_0x2112b9),!0x0===_0x196633&&_0x5477b1['setGlobalState'](_0x370da6['clippingPlanes'],_0x2112b9),_0x389ba0(_0x1ed554,_0x4e435c,_0x2112b9),_0x160826['updateMultisampleRenderTarget'](_0xbfc497),_0x160826['updateRenderTargetMipmap'](_0xbfc497),!0x1===_0x3a8c92['has']('WEBGL_multisampled_render_to_texture')){let _0x5761f6=!0x1;for(let _0x4bb993=0x0,_0x29cedf=_0x257766['length'];_0x4bb993<_0x29cedf;_0x4bb993++){const _0x35aff6=_0x257766[_0x4bb993],_0x551c62=_0x35aff6['object'],_0x5e0804=_0x35aff6['geometry'],_0x51eb24=_0x35aff6['material'],_0x14d732=_0x35aff6['group'];if(_0x51eb24['side']===_0x42a528['$EB']&&_0x551c62['layers']['test'](_0x2112b9['layers'])){const _0x566284=_0x51eb24['side'];_0x51eb24['side']=_0x42a528['hsX'],_0x51eb24['needsUpdate']=!0x0,_0xe25a25(_0x551c62,_0x4e435c,_0x2112b9,_0x5e0804,_0x51eb24,_0x14d732),_0x51eb24['side']=_0x566284,_0x51eb24['needsUpdate']=!0x0,_0x5761f6=!0x0;}}!0x0===_0x5761f6&&(_0x160826['updateMultisampleRenderTarget'](_0xbfc497),_0x160826['updateRenderTargetMipmap'](_0xbfc497));}_0x370da6['setRenderTarget'](_0x5e3c22),_0x370da6['setClearColor'](_0x43ef95,_0x2025d5),void 0x0!==_0x4d8707&&(_0x2112b9['viewport']=_0x4d8707),_0x370da6['toneMapping']=_0x47b62a;}function _0x389ba0(_0x18f054,_0x1bc908,_0x400539){const _0x1f0e47=!0x0===_0x1bc908['isScene']?_0x1bc908['overrideMaterial']:null;for(let _0x5626ed=0x0,_0x13e8e9=_0x18f054['length'];_0x5626ed<_0x13e8e9;_0x5626ed++){const _0x81c2b7=_0x18f054[_0x5626ed],_0x5a911b=_0x81c2b7['object'],_0x5d3d11=_0x81c2b7['geometry'],_0x391f64=null===_0x1f0e47?_0x81c2b7['material']:_0x1f0e47,_0x59b19b=_0x81c2b7['group'];_0x5a911b['layers']['test'](_0x400539['layers'])&&_0xe25a25(_0x5a911b,_0x1bc908,_0x400539,_0x5d3d11,_0x391f64,_0x59b19b);}}function _0xe25a25(_0x8af0be,_0x2969bc,_0x30c247,_0x3a3c00,_0x3c0e9a,_0x4ca346){_0x8af0be['onBeforeRender'](_0x370da6,_0x2969bc,_0x30c247,_0x3a3c00,_0x3c0e9a,_0x4ca346),_0x8af0be['modelViewMatrix']['multiplyMatrices'](_0x30c247['matrixWorldInverse'],_0x8af0be['matrixWorld']),_0x8af0be['normalMatrix']['getNormalMatrix'](_0x8af0be['modelViewMatrix']),_0x3c0e9a['onBeforeRender'](_0x370da6,_0x2969bc,_0x30c247,_0x3a3c00,_0x8af0be,_0x4ca346),!0x0===_0x3c0e9a['transparent']&&_0x3c0e9a['side']===_0x42a528['$EB']&&!0x1===_0x3c0e9a['forceSinglePass']?(_0x3c0e9a['side']=_0x42a528['hsX'],_0x3c0e9a['needsUpdate']=!0x0,_0x370da6['renderBufferDirect'](_0x30c247,_0x2969bc,_0x3a3c00,_0x3c0e9a,_0x8af0be,_0x4ca346),_0x3c0e9a['side']=_0x42a528['hB5'],_0x3c0e9a['needsUpdate']=!0x0,_0x370da6['renderBufferDirect'](_0x30c247,_0x2969bc,_0x3a3c00,_0x3c0e9a,_0x8af0be,_0x4ca346),_0x3c0e9a['side']=_0x42a528['$EB']):_0x370da6['renderBufferDirect'](_0x30c247,_0x2969bc,_0x3a3c00,_0x3c0e9a,_0x8af0be,_0x4ca346),_0x8af0be['onAfterRender'](_0x370da6,_0x2969bc,_0x30c247,_0x3a3c00,_0x3c0e9a,_0x4ca346);}function _0x7a399(_0x3e2646,_0x456597,_0x57bdf1){!0x0!==_0x456597['isScene']&&(_0x456597=_0x351f69);const _0x52a7e4=_0x5c22f0['get'](_0x3e2646),_0x2d18fe=_0x543df6['state']['lights'],_0x1b6404=_0x543df6['state']['shadowsArray'],_0x4116a1=_0x2d18fe['state']['version'],_0xd8d65c=_0xd8c22d['getParameters'](_0x3e2646,_0x2d18fe['state'],_0x1b6404,_0x456597,_0x57bdf1),_0x2e3cc2=_0xd8c22d['getProgramCacheKey'](_0xd8d65c);let _0x559530=_0x52a7e4['programs'];_0x52a7e4['environment']=_0x3e2646['isMeshStandardMaterial']?_0x456597['environment']:null,_0x52a7e4['fog']=_0x456597['fog'],_0x52a7e4['envMap']=(_0x3e2646['isMeshStandardMaterial']?_0x2535fa:_0x272af1)['get'](_0x3e2646['envMap']||_0x52a7e4['environment']),_0x52a7e4['envMapRotation']=null!==_0x52a7e4['environment']&&null===_0x3e2646['envMap']?_0x456597['environmentRotation']:_0x3e2646['envMapRotation'],void 0x0===_0x559530&&(_0x3e2646['addEventListener']('dispose',_0x5c9459),_0x559530=new Map(),_0x52a7e4['programs']=_0x559530);let _0x1ee982=_0x559530['get'](_0x2e3cc2);if(void 0x0!==_0x1ee982){if(_0x52a7e4['currentProgram']===_0x1ee982&&_0x52a7e4['lightsStateVersion']===_0x4116a1)return _0x26172a(_0x3e2646,_0xd8d65c),_0x1ee982;}else _0xd8d65c['uniforms']=_0xd8c22d['getUniforms'](_0x3e2646),_0x3e2646['onBeforeCompile'](_0xd8d65c,_0x370da6),_0x1ee982=_0xd8c22d['acquireProgram'](_0xd8d65c,_0x2e3cc2),_0x559530['set'](_0x2e3cc2,_0x1ee982),_0x52a7e4['uniforms']=_0xd8d65c['uniforms'];const _0x328cd0=_0x52a7e4['uniforms'];return(_0x3e2646['isShaderMaterial']||_0x3e2646['isRawShaderMaterial'])&&!0x0!==_0x3e2646['clipping']||(_0x328cd0['clippingPlanes']=_0x5477b1['uniform']),_0x26172a(_0x3e2646,_0xd8d65c),_0x52a7e4['needsLights']=function(_0x5e35fc){return _0x5e35fc['isMeshLambertMaterial']||_0x5e35fc['isMeshToonMaterial']||_0x5e35fc['isMeshPhongMaterial']||_0x5e35fc['isMeshStandardMaterial']||_0x5e35fc['isShadowMaterial']||_0x5e35fc['isShaderMaterial']&&!0x0===_0x5e35fc['lights'];}(_0x3e2646),_0x52a7e4['lightsStateVersion']=_0x4116a1,_0x52a7e4['needsLights']&&(_0x328cd0['ambientLightColor']['value']=_0x2d18fe['state']['ambient'],_0x328cd0['lightProbe']['value']=_0x2d18fe['state']['probe'],_0x328cd0['directionalLights']['value']=_0x2d18fe['state']['directional'],_0x328cd0['directionalLightShadows']['value']=_0x2d18fe['state']['directionalShadow'],_0x328cd0['spotLights']['value']=_0x2d18fe['state']['spot'],_0x328cd0['spotLightShadows']['value']=_0x2d18fe['state']['spotShadow'],_0x328cd0['rectAreaLights']['value']=_0x2d18fe['state']['rectArea'],_0x328cd0['ltc_1']['value']=_0x2d18fe['state']['rectAreaLTC1'],_0x328cd0['ltc_2']['value']=_0x2d18fe['state']['rectAreaLTC2'],_0x328cd0['pointLights']['value']=_0x2d18fe['state']['point'],_0x328cd0['pointLightShadows']['value']=_0x2d18fe['state']['pointShadow'],_0x328cd0['hemisphereLights']['value']=_0x2d18fe['state']['hemi'],_0x328cd0['directionalShadowMap']['value']=_0x2d18fe['state']['directionalShadowMap'],_0x328cd0['directionalShadowMatrix']['value']=_0x2d18fe['state']['directionalShadowMatrix'],_0x328cd0['spotShadowMap']['value']=_0x2d18fe['state']['spotShadowMap'],_0x328cd0['spotLightMatrix']['value']=_0x2d18fe['state']['spotLightMatrix'],_0x328cd0['spotLightMap']['value']=_0x2d18fe['state']['spotLightMap'],_0x328cd0['pointShadowMap']['value']=_0x2d18fe['state']['pointShadowMap'],_0x328cd0['pointShadowMatrix']['value']=_0x2d18fe['state']['pointShadowMatrix']),_0x52a7e4['currentProgram']=_0x1ee982,_0x52a7e4['uniformsList']=null,_0x1ee982;}function _0x56201b(_0x5551f2){if(null===_0x5551f2['uniformsList']){const _0x2c4c8c=_0x5551f2['currentProgram']['getUniforms']();_0x5551f2['uniformsList']=_0x20e1ab['seqWithValue'](_0x2c4c8c['seq'],_0x5551f2['uniforms']);}return _0x5551f2['uniformsList'];}function _0x26172a(_0x4c8671,_0x3d5251){const _0x23ce47=_0x5c22f0['get'](_0x4c8671);_0x23ce47['outputColorSpace']=_0x3d5251['outputColorSpace'],_0x23ce47['batching']=_0x3d5251['batching'],_0x23ce47['batchingColor']=_0x3d5251['batchingColor'],_0x23ce47['instancing']=_0x3d5251['instancing'],_0x23ce47['instancingColor']=_0x3d5251['instancingColor'],_0x23ce47['instancingMorph']=_0x3d5251['instancingMorph'],_0x23ce47['skinning']=_0x3d5251['skinning'],_0x23ce47['morphTargets']=_0x3d5251['morphTargets'],_0x23ce47['morphNormals']=_0x3d5251['morphNormals'],_0x23ce47['morphColors']=_0x3d5251['morphColors'],_0x23ce47['morphTargetsCount']=_0x3d5251['morphTargetsCount'],_0x23ce47['numClippingPlanes']=_0x3d5251['numClippingPlanes'],_0x23ce47['numIntersection']=_0x3d5251['numClipIntersection'],_0x23ce47['vertexAlphas']=_0x3d5251['vertexAlphas'],_0x23ce47['vertexTangents']=_0x3d5251['vertexTangents'],_0x23ce47['toneMapping']=_0x3d5251['toneMapping'];}_0x4161b5['setAnimationLoop'](function(_0x5da086){_0x4a3a6f&&_0x4a3a6f(_0x5da086);}),'undefined'!=typeof self&&_0x4161b5['setContext'](self),this['setAnimationLoop']=function(_0xf8d8cf){_0x4a3a6f=_0xf8d8cf,_0x4a1e7f['setAnimationLoop'](_0xf8d8cf),null===_0xf8d8cf?_0x4161b5['stop']():_0x4161b5['start']();},_0x4a1e7f['addEventListener']('sessionstart',_0x3fc007),_0x4a1e7f['addEventListener']('sessionend',_0x4b14b2),this['render']=function(_0x5d3300,_0x52874a){if(void 0x0!==_0x52874a&&!0x0!==_0x52874a['isCamera'])return void console['error']('THREE.WebGLRenderer.render:\x20camera\x20is\x20not\x20an\x20instance\x20of\x20THREE.Camera.');if(!0x0===_0x521482)return;if(!0x0===_0x5d3300['matrixWorldAutoUpdate']&&_0x5d3300['updateMatrixWorld'](),null===_0x52874a['parent']&&!0x0===_0x52874a['matrixWorldAutoUpdate']&&_0x52874a['updateMatrixWorld'](),!0x0===_0x4a1e7f['enabled']&&!0x0===_0x4a1e7f['isPresenting']&&(!0x0===_0x4a1e7f['cameraAutoUpdate']&&_0x4a1e7f['updateCamera'](_0x52874a),_0x52874a=_0x4a1e7f['getCamera']()),!0x0===_0x5d3300['isScene']&&_0x5d3300['onBeforeRender'](_0x370da6,_0x5d3300,_0x52874a,_0x4406da),_0x543df6=_0x2d0af7['get'](_0x5d3300,_0x4359ed['length']),_0x543df6['init'](_0x52874a),_0x4359ed['push'](_0x543df6),_0x352cf4['multiplyMatrices'](_0x52874a['projectionMatrix'],_0x52874a['matrixWorldInverse']),_0x3ce95a['setFromProjectionMatrix'](_0x352cf4),_0x261bcf=this['localClippingEnabled'],_0x196633=_0x5477b1['init'](this['clippingPlanes'],_0x261bcf),_0xf2ab=_0x4a7e1e['get'](_0x5d3300,_0x470f5e['length']),_0xf2ab['init'](),_0x470f5e['push'](_0xf2ab),!0x0===_0x4a1e7f['enabled']&&!0x0===_0x4a1e7f['isPresenting']){const _0x4107ad=_0x370da6['xr']['getDepthSensingMesh']();null!==_0x4107ad&&_0x2e72ce(_0x4107ad,_0x52874a,-0x1/0x0,_0x370da6['sortObjects']);}_0x2e72ce(_0x5d3300,_0x52874a,0x0,_0x370da6['sortObjects']),_0xf2ab['finish'](),!0x0===_0x370da6['sortObjects']&&_0xf2ab['sort'](_0x6e873b,_0x5d82ae),_0x480836=!0x1===_0x4a1e7f['enabled']||!0x1===_0x4a1e7f['isPresenting']||!0x1===_0x4a1e7f['hasDepthSensing'](),_0x480836&&_0x35afde['addToRenderList'](_0xf2ab,_0x5d3300),this['info']['render']['frame']++,!0x0===_0x196633&&_0x5477b1['beginShadows']();const _0x28fd8e=_0x543df6['state']['shadowsArray'];_0x5ef8b1['render'](_0x28fd8e,_0x5d3300,_0x52874a),!0x0===_0x196633&&_0x5477b1['endShadows'](),!0x0===this['info']['autoReset']&&this['info']['reset']();const _0x15e0f1=_0xf2ab['opaque'],_0x5c2cac=_0xf2ab['transmissive'];if(_0x543df6['setupLights'](),_0x52874a['isArrayCamera']){const _0x162e29=_0x52874a['cameras'];if(_0x5c2cac['length']>0x0)for(let _0x267dd7=0x0,_0x13e896=_0x162e29['length'];_0x267dd7<_0x13e896;_0x267dd7++){_0x5139ff(_0x15e0f1,_0x5c2cac,_0x5d3300,_0x162e29[_0x267dd7]);}_0x480836&&_0x35afde['render'](_0x5d3300);for(let _0x55a0dc=0x0,_0x1f72f7=_0x162e29['length'];_0x55a0dc<_0x1f72f7;_0x55a0dc++){const _0x2183ec=_0x162e29[_0x55a0dc];_0x140a7b(_0xf2ab,_0x5d3300,_0x2183ec,_0x2183ec['viewport']);}}else _0x5c2cac['length']>0x0&&_0x5139ff(_0x15e0f1,_0x5c2cac,_0x5d3300,_0x52874a),_0x480836&&_0x35afde['render'](_0x5d3300),_0x140a7b(_0xf2ab,_0x5d3300,_0x52874a);null!==_0x4406da&&0x0===_0x4b8700&&(_0x160826['updateMultisampleRenderTarget'](_0x4406da),_0x160826['updateRenderTargetMipmap'](_0x4406da)),!0x0===_0x5d3300['isScene']&&_0x5d3300['onAfterRender'](_0x370da6,_0x5d3300,_0x52874a),_0x54c603['resetDefaultState'](),_0x2ade00=-0x1,_0x31b28f=null,_0x4359ed['pop'](),_0x4359ed['length']>0x0?(_0x543df6=_0x4359ed[_0x4359ed['length']-0x1],!0x0===_0x196633&&_0x5477b1['setGlobalState'](_0x370da6['clippingPlanes'],_0x543df6['state']['camera'])):_0x543df6=null,_0x470f5e['pop'](),_0xf2ab=_0x470f5e['length']>0x0?_0x470f5e[_0x470f5e['length']-0x1]:null;},this['getActiveCubeFace']=function(){return _0x206d17;},this['getActiveMipmapLevel']=function(){return _0x4b8700;},this['getRenderTarget']=function(){return _0x4406da;},this['setRenderTargetTextures']=function(_0x57e9ec,_0x23c19e,_0x563837){_0x5c22f0['get'](_0x57e9ec['texture'])['__webglTexture']=_0x23c19e,_0x5c22f0['get'](_0x57e9ec['depthTexture'])['__webglTexture']=_0x563837;const _0x54d0ae=_0x5c22f0['get'](_0x57e9ec);_0x54d0ae['__hasExternalTextures']=!0x0,_0x54d0ae['__autoAllocateDepthBuffer']=void 0x0===_0x563837,_0x54d0ae['__autoAllocateDepthBuffer']||!0x0===_0x3a8c92['has']('WEBGL_multisampled_render_to_texture')&&(console['warn']('THREE.WebGLRenderer:\x20Render-to-texture\x20extension\x20was\x20disabled\x20because\x20an\x20external\x20texture\x20was\x20provided'),_0x54d0ae['__useRenderToTexture']=!0x1);},this['setRenderTargetFramebuffer']=function(_0x419462,_0xd2abe0){const _0x3e1316=_0x5c22f0['get'](_0x419462);_0x3e1316['__webglFramebuffer']=_0xd2abe0,_0x3e1316['__useDefaultFramebuffer']=void 0x0===_0xd2abe0;};const _0x3531eb=_0x21ed3f['createFramebuffer']();this['setRenderTarget']=function(_0x1f6628,_0x43fd26=0x0,_0x487e91=0x0){_0x4406da=_0x1f6628,_0x206d17=_0x43fd26,_0x4b8700=_0x487e91;let _0x5bbcb6=!0x0,_0x5af7aa=null,_0x217d80=!0x1,_0x2a6a5f=!0x1;if(_0x1f6628){const _0x4dff2f=_0x5c22f0['get'](_0x1f6628);if(void 0x0!==_0x4dff2f['__useDefaultFramebuffer'])_0x25c8f2['bindFramebuffer'](_0x21ed3f['FRAMEBUFFER'],null),_0x5bbcb6=!0x1;else{if(void 0x0===_0x4dff2f['__webglFramebuffer'])_0x160826['setupRenderTarget'](_0x1f6628);else{if(_0x4dff2f['__hasExternalTextures'])_0x160826['rebindTextures'](_0x1f6628,_0x5c22f0['get'](_0x1f6628['texture'])['__webglTexture'],_0x5c22f0['get'](_0x1f6628['depthTexture'])['__webglTexture']);else{if(_0x1f6628['depthBuffer']){const _0x4aaf52=_0x1f6628['depthTexture'];if(_0x4dff2f['__boundDepthTexture']!==_0x4aaf52){if(null!==_0x4aaf52&&_0x5c22f0['has'](_0x4aaf52)&&(_0x1f6628['width']!==_0x4aaf52['image']['width']||_0x1f6628['height']!==_0x4aaf52['image']['height']))throw new Error('WebGLRenderTarget:\x20Attached\x20DepthTexture\x20is\x20initialized\x20to\x20the\x20incorrect\x20size.');_0x160826['setupDepthRenderbuffer'](_0x1f6628);}}}}}const _0x2b14de=_0x1f6628['texture'];(_0x2b14de['isData3DTexture']||_0x2b14de['isDataArrayTexture']||_0x2b14de['isCompressedArrayTexture'])&&(_0x2a6a5f=!0x0);const _0x20fe25=_0x5c22f0['get'](_0x1f6628)['__webglFramebuffer'];_0x1f6628['isWebGLCubeRenderTarget']?(_0x5af7aa=Array['isArray'](_0x20fe25[_0x43fd26])?_0x20fe25[_0x43fd26][_0x487e91]:_0x20fe25[_0x43fd26],_0x217d80=!0x0):_0x5af7aa=_0x1f6628['samples']>0x0&&!0x1===_0x160826['useMultisampledRTT'](_0x1f6628)?_0x5c22f0['get'](_0x1f6628)['__webglMultisampledFramebuffer']:Array['isArray'](_0x20fe25)?_0x20fe25[_0x487e91]:_0x20fe25,_0x463f7e['copy'](_0x1f6628['viewport']),_0x5eb2fd['copy'](_0x1f6628['scissor']),_0x218380=_0x1f6628['scissorTest'];}else _0x463f7e['copy'](_0x375f36)['multiplyScalar'](_0x22c788)['floor'](),_0x5eb2fd['copy'](_0x22153a)['multiplyScalar'](_0x22c788)['floor'](),_0x218380=_0x3a54c1;0x0!==_0x487e91&&(_0x5af7aa=_0x3531eb);if(_0x25c8f2['bindFramebuffer'](_0x21ed3f['FRAMEBUFFER'],_0x5af7aa)&&_0x5bbcb6&&_0x25c8f2['drawBuffers'](_0x1f6628,_0x5af7aa),_0x25c8f2['viewport'](_0x463f7e),_0x25c8f2['scissor'](_0x5eb2fd),_0x25c8f2['setScissorTest'](_0x218380),_0x217d80){const _0x4e24cb=_0x5c22f0['get'](_0x1f6628['texture']);_0x21ed3f['framebufferTexture2D'](_0x21ed3f['FRAMEBUFFER'],_0x21ed3f['COLOR_ATTACHMENT0'],_0x21ed3f['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x43fd26,_0x4e24cb['__webglTexture'],_0x487e91);}else{if(_0x2a6a5f){const _0x2b1a4a=_0x5c22f0['get'](_0x1f6628['texture']),_0x3ce81b=_0x43fd26;_0x21ed3f['framebufferTextureLayer'](_0x21ed3f['FRAMEBUFFER'],_0x21ed3f['COLOR_ATTACHMENT0'],_0x2b1a4a['__webglTexture'],_0x487e91,_0x3ce81b);}else{if(null!==_0x1f6628&&0x0!==_0x487e91){const _0x15be58=_0x5c22f0['get'](_0x1f6628['texture']);_0x21ed3f['framebufferTexture2D'](_0x21ed3f['FRAMEBUFFER'],_0x21ed3f['COLOR_ATTACHMENT0'],_0x21ed3f['TEXTURE_2D'],_0x15be58['__webglTexture'],_0x487e91);}}}_0x2ade00=-0x1;},this['readRenderTargetPixels']=function(_0x58ced1,_0x22c0c0,_0x46788c,_0xf833a9,_0x3102f0,_0x52f73f,_0x295faf){if(!_0x58ced1||!_0x58ced1['isWebGLRenderTarget'])return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20THREE.WebGLRenderTarget.');let _0x22a20a=_0x5c22f0['get'](_0x58ced1)['__webglFramebuffer'];if(_0x58ced1['isWebGLCubeRenderTarget']&&void 0x0!==_0x295faf&&(_0x22a20a=_0x22a20a[_0x295faf]),_0x22a20a){_0x25c8f2['bindFramebuffer'](_0x21ed3f['FRAMEBUFFER'],_0x22a20a);try{const _0x4c1c23=_0x58ced1['texture'],_0x3768eb=_0x4c1c23['format'],_0x2e13e1=_0x4c1c23['type'];if(!_0x399d7f['textureFormatReadable'](_0x3768eb))return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20in\x20RGBA\x20or\x20implementation\x20defined\x20format.');if(!_0x399d7f['textureTypeReadable'](_0x2e13e1))return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20in\x20UnsignedByteType\x20or\x20implementation\x20defined\x20type.');_0x22c0c0>=0x0&&_0x22c0c0<=_0x58ced1['width']-_0xf833a9&&_0x46788c>=0x0&&_0x46788c<=_0x58ced1['height']-_0x3102f0&&_0x21ed3f['readPixels'](_0x22c0c0,_0x46788c,_0xf833a9,_0x3102f0,_0x140498['convert'](_0x3768eb),_0x140498['convert'](_0x2e13e1),_0x52f73f);}finally{const _0x1ca442=null!==_0x4406da?_0x5c22f0['get'](_0x4406da)['__webglFramebuffer']:null;_0x25c8f2['bindFramebuffer'](_0x21ed3f['FRAMEBUFFER'],_0x1ca442);}}},this['readRenderTargetPixelsAsync']=async function(_0x1e62ac,_0x2b6d3d,_0x574eec,_0x21fe88,_0x462138,_0x5b456f,_0x1b2185){if(!_0x1e62ac||!_0x1e62ac['isWebGLRenderTarget'])throw new Error('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20THREE.WebGLRenderTarget.');let _0x1af3d8=_0x5c22f0['get'](_0x1e62ac)['__webglFramebuffer'];if(_0x1e62ac['isWebGLCubeRenderTarget']&&void 0x0!==_0x1b2185&&(_0x1af3d8=_0x1af3d8[_0x1b2185]),_0x1af3d8){const _0x53e5d9=_0x1e62ac['texture'],_0x195712=_0x53e5d9['format'],_0x43ef16=_0x53e5d9['type'];if(!_0x399d7f['textureFormatReadable'](_0x195712))throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20renderTarget\x20is\x20not\x20in\x20RGBA\x20or\x20implementation\x20defined\x20format.');if(!_0x399d7f['textureTypeReadable'](_0x43ef16))throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20renderTarget\x20is\x20not\x20in\x20UnsignedByteType\x20or\x20implementation\x20defined\x20type.');if(_0x2b6d3d>=0x0&&_0x2b6d3d<=_0x1e62ac['width']-_0x21fe88&&_0x574eec>=0x0&&_0x574eec<=_0x1e62ac['height']-_0x462138){_0x25c8f2['bindFramebuffer'](_0x21ed3f['FRAMEBUFFER'],_0x1af3d8);const _0x30cc88=_0x21ed3f['createBuffer']();_0x21ed3f['bindBuffer'](_0x21ed3f['PIXEL_PACK_BUFFER'],_0x30cc88),_0x21ed3f['bufferData'](_0x21ed3f['PIXEL_PACK_BUFFER'],_0x5b456f['byteLength'],_0x21ed3f['STREAM_READ']),_0x21ed3f['readPixels'](_0x2b6d3d,_0x574eec,_0x21fe88,_0x462138,_0x140498['convert'](_0x195712),_0x140498['convert'](_0x43ef16),0x0);const _0x4140ee=null!==_0x4406da?_0x5c22f0['get'](_0x4406da)['__webglFramebuffer']:null;_0x25c8f2['bindFramebuffer'](_0x21ed3f['FRAMEBUFFER'],_0x4140ee);const _0x31f4df=_0x21ed3f['fenceSync'](_0x21ed3f['SYNC_GPU_COMMANDS_COMPLETE'],0x0);return _0x21ed3f['flush'](),await(0x0,_0x42a528['jej'])(_0x21ed3f,_0x31f4df,0x4),_0x21ed3f['bindBuffer'](_0x21ed3f['PIXEL_PACK_BUFFER'],_0x30cc88),_0x21ed3f['getBufferSubData'](_0x21ed3f['PIXEL_PACK_BUFFER'],0x0,_0x5b456f),_0x21ed3f['deleteBuffer'](_0x30cc88),_0x21ed3f['deleteSync'](_0x31f4df),_0x5b456f;}throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20requested\x20read\x20bounds\x20are\x20out\x20of\x20range.');}},this['copyFramebufferToTexture']=function(_0x22c7b8,_0x2cc149=null,_0x1b8f0a=0x0){!0x0!==_0x22c7b8['isTexture']&&((0x0,_0x42a528['mcG'])('WebGLRenderer:\x20copyFramebufferToTexture\x20function\x20signature\x20has\x20changed.'),_0x2cc149=arguments[0x0]||null,_0x22c7b8=arguments[0x1]);const _0x277d3b=Math['pow'](0x2,-_0x1b8f0a),_0x296a72=Math['floor'](_0x22c7b8['image']['width']*_0x277d3b),_0x3313cf=Math['floor'](_0x22c7b8['image']['height']*_0x277d3b),_0x416574=null!==_0x2cc149?_0x2cc149['x']:0x0,_0x3589ba=null!==_0x2cc149?_0x2cc149['y']:0x0;_0x160826['setTexture2D'](_0x22c7b8,0x0),_0x21ed3f['copyTexSubImage2D'](_0x21ed3f['TEXTURE_2D'],_0x1b8f0a,0x0,0x0,_0x416574,_0x3589ba,_0x296a72,_0x3313cf),_0x25c8f2['unbindTexture']();};const _0xe93aba=_0x21ed3f['createFramebuffer'](),_0x95dc63=_0x21ed3f['createFramebuffer']();this['copyTextureToTexture']=function(_0x4ce8b5,_0x25680d,_0x8f85ff=null,_0x5456b8=null,_0x533b08=0x0,_0x389fa5=null){let _0x127eb3,_0x1f30ec,_0x44fb64,_0x550a00,_0x40f87a,_0x3236b6,_0x599de6,_0xf092bb,_0x223250;!0x0!==_0x4ce8b5['isTexture']&&((0x0,_0x42a528['mcG'])('WebGLRenderer:\x20copyTextureToTexture\x20function\x20signature\x20has\x20changed.'),_0x5456b8=arguments[0x0]||null,_0x4ce8b5=arguments[0x1],_0x25680d=arguments[0x2],_0x389fa5=arguments[0x3]||0x0,_0x8f85ff=null),null===_0x389fa5&&(0x0!==_0x533b08?((0x0,_0x42a528['mcG'])('WebGLRenderer:\x20copyTextureToTexture\x20function\x20signature\x20has\x20changed\x20to\x20support\x20src\x20and\x20dst\x20mipmap\x20levels.'),_0x389fa5=_0x533b08,_0x533b08=0x0):_0x389fa5=0x0);const _0x3f060a=_0x4ce8b5['isCompressedTexture']?_0x4ce8b5['mipmaps'][_0x389fa5]:_0x4ce8b5['image'];if(null!==_0x8f85ff)_0x127eb3=_0x8f85ff['max']['x']-_0x8f85ff['min']['x'],_0x1f30ec=_0x8f85ff['max']['y']-_0x8f85ff['min']['y'],_0x44fb64=_0x8f85ff['isBox3']?_0x8f85ff['max']['z']-_0x8f85ff['min']['z']:0x1,_0x550a00=_0x8f85ff['min']['x'],_0x40f87a=_0x8f85ff['min']['y'],_0x3236b6=_0x8f85ff['isBox3']?_0x8f85ff['min']['z']:0x0;else{const _0x433583=Math['pow'](0x2,-_0x533b08);_0x127eb3=Math['floor'](_0x3f060a['width']*_0x433583),_0x1f30ec=Math['floor'](_0x3f060a['height']*_0x433583),_0x44fb64=_0x4ce8b5['isDataArrayTexture']?_0x3f060a['depth']:_0x4ce8b5['isData3DTexture']?Math['floor'](_0x3f060a['depth']*_0x433583):0x1,_0x550a00=0x0,_0x40f87a=0x0,_0x3236b6=0x0;}null!==_0x5456b8?(_0x599de6=_0x5456b8['x'],_0xf092bb=_0x5456b8['y'],_0x223250=_0x5456b8['z']):(_0x599de6=0x0,_0xf092bb=0x0,_0x223250=0x0);const _0x2e514e=_0x140498['convert'](_0x25680d['format']),_0x2e8296=_0x140498['convert'](_0x25680d['type']);let _0x1fce0d;_0x25680d['isData3DTexture']?(_0x160826['setTexture3D'](_0x25680d,0x0),_0x1fce0d=_0x21ed3f['TEXTURE_3D']):_0x25680d['isDataArrayTexture']||_0x25680d['isCompressedArrayTexture']?(_0x160826['setTexture2DArray'](_0x25680d,0x0),_0x1fce0d=_0x21ed3f['TEXTURE_2D_ARRAY']):(_0x160826['setTexture2D'](_0x25680d,0x0),_0x1fce0d=_0x21ed3f['TEXTURE_2D']),_0x21ed3f['pixelStorei'](_0x21ed3f['UNPACK_FLIP_Y_WEBGL'],_0x25680d['flipY']),_0x21ed3f['pixelStorei'](_0x21ed3f['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x25680d['premultiplyAlpha']),_0x21ed3f['pixelStorei'](_0x21ed3f['UNPACK_ALIGNMENT'],_0x25680d['unpackAlignment']);const _0x3f052b=_0x21ed3f['getParameter'](_0x21ed3f['UNPACK_ROW_LENGTH']),_0x274bed=_0x21ed3f['getParameter'](_0x21ed3f['UNPACK_IMAGE_HEIGHT']),_0x490cf5=_0x21ed3f['getParameter'](_0x21ed3f['UNPACK_SKIP_PIXELS']),_0x4b502c=_0x21ed3f['getParameter'](_0x21ed3f['UNPACK_SKIP_ROWS']),_0x3363a9=_0x21ed3f['getParameter'](_0x21ed3f['UNPACK_SKIP_IMAGES']);_0x21ed3f['pixelStorei'](_0x21ed3f['UNPACK_ROW_LENGTH'],_0x3f060a['width']),_0x21ed3f['pixelStorei'](_0x21ed3f['UNPACK_IMAGE_HEIGHT'],_0x3f060a['height']),_0x21ed3f['pixelStorei'](_0x21ed3f['UNPACK_SKIP_PIXELS'],_0x550a00),_0x21ed3f['pixelStorei'](_0x21ed3f['UNPACK_SKIP_ROWS'],_0x40f87a),_0x21ed3f['pixelStorei'](_0x21ed3f['UNPACK_SKIP_IMAGES'],_0x3236b6);const _0x49bb20=_0x4ce8b5['isDataArrayTexture']||_0x4ce8b5['isData3DTexture'],_0x321ae6=_0x25680d['isDataArrayTexture']||_0x25680d['isData3DTexture'];if(_0x4ce8b5['isDepthTexture']){const _0x31d4ff=_0x5c22f0['get'](_0x4ce8b5),_0x555bef=_0x5c22f0['get'](_0x25680d),_0x2a8668=_0x5c22f0['get'](_0x31d4ff['__renderTarget']),_0x1743ff=_0x5c22f0['get'](_0x555bef['__renderTarget']);_0x25c8f2['bindFramebuffer'](_0x21ed3f['READ_FRAMEBUFFER'],_0x2a8668['__webglFramebuffer']),_0x25c8f2['bindFramebuffer'](_0x21ed3f['DRAW_FRAMEBUFFER'],_0x1743ff['__webglFramebuffer']);for(let _0x262838=0x0;_0x262838<_0x44fb64;_0x262838++)_0x49bb20&&(_0x21ed3f['framebufferTextureLayer'](_0x21ed3f['READ_FRAMEBUFFER'],_0x21ed3f['COLOR_ATTACHMENT0'],_0x5c22f0['get'](_0x4ce8b5)['__webglTexture'],_0x533b08,_0x3236b6+_0x262838),_0x21ed3f['framebufferTextureLayer'](_0x21ed3f['DRAW_FRAMEBUFFER'],_0x21ed3f['COLOR_ATTACHMENT0'],_0x5c22f0['get'](_0x25680d)['__webglTexture'],_0x389fa5,_0x223250+_0x262838)),_0x21ed3f['blitFramebuffer'](_0x550a00,_0x40f87a,_0x127eb3,_0x1f30ec,_0x599de6,_0xf092bb,_0x127eb3,_0x1f30ec,_0x21ed3f['DEPTH_BUFFER_BIT'],_0x21ed3f['NEAREST']);_0x25c8f2['bindFramebuffer'](_0x21ed3f['READ_FRAMEBUFFER'],null),_0x25c8f2['bindFramebuffer'](_0x21ed3f['DRAW_FRAMEBUFFER'],null);}else{if(0x0!==_0x533b08||_0x4ce8b5['isRenderTargetTexture']||_0x5c22f0['has'](_0x4ce8b5)){const _0x18b374=_0x5c22f0['get'](_0x4ce8b5),_0x17f9b7=_0x5c22f0['get'](_0x25680d);_0x25c8f2['bindFramebuffer'](_0x21ed3f['READ_FRAMEBUFFER'],_0xe93aba),_0x25c8f2['bindFramebuffer'](_0x21ed3f['DRAW_FRAMEBUFFER'],_0x95dc63);for(let _0x5036d6=0x0;_0x5036d6<_0x44fb64;_0x5036d6++)_0x49bb20?_0x21ed3f['framebufferTextureLayer'](_0x21ed3f['READ_FRAMEBUFFER'],_0x21ed3f['COLOR_ATTACHMENT0'],_0x18b374['__webglTexture'],_0x533b08,_0x3236b6+_0x5036d6):_0x21ed3f['framebufferTexture2D'](_0x21ed3f['READ_FRAMEBUFFER'],_0x21ed3f['COLOR_ATTACHMENT0'],_0x21ed3f['TEXTURE_2D'],_0x18b374['__webglTexture'],_0x533b08),_0x321ae6?_0x21ed3f['framebufferTextureLayer'](_0x21ed3f['DRAW_FRAMEBUFFER'],_0x21ed3f['COLOR_ATTACHMENT0'],_0x17f9b7['__webglTexture'],_0x389fa5,_0x223250+_0x5036d6):_0x21ed3f['framebufferTexture2D'](_0x21ed3f['DRAW_FRAMEBUFFER'],_0x21ed3f['COLOR_ATTACHMENT0'],_0x21ed3f['TEXTURE_2D'],_0x17f9b7['__webglTexture'],_0x389fa5),0x0!==_0x533b08?_0x21ed3f['blitFramebuffer'](_0x550a00,_0x40f87a,_0x127eb3,_0x1f30ec,_0x599de6,_0xf092bb,_0x127eb3,_0x1f30ec,_0x21ed3f['COLOR_BUFFER_BIT'],_0x21ed3f['NEAREST']):_0x321ae6?_0x21ed3f['copyTexSubImage3D'](_0x1fce0d,_0x389fa5,_0x599de6,_0xf092bb,_0x223250+_0x5036d6,_0x550a00,_0x40f87a,_0x127eb3,_0x1f30ec):_0x21ed3f['copyTexSubImage2D'](_0x1fce0d,_0x389fa5,_0x599de6,_0xf092bb,_0x550a00,_0x40f87a,_0x127eb3,_0x1f30ec);_0x25c8f2['bindFramebuffer'](_0x21ed3f['READ_FRAMEBUFFER'],null),_0x25c8f2['bindFramebuffer'](_0x21ed3f['DRAW_FRAMEBUFFER'],null);}else _0x321ae6?_0x4ce8b5['isDataTexture']||_0x4ce8b5['isData3DTexture']?_0x21ed3f['texSubImage3D'](_0x1fce0d,_0x389fa5,_0x599de6,_0xf092bb,_0x223250,_0x127eb3,_0x1f30ec,_0x44fb64,_0x2e514e,_0x2e8296,_0x3f060a['data']):_0x25680d['isCompressedArrayTexture']?_0x21ed3f['compressedTexSubImage3D'](_0x1fce0d,_0x389fa5,_0x599de6,_0xf092bb,_0x223250,_0x127eb3,_0x1f30ec,_0x44fb64,_0x2e514e,_0x3f060a['data']):_0x21ed3f['texSubImage3D'](_0x1fce0d,_0x389fa5,_0x599de6,_0xf092bb,_0x223250,_0x127eb3,_0x1f30ec,_0x44fb64,_0x2e514e,_0x2e8296,_0x3f060a):_0x4ce8b5['isDataTexture']?_0x21ed3f['texSubImage2D'](_0x21ed3f['TEXTURE_2D'],_0x389fa5,_0x599de6,_0xf092bb,_0x127eb3,_0x1f30ec,_0x2e514e,_0x2e8296,_0x3f060a['data']):_0x4ce8b5['isCompressedTexture']?_0x21ed3f['compressedTexSubImage2D'](_0x21ed3f['TEXTURE_2D'],_0x389fa5,_0x599de6,_0xf092bb,_0x3f060a['width'],_0x3f060a['height'],_0x2e514e,_0x3f060a['data']):_0x21ed3f['texSubImage2D'](_0x21ed3f['TEXTURE_2D'],_0x389fa5,_0x599de6,_0xf092bb,_0x127eb3,_0x1f30ec,_0x2e514e,_0x2e8296,_0x3f060a);}_0x21ed3f['pixelStorei'](_0x21ed3f['UNPACK_ROW_LENGTH'],_0x3f052b),_0x21ed3f['pixelStorei'](_0x21ed3f['UNPACK_IMAGE_HEIGHT'],_0x274bed),_0x21ed3f['pixelStorei'](_0x21ed3f['UNPACK_SKIP_PIXELS'],_0x490cf5),_0x21ed3f['pixelStorei'](_0x21ed3f['UNPACK_SKIP_ROWS'],_0x4b502c),_0x21ed3f['pixelStorei'](_0x21ed3f['UNPACK_SKIP_IMAGES'],_0x3363a9),0x0===_0x389fa5&&_0x25680d['generateMipmaps']&&_0x21ed3f['generateMipmap'](_0x1fce0d),_0x25c8f2['unbindTexture']();},this['copyTextureToTexture3D']=function(_0x211703,_0x49c361,_0x41772e=null,_0x5b24df=null,_0x202300=0x0){return!0x0!==_0x211703['isTexture']&&((0x0,_0x42a528['mcG'])('WebGLRenderer:\x20copyTextureToTexture3D\x20function\x20signature\x20has\x20changed.'),_0x41772e=arguments[0x0]||null,_0x5b24df=arguments[0x1]||null,_0x211703=arguments[0x2],_0x49c361=arguments[0x3],_0x202300=arguments[0x4]||0x0),(0x0,_0x42a528['mcG'])('WebGLRenderer:\x20copyTextureToTexture3D\x20function\x20has\x20been\x20deprecated.\x20Use\x20\x22copyTextureToTexture\x22\x20instead.'),this['copyTextureToTexture'](_0x211703,_0x49c361,_0x41772e,_0x5b24df,_0x202300);},this['initRenderTarget']=function(_0x2d572e){void 0x0===_0x5c22f0['get'](_0x2d572e)['__webglFramebuffer']&&_0x160826['setupRenderTarget'](_0x2d572e);},this['initTexture']=function(_0x2fb45c){_0x2fb45c['isCubeTexture']?_0x160826['setTextureCube'](_0x2fb45c,0x0):_0x2fb45c['isData3DTexture']?_0x160826['setTexture3D'](_0x2fb45c,0x0):_0x2fb45c['isDataArrayTexture']||_0x2fb45c['isCompressedArrayTexture']?_0x160826['setTexture2DArray'](_0x2fb45c,0x0):_0x160826['setTexture2D'](_0x2fb45c,0x0),_0x25c8f2['unbindTexture']();},this['resetState']=function(){_0x206d17=0x0,_0x4b8700=0x0,_0x4406da=null,_0x25c8f2['reset'](),_0x54c603['reset']();},'undefined'!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__['dispatchEvent'](new CustomEvent('observe',{'detail':this}));}get['coordinateSystem'](){return _0x42a528['TdN'];}get['outputColorSpace'](){return this['_outputColorSpace'];}set['outputColorSpace'](_0x3fc0a2){this['_outputColorSpace']=_0x3fc0a2;const _0x19faa5=this['getContext']();_0x19faa5['drawingBufferColorspace']=_0x42a528['ppV']['_getDrawingBufferColorSpace'](_0x3fc0a2),_0x19faa5['unpackColorSpace']=_0x42a528['ppV']['_getUnpackColorSpace']();}}}}]);