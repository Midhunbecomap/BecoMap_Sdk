'use strict';(this['webpackChunkbecomap']=this['webpackChunkbecomap']||[])['push']([[0x282],{0x24dd:(_0x51efe6,_0x39d9b9,_0x435125)=>{_0x435125['d'](_0x39d9b9,{'JeP':()=>_0x4987c9,'vxI':()=>_0x4a2f7f});var _0x923951=_0x435125(0x133a);function _0x62177b(){let _0x50e357=null,_0x30d557=!0x1,_0x3dfc82=null,_0x2081e7=null;function _0x593ec8(_0x36c335,_0x144cf8){_0x3dfc82(_0x36c335,_0x144cf8),_0x2081e7=_0x50e357['requestAnimationFrame'](_0x593ec8);}return{'start':function(){!0x0!==_0x30d557&&null!==_0x3dfc82&&(_0x2081e7=_0x50e357['requestAnimationFrame'](_0x593ec8),_0x30d557=!0x0);},'stop':function(){_0x50e357['cancelAnimationFrame'](_0x2081e7),_0x30d557=!0x1;},'setAnimationLoop':function(_0x3394b9){_0x3dfc82=_0x3394b9;},'setContext':function(_0x512e12){_0x50e357=_0x512e12;}};}function _0x407cad(_0x1e3534){const _0x3dee5d=new WeakMap();return{'get':function(_0x2a9abb){return _0x2a9abb['isInterleavedBufferAttribute']&&(_0x2a9abb=_0x2a9abb['data']),_0x3dee5d['get'](_0x2a9abb);},'remove':function(_0x68197a){_0x68197a['isInterleavedBufferAttribute']&&(_0x68197a=_0x68197a['data']);const _0x52c591=_0x3dee5d['get'](_0x68197a);_0x52c591&&(_0x1e3534['deleteBuffer'](_0x52c591['buffer']),_0x3dee5d['delete'](_0x68197a));},'update':function(_0x2d9144,_0x11c065){if(_0x2d9144['isInterleavedBufferAttribute']&&(_0x2d9144=_0x2d9144['data']),_0x2d9144['isGLBufferAttribute']){const _0x243c5e=_0x3dee5d['get'](_0x2d9144);return void((!_0x243c5e||_0x243c5e['version']<_0x2d9144['version'])&&_0x3dee5d['set'](_0x2d9144,{'buffer':_0x2d9144['buffer'],'type':_0x2d9144['type'],'bytesPerElement':_0x2d9144['elementSize'],'version':_0x2d9144['version']}));}const _0x20e9b7=_0x3dee5d['get'](_0x2d9144);if(void 0x0===_0x20e9b7)_0x3dee5d['set'](_0x2d9144,function(_0x35297e,_0x2c49a2){const _0x1169e6=_0x35297e['array'],_0x58d50a=_0x35297e['usage'],_0x3cc51f=_0x1169e6['byteLength'],_0x3f8ef9=_0x1e3534['createBuffer']();let _0x332a7f;if(_0x1e3534['bindBuffer'](_0x2c49a2,_0x3f8ef9),_0x1e3534['bufferData'](_0x2c49a2,_0x1169e6,_0x58d50a),_0x35297e['onUploadCallback'](),_0x1169e6 instanceof Float32Array)_0x332a7f=_0x1e3534['FLOAT'];else{if(_0x1169e6 instanceof Uint16Array)_0x332a7f=_0x35297e['isFloat16BufferAttribute']?_0x1e3534['HALF_FLOAT']:_0x1e3534['UNSIGNED_SHORT'];else{if(_0x1169e6 instanceof Int16Array)_0x332a7f=_0x1e3534['SHORT'];else{if(_0x1169e6 instanceof Uint32Array)_0x332a7f=_0x1e3534['UNSIGNED_INT'];else{if(_0x1169e6 instanceof Int32Array)_0x332a7f=_0x1e3534['INT'];else{if(_0x1169e6 instanceof Int8Array)_0x332a7f=_0x1e3534['BYTE'];else{if(_0x1169e6 instanceof Uint8Array)_0x332a7f=_0x1e3534['UNSIGNED_BYTE'];else{if(!(_0x1169e6 instanceof Uint8ClampedArray))throw new Error('THREE.WebGLAttributes:\x20Unsupported\x20buffer\x20data\x20format:\x20'+_0x1169e6);_0x332a7f=_0x1e3534['UNSIGNED_BYTE'];}}}}}}}return{'buffer':_0x3f8ef9,'type':_0x332a7f,'bytesPerElement':_0x1169e6['BYTES_PER_ELEMENT'],'version':_0x35297e['version'],'size':_0x3cc51f};}(_0x2d9144,_0x11c065));else{if(_0x20e9b7['version']<_0x2d9144['version']){if(_0x20e9b7['size']!==_0x2d9144['array']['byteLength'])throw new Error('THREE.WebGLAttributes:\x20The\x20size\x20of\x20the\x20buffer\x20attribute\x27s\x20array\x20buffer\x20does\x20not\x20match\x20the\x20original\x20size.\x20Resizing\x20buffer\x20attributes\x20is\x20not\x20supported.');!function(_0xea4a02,_0x1dd29f,_0x5a76b2){const _0x5c92f9=_0x1dd29f['array'],_0x4ac9ed=_0x1dd29f['updateRanges'];if(_0x1e3534['bindBuffer'](_0x5a76b2,_0xea4a02),0x0===_0x4ac9ed['length'])_0x1e3534['bufferSubData'](_0x5a76b2,0x0,_0x5c92f9);else{_0x4ac9ed['sort']((_0x441b31,_0x45201c)=>_0x441b31['start']-_0x45201c['start']);let _0x1a9de2=0x0;for(let _0x6c893d=0x1;_0x6c893d<_0x4ac9ed['length'];_0x6c893d++){const _0x3f4dfc=_0x4ac9ed[_0x1a9de2],_0x34fd61=_0x4ac9ed[_0x6c893d];_0x34fd61['start']<=_0x3f4dfc['start']+_0x3f4dfc['count']+0x1?_0x3f4dfc['count']=Math['max'](_0x3f4dfc['count'],_0x34fd61['start']+_0x34fd61['count']-_0x3f4dfc['start']):(++_0x1a9de2,_0x4ac9ed[_0x1a9de2]=_0x34fd61);}_0x4ac9ed['length']=_0x1a9de2+0x1;for(let _0x148af5=0x0,_0x1a8573=_0x4ac9ed['length'];_0x148af5<_0x1a8573;_0x148af5++){const _0x37681e=_0x4ac9ed[_0x148af5];_0x1e3534['bufferSubData'](_0x5a76b2,_0x37681e['start']*_0x5c92f9['BYTES_PER_ELEMENT'],_0x5c92f9,_0x37681e['start'],_0x37681e['count']);}_0x1dd29f['clearUpdateRanges']();}_0x1dd29f['onUploadCallback']();}(_0x20e9b7['buffer'],_0x2d9144,_0x11c065),_0x20e9b7['version']=_0x2d9144['version'];}}}};}const _0x4a2f7f={'alphahash_fragment':'#ifdef\x20USE_ALPHAHASH\x0a\x09if\x20(\x20diffuseColor.a\x20<\x20getAlphaHashThreshold(\x20vPosition\x20)\x20)\x20discard;\x0a#endif','alphahash_pars_fragment':'#ifdef\x20USE_ALPHAHASH\x0a\x09const\x20float\x20ALPHA_HASH_SCALE\x20=\x200.05;\x0a\x09float\x20hash2D(\x20vec2\x20value\x20)\x20{\x0a\x09\x09return\x20fract(\x201.0e4\x20*\x20sin(\x2017.0\x20*\x20value.x\x20+\x200.1\x20*\x20value.y\x20)\x20*\x20(\x200.1\x20+\x20abs(\x20sin(\x2013.0\x20*\x20value.y\x20+\x20value.x\x20)\x20)\x20)\x20);\x0a\x09}\x0a\x09float\x20hash3D(\x20vec3\x20value\x20)\x20{\x0a\x09\x09return\x20hash2D(\x20vec2(\x20hash2D(\x20value.xy\x20),\x20value.z\x20)\x20);\x0a\x09}\x0a\x09float\x20getAlphaHashThreshold(\x20vec3\x20position\x20)\x20{\x0a\x09\x09float\x20maxDeriv\x20=\x20max(\x0a\x09\x09\x09length(\x20dFdx(\x20position.xyz\x20)\x20),\x0a\x09\x09\x09length(\x20dFdy(\x20position.xyz\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20pixScale\x20=\x201.0\x20/\x20(\x20ALPHA_HASH_SCALE\x20*\x20maxDeriv\x20);\x0a\x09\x09vec2\x20pixScales\x20=\x20vec2(\x0a\x09\x09\x09exp2(\x20floor(\x20log2(\x20pixScale\x20)\x20)\x20),\x0a\x09\x09\x09exp2(\x20ceil(\x20log2(\x20pixScale\x20)\x20)\x20)\x0a\x09\x09);\x0a\x09\x09vec2\x20alpha\x20=\x20vec2(\x0a\x09\x09\x09hash3D(\x20floor(\x20pixScales.x\x20*\x20position.xyz\x20)\x20),\x0a\x09\x09\x09hash3D(\x20floor(\x20pixScales.y\x20*\x20position.xyz\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20lerpFactor\x20=\x20fract(\x20log2(\x20pixScale\x20)\x20);\x0a\x09\x09float\x20x\x20=\x20(\x201.0\x20-\x20lerpFactor\x20)\x20*\x20alpha.x\x20+\x20lerpFactor\x20*\x20alpha.y;\x0a\x09\x09float\x20a\x20=\x20min(\x20lerpFactor,\x201.0\x20-\x20lerpFactor\x20);\x0a\x09\x09vec3\x20cases\x20=\x20vec3(\x0a\x09\x09\x09x\x20*\x20x\x20/\x20(\x202.0\x20*\x20a\x20*\x20(\x201.0\x20-\x20a\x20)\x20),\x0a\x09\x09\x09(\x20x\x20-\x200.5\x20*\x20a\x20)\x20/\x20(\x201.0\x20-\x20a\x20),\x0a\x09\x09\x091.0\x20-\x20(\x20(\x201.0\x20-\x20x\x20)\x20*\x20(\x201.0\x20-\x20x\x20)\x20/\x20(\x202.0\x20*\x20a\x20*\x20(\x201.0\x20-\x20a\x20)\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20threshold\x20=\x20(\x20x\x20<\x20(\x201.0\x20-\x20a\x20)\x20)\x0a\x09\x09\x09?\x20(\x20(\x20x\x20<\x20a\x20)\x20?\x20cases.x\x20:\x20cases.y\x20)\x0a\x09\x09\x09:\x20cases.z;\x0a\x09\x09return\x20clamp(\x20threshold\x20,\x201.0e-6,\x201.0\x20);\x0a\x09}\x0a#endif','alphamap_fragment':'#ifdef\x20USE_ALPHAMAP\x0a\x09diffuseColor.a\x20*=\x20texture2D(\x20alphaMap,\x20vAlphaMapUv\x20).g;\x0a#endif','alphamap_pars_fragment':'#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20sampler2D\x20alphaMap;\x0a#endif','alphatest_fragment':'#ifdef\x20USE_ALPHATEST\x0a\x09#ifdef\x20ALPHA_TO_COVERAGE\x0a\x09diffuseColor.a\x20=\x20smoothstep(\x20alphaTest,\x20alphaTest\x20+\x20fwidth(\x20diffuseColor.a\x20),\x20diffuseColor.a\x20);\x0a\x09if\x20(\x20diffuseColor.a\x20==\x200.0\x20)\x20discard;\x0a\x09#else\x0a\x09if\x20(\x20diffuseColor.a\x20<\x20alphaTest\x20)\x20discard;\x0a\x09#endif\x0a#endif','alphatest_pars_fragment':'#ifdef\x20USE_ALPHATEST\x0a\x09uniform\x20float\x20alphaTest;\x0a#endif','aomap_fragment':'#ifdef\x20USE_AOMAP\x0a\x09float\x20ambientOcclusion\x20=\x20(\x20texture2D(\x20aoMap,\x20vAoMapUv\x20).r\x20-\x201.0\x20)\x20*\x20aoMapIntensity\x20+\x201.0;\x0a\x09reflectedLight.indirectDiffuse\x20*=\x20ambientOcclusion;\x0a\x09#if\x20defined(\x20USE_CLEARCOAT\x20)\x20\x0a\x09\x09clearcoatSpecularIndirect\x20*=\x20ambientOcclusion;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_SHEEN\x20)\x20\x0a\x09\x09sheenSpecularIndirect\x20*=\x20ambientOcclusion;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20STANDARD\x20)\x0a\x09\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20geometryViewDir\x20)\x20);\x0a\x09\x09reflectedLight.indirectSpecular\x20*=\x20computeSpecularOcclusion(\x20dotNV,\x20ambientOcclusion,\x20material.roughness\x20);\x0a\x09#endif\x0a#endif','aomap_pars_fragment':'#ifdef\x20USE_AOMAP\x0a\x09uniform\x20sampler2D\x20aoMap;\x0a\x09uniform\x20float\x20aoMapIntensity;\x0a#endif','batching_pars_vertex':'#ifdef\x20USE_BATCHING\x0a\x09#if\x20!\x20defined(\x20GL_ANGLE_multi_draw\x20)\x0a\x09#define\x20gl_DrawID\x20_gl_DrawID\x0a\x09uniform\x20int\x20_gl_DrawID;\x0a\x09#endif\x0a\x09uniform\x20highp\x20sampler2D\x20batchingTexture;\x0a\x09uniform\x20highp\x20usampler2D\x20batchingIdTexture;\x0a\x09mat4\x20getBatchingMatrix(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20)\x20*\x204;\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09vec4\x20v1\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v2\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x201,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v3\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x202,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v4\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x203,\x20y\x20),\x200\x20);\x0a\x09\x09return\x20mat4(\x20v1,\x20v2,\x20v3,\x20v4\x20);\x0a\x09}\x0a\x09float\x20getIndirectIndex(\x20const\x20in\x20int\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingIdTexture,\x200\x20).x;\x0a\x09\x09int\x20x\x20=\x20i\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20i\x20/\x20size;\x0a\x09\x09return\x20float(\x20texelFetch(\x20batchingIdTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20).r\x20);\x0a\x09}\x0a#endif\x0a#ifdef\x20USE_BATCHING_COLOR\x0a\x09uniform\x20sampler2D\x20batchingColorTexture;\x0a\x09vec3\x20getBatchingColor(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingColorTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20);\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09return\x20texelFetch(\x20batchingColorTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20).rgb;\x0a\x09}\x0a#endif','batching_vertex':'#ifdef\x20USE_BATCHING\x0a\x09mat4\x20batchingMatrix\x20=\x20getBatchingMatrix(\x20getIndirectIndex(\x20gl_DrawID\x20)\x20);\x0a#endif','begin_vertex':'vec3\x20transformed\x20=\x20vec3(\x20position\x20);\x0a#ifdef\x20USE_ALPHAHASH\x0a\x09vPosition\x20=\x20vec3(\x20position\x20);\x0a#endif','beginnormal_vertex':'vec3\x20objectNormal\x20=\x20vec3(\x20normal\x20);\x0a#ifdef\x20USE_TANGENT\x0a\x09vec3\x20objectTangent\x20=\x20vec3(\x20tangent.xyz\x20);\x0a#endif','bsdfs':'float\x20G_BlinnPhong_Implicit(\x20)\x20{\x0a\x09return\x200.25;\x0a}\x0afloat\x20D_BlinnPhong(\x20const\x20in\x20float\x20shininess,\x20const\x20in\x20float\x20dotNH\x20)\x20{\x0a\x09return\x20RECIPROCAL_PI\x20*\x20(\x20shininess\x20*\x200.5\x20+\x201.0\x20)\x20*\x20pow(\x20dotNH,\x20shininess\x20);\x0a}\x0avec3\x20BRDF_BlinnPhong(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20shininess\x20)\x20{\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09vec3\x20F\x20=\x20F_Schlick(\x20specularColor,\x201.0,\x20dotVH\x20);\x0a\x09float\x20G\x20=\x20G_BlinnPhong_Implicit(\x20);\x0a\x09float\x20D\x20=\x20D_BlinnPhong(\x20shininess,\x20dotNH\x20);\x0a\x09return\x20F\x20*\x20(\x20G\x20*\x20D\x20);\x0a}\x20//\x20validated','iridescence_fragment':'#ifdef\x20USE_IRIDESCENCE\x0a\x09const\x20mat3\x20XYZ_TO_REC709\x20=\x20mat3(\x0a\x09\x09\x203.2404542,\x20-0.9692660,\x20\x200.0556434,\x0a\x09\x09-1.5371385,\x20\x201.8760108,\x20-0.2040259,\x0a\x09\x09-0.4985314,\x20\x200.0415560,\x20\x201.0572252\x0a\x09);\x0a\x09vec3\x20Fresnel0ToIor(\x20vec3\x20fresnel0\x20)\x20{\x0a\x09\x09vec3\x20sqrtF0\x20=\x20sqrt(\x20fresnel0\x20);\x0a\x09\x09return\x20(\x20vec3(\x201.0\x20)\x20+\x20sqrtF0\x20)\x20/\x20(\x20vec3(\x201.0\x20)\x20-\x20sqrtF0\x20);\x0a\x09}\x0a\x09vec3\x20IorToFresnel0(\x20vec3\x20transmittedIor,\x20float\x20incidentIor\x20)\x20{\x0a\x09\x09return\x20pow2(\x20(\x20transmittedIor\x20-\x20vec3(\x20incidentIor\x20)\x20)\x20/\x20(\x20transmittedIor\x20+\x20vec3(\x20incidentIor\x20)\x20)\x20);\x0a\x09}\x0a\x09float\x20IorToFresnel0(\x20float\x20transmittedIor,\x20float\x20incidentIor\x20)\x20{\x0a\x09\x09return\x20pow2(\x20(\x20transmittedIor\x20-\x20incidentIor\x20)\x20/\x20(\x20transmittedIor\x20+\x20incidentIor\x20));\x0a\x09}\x0a\x09vec3\x20evalSensitivity(\x20float\x20OPD,\x20vec3\x20shift\x20)\x20{\x0a\x09\x09float\x20phase\x20=\x202.0\x20*\x20PI\x20*\x20OPD\x20*\x201.0e-9;\x0a\x09\x09vec3\x20val\x20=\x20vec3(\x205.4856e-13,\x204.4201e-13,\x205.2481e-13\x20);\x0a\x09\x09vec3\x20pos\x20=\x20vec3(\x201.6810e+06,\x201.7953e+06,\x202.2084e+06\x20);\x0a\x09\x09vec3\x20var\x20=\x20vec3(\x204.3278e+09,\x209.3046e+09,\x206.6121e+09\x20);\x0a\x09\x09vec3\x20xyz\x20=\x20val\x20*\x20sqrt(\x202.0\x20*\x20PI\x20*\x20var\x20)\x20*\x20cos(\x20pos\x20*\x20phase\x20+\x20shift\x20)\x20*\x20exp(\x20-\x20pow2(\x20phase\x20)\x20*\x20var\x20);\x0a\x09\x09xyz.x\x20+=\x209.7470e-14\x20*\x20sqrt(\x202.0\x20*\x20PI\x20*\x204.5282e+09\x20)\x20*\x20cos(\x202.2399e+06\x20*\x20phase\x20+\x20shift[\x200\x20]\x20)\x20*\x20exp(\x20-\x204.5282e+09\x20*\x20pow2(\x20phase\x20)\x20);\x0a\x09\x09xyz\x20/=\x201.0685e-7;\x0a\x09\x09vec3\x20rgb\x20=\x20XYZ_TO_REC709\x20*\x20xyz;\x0a\x09\x09return\x20rgb;\x0a\x09}\x0a\x09vec3\x20evalIridescence(\x20float\x20outsideIOR,\x20float\x20eta2,\x20float\x20cosTheta1,\x20float\x20thinFilmThickness,\x20vec3\x20baseF0\x20)\x20{\x0a\x09\x09vec3\x20I;\x0a\x09\x09float\x20iridescenceIOR\x20=\x20mix(\x20outsideIOR,\x20eta2,\x20smoothstep(\x200.0,\x200.03,\x20thinFilmThickness\x20)\x20);\x0a\x09\x09float\x20sinTheta2Sq\x20=\x20pow2(\x20outsideIOR\x20/\x20iridescenceIOR\x20)\x20*\x20(\x201.0\x20-\x20pow2(\x20cosTheta1\x20)\x20);\x0a\x09\x09float\x20cosTheta2Sq\x20=\x201.0\x20-\x20sinTheta2Sq;\x0a\x09\x09if\x20(\x20cosTheta2Sq\x20<\x200.0\x20)\x20{\x0a\x09\x09\x09return\x20vec3(\x201.0\x20);\x0a\x09\x09}\x0a\x09\x09float\x20cosTheta2\x20=\x20sqrt(\x20cosTheta2Sq\x20);\x0a\x09\x09float\x20R0\x20=\x20IorToFresnel0(\x20iridescenceIOR,\x20outsideIOR\x20);\x0a\x09\x09float\x20R12\x20=\x20F_Schlick(\x20R0,\x201.0,\x20cosTheta1\x20);\x0a\x09\x09float\x20T121\x20=\x201.0\x20-\x20R12;\x0a\x09\x09float\x20phi12\x20=\x200.0;\x0a\x09\x09if\x20(\x20iridescenceIOR\x20<\x20outsideIOR\x20)\x20phi12\x20=\x20PI;\x0a\x09\x09float\x20phi21\x20=\x20PI\x20-\x20phi12;\x0a\x09\x09vec3\x20baseIOR\x20=\x20Fresnel0ToIor(\x20clamp(\x20baseF0,\x200.0,\x200.9999\x20)\x20);\x09\x09vec3\x20R1\x20=\x20IorToFresnel0(\x20baseIOR,\x20iridescenceIOR\x20);\x0a\x09\x09vec3\x20R23\x20=\x20F_Schlick(\x20R1,\x201.0,\x20cosTheta2\x20);\x0a\x09\x09vec3\x20phi23\x20=\x20vec3(\x200.0\x20);\x0a\x09\x09if\x20(\x20baseIOR[\x200\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x200\x20]\x20=\x20PI;\x0a\x09\x09if\x20(\x20baseIOR[\x201\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x201\x20]\x20=\x20PI;\x0a\x09\x09if\x20(\x20baseIOR[\x202\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x202\x20]\x20=\x20PI;\x0a\x09\x09float\x20OPD\x20=\x202.0\x20*\x20iridescenceIOR\x20*\x20thinFilmThickness\x20*\x20cosTheta2;\x0a\x09\x09vec3\x20phi\x20=\x20vec3(\x20phi21\x20)\x20+\x20phi23;\x0a\x09\x09vec3\x20R123\x20=\x20clamp(\x20R12\x20*\x20R23,\x201e-5,\x200.9999\x20);\x0a\x09\x09vec3\x20r123\x20=\x20sqrt(\x20R123\x20);\x0a\x09\x09vec3\x20Rs\x20=\x20pow2(\x20T121\x20)\x20*\x20R23\x20/\x20(\x20vec3(\x201.0\x20)\x20-\x20R123\x20);\x0a\x09\x09vec3\x20C0\x20=\x20R12\x20+\x20Rs;\x0a\x09\x09I\x20=\x20C0;\x0a\x09\x09vec3\x20Cm\x20=\x20Rs\x20-\x20T121;\x0a\x09\x09for\x20(\x20int\x20m\x20=\x201;\x20m\x20<=\x202;\x20++\x20m\x20)\x20{\x0a\x09\x09\x09Cm\x20*=\x20r123;\x0a\x09\x09\x09vec3\x20Sm\x20=\x202.0\x20*\x20evalSensitivity(\x20float(\x20m\x20)\x20*\x20OPD,\x20float(\x20m\x20)\x20*\x20phi\x20);\x0a\x09\x09\x09I\x20+=\x20Cm\x20*\x20Sm;\x0a\x09\x09}\x0a\x09\x09return\x20max(\x20I,\x20vec3(\x200.0\x20)\x20);\x0a\x09}\x0a#endif','bumpmap_pars_fragment':'#ifdef\x20USE_BUMPMAP\x0a\x09uniform\x20sampler2D\x20bumpMap;\x0a\x09uniform\x20float\x20bumpScale;\x0a\x09vec2\x20dHdxy_fwd()\x20{\x0a\x09\x09vec2\x20dSTdx\x20=\x20dFdx(\x20vBumpMapUv\x20);\x0a\x09\x09vec2\x20dSTdy\x20=\x20dFdy(\x20vBumpMapUv\x20);\x0a\x09\x09float\x20Hll\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20).x;\x0a\x09\x09float\x20dBx\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20+\x20dSTdx\x20).x\x20-\x20Hll;\x0a\x09\x09float\x20dBy\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20+\x20dSTdy\x20).x\x20-\x20Hll;\x0a\x09\x09return\x20vec2(\x20dBx,\x20dBy\x20);\x0a\x09}\x0a\x09vec3\x20perturbNormalArb(\x20vec3\x20surf_pos,\x20vec3\x20surf_norm,\x20vec2\x20dHdxy,\x20float\x20faceDirection\x20)\x20{\x0a\x09\x09vec3\x20vSigmaX\x20=\x20normalize(\x20dFdx(\x20surf_pos.xyz\x20)\x20);\x0a\x09\x09vec3\x20vSigmaY\x20=\x20normalize(\x20dFdy(\x20surf_pos.xyz\x20)\x20);\x0a\x09\x09vec3\x20vN\x20=\x20surf_norm;\x0a\x09\x09vec3\x20R1\x20=\x20cross(\x20vSigmaY,\x20vN\x20);\x0a\x09\x09vec3\x20R2\x20=\x20cross(\x20vN,\x20vSigmaX\x20);\x0a\x09\x09float\x20fDet\x20=\x20dot(\x20vSigmaX,\x20R1\x20)\x20*\x20faceDirection;\x0a\x09\x09vec3\x20vGrad\x20=\x20sign(\x20fDet\x20)\x20*\x20(\x20dHdxy.x\x20*\x20R1\x20+\x20dHdxy.y\x20*\x20R2\x20);\x0a\x09\x09return\x20normalize(\x20abs(\x20fDet\x20)\x20*\x20surf_norm\x20-\x20vGrad\x20);\x0a\x09}\x0a#endif','clipping_planes_fragment':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09vec4\x20plane;\x0a\x09#ifdef\x20ALPHA_TO_COVERAGE\x0a\x09\x09float\x20distanceToPlane,\x20distanceGradient;\x0a\x09\x09float\x20clipOpacity\x20=\x201.0;\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20UNION_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09distanceToPlane\x20=\x20-\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20+\x20plane.w;\x0a\x09\x09\x09distanceGradient\x20=\x20fwidth(\x20distanceToPlane\x20)\x20/\x202.0;\x0a\x09\x09\x09clipOpacity\x20*=\x20smoothstep(\x20-\x20distanceGradient,\x20distanceGradient,\x20distanceToPlane\x20);\x0a\x09\x09\x09if\x20(\x20clipOpacity\x20==\x200.0\x20)\x20discard;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09#if\x20UNION_CLIPPING_PLANES\x20<\x20NUM_CLIPPING_PLANES\x0a\x09\x09\x09float\x20unionClipOpacity\x20=\x201.0;\x0a\x09\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x20UNION_CLIPPING_PLANES;\x20i\x20<\x20NUM_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09\x09distanceToPlane\x20=\x20-\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20+\x20plane.w;\x0a\x09\x09\x09\x09distanceGradient\x20=\x20fwidth(\x20distanceToPlane\x20)\x20/\x202.0;\x0a\x09\x09\x09\x09unionClipOpacity\x20*=\x201.0\x20-\x20smoothstep(\x20-\x20distanceGradient,\x20distanceGradient,\x20distanceToPlane\x20);\x0a\x09\x09\x09}\x0a\x09\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09\x09clipOpacity\x20*=\x201.0\x20-\x20unionClipOpacity;\x0a\x09\x09#endif\x0a\x09\x09diffuseColor.a\x20*=\x20clipOpacity;\x0a\x09\x09if\x20(\x20diffuseColor.a\x20==\x200.0\x20)\x20discard;\x0a\x09#else\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20UNION_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09if\x20(\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20>\x20plane.w\x20)\x20discard;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09#if\x20UNION_CLIPPING_PLANES\x20<\x20NUM_CLIPPING_PLANES\x0a\x09\x09\x09bool\x20clipped\x20=\x20true;\x0a\x09\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x20UNION_CLIPPING_PLANES;\x20i\x20<\x20NUM_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09\x09clipped\x20=\x20(\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20>\x20plane.w\x20)\x20&&\x20clipped;\x0a\x09\x09\x09}\x0a\x09\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09\x09if\x20(\x20clipped\x20)\x20discard;\x0a\x09\x09#endif\x0a\x09#endif\x0a#endif','clipping_planes_pars_fragment':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09varying\x20vec3\x20vClipPosition;\x0a\x09uniform\x20vec4\x20clippingPlanes[\x20NUM_CLIPPING_PLANES\x20];\x0a#endif','clipping_planes_pars_vertex':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09varying\x20vec3\x20vClipPosition;\x0a#endif','clipping_planes_vertex':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09vClipPosition\x20=\x20-\x20mvPosition.xyz;\x0a#endif','color_fragment':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09diffuseColor\x20*=\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09diffuseColor.rgb\x20*=\x20vColor;\x0a#endif','color_pars_fragment':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09varying\x20vec4\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09varying\x20vec3\x20vColor;\x0a#endif','color_pars_vertex':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09varying\x20vec4\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x20||\x20defined(\x20USE_INSTANCING_COLOR\x20)\x20||\x20defined(\x20USE_BATCHING_COLOR\x20)\x0a\x09varying\x20vec3\x20vColor;\x0a#endif','color_vertex':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09vColor\x20=\x20vec4(\x201.0\x20);\x0a#elif\x20defined(\x20USE_COLOR\x20)\x20||\x20defined(\x20USE_INSTANCING_COLOR\x20)\x20||\x20defined(\x20USE_BATCHING_COLOR\x20)\x0a\x09vColor\x20=\x20vec3(\x201.0\x20);\x0a#endif\x0a#ifdef\x20USE_COLOR\x0a\x09vColor\x20*=\x20color;\x0a#endif\x0a#ifdef\x20USE_INSTANCING_COLOR\x0a\x09vColor.xyz\x20*=\x20instanceColor.xyz;\x0a#endif\x0a#ifdef\x20USE_BATCHING_COLOR\x0a\x09vec3\x20batchingColor\x20=\x20getBatchingColor(\x20getIndirectIndex(\x20gl_DrawID\x20)\x20);\x0a\x09vColor.xyz\x20*=\x20batchingColor.xyz;\x0a#endif','common':'#define\x20PI\x203.141592653589793\x0a#define\x20PI2\x206.283185307179586\x0a#define\x20PI_HALF\x201.5707963267948966\x0a#define\x20RECIPROCAL_PI\x200.3183098861837907\x0a#define\x20RECIPROCAL_PI2\x200.15915494309189535\x0a#define\x20EPSILON\x201e-6\x0a#ifndef\x20saturate\x0a#define\x20saturate(\x20a\x20)\x20clamp(\x20a,\x200.0,\x201.0\x20)\x0a#endif\x0a#define\x20whiteComplement(\x20a\x20)\x20(\x201.0\x20-\x20saturate(\x20a\x20)\x20)\x0afloat\x20pow2(\x20const\x20in\x20float\x20x\x20)\x20{\x20return\x20x*x;\x20}\x0avec3\x20pow2(\x20const\x20in\x20vec3\x20x\x20)\x20{\x20return\x20x*x;\x20}\x0afloat\x20pow3(\x20const\x20in\x20float\x20x\x20)\x20{\x20return\x20x*x*x;\x20}\x0afloat\x20pow4(\x20const\x20in\x20float\x20x\x20)\x20{\x20float\x20x2\x20=\x20x*x;\x20return\x20x2*x2;\x20}\x0afloat\x20max3(\x20const\x20in\x20vec3\x20v\x20)\x20{\x20return\x20max(\x20max(\x20v.x,\x20v.y\x20),\x20v.z\x20);\x20}\x0afloat\x20average(\x20const\x20in\x20vec3\x20v\x20)\x20{\x20return\x20dot(\x20v,\x20vec3(\x200.3333333\x20)\x20);\x20}\x0ahighp\x20float\x20rand(\x20const\x20in\x20vec2\x20uv\x20)\x20{\x0a\x09const\x20highp\x20float\x20a\x20=\x2012.9898,\x20b\x20=\x2078.233,\x20c\x20=\x2043758.5453;\x0a\x09highp\x20float\x20dt\x20=\x20dot(\x20uv.xy,\x20vec2(\x20a,b\x20)\x20),\x20sn\x20=\x20mod(\x20dt,\x20PI\x20);\x0a\x09return\x20fract(\x20sin(\x20sn\x20)\x20*\x20c\x20);\x0a}\x0a#ifdef\x20HIGH_PRECISION\x0a\x09float\x20precisionSafeLength(\x20vec3\x20v\x20)\x20{\x20return\x20length(\x20v\x20);\x20}\x0a#else\x0a\x09float\x20precisionSafeLength(\x20vec3\x20v\x20)\x20{\x0a\x09\x09float\x20maxComponent\x20=\x20max3(\x20abs(\x20v\x20)\x20);\x0a\x09\x09return\x20length(\x20v\x20/\x20maxComponent\x20)\x20*\x20maxComponent;\x0a\x09}\x0a#endif\x0astruct\x20IncidentLight\x20{\x0a\x09vec3\x20color;\x0a\x09vec3\x20direction;\x0a\x09bool\x20visible;\x0a};\x0astruct\x20ReflectedLight\x20{\x0a\x09vec3\x20directDiffuse;\x0a\x09vec3\x20directSpecular;\x0a\x09vec3\x20indirectDiffuse;\x0a\x09vec3\x20indirectSpecular;\x0a};\x0a#ifdef\x20USE_ALPHAHASH\x0a\x09varying\x20vec3\x20vPosition;\x0a#endif\x0avec3\x20transformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x09return\x20normalize(\x20(\x20matrix\x20*\x20vec4(\x20dir,\x200.0\x20)\x20).xyz\x20);\x0a}\x0avec3\x20inverseTransformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x09return\x20normalize(\x20(\x20vec4(\x20dir,\x200.0\x20)\x20*\x20matrix\x20).xyz\x20);\x0a}\x0amat3\x20transposeMat3(\x20const\x20in\x20mat3\x20m\x20)\x20{\x0a\x09mat3\x20tmp;\x0a\x09tmp[\x200\x20]\x20=\x20vec3(\x20m[\x200\x20].x,\x20m[\x201\x20].x,\x20m[\x202\x20].x\x20);\x0a\x09tmp[\x201\x20]\x20=\x20vec3(\x20m[\x200\x20].y,\x20m[\x201\x20].y,\x20m[\x202\x20].y\x20);\x0a\x09tmp[\x202\x20]\x20=\x20vec3(\x20m[\x200\x20].z,\x20m[\x201\x20].z,\x20m[\x202\x20].z\x20);\x0a\x09return\x20tmp;\x0a}\x0abool\x20isPerspectiveMatrix(\x20mat4\x20m\x20)\x20{\x0a\x09return\x20m[\x202\x20][\x203\x20]\x20==\x20-\x201.0;\x0a}\x0avec2\x20equirectUv(\x20in\x20vec3\x20dir\x20)\x20{\x0a\x09float\x20u\x20=\x20atan(\x20dir.z,\x20dir.x\x20)\x20*\x20RECIPROCAL_PI2\x20+\x200.5;\x0a\x09float\x20v\x20=\x20asin(\x20clamp(\x20dir.y,\x20-\x201.0,\x201.0\x20)\x20)\x20*\x20RECIPROCAL_PI\x20+\x200.5;\x0a\x09return\x20vec2(\x20u,\x20v\x20);\x0a}\x0avec3\x20BRDF_Lambert(\x20const\x20in\x20vec3\x20diffuseColor\x20)\x20{\x0a\x09return\x20RECIPROCAL_PI\x20*\x20diffuseColor;\x0a}\x0avec3\x20F_Schlick(\x20const\x20in\x20vec3\x20f0,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x09float\x20fresnel\x20=\x20exp2(\x20(\x20-\x205.55473\x20*\x20dotVH\x20-\x206.98316\x20)\x20*\x20dotVH\x20);\x0a\x09return\x20f0\x20*\x20(\x201.0\x20-\x20fresnel\x20)\x20+\x20(\x20f90\x20*\x20fresnel\x20);\x0a}\x0afloat\x20F_Schlick(\x20const\x20in\x20float\x20f0,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x09float\x20fresnel\x20=\x20exp2(\x20(\x20-\x205.55473\x20*\x20dotVH\x20-\x206.98316\x20)\x20*\x20dotVH\x20);\x0a\x09return\x20f0\x20*\x20(\x201.0\x20-\x20fresnel\x20)\x20+\x20(\x20f90\x20*\x20fresnel\x20);\x0a}\x20//\x20validated','cube_uv_reflection_fragment':'#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09#define\x20cubeUV_minMipLevel\x204.0\x0a\x09#define\x20cubeUV_minTileSize\x2016.0\x0a\x09float\x20getFace(\x20vec3\x20direction\x20)\x20{\x0a\x09\x09vec3\x20absDirection\x20=\x20abs(\x20direction\x20);\x0a\x09\x09float\x20face\x20=\x20-\x201.0;\x0a\x09\x09if\x20(\x20absDirection.x\x20>\x20absDirection.z\x20)\x20{\x0a\x09\x09\x09if\x20(\x20absDirection.x\x20>\x20absDirection.y\x20)\x0a\x09\x09\x09\x09face\x20=\x20direction.x\x20>\x200.0\x20?\x200.0\x20:\x203.0;\x0a\x09\x09\x09else\x0a\x09\x09\x09\x09face\x20=\x20direction.y\x20>\x200.0\x20?\x201.0\x20:\x204.0;\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09if\x20(\x20absDirection.z\x20>\x20absDirection.y\x20)\x0a\x09\x09\x09\x09face\x20=\x20direction.z\x20>\x200.0\x20?\x202.0\x20:\x205.0;\x0a\x09\x09\x09else\x0a\x09\x09\x09\x09face\x20=\x20direction.y\x20>\x200.0\x20?\x201.0\x20:\x204.0;\x0a\x09\x09}\x0a\x09\x09return\x20face;\x0a\x09}\x0a\x09vec2\x20getUV(\x20vec3\x20direction,\x20float\x20face\x20)\x20{\x0a\x09\x09vec2\x20uv;\x0a\x09\x09if\x20(\x20face\x20==\x200.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20direction.z,\x20direction.y\x20)\x20/\x20abs(\x20direction.x\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x201.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20-\x20direction.z\x20)\x20/\x20abs(\x20direction.y\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x202.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20direction.y\x20)\x20/\x20abs(\x20direction.z\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x203.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.z,\x20direction.y\x20)\x20/\x20abs(\x20direction.x\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x204.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20direction.z\x20)\x20/\x20abs(\x20direction.y\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20direction.x,\x20direction.y\x20)\x20/\x20abs(\x20direction.z\x20);\x0a\x09\x09}\x0a\x09\x09return\x200.5\x20*\x20(\x20uv\x20+\x201.0\x20);\x0a\x09}\x0a\x09vec3\x20bilinearCubeUV(\x20sampler2D\x20envMap,\x20vec3\x20direction,\x20float\x20mipInt\x20)\x20{\x0a\x09\x09float\x20face\x20=\x20getFace(\x20direction\x20);\x0a\x09\x09float\x20filterInt\x20=\x20max(\x20cubeUV_minMipLevel\x20-\x20mipInt,\x200.0\x20);\x0a\x09\x09mipInt\x20=\x20max(\x20mipInt,\x20cubeUV_minMipLevel\x20);\x0a\x09\x09float\x20faceSize\x20=\x20exp2(\x20mipInt\x20);\x0a\x09\x09highp\x20vec2\x20uv\x20=\x20getUV(\x20direction,\x20face\x20)\x20*\x20(\x20faceSize\x20-\x202.0\x20)\x20+\x201.0;\x0a\x09\x09if\x20(\x20face\x20>\x202.0\x20)\x20{\x0a\x09\x09\x09uv.y\x20+=\x20faceSize;\x0a\x09\x09\x09face\x20-=\x203.0;\x0a\x09\x09}\x0a\x09\x09uv.x\x20+=\x20face\x20*\x20faceSize;\x0a\x09\x09uv.x\x20+=\x20filterInt\x20*\x203.0\x20*\x20cubeUV_minTileSize;\x0a\x09\x09uv.y\x20+=\x204.0\x20*\x20(\x20exp2(\x20CUBEUV_MAX_MIP\x20)\x20-\x20faceSize\x20);\x0a\x09\x09uv.x\x20*=\x20CUBEUV_TEXEL_WIDTH;\x0a\x09\x09uv.y\x20*=\x20CUBEUV_TEXEL_HEIGHT;\x0a\x09\x09#ifdef\x20texture2DGradEXT\x0a\x09\x09\x09return\x20texture2DGradEXT(\x20envMap,\x20uv,\x20vec2(\x200.0\x20),\x20vec2(\x200.0\x20)\x20).rgb;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20texture2D(\x20envMap,\x20uv\x20).rgb;\x0a\x09\x09#endif\x0a\x09}\x0a\x09#define\x20cubeUV_r0\x201.0\x0a\x09#define\x20cubeUV_m0\x20-\x202.0\x0a\x09#define\x20cubeUV_r1\x200.8\x0a\x09#define\x20cubeUV_m1\x20-\x201.0\x0a\x09#define\x20cubeUV_r4\x200.4\x0a\x09#define\x20cubeUV_m4\x202.0\x0a\x09#define\x20cubeUV_r5\x200.305\x0a\x09#define\x20cubeUV_m5\x203.0\x0a\x09#define\x20cubeUV_r6\x200.21\x0a\x09#define\x20cubeUV_m6\x204.0\x0a\x09float\x20roughnessToMip(\x20float\x20roughness\x20)\x20{\x0a\x09\x09float\x20mip\x20=\x200.0;\x0a\x09\x09if\x20(\x20roughness\x20>=\x20cubeUV_r1\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r0\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m1\x20-\x20cubeUV_m0\x20)\x20/\x20(\x20cubeUV_r0\x20-\x20cubeUV_r1\x20)\x20+\x20cubeUV_m0;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r4\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r1\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m4\x20-\x20cubeUV_m1\x20)\x20/\x20(\x20cubeUV_r1\x20-\x20cubeUV_r4\x20)\x20+\x20cubeUV_m1;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r5\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r4\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m5\x20-\x20cubeUV_m4\x20)\x20/\x20(\x20cubeUV_r4\x20-\x20cubeUV_r5\x20)\x20+\x20cubeUV_m4;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r6\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r5\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m6\x20-\x20cubeUV_m5\x20)\x20/\x20(\x20cubeUV_r5\x20-\x20cubeUV_r6\x20)\x20+\x20cubeUV_m5;\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09mip\x20=\x20-\x202.0\x20*\x20log2(\x201.16\x20*\x20roughness\x20);\x09\x09}\x0a\x09\x09return\x20mip;\x0a\x09}\x0a\x09vec4\x20textureCubeUV(\x20sampler2D\x20envMap,\x20vec3\x20sampleDir,\x20float\x20roughness\x20)\x20{\x0a\x09\x09float\x20mip\x20=\x20clamp(\x20roughnessToMip(\x20roughness\x20),\x20cubeUV_m0,\x20CUBEUV_MAX_MIP\x20);\x0a\x09\x09float\x20mipF\x20=\x20fract(\x20mip\x20);\x0a\x09\x09float\x20mipInt\x20=\x20floor(\x20mip\x20);\x0a\x09\x09vec3\x20color0\x20=\x20bilinearCubeUV(\x20envMap,\x20sampleDir,\x20mipInt\x20);\x0a\x09\x09if\x20(\x20mipF\x20==\x200.0\x20)\x20{\x0a\x09\x09\x09return\x20vec4(\x20color0,\x201.0\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09vec3\x20color1\x20=\x20bilinearCubeUV(\x20envMap,\x20sampleDir,\x20mipInt\x20+\x201.0\x20);\x0a\x09\x09\x09return\x20vec4(\x20mix(\x20color0,\x20color1,\x20mipF\x20),\x201.0\x20);\x0a\x09\x09}\x0a\x09}\x0a#endif','defaultnormal_vertex':'vec3\x20transformedNormal\x20=\x20objectNormal;\x0a#ifdef\x20USE_TANGENT\x0a\x09vec3\x20transformedTangent\x20=\x20objectTangent;\x0a#endif\x0a#ifdef\x20USE_BATCHING\x0a\x09mat3\x20bm\x20=\x20mat3(\x20batchingMatrix\x20);\x0a\x09transformedNormal\x20/=\x20vec3(\x20dot(\x20bm[\x200\x20],\x20bm[\x200\x20]\x20),\x20dot(\x20bm[\x201\x20],\x20bm[\x201\x20]\x20),\x20dot(\x20bm[\x202\x20],\x20bm[\x202\x20]\x20)\x20);\x0a\x09transformedNormal\x20=\x20bm\x20*\x20transformedNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09transformedTangent\x20=\x20bm\x20*\x20transformedTangent;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_INSTANCING\x0a\x09mat3\x20im\x20=\x20mat3(\x20instanceMatrix\x20);\x0a\x09transformedNormal\x20/=\x20vec3(\x20dot(\x20im[\x200\x20],\x20im[\x200\x20]\x20),\x20dot(\x20im[\x201\x20],\x20im[\x201\x20]\x20),\x20dot(\x20im[\x202\x20],\x20im[\x202\x20]\x20)\x20);\x0a\x09transformedNormal\x20=\x20im\x20*\x20transformedNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09transformedTangent\x20=\x20im\x20*\x20transformedTangent;\x0a\x09#endif\x0a#endif\x0atransformedNormal\x20=\x20normalMatrix\x20*\x20transformedNormal;\x0a#ifdef\x20FLIP_SIDED\x0a\x09transformedNormal\x20=\x20-\x20transformedNormal;\x0a#endif\x0a#ifdef\x20USE_TANGENT\x0a\x09transformedTangent\x20=\x20(\x20modelViewMatrix\x20*\x20vec4(\x20transformedTangent,\x200.0\x20)\x20).xyz;\x0a\x09#ifdef\x20FLIP_SIDED\x0a\x09\x09transformedTangent\x20=\x20-\x20transformedTangent;\x0a\x09#endif\x0a#endif','displacementmap_pars_vertex':'#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09uniform\x20sampler2D\x20displacementMap;\x0a\x09uniform\x20float\x20displacementScale;\x0a\x09uniform\x20float\x20displacementBias;\x0a#endif','displacementmap_vertex':'#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09transformed\x20+=\x20normalize(\x20objectNormal\x20)\x20*\x20(\x20texture2D(\x20displacementMap,\x20vDisplacementMapUv\x20).x\x20*\x20displacementScale\x20+\x20displacementBias\x20);\x0a#endif','emissivemap_fragment':'#ifdef\x20USE_EMISSIVEMAP\x0a\x09vec4\x20emissiveColor\x20=\x20texture2D(\x20emissiveMap,\x20vEmissiveMapUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE_EMISSIVE\x0a\x09\x09emissiveColor\x20=\x20sRGBTransferEOTF(\x20emissiveColor\x20);\x0a\x09#endif\x0a\x09totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a#endif','emissivemap_pars_fragment':'#ifdef\x20USE_EMISSIVEMAP\x0a\x09uniform\x20sampler2D\x20emissiveMap;\x0a#endif','colorspace_fragment':'gl_FragColor\x20=\x20linearToOutputTexel(\x20gl_FragColor\x20);','colorspace_pars_fragment':'vec4\x20LinearTransferOETF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20value;\x0a}\x0avec4\x20sRGBTransferEOTF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20vec4(\x20mix(\x20pow(\x20value.rgb\x20*\x200.9478672986\x20+\x20vec3(\x200.0521327014\x20),\x20vec3(\x202.4\x20)\x20),\x20value.rgb\x20*\x200.0773993808,\x20vec3(\x20lessThanEqual(\x20value.rgb,\x20vec3(\x200.04045\x20)\x20)\x20)\x20),\x20value.a\x20);\x0a}\x0avec4\x20sRGBTransferOETF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20vec4(\x20mix(\x20pow(\x20value.rgb,\x20vec3(\x200.41666\x20)\x20)\x20*\x201.055\x20-\x20vec3(\x200.055\x20),\x20value.rgb\x20*\x2012.92,\x20vec3(\x20lessThanEqual(\x20value.rgb,\x20vec3(\x200.0031308\x20)\x20)\x20)\x20),\x20value.a\x20);\x0a}','envmap_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09vec3\x20cameraToFrag;\x0a\x09\x09if\x20(\x20isOrthographic\x20)\x20{\x0a\x09\x09\x09cameraToFrag\x20=\x20normalize(\x20vec3(\x20-\x20viewMatrix[\x200\x20][\x202\x20],\x20-\x20viewMatrix[\x201\x20][\x202\x20],\x20-\x20viewMatrix[\x202\x20][\x202\x20]\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09cameraToFrag\x20=\x20normalize(\x20vWorldPosition\x20-\x20cameraPosition\x20);\x0a\x09\x09}\x0a\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09\x09#ifdef\x20ENVMAP_MODE_REFLECTION\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20reflect(\x20cameraToFrag,\x20worldNormal\x20);\x0a\x09\x09#else\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20refract(\x20cameraToFrag,\x20worldNormal,\x20refractionRatio\x20);\x0a\x09\x09#endif\x0a\x09#else\x0a\x09\x09vec3\x20reflectVec\x20=\x20vReflect;\x0a\x09#endif\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09vec4\x20envColor\x20=\x20textureCube(\x20envMap,\x20envMapRotation\x20*\x20vec3(\x20flipEnvMap\x20*\x20reflectVec.x,\x20reflectVec.yz\x20)\x20);\x0a\x09#else\x0a\x09\x09vec4\x20envColor\x20=\x20vec4(\x200.0\x20);\x0a\x09#endif\x0a\x09#ifdef\x20ENVMAP_BLENDING_MULTIPLY\x0a\x09\x09outgoingLight\x20=\x20mix(\x20outgoingLight,\x20outgoingLight\x20*\x20envColor.xyz,\x20specularStrength\x20*\x20reflectivity\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_BLENDING_MIX\x20)\x0a\x09\x09outgoingLight\x20=\x20mix(\x20outgoingLight,\x20envColor.xyz,\x20specularStrength\x20*\x20reflectivity\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_BLENDING_ADD\x20)\x0a\x09\x09outgoingLight\x20+=\x20envColor.xyz\x20*\x20specularStrength\x20*\x20reflectivity;\x0a\x09#endif\x0a#endif','envmap_common_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09uniform\x20float\x20envMapIntensity;\x0a\x09uniform\x20float\x20flipEnvMap;\x0a\x09uniform\x20mat3\x20envMapRotation;\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x09#else\x0a\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x09#endif\x0a\x09\x0a#endif','envmap_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09uniform\x20float\x20reflectivity;\x0a\x09#if\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP\x20)\x20||\x20defined(\x20PHONG\x20)\x20||\x20defined(\x20LAMBERT\x20)\x0a\x09\x09#define\x20ENV_WORLDPOS\x0a\x09#endif\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09varying\x20vec3\x20vWorldPosition;\x0a\x09\x09uniform\x20float\x20refractionRatio;\x0a\x09#else\x0a\x09\x09varying\x20vec3\x20vReflect;\x0a\x09#endif\x0a#endif','envmap_pars_vertex':'#ifdef\x20USE_ENVMAP\x0a\x09#if\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP\x20)\x20||\x20defined(\x20PHONG\x20)\x20||\x20defined(\x20LAMBERT\x20)\x0a\x09\x09#define\x20ENV_WORLDPOS\x0a\x09#endif\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09\x0a\x09\x09varying\x20vec3\x20vWorldPosition;\x0a\x09#else\x0a\x09\x09varying\x20vec3\x20vReflect;\x0a\x09\x09uniform\x20float\x20refractionRatio;\x0a\x09#endif\x0a#endif','envmap_physical_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09vec3\x20getIBLIrradiance(\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09\x09\x09vec4\x20envMapColor\x20=\x20textureCubeUV(\x20envMap,\x20envMapRotation\x20*\x20worldNormal,\x201.0\x20);\x0a\x09\x09\x09return\x20PI\x20*\x20envMapColor.rgb\x20*\x20envMapIntensity;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09#endif\x0a\x09}\x0a\x09vec3\x20getIBLRadiance(\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20reflect(\x20-\x20viewDir,\x20normal\x20);\x0a\x09\x09\x09reflectVec\x20=\x20normalize(\x20mix(\x20reflectVec,\x20normal,\x20roughness\x20*\x20roughness)\x20);\x0a\x09\x09\x09reflectVec\x20=\x20inverseTransformDirection(\x20reflectVec,\x20viewMatrix\x20);\x0a\x09\x09\x09vec4\x20envMapColor\x20=\x20textureCubeUV(\x20envMap,\x20envMapRotation\x20*\x20reflectVec,\x20roughness\x20);\x0a\x09\x09\x09return\x20envMapColor.rgb\x20*\x20envMapIntensity;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09#endif\x0a\x09}\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09vec3\x20getIBLAnisotropyRadiance(\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20vec3\x20bitangent,\x20const\x20in\x20float\x20anisotropy\x20)\x20{\x0a\x09\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09\x09vec3\x20bentNormal\x20=\x20cross(\x20bitangent,\x20viewDir\x20);\x0a\x09\x09\x09\x09bentNormal\x20=\x20normalize(\x20cross(\x20bentNormal,\x20bitangent\x20)\x20);\x0a\x09\x09\x09\x09bentNormal\x20=\x20normalize(\x20mix(\x20bentNormal,\x20normal,\x20pow2(\x20pow2(\x201.0\x20-\x20anisotropy\x20*\x20(\x201.0\x20-\x20roughness\x20)\x20)\x20)\x20)\x20);\x0a\x09\x09\x09\x09return\x20getIBLRadiance(\x20viewDir,\x20bentNormal,\x20roughness\x20);\x0a\x09\x09\x09#else\x0a\x09\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09\x09#endif\x0a\x09\x09}\x0a\x09#endif\x0a#endif','envmap_vertex':'#ifdef\x20USE_ENVMAP\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a\x09#else\x0a\x09\x09vec3\x20cameraToVertex;\x0a\x09\x09if\x20(\x20isOrthographic\x20)\x20{\x0a\x09\x09\x09cameraToVertex\x20=\x20normalize(\x20vec3(\x20-\x20viewMatrix[\x200\x20][\x202\x20],\x20-\x20viewMatrix[\x201\x20][\x202\x20],\x20-\x20viewMatrix[\x202\x20][\x202\x20]\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09cameraToVertex\x20=\x20normalize(\x20worldPosition.xyz\x20-\x20cameraPosition\x20);\x0a\x09\x09}\x0a\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20transformedNormal,\x20viewMatrix\x20);\x0a\x09\x09#ifdef\x20ENVMAP_MODE_REFLECTION\x0a\x09\x09\x09vReflect\x20=\x20reflect(\x20cameraToVertex,\x20worldNormal\x20);\x0a\x09\x09#else\x0a\x09\x09\x09vReflect\x20=\x20refract(\x20cameraToVertex,\x20worldNormal,\x20refractionRatio\x20);\x0a\x09\x09#endif\x0a\x09#endif\x0a#endif','fog_vertex':'#ifdef\x20USE_FOG\x0a\x09vFogDepth\x20=\x20-\x20mvPosition.z;\x0a#endif','fog_pars_vertex':'#ifdef\x20USE_FOG\x0a\x09varying\x20float\x20vFogDepth;\x0a#endif','fog_fragment':'#ifdef\x20USE_FOG\x0a\x09#ifdef\x20FOG_EXP2\x0a\x09\x09float\x20fogFactor\x20=\x201.0\x20-\x20exp(\x20-\x20fogDensity\x20*\x20fogDensity\x20*\x20vFogDepth\x20*\x20vFogDepth\x20);\x0a\x09#else\x0a\x09\x09float\x20fogFactor\x20=\x20smoothstep(\x20fogNear,\x20fogFar,\x20vFogDepth\x20);\x0a\x09#endif\x0a\x09gl_FragColor.rgb\x20=\x20mix(\x20gl_FragColor.rgb,\x20fogColor,\x20fogFactor\x20);\x0a#endif','fog_pars_fragment':'#ifdef\x20USE_FOG\x0a\x09uniform\x20vec3\x20fogColor;\x0a\x09varying\x20float\x20vFogDepth;\x0a\x09#ifdef\x20FOG_EXP2\x0a\x09\x09uniform\x20float\x20fogDensity;\x0a\x09#else\x0a\x09\x09uniform\x20float\x20fogNear;\x0a\x09\x09uniform\x20float\x20fogFar;\x0a\x09#endif\x0a#endif','gradientmap_pars_fragment':'#ifdef\x20USE_GRADIENTMAP\x0a\x09uniform\x20sampler2D\x20gradientMap;\x0a#endif\x0avec3\x20getGradientIrradiance(\x20vec3\x20normal,\x20vec3\x20lightDirection\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20dot(\x20normal,\x20lightDirection\x20);\x0a\x09vec2\x20coord\x20=\x20vec2(\x20dotNL\x20*\x200.5\x20+\x200.5,\x200.0\x20);\x0a\x09#ifdef\x20USE_GRADIENTMAP\x0a\x09\x09return\x20vec3(\x20texture2D(\x20gradientMap,\x20coord\x20).r\x20);\x0a\x09#else\x0a\x09\x09vec2\x20fw\x20=\x20fwidth(\x20coord\x20)\x20*\x200.5;\x0a\x09\x09return\x20mix(\x20vec3(\x200.7\x20),\x20vec3(\x201.0\x20),\x20smoothstep(\x200.7\x20-\x20fw.x,\x200.7\x20+\x20fw.x,\x20coord.x\x20)\x20);\x0a\x09#endif\x0a}','lightmap_pars_fragment':'#ifdef\x20USE_LIGHTMAP\x0a\x09uniform\x20sampler2D\x20lightMap;\x0a\x09uniform\x20float\x20lightMapIntensity;\x0a#endif','lights_lambert_fragment':'LambertMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;\x0amaterial.specularStrength\x20=\x20specularStrength;','lights_lambert_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20LambertMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09float\x20specularStrength;\x0a};\x0avoid\x20RE_Direct_Lambert(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20LambertMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Lambert(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20LambertMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Lambert\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Lambert','lights_pars_begin':'uniform\x20bool\x20receiveShadow;\x0auniform\x20vec3\x20ambientLightColor;\x0a#if\x20defined(\x20USE_LIGHT_PROBES\x20)\x0a\x09uniform\x20vec3\x20lightProbe[\x209\x20];\x0a#endif\x0avec3\x20shGetIrradianceAt(\x20in\x20vec3\x20normal,\x20in\x20vec3\x20shCoefficients[\x209\x20]\x20)\x20{\x0a\x09float\x20x\x20=\x20normal.x,\x20y\x20=\x20normal.y,\x20z\x20=\x20normal.z;\x0a\x09vec3\x20result\x20=\x20shCoefficients[\x200\x20]\x20*\x200.886227;\x0a\x09result\x20+=\x20shCoefficients[\x201\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20y;\x0a\x09result\x20+=\x20shCoefficients[\x202\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x203\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20x;\x0a\x09result\x20+=\x20shCoefficients[\x204\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20x\x20*\x20y;\x0a\x09result\x20+=\x20shCoefficients[\x205\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20y\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x206\x20]\x20*\x20(\x200.743125\x20*\x20z\x20*\x20z\x20-\x200.247708\x20);\x0a\x09result\x20+=\x20shCoefficients[\x207\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20x\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x208\x20]\x20*\x200.429043\x20*\x20(\x20x\x20*\x20x\x20-\x20y\x20*\x20y\x20);\x0a\x09return\x20result;\x0a}\x0avec3\x20getLightProbeIrradiance(\x20const\x20in\x20vec3\x20lightProbe[\x209\x20],\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09vec3\x20irradiance\x20=\x20shGetIrradianceAt(\x20worldNormal,\x20lightProbe\x20);\x0a\x09return\x20irradiance;\x0a}\x0avec3\x20getAmbientLightIrradiance(\x20const\x20in\x20vec3\x20ambientLightColor\x20)\x20{\x0a\x09vec3\x20irradiance\x20=\x20ambientLightColor;\x0a\x09return\x20irradiance;\x0a}\x0afloat\x20getDistanceAttenuation(\x20const\x20in\x20float\x20lightDistance,\x20const\x20in\x20float\x20cutoffDistance,\x20const\x20in\x20float\x20decayExponent\x20)\x20{\x0a\x09float\x20distanceFalloff\x20=\x201.0\x20/\x20max(\x20pow(\x20lightDistance,\x20decayExponent\x20),\x200.01\x20);\x0a\x09if\x20(\x20cutoffDistance\x20>\x200.0\x20)\x20{\x0a\x09\x09distanceFalloff\x20*=\x20pow2(\x20saturate(\x201.0\x20-\x20pow4(\x20lightDistance\x20/\x20cutoffDistance\x20)\x20)\x20);\x0a\x09}\x0a\x09return\x20distanceFalloff;\x0a}\x0afloat\x20getSpotAttenuation(\x20const\x20in\x20float\x20coneCosine,\x20const\x20in\x20float\x20penumbraCosine,\x20const\x20in\x20float\x20angleCosine\x20)\x20{\x0a\x09return\x20smoothstep(\x20coneCosine,\x20penumbraCosine,\x20angleCosine\x20);\x0a}\x0a#if\x20NUM_DIR_LIGHTS\x20>\x200\x0a\x09struct\x20DirectionalLight\x20{\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20color;\x0a\x09};\x0a\x09uniform\x20DirectionalLight\x20directionalLights[\x20NUM_DIR_LIGHTS\x20];\x0a\x09void\x20getDirectionalLightInfo(\x20const\x20in\x20DirectionalLight\x20directionalLight,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09light.color\x20=\x20directionalLight.color;\x0a\x09\x09light.direction\x20=\x20directionalLight.direction;\x0a\x09\x09light.visible\x20=\x20true;\x0a\x09}\x0a#endif\x0a#if\x20NUM_POINT_LIGHTS\x20>\x200\x0a\x09struct\x20PointLight\x20{\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20color;\x0a\x09\x09float\x20distance;\x0a\x09\x09float\x20decay;\x0a\x09};\x0a\x09uniform\x20PointLight\x20pointLights[\x20NUM_POINT_LIGHTS\x20];\x0a\x09void\x20getPointLightInfo(\x20const\x20in\x20PointLight\x20pointLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09vec3\x20lVector\x20=\x20pointLight.position\x20-\x20geometryPosition;\x0a\x09\x09light.direction\x20=\x20normalize(\x20lVector\x20);\x0a\x09\x09float\x20lightDistance\x20=\x20length(\x20lVector\x20);\x0a\x09\x09light.color\x20=\x20pointLight.color;\x0a\x09\x09light.color\x20*=\x20getDistanceAttenuation(\x20lightDistance,\x20pointLight.distance,\x20pointLight.decay\x20);\x0a\x09\x09light.visible\x20=\x20(\x20light.color\x20!=\x20vec3(\x200.0\x20)\x20);\x0a\x09}\x0a#endif\x0a#if\x20NUM_SPOT_LIGHTS\x20>\x200\x0a\x09struct\x20SpotLight\x20{\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20color;\x0a\x09\x09float\x20distance;\x0a\x09\x09float\x20decay;\x0a\x09\x09float\x20coneCos;\x0a\x09\x09float\x20penumbraCos;\x0a\x09};\x0a\x09uniform\x20SpotLight\x20spotLights[\x20NUM_SPOT_LIGHTS\x20];\x0a\x09void\x20getSpotLightInfo(\x20const\x20in\x20SpotLight\x20spotLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09vec3\x20lVector\x20=\x20spotLight.position\x20-\x20geometryPosition;\x0a\x09\x09light.direction\x20=\x20normalize(\x20lVector\x20);\x0a\x09\x09float\x20angleCos\x20=\x20dot(\x20light.direction,\x20spotLight.direction\x20);\x0a\x09\x09float\x20spotAttenuation\x20=\x20getSpotAttenuation(\x20spotLight.coneCos,\x20spotLight.penumbraCos,\x20angleCos\x20);\x0a\x09\x09if\x20(\x20spotAttenuation\x20>\x200.0\x20)\x20{\x0a\x09\x09\x09float\x20lightDistance\x20=\x20length(\x20lVector\x20);\x0a\x09\x09\x09light.color\x20=\x20spotLight.color\x20*\x20spotAttenuation;\x0a\x09\x09\x09light.color\x20*=\x20getDistanceAttenuation(\x20lightDistance,\x20spotLight.distance,\x20spotLight.decay\x20);\x0a\x09\x09\x09light.visible\x20=\x20(\x20light.color\x20!=\x20vec3(\x200.0\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09light.color\x20=\x20vec3(\x200.0\x20);\x0a\x09\x09\x09light.visible\x20=\x20false;\x0a\x09\x09}\x0a\x09}\x0a#endif\x0a#if\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x0a\x09struct\x20RectAreaLight\x20{\x0a\x09\x09vec3\x20color;\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20halfWidth;\x0a\x09\x09vec3\x20halfHeight;\x0a\x09};\x0a\x09uniform\x20sampler2D\x20ltc_1;\x09uniform\x20sampler2D\x20ltc_2;\x0a\x09uniform\x20RectAreaLight\x20rectAreaLights[\x20NUM_RECT_AREA_LIGHTS\x20];\x0a#endif\x0a#if\x20NUM_HEMI_LIGHTS\x20>\x200\x0a\x09struct\x20HemisphereLight\x20{\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20skyColor;\x0a\x09\x09vec3\x20groundColor;\x0a\x09};\x0a\x09uniform\x20HemisphereLight\x20hemisphereLights[\x20NUM_HEMI_LIGHTS\x20];\x0a\x09vec3\x20getHemisphereLightIrradiance(\x20const\x20in\x20HemisphereLight\x20hemiLight,\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09\x09float\x20dotNL\x20=\x20dot(\x20normal,\x20hemiLight.direction\x20);\x0a\x09\x09float\x20hemiDiffuseWeight\x20=\x200.5\x20*\x20dotNL\x20+\x200.5;\x0a\x09\x09vec3\x20irradiance\x20=\x20mix(\x20hemiLight.groundColor,\x20hemiLight.skyColor,\x20hemiDiffuseWeight\x20);\x0a\x09\x09return\x20irradiance;\x0a\x09}\x0a#endif','lights_toon_fragment':'ToonMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;','lights_toon_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20ToonMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a};\x0avoid\x20RE_Direct_Toon(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20ToonMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09vec3\x20irradiance\x20=\x20getGradientIrradiance(\x20geometryNormal,\x20directLight.direction\x20)\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Toon(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20ToonMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Toon\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Toon','lights_phong_fragment':'BlinnPhongMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;\x0amaterial.specularColor\x20=\x20specular;\x0amaterial.specularShininess\x20=\x20shininess;\x0amaterial.specularStrength\x20=\x20specularStrength;','lights_phong_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20BlinnPhongMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09vec3\x20specularColor;\x0a\x09float\x20specularShininess;\x0a\x09float\x20specularStrength;\x0a};\x0avoid\x20RE_Direct_BlinnPhong(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20BlinnPhongMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a\x09reflectedLight.directSpecular\x20+=\x20irradiance\x20*\x20BRDF_BlinnPhong(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material.specularColor,\x20material.specularShininess\x20)\x20*\x20material.specularStrength;\x0a}\x0avoid\x20RE_IndirectDiffuse_BlinnPhong(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20BlinnPhongMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_BlinnPhong\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_BlinnPhong','lights_physical_fragment':'PhysicalMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb\x20*\x20(\x201.0\x20-\x20metalnessFactor\x20);\x0avec3\x20dxy\x20=\x20max(\x20abs(\x20dFdx(\x20nonPerturbedNormal\x20)\x20),\x20abs(\x20dFdy(\x20nonPerturbedNormal\x20)\x20)\x20);\x0afloat\x20geometryRoughness\x20=\x20max(\x20max(\x20dxy.x,\x20dxy.y\x20),\x20dxy.z\x20);\x0amaterial.roughness\x20=\x20max(\x20roughnessFactor,\x200.0525\x20);material.roughness\x20+=\x20geometryRoughness;\x0amaterial.roughness\x20=\x20min(\x20material.roughness,\x201.0\x20);\x0a#ifdef\x20IOR\x0a\x09material.ior\x20=\x20ior;\x0a\x09#ifdef\x20USE_SPECULAR\x0a\x09\x09float\x20specularIntensityFactor\x20=\x20specularIntensity;\x0a\x09\x09vec3\x20specularColorFactor\x20=\x20specularColor;\x0a\x09\x09#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09\x09\x09specularColorFactor\x20*=\x20texture2D(\x20specularColorMap,\x20vSpecularColorMapUv\x20).rgb;\x0a\x09\x09#endif\x0a\x09\x09#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09\x09\x09specularIntensityFactor\x20*=\x20texture2D(\x20specularIntensityMap,\x20vSpecularIntensityMapUv\x20).a;\x0a\x09\x09#endif\x0a\x09\x09material.specularF90\x20=\x20mix(\x20specularIntensityFactor,\x201.0,\x20metalnessFactor\x20);\x0a\x09#else\x0a\x09\x09float\x20specularIntensityFactor\x20=\x201.0;\x0a\x09\x09vec3\x20specularColorFactor\x20=\x20vec3(\x201.0\x20);\x0a\x09\x09material.specularF90\x20=\x201.0;\x0a\x09#endif\x0a\x09material.specularColor\x20=\x20mix(\x20min(\x20pow2(\x20(\x20material.ior\x20-\x201.0\x20)\x20/\x20(\x20material.ior\x20+\x201.0\x20)\x20)\x20*\x20specularColorFactor,\x20vec3(\x201.0\x20)\x20)\x20*\x20specularIntensityFactor,\x20diffuseColor.rgb,\x20metalnessFactor\x20);\x0a#else\x0a\x09material.specularColor\x20=\x20mix(\x20vec3(\x200.04\x20),\x20diffuseColor.rgb,\x20metalnessFactor\x20);\x0a\x09material.specularF90\x20=\x201.0;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09material.clearcoat\x20=\x20clearcoat;\x0a\x09material.clearcoatRoughness\x20=\x20clearcoatRoughness;\x0a\x09material.clearcoatF0\x20=\x20vec3(\x200.04\x20);\x0a\x09material.clearcoatF90\x20=\x201.0;\x0a\x09#ifdef\x20USE_CLEARCOATMAP\x0a\x09\x09material.clearcoat\x20*=\x20texture2D(\x20clearcoatMap,\x20vClearcoatMapUv\x20).x;\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09\x09material.clearcoatRoughness\x20*=\x20texture2D(\x20clearcoatRoughnessMap,\x20vClearcoatRoughnessMapUv\x20).y;\x0a\x09#endif\x0a\x09material.clearcoat\x20=\x20saturate(\x20material.clearcoat\x20);\x09material.clearcoatRoughness\x20=\x20max(\x20material.clearcoatRoughness,\x200.0525\x20);\x0a\x09material.clearcoatRoughness\x20+=\x20geometryRoughness;\x0a\x09material.clearcoatRoughness\x20=\x20min(\x20material.clearcoatRoughness,\x201.0\x20);\x0a#endif\x0a#ifdef\x20USE_DISPERSION\x0a\x09material.dispersion\x20=\x20dispersion;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09material.iridescence\x20=\x20iridescence;\x0a\x09material.iridescenceIOR\x20=\x20iridescenceIOR;\x0a\x09#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09\x09material.iridescence\x20*=\x20texture2D(\x20iridescenceMap,\x20vIridescenceMapUv\x20).r;\x0a\x09#endif\x0a\x09#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09\x09material.iridescenceThickness\x20=\x20(iridescenceThicknessMaximum\x20-\x20iridescenceThicknessMinimum)\x20*\x20texture2D(\x20iridescenceThicknessMap,\x20vIridescenceThicknessMapUv\x20).g\x20+\x20iridescenceThicknessMinimum;\x0a\x09#else\x0a\x09\x09material.iridescenceThickness\x20=\x20iridescenceThicknessMaximum;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_SHEEN\x0a\x09material.sheenColor\x20=\x20sheenColor;\x0a\x09#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09\x09material.sheenColor\x20*=\x20texture2D(\x20sheenColorMap,\x20vSheenColorMapUv\x20).rgb;\x0a\x09#endif\x0a\x09material.sheenRoughness\x20=\x20clamp(\x20sheenRoughness,\x200.07,\x201.0\x20);\x0a\x09#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09\x09material.sheenRoughness\x20*=\x20texture2D(\x20sheenRoughnessMap,\x20vSheenRoughnessMapUv\x20).a;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09#ifdef\x20USE_ANISOTROPYMAP\x0a\x09\x09mat2\x20anisotropyMat\x20=\x20mat2(\x20anisotropyVector.x,\x20anisotropyVector.y,\x20-\x20anisotropyVector.y,\x20anisotropyVector.x\x20);\x0a\x09\x09vec3\x20anisotropyPolar\x20=\x20texture2D(\x20anisotropyMap,\x20vAnisotropyMapUv\x20).rgb;\x0a\x09\x09vec2\x20anisotropyV\x20=\x20anisotropyMat\x20*\x20normalize(\x202.0\x20*\x20anisotropyPolar.rg\x20-\x20vec2(\x201.0\x20)\x20)\x20*\x20anisotropyPolar.b;\x0a\x09#else\x0a\x09\x09vec2\x20anisotropyV\x20=\x20anisotropyVector;\x0a\x09#endif\x0a\x09material.anisotropy\x20=\x20length(\x20anisotropyV\x20);\x0a\x09if(\x20material.anisotropy\x20==\x200.0\x20)\x20{\x0a\x09\x09anisotropyV\x20=\x20vec2(\x201.0,\x200.0\x20);\x0a\x09}\x20else\x20{\x0a\x09\x09anisotropyV\x20/=\x20material.anisotropy;\x0a\x09\x09material.anisotropy\x20=\x20saturate(\x20material.anisotropy\x20);\x0a\x09}\x0a\x09material.alphaT\x20=\x20mix(\x20pow2(\x20material.roughness\x20),\x201.0,\x20pow2(\x20material.anisotropy\x20)\x20);\x0a\x09material.anisotropyT\x20=\x20tbn[\x200\x20]\x20*\x20anisotropyV.x\x20+\x20tbn[\x201\x20]\x20*\x20anisotropyV.y;\x0a\x09material.anisotropyB\x20=\x20tbn[\x201\x20]\x20*\x20anisotropyV.x\x20-\x20tbn[\x200\x20]\x20*\x20anisotropyV.y;\x0a#endif','lights_physical_pars_fragment':'struct\x20PhysicalMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09float\x20roughness;\x0a\x09vec3\x20specularColor;\x0a\x09float\x20specularF90;\x0a\x09float\x20dispersion;\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20clearcoat;\x0a\x09\x09float\x20clearcoatRoughness;\x0a\x09\x09vec3\x20clearcoatF0;\x0a\x09\x09float\x20clearcoatF90;\x0a\x09#endif\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09float\x20iridescence;\x0a\x09\x09float\x20iridescenceIOR;\x0a\x09\x09float\x20iridescenceThickness;\x0a\x09\x09vec3\x20iridescenceFresnel;\x0a\x09\x09vec3\x20iridescenceF0;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09vec3\x20sheenColor;\x0a\x09\x09float\x20sheenRoughness;\x0a\x09#endif\x0a\x09#ifdef\x20IOR\x0a\x09\x09float\x20ior;\x0a\x09#endif\x0a\x09#ifdef\x20USE_TRANSMISSION\x0a\x09\x09float\x20transmission;\x0a\x09\x09float\x20transmissionAlpha;\x0a\x09\x09float\x20thickness;\x0a\x09\x09float\x20attenuationDistance;\x0a\x09\x09vec3\x20attenuationColor;\x0a\x09#endif\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09float\x20anisotropy;\x0a\x09\x09float\x20alphaT;\x0a\x09\x09vec3\x20anisotropyT;\x0a\x09\x09vec3\x20anisotropyB;\x0a\x09#endif\x0a};\x0avec3\x20clearcoatSpecularDirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20clearcoatSpecularIndirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20sheenSpecularDirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20sheenSpecularIndirect\x20=\x20vec3(0.0\x20);\x0avec3\x20Schlick_to_F0(\x20const\x20in\x20vec3\x20f,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x20\x20\x20\x20float\x20x\x20=\x20clamp(\x201.0\x20-\x20dotVH,\x200.0,\x201.0\x20);\x0a\x20\x20\x20\x20float\x20x2\x20=\x20x\x20*\x20x;\x0a\x20\x20\x20\x20float\x20x5\x20=\x20clamp(\x20x\x20*\x20x2\x20*\x20x2,\x200.0,\x200.9999\x20);\x0a\x20\x20\x20\x20return\x20(\x20f\x20-\x20vec3(\x20f90\x20)\x20*\x20x5\x20)\x20/\x20(\x201.0\x20-\x20x5\x20);\x0a}\x0afloat\x20V_GGX_SmithCorrelated(\x20const\x20in\x20float\x20alpha,\x20const\x20in\x20float\x20dotNL,\x20const\x20in\x20float\x20dotNV\x20)\x20{\x0a\x09float\x20a2\x20=\x20pow2(\x20alpha\x20);\x0a\x09float\x20gv\x20=\x20dotNL\x20*\x20sqrt(\x20a2\x20+\x20(\x201.0\x20-\x20a2\x20)\x20*\x20pow2(\x20dotNV\x20)\x20);\x0a\x09float\x20gl\x20=\x20dotNV\x20*\x20sqrt(\x20a2\x20+\x20(\x201.0\x20-\x20a2\x20)\x20*\x20pow2(\x20dotNL\x20)\x20);\x0a\x09return\x200.5\x20/\x20max(\x20gv\x20+\x20gl,\x20EPSILON\x20);\x0a}\x0afloat\x20D_GGX(\x20const\x20in\x20float\x20alpha,\x20const\x20in\x20float\x20dotNH\x20)\x20{\x0a\x09float\x20a2\x20=\x20pow2(\x20alpha\x20);\x0a\x09float\x20denom\x20=\x20pow2(\x20dotNH\x20)\x20*\x20(\x20a2\x20-\x201.0\x20)\x20+\x201.0;\x0a\x09return\x20RECIPROCAL_PI\x20*\x20a2\x20/\x20pow2(\x20denom\x20);\x0a}\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09float\x20V_GGX_SmithCorrelated_Anisotropic(\x20const\x20in\x20float\x20alphaT,\x20const\x20in\x20float\x20alphaB,\x20const\x20in\x20float\x20dotTV,\x20const\x20in\x20float\x20dotBV,\x20const\x20in\x20float\x20dotTL,\x20const\x20in\x20float\x20dotBL,\x20const\x20in\x20float\x20dotNV,\x20const\x20in\x20float\x20dotNL\x20)\x20{\x0a\x09\x09float\x20gv\x20=\x20dotNL\x20*\x20length(\x20vec3(\x20alphaT\x20*\x20dotTV,\x20alphaB\x20*\x20dotBV,\x20dotNV\x20)\x20);\x0a\x09\x09float\x20gl\x20=\x20dotNV\x20*\x20length(\x20vec3(\x20alphaT\x20*\x20dotTL,\x20alphaB\x20*\x20dotBL,\x20dotNL\x20)\x20);\x0a\x09\x09float\x20v\x20=\x200.5\x20/\x20(\x20gv\x20+\x20gl\x20);\x0a\x09\x09return\x20saturate(v);\x0a\x09}\x0a\x09float\x20D_GGX_Anisotropic(\x20const\x20in\x20float\x20alphaT,\x20const\x20in\x20float\x20alphaB,\x20const\x20in\x20float\x20dotNH,\x20const\x20in\x20float\x20dotTH,\x20const\x20in\x20float\x20dotBH\x20)\x20{\x0a\x09\x09float\x20a2\x20=\x20alphaT\x20*\x20alphaB;\x0a\x09\x09highp\x20vec3\x20v\x20=\x20vec3(\x20alphaB\x20*\x20dotTH,\x20alphaT\x20*\x20dotBH,\x20a2\x20*\x20dotNH\x20);\x0a\x09\x09highp\x20float\x20v2\x20=\x20dot(\x20v,\x20v\x20);\x0a\x09\x09float\x20w2\x20=\x20a2\x20/\x20v2;\x0a\x09\x09return\x20RECIPROCAL_PI\x20*\x20a2\x20*\x20pow2\x20(\x20w2\x20);\x0a\x09}\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09vec3\x20BRDF_GGX_Clearcoat(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20PhysicalMaterial\x20material)\x20{\x0a\x09\x09vec3\x20f0\x20=\x20material.clearcoatF0;\x0a\x09\x09float\x20f90\x20=\x20material.clearcoatF90;\x0a\x09\x09float\x20roughness\x20=\x20material.clearcoatRoughness;\x0a\x09\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09\x09vec3\x20F\x20=\x20F_Schlick(\x20f0,\x20f90,\x20dotVH\x20);\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated(\x20alpha,\x20dotNL,\x20dotNV\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX(\x20alpha,\x20dotNH\x20);\x0a\x09\x09return\x20F\x20*\x20(\x20V\x20*\x20D\x20);\x0a\x09}\x0a#endif\x0avec3\x20BRDF_GGX(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20PhysicalMaterial\x20material\x20)\x20{\x0a\x09vec3\x20f0\x20=\x20material.specularColor;\x0a\x09float\x20f90\x20=\x20material.specularF90;\x0a\x09float\x20roughness\x20=\x20material.roughness;\x0a\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09vec3\x20F\x20=\x20F_Schlick(\x20f0,\x20f90,\x20dotVH\x20);\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09F\x20=\x20mix(\x20F,\x20material.iridescenceFresnel,\x20material.iridescence\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09float\x20dotTL\x20=\x20dot(\x20material.anisotropyT,\x20lightDir\x20);\x0a\x09\x09float\x20dotTV\x20=\x20dot(\x20material.anisotropyT,\x20viewDir\x20);\x0a\x09\x09float\x20dotTH\x20=\x20dot(\x20material.anisotropyT,\x20halfDir\x20);\x0a\x09\x09float\x20dotBL\x20=\x20dot(\x20material.anisotropyB,\x20lightDir\x20);\x0a\x09\x09float\x20dotBV\x20=\x20dot(\x20material.anisotropyB,\x20viewDir\x20);\x0a\x09\x09float\x20dotBH\x20=\x20dot(\x20material.anisotropyB,\x20halfDir\x20);\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated_Anisotropic(\x20material.alphaT,\x20alpha,\x20dotTV,\x20dotBV,\x20dotTL,\x20dotBL,\x20dotNV,\x20dotNL\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX_Anisotropic(\x20material.alphaT,\x20alpha,\x20dotNH,\x20dotTH,\x20dotBH\x20);\x0a\x09#else\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated(\x20alpha,\x20dotNL,\x20dotNV\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX(\x20alpha,\x20dotNH\x20);\x0a\x09#endif\x0a\x09return\x20F\x20*\x20(\x20V\x20*\x20D\x20);\x0a}\x0avec2\x20LTC_Uv(\x20const\x20in\x20vec3\x20N,\x20const\x20in\x20vec3\x20V,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09const\x20float\x20LUT_SIZE\x20=\x2064.0;\x0a\x09const\x20float\x20LUT_SCALE\x20=\x20(\x20LUT_SIZE\x20-\x201.0\x20)\x20/\x20LUT_SIZE;\x0a\x09const\x20float\x20LUT_BIAS\x20=\x200.5\x20/\x20LUT_SIZE;\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20N,\x20V\x20)\x20);\x0a\x09vec2\x20uv\x20=\x20vec2(\x20roughness,\x20sqrt(\x201.0\x20-\x20dotNV\x20)\x20);\x0a\x09uv\x20=\x20uv\x20*\x20LUT_SCALE\x20+\x20LUT_BIAS;\x0a\x09return\x20uv;\x0a}\x0afloat\x20LTC_ClippedSphereFormFactor(\x20const\x20in\x20vec3\x20f\x20)\x20{\x0a\x09float\x20l\x20=\x20length(\x20f\x20);\x0a\x09return\x20max(\x20(\x20l\x20*\x20l\x20+\x20f.z\x20)\x20/\x20(\x20l\x20+\x201.0\x20),\x200.0\x20);\x0a}\x0avec3\x20LTC_EdgeVectorFormFactor(\x20const\x20in\x20vec3\x20v1,\x20const\x20in\x20vec3\x20v2\x20)\x20{\x0a\x09float\x20x\x20=\x20dot(\x20v1,\x20v2\x20);\x0a\x09float\x20y\x20=\x20abs(\x20x\x20);\x0a\x09float\x20a\x20=\x200.8543985\x20+\x20(\x200.4965155\x20+\x200.0145206\x20*\x20y\x20)\x20*\x20y;\x0a\x09float\x20b\x20=\x203.4175940\x20+\x20(\x204.1616724\x20+\x20y\x20)\x20*\x20y;\x0a\x09float\x20v\x20=\x20a\x20/\x20b;\x0a\x09float\x20theta_sintheta\x20=\x20(\x20x\x20>\x200.0\x20)\x20?\x20v\x20:\x200.5\x20*\x20inversesqrt(\x20max(\x201.0\x20-\x20x\x20*\x20x,\x201e-7\x20)\x20)\x20-\x20v;\x0a\x09return\x20cross(\x20v1,\x20v2\x20)\x20*\x20theta_sintheta;\x0a}\x0avec3\x20LTC_Evaluate(\x20const\x20in\x20vec3\x20N,\x20const\x20in\x20vec3\x20V,\x20const\x20in\x20vec3\x20P,\x20const\x20in\x20mat3\x20mInv,\x20const\x20in\x20vec3\x20rectCoords[\x204\x20]\x20)\x20{\x0a\x09vec3\x20v1\x20=\x20rectCoords[\x201\x20]\x20-\x20rectCoords[\x200\x20];\x0a\x09vec3\x20v2\x20=\x20rectCoords[\x203\x20]\x20-\x20rectCoords[\x200\x20];\x0a\x09vec3\x20lightNormal\x20=\x20cross(\x20v1,\x20v2\x20);\x0a\x09if(\x20dot(\x20lightNormal,\x20P\x20-\x20rectCoords[\x200\x20]\x20)\x20<\x200.0\x20)\x20return\x20vec3(\x200.0\x20);\x0a\x09vec3\x20T1,\x20T2;\x0a\x09T1\x20=\x20normalize(\x20V\x20-\x20N\x20*\x20dot(\x20V,\x20N\x20)\x20);\x0a\x09T2\x20=\x20-\x20cross(\x20N,\x20T1\x20);\x0a\x09mat3\x20mat\x20=\x20mInv\x20*\x20transposeMat3(\x20mat3(\x20T1,\x20T2,\x20N\x20)\x20);\x0a\x09vec3\x20coords[\x204\x20];\x0a\x09coords[\x200\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x200\x20]\x20-\x20P\x20);\x0a\x09coords[\x201\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x201\x20]\x20-\x20P\x20);\x0a\x09coords[\x202\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x202\x20]\x20-\x20P\x20);\x0a\x09coords[\x203\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x203\x20]\x20-\x20P\x20);\x0a\x09coords[\x200\x20]\x20=\x20normalize(\x20coords[\x200\x20]\x20);\x0a\x09coords[\x201\x20]\x20=\x20normalize(\x20coords[\x201\x20]\x20);\x0a\x09coords[\x202\x20]\x20=\x20normalize(\x20coords[\x202\x20]\x20);\x0a\x09coords[\x203\x20]\x20=\x20normalize(\x20coords[\x203\x20]\x20);\x0a\x09vec3\x20vectorFormFactor\x20=\x20vec3(\x200.0\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x200\x20],\x20coords[\x201\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x201\x20],\x20coords[\x202\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x202\x20],\x20coords[\x203\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x203\x20],\x20coords[\x200\x20]\x20);\x0a\x09float\x20result\x20=\x20LTC_ClippedSphereFormFactor(\x20vectorFormFactor\x20);\x0a\x09return\x20vec3(\x20result\x20);\x0a}\x0a#if\x20defined(\x20USE_SHEEN\x20)\x0afloat\x20D_Charlie(\x20float\x20roughness,\x20float\x20dotNH\x20)\x20{\x0a\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09float\x20invAlpha\x20=\x201.0\x20/\x20alpha;\x0a\x09float\x20cos2h\x20=\x20dotNH\x20*\x20dotNH;\x0a\x09float\x20sin2h\x20=\x20max(\x201.0\x20-\x20cos2h,\x200.0078125\x20);\x0a\x09return\x20(\x202.0\x20+\x20invAlpha\x20)\x20*\x20pow(\x20sin2h,\x20invAlpha\x20*\x200.5\x20)\x20/\x20(\x202.0\x20*\x20PI\x20);\x0a}\x0afloat\x20V_Neubelt(\x20float\x20dotNV,\x20float\x20dotNL\x20)\x20{\x0a\x09return\x20saturate(\x201.0\x20/\x20(\x204.0\x20*\x20(\x20dotNL\x20+\x20dotNV\x20-\x20dotNL\x20*\x20dotNV\x20)\x20)\x20);\x0a}\x0avec3\x20BRDF_Sheen(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20vec3\x20sheenColor,\x20const\x20in\x20float\x20sheenRoughness\x20)\x20{\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20D\x20=\x20D_Charlie(\x20sheenRoughness,\x20dotNH\x20);\x0a\x09float\x20V\x20=\x20V_Neubelt(\x20dotNV,\x20dotNL\x20);\x0a\x09return\x20sheenColor\x20*\x20(\x20D\x20*\x20V\x20);\x0a}\x0a#endif\x0afloat\x20IBLSheenBRDF(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20r2\x20=\x20roughness\x20*\x20roughness;\x0a\x09float\x20a\x20=\x20roughness\x20<\x200.25\x20?\x20-339.2\x20*\x20r2\x20+\x20161.4\x20*\x20roughness\x20-\x2025.9\x20:\x20-8.48\x20*\x20r2\x20+\x2014.3\x20*\x20roughness\x20-\x209.95;\x0a\x09float\x20b\x20=\x20roughness\x20<\x200.25\x20?\x2044.0\x20*\x20r2\x20-\x2023.7\x20*\x20roughness\x20+\x203.26\x20:\x201.97\x20*\x20r2\x20-\x203.27\x20*\x20roughness\x20+\x200.72;\x0a\x09float\x20DG\x20=\x20exp(\x20a\x20*\x20dotNV\x20+\x20b\x20)\x20+\x20(\x20roughness\x20<\x200.25\x20?\x200.0\x20:\x200.1\x20*\x20(\x20roughness\x20-\x200.25\x20)\x20);\x0a\x09return\x20saturate(\x20DG\x20*\x20RECIPROCAL_PI\x20);\x0a}\x0avec2\x20DFGApprox(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09const\x20vec4\x20c0\x20=\x20vec4(\x20-\x201,\x20-\x200.0275,\x20-\x200.572,\x200.022\x20);\x0a\x09const\x20vec4\x20c1\x20=\x20vec4(\x201,\x200.0425,\x201.04,\x20-\x200.04\x20);\x0a\x09vec4\x20r\x20=\x20roughness\x20*\x20c0\x20+\x20c1;\x0a\x09float\x20a004\x20=\x20min(\x20r.x\x20*\x20r.x,\x20exp2(\x20-\x209.28\x20*\x20dotNV\x20)\x20)\x20*\x20r.x\x20+\x20r.y;\x0a\x09vec2\x20fab\x20=\x20vec2(\x20-\x201.04,\x201.04\x20)\x20*\x20a004\x20+\x20r.zw;\x0a\x09return\x20fab;\x0a}\x0avec3\x20EnvironmentBRDF(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09vec2\x20fab\x20=\x20DFGApprox(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09return\x20specularColor\x20*\x20fab.x\x20+\x20specularF90\x20*\x20fab.y;\x0a}\x0a#ifdef\x20USE_IRIDESCENCE\x0avoid\x20computeMultiscatteringIridescence(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20iridescence,\x20const\x20in\x20vec3\x20iridescenceF0,\x20const\x20in\x20float\x20roughness,\x20inout\x20vec3\x20singleScatter,\x20inout\x20vec3\x20multiScatter\x20)\x20{\x0a#else\x0avoid\x20computeMultiscattering(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20roughness,\x20inout\x20vec3\x20singleScatter,\x20inout\x20vec3\x20multiScatter\x20)\x20{\x0a#endif\x0a\x09vec2\x20fab\x20=\x20DFGApprox(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09vec3\x20Fr\x20=\x20mix(\x20specularColor,\x20iridescenceF0,\x20iridescence\x20);\x0a\x09#else\x0a\x09\x09vec3\x20Fr\x20=\x20specularColor;\x0a\x09#endif\x0a\x09vec3\x20FssEss\x20=\x20Fr\x20*\x20fab.x\x20+\x20specularF90\x20*\x20fab.y;\x0a\x09float\x20Ess\x20=\x20fab.x\x20+\x20fab.y;\x0a\x09float\x20Ems\x20=\x201.0\x20-\x20Ess;\x0a\x09vec3\x20Favg\x20=\x20Fr\x20+\x20(\x201.0\x20-\x20Fr\x20)\x20*\x200.047619;\x09vec3\x20Fms\x20=\x20FssEss\x20*\x20Favg\x20/\x20(\x201.0\x20-\x20Ems\x20*\x20Favg\x20);\x0a\x09singleScatter\x20+=\x20FssEss;\x0a\x09multiScatter\x20+=\x20Fms\x20*\x20Ems;\x0a}\x0a#if\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x0a\x09void\x20RE_Direct_RectArea_Physical(\x20const\x20in\x20RectAreaLight\x20rectAreaLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09\x09vec3\x20normal\x20=\x20geometryNormal;\x0a\x09\x09vec3\x20viewDir\x20=\x20geometryViewDir;\x0a\x09\x09vec3\x20position\x20=\x20geometryPosition;\x0a\x09\x09vec3\x20lightPos\x20=\x20rectAreaLight.position;\x0a\x09\x09vec3\x20halfWidth\x20=\x20rectAreaLight.halfWidth;\x0a\x09\x09vec3\x20halfHeight\x20=\x20rectAreaLight.halfHeight;\x0a\x09\x09vec3\x20lightColor\x20=\x20rectAreaLight.color;\x0a\x09\x09float\x20roughness\x20=\x20material.roughness;\x0a\x09\x09vec3\x20rectCoords[\x204\x20];\x0a\x09\x09rectCoords[\x200\x20]\x20=\x20lightPos\x20+\x20halfWidth\x20-\x20halfHeight;\x09\x09rectCoords[\x201\x20]\x20=\x20lightPos\x20-\x20halfWidth\x20-\x20halfHeight;\x0a\x09\x09rectCoords[\x202\x20]\x20=\x20lightPos\x20-\x20halfWidth\x20+\x20halfHeight;\x0a\x09\x09rectCoords[\x203\x20]\x20=\x20lightPos\x20+\x20halfWidth\x20+\x20halfHeight;\x0a\x09\x09vec2\x20uv\x20=\x20LTC_Uv(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09\x09vec4\x20t1\x20=\x20texture2D(\x20ltc_1,\x20uv\x20);\x0a\x09\x09vec4\x20t2\x20=\x20texture2D(\x20ltc_2,\x20uv\x20);\x0a\x09\x09mat3\x20mInv\x20=\x20mat3(\x0a\x09\x09\x09vec3(\x20t1.x,\x200,\x20t1.y\x20),\x0a\x09\x09\x09vec3(\x20\x20\x20\x200,\x201,\x20\x20\x20\x200\x20),\x0a\x09\x09\x09vec3(\x20t1.z,\x200,\x20t1.w\x20)\x0a\x09\x09);\x0a\x09\x09vec3\x20fresnel\x20=\x20(\x20material.specularColor\x20*\x20t2.x\x20+\x20(\x20vec3(\x201.0\x20)\x20-\x20material.specularColor\x20)\x20*\x20t2.y\x20);\x0a\x09\x09reflectedLight.directSpecular\x20+=\x20lightColor\x20*\x20fresnel\x20*\x20LTC_Evaluate(\x20normal,\x20viewDir,\x20position,\x20mInv,\x20rectCoords\x20);\x0a\x09\x09reflectedLight.directDiffuse\x20+=\x20lightColor\x20*\x20material.diffuseColor\x20*\x20LTC_Evaluate(\x20normal,\x20viewDir,\x20position,\x20mat3(\x201.0\x20),\x20rectCoords\x20);\x0a\x09}\x0a#endif\x0avoid\x20RE_Direct_Physical(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20dotNLcc\x20=\x20saturate(\x20dot(\x20geometryClearcoatNormal,\x20directLight.direction\x20)\x20);\x0a\x09\x09vec3\x20ccIrradiance\x20=\x20dotNLcc\x20*\x20directLight.color;\x0a\x09\x09clearcoatSpecularDirect\x20+=\x20ccIrradiance\x20*\x20BRDF_GGX_Clearcoat(\x20directLight.direction,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09sheenSpecularDirect\x20+=\x20irradiance\x20*\x20BRDF_Sheen(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material.sheenColor,\x20material.sheenRoughness\x20);\x0a\x09#endif\x0a\x09reflectedLight.directSpecular\x20+=\x20irradiance\x20*\x20BRDF_GGX(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material\x20);\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Physical(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectSpecular_Physical(\x20const\x20in\x20vec3\x20radiance,\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20clearcoatRadiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight)\x20{\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09clearcoatSpecularIndirect\x20+=\x20clearcoatRadiance\x20*\x20EnvironmentBRDF(\x20geometryClearcoatNormal,\x20geometryViewDir,\x20material.clearcoatF0,\x20material.clearcoatF90,\x20material.clearcoatRoughness\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09sheenSpecularIndirect\x20+=\x20irradiance\x20*\x20material.sheenColor\x20*\x20IBLSheenBRDF(\x20geometryNormal,\x20geometryViewDir,\x20material.sheenRoughness\x20);\x0a\x09#endif\x0a\x09vec3\x20singleScattering\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20multiScattering\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20cosineWeightedIrradiance\x20=\x20irradiance\x20*\x20RECIPROCAL_PI;\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09computeMultiscatteringIridescence(\x20geometryNormal,\x20geometryViewDir,\x20material.specularColor,\x20material.specularF90,\x20material.iridescence,\x20material.iridescenceFresnel,\x20material.roughness,\x20singleScattering,\x20multiScattering\x20);\x0a\x09#else\x0a\x09\x09computeMultiscattering(\x20geometryNormal,\x20geometryViewDir,\x20material.specularColor,\x20material.specularF90,\x20material.roughness,\x20singleScattering,\x20multiScattering\x20);\x0a\x09#endif\x0a\x09vec3\x20totalScattering\x20=\x20singleScattering\x20+\x20multiScattering;\x0a\x09vec3\x20diffuse\x20=\x20material.diffuseColor\x20*\x20(\x201.0\x20-\x20max(\x20max(\x20totalScattering.r,\x20totalScattering.g\x20),\x20totalScattering.b\x20)\x20);\x0a\x09reflectedLight.indirectSpecular\x20+=\x20radiance\x20*\x20singleScattering;\x0a\x09reflectedLight.indirectSpecular\x20+=\x20multiScattering\x20*\x20cosineWeightedIrradiance;\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20diffuse\x20*\x20cosineWeightedIrradiance;\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Physical\x0a#define\x20RE_Direct_RectArea\x09\x09RE_Direct_RectArea_Physical\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Physical\x0a#define\x20RE_IndirectSpecular\x09\x09RE_IndirectSpecular_Physical\x0afloat\x20computeSpecularOcclusion(\x20const\x20in\x20float\x20dotNV,\x20const\x20in\x20float\x20ambientOcclusion,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09return\x20saturate(\x20pow(\x20dotNV\x20+\x20ambientOcclusion,\x20exp2(\x20-\x2016.0\x20*\x20roughness\x20-\x201.0\x20)\x20)\x20-\x201.0\x20+\x20ambientOcclusion\x20);\x0a}','lights_fragment_begin':'\x0avec3\x20geometryPosition\x20=\x20-\x20vViewPosition;\x0avec3\x20geometryNormal\x20=\x20normal;\x0avec3\x20geometryViewDir\x20=\x20(\x20isOrthographic\x20)\x20?\x20vec3(\x200,\x200,\x201\x20)\x20:\x20normalize(\x20vViewPosition\x20);\x0avec3\x20geometryClearcoatNormal\x20=\x20vec3(\x200.0\x20);\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09geometryClearcoatNormal\x20=\x20clearcoatNormal;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09float\x20dotNVi\x20=\x20saturate(\x20dot(\x20normal,\x20geometryViewDir\x20)\x20);\x0a\x09if\x20(\x20material.iridescenceThickness\x20==\x200.0\x20)\x20{\x0a\x09\x09material.iridescence\x20=\x200.0;\x0a\x09}\x20else\x20{\x0a\x09\x09material.iridescence\x20=\x20saturate(\x20material.iridescence\x20);\x0a\x09}\x0a\x09if\x20(\x20material.iridescence\x20>\x200.0\x20)\x20{\x0a\x09\x09material.iridescenceFresnel\x20=\x20evalIridescence(\x201.0,\x20material.iridescenceIOR,\x20dotNVi,\x20material.iridescenceThickness,\x20material.specularColor\x20);\x0a\x09\x09material.iridescenceF0\x20=\x20Schlick_to_F0(\x20material.iridescenceFresnel,\x201.0,\x20dotNVi\x20);\x0a\x09}\x0a#endif\x0aIncidentLight\x20directLight;\x0a#if\x20(\x20NUM_POINT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09PointLight\x20pointLight;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09PointLightShadow\x20pointLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09pointLight\x20=\x20pointLights[\x20i\x20];\x0a\x09\x09getPointLightInfo(\x20pointLight,\x20geometryPosition,\x20directLight\x20);\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_POINT_LIGHT_SHADOWS\x20)\x0a\x09\x09pointLightShadow\x20=\x20pointLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLightShadow.shadowMapSize,\x20pointLightShadow.shadowIntensity,\x20pointLightShadow.shadowBias,\x20pointLightShadow.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLightShadow.shadowCameraNear,\x20pointLightShadow.shadowCameraFar\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_SPOT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09SpotLight\x20spotLight;\x0a\x09vec4\x20spotColor;\x0a\x09vec3\x20spotLightCoord;\x0a\x09bool\x20inSpotLightMap;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09SpotLightShadow\x20spotLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09spotLight\x20=\x20spotLights[\x20i\x20];\x0a\x09\x09getSpotLightInfo(\x20spotLight,\x20geometryPosition,\x20directLight\x20);\x0a\x09\x09#if\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS\x20)\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20UNROLLED_LOOP_INDEX\x0a\x09\x09#elif\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20NUM_SPOT_LIGHT_MAPS\x0a\x09\x09#else\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20(\x20UNROLLED_LOOP_INDEX\x20-\x20NUM_SPOT_LIGHT_SHADOWS\x20+\x20NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS\x20)\x0a\x09\x09#endif\x0a\x09\x09#if\x20(\x20SPOT_LIGHT_MAP_INDEX\x20<\x20NUM_SPOT_LIGHT_MAPS\x20)\x0a\x09\x09\x09spotLightCoord\x20=\x20vSpotLightCoord[\x20i\x20].xyz\x20/\x20vSpotLightCoord[\x20i\x20].w;\x0a\x09\x09\x09inSpotLightMap\x20=\x20all(\x20lessThan(\x20abs(\x20spotLightCoord\x20*\x202.\x20-\x201.\x20),\x20vec3(\x201.0\x20)\x20)\x20);\x0a\x09\x09\x09spotColor\x20=\x20texture2D(\x20spotLightMap[\x20SPOT_LIGHT_MAP_INDEX\x20],\x20spotLightCoord.xy\x20);\x0a\x09\x09\x09directLight.color\x20=\x20inSpotLightMap\x20?\x20directLight.color\x20*\x20spotColor.rgb\x20:\x20directLight.color;\x0a\x09\x09#endif\x0a\x09\x09#undef\x20SPOT_LIGHT_MAP_INDEX\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09spotLightShadow\x20=\x20spotLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLightShadow.shadowMapSize,\x20spotLightShadow.shadowIntensity,\x20spotLightShadow.shadowBias,\x20spotLightShadow.shadowRadius,\x20vSpotLightCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_DIR_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09DirectionalLight\x20directionalLight;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09DirectionalLightShadow\x20directionalLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09directionalLight\x20=\x20directionalLights[\x20i\x20];\x0a\x09\x09getDirectionalLightInfo(\x20directionalLight,\x20directLight\x20);\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_DIR_LIGHT_SHADOWS\x20)\x0a\x09\x09directionalLightShadow\x20=\x20directionalLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLightShadow.shadowMapSize,\x20directionalLightShadow.shadowIntensity,\x20directionalLightShadow.shadowBias,\x20directionalLightShadow.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct_RectArea\x20)\x0a\x09RectAreaLight\x20rectAreaLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_RECT_AREA_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09rectAreaLight\x20=\x20rectAreaLights[\x20i\x20];\x0a\x09\x09RE_Direct_RectArea(\x20rectAreaLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09vec3\x20iblIrradiance\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20irradiance\x20=\x20getAmbientLightIrradiance(\x20ambientLightColor\x20);\x0a\x09#if\x20defined(\x20USE_LIGHT_PROBES\x20)\x0a\x09\x09irradiance\x20+=\x20getLightProbeIrradiance(\x20lightProbe,\x20geometryNormal\x20);\x0a\x09#endif\x0a\x09#if\x20(\x20NUM_HEMI_LIGHTS\x20>\x200\x20)\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_HEMI_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09irradiance\x20+=\x20getHemisphereLightIrradiance(\x20hemisphereLights[\x20i\x20],\x20geometryNormal\x20);\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09vec3\x20radiance\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20clearcoatRadiance\x20=\x20vec3(\x200.0\x20);\x0a#endif','lights_fragment_maps':'#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09#ifdef\x20USE_LIGHTMAP\x0a\x09\x09vec4\x20lightMapTexel\x20=\x20texture2D(\x20lightMap,\x20vLightMapUv\x20);\x0a\x09\x09vec3\x20lightMapIrradiance\x20=\x20lightMapTexel.rgb\x20*\x20lightMapIntensity;\x0a\x09\x09irradiance\x20+=\x20lightMapIrradiance;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20STANDARD\x20)\x20&&\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09\x09iblIrradiance\x20+=\x20getIBLIrradiance(\x20geometryNormal\x20);\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09radiance\x20+=\x20getIBLAnisotropyRadiance(\x20geometryViewDir,\x20geometryNormal,\x20material.roughness,\x20material.anisotropyB,\x20material.anisotropy\x20);\x0a\x09#else\x0a\x09\x09radiance\x20+=\x20getIBLRadiance(\x20geometryViewDir,\x20geometryNormal,\x20material.roughness\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09clearcoatRadiance\x20+=\x20getIBLRadiance(\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material.clearcoatRoughness\x20);\x0a\x09#endif\x0a#endif','lights_fragment_end':'#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09RE_IndirectDiffuse(\x20irradiance,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a#endif\x0a#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09RE_IndirectSpecular(\x20radiance,\x20iblIrradiance,\x20clearcoatRadiance,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a#endif','logdepthbuf_fragment':'#if\x20defined(\x20USE_LOGDEPTHBUF\x20)\x0a\x09gl_FragDepth\x20=\x20vIsPerspective\x20==\x200.0\x20?\x20gl_FragCoord.z\x20:\x20log2(\x20vFragDepth\x20)\x20*\x20logDepthBufFC\x20*\x200.5;\x0a#endif','logdepthbuf_pars_fragment':'#if\x20defined(\x20USE_LOGDEPTHBUF\x20)\x0a\x09uniform\x20float\x20logDepthBufFC;\x0a\x09varying\x20float\x20vFragDepth;\x0a\x09varying\x20float\x20vIsPerspective;\x0a#endif','logdepthbuf_pars_vertex':'#ifdef\x20USE_LOGDEPTHBUF\x0a\x09varying\x20float\x20vFragDepth;\x0a\x09varying\x20float\x20vIsPerspective;\x0a#endif','logdepthbuf_vertex':'#ifdef\x20USE_LOGDEPTHBUF\x0a\x09vFragDepth\x20=\x201.0\x20+\x20gl_Position.w;\x0a\x09vIsPerspective\x20=\x20float(\x20isPerspectiveMatrix(\x20projectionMatrix\x20)\x20);\x0a#endif','map_fragment':'#ifdef\x20USE_MAP\x0a\x09vec4\x20sampledDiffuseColor\x20=\x20texture2D(\x20map,\x20vMapUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE\x0a\x09\x09sampledDiffuseColor\x20=\x20sRGBTransferEOTF(\x20sampledDiffuseColor\x20);\x0a\x09#endif\x0a\x09diffuseColor\x20*=\x20sampledDiffuseColor;\x0a#endif','map_pars_fragment':'#ifdef\x20USE_MAP\x0a\x09uniform\x20sampler2D\x20map;\x0a#endif','map_particle_fragment':'#if\x20defined(\x20USE_MAP\x20)\x20||\x20defined(\x20USE_ALPHAMAP\x20)\x0a\x09#if\x20defined(\x20USE_POINTS_UV\x20)\x0a\x09\x09vec2\x20uv\x20=\x20vUv;\x0a\x09#else\x0a\x09\x09vec2\x20uv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20gl_PointCoord.x,\x201.0\x20-\x20gl_PointCoord.y,\x201\x20)\x20).xy;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09diffuseColor\x20*=\x20texture2D(\x20map,\x20uv\x20);\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09diffuseColor.a\x20*=\x20texture2D(\x20alphaMap,\x20uv\x20).g;\x0a#endif','map_particle_pars_fragment':'#if\x20defined(\x20USE_POINTS_UV\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#else\x0a\x09#if\x20defined(\x20USE_MAP\x20)\x20||\x20defined(\x20USE_ALPHAMAP\x20)\x0a\x09\x09uniform\x20mat3\x20uvTransform;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09uniform\x20sampler2D\x20map;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20sampler2D\x20alphaMap;\x0a#endif','metalnessmap_fragment':'float\x20metalnessFactor\x20=\x20metalness;\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09vec4\x20texelMetalness\x20=\x20texture2D(\x20metalnessMap,\x20vMetalnessMapUv\x20);\x0a\x09metalnessFactor\x20*=\x20texelMetalness.b;\x0a#endif','metalnessmap_pars_fragment':'#ifdef\x20USE_METALNESSMAP\x0a\x09uniform\x20sampler2D\x20metalnessMap;\x0a#endif','morphinstance_vertex':'#ifdef\x20USE_INSTANCING_MORPH\x0a\x09float\x20morphTargetInfluences[\x20MORPHTARGETS_COUNT\x20];\x0a\x09float\x20morphTargetBaseInfluence\x20=\x20texelFetch(\x20morphTexture,\x20ivec2(\x200,\x20gl_InstanceID\x20),\x200\x20).r;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09morphTargetInfluences[i]\x20=\x20\x20texelFetch(\x20morphTexture,\x20ivec2(\x20i\x20+\x201,\x20gl_InstanceID\x20),\x200\x20).r;\x0a\x09}\x0a#endif','morphcolor_vertex':'#if\x20defined(\x20USE_MORPHCOLORS\x20)\x0a\x09vColor\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20vColor\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x202\x20)\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09\x09#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20vColor\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x202\x20).rgb\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09\x09#endif\x0a\x09}\x0a#endif','morphnormal_vertex':'#ifdef\x20USE_MORPHNORMALS\x0a\x09objectNormal\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20objectNormal\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x201\x20).xyz\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09}\x0a#endif','morphtarget_pars_vertex':'#ifdef\x20USE_MORPHTARGETS\x0a\x09#ifndef\x20USE_INSTANCING_MORPH\x0a\x09\x09uniform\x20float\x20morphTargetBaseInfluence;\x0a\x09\x09uniform\x20float\x20morphTargetInfluences[\x20MORPHTARGETS_COUNT\x20];\x0a\x09#endif\x0a\x09uniform\x20sampler2DArray\x20morphTargetsTexture;\x0a\x09uniform\x20ivec2\x20morphTargetsTextureSize;\x0a\x09vec4\x20getMorph(\x20const\x20in\x20int\x20vertexIndex,\x20const\x20in\x20int\x20morphTargetIndex,\x20const\x20in\x20int\x20offset\x20)\x20{\x0a\x09\x09int\x20texelIndex\x20=\x20vertexIndex\x20*\x20MORPHTARGETS_TEXTURE_STRIDE\x20+\x20offset;\x0a\x09\x09int\x20y\x20=\x20texelIndex\x20/\x20morphTargetsTextureSize.x;\x0a\x09\x09int\x20x\x20=\x20texelIndex\x20-\x20y\x20*\x20morphTargetsTextureSize.x;\x0a\x09\x09ivec3\x20morphUV\x20=\x20ivec3(\x20x,\x20y,\x20morphTargetIndex\x20);\x0a\x09\x09return\x20texelFetch(\x20morphTargetsTexture,\x20morphUV,\x200\x20);\x0a\x09}\x0a#endif','morphtarget_vertex':'#ifdef\x20USE_MORPHTARGETS\x0a\x09transformed\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20transformed\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x200\x20).xyz\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09}\x0a#endif','normal_fragment_begin':'float\x20faceDirection\x20=\x20gl_FrontFacing\x20?\x201.0\x20:\x20-\x201.0;\x0a#ifdef\x20FLAT_SHADED\x0a\x09vec3\x20fdx\x20=\x20dFdx(\x20vViewPosition\x20);\x0a\x09vec3\x20fdy\x20=\x20dFdy(\x20vViewPosition\x20);\x0a\x09vec3\x20normal\x20=\x20normalize(\x20cross(\x20fdx,\x20fdy\x20)\x20);\x0a#else\x0a\x09vec3\x20normal\x20=\x20normalize(\x20vNormal\x20);\x0a\x09#ifdef\x20DOUBLE_SIDED\x0a\x09\x09normal\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x20||\x20defined(\x20USE_CLEARCOAT_NORMALMAP\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09mat3\x20tbn\x20=\x20mat3(\x20normalize(\x20vTangent\x20),\x20normalize(\x20vBitangent\x20),\x20normal\x20);\x0a\x09#else\x0a\x09\x09mat3\x20tbn\x20=\x20getTangentFrame(\x20-\x20vViewPosition,\x20normal,\x0a\x09\x09#if\x20defined(\x20USE_NORMALMAP\x20)\x0a\x09\x09\x09vNormalMapUv\x0a\x09\x09#elif\x20defined(\x20USE_CLEARCOAT_NORMALMAP\x20)\x0a\x09\x09\x09vClearcoatNormalMapUv\x0a\x09\x09#else\x0a\x09\x09\x09vUv\x0a\x09\x09#endif\x0a\x09\x09);\x0a\x09#endif\x0a\x09#if\x20defined(\x20DOUBLE_SIDED\x20)\x20&&\x20!\x20defined(\x20FLAT_SHADED\x20)\x0a\x09\x09tbn[0]\x20*=\x20faceDirection;\x0a\x09\x09tbn[1]\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09mat3\x20tbn2\x20=\x20mat3(\x20normalize(\x20vTangent\x20),\x20normalize(\x20vBitangent\x20),\x20normal\x20);\x0a\x09#else\x0a\x09\x09mat3\x20tbn2\x20=\x20getTangentFrame(\x20-\x20vViewPosition,\x20normal,\x20vClearcoatNormalMapUv\x20);\x0a\x09#endif\x0a\x09#if\x20defined(\x20DOUBLE_SIDED\x20)\x20&&\x20!\x20defined(\x20FLAT_SHADED\x20)\x0a\x09\x09tbn2[0]\x20*=\x20faceDirection;\x0a\x09\x09tbn2[1]\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0avec3\x20nonPerturbedNormal\x20=\x20normal;','normal_fragment_maps':'#ifdef\x20USE_NORMALMAP_OBJECTSPACE\x0a\x09normal\x20=\x20texture2D(\x20normalMap,\x20vNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09#ifdef\x20FLIP_SIDED\x0a\x09\x09normal\x20=\x20-\x20normal;\x0a\x09#endif\x0a\x09#ifdef\x20DOUBLE_SIDED\x0a\x09\x09normal\x20=\x20normal\x20*\x20faceDirection;\x0a\x09#endif\x0a\x09normal\x20=\x20normalize(\x20normalMatrix\x20*\x20normal\x20);\x0a#elif\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09vec3\x20mapN\x20=\x20texture2D(\x20normalMap,\x20vNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09mapN.xy\x20*=\x20normalScale;\x0a\x09normal\x20=\x20normalize(\x20tbn\x20*\x20mapN\x20);\x0a#elif\x20defined(\x20USE_BUMPMAP\x20)\x0a\x09normal\x20=\x20perturbNormalArb(\x20-\x20vViewPosition,\x20normal,\x20dHdxy_fwd(),\x20faceDirection\x20);\x0a#endif','normal_pars_fragment':'#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09varying\x20vec3\x20vTangent;\x0a\x09\x09varying\x20vec3\x20vBitangent;\x0a\x09#endif\x0a#endif','normal_pars_vertex':'#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09varying\x20vec3\x20vTangent;\x0a\x09\x09varying\x20vec3\x20vBitangent;\x0a\x09#endif\x0a#endif','normal_vertex':'#ifndef\x20FLAT_SHADED\x0a\x09vNormal\x20=\x20normalize(\x20transformedNormal\x20);\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09vTangent\x20=\x20normalize(\x20transformedTangent\x20);\x0a\x09\x09vBitangent\x20=\x20normalize(\x20cross(\x20vNormal,\x20vTangent\x20)\x20*\x20tangent.w\x20);\x0a\x09#endif\x0a#endif','normalmap_pars_fragment':'#ifdef\x20USE_NORMALMAP\x0a\x09uniform\x20sampler2D\x20normalMap;\x0a\x09uniform\x20vec2\x20normalScale;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP_OBJECTSPACE\x0a\x09uniform\x20mat3\x20normalMatrix;\x0a#endif\x0a#if\x20!\x20defined\x20(\x20USE_TANGENT\x20)\x20&&\x20(\x20defined\x20(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x20||\x20defined\x20(\x20USE_CLEARCOAT_NORMALMAP\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x20)\x0a\x09mat3\x20getTangentFrame(\x20vec3\x20eye_pos,\x20vec3\x20surf_norm,\x20vec2\x20uv\x20)\x20{\x0a\x09\x09vec3\x20q0\x20=\x20dFdx(\x20eye_pos.xyz\x20);\x0a\x09\x09vec3\x20q1\x20=\x20dFdy(\x20eye_pos.xyz\x20);\x0a\x09\x09vec2\x20st0\x20=\x20dFdx(\x20uv.st\x20);\x0a\x09\x09vec2\x20st1\x20=\x20dFdy(\x20uv.st\x20);\x0a\x09\x09vec3\x20N\x20=\x20surf_norm;\x0a\x09\x09vec3\x20q1perp\x20=\x20cross(\x20q1,\x20N\x20);\x0a\x09\x09vec3\x20q0perp\x20=\x20cross(\x20N,\x20q0\x20);\x0a\x09\x09vec3\x20T\x20=\x20q1perp\x20*\x20st0.x\x20+\x20q0perp\x20*\x20st1.x;\x0a\x09\x09vec3\x20B\x20=\x20q1perp\x20*\x20st0.y\x20+\x20q0perp\x20*\x20st1.y;\x0a\x09\x09float\x20det\x20=\x20max(\x20dot(\x20T,\x20T\x20),\x20dot(\x20B,\x20B\x20)\x20);\x0a\x09\x09float\x20scale\x20=\x20(\x20det\x20==\x200.0\x20)\x20?\x200.0\x20:\x20inversesqrt(\x20det\x20);\x0a\x09\x09return\x20mat3(\x20T\x20*\x20scale,\x20B\x20*\x20scale,\x20N\x20);\x0a\x09}\x0a#endif','clearcoat_normal_fragment_begin':'#ifdef\x20USE_CLEARCOAT\x0a\x09vec3\x20clearcoatNormal\x20=\x20nonPerturbedNormal;\x0a#endif','clearcoat_normal_fragment_maps':'#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09vec3\x20clearcoatMapN\x20=\x20texture2D(\x20clearcoatNormalMap,\x20vClearcoatNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09clearcoatMapN.xy\x20*=\x20clearcoatNormalScale;\x0a\x09clearcoatNormal\x20=\x20normalize(\x20tbn2\x20*\x20clearcoatMapN\x20);\x0a#endif','clearcoat_pars_fragment':'#ifdef\x20USE_CLEARCOATMAP\x0a\x09uniform\x20sampler2D\x20clearcoatMap;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09uniform\x20sampler2D\x20clearcoatNormalMap;\x0a\x09uniform\x20vec2\x20clearcoatNormalScale;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09uniform\x20sampler2D\x20clearcoatRoughnessMap;\x0a#endif','iridescence_pars_fragment':'#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09uniform\x20sampler2D\x20iridescenceMap;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09uniform\x20sampler2D\x20iridescenceThicknessMap;\x0a#endif','opaque_fragment':'#ifdef\x20OPAQUE\x0adiffuseColor.a\x20=\x201.0;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSION\x0adiffuseColor.a\x20*=\x20material.transmissionAlpha;\x0a#endif\x0agl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);','packing':'vec3\x20packNormalToRGB(\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09return\x20normalize(\x20normal\x20)\x20*\x200.5\x20+\x200.5;\x0a}\x0avec3\x20unpackRGBToNormal(\x20const\x20in\x20vec3\x20rgb\x20)\x20{\x0a\x09return\x202.0\x20*\x20rgb.xyz\x20-\x201.0;\x0a}\x0aconst\x20float\x20PackUpscale\x20=\x20256.\x20/\x20255.;const\x20float\x20UnpackDownscale\x20=\x20255.\x20/\x20256.;const\x20float\x20ShiftRight8\x20=\x201.\x20/\x20256.;\x0aconst\x20float\x20Inv255\x20=\x201.\x20/\x20255.;\x0aconst\x20vec4\x20PackFactors\x20=\x20vec4(\x201.0,\x20256.0,\x20256.0\x20*\x20256.0,\x20256.0\x20*\x20256.0\x20*\x20256.0\x20);\x0aconst\x20vec2\x20UnpackFactors2\x20=\x20vec2(\x20UnpackDownscale,\x201.0\x20/\x20PackFactors.g\x20);\x0aconst\x20vec3\x20UnpackFactors3\x20=\x20vec3(\x20UnpackDownscale\x20/\x20PackFactors.rg,\x201.0\x20/\x20PackFactors.b\x20);\x0aconst\x20vec4\x20UnpackFactors4\x20=\x20vec4(\x20UnpackDownscale\x20/\x20PackFactors.rgb,\x201.0\x20/\x20PackFactors.a\x20);\x0avec4\x20packDepthToRGBA(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec4(\x200.,\x200.,\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec4(\x201.,\x201.,\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20af\x20=\x20modf(\x20v\x20*\x20PackFactors.a,\x20vuf\x20);\x0a\x09float\x20bf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09float\x20gf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09return\x20vec4(\x20vuf\x20*\x20Inv255,\x20gf\x20*\x20PackUpscale,\x20bf\x20*\x20PackUpscale,\x20af\x20);\x0a}\x0avec3\x20packDepthToRGB(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec3(\x200.,\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec3(\x201.,\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20bf\x20=\x20modf(\x20v\x20*\x20PackFactors.b,\x20vuf\x20);\x0a\x09float\x20gf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09return\x20vec3(\x20vuf\x20*\x20Inv255,\x20gf\x20*\x20PackUpscale,\x20bf\x20);\x0a}\x0avec2\x20packDepthToRG(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec2(\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec2(\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20gf\x20=\x20modf(\x20v\x20*\x20256.,\x20vuf\x20);\x0a\x09return\x20vec2(\x20vuf\x20*\x20Inv255,\x20gf\x20);\x0a}\x0afloat\x20unpackRGBAToDepth(\x20const\x20in\x20vec4\x20v\x20)\x20{\x0a\x09return\x20dot(\x20v,\x20UnpackFactors4\x20);\x0a}\x0afloat\x20unpackRGBToDepth(\x20const\x20in\x20vec3\x20v\x20)\x20{\x0a\x09return\x20dot(\x20v,\x20UnpackFactors3\x20);\x0a}\x0afloat\x20unpackRGToDepth(\x20const\x20in\x20vec2\x20v\x20)\x20{\x0a\x09return\x20v.r\x20*\x20UnpackFactors2.r\x20+\x20v.g\x20*\x20UnpackFactors2.g;\x0a}\x0avec4\x20pack2HalfToRGBA(\x20const\x20in\x20vec2\x20v\x20)\x20{\x0a\x09vec4\x20r\x20=\x20vec4(\x20v.x,\x20fract(\x20v.x\x20*\x20255.0\x20),\x20v.y,\x20fract(\x20v.y\x20*\x20255.0\x20)\x20);\x0a\x09return\x20vec4(\x20r.x\x20-\x20r.y\x20/\x20255.0,\x20r.y,\x20r.z\x20-\x20r.w\x20/\x20255.0,\x20r.w\x20);\x0a}\x0avec2\x20unpackRGBATo2Half(\x20const\x20in\x20vec4\x20v\x20)\x20{\x0a\x09return\x20vec2(\x20v.x\x20+\x20(\x20v.y\x20/\x20255.0\x20),\x20v.z\x20+\x20(\x20v.w\x20/\x20255.0\x20)\x20);\x0a}\x0afloat\x20viewZToOrthographicDepth(\x20const\x20in\x20float\x20viewZ,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20viewZ\x20+\x20near\x20)\x20/\x20(\x20near\x20-\x20far\x20);\x0a}\x0afloat\x20orthographicDepthToViewZ(\x20const\x20in\x20float\x20depth,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20depth\x20*\x20(\x20near\x20-\x20far\x20)\x20-\x20near;\x0a}\x0afloat\x20viewZToPerspectiveDepth(\x20const\x20in\x20float\x20viewZ,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20(\x20near\x20+\x20viewZ\x20)\x20*\x20far\x20)\x20/\x20(\x20(\x20far\x20-\x20near\x20)\x20*\x20viewZ\x20);\x0a}\x0afloat\x20perspectiveDepthToViewZ(\x20const\x20in\x20float\x20depth,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20near\x20*\x20far\x20)\x20/\x20(\x20(\x20far\x20-\x20near\x20)\x20*\x20depth\x20-\x20far\x20);\x0a}','premultiplied_alpha_fragment':'#ifdef\x20PREMULTIPLIED_ALPHA\x0a\x09gl_FragColor.rgb\x20*=\x20gl_FragColor.a;\x0a#endif','project_vertex':'vec4\x20mvPosition\x20=\x20vec4(\x20transformed,\x201.0\x20);\x0a#ifdef\x20USE_BATCHING\x0a\x09mvPosition\x20=\x20batchingMatrix\x20*\x20mvPosition;\x0a#endif\x0a#ifdef\x20USE_INSTANCING\x0a\x09mvPosition\x20=\x20instanceMatrix\x20*\x20mvPosition;\x0a#endif\x0amvPosition\x20=\x20modelViewMatrix\x20*\x20mvPosition;\x0agl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;','dithering_fragment':'#ifdef\x20DITHERING\x0a\x09gl_FragColor.rgb\x20=\x20dithering(\x20gl_FragColor.rgb\x20);\x0a#endif','dithering_pars_fragment':'#ifdef\x20DITHERING\x0a\x09vec3\x20dithering(\x20vec3\x20color\x20)\x20{\x0a\x09\x09float\x20grid_position\x20=\x20rand(\x20gl_FragCoord.xy\x20);\x0a\x09\x09vec3\x20dither_shift_RGB\x20=\x20vec3(\x200.25\x20/\x20255.0,\x20-0.25\x20/\x20255.0,\x200.25\x20/\x20255.0\x20);\x0a\x09\x09dither_shift_RGB\x20=\x20mix(\x202.0\x20*\x20dither_shift_RGB,\x20-2.0\x20*\x20dither_shift_RGB,\x20grid_position\x20);\x0a\x09\x09return\x20color\x20+\x20dither_shift_RGB;\x0a\x09}\x0a#endif','roughnessmap_fragment':'float\x20roughnessFactor\x20=\x20roughness;\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09vec4\x20texelRoughness\x20=\x20texture2D(\x20roughnessMap,\x20vRoughnessMapUv\x20);\x0a\x09roughnessFactor\x20*=\x20texelRoughness.g;\x0a#endif','roughnessmap_pars_fragment':'#ifdef\x20USE_ROUGHNESSMAP\x0a\x09uniform\x20sampler2D\x20roughnessMap;\x0a#endif','shadowmap_pars_fragment':'#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09varying\x20vec4\x20vSpotLightCoord[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a#endif\x0a#if\x20NUM_SPOT_LIGHT_MAPS\x20>\x200\x0a\x09uniform\x20sampler2D\x20spotLightMap[\x20NUM_SPOT_LIGHT_MAPS\x20];\x0a#endif\x0a#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20directionalShadowMap[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vDirectionalShadowCoord[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20DirectionalLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20DirectionalLightShadow\x20directionalLightShadows[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20spotShadowMap[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20SpotLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20SpotLightShadow\x20spotLightShadows[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20pointShadowMap[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vPointShadowCoord[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20PointLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09\x09float\x20shadowCameraNear;\x0a\x09\x09\x09float\x20shadowCameraFar;\x0a\x09\x09};\x0a\x09\x09uniform\x20PointLightShadow\x20pointLightShadows[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09float\x20texture2DCompare(\x20sampler2D\x20depths,\x20vec2\x20uv,\x20float\x20compare\x20)\x20{\x0a\x09\x09return\x20step(\x20compare,\x20unpackRGBAToDepth(\x20texture2D(\x20depths,\x20uv\x20)\x20)\x20);\x0a\x09}\x0a\x09vec2\x20texture2DDistribution(\x20sampler2D\x20shadow,\x20vec2\x20uv\x20)\x20{\x0a\x09\x09return\x20unpackRGBATo2Half(\x20texture2D(\x20shadow,\x20uv\x20)\x20);\x0a\x09}\x0a\x09float\x20VSMShadow\x20(sampler2D\x20shadow,\x20vec2\x20uv,\x20float\x20compare\x20){\x0a\x09\x09float\x20occlusion\x20=\x201.0;\x0a\x09\x09vec2\x20distribution\x20=\x20texture2DDistribution(\x20shadow,\x20uv\x20);\x0a\x09\x09float\x20hard_shadow\x20=\x20step(\x20compare\x20,\x20distribution.x\x20);\x0a\x09\x09if\x20(hard_shadow\x20!=\x201.0\x20)\x20{\x0a\x09\x09\x09float\x20distance\x20=\x20compare\x20-\x20distribution.x\x20;\x0a\x09\x09\x09float\x20variance\x20=\x20max(\x200.00000,\x20distribution.y\x20*\x20distribution.y\x20);\x0a\x09\x09\x09float\x20softness_probability\x20=\x20variance\x20/\x20(variance\x20+\x20distance\x20*\x20distance\x20);\x09\x09\x09softness_probability\x20=\x20clamp(\x20(\x20softness_probability\x20-\x200.3\x20)\x20/\x20(\x200.95\x20-\x200.3\x20),\x200.0,\x201.0\x20);\x09\x09\x09occlusion\x20=\x20clamp(\x20max(\x20hard_shadow,\x20softness_probability\x20),\x200.0,\x201.0\x20);\x0a\x09\x09}\x0a\x09\x09return\x20occlusion;\x0a\x09}\x0a\x09float\x20getShadow(\x20sampler2D\x20shadowMap,\x20vec2\x20shadowMapSize,\x20float\x20shadowIntensity,\x20float\x20shadowBias,\x20float\x20shadowRadius,\x20vec4\x20shadowCoord\x20)\x20{\x0a\x09\x09float\x20shadow\x20=\x201.0;\x0a\x09\x09shadowCoord.xyz\x20/=\x20shadowCoord.w;\x0a\x09\x09shadowCoord.z\x20+=\x20shadowBias;\x0a\x09\x09bool\x20inFrustum\x20=\x20shadowCoord.x\x20>=\x200.0\x20&&\x20shadowCoord.x\x20<=\x201.0\x20&&\x20shadowCoord.y\x20>=\x200.0\x20&&\x20shadowCoord.y\x20<=\x201.0;\x0a\x09\x09bool\x20frustumTest\x20=\x20inFrustum\x20&&\x20shadowCoord.z\x20<=\x201.0;\x0a\x09\x09if\x20(\x20frustumTest\x20)\x20{\x0a\x09\x09#if\x20defined(\x20SHADOWMAP_TYPE_PCF\x20)\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20shadowMapSize;\x0a\x09\x09\x09float\x20dx0\x20=\x20-\x20texelSize.x\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dy0\x20=\x20-\x20texelSize.y\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dx1\x20=\x20+\x20texelSize.x\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dy1\x20=\x20+\x20texelSize.y\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dx2\x20=\x20dx0\x20/\x202.0;\x0a\x09\x09\x09float\x20dy2\x20=\x20dy0\x20/\x202.0;\x0a\x09\x09\x09float\x20dx3\x20=\x20dx1\x20/\x202.0;\x0a\x09\x09\x09float\x20dy3\x20=\x20dy1\x20/\x202.0;\x0a\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x20dy1\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy1\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x20dy1\x20),\x20shadowCoord.z\x20)\x0a\x09\x09\x09)\x20*\x20(\x201.0\x20/\x2017.0\x20);\x0a\x09\x09#elif\x20defined(\x20SHADOWMAP_TYPE_PCF_SOFT\x20)\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20shadowMapSize;\x0a\x09\x09\x09float\x20dx\x20=\x20texelSize.x;\x0a\x09\x09\x09float\x20dy\x20=\x20texelSize.y;\x0a\x09\x09\x09vec2\x20uv\x20=\x20shadowCoord.xy;\x0a\x09\x09\x09vec2\x20f\x20=\x20fract(\x20uv\x20*\x20shadowMapSize\x20+\x200.5\x20);\x0a\x09\x09\x09uv\x20-=\x20f\x20*\x20texelSize;\x0a\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x20dy\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20texelSize,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x200.0\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x200.0\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.x\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.x\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20f.x\x20),\x0a\x09\x09\x09\x09\x09\x20mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20f.x\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x0a\x09\x09\x09)\x20*\x20(\x201.0\x20/\x209.0\x20);\x0a\x09\x09#elif\x20defined(\x20SHADOWMAP_TYPE_VSM\x20)\x0a\x09\x09\x09shadow\x20=\x20VSMShadow(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20);\x0a\x09\x09#else\x0a\x09\x09\x09shadow\x20=\x20texture2DCompare(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20);\x0a\x09\x09#endif\x0a\x09\x09}\x0a\x09\x09return\x20mix(\x201.0,\x20shadow,\x20shadowIntensity\x20);\x0a\x09}\x0a\x09vec2\x20cubeToUV(\x20vec3\x20v,\x20float\x20texelSizeY\x20)\x20{\x0a\x09\x09vec3\x20absV\x20=\x20abs(\x20v\x20);\x0a\x09\x09float\x20scaleToCube\x20=\x201.0\x20/\x20max(\x20absV.x,\x20max(\x20absV.y,\x20absV.z\x20)\x20);\x0a\x09\x09absV\x20*=\x20scaleToCube;\x0a\x09\x09v\x20*=\x20scaleToCube\x20*\x20(\x201.0\x20-\x202.0\x20*\x20texelSizeY\x20);\x0a\x09\x09vec2\x20planar\x20=\x20v.xy;\x0a\x09\x09float\x20almostATexel\x20=\x201.5\x20*\x20texelSizeY;\x0a\x09\x09float\x20almostOne\x20=\x201.0\x20-\x20almostATexel;\x0a\x09\x09if\x20(\x20absV.z\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09if\x20(\x20v.z\x20>\x200.0\x20)\x0a\x09\x09\x09\x09planar.x\x20=\x204.0\x20-\x20v.x;\x0a\x09\x09}\x20else\x20if\x20(\x20absV.x\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09float\x20signX\x20=\x20sign(\x20v.x\x20);\x0a\x09\x09\x09planar.x\x20=\x20v.z\x20*\x20signX\x20+\x202.0\x20*\x20signX;\x0a\x09\x09}\x20else\x20if\x20(\x20absV.y\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09float\x20signY\x20=\x20sign(\x20v.y\x20);\x0a\x09\x09\x09planar.x\x20=\x20v.x\x20+\x202.0\x20*\x20signY\x20+\x202.0;\x0a\x09\x09\x09planar.y\x20=\x20v.z\x20*\x20signY\x20-\x202.0;\x0a\x09\x09}\x0a\x09\x09return\x20vec2(\x200.125,\x200.25\x20)\x20*\x20planar\x20+\x20vec2(\x200.375,\x200.75\x20);\x0a\x09}\x0a\x09float\x20getPointShadow(\x20sampler2D\x20shadowMap,\x20vec2\x20shadowMapSize,\x20float\x20shadowIntensity,\x20float\x20shadowBias,\x20float\x20shadowRadius,\x20vec4\x20shadowCoord,\x20float\x20shadowCameraNear,\x20float\x20shadowCameraFar\x20)\x20{\x0a\x09\x09float\x20shadow\x20=\x201.0;\x0a\x09\x09vec3\x20lightToPosition\x20=\x20shadowCoord.xyz;\x0a\x09\x09\x0a\x09\x09float\x20lightToPositionLength\x20=\x20length(\x20lightToPosition\x20);\x0a\x09\x09if\x20(\x20lightToPositionLength\x20-\x20shadowCameraFar\x20<=\x200.0\x20&&\x20lightToPositionLength\x20-\x20shadowCameraNear\x20>=\x200.0\x20)\x20{\x0a\x09\x09\x09float\x20dp\x20=\x20(\x20lightToPositionLength\x20-\x20shadowCameraNear\x20)\x20/\x20(\x20shadowCameraFar\x20-\x20shadowCameraNear\x20);\x09\x09\x09dp\x20+=\x20shadowBias;\x0a\x09\x09\x09vec3\x20bd3D\x20=\x20normalize(\x20lightToPosition\x20);\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20(\x20shadowMapSize\x20*\x20vec2(\x204.0,\x202.0\x20)\x20);\x0a\x09\x09\x09#if\x20defined(\x20SHADOWMAP_TYPE_PCF\x20)\x20||\x20defined(\x20SHADOWMAP_TYPE_PCF_SOFT\x20)\x20||\x20defined(\x20SHADOWMAP_TYPE_VSM\x20)\x0a\x09\x09\x09\x09vec2\x20offset\x20=\x20vec2(\x20-\x201,\x201\x20)\x20*\x20shadowRadius\x20*\x20texelSize.y;\x0a\x09\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xyy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yyy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xyx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yyx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xxy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yxy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xxx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yxx,\x20texelSize.y\x20),\x20dp\x20)\x0a\x09\x09\x09\x09)\x20*\x20(\x201.0\x20/\x209.0\x20);\x0a\x09\x09\x09#else\x0a\x09\x09\x09\x09shadow\x20=\x20texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D,\x20texelSize.y\x20),\x20dp\x20);\x0a\x09\x09\x09#endif\x0a\x09\x09}\x0a\x09\x09return\x20mix(\x201.0,\x20shadow,\x20shadowIntensity\x20);\x0a\x09}\x0a#endif','shadowmap_pars_vertex':'#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09uniform\x20mat4\x20spotLightMatrix[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a\x09varying\x20vec4\x20vSpotLightCoord[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a#endif\x0a#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20mat4\x20directionalShadowMatrix[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vDirectionalShadowCoord[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20DirectionalLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20DirectionalLightShadow\x20directionalLightShadows[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09struct\x20SpotLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20SpotLightShadow\x20spotLightShadows[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20mat4\x20pointShadowMatrix[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vPointShadowCoord[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20PointLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09\x09float\x20shadowCameraNear;\x0a\x09\x09\x09float\x20shadowCameraFar;\x0a\x09\x09};\x0a\x09\x09uniform\x20PointLightShadow\x20pointLightShadows[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a#endif','shadowmap_vertex':'#if\x20(\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x20||\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x20)\x20)\x20||\x20(\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x20)\x0a\x09vec3\x20shadowWorldNormal\x20=\x20inverseTransformDirection(\x20transformedNormal,\x20viewMatrix\x20);\x0a\x09vec4\x20shadowWorldPosition;\x0a#endif\x0a#if\x20defined(\x20USE_SHADOWMAP\x20)\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09shadowWorldPosition\x20=\x20worldPosition\x20+\x20vec4(\x20shadowWorldNormal\x20*\x20directionalLightShadows[\x20i\x20].shadowNormalBias,\x200\x20);\x0a\x09\x09\x09vDirectionalShadowCoord[\x20i\x20]\x20=\x20directionalShadowMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09shadowWorldPosition\x20=\x20worldPosition\x20+\x20vec4(\x20shadowWorldNormal\x20*\x20pointLightShadows[\x20i\x20].shadowNormalBias,\x200\x20);\x0a\x09\x09\x09vPointShadowCoord[\x20i\x20]\x20=\x20pointShadowMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a#endif\x0a#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHT_COORDS;\x20i\x20++\x20)\x20{\x0a\x09\x09shadowWorldPosition\x20=\x20worldPosition;\x0a\x09\x09#if\x20(\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09\x09shadowWorldPosition.xyz\x20+=\x20shadowWorldNormal\x20*\x20spotLightShadows[\x20i\x20].shadowNormalBias;\x0a\x09\x09#endif\x0a\x09\x09vSpotLightCoord[\x20i\x20]\x20=\x20spotLightMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif','shadowmask_pars_fragment':'float\x20getShadowMask()\x20{\x0a\x09float\x20shadow\x20=\x201.0;\x0a\x09#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09DirectionalLightShadow\x20directionalLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09directionalLight\x20=\x20directionalLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLight.shadowMapSize,\x20directionalLight.shadowIntensity,\x20directionalLight.shadowBias,\x20directionalLight.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09SpotLightShadow\x20spotLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09spotLight\x20=\x20spotLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLight.shadowMapSize,\x20spotLight.shadowIntensity,\x20spotLight.shadowBias,\x20spotLight.shadowRadius,\x20vSpotLightCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09PointLightShadow\x20pointLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09pointLight\x20=\x20pointLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLight.shadowMapSize,\x20pointLight.shadowIntensity,\x20pointLight.shadowBias,\x20pointLight.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLight.shadowCameraNear,\x20pointLight.shadowCameraFar\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#endif\x0a\x09return\x20shadow;\x0a}','skinbase_vertex':'#ifdef\x20USE_SKINNING\x0a\x09mat4\x20boneMatX\x20=\x20getBoneMatrix(\x20skinIndex.x\x20);\x0a\x09mat4\x20boneMatY\x20=\x20getBoneMatrix(\x20skinIndex.y\x20);\x0a\x09mat4\x20boneMatZ\x20=\x20getBoneMatrix(\x20skinIndex.z\x20);\x0a\x09mat4\x20boneMatW\x20=\x20getBoneMatrix(\x20skinIndex.w\x20);\x0a#endif','skinning_pars_vertex':'#ifdef\x20USE_SKINNING\x0a\x09uniform\x20mat4\x20bindMatrix;\x0a\x09uniform\x20mat4\x20bindMatrixInverse;\x0a\x09uniform\x20highp\x20sampler2D\x20boneTexture;\x0a\x09mat4\x20getBoneMatrix(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20boneTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20)\x20*\x204;\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09vec4\x20v1\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v2\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x201,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v3\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x202,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v4\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x203,\x20y\x20),\x200\x20);\x0a\x09\x09return\x20mat4(\x20v1,\x20v2,\x20v3,\x20v4\x20);\x0a\x09}\x0a#endif','skinning_vertex':'#ifdef\x20USE_SKINNING\x0a\x09vec4\x20skinVertex\x20=\x20bindMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);\x0a\x09vec4\x20skinned\x20=\x20vec4(\x200.0\x20);\x0a\x09skinned\x20+=\x20boneMatX\x20*\x20skinVertex\x20*\x20skinWeight.x;\x0a\x09skinned\x20+=\x20boneMatY\x20*\x20skinVertex\x20*\x20skinWeight.y;\x0a\x09skinned\x20+=\x20boneMatZ\x20*\x20skinVertex\x20*\x20skinWeight.z;\x0a\x09skinned\x20+=\x20boneMatW\x20*\x20skinVertex\x20*\x20skinWeight.w;\x0a\x09transformed\x20=\x20(\x20bindMatrixInverse\x20*\x20skinned\x20).xyz;\x0a#endif','skinnormal_vertex':'#ifdef\x20USE_SKINNING\x0a\x09mat4\x20skinMatrix\x20=\x20mat4(\x200.0\x20);\x0a\x09skinMatrix\x20+=\x20skinWeight.x\x20*\x20boneMatX;\x0a\x09skinMatrix\x20+=\x20skinWeight.y\x20*\x20boneMatY;\x0a\x09skinMatrix\x20+=\x20skinWeight.z\x20*\x20boneMatZ;\x0a\x09skinMatrix\x20+=\x20skinWeight.w\x20*\x20boneMatW;\x0a\x09skinMatrix\x20=\x20bindMatrixInverse\x20*\x20skinMatrix\x20*\x20bindMatrix;\x0a\x09objectNormal\x20=\x20vec4(\x20skinMatrix\x20*\x20vec4(\x20objectNormal,\x200.0\x20)\x20).xyz;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09objectTangent\x20=\x20vec4(\x20skinMatrix\x20*\x20vec4(\x20objectTangent,\x200.0\x20)\x20).xyz;\x0a\x09#endif\x0a#endif','specularmap_fragment':'float\x20specularStrength;\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09vec4\x20texelSpecular\x20=\x20texture2D(\x20specularMap,\x20vSpecularMapUv\x20);\x0a\x09specularStrength\x20=\x20texelSpecular.r;\x0a#else\x0a\x09specularStrength\x20=\x201.0;\x0a#endif','specularmap_pars_fragment':'#ifdef\x20USE_SPECULARMAP\x0a\x09uniform\x20sampler2D\x20specularMap;\x0a#endif','tonemapping_fragment':'#if\x20defined(\x20TONE_MAPPING\x20)\x0a\x09gl_FragColor.rgb\x20=\x20toneMapping(\x20gl_FragColor.rgb\x20);\x0a#endif','tonemapping_pars_fragment':'#ifndef\x20saturate\x0a#define\x20saturate(\x20a\x20)\x20clamp(\x20a,\x200.0,\x201.0\x20)\x0a#endif\x0auniform\x20float\x20toneMappingExposure;\x0avec3\x20LinearToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09return\x20saturate(\x20toneMappingExposure\x20*\x20color\x20);\x0a}\x0avec3\x20ReinhardToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09return\x20saturate(\x20color\x20/\x20(\x20vec3(\x201.0\x20)\x20+\x20color\x20)\x20);\x0a}\x0avec3\x20CineonToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09color\x20=\x20max(\x20vec3(\x200.0\x20),\x20color\x20-\x200.004\x20);\x0a\x09return\x20pow(\x20(\x20color\x20*\x20(\x206.2\x20*\x20color\x20+\x200.5\x20)\x20)\x20/\x20(\x20color\x20*\x20(\x206.2\x20*\x20color\x20+\x201.7\x20)\x20+\x200.06\x20),\x20vec3(\x202.2\x20)\x20);\x0a}\x0avec3\x20RRTAndODTFit(\x20vec3\x20v\x20)\x20{\x0a\x09vec3\x20a\x20=\x20v\x20*\x20(\x20v\x20+\x200.0245786\x20)\x20-\x200.000090537;\x0a\x09vec3\x20b\x20=\x20v\x20*\x20(\x200.983729\x20*\x20v\x20+\x200.4329510\x20)\x20+\x200.238081;\x0a\x09return\x20a\x20/\x20b;\x0a}\x0avec3\x20ACESFilmicToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20mat3\x20ACESInputMat\x20=\x20mat3(\x0a\x09\x09vec3(\x200.59719,\x200.07600,\x200.02840\x20),\x09\x09vec3(\x200.35458,\x200.90834,\x200.13383\x20),\x0a\x09\x09vec3(\x200.04823,\x200.01566,\x200.83777\x20)\x0a\x09);\x0a\x09const\x20mat3\x20ACESOutputMat\x20=\x20mat3(\x0a\x09\x09vec3(\x20\x201.60475,\x20-0.10208,\x20-0.00327\x20),\x09\x09vec3(\x20-0.53108,\x20\x201.10813,\x20-0.07276\x20),\x0a\x09\x09vec3(\x20-0.07367,\x20-0.00605,\x20\x201.07602\x20)\x0a\x09);\x0a\x09color\x20*=\x20toneMappingExposure\x20/\x200.6;\x0a\x09color\x20=\x20ACESInputMat\x20*\x20color;\x0a\x09color\x20=\x20RRTAndODTFit(\x20color\x20);\x0a\x09color\x20=\x20ACESOutputMat\x20*\x20color;\x0a\x09return\x20saturate(\x20color\x20);\x0a}\x0aconst\x20mat3\x20LINEAR_REC2020_TO_LINEAR_SRGB\x20=\x20mat3(\x0a\x09vec3(\x201.6605,\x20-\x200.1246,\x20-\x200.0182\x20),\x0a\x09vec3(\x20-\x200.5876,\x201.1329,\x20-\x200.1006\x20),\x0a\x09vec3(\x20-\x200.0728,\x20-\x200.0083,\x201.1187\x20)\x0a);\x0aconst\x20mat3\x20LINEAR_SRGB_TO_LINEAR_REC2020\x20=\x20mat3(\x0a\x09vec3(\x200.6274,\x200.0691,\x200.0164\x20),\x0a\x09vec3(\x200.3293,\x200.9195,\x200.0880\x20),\x0a\x09vec3(\x200.0433,\x200.0113,\x200.8956\x20)\x0a);\x0avec3\x20agxDefaultContrastApprox(\x20vec3\x20x\x20)\x20{\x0a\x09vec3\x20x2\x20=\x20x\x20*\x20x;\x0a\x09vec3\x20x4\x20=\x20x2\x20*\x20x2;\x0a\x09return\x20+\x2015.5\x20*\x20x4\x20*\x20x2\x0a\x09\x09-\x2040.14\x20*\x20x4\x20*\x20x\x0a\x09\x09+\x2031.96\x20*\x20x4\x0a\x09\x09-\x206.868\x20*\x20x2\x20*\x20x\x0a\x09\x09+\x200.4298\x20*\x20x2\x0a\x09\x09+\x200.1191\x20*\x20x\x0a\x09\x09-\x200.00232;\x0a}\x0avec3\x20AgXToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20mat3\x20AgXInsetMatrix\x20=\x20mat3(\x0a\x09\x09vec3(\x200.856627153315983,\x200.137318972929847,\x200.11189821299995\x20),\x0a\x09\x09vec3(\x200.0951212405381588,\x200.761241990602591,\x200.0767994186031903\x20),\x0a\x09\x09vec3(\x200.0482516061458583,\x200.101439036467562,\x200.811302368396859\x20)\x0a\x09);\x0a\x09const\x20mat3\x20AgXOutsetMatrix\x20=\x20mat3(\x0a\x09\x09vec3(\x201.1271005818144368,\x20-\x200.1413297634984383,\x20-\x200.14132976349843826\x20),\x0a\x09\x09vec3(\x20-\x200.11060664309660323,\x201.157823702216272,\x20-\x200.11060664309660294\x20),\x0a\x09\x09vec3(\x20-\x200.016493938717834573,\x20-\x200.016493938717834257,\x201.2519364065950405\x20)\x0a\x09);\x0a\x09const\x20float\x20AgxMinEv\x20=\x20-\x2012.47393;\x09const\x20float\x20AgxMaxEv\x20=\x204.026069;\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09color\x20=\x20LINEAR_SRGB_TO_LINEAR_REC2020\x20*\x20color;\x0a\x09color\x20=\x20AgXInsetMatrix\x20*\x20color;\x0a\x09color\x20=\x20max(\x20color,\x201e-10\x20);\x09color\x20=\x20log2(\x20color\x20);\x0a\x09color\x20=\x20(\x20color\x20-\x20AgxMinEv\x20)\x20/\x20(\x20AgxMaxEv\x20-\x20AgxMinEv\x20);\x0a\x09color\x20=\x20clamp(\x20color,\x200.0,\x201.0\x20);\x0a\x09color\x20=\x20agxDefaultContrastApprox(\x20color\x20);\x0a\x09color\x20=\x20AgXOutsetMatrix\x20*\x20color;\x0a\x09color\x20=\x20pow(\x20max(\x20vec3(\x200.0\x20),\x20color\x20),\x20vec3(\x202.2\x20)\x20);\x0a\x09color\x20=\x20LINEAR_REC2020_TO_LINEAR_SRGB\x20*\x20color;\x0a\x09color\x20=\x20clamp(\x20color,\x200.0,\x201.0\x20);\x0a\x09return\x20color;\x0a}\x0avec3\x20NeutralToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20float\x20StartCompression\x20=\x200.8\x20-\x200.04;\x0a\x09const\x20float\x20Desaturation\x20=\x200.15;\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09float\x20x\x20=\x20min(\x20color.r,\x20min(\x20color.g,\x20color.b\x20)\x20);\x0a\x09float\x20offset\x20=\x20x\x20<\x200.08\x20?\x20x\x20-\x206.25\x20*\x20x\x20*\x20x\x20:\x200.04;\x0a\x09color\x20-=\x20offset;\x0a\x09float\x20peak\x20=\x20max(\x20color.r,\x20max(\x20color.g,\x20color.b\x20)\x20);\x0a\x09if\x20(\x20peak\x20<\x20StartCompression\x20)\x20return\x20color;\x0a\x09float\x20d\x20=\x201.\x20-\x20StartCompression;\x0a\x09float\x20newPeak\x20=\x201.\x20-\x20d\x20*\x20d\x20/\x20(\x20peak\x20+\x20d\x20-\x20StartCompression\x20);\x0a\x09color\x20*=\x20newPeak\x20/\x20peak;\x0a\x09float\x20g\x20=\x201.\x20-\x201.\x20/\x20(\x20Desaturation\x20*\x20(\x20peak\x20-\x20newPeak\x20)\x20+\x201.\x20);\x0a\x09return\x20mix(\x20color,\x20vec3(\x20newPeak\x20),\x20g\x20);\x0a}\x0avec3\x20CustomToneMapping(\x20vec3\x20color\x20)\x20{\x20return\x20color;\x20}','transmission_fragment':'#ifdef\x20USE_TRANSMISSION\x0a\x09material.transmission\x20=\x20transmission;\x0a\x09material.transmissionAlpha\x20=\x201.0;\x0a\x09material.thickness\x20=\x20thickness;\x0a\x09material.attenuationDistance\x20=\x20attenuationDistance;\x0a\x09material.attenuationColor\x20=\x20attenuationColor;\x0a\x09#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09\x09material.transmission\x20*=\x20texture2D(\x20transmissionMap,\x20vTransmissionMapUv\x20).r;\x0a\x09#endif\x0a\x09#ifdef\x20USE_THICKNESSMAP\x0a\x09\x09material.thickness\x20*=\x20texture2D(\x20thicknessMap,\x20vThicknessMapUv\x20).g;\x0a\x09#endif\x0a\x09vec3\x20pos\x20=\x20vWorldPosition;\x0a\x09vec3\x20v\x20=\x20normalize(\x20cameraPosition\x20-\x20pos\x20);\x0a\x09vec3\x20n\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09vec4\x20transmitted\x20=\x20getIBLVolumeRefraction(\x0a\x09\x09n,\x20v,\x20material.roughness,\x20material.diffuseColor,\x20material.specularColor,\x20material.specularF90,\x0a\x09\x09pos,\x20modelMatrix,\x20viewMatrix,\x20projectionMatrix,\x20material.dispersion,\x20material.ior,\x20material.thickness,\x0a\x09\x09material.attenuationColor,\x20material.attenuationDistance\x20);\x0a\x09material.transmissionAlpha\x20=\x20mix(\x20material.transmissionAlpha,\x20transmitted.a,\x20material.transmission\x20);\x0a\x09totalDiffuse\x20=\x20mix(\x20totalDiffuse,\x20transmitted.rgb,\x20material.transmission\x20);\x0a#endif','transmission_pars_fragment':'#ifdef\x20USE_TRANSMISSION\x0a\x09uniform\x20float\x20transmission;\x0a\x09uniform\x20float\x20thickness;\x0a\x09uniform\x20float\x20attenuationDistance;\x0a\x09uniform\x20vec3\x20attenuationColor;\x0a\x09#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09\x09uniform\x20sampler2D\x20transmissionMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_THICKNESSMAP\x0a\x09\x09uniform\x20sampler2D\x20thicknessMap;\x0a\x09#endif\x0a\x09uniform\x20vec2\x20transmissionSamplerSize;\x0a\x09uniform\x20sampler2D\x20transmissionSamplerMap;\x0a\x09uniform\x20mat4\x20modelMatrix;\x0a\x09uniform\x20mat4\x20projectionMatrix;\x0a\x09varying\x20vec3\x20vWorldPosition;\x0a\x09float\x20w0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20(\x20a\x20*\x20(\x20-\x20a\x20+\x203.0\x20)\x20-\x203.0\x20)\x20+\x201.0\x20);\x0a\x09}\x0a\x09float\x20w1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20\x20a\x20*\x20(\x203.0\x20*\x20a\x20-\x206.0\x20)\x20+\x204.0\x20);\x0a\x09}\x0a\x09float\x20w2(\x20float\x20a\x20){\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20(\x20a\x20*\x20(\x20-\x203.0\x20*\x20a\x20+\x203.0\x20)\x20+\x203.0\x20)\x20+\x201.0\x20);\x0a\x09}\x0a\x09float\x20w3(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20a\x20*\x20a\x20);\x0a\x09}\x0a\x09float\x20g0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20w0(\x20a\x20)\x20+\x20w1(\x20a\x20);\x0a\x09}\x0a\x09float\x20g1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20w2(\x20a\x20)\x20+\x20w3(\x20a\x20);\x0a\x09}\x0a\x09float\x20h0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20-\x201.0\x20+\x20w1(\x20a\x20)\x20/\x20(\x20w0(\x20a\x20)\x20+\x20w1(\x20a\x20)\x20);\x0a\x09}\x0a\x09float\x20h1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x201.0\x20+\x20w3(\x20a\x20)\x20/\x20(\x20w2(\x20a\x20)\x20+\x20w3(\x20a\x20)\x20);\x0a\x09}\x0a\x09vec4\x20bicubic(\x20sampler2D\x20tex,\x20vec2\x20uv,\x20vec4\x20texelSize,\x20float\x20lod\x20)\x20{\x0a\x09\x09uv\x20=\x20uv\x20*\x20texelSize.zw\x20+\x200.5;\x0a\x09\x09vec2\x20iuv\x20=\x20floor(\x20uv\x20);\x0a\x09\x09vec2\x20fuv\x20=\x20fract(\x20uv\x20);\x0a\x09\x09float\x20g0x\x20=\x20g0(\x20fuv.x\x20);\x0a\x09\x09float\x20g1x\x20=\x20g1(\x20fuv.x\x20);\x0a\x09\x09float\x20h0x\x20=\x20h0(\x20fuv.x\x20);\x0a\x09\x09float\x20h1x\x20=\x20h1(\x20fuv.x\x20);\x0a\x09\x09float\x20h0y\x20=\x20h0(\x20fuv.y\x20);\x0a\x09\x09float\x20h1y\x20=\x20h1(\x20fuv.y\x20);\x0a\x09\x09vec2\x20p0\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h0x,\x20iuv.y\x20+\x20h0y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p1\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h1x,\x20iuv.y\x20+\x20h0y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p2\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h0x,\x20iuv.y\x20+\x20h1y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p3\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h1x,\x20iuv.y\x20+\x20h1y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09return\x20g0(\x20fuv.y\x20)\x20*\x20(\x20g0x\x20*\x20textureLod(\x20tex,\x20p0,\x20lod\x20)\x20+\x20g1x\x20*\x20textureLod(\x20tex,\x20p1,\x20lod\x20)\x20)\x20+\x0a\x09\x09\x09g1(\x20fuv.y\x20)\x20*\x20(\x20g0x\x20*\x20textureLod(\x20tex,\x20p2,\x20lod\x20)\x20+\x20g1x\x20*\x20textureLod(\x20tex,\x20p3,\x20lod\x20)\x20);\x0a\x09}\x0a\x09vec4\x20textureBicubic(\x20sampler2D\x20sampler,\x20vec2\x20uv,\x20float\x20lod\x20)\x20{\x0a\x09\x09vec2\x20fLodSize\x20=\x20vec2(\x20textureSize(\x20sampler,\x20int(\x20lod\x20)\x20)\x20);\x0a\x09\x09vec2\x20cLodSize\x20=\x20vec2(\x20textureSize(\x20sampler,\x20int(\x20lod\x20+\x201.0\x20)\x20)\x20);\x0a\x09\x09vec2\x20fLodSizeInv\x20=\x201.0\x20/\x20fLodSize;\x0a\x09\x09vec2\x20cLodSizeInv\x20=\x201.0\x20/\x20cLodSize;\x0a\x09\x09vec4\x20fSample\x20=\x20bicubic(\x20sampler,\x20uv,\x20vec4(\x20fLodSizeInv,\x20fLodSize\x20),\x20floor(\x20lod\x20)\x20);\x0a\x09\x09vec4\x20cSample\x20=\x20bicubic(\x20sampler,\x20uv,\x20vec4(\x20cLodSizeInv,\x20cLodSize\x20),\x20ceil(\x20lod\x20)\x20);\x0a\x09\x09return\x20mix(\x20fSample,\x20cSample,\x20fract(\x20lod\x20)\x20);\x0a\x09}\x0a\x09vec3\x20getVolumeTransmissionRay(\x20const\x20in\x20vec3\x20n,\x20const\x20in\x20vec3\x20v,\x20const\x20in\x20float\x20thickness,\x20const\x20in\x20float\x20ior,\x20const\x20in\x20mat4\x20modelMatrix\x20)\x20{\x0a\x09\x09vec3\x20refractionVector\x20=\x20refract(\x20-\x20v,\x20normalize(\x20n\x20),\x201.0\x20/\x20ior\x20);\x0a\x09\x09vec3\x20modelScale;\x0a\x09\x09modelScale.x\x20=\x20length(\x20vec3(\x20modelMatrix[\x200\x20].xyz\x20)\x20);\x0a\x09\x09modelScale.y\x20=\x20length(\x20vec3(\x20modelMatrix[\x201\x20].xyz\x20)\x20);\x0a\x09\x09modelScale.z\x20=\x20length(\x20vec3(\x20modelMatrix[\x202\x20].xyz\x20)\x20);\x0a\x09\x09return\x20normalize(\x20refractionVector\x20)\x20*\x20thickness\x20*\x20modelScale;\x0a\x09}\x0a\x09float\x20applyIorToRoughness(\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20float\x20ior\x20)\x20{\x0a\x09\x09return\x20roughness\x20*\x20clamp(\x20ior\x20*\x202.0\x20-\x202.0,\x200.0,\x201.0\x20);\x0a\x09}\x0a\x09vec4\x20getTransmissionSample(\x20const\x20in\x20vec2\x20fragCoord,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20float\x20ior\x20)\x20{\x0a\x09\x09float\x20lod\x20=\x20log2(\x20transmissionSamplerSize.x\x20)\x20*\x20applyIorToRoughness(\x20roughness,\x20ior\x20);\x0a\x09\x09return\x20textureBicubic(\x20transmissionSamplerMap,\x20fragCoord.xy,\x20lod\x20);\x0a\x09}\x0a\x09vec3\x20volumeAttenuation(\x20const\x20in\x20float\x20transmissionDistance,\x20const\x20in\x20vec3\x20attenuationColor,\x20const\x20in\x20float\x20attenuationDistance\x20)\x20{\x0a\x09\x09if\x20(\x20isinf(\x20attenuationDistance\x20)\x20)\x20{\x0a\x09\x09\x09return\x20vec3(\x201.0\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09vec3\x20attenuationCoefficient\x20=\x20-log(\x20attenuationColor\x20)\x20/\x20attenuationDistance;\x0a\x09\x09\x09vec3\x20transmittance\x20=\x20exp(\x20-\x20attenuationCoefficient\x20*\x20transmissionDistance\x20);\x09\x09\x09return\x20transmittance;\x0a\x09\x09}\x0a\x09}\x0a\x09vec4\x20getIBLVolumeRefraction(\x20const\x20in\x20vec3\x20n,\x20const\x20in\x20vec3\x20v,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20vec3\x20diffuseColor,\x0a\x09\x09const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20vec3\x20position,\x20const\x20in\x20mat4\x20modelMatrix,\x0a\x09\x09const\x20in\x20mat4\x20viewMatrix,\x20const\x20in\x20mat4\x20projMatrix,\x20const\x20in\x20float\x20dispersion,\x20const\x20in\x20float\x20ior,\x20const\x20in\x20float\x20thickness,\x0a\x09\x09const\x20in\x20vec3\x20attenuationColor,\x20const\x20in\x20float\x20attenuationDistance\x20)\x20{\x0a\x09\x09vec4\x20transmittedLight;\x0a\x09\x09vec3\x20transmittance;\x0a\x09\x09#ifdef\x20USE_DISPERSION\x0a\x09\x09\x09float\x20halfSpread\x20=\x20(\x20ior\x20-\x201.0\x20)\x20*\x200.025\x20*\x20dispersion;\x0a\x09\x09\x09vec3\x20iors\x20=\x20vec3(\x20ior\x20-\x20halfSpread,\x20ior,\x20ior\x20+\x20halfSpread\x20);\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x203;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09vec3\x20transmissionRay\x20=\x20getVolumeTransmissionRay(\x20n,\x20v,\x20thickness,\x20iors[\x20i\x20],\x20modelMatrix\x20);\x0a\x09\x09\x09\x09vec3\x20refractedRayExit\x20=\x20position\x20+\x20transmissionRay;\x0a\x09\x09\x09\x09vec4\x20ndcPos\x20=\x20projMatrix\x20*\x20viewMatrix\x20*\x20vec4(\x20refractedRayExit,\x201.0\x20);\x0a\x09\x09\x09\x09vec2\x20refractionCoords\x20=\x20ndcPos.xy\x20/\x20ndcPos.w;\x0a\x09\x09\x09\x09refractionCoords\x20+=\x201.0;\x0a\x09\x09\x09\x09refractionCoords\x20/=\x202.0;\x0a\x09\x09\x09\x09vec4\x20transmissionSample\x20=\x20getTransmissionSample(\x20refractionCoords,\x20roughness,\x20iors[\x20i\x20]\x20);\x0a\x09\x09\x09\x09transmittedLight[\x20i\x20]\x20=\x20transmissionSample[\x20i\x20];\x0a\x09\x09\x09\x09transmittedLight.a\x20+=\x20transmissionSample.a;\x0a\x09\x09\x09\x09transmittance[\x20i\x20]\x20=\x20diffuseColor[\x20i\x20]\x20*\x20volumeAttenuation(\x20length(\x20transmissionRay\x20),\x20attenuationColor,\x20attenuationDistance\x20)[\x20i\x20];\x0a\x09\x09\x09}\x0a\x09\x09\x09transmittedLight.a\x20/=\x203.0;\x0a\x09\x09#else\x0a\x09\x09\x09vec3\x20transmissionRay\x20=\x20getVolumeTransmissionRay(\x20n,\x20v,\x20thickness,\x20ior,\x20modelMatrix\x20);\x0a\x09\x09\x09vec3\x20refractedRayExit\x20=\x20position\x20+\x20transmissionRay;\x0a\x09\x09\x09vec4\x20ndcPos\x20=\x20projMatrix\x20*\x20viewMatrix\x20*\x20vec4(\x20refractedRayExit,\x201.0\x20);\x0a\x09\x09\x09vec2\x20refractionCoords\x20=\x20ndcPos.xy\x20/\x20ndcPos.w;\x0a\x09\x09\x09refractionCoords\x20+=\x201.0;\x0a\x09\x09\x09refractionCoords\x20/=\x202.0;\x0a\x09\x09\x09transmittedLight\x20=\x20getTransmissionSample(\x20refractionCoords,\x20roughness,\x20ior\x20);\x0a\x09\x09\x09transmittance\x20=\x20diffuseColor\x20*\x20volumeAttenuation(\x20length(\x20transmissionRay\x20),\x20attenuationColor,\x20attenuationDistance\x20);\x0a\x09\x09#endif\x0a\x09\x09vec3\x20attenuatedColor\x20=\x20transmittance\x20*\x20transmittedLight.rgb;\x0a\x09\x09vec3\x20F\x20=\x20EnvironmentBRDF(\x20n,\x20v,\x20specularColor,\x20specularF90,\x20roughness\x20);\x0a\x09\x09float\x20transmittanceFactor\x20=\x20(\x20transmittance.r\x20+\x20transmittance.g\x20+\x20transmittance.b\x20)\x20/\x203.0;\x0a\x09\x09return\x20vec4(\x20(\x201.0\x20-\x20F\x20)\x20*\x20attenuatedColor,\x201.0\x20-\x20(\x201.0\x20-\x20transmittedLight.a\x20)\x20*\x20transmittanceFactor\x20);\x0a\x09}\x0a#endif','uv_pars_fragment':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09varying\x20vec2\x20vMapUv;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09varying\x20vec2\x20vAlphaMapUv;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09varying\x20vec2\x20vLightMapUv;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09varying\x20vec2\x20vAoMapUv;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09varying\x20vec2\x20vBumpMapUv;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09varying\x20vec2\x20vNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09varying\x20vec2\x20vEmissiveMapUv;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09varying\x20vec2\x20vMetalnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09varying\x20vec2\x20vAnisotropyMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09varying\x20vec2\x20vClearcoatMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09varying\x20vec2\x20vClearcoatNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vClearcoatRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09varying\x20vec2\x20vIridescenceMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09varying\x20vec2\x20vIridescenceThicknessMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09varying\x20vec2\x20vSheenColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vSheenRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09varying\x20vec2\x20vSpecularMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09varying\x20vec2\x20vSpecularColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09varying\x20vec2\x20vSpecularIntensityMapUv;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09uniform\x20mat3\x20transmissionMapTransform;\x0a\x09varying\x20vec2\x20vTransmissionMapUv;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20thicknessMapTransform;\x0a\x09varying\x20vec2\x20vThicknessMapUv;\x0a#endif','uv_pars_vertex':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09uniform\x20mat3\x20mapTransform;\x0a\x09varying\x20vec2\x20vMapUv;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20mat3\x20alphaMapTransform;\x0a\x09varying\x20vec2\x20vAlphaMapUv;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09uniform\x20mat3\x20lightMapTransform;\x0a\x09varying\x20vec2\x20vLightMapUv;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09uniform\x20mat3\x20aoMapTransform;\x0a\x09varying\x20vec2\x20vAoMapUv;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09uniform\x20mat3\x20bumpMapTransform;\x0a\x09varying\x20vec2\x20vBumpMapUv;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09uniform\x20mat3\x20normalMapTransform;\x0a\x09varying\x20vec2\x20vNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09uniform\x20mat3\x20displacementMapTransform;\x0a\x09varying\x20vec2\x20vDisplacementMapUv;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09uniform\x20mat3\x20emissiveMapTransform;\x0a\x09varying\x20vec2\x20vEmissiveMapUv;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09uniform\x20mat3\x20metalnessMapTransform;\x0a\x09varying\x20vec2\x20vMetalnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20roughnessMapTransform;\x0a\x09varying\x20vec2\x20vRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09uniform\x20mat3\x20anisotropyMapTransform;\x0a\x09varying\x20vec2\x20vAnisotropyMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09uniform\x20mat3\x20clearcoatMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09uniform\x20mat3\x20clearcoatNormalMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20clearcoatRoughnessMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09uniform\x20mat3\x20sheenColorMapTransform;\x0a\x09varying\x20vec2\x20vSheenColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20sheenRoughnessMapTransform;\x0a\x09varying\x20vec2\x20vSheenRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09uniform\x20mat3\x20iridescenceMapTransform;\x0a\x09varying\x20vec2\x20vIridescenceMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20iridescenceThicknessMapTransform;\x0a\x09varying\x20vec2\x20vIridescenceThicknessMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09uniform\x20mat3\x20specularMapTransform;\x0a\x09varying\x20vec2\x20vSpecularMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09uniform\x20mat3\x20specularColorMapTransform;\x0a\x09varying\x20vec2\x20vSpecularColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09uniform\x20mat3\x20specularIntensityMapTransform;\x0a\x09varying\x20vec2\x20vSpecularIntensityMapUv;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09uniform\x20mat3\x20transmissionMapTransform;\x0a\x09varying\x20vec2\x20vTransmissionMapUv;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20thicknessMapTransform;\x0a\x09varying\x20vec2\x20vThicknessMapUv;\x0a#endif','uv_vertex':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09vUv\x20=\x20vec3(\x20uv,\x201\x20).xy;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09vMapUv\x20=\x20(\x20mapTransform\x20*\x20vec3(\x20MAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09vAlphaMapUv\x20=\x20(\x20alphaMapTransform\x20*\x20vec3(\x20ALPHAMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09vLightMapUv\x20=\x20(\x20lightMapTransform\x20*\x20vec3(\x20LIGHTMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09vAoMapUv\x20=\x20(\x20aoMapTransform\x20*\x20vec3(\x20AOMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09vBumpMapUv\x20=\x20(\x20bumpMapTransform\x20*\x20vec3(\x20BUMPMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09vNormalMapUv\x20=\x20(\x20normalMapTransform\x20*\x20vec3(\x20NORMALMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09vDisplacementMapUv\x20=\x20(\x20displacementMapTransform\x20*\x20vec3(\x20DISPLACEMENTMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09vEmissiveMapUv\x20=\x20(\x20emissiveMapTransform\x20*\x20vec3(\x20EMISSIVEMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09vMetalnessMapUv\x20=\x20(\x20metalnessMapTransform\x20*\x20vec3(\x20METALNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09vRoughnessMapUv\x20=\x20(\x20roughnessMapTransform\x20*\x20vec3(\x20ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09vAnisotropyMapUv\x20=\x20(\x20anisotropyMapTransform\x20*\x20vec3(\x20ANISOTROPYMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09vClearcoatMapUv\x20=\x20(\x20clearcoatMapTransform\x20*\x20vec3(\x20CLEARCOATMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09vClearcoatNormalMapUv\x20=\x20(\x20clearcoatNormalMapTransform\x20*\x20vec3(\x20CLEARCOAT_NORMALMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09vClearcoatRoughnessMapUv\x20=\x20(\x20clearcoatRoughnessMapTransform\x20*\x20vec3(\x20CLEARCOAT_ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09vIridescenceMapUv\x20=\x20(\x20iridescenceMapTransform\x20*\x20vec3(\x20IRIDESCENCEMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09vIridescenceThicknessMapUv\x20=\x20(\x20iridescenceThicknessMapTransform\x20*\x20vec3(\x20IRIDESCENCE_THICKNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09vSheenColorMapUv\x20=\x20(\x20sheenColorMapTransform\x20*\x20vec3(\x20SHEEN_COLORMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09vSheenRoughnessMapUv\x20=\x20(\x20sheenRoughnessMapTransform\x20*\x20vec3(\x20SHEEN_ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09vSpecularMapUv\x20=\x20(\x20specularMapTransform\x20*\x20vec3(\x20SPECULARMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09vSpecularColorMapUv\x20=\x20(\x20specularColorMapTransform\x20*\x20vec3(\x20SPECULAR_COLORMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09vSpecularIntensityMapUv\x20=\x20(\x20specularIntensityMapTransform\x20*\x20vec3(\x20SPECULAR_INTENSITYMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09vTransmissionMapUv\x20=\x20(\x20transmissionMapTransform\x20*\x20vec3(\x20TRANSMISSIONMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09vThicknessMapUv\x20=\x20(\x20thicknessMapTransform\x20*\x20vec3(\x20THICKNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif','worldpos_vertex':'#if\x20defined(\x20USE_ENVMAP\x20)\x20||\x20defined(\x20DISTANCE\x20)\x20||\x20defined\x20(\x20USE_SHADOWMAP\x20)\x20||\x20defined\x20(\x20USE_TRANSMISSION\x20)\x20||\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09vec4\x20worldPosition\x20=\x20vec4(\x20transformed,\x201.0\x20);\x0a\x09#ifdef\x20USE_BATCHING\x0a\x09\x09worldPosition\x20=\x20batchingMatrix\x20*\x20worldPosition;\x0a\x09#endif\x0a\x09#ifdef\x20USE_INSTANCING\x0a\x09\x09worldPosition\x20=\x20instanceMatrix\x20*\x20worldPosition;\x0a\x09#endif\x0a\x09worldPosition\x20=\x20modelMatrix\x20*\x20worldPosition;\x0a#endif','background_vert':'varying\x20vec2\x20vUv;\x0auniform\x20mat3\x20uvTransform;\x0avoid\x20main()\x20{\x0a\x09vUv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20uv,\x201\x20)\x20).xy;\x0a\x09gl_Position\x20=\x20vec4(\x20position.xy,\x201.0,\x201.0\x20);\x0a}','background_frag':'uniform\x20sampler2D\x20t2D;\x0auniform\x20float\x20backgroundIntensity;\x0avarying\x20vec2\x20vUv;\x0avoid\x20main()\x20{\x0a\x09vec4\x20texColor\x20=\x20texture2D(\x20t2D,\x20vUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE\x0a\x09\x09texColor\x20=\x20vec4(\x20mix(\x20pow(\x20texColor.rgb\x20*\x200.9478672986\x20+\x20vec3(\x200.0521327014\x20),\x20vec3(\x202.4\x20)\x20),\x20texColor.rgb\x20*\x200.0773993808,\x20vec3(\x20lessThanEqual(\x20texColor.rgb,\x20vec3(\x200.04045\x20)\x20)\x20)\x20),\x20texColor.w\x20);\x0a\x09#endif\x0a\x09texColor.rgb\x20*=\x20backgroundIntensity;\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','backgroundCube_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_Position.z\x20=\x20gl_Position.w;\x0a}','backgroundCube_frag':'#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09uniform\x20samplerCube\x20envMap;\x0a#elif\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09uniform\x20sampler2D\x20envMap;\x0a#endif\x0auniform\x20float\x20flipEnvMap;\x0auniform\x20float\x20backgroundBlurriness;\x0auniform\x20float\x20backgroundIntensity;\x0auniform\x20mat3\x20backgroundRotation;\x0avarying\x20vec3\x20vWorldDirection;\x0a#include\x20<cube_uv_reflection_fragment>\x0avoid\x20main()\x20{\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09vec4\x20texColor\x20=\x20textureCube(\x20envMap,\x20backgroundRotation\x20*\x20vec3(\x20flipEnvMap\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09\x09vec4\x20texColor\x20=\x20textureCubeUV(\x20envMap,\x20backgroundRotation\x20*\x20vWorldDirection,\x20backgroundBlurriness\x20);\x0a\x09#else\x0a\x09\x09vec4\x20texColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x201.0\x20);\x0a\x09#endif\x0a\x09texColor.rgb\x20*=\x20backgroundIntensity;\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','cube_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_Position.z\x20=\x20gl_Position.w;\x0a}','cube_frag':'uniform\x20samplerCube\x20tCube;\x0auniform\x20float\x20tFlip;\x0auniform\x20float\x20opacity;\x0avarying\x20vec3\x20vWorldDirection;\x0avoid\x20main()\x20{\x0a\x09vec4\x20texColor\x20=\x20textureCube(\x20tCube,\x20vec3(\x20tFlip\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09gl_FragColor.a\x20*=\x20opacity;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','depth_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avarying\x20vec2\x20vHighPrecisionZW;\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vHighPrecisionZW\x20=\x20gl_Position.zw;\x0a}','depth_frag':'#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09uniform\x20float\x20opacity;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avarying\x20vec2\x20vHighPrecisionZW;\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x201.0\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09\x09diffuseColor.a\x20=\x20opacity;\x0a\x09#endif\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09float\x20fragCoordZ\x20=\x200.5\x20*\x20vHighPrecisionZW[0]\x20/\x20vHighPrecisionZW[1]\x20+\x200.5;\x0a\x09#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20vec3(\x201.0\x20-\x20fragCoordZ\x20),\x20opacity\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203201\x0a\x09\x09gl_FragColor\x20=\x20packDepthToRGBA(\x20fragCoordZ\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203202\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20packDepthToRGB(\x20fragCoordZ\x20),\x201.0\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203203\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20packDepthToRG(\x20fragCoordZ\x20),\x200.0,\x201.0\x20);\x0a\x09#endif\x0a}','distanceRGBA_vert':'#define\x20DISTANCE\x0avarying\x20vec3\x20vWorldPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a}','distanceRGBA_frag':'#define\x20DISTANCE\x0auniform\x20vec3\x20referencePosition;\x0auniform\x20float\x20nearDistance;\x0auniform\x20float\x20farDistance;\x0avarying\x20vec3\x20vWorldPosition;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main\x20()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x201.0\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09float\x20dist\x20=\x20length(\x20vWorldPosition\x20-\x20referencePosition\x20);\x0a\x09dist\x20=\x20(\x20dist\x20-\x20nearDistance\x20)\x20/\x20(\x20farDistance\x20-\x20nearDistance\x20);\x0a\x09dist\x20=\x20saturate(\x20dist\x20);\x0a\x09gl_FragColor\x20=\x20packDepthToRGBA(\x20dist\x20);\x0a}','equirect_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a}','equirect_frag':'uniform\x20sampler2D\x20tEquirect;\x0avarying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vec3\x20direction\x20=\x20normalize(\x20vWorldDirection\x20);\x0a\x09vec2\x20sampleUV\x20=\x20equirectUv(\x20direction\x20);\x0a\x09gl_FragColor\x20=\x20texture2D(\x20tEquirect,\x20sampleUV\x20);\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','linedashed_vert':'uniform\x20float\x20scale;\x0aattribute\x20float\x20lineDistance;\x0avarying\x20float\x20vLineDistance;\x0a#include\x20<common>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09vLineDistance\x20=\x20scale\x20*\x20lineDistance;\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','linedashed_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0auniform\x20float\x20dashSize;\x0auniform\x20float\x20totalSize;\x0avarying\x20float\x20vLineDistance;\x0a#include\x20<common>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09if\x20(\x20mod(\x20vLineDistance,\x20totalSize\x20)\x20>\x20dashSize\x20)\x20{\x0a\x09\x09discard;\x0a\x09}\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a}','meshbasic_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#if\x20defined\x20(\x20USE_ENVMAP\x20)\x20||\x20defined\x20(\x20USE_SKINNING\x20)\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinbase_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09\x09#include\x20<defaultnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshbasic_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09#ifdef\x20USE_LIGHTMAP\x0a\x09\x09vec4\x20lightMapTexel\x20=\x20texture2D(\x20lightMap,\x20vLightMapUv\x20);\x0a\x09\x09reflectedLight.indirectDiffuse\x20+=\x20lightMapTexel.rgb\x20*\x20lightMapIntensity\x20*\x20RECIPROCAL_PI;\x0a\x09#else\x0a\x09\x09reflectedLight.indirectDiffuse\x20+=\x20vec3(\x201.0\x20);\x0a\x09#endif\x0a\x09#include\x20<aomap_fragment>\x0a\x09reflectedLight.indirectDiffuse\x20*=\x20diffuseColor.rgb;\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.indirectDiffuse;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshlambert_vert':'#define\x20LAMBERT\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshlambert_frag':'#define\x20LAMBERT\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_lambert_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_lambert_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshmatcap_vert':'#define\x20MATCAP\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a}','meshmatcap_frag':'#define\x20MATCAP\x0auniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0auniform\x20sampler2D\x20matcap;\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09vec3\x20viewDir\x20=\x20normalize(\x20vViewPosition\x20);\x0a\x09vec3\x20x\x20=\x20normalize(\x20vec3(\x20viewDir.z,\x200.0,\x20-\x20viewDir.x\x20)\x20);\x0a\x09vec3\x20y\x20=\x20cross(\x20viewDir,\x20x\x20);\x0a\x09vec2\x20uv\x20=\x20vec2(\x20dot(\x20x,\x20normal\x20),\x20dot(\x20y,\x20normal\x20)\x20)\x20*\x200.495\x20+\x200.5;\x0a\x09#ifdef\x20USE_MATCAP\x0a\x09\x09vec4\x20matcapColor\x20=\x20texture2D(\x20matcap,\x20uv\x20);\x0a\x09#else\x0a\x09\x09vec4\x20matcapColor\x20=\x20vec4(\x20vec3(\x20mix(\x200.2,\x200.8,\x20uv.y\x20)\x20),\x201.0\x20);\x0a\x09#endif\x0a\x09vec3\x20outgoingLight\x20=\x20diffuseColor.rgb\x20*\x20matcapColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshnormal_vert':'#define\x20NORMAL\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09varying\x20vec3\x20vViewPosition;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a#endif\x0a}','meshnormal_frag':'#define\x20NORMAL\x0auniform\x20float\x20opacity;\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09varying\x20vec3\x20vViewPosition;\x0a#endif\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09gl_FragColor\x20=\x20vec4(\x20packNormalToRGB(\x20normal\x20),\x20diffuseColor.a\x20);\x0a\x09#ifdef\x20OPAQUE\x0a\x09\x09gl_FragColor.a\x20=\x201.0;\x0a\x09#endif\x0a}','meshphong_vert':'#define\x20PHONG\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshphong_frag':'#define\x20PHONG\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20vec3\x20specular;\x0auniform\x20float\x20shininess;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_phong_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_phong_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20reflectedLight.directSpecular\x20+\x20reflectedLight.indirectSpecular\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshphysical_vert':'#define\x20STANDARD\x0avarying\x20vec3\x20vViewPosition;\x0a#ifdef\x20USE_TRANSMISSION\x0a\x09varying\x20vec3\x20vWorldPosition;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a#ifdef\x20USE_TRANSMISSION\x0a\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a#endif\x0a}','meshphysical_frag':'#define\x20STANDARD\x0a#ifdef\x20PHYSICAL\x0a\x09#define\x20IOR\x0a\x09#define\x20USE_SPECULAR\x0a#endif\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20roughness;\x0auniform\x20float\x20metalness;\x0auniform\x20float\x20opacity;\x0a#ifdef\x20IOR\x0a\x09uniform\x20float\x20ior;\x0a#endif\x0a#ifdef\x20USE_SPECULAR\x0a\x09uniform\x20float\x20specularIntensity;\x0a\x09uniform\x20vec3\x20specularColor;\x0a\x09#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09\x09uniform\x20sampler2D\x20specularColorMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09\x09uniform\x20sampler2D\x20specularIntensityMap;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09uniform\x20float\x20clearcoat;\x0a\x09uniform\x20float\x20clearcoatRoughness;\x0a#endif\x0a#ifdef\x20USE_DISPERSION\x0a\x09uniform\x20float\x20dispersion;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09uniform\x20float\x20iridescence;\x0a\x09uniform\x20float\x20iridescenceIOR;\x0a\x09uniform\x20float\x20iridescenceThicknessMinimum;\x0a\x09uniform\x20float\x20iridescenceThicknessMaximum;\x0a#endif\x0a#ifdef\x20USE_SHEEN\x0a\x09uniform\x20vec3\x20sheenColor;\x0a\x09uniform\x20float\x20sheenRoughness;\x0a\x09#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09\x09uniform\x20sampler2D\x20sheenColorMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09\x09uniform\x20sampler2D\x20sheenRoughnessMap;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09uniform\x20vec2\x20anisotropyVector;\x0a\x09#ifdef\x20USE_ANISOTROPYMAP\x0a\x09\x09uniform\x20sampler2D\x20anisotropyMap;\x0a\x09#endif\x0a#endif\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<iridescence_fragment>\x0a#include\x20<cube_uv_reflection_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_physical_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_physical_pars_fragment>\x0a#include\x20<transmission_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<clearcoat_pars_fragment>\x0a#include\x20<iridescence_pars_fragment>\x0a#include\x20<roughnessmap_pars_fragment>\x0a#include\x20<metalnessmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<roughnessmap_fragment>\x0a\x09#include\x20<metalnessmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<clearcoat_normal_fragment_begin>\x0a\x09#include\x20<clearcoat_normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_physical_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20totalDiffuse\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse;\x0a\x09vec3\x20totalSpecular\x20=\x20reflectedLight.directSpecular\x20+\x20reflectedLight.indirectSpecular;\x0a\x09#include\x20<transmission_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20totalDiffuse\x20+\x20totalSpecular\x20+\x20totalEmissiveRadiance;\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09float\x20sheenEnergyComp\x20=\x201.0\x20-\x200.157\x20*\x20max3(\x20material.sheenColor\x20);\x0a\x09\x09outgoingLight\x20=\x20outgoingLight\x20*\x20sheenEnergyComp\x20+\x20sheenSpecularDirect\x20+\x20sheenSpecularIndirect;\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20dotNVcc\x20=\x20saturate(\x20dot(\x20geometryClearcoatNormal,\x20geometryViewDir\x20)\x20);\x0a\x09\x09vec3\x20Fcc\x20=\x20F_Schlick(\x20material.clearcoatF0,\x20material.clearcoatF90,\x20dotNVcc\x20);\x0a\x09\x09outgoingLight\x20=\x20outgoingLight\x20*\x20(\x201.0\x20-\x20material.clearcoat\x20*\x20Fcc\x20)\x20+\x20(\x20clearcoatSpecularDirect\x20+\x20clearcoatSpecularIndirect\x20)\x20*\x20material.clearcoat;\x0a\x09#endif\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshtoon_vert':'#define\x20TOON\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshtoon_frag':'#define\x20TOON\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<gradientmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_toon_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_toon_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','points_vert':'uniform\x20float\x20size;\x0auniform\x20float\x20scale;\x0a#include\x20<common>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0a#ifdef\x20USE_POINTS_UV\x0a\x09varying\x20vec2\x20vUv;\x0a\x09uniform\x20mat3\x20uvTransform;\x0a#endif\x0avoid\x20main()\x20{\x0a\x09#ifdef\x20USE_POINTS_UV\x0a\x09\x09vUv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20uv,\x201\x20)\x20).xy;\x0a\x09#endif\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_PointSize\x20=\x20size;\x0a\x09#ifdef\x20USE_SIZEATTENUATION\x0a\x09\x09bool\x20isPerspective\x20=\x20isPerspectiveMatrix(\x20projectionMatrix\x20);\x0a\x09\x09if\x20(\x20isPerspective\x20)\x20gl_PointSize\x20*=\x20(\x20scale\x20/\x20-\x20mvPosition.z\x20);\x0a\x09#endif\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','points_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<map_particle_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_particle_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a}','shadow_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','shadow_frag':'uniform\x20vec3\x20color;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<shadowmask_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09gl_FragColor\x20=\x20vec4(\x20color,\x20opacity\x20*\x20(\x201.0\x20-\x20getShadowMask()\x20)\x20);\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a}','sprite_vert':'uniform\x20float\x20rotation;\x0auniform\x20vec2\x20center;\x0a#include\x20<common>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09vec4\x20mvPosition\x20=\x20modelViewMatrix[\x203\x20];\x0a\x09vec2\x20scale\x20=\x20vec2(\x20length(\x20modelMatrix[\x200\x20].xyz\x20),\x20length(\x20modelMatrix[\x201\x20].xyz\x20)\x20);\x0a\x09#ifndef\x20USE_SIZEATTENUATION\x0a\x09\x09bool\x20isPerspective\x20=\x20isPerspectiveMatrix(\x20projectionMatrix\x20);\x0a\x09\x09if\x20(\x20isPerspective\x20)\x20scale\x20*=\x20-\x20mvPosition.z;\x0a\x09#endif\x0a\x09vec2\x20alignedPosition\x20=\x20(\x20position.xy\x20-\x20(\x20center\x20-\x20vec2(\x200.5\x20)\x20)\x20)\x20*\x20scale;\x0a\x09vec2\x20rotatedPosition;\x0a\x09rotatedPosition.x\x20=\x20cos(\x20rotation\x20)\x20*\x20alignedPosition.x\x20-\x20sin(\x20rotation\x20)\x20*\x20alignedPosition.y;\x0a\x09rotatedPosition.y\x20=\x20sin(\x20rotation\x20)\x20*\x20alignedPosition.x\x20+\x20cos(\x20rotation\x20)\x20*\x20alignedPosition.y;\x0a\x09mvPosition.xy\x20+=\x20rotatedPosition;\x0a\x09gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','sprite_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a}'},_0x1162d4={'common':{'diffuse':{'value':new _0x923951['Q1f'](0xffffff)},'opacity':{'value':0x1},'map':{'value':null},'mapTransform':{'value':new _0x923951['dwI']()},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x923951['dwI']()},'alphaTest':{'value':0x0}},'specularmap':{'specularMap':{'value':null},'specularMapTransform':{'value':new _0x923951['dwI']()}},'envmap':{'envMap':{'value':null},'envMapRotation':{'value':new _0x923951['dwI']()},'flipEnvMap':{'value':-0x1},'reflectivity':{'value':0x1},'ior':{'value':1.5},'refractionRatio':{'value':0.98}},'aomap':{'aoMap':{'value':null},'aoMapIntensity':{'value':0x1},'aoMapTransform':{'value':new _0x923951['dwI']()}},'lightmap':{'lightMap':{'value':null},'lightMapIntensity':{'value':0x1},'lightMapTransform':{'value':new _0x923951['dwI']()}},'bumpmap':{'bumpMap':{'value':null},'bumpMapTransform':{'value':new _0x923951['dwI']()},'bumpScale':{'value':0x1}},'normalmap':{'normalMap':{'value':null},'normalMapTransform':{'value':new _0x923951['dwI']()},'normalScale':{'value':new _0x923951['I9Y'](0x1,0x1)}},'displacementmap':{'displacementMap':{'value':null},'displacementMapTransform':{'value':new _0x923951['dwI']()},'displacementScale':{'value':0x1},'displacementBias':{'value':0x0}},'emissivemap':{'emissiveMap':{'value':null},'emissiveMapTransform':{'value':new _0x923951['dwI']()}},'metalnessmap':{'metalnessMap':{'value':null},'metalnessMapTransform':{'value':new _0x923951['dwI']()}},'roughnessmap':{'roughnessMap':{'value':null},'roughnessMapTransform':{'value':new _0x923951['dwI']()}},'gradientmap':{'gradientMap':{'value':null}},'fog':{'fogDensity':{'value':0.00025},'fogNear':{'value':0x1},'fogFar':{'value':0x7d0},'fogColor':{'value':new _0x923951['Q1f'](0xffffff)}},'lights':{'ambientLightColor':{'value':[]},'lightProbe':{'value':[]},'directionalLights':{'value':[],'properties':{'direction':{},'color':{}}},'directionalLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{}}},'directionalShadowMap':{'value':[]},'directionalShadowMatrix':{'value':[]},'spotLights':{'value':[],'properties':{'color':{},'position':{},'direction':{},'distance':{},'coneCos':{},'penumbraCos':{},'decay':{}}},'spotLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{}}},'spotLightMap':{'value':[]},'spotShadowMap':{'value':[]},'spotLightMatrix':{'value':[]},'pointLights':{'value':[],'properties':{'color':{},'position':{},'decay':{},'distance':{}}},'pointLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{},'shadowCameraNear':{},'shadowCameraFar':{}}},'pointShadowMap':{'value':[]},'pointShadowMatrix':{'value':[]},'hemisphereLights':{'value':[],'properties':{'direction':{},'skyColor':{},'groundColor':{}}},'rectAreaLights':{'value':[],'properties':{'color':{},'position':{},'width':{},'height':{}}},'ltc_1':{'value':null},'ltc_2':{'value':null}},'points':{'diffuse':{'value':new _0x923951['Q1f'](0xffffff)},'opacity':{'value':0x1},'size':{'value':0x1},'scale':{'value':0x1},'map':{'value':null},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x923951['dwI']()},'alphaTest':{'value':0x0},'uvTransform':{'value':new _0x923951['dwI']()}},'sprite':{'diffuse':{'value':new _0x923951['Q1f'](0xffffff)},'opacity':{'value':0x1},'center':{'value':new _0x923951['I9Y'](0.5,0.5)},'rotation':{'value':0x0},'map':{'value':null},'mapTransform':{'value':new _0x923951['dwI']()},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x923951['dwI']()},'alphaTest':{'value':0x0}}},_0x5b534f={'basic':{'uniforms':(0x0,_0x923951['Iit'])([_0x1162d4['common'],_0x1162d4['specularmap'],_0x1162d4['envmap'],_0x1162d4['aomap'],_0x1162d4['lightmap'],_0x1162d4['fog']]),'vertexShader':_0x4a2f7f['meshbasic_vert'],'fragmentShader':_0x4a2f7f['meshbasic_frag']},'lambert':{'uniforms':(0x0,_0x923951['Iit'])([_0x1162d4['common'],_0x1162d4['specularmap'],_0x1162d4['envmap'],_0x1162d4['aomap'],_0x1162d4['lightmap'],_0x1162d4['emissivemap'],_0x1162d4['bumpmap'],_0x1162d4['normalmap'],_0x1162d4['displacementmap'],_0x1162d4['fog'],_0x1162d4['lights'],{'emissive':{'value':new _0x923951['Q1f'](0x0)}}]),'vertexShader':_0x4a2f7f['meshlambert_vert'],'fragmentShader':_0x4a2f7f['meshlambert_frag']},'phong':{'uniforms':(0x0,_0x923951['Iit'])([_0x1162d4['common'],_0x1162d4['specularmap'],_0x1162d4['envmap'],_0x1162d4['aomap'],_0x1162d4['lightmap'],_0x1162d4['emissivemap'],_0x1162d4['bumpmap'],_0x1162d4['normalmap'],_0x1162d4['displacementmap'],_0x1162d4['fog'],_0x1162d4['lights'],{'emissive':{'value':new _0x923951['Q1f'](0x0)},'specular':{'value':new _0x923951['Q1f'](0x111111)},'shininess':{'value':0x1e}}]),'vertexShader':_0x4a2f7f['meshphong_vert'],'fragmentShader':_0x4a2f7f['meshphong_frag']},'standard':{'uniforms':(0x0,_0x923951['Iit'])([_0x1162d4['common'],_0x1162d4['envmap'],_0x1162d4['aomap'],_0x1162d4['lightmap'],_0x1162d4['emissivemap'],_0x1162d4['bumpmap'],_0x1162d4['normalmap'],_0x1162d4['displacementmap'],_0x1162d4['roughnessmap'],_0x1162d4['metalnessmap'],_0x1162d4['fog'],_0x1162d4['lights'],{'emissive':{'value':new _0x923951['Q1f'](0x0)},'roughness':{'value':0x1},'metalness':{'value':0x0},'envMapIntensity':{'value':0x1}}]),'vertexShader':_0x4a2f7f['meshphysical_vert'],'fragmentShader':_0x4a2f7f['meshphysical_frag']},'toon':{'uniforms':(0x0,_0x923951['Iit'])([_0x1162d4['common'],_0x1162d4['aomap'],_0x1162d4['lightmap'],_0x1162d4['emissivemap'],_0x1162d4['bumpmap'],_0x1162d4['normalmap'],_0x1162d4['displacementmap'],_0x1162d4['gradientmap'],_0x1162d4['fog'],_0x1162d4['lights'],{'emissive':{'value':new _0x923951['Q1f'](0x0)}}]),'vertexShader':_0x4a2f7f['meshtoon_vert'],'fragmentShader':_0x4a2f7f['meshtoon_frag']},'matcap':{'uniforms':(0x0,_0x923951['Iit'])([_0x1162d4['common'],_0x1162d4['bumpmap'],_0x1162d4['normalmap'],_0x1162d4['displacementmap'],_0x1162d4['fog'],{'matcap':{'value':null}}]),'vertexShader':_0x4a2f7f['meshmatcap_vert'],'fragmentShader':_0x4a2f7f['meshmatcap_frag']},'points':{'uniforms':(0x0,_0x923951['Iit'])([_0x1162d4['points'],_0x1162d4['fog']]),'vertexShader':_0x4a2f7f['points_vert'],'fragmentShader':_0x4a2f7f['points_frag']},'dashed':{'uniforms':(0x0,_0x923951['Iit'])([_0x1162d4['common'],_0x1162d4['fog'],{'scale':{'value':0x1},'dashSize':{'value':0x1},'totalSize':{'value':0x2}}]),'vertexShader':_0x4a2f7f['linedashed_vert'],'fragmentShader':_0x4a2f7f['linedashed_frag']},'depth':{'uniforms':(0x0,_0x923951['Iit'])([_0x1162d4['common'],_0x1162d4['displacementmap']]),'vertexShader':_0x4a2f7f['depth_vert'],'fragmentShader':_0x4a2f7f['depth_frag']},'normal':{'uniforms':(0x0,_0x923951['Iit'])([_0x1162d4['common'],_0x1162d4['bumpmap'],_0x1162d4['normalmap'],_0x1162d4['displacementmap'],{'opacity':{'value':0x1}}]),'vertexShader':_0x4a2f7f['meshnormal_vert'],'fragmentShader':_0x4a2f7f['meshnormal_frag']},'sprite':{'uniforms':(0x0,_0x923951['Iit'])([_0x1162d4['sprite'],_0x1162d4['fog']]),'vertexShader':_0x4a2f7f['sprite_vert'],'fragmentShader':_0x4a2f7f['sprite_frag']},'background':{'uniforms':{'uvTransform':{'value':new _0x923951['dwI']()},'t2D':{'value':null},'backgroundIntensity':{'value':0x1}},'vertexShader':_0x4a2f7f['background_vert'],'fragmentShader':_0x4a2f7f['background_frag']},'backgroundCube':{'uniforms':{'envMap':{'value':null},'flipEnvMap':{'value':-0x1},'backgroundBlurriness':{'value':0x0},'backgroundIntensity':{'value':0x1},'backgroundRotation':{'value':new _0x923951['dwI']()}},'vertexShader':_0x4a2f7f['backgroundCube_vert'],'fragmentShader':_0x4a2f7f['backgroundCube_frag']},'cube':{'uniforms':{'tCube':{'value':null},'tFlip':{'value':-0x1},'opacity':{'value':0x1}},'vertexShader':_0x4a2f7f['cube_vert'],'fragmentShader':_0x4a2f7f['cube_frag']},'equirect':{'uniforms':{'tEquirect':{'value':null}},'vertexShader':_0x4a2f7f['equirect_vert'],'fragmentShader':_0x4a2f7f['equirect_frag']},'distanceRGBA':{'uniforms':(0x0,_0x923951['Iit'])([_0x1162d4['common'],_0x1162d4['displacementmap'],{'referencePosition':{'value':new _0x923951['Pq0']()},'nearDistance':{'value':0x1},'farDistance':{'value':0x3e8}}]),'vertexShader':_0x4a2f7f['distanceRGBA_vert'],'fragmentShader':_0x4a2f7f['distanceRGBA_frag']},'shadow':{'uniforms':(0x0,_0x923951['Iit'])([_0x1162d4['lights'],_0x1162d4['fog'],{'color':{'value':new _0x923951['Q1f'](0x0)},'opacity':{'value':0x1}}]),'vertexShader':_0x4a2f7f['shadow_vert'],'fragmentShader':_0x4a2f7f['shadow_frag']}};_0x5b534f['physical']={'uniforms':(0x0,_0x923951['Iit'])([_0x5b534f['standard']['uniforms'],{'clearcoat':{'value':0x0},'clearcoatMap':{'value':null},'clearcoatMapTransform':{'value':new _0x923951['dwI']()},'clearcoatNormalMap':{'value':null},'clearcoatNormalMapTransform':{'value':new _0x923951['dwI']()},'clearcoatNormalScale':{'value':new _0x923951['I9Y'](0x1,0x1)},'clearcoatRoughness':{'value':0x0},'clearcoatRoughnessMap':{'value':null},'clearcoatRoughnessMapTransform':{'value':new _0x923951['dwI']()},'dispersion':{'value':0x0},'iridescence':{'value':0x0},'iridescenceMap':{'value':null},'iridescenceMapTransform':{'value':new _0x923951['dwI']()},'iridescenceIOR':{'value':1.3},'iridescenceThicknessMinimum':{'value':0x64},'iridescenceThicknessMaximum':{'value':0x190},'iridescenceThicknessMap':{'value':null},'iridescenceThicknessMapTransform':{'value':new _0x923951['dwI']()},'sheen':{'value':0x0},'sheenColor':{'value':new _0x923951['Q1f'](0x0)},'sheenColorMap':{'value':null},'sheenColorMapTransform':{'value':new _0x923951['dwI']()},'sheenRoughness':{'value':0x1},'sheenRoughnessMap':{'value':null},'sheenRoughnessMapTransform':{'value':new _0x923951['dwI']()},'transmission':{'value':0x0},'transmissionMap':{'value':null},'transmissionMapTransform':{'value':new _0x923951['dwI']()},'transmissionSamplerSize':{'value':new _0x923951['I9Y']()},'transmissionSamplerMap':{'value':null},'thickness':{'value':0x0},'thicknessMap':{'value':null},'thicknessMapTransform':{'value':new _0x923951['dwI']()},'attenuationDistance':{'value':0x0},'attenuationColor':{'value':new _0x923951['Q1f'](0x0)},'specularColor':{'value':new _0x923951['Q1f'](0x1,0x1,0x1)},'specularColorMap':{'value':null},'specularColorMapTransform':{'value':new _0x923951['dwI']()},'specularIntensity':{'value':0x1},'specularIntensityMap':{'value':null},'specularIntensityMapTransform':{'value':new _0x923951['dwI']()},'anisotropyVector':{'value':new _0x923951['I9Y']()},'anisotropyMap':{'value':null},'anisotropyMapTransform':{'value':new _0x923951['dwI']()}}]),'vertexShader':_0x4a2f7f['meshphysical_vert'],'fragmentShader':_0x4a2f7f['meshphysical_frag']};const _0x473c8c={'r':0x0,'b':0x0,'g':0x0},_0x1139e8=new _0x923951['O9p'](),_0x1b983b=new _0x923951['kn4']();function _0x32796e(_0x3fbe3c,_0x48462a,_0x4c37c8,_0x54e82e,_0x186a13,_0x55913f,_0x3dd507){const _0x52aecf=new _0x923951['Q1f'](0x0);let _0x472b22,_0x5b5af2,_0x4cd1cc=!0x0===_0x55913f?0x0:0x1,_0x317274=null,_0xd53c50=0x0,_0x3cd825=null;function _0x430c95(_0x17c7d7){let _0x286c8f=!0x0===_0x17c7d7['isScene']?_0x17c7d7['background']:null;return _0x286c8f&&_0x286c8f['isTexture']&&(_0x286c8f=(_0x17c7d7['backgroundBlurriness']>0x0?_0x4c37c8:_0x48462a)['get'](_0x286c8f)),_0x286c8f;}function _0x332cb3(_0x44e4cd,_0x6d935e){_0x44e4cd['getRGB'](_0x473c8c,(0x0,_0x923951['_Ut'])(_0x3fbe3c)),_0x54e82e['buffers']['color']['setClear'](_0x473c8c['r'],_0x473c8c['g'],_0x473c8c['b'],_0x6d935e,_0x3dd507);}return{'getClearColor':function(){return _0x52aecf;},'setClearColor':function(_0x2165d1,_0x383f54=0x1){_0x52aecf['set'](_0x2165d1),_0x4cd1cc=_0x383f54,_0x332cb3(_0x52aecf,_0x4cd1cc);},'getClearAlpha':function(){return _0x4cd1cc;},'setClearAlpha':function(_0x2131bd){_0x4cd1cc=_0x2131bd,_0x332cb3(_0x52aecf,_0x4cd1cc);},'render':function(_0x1d67b4){let _0x48e79f=!0x1;const _0x4d7e74=_0x430c95(_0x1d67b4);null===_0x4d7e74?_0x332cb3(_0x52aecf,_0x4cd1cc):_0x4d7e74&&_0x4d7e74['isColor']&&(_0x332cb3(_0x4d7e74,0x1),_0x48e79f=!0x0);const _0x4fb3c5=_0x3fbe3c['xr']['getEnvironmentBlendMode']();'additive'===_0x4fb3c5?_0x54e82e['buffers']['color']['setClear'](0x0,0x0,0x0,0x1,_0x3dd507):'alpha-blend'===_0x4fb3c5&&_0x54e82e['buffers']['color']['setClear'](0x0,0x0,0x0,0x0,_0x3dd507),(_0x3fbe3c['autoClear']||_0x48e79f)&&(_0x54e82e['buffers']['depth']['setTest'](!0x0),_0x54e82e['buffers']['depth']['setMask'](!0x0),_0x54e82e['buffers']['color']['setMask'](!0x0),_0x3fbe3c['clear'](_0x3fbe3c['autoClearColor'],_0x3fbe3c['autoClearDepth'],_0x3fbe3c['autoClearStencil']));},'addToRenderList':function(_0x3af3b6,_0x27bfcb){const _0x45aef0=_0x430c95(_0x27bfcb);_0x45aef0&&(_0x45aef0['isCubeTexture']||_0x45aef0['mapping']===_0x923951['Om'])?(void 0x0===_0x5b5af2&&(_0x5b5af2=new _0x923951['eaF'](new _0x923951['iNn'](0x1,0x1,0x1),new _0x923951['BKk']({'name':'BackgroundCubeMaterial','uniforms':(0x0,_0x923951['lxW'])(_0x5b534f['backgroundCube']['uniforms']),'vertexShader':_0x5b534f['backgroundCube']['vertexShader'],'fragmentShader':_0x5b534f['backgroundCube']['fragmentShader'],'side':_0x923951['hsX'],'depthTest':!0x1,'depthWrite':!0x1,'fog':!0x1})),_0x5b5af2['geometry']['deleteAttribute']('normal'),_0x5b5af2['geometry']['deleteAttribute']('uv'),_0x5b5af2['onBeforeRender']=function(_0x360b22,_0x36e3c0,_0x2525a6){this['matrixWorld']['copyPosition'](_0x2525a6['matrixWorld']);},Object['defineProperty'](_0x5b5af2['material'],'envMap',{'get':function(){return this['uniforms']['envMap']['value'];}}),_0x186a13['update'](_0x5b5af2)),_0x1139e8['copy'](_0x27bfcb['backgroundRotation']),_0x1139e8['x']*=-0x1,_0x1139e8['y']*=-0x1,_0x1139e8['z']*=-0x1,_0x45aef0['isCubeTexture']&&!0x1===_0x45aef0['isRenderTargetTexture']&&(_0x1139e8['y']*=-0x1,_0x1139e8['z']*=-0x1),_0x5b5af2['material']['uniforms']['envMap']['value']=_0x45aef0,_0x5b5af2['material']['uniforms']['flipEnvMap']['value']=_0x45aef0['isCubeTexture']&&!0x1===_0x45aef0['isRenderTargetTexture']?-0x1:0x1,_0x5b5af2['material']['uniforms']['backgroundBlurriness']['value']=_0x27bfcb['backgroundBlurriness'],_0x5b5af2['material']['uniforms']['backgroundIntensity']['value']=_0x27bfcb['backgroundIntensity'],_0x5b5af2['material']['uniforms']['backgroundRotation']['value']['setFromMatrix4'](_0x1b983b['makeRotationFromEuler'](_0x1139e8)),_0x5b5af2['material']['toneMapped']=_0x923951['ppV']['getTransfer'](_0x45aef0['colorSpace'])!==_0x923951['KLL'],_0x317274===_0x45aef0&&_0xd53c50===_0x45aef0['version']&&_0x3cd825===_0x3fbe3c['toneMapping']||(_0x5b5af2['material']['needsUpdate']=!0x0,_0x317274=_0x45aef0,_0xd53c50=_0x45aef0['version'],_0x3cd825=_0x3fbe3c['toneMapping']),_0x5b5af2['layers']['enableAll'](),_0x3af3b6['unshift'](_0x5b5af2,_0x5b5af2['geometry'],_0x5b5af2['material'],0x0,0x0,null)):_0x45aef0&&_0x45aef0['isTexture']&&(void 0x0===_0x472b22&&(_0x472b22=new _0x923951['eaF'](new _0x923951['bdM'](0x2,0x2),new _0x923951['BKk']({'name':'BackgroundMaterial','uniforms':(0x0,_0x923951['lxW'])(_0x5b534f['background']['uniforms']),'vertexShader':_0x5b534f['background']['vertexShader'],'fragmentShader':_0x5b534f['background']['fragmentShader'],'side':_0x923951['hB5'],'depthTest':!0x1,'depthWrite':!0x1,'fog':!0x1})),_0x472b22['geometry']['deleteAttribute']('normal'),Object['defineProperty'](_0x472b22['material'],'map',{'get':function(){return this['uniforms']['t2D']['value'];}}),_0x186a13['update'](_0x472b22)),_0x472b22['material']['uniforms']['t2D']['value']=_0x45aef0,_0x472b22['material']['uniforms']['backgroundIntensity']['value']=_0x27bfcb['backgroundIntensity'],_0x472b22['material']['toneMapped']=_0x923951['ppV']['getTransfer'](_0x45aef0['colorSpace'])!==_0x923951['KLL'],!0x0===_0x45aef0['matrixAutoUpdate']&&_0x45aef0['updateMatrix'](),_0x472b22['material']['uniforms']['uvTransform']['value']['copy'](_0x45aef0['matrix']),_0x317274===_0x45aef0&&_0xd53c50===_0x45aef0['version']&&_0x3cd825===_0x3fbe3c['toneMapping']||(_0x472b22['material']['needsUpdate']=!0x0,_0x317274=_0x45aef0,_0xd53c50=_0x45aef0['version'],_0x3cd825=_0x3fbe3c['toneMapping']),_0x472b22['layers']['enableAll'](),_0x3af3b6['unshift'](_0x472b22,_0x472b22['geometry'],_0x472b22['material'],0x0,0x0,null));},'dispose':function(){void 0x0!==_0x5b5af2&&(_0x5b5af2['geometry']['dispose'](),_0x5b5af2['material']['dispose']()),void 0x0!==_0x472b22&&(_0x472b22['geometry']['dispose'](),_0x472b22['material']['dispose']());}};}function _0x16c9aa(_0x36ceb2,_0xeab0e8){const _0xa1af43=_0x36ceb2['getParameter'](_0x36ceb2['MAX_VERTEX_ATTRIBS']),_0x3eb9a7={},_0xee4299=_0x2bc6e8(null);let _0x4a9754=_0xee4299,_0x30ab2e=!0x1;function _0x13e655(_0x535399){return _0x36ceb2['bindVertexArray'](_0x535399);}function _0x13145a(_0x232e17){return _0x36ceb2['deleteVertexArray'](_0x232e17);}function _0x2bc6e8(_0x257243){const _0x462f0f=[],_0x7f7225=[],_0x41ffe0=[];for(let _0x444dfc=0x0;_0x444dfc<_0xa1af43;_0x444dfc++)_0x462f0f[_0x444dfc]=0x0,_0x7f7225[_0x444dfc]=0x0,_0x41ffe0[_0x444dfc]=0x0;return{'geometry':null,'program':null,'wireframe':!0x1,'newAttributes':_0x462f0f,'enabledAttributes':_0x7f7225,'attributeDivisors':_0x41ffe0,'object':_0x257243,'attributes':{},'index':null};}function _0x4c65d0(){const _0x1a5849=_0x4a9754['newAttributes'];for(let _0x1d939a=0x0,_0x41b06b=_0x1a5849['length'];_0x1d939a<_0x41b06b;_0x1d939a++)_0x1a5849[_0x1d939a]=0x0;}function _0x4d3b03(_0x5d414a){_0x24bfaf(_0x5d414a,0x0);}function _0x24bfaf(_0x582a7c,_0x405ca9){const _0xf7e6ba=_0x4a9754['newAttributes'],_0x853ad7=_0x4a9754['enabledAttributes'],_0x21c1ee=_0x4a9754['attributeDivisors'];_0xf7e6ba[_0x582a7c]=0x1,0x0===_0x853ad7[_0x582a7c]&&(_0x36ceb2['enableVertexAttribArray'](_0x582a7c),_0x853ad7[_0x582a7c]=0x1),_0x21c1ee[_0x582a7c]!==_0x405ca9&&(_0x36ceb2['vertexAttribDivisor'](_0x582a7c,_0x405ca9),_0x21c1ee[_0x582a7c]=_0x405ca9);}function _0x2757a3(){const _0x1db1d1=_0x4a9754['newAttributes'],_0x310a9f=_0x4a9754['enabledAttributes'];for(let _0x356bae=0x0,_0x2dd120=_0x310a9f['length'];_0x356bae<_0x2dd120;_0x356bae++)_0x310a9f[_0x356bae]!==_0x1db1d1[_0x356bae]&&(_0x36ceb2['disableVertexAttribArray'](_0x356bae),_0x310a9f[_0x356bae]=0x0);}function _0x5283dd(_0xcc4a80,_0x2e3365,_0x4c65e7,_0x3811ee,_0x5ae46b,_0x148db6,_0x236091){!0x0===_0x236091?_0x36ceb2['vertexAttribIPointer'](_0xcc4a80,_0x2e3365,_0x4c65e7,_0x5ae46b,_0x148db6):_0x36ceb2['vertexAttribPointer'](_0xcc4a80,_0x2e3365,_0x4c65e7,_0x3811ee,_0x5ae46b,_0x148db6);}function _0x4dde42(){_0x556feb(),_0x30ab2e=!0x0,_0x4a9754!==_0xee4299&&(_0x4a9754=_0xee4299,_0x13e655(_0x4a9754['object']));}function _0x556feb(){_0xee4299['geometry']=null,_0xee4299['program']=null,_0xee4299['wireframe']=!0x1;}return{'setup':function(_0x6e19b2,_0x2ca87c,_0x1366d1,_0x2af81c,_0x2d9a0b){let _0x2f196c=!0x1;const _0x4fe379=function(_0x333812,_0x3cc724,_0x1d5769){const _0x1e3c90=!0x0===_0x1d5769['wireframe'];let _0x300c34=_0x3eb9a7[_0x333812['id']];void 0x0===_0x300c34&&(_0x300c34={},_0x3eb9a7[_0x333812['id']]=_0x300c34);let _0x48b498=_0x300c34[_0x3cc724['id']];void 0x0===_0x48b498&&(_0x48b498={},_0x300c34[_0x3cc724['id']]=_0x48b498);let _0x532f47=_0x48b498[_0x1e3c90];return void 0x0===_0x532f47&&(_0x532f47=_0x2bc6e8(_0x36ceb2['createVertexArray']()),_0x48b498[_0x1e3c90]=_0x532f47),_0x532f47;}(_0x2af81c,_0x1366d1,_0x2ca87c);_0x4a9754!==_0x4fe379&&(_0x4a9754=_0x4fe379,_0x13e655(_0x4a9754['object'])),_0x2f196c=function(_0x5ecb97,_0x5001b8,_0x732471,_0x257f14){const _0x41b72d=_0x4a9754['attributes'],_0x1d9381=_0x5001b8['attributes'];let _0x14447d=0x0;const _0x40735f=_0x732471['getAttributes']();for(const _0x5c27b3 in _0x40735f){if(_0x40735f[_0x5c27b3]['location']>=0x0){const _0x4557b1=_0x41b72d[_0x5c27b3];let _0x21a1ab=_0x1d9381[_0x5c27b3];if(void 0x0===_0x21a1ab&&('instanceMatrix'===_0x5c27b3&&_0x5ecb97['instanceMatrix']&&(_0x21a1ab=_0x5ecb97['instanceMatrix']),'instanceColor'===_0x5c27b3&&_0x5ecb97['instanceColor']&&(_0x21a1ab=_0x5ecb97['instanceColor'])),void 0x0===_0x4557b1)return!0x0;if(_0x4557b1['attribute']!==_0x21a1ab)return!0x0;if(_0x21a1ab&&_0x4557b1['data']!==_0x21a1ab['data'])return!0x0;_0x14447d++;}}return _0x4a9754['attributesNum']!==_0x14447d||_0x4a9754['index']!==_0x257f14;}(_0x6e19b2,_0x2af81c,_0x1366d1,_0x2d9a0b),_0x2f196c&&function(_0x346e7b,_0x4e2054,_0x20a91b,_0x327e6a){const _0x4ae9c6={},_0x27f1e4=_0x4e2054['attributes'];let _0x1d935a=0x0;const _0x4ced04=_0x20a91b['getAttributes']();for(const _0x39c8bf in _0x4ced04){if(_0x4ced04[_0x39c8bf]['location']>=0x0){let _0x2c1b14=_0x27f1e4[_0x39c8bf];void 0x0===_0x2c1b14&&('instanceMatrix'===_0x39c8bf&&_0x346e7b['instanceMatrix']&&(_0x2c1b14=_0x346e7b['instanceMatrix']),'instanceColor'===_0x39c8bf&&_0x346e7b['instanceColor']&&(_0x2c1b14=_0x346e7b['instanceColor']));const _0x47bfa7={};_0x47bfa7['attribute']=_0x2c1b14,_0x2c1b14&&_0x2c1b14['data']&&(_0x47bfa7['data']=_0x2c1b14['data']),_0x4ae9c6[_0x39c8bf]=_0x47bfa7,_0x1d935a++;}}_0x4a9754['attributes']=_0x4ae9c6,_0x4a9754['attributesNum']=_0x1d935a,_0x4a9754['index']=_0x327e6a;}(_0x6e19b2,_0x2af81c,_0x1366d1,_0x2d9a0b),null!==_0x2d9a0b&&_0xeab0e8['update'](_0x2d9a0b,_0x36ceb2['ELEMENT_ARRAY_BUFFER']),(_0x2f196c||_0x30ab2e)&&(_0x30ab2e=!0x1,function(_0x15b917,_0x1695fb,_0x127345,_0x487030){_0x4c65d0();const _0x17b04e=_0x487030['attributes'],_0x64107f=_0x127345['getAttributes'](),_0x5d1323=_0x1695fb['defaultAttributeValues'];for(const _0x39b7ca in _0x64107f){const _0x7aa54b=_0x64107f[_0x39b7ca];if(_0x7aa54b['location']>=0x0){let _0x48c60a=_0x17b04e[_0x39b7ca];if(void 0x0===_0x48c60a&&('instanceMatrix'===_0x39b7ca&&_0x15b917['instanceMatrix']&&(_0x48c60a=_0x15b917['instanceMatrix']),'instanceColor'===_0x39b7ca&&_0x15b917['instanceColor']&&(_0x48c60a=_0x15b917['instanceColor'])),void 0x0!==_0x48c60a){const _0x174ce7=_0x48c60a['normalized'],_0x183f9f=_0x48c60a['itemSize'],_0x54bd19=_0xeab0e8['get'](_0x48c60a);if(void 0x0===_0x54bd19)continue;const _0x5124b6=_0x54bd19['buffer'],_0x7af09f=_0x54bd19['type'],_0x310e4a=_0x54bd19['bytesPerElement'],_0x417e87=_0x7af09f===_0x36ceb2['INT']||_0x7af09f===_0x36ceb2['UNSIGNED_INT']||_0x48c60a['gpuType']===_0x923951['Yuy'];if(_0x48c60a['isInterleavedBufferAttribute']){const _0x1b2807=_0x48c60a['data'],_0x4f100d=_0x1b2807['stride'],_0x275bee=_0x48c60a['offset'];if(_0x1b2807['isInstancedInterleavedBuffer']){for(let _0x58276d=0x0;_0x58276d<_0x7aa54b['locationSize'];_0x58276d++)_0x24bfaf(_0x7aa54b['location']+_0x58276d,_0x1b2807['meshPerAttribute']);!0x0!==_0x15b917['isInstancedMesh']&&void 0x0===_0x487030['_maxInstanceCount']&&(_0x487030['_maxInstanceCount']=_0x1b2807['meshPerAttribute']*_0x1b2807['count']);}else{for(let _0x1fb8fb=0x0;_0x1fb8fb<_0x7aa54b['locationSize'];_0x1fb8fb++)_0x4d3b03(_0x7aa54b['location']+_0x1fb8fb);}_0x36ceb2['bindBuffer'](_0x36ceb2['ARRAY_BUFFER'],_0x5124b6);for(let _0xf5a9e4=0x0;_0xf5a9e4<_0x7aa54b['locationSize'];_0xf5a9e4++)_0x5283dd(_0x7aa54b['location']+_0xf5a9e4,_0x183f9f/_0x7aa54b['locationSize'],_0x7af09f,_0x174ce7,_0x4f100d*_0x310e4a,(_0x275bee+_0x183f9f/_0x7aa54b['locationSize']*_0xf5a9e4)*_0x310e4a,_0x417e87);}else{if(_0x48c60a['isInstancedBufferAttribute']){for(let _0x47f6b1=0x0;_0x47f6b1<_0x7aa54b['locationSize'];_0x47f6b1++)_0x24bfaf(_0x7aa54b['location']+_0x47f6b1,_0x48c60a['meshPerAttribute']);!0x0!==_0x15b917['isInstancedMesh']&&void 0x0===_0x487030['_maxInstanceCount']&&(_0x487030['_maxInstanceCount']=_0x48c60a['meshPerAttribute']*_0x48c60a['count']);}else{for(let _0x1902c6=0x0;_0x1902c6<_0x7aa54b['locationSize'];_0x1902c6++)_0x4d3b03(_0x7aa54b['location']+_0x1902c6);}_0x36ceb2['bindBuffer'](_0x36ceb2['ARRAY_BUFFER'],_0x5124b6);for(let _0x488312=0x0;_0x488312<_0x7aa54b['locationSize'];_0x488312++)_0x5283dd(_0x7aa54b['location']+_0x488312,_0x183f9f/_0x7aa54b['locationSize'],_0x7af09f,_0x174ce7,_0x183f9f*_0x310e4a,_0x183f9f/_0x7aa54b['locationSize']*_0x488312*_0x310e4a,_0x417e87);}}else{if(void 0x0!==_0x5d1323){const _0x1c187b=_0x5d1323[_0x39b7ca];if(void 0x0!==_0x1c187b)switch(_0x1c187b['length']){case 0x2:_0x36ceb2['vertexAttrib2fv'](_0x7aa54b['location'],_0x1c187b);break;case 0x3:_0x36ceb2['vertexAttrib3fv'](_0x7aa54b['location'],_0x1c187b);break;case 0x4:_0x36ceb2['vertexAttrib4fv'](_0x7aa54b['location'],_0x1c187b);break;default:_0x36ceb2['vertexAttrib1fv'](_0x7aa54b['location'],_0x1c187b);}}}}}_0x2757a3();}(_0x6e19b2,_0x2ca87c,_0x1366d1,_0x2af81c),null!==_0x2d9a0b&&_0x36ceb2['bindBuffer'](_0x36ceb2['ELEMENT_ARRAY_BUFFER'],_0xeab0e8['get'](_0x2d9a0b)['buffer']));},'reset':_0x4dde42,'resetDefaultState':_0x556feb,'dispose':function(){_0x4dde42();for(const _0x41388e in _0x3eb9a7){const _0x4759f5=_0x3eb9a7[_0x41388e];for(const _0x365384 in _0x4759f5){const _0x137ec1=_0x4759f5[_0x365384];for(const _0x130ef3 in _0x137ec1)_0x13145a(_0x137ec1[_0x130ef3]['object']),delete _0x137ec1[_0x130ef3];delete _0x4759f5[_0x365384];}delete _0x3eb9a7[_0x41388e];}},'releaseStatesOfGeometry':function(_0x51ae4e){if(void 0x0===_0x3eb9a7[_0x51ae4e['id']])return;const _0x31ae51=_0x3eb9a7[_0x51ae4e['id']];for(const _0x51a620 in _0x31ae51){const _0x2b7d09=_0x31ae51[_0x51a620];for(const _0x56743c in _0x2b7d09)_0x13145a(_0x2b7d09[_0x56743c]['object']),delete _0x2b7d09[_0x56743c];delete _0x31ae51[_0x51a620];}delete _0x3eb9a7[_0x51ae4e['id']];},'releaseStatesOfProgram':function(_0x5a0e84){for(const _0x3fd0a2 in _0x3eb9a7){const _0x5d2b37=_0x3eb9a7[_0x3fd0a2];if(void 0x0===_0x5d2b37[_0x5a0e84['id']])continue;const _0x3c4305=_0x5d2b37[_0x5a0e84['id']];for(const _0x271c07 in _0x3c4305)_0x13145a(_0x3c4305[_0x271c07]['object']),delete _0x3c4305[_0x271c07];delete _0x5d2b37[_0x5a0e84['id']];}},'initAttributes':_0x4c65d0,'enableAttribute':_0x4d3b03,'disableUnusedAttributes':_0x2757a3};}function _0x24893c(_0x38947c,_0x157fac,_0xc02d2a){let _0x1b1a58;function _0x20c049(_0x36da7c,_0x23edd3,_0x8c3ff7){0x0!==_0x8c3ff7&&(_0x38947c['drawArraysInstanced'](_0x1b1a58,_0x36da7c,_0x23edd3,_0x8c3ff7),_0xc02d2a['update'](_0x23edd3,_0x1b1a58,_0x8c3ff7));}this['setMode']=function(_0x2daade){_0x1b1a58=_0x2daade;},this['render']=function(_0x147379,_0x391347){_0x38947c['drawArrays'](_0x1b1a58,_0x147379,_0x391347),_0xc02d2a['update'](_0x391347,_0x1b1a58,0x1);},this['renderInstances']=_0x20c049,this['renderMultiDraw']=function(_0x4be39e,_0xcfe616,_0x395e08){if(0x0===_0x395e08)return;_0x157fac['get']('WEBGL_multi_draw')['multiDrawArraysWEBGL'](_0x1b1a58,_0x4be39e,0x0,_0xcfe616,0x0,_0x395e08);let _0x375c7a=0x0;for(let _0x5b379d=0x0;_0x5b379d<_0x395e08;_0x5b379d++)_0x375c7a+=_0xcfe616[_0x5b379d];_0xc02d2a['update'](_0x375c7a,_0x1b1a58,0x1);},this['renderMultiDrawInstances']=function(_0x42fb7a,_0x1ee1bf,_0xbeaf31,_0xa9a46b){if(0x0===_0xbeaf31)return;const _0x493e87=_0x157fac['get']('WEBGL_multi_draw');if(null===_0x493e87){for(let _0x3fe6cd=0x0;_0x3fe6cd<_0x42fb7a['length'];_0x3fe6cd++)_0x20c049(_0x42fb7a[_0x3fe6cd],_0x1ee1bf[_0x3fe6cd],_0xa9a46b[_0x3fe6cd]);}else{_0x493e87['multiDrawArraysInstancedWEBGL'](_0x1b1a58,_0x42fb7a,0x0,_0x1ee1bf,0x0,_0xa9a46b,0x0,_0xbeaf31);let _0x365e5b=0x0;for(let _0x347699=0x0;_0x347699<_0xbeaf31;_0x347699++)_0x365e5b+=_0x1ee1bf[_0x347699]*_0xa9a46b[_0x347699];_0xc02d2a['update'](_0x365e5b,_0x1b1a58,0x1);}};}function _0x462cbb(_0x480878,_0x5405e8,_0x5bacf7,_0x49bb89){let _0x50bccb;function _0x512cda(_0x44c35e){if('highp'===_0x44c35e){if(_0x480878['getShaderPrecisionFormat'](_0x480878['VERTEX_SHADER'],_0x480878['HIGH_FLOAT'])['precision']>0x0&&_0x480878['getShaderPrecisionFormat'](_0x480878['FRAGMENT_SHADER'],_0x480878['HIGH_FLOAT'])['precision']>0x0)return'highp';_0x44c35e='mediump';}return'mediump'===_0x44c35e&&_0x480878['getShaderPrecisionFormat'](_0x480878['VERTEX_SHADER'],_0x480878['MEDIUM_FLOAT'])['precision']>0x0&&_0x480878['getShaderPrecisionFormat'](_0x480878['FRAGMENT_SHADER'],_0x480878['MEDIUM_FLOAT'])['precision']>0x0?'mediump':'lowp';}let _0x4cac17=void 0x0!==_0x5bacf7['precision']?_0x5bacf7['precision']:'highp';const _0x5919ac=_0x512cda(_0x4cac17);_0x5919ac!==_0x4cac17&&(console['warn']('THREE.WebGLRenderer:',_0x4cac17,'not\x20supported,\x20using',_0x5919ac,'instead.'),_0x4cac17=_0x5919ac);const _0x2a2c46=!0x0===_0x5bacf7['logarithmicDepthBuffer'],_0x5c5ba5=!0x0===_0x5bacf7['reverseDepthBuffer']&&_0x5405e8['has']('EXT_clip_control'),_0x2d202a=_0x480878['getParameter'](_0x480878['MAX_TEXTURE_IMAGE_UNITS']),_0x249c8b=_0x480878['getParameter'](_0x480878['MAX_VERTEX_TEXTURE_IMAGE_UNITS']);return{'isWebGL2':!0x0,'getMaxAnisotropy':function(){if(void 0x0!==_0x50bccb)return _0x50bccb;if(!0x0===_0x5405e8['has']('EXT_texture_filter_anisotropic')){const _0x4e0339=_0x5405e8['get']('EXT_texture_filter_anisotropic');_0x50bccb=_0x480878['getParameter'](_0x4e0339['MAX_TEXTURE_MAX_ANISOTROPY_EXT']);}else _0x50bccb=0x0;return _0x50bccb;},'getMaxPrecision':_0x512cda,'textureFormatReadable':function(_0xcfef4a){return _0xcfef4a===_0x923951['GWd']||_0x49bb89['convert'](_0xcfef4a)===_0x480878['getParameter'](_0x480878['IMPLEMENTATION_COLOR_READ_FORMAT']);},'textureTypeReadable':function(_0x497eda){const _0x366bb2=_0x497eda===_0x923951['ix0']&&(_0x5405e8['has']('EXT_color_buffer_half_float')||_0x5405e8['has']('EXT_color_buffer_float'));return!(_0x497eda!==_0x923951['OUM']&&_0x49bb89['convert'](_0x497eda)!==_0x480878['getParameter'](_0x480878['IMPLEMENTATION_COLOR_READ_TYPE'])&&_0x497eda!==_0x923951['RQf']&&!_0x366bb2);},'precision':_0x4cac17,'logarithmicDepthBuffer':_0x2a2c46,'reverseDepthBuffer':_0x5c5ba5,'maxTextures':_0x2d202a,'maxVertexTextures':_0x249c8b,'maxTextureSize':_0x480878['getParameter'](_0x480878['MAX_TEXTURE_SIZE']),'maxCubemapSize':_0x480878['getParameter'](_0x480878['MAX_CUBE_MAP_TEXTURE_SIZE']),'maxAttributes':_0x480878['getParameter'](_0x480878['MAX_VERTEX_ATTRIBS']),'maxVertexUniforms':_0x480878['getParameter'](_0x480878['MAX_VERTEX_UNIFORM_VECTORS']),'maxVaryings':_0x480878['getParameter'](_0x480878['MAX_VARYING_VECTORS']),'maxFragmentUniforms':_0x480878['getParameter'](_0x480878['MAX_FRAGMENT_UNIFORM_VECTORS']),'vertexTextures':_0x249c8b>0x0,'maxSamples':_0x480878['getParameter'](_0x480878['MAX_SAMPLES'])};}function _0x159798(_0x5b71ff){const _0x32ace8=this;let _0x16127a=null,_0x3a647d=0x0,_0x342272=!0x1,_0x336e90=!0x1;const _0x3752f2=new _0x923951['Zcv'](),_0x31f339=new _0x923951['dwI'](),_0x2ff4be={'value':null,'needsUpdate':!0x1};function _0x1b45ab(_0x8e5444,_0xb1523,_0x82e04c,_0xd0815a){const _0x3616c5=null!==_0x8e5444?_0x8e5444['length']:0x0;let _0x5b5651=null;if(0x0!==_0x3616c5){if(_0x5b5651=_0x2ff4be['value'],!0x0!==_0xd0815a||null===_0x5b5651){const _0x3be391=_0x82e04c+0x4*_0x3616c5,_0xf8b038=_0xb1523['matrixWorldInverse'];_0x31f339['getNormalMatrix'](_0xf8b038),(null===_0x5b5651||_0x5b5651['length']<_0x3be391)&&(_0x5b5651=new Float32Array(_0x3be391));for(let _0x197968=0x0,_0xbdf295=_0x82e04c;_0x197968!==_0x3616c5;++_0x197968,_0xbdf295+=0x4)_0x3752f2['copy'](_0x8e5444[_0x197968])['applyMatrix4'](_0xf8b038,_0x31f339),_0x3752f2['normal']['toArray'](_0x5b5651,_0xbdf295),_0x5b5651[_0xbdf295+0x3]=_0x3752f2['constant'];}_0x2ff4be['value']=_0x5b5651,_0x2ff4be['needsUpdate']=!0x0;}return _0x32ace8['numPlanes']=_0x3616c5,_0x32ace8['numIntersection']=0x0,_0x5b5651;}this['uniform']=_0x2ff4be,this['numPlanes']=0x0,this['numIntersection']=0x0,this['init']=function(_0x25edef,_0xf0d395){const _0xf1dac1=0x0!==_0x25edef['length']||_0xf0d395||0x0!==_0x3a647d||_0x342272;return _0x342272=_0xf0d395,_0x3a647d=_0x25edef['length'],_0xf1dac1;},this['beginShadows']=function(){_0x336e90=!0x0,_0x1b45ab(null);},this['endShadows']=function(){_0x336e90=!0x1;},this['setGlobalState']=function(_0x4b7cb1,_0x34654f){_0x16127a=_0x1b45ab(_0x4b7cb1,_0x34654f,0x0);},this['setState']=function(_0x1b1693,_0x2a49ab,_0x18812e){const _0x5001ee=_0x1b1693['clippingPlanes'],_0x56f298=_0x1b1693['clipIntersection'],_0x18dc88=_0x1b1693['clipShadows'],_0x2c67cc=_0x5b71ff['get'](_0x1b1693);if(!_0x342272||null===_0x5001ee||0x0===_0x5001ee['length']||_0x336e90&&!_0x18dc88)_0x336e90?_0x1b45ab(null):(function(){_0x2ff4be['value']!==_0x16127a&&(_0x2ff4be['value']=_0x16127a,_0x2ff4be['needsUpdate']=_0x3a647d>0x0),(_0x32ace8['numPlanes']=_0x3a647d,_0x32ace8['numIntersection']=0x0);}());else{const _0x2eb6ed=_0x336e90?0x0:_0x3a647d,_0x2ecf1e=0x4*_0x2eb6ed;let _0x3baca5=_0x2c67cc['clippingState']||null;_0x2ff4be['value']=_0x3baca5,_0x3baca5=_0x1b45ab(_0x5001ee,_0x2a49ab,_0x2ecf1e,_0x18812e);for(let _0x4f7e2a=0x0;_0x4f7e2a!==_0x2ecf1e;++_0x4f7e2a)_0x3baca5[_0x4f7e2a]=_0x16127a[_0x4f7e2a];_0x2c67cc['clippingState']=_0x3baca5,this['numIntersection']=_0x56f298?this['numPlanes']:0x0,this['numPlanes']+=_0x2eb6ed;}};}function _0x477e0b(_0x52be7c){let _0x47d693=new WeakMap();function _0x2f12b5(_0x2af1c9,_0x3644c9){return _0x3644c9===_0x923951['wfO']?_0x2af1c9['mapping']=_0x923951['hy7']:_0x3644c9===_0x923951['uV5']&&(_0x2af1c9['mapping']=_0x923951['xFO']),_0x2af1c9;}function _0x24c7bf(_0x124a72){const _0x1497f2=_0x124a72['target'];_0x1497f2['removeEventListener']('dispose',_0x24c7bf);const _0x1aab0c=_0x47d693['get'](_0x1497f2);void 0x0!==_0x1aab0c&&(_0x47d693['delete'](_0x1497f2),_0x1aab0c['dispose']());}return{'get':function(_0x31bf30){if(_0x31bf30&&_0x31bf30['isTexture']){const _0x19ca55=_0x31bf30['mapping'];if(_0x19ca55===_0x923951['wfO']||_0x19ca55===_0x923951['uV5']){if(_0x47d693['has'](_0x31bf30))return _0x2f12b5(_0x47d693['get'](_0x31bf30)['texture'],_0x31bf30['mapping']);{const _0x308f3b=_0x31bf30['image'];if(_0x308f3b&&_0x308f3b['height']>0x0){const _0x652b6c=new _0x923951['o6l'](_0x308f3b['height']);return _0x652b6c['fromEquirectangularTexture'](_0x52be7c,_0x31bf30),_0x47d693['set'](_0x31bf30,_0x652b6c),_0x31bf30['addEventListener']('dispose',_0x24c7bf),_0x2f12b5(_0x652b6c['texture'],_0x31bf30['mapping']);}return null;}}}return _0x31bf30;},'dispose':function(){_0x47d693=new WeakMap();}};}const _0x287ae8=[0.125,0.215,0.35,0.446,0.526,0.582],_0x3eb119=0x14,_0x1a8e96=new _0x923951['qUd'](),_0x2a83fd=new _0x923951['Q1f']();let _0x5cebea=null,_0x45e604=0x0,_0x5e1240=0x0,_0x46ce73=!0x1;const _0x38a240=(0x1+Math['sqrt'](0x5))/0x2,_0x29efad=0x1/_0x38a240,_0x2bfe24=[new _0x923951['Pq0'](-_0x38a240,_0x29efad,0x0),new _0x923951['Pq0'](_0x38a240,_0x29efad,0x0),new _0x923951['Pq0'](-_0x29efad,0x0,_0x38a240),new _0x923951['Pq0'](_0x29efad,0x0,_0x38a240),new _0x923951['Pq0'](0x0,_0x38a240,-_0x29efad),new _0x923951['Pq0'](0x0,_0x38a240,_0x29efad),new _0x923951['Pq0'](-0x1,0x1,-0x1),new _0x923951['Pq0'](0x1,0x1,-0x1),new _0x923951['Pq0'](-0x1,0x1,0x1),new _0x923951['Pq0'](0x1,0x1,0x1)];class _0x57038f{constructor(_0x3f7ee4){this['_renderer']=_0x3f7ee4,this['_pingPongRenderTarget']=null,this['_lodMax']=0x0,this['_cubeSize']=0x0,this['_lodPlanes']=[],this['_sizeLods']=[],this['_sigmas']=[],this['_blurMaterial']=null,this['_cubemapMaterial']=null,this['_equirectMaterial']=null,this['_compileMaterial'](this['_blurMaterial']);}['fromScene'](_0xc893ed,_0xea10e7=0x0,_0x295993=0.1,_0x386b0c=0x64){_0x5cebea=this['_renderer']['getRenderTarget'](),_0x45e604=this['_renderer']['getActiveCubeFace'](),_0x5e1240=this['_renderer']['getActiveMipmapLevel'](),_0x46ce73=this['_renderer']['xr']['enabled'],this['_renderer']['xr']['enabled']=!0x1,this['_setSize'](0x100);const _0x1c8934=this['_allocateTargets']();return _0x1c8934['depthBuffer']=!0x0,this['_sceneToCubeUV'](_0xc893ed,_0x295993,_0x386b0c,_0x1c8934),_0xea10e7>0x0&&this['_blur'](_0x1c8934,0x0,0x0,_0xea10e7),this['_applyPMREM'](_0x1c8934),this['_cleanup'](_0x1c8934),_0x1c8934;}['fromEquirectangular'](_0x1cceac,_0x25e7ce=null){return this['_fromTexture'](_0x1cceac,_0x25e7ce);}['fromCubemap'](_0x481d9f,_0x1f141d=null){return this['_fromTexture'](_0x481d9f,_0x1f141d);}['compileCubemapShader'](){null===this['_cubemapMaterial']&&(this['_cubemapMaterial']=_0x568cf0(),this['_compileMaterial'](this['_cubemapMaterial']));}['compileEquirectangularShader'](){null===this['_equirectMaterial']&&(this['_equirectMaterial']=_0x30deff(),this['_compileMaterial'](this['_equirectMaterial']));}['dispose'](){this['_dispose'](),null!==this['_cubemapMaterial']&&this['_cubemapMaterial']['dispose'](),null!==this['_equirectMaterial']&&this['_equirectMaterial']['dispose']();}['_setSize'](_0x39b347){this['_lodMax']=Math['floor'](Math['log2'](_0x39b347)),this['_cubeSize']=Math['pow'](0x2,this['_lodMax']);}['_dispose'](){null!==this['_blurMaterial']&&this['_blurMaterial']['dispose'](),null!==this['_pingPongRenderTarget']&&this['_pingPongRenderTarget']['dispose']();for(let _0x2880ec=0x0;_0x2880ec<this['_lodPlanes']['length'];_0x2880ec++)this['_lodPlanes'][_0x2880ec]['dispose']();}['_cleanup'](_0x5e33fd){this['_renderer']['setRenderTarget'](_0x5cebea,_0x45e604,_0x5e1240),this['_renderer']['xr']['enabled']=_0x46ce73,_0x5e33fd['scissorTest']=!0x1,_0x2b864d(_0x5e33fd,0x0,0x0,_0x5e33fd['width'],_0x5e33fd['height']);}['_fromTexture'](_0x545dbb,_0x2ba0fa){_0x545dbb['mapping']===_0x923951['hy7']||_0x545dbb['mapping']===_0x923951['xFO']?this['_setSize'](0x0===_0x545dbb['image']['length']?0x10:_0x545dbb['image'][0x0]['width']||_0x545dbb['image'][0x0]['image']['width']):this['_setSize'](_0x545dbb['image']['width']/0x4),_0x5cebea=this['_renderer']['getRenderTarget'](),_0x45e604=this['_renderer']['getActiveCubeFace'](),_0x5e1240=this['_renderer']['getActiveMipmapLevel'](),_0x46ce73=this['_renderer']['xr']['enabled'],this['_renderer']['xr']['enabled']=!0x1;const _0x408c17=_0x2ba0fa||this['_allocateTargets']();return this['_textureToCubeUV'](_0x545dbb,_0x408c17),this['_applyPMREM'](_0x408c17),this['_cleanup'](_0x408c17),_0x408c17;}['_allocateTargets'](){const _0x2d9cd3=0x3*Math['max'](this['_cubeSize'],0x70),_0x1a236c=0x4*this['_cubeSize'],_0x4f9713={'magFilter':_0x923951['k6q'],'minFilter':_0x923951['k6q'],'generateMipmaps':!0x1,'type':_0x923951['ix0'],'format':_0x923951['GWd'],'colorSpace':_0x923951['Zr2'],'depthBuffer':!0x1},_0x56dc48=_0x5ebbc3(_0x2d9cd3,_0x1a236c,_0x4f9713);if(null===this['_pingPongRenderTarget']||this['_pingPongRenderTarget']['width']!==_0x2d9cd3||this['_pingPongRenderTarget']['height']!==_0x1a236c){null!==this['_pingPongRenderTarget']&&this['_dispose'](),this['_pingPongRenderTarget']=_0x5ebbc3(_0x2d9cd3,_0x1a236c,_0x4f9713);const {_lodMax:_0x2931f7}=this;({sizeLods:this['_sizeLods'],lodPlanes:this['_lodPlanes'],sigmas:this['_sigmas']}=function(_0x3bd6bc){const _0x5cc660=[],_0x471192=[],_0x3927a1=[];let _0x486841=_0x3bd6bc;const _0x34a3c2=_0x3bd6bc-0x4+0x1+_0x287ae8['length'];for(let _0xcfbcb4=0x0;_0xcfbcb4<_0x34a3c2;_0xcfbcb4++){const _0x53a711=Math['pow'](0x2,_0x486841);_0x471192['push'](_0x53a711);let _0x42e998=0x1/_0x53a711;_0xcfbcb4>_0x3bd6bc-0x4?_0x42e998=_0x287ae8[_0xcfbcb4-_0x3bd6bc+0x4-0x1]:0x0===_0xcfbcb4&&(_0x42e998=0x0),_0x3927a1['push'](_0x42e998);const _0x2fee1e=0x1/(_0x53a711-0x2),_0x517f3=-_0x2fee1e,_0x1fed0a=0x1+_0x2fee1e,_0x2cfc6e=[_0x517f3,_0x517f3,_0x1fed0a,_0x517f3,_0x1fed0a,_0x1fed0a,_0x517f3,_0x517f3,_0x1fed0a,_0x1fed0a,_0x517f3,_0x1fed0a],_0x3c5dc2=0x6,_0xb0047f=0x6,_0x5daa2a=0x3,_0x5c4bef=0x2,_0x2b7507=0x1,_0x3fca5e=new Float32Array(_0x5daa2a*_0xb0047f*_0x3c5dc2),_0x220e18=new Float32Array(_0x5c4bef*_0xb0047f*_0x3c5dc2),_0x430cd6=new Float32Array(_0x2b7507*_0xb0047f*_0x3c5dc2);for(let _0x1c6be6=0x0;_0x1c6be6<_0x3c5dc2;_0x1c6be6++){const _0x54c768=_0x1c6be6%0x3*0x2/0x3-0x1,_0x4fa37f=_0x1c6be6>0x2?0x0:-0x1,_0x3ea9ef=[_0x54c768,_0x4fa37f,0x0,_0x54c768+0x2/0x3,_0x4fa37f,0x0,_0x54c768+0x2/0x3,_0x4fa37f+0x1,0x0,_0x54c768,_0x4fa37f,0x0,_0x54c768+0x2/0x3,_0x4fa37f+0x1,0x0,_0x54c768,_0x4fa37f+0x1,0x0];_0x3fca5e['set'](_0x3ea9ef,_0x5daa2a*_0xb0047f*_0x1c6be6),_0x220e18['set'](_0x2cfc6e,_0x5c4bef*_0xb0047f*_0x1c6be6);const _0x4bb3f5=[_0x1c6be6,_0x1c6be6,_0x1c6be6,_0x1c6be6,_0x1c6be6,_0x1c6be6];_0x430cd6['set'](_0x4bb3f5,_0x2b7507*_0xb0047f*_0x1c6be6);}const _0xefabb6=new _0x923951['LoY']();_0xefabb6['setAttribute']('position',new _0x923951['THS'](_0x3fca5e,_0x5daa2a)),_0xefabb6['setAttribute']('uv',new _0x923951['THS'](_0x220e18,_0x5c4bef)),_0xefabb6['setAttribute']('faceIndex',new _0x923951['THS'](_0x430cd6,_0x2b7507)),_0x5cc660['push'](_0xefabb6),_0x486841>0x4&&_0x486841--;}return{'lodPlanes':_0x5cc660,'sizeLods':_0x471192,'sigmas':_0x3927a1};}(_0x2931f7),this['_blurMaterial']=function(_0x55164d,_0x5752fa,_0xe20efb){const _0xea71fa=new Float32Array(_0x3eb119),_0x377047=new _0x923951['Pq0'](0x0,0x1,0x0),_0x3bed76=new _0x923951['BKk']({'name':'SphericalGaussianBlur','defines':{'n':_0x3eb119,'CUBEUV_TEXEL_WIDTH':0x1/_0x5752fa,'CUBEUV_TEXEL_HEIGHT':0x1/_0xe20efb,'CUBEUV_MAX_MIP':_0x55164d+'.0'},'uniforms':{'envMap':{'value':null},'samples':{'value':0x1},'weights':{'value':_0xea71fa},'latitudinal':{'value':!0x1},'dTheta':{'value':0x0},'mipInt':{'value':0x0},'poleAxis':{'value':_0x377047}},'vertexShader':_0x40aa53(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x09\x09\x09uniform\x20int\x20samples;\x0a\x09\x09\x09uniform\x20float\x20weights[\x20n\x20];\x0a\x09\x09\x09uniform\x20bool\x20latitudinal;\x0a\x09\x09\x09uniform\x20float\x20dTheta;\x0a\x09\x09\x09uniform\x20float\x20mipInt;\x0a\x09\x09\x09uniform\x20vec3\x20poleAxis;\x0a\x0a\x09\x09\x09#define\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09#include\x20<cube_uv_reflection_fragment>\x0a\x0a\x09\x09\x09vec3\x20getSample(\x20float\x20theta,\x20vec3\x20axis\x20)\x20{\x0a\x0a\x09\x09\x09\x09float\x20cosTheta\x20=\x20cos(\x20theta\x20);\x0a\x09\x09\x09\x09//\x20Rodrigues\x27\x20axis-angle\x20rotation\x0a\x09\x09\x09\x09vec3\x20sampleDirection\x20=\x20vOutputDirection\x20*\x20cosTheta\x0a\x09\x09\x09\x09\x09+\x20cross(\x20axis,\x20vOutputDirection\x20)\x20*\x20sin(\x20theta\x20)\x0a\x09\x09\x09\x09\x09+\x20axis\x20*\x20dot(\x20axis,\x20vOutputDirection\x20)\x20*\x20(\x201.0\x20-\x20cosTheta\x20);\x0a\x0a\x09\x09\x09\x09return\x20bilinearCubeUV(\x20envMap,\x20sampleDirection,\x20mipInt\x20);\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20axis\x20=\x20latitudinal\x20?\x20poleAxis\x20:\x20cross(\x20poleAxis,\x20vOutputDirection\x20);\x0a\x0a\x09\x09\x09\x09if\x20(\x20all(\x20equal(\x20axis,\x20vec3(\x200.0\x20)\x20)\x20)\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09axis\x20=\x20vec3(\x20vOutputDirection.z,\x200.0,\x20-\x20vOutputDirection.x\x20);\x0a\x0a\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09axis\x20=\x20normalize(\x20axis\x20);\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x201.0\x20);\x0a\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x200\x20]\x20*\x20getSample(\x200.0,\x20axis\x20);\x0a\x0a\x09\x09\x09\x09for\x20(\x20int\x20i\x20=\x201;\x20i\x20<\x20n;\x20i++\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09if\x20(\x20i\x20>=\x20samples\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09\x09break;\x0a\x0a\x09\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09\x09float\x20theta\x20=\x20dTheta\x20*\x20float(\x20i\x20);\x0a\x09\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x20i\x20]\x20*\x20getSample(\x20-1.0\x20*\x20theta,\x20axis\x20);\x0a\x09\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x20i\x20]\x20*\x20getSample(\x20theta,\x20axis\x20);\x0a\x0a\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x923951['XIg'],'depthTest':!0x1,'depthWrite':!0x1});return _0x3bed76;}(_0x2931f7,_0x2d9cd3,_0x1a236c));}return _0x56dc48;}['_compileMaterial'](_0x34be4c){const _0x547095=new _0x923951['eaF'](this['_lodPlanes'][0x0],_0x34be4c);this['_renderer']['compile'](_0x547095,_0x1a8e96);}['_sceneToCubeUV'](_0x4eee29,_0xa5afc4,_0x192d3e,_0x3eb676){const _0x4ac434=new _0x923951['ubm'](0x5a,0x1,_0xa5afc4,_0x192d3e),_0x3f8368=[0x1,-0x1,0x1,0x1,0x1,0x1],_0x4863d9=[0x1,0x1,0x1,-0x1,-0x1,-0x1],_0x3b88ac=this['_renderer'],_0x173520=_0x3b88ac['autoClear'],_0x39475=_0x3b88ac['toneMapping'];_0x3b88ac['getClearColor'](_0x2a83fd),_0x3b88ac['toneMapping']=_0x923951['y_p'],_0x3b88ac['autoClear']=!0x1;const _0xf36b00=new _0x923951['V9B']({'name':'PMREM.Background','side':_0x923951['hsX'],'depthWrite':!0x1,'depthTest':!0x1}),_0x2a1a10=new _0x923951['eaF'](new _0x923951['iNn'](),_0xf36b00);let _0x5187b6=!0x1;const _0x4685bd=_0x4eee29['background'];_0x4685bd?_0x4685bd['isColor']&&(_0xf36b00['color']['copy'](_0x4685bd),_0x4eee29['background']=null,_0x5187b6=!0x0):(_0xf36b00['color']['copy'](_0x2a83fd),_0x5187b6=!0x0);for(let _0x1945e1=0x0;_0x1945e1<0x6;_0x1945e1++){const _0x33079d=_0x1945e1%0x3;0x0===_0x33079d?(_0x4ac434['up']['set'](0x0,_0x3f8368[_0x1945e1],0x0),_0x4ac434['lookAt'](_0x4863d9[_0x1945e1],0x0,0x0)):0x1===_0x33079d?(_0x4ac434['up']['set'](0x0,0x0,_0x3f8368[_0x1945e1]),_0x4ac434['lookAt'](0x0,_0x4863d9[_0x1945e1],0x0)):(_0x4ac434['up']['set'](0x0,_0x3f8368[_0x1945e1],0x0),_0x4ac434['lookAt'](0x0,0x0,_0x4863d9[_0x1945e1]));const _0x5ce0d0=this['_cubeSize'];_0x2b864d(_0x3eb676,_0x33079d*_0x5ce0d0,_0x1945e1>0x2?_0x5ce0d0:0x0,_0x5ce0d0,_0x5ce0d0),_0x3b88ac['setRenderTarget'](_0x3eb676),_0x5187b6&&_0x3b88ac['render'](_0x2a1a10,_0x4ac434),_0x3b88ac['render'](_0x4eee29,_0x4ac434);}_0x2a1a10['geometry']['dispose'](),_0x2a1a10['material']['dispose'](),_0x3b88ac['toneMapping']=_0x39475,_0x3b88ac['autoClear']=_0x173520,_0x4eee29['background']=_0x4685bd;}['_textureToCubeUV'](_0x5e9e3a,_0x220128){const _0x4ce345=this['_renderer'],_0xf1e20f=_0x5e9e3a['mapping']===_0x923951['hy7']||_0x5e9e3a['mapping']===_0x923951['xFO'];_0xf1e20f?(null===this['_cubemapMaterial']&&(this['_cubemapMaterial']=_0x568cf0()),this['_cubemapMaterial']['uniforms']['flipEnvMap']['value']=!0x1===_0x5e9e3a['isRenderTargetTexture']?-0x1:0x1):null===this['_equirectMaterial']&&(this['_equirectMaterial']=_0x30deff());const _0x636d94=_0xf1e20f?this['_cubemapMaterial']:this['_equirectMaterial'],_0x15450b=new _0x923951['eaF'](this['_lodPlanes'][0x0],_0x636d94);_0x636d94['uniforms']['envMap']['value']=_0x5e9e3a;const _0x183bc6=this['_cubeSize'];_0x2b864d(_0x220128,0x0,0x0,0x3*_0x183bc6,0x2*_0x183bc6),_0x4ce345['setRenderTarget'](_0x220128),_0x4ce345['render'](_0x15450b,_0x1a8e96);}['_applyPMREM'](_0x1e76d5){const _0x492cb5=this['_renderer'],_0x343e6f=_0x492cb5['autoClear'];_0x492cb5['autoClear']=!0x1;const _0x233653=this['_lodPlanes']['length'];for(let _0x5000ed=0x1;_0x5000ed<_0x233653;_0x5000ed++){const _0x4e1124=Math['sqrt'](this['_sigmas'][_0x5000ed]*this['_sigmas'][_0x5000ed]-this['_sigmas'][_0x5000ed-0x1]*this['_sigmas'][_0x5000ed-0x1]),_0xc3ec11=_0x2bfe24[(_0x233653-_0x5000ed-0x1)%_0x2bfe24['length']];this['_blur'](_0x1e76d5,_0x5000ed-0x1,_0x5000ed,_0x4e1124,_0xc3ec11);}_0x492cb5['autoClear']=_0x343e6f;}['_blur'](_0x476445,_0x30cf23,_0x5e278f,_0x4d2757,_0x46fca5){const _0x318b28=this['_pingPongRenderTarget'];this['_halfBlur'](_0x476445,_0x318b28,_0x30cf23,_0x5e278f,_0x4d2757,'latitudinal',_0x46fca5),this['_halfBlur'](_0x318b28,_0x476445,_0x5e278f,_0x5e278f,_0x4d2757,'longitudinal',_0x46fca5);}['_halfBlur'](_0x54b3c9,_0x1850f8,_0xe3d18,_0x600205,_0x49197e,_0x3578dd,_0x3ba345){const _0x26e95e=this['_renderer'],_0x38cfce=this['_blurMaterial'];'latitudinal'!==_0x3578dd&&'longitudinal'!==_0x3578dd&&console['error']('blur\x20direction\x20must\x20be\x20either\x20latitudinal\x20or\x20longitudinal!');const _0x335c41=new _0x923951['eaF'](this['_lodPlanes'][_0x600205],_0x38cfce),_0x1f60ed=_0x38cfce['uniforms'],_0x3f9099=this['_sizeLods'][_0xe3d18]-0x1,_0x3cc610=isFinite(_0x49197e)?Math['PI']/(0x2*_0x3f9099):0x2*Math['PI']/0x27,_0x579c80=_0x49197e/_0x3cc610,_0x4efa57=isFinite(_0x49197e)?0x1+Math['floor'](0x3*_0x579c80):_0x3eb119;_0x4efa57>_0x3eb119&&console['warn']('sigmaRadians,\x20'+_0x49197e+',\x20is\x20too\x20large\x20and\x20will\x20clip,\x20as\x20it\x20requested\x20'+_0x4efa57+'\x20samples\x20when\x20the\x20maximum\x20is\x20set\x20to\x2020');const _0x3055f5=[];let _0x15b5fc=0x0;for(let _0x447f5f=0x0;_0x447f5f<_0x3eb119;++_0x447f5f){const _0x107bd6=_0x447f5f/_0x579c80,_0x230022=Math['exp'](-_0x107bd6*_0x107bd6/0x2);_0x3055f5['push'](_0x230022),0x0===_0x447f5f?_0x15b5fc+=_0x230022:_0x447f5f<_0x4efa57&&(_0x15b5fc+=0x2*_0x230022);}for(let _0x2b7b62=0x0;_0x2b7b62<_0x3055f5['length'];_0x2b7b62++)_0x3055f5[_0x2b7b62]=_0x3055f5[_0x2b7b62]/_0x15b5fc;_0x1f60ed['envMap']['value']=_0x54b3c9['texture'],_0x1f60ed['samples']['value']=_0x4efa57,_0x1f60ed['weights']['value']=_0x3055f5,_0x1f60ed['latitudinal']['value']='latitudinal'===_0x3578dd,_0x3ba345&&(_0x1f60ed['poleAxis']['value']=_0x3ba345);const {_lodMax:_0xda254d}=this;_0x1f60ed['dTheta']['value']=_0x3cc610,_0x1f60ed['mipInt']['value']=_0xda254d-_0xe3d18;const _0x989bf5=this['_sizeLods'][_0x600205];_0x2b864d(_0x1850f8,0x3*_0x989bf5*(_0x600205>_0xda254d-0x4?_0x600205-_0xda254d+0x4:0x0),0x4*(this['_cubeSize']-_0x989bf5),0x3*_0x989bf5,0x2*_0x989bf5),_0x26e95e['setRenderTarget'](_0x1850f8),_0x26e95e['render'](_0x335c41,_0x1a8e96);}}function _0x5ebbc3(_0x3742ab,_0x1bb349,_0x59591c){const _0x4b1cbd=new _0x923951['nWS'](_0x3742ab,_0x1bb349,_0x59591c);return _0x4b1cbd['texture']['mapping']=_0x923951['Om'],_0x4b1cbd['texture']['name']='PMREM.cubeUv',_0x4b1cbd['scissorTest']=!0x0,_0x4b1cbd;}function _0x2b864d(_0x1ba175,_0x362e5b,_0x45182a,_0x11280a,_0x49e450){_0x1ba175['viewport']['set'](_0x362e5b,_0x45182a,_0x11280a,_0x49e450),_0x1ba175['scissor']['set'](_0x362e5b,_0x45182a,_0x11280a,_0x49e450);}function _0x30deff(){return new _0x923951['BKk']({'name':'EquirectangularToCubeUV','uniforms':{'envMap':{'value':null}},'vertexShader':_0x40aa53(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x0a\x09\x09\x09#include\x20<common>\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20outputDirection\x20=\x20normalize(\x20vOutputDirection\x20);\x0a\x09\x09\x09\x09vec2\x20uv\x20=\x20equirectUv(\x20outputDirection\x20);\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(\x20texture2D\x20(\x20envMap,\x20uv\x20).rgb,\x201.0\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x923951['XIg'],'depthTest':!0x1,'depthWrite':!0x1});}function _0x568cf0(){return new _0x923951['BKk']({'name':'CubemapToCubeUV','uniforms':{'envMap':{'value':null},'flipEnvMap':{'value':-0x1}},'vertexShader':_0x40aa53(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09uniform\x20float\x20flipEnvMap;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20textureCube(\x20envMap,\x20vec3(\x20flipEnvMap\x20*\x20vOutputDirection.x,\x20vOutputDirection.yz\x20)\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x923951['XIg'],'depthTest':!0x1,'depthWrite':!0x1});}function _0x40aa53(){return'\x0a\x0a\x09\x09precision\x20mediump\x20float;\x0a\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09attribute\x20float\x20faceIndex;\x0a\x0a\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09//\x20RH\x20coordinate\x20system;\x20PMREM\x20face-indexing\x20convention\x0a\x09\x09vec3\x20getDirection(\x20vec2\x20uv,\x20float\x20face\x20)\x20{\x0a\x0a\x09\x09\x09uv\x20=\x202.0\x20*\x20uv\x20-\x201.0;\x0a\x0a\x09\x09\x09vec3\x20direction\x20=\x20vec3(\x20uv,\x201.0\x20);\x0a\x0a\x09\x09\x09if\x20(\x20face\x20==\x200.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.zyx;\x20//\x20(\x201,\x20v,\x20u\x20)\x20pos\x20x\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x201.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.xzy;\x0a\x09\x09\x09\x09direction.xz\x20*=\x20-1.0;\x20//\x20(\x20-u,\x201,\x20-v\x20)\x20pos\x20y\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x202.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction.x\x20*=\x20-1.0;\x20//\x20(\x20-u,\x20v,\x201\x20)\x20pos\x20z\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x203.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.zyx;\x0a\x09\x09\x09\x09direction.xz\x20*=\x20-1.0;\x20//\x20(\x20-1,\x20v,\x20-u\x20)\x20neg\x20x\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x204.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.xzy;\x0a\x09\x09\x09\x09direction.xy\x20*=\x20-1.0;\x20//\x20(\x20-u,\x20-1,\x20v\x20)\x20neg\x20y\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x205.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction.z\x20*=\x20-1.0;\x20//\x20(\x20u,\x20v,\x20-1\x20)\x20neg\x20z\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09return\x20direction;\x0a\x0a\x09\x09}\x0a\x0a\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09vOutputDirection\x20=\x20getDirection(\x20uv,\x20faceIndex\x20);\x0a\x09\x09\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x0a\x09\x09}\x0a\x09';}function _0x14aa87(_0x42dd79){let _0x1b2c0a=new WeakMap(),_0x7400d8=null;function _0x3d2c94(_0x4cfdb2){const _0x165306=_0x4cfdb2['target'];_0x165306['removeEventListener']('dispose',_0x3d2c94);const _0x1131df=_0x1b2c0a['get'](_0x165306);void 0x0!==_0x1131df&&(_0x1b2c0a['delete'](_0x165306),_0x1131df['dispose']());}return{'get':function(_0x14dfa3){if(_0x14dfa3&&_0x14dfa3['isTexture']){const _0x1c3722=_0x14dfa3['mapping'],_0xd5c324=_0x1c3722===_0x923951['wfO']||_0x1c3722===_0x923951['uV5'],_0x4da95b=_0x1c3722===_0x923951['hy7']||_0x1c3722===_0x923951['xFO'];if(_0xd5c324||_0x4da95b){let _0x1ebf88=_0x1b2c0a['get'](_0x14dfa3);const _0x37b77b=void 0x0!==_0x1ebf88?_0x1ebf88['texture']['pmremVersion']:0x0;if(_0x14dfa3['isRenderTargetTexture']&&_0x14dfa3['pmremVersion']!==_0x37b77b)return null===_0x7400d8&&(_0x7400d8=new _0x57038f(_0x42dd79)),_0x1ebf88=_0xd5c324?_0x7400d8['fromEquirectangular'](_0x14dfa3,_0x1ebf88):_0x7400d8['fromCubemap'](_0x14dfa3,_0x1ebf88),_0x1ebf88['texture']['pmremVersion']=_0x14dfa3['pmremVersion'],_0x1b2c0a['set'](_0x14dfa3,_0x1ebf88),_0x1ebf88['texture'];if(void 0x0!==_0x1ebf88)return _0x1ebf88['texture'];{const _0x1e3a39=_0x14dfa3['image'];return _0xd5c324&&_0x1e3a39&&_0x1e3a39['height']>0x0||_0x4da95b&&_0x1e3a39&&function(_0x402bc6){let _0x3700e9=0x0;const _0x2d7850=0x6;for(let _0x30b79a=0x0;_0x30b79a<_0x2d7850;_0x30b79a++)void 0x0!==_0x402bc6[_0x30b79a]&&_0x3700e9++;return _0x3700e9===_0x2d7850;}(_0x1e3a39)?(null===_0x7400d8&&(_0x7400d8=new _0x57038f(_0x42dd79)),_0x1ebf88=_0xd5c324?_0x7400d8['fromEquirectangular'](_0x14dfa3):_0x7400d8['fromCubemap'](_0x14dfa3),_0x1ebf88['texture']['pmremVersion']=_0x14dfa3['pmremVersion'],_0x1b2c0a['set'](_0x14dfa3,_0x1ebf88),_0x14dfa3['addEventListener']('dispose',_0x3d2c94),_0x1ebf88['texture']):null;}}}return _0x14dfa3;},'dispose':function(){_0x1b2c0a=new WeakMap(),null!==_0x7400d8&&(_0x7400d8['dispose'](),_0x7400d8=null);}};}function _0x193fd5(_0x423f28){const _0x2ec6d4={};function _0x4480f5(_0x31f62f){if(void 0x0!==_0x2ec6d4[_0x31f62f])return _0x2ec6d4[_0x31f62f];let _0x299b83;switch(_0x31f62f){case'WEBGL_depth_texture':_0x299b83=_0x423f28['getExtension']('WEBGL_depth_texture')||_0x423f28['getExtension']('MOZ_WEBGL_depth_texture')||_0x423f28['getExtension']('WEBKIT_WEBGL_depth_texture');break;case'EXT_texture_filter_anisotropic':_0x299b83=_0x423f28['getExtension']('EXT_texture_filter_anisotropic')||_0x423f28['getExtension']('MOZ_EXT_texture_filter_anisotropic')||_0x423f28['getExtension']('WEBKIT_EXT_texture_filter_anisotropic');break;case'WEBGL_compressed_texture_s3tc':_0x299b83=_0x423f28['getExtension']('WEBGL_compressed_texture_s3tc')||_0x423f28['getExtension']('MOZ_WEBGL_compressed_texture_s3tc')||_0x423f28['getExtension']('WEBKIT_WEBGL_compressed_texture_s3tc');break;case'WEBGL_compressed_texture_pvrtc':_0x299b83=_0x423f28['getExtension']('WEBGL_compressed_texture_pvrtc')||_0x423f28['getExtension']('WEBKIT_WEBGL_compressed_texture_pvrtc');break;default:_0x299b83=_0x423f28['getExtension'](_0x31f62f);}return _0x2ec6d4[_0x31f62f]=_0x299b83,_0x299b83;}return{'has':function(_0x2aa728){return null!==_0x4480f5(_0x2aa728);},'init':function(){_0x4480f5('EXT_color_buffer_float'),_0x4480f5('WEBGL_clip_cull_distance'),_0x4480f5('OES_texture_float_linear'),_0x4480f5('EXT_color_buffer_half_float'),_0x4480f5('WEBGL_multisampled_render_to_texture'),_0x4480f5('WEBGL_render_shared_exponent');},'get':function(_0x79e003){const _0x432d7b=_0x4480f5(_0x79e003);return null===_0x432d7b&&(0x0,_0x923951['mcG'])('THREE.WebGLRenderer:\x20'+_0x79e003+'\x20extension\x20not\x20supported.'),_0x432d7b;}};}function _0x1576d3(_0x4e5d8e,_0x3bd35a,_0x3d99aa,_0x529ab5){const _0x446aeb={},_0x2c61ff=new WeakMap();function _0x203488(_0x40a41b){const _0x44c8d6=_0x40a41b['target'];null!==_0x44c8d6['index']&&_0x3bd35a['remove'](_0x44c8d6['index']);for(const _0x4d4b8f in _0x44c8d6['attributes'])_0x3bd35a['remove'](_0x44c8d6['attributes'][_0x4d4b8f]);_0x44c8d6['removeEventListener']('dispose',_0x203488),delete _0x446aeb[_0x44c8d6['id']];const _0x5ac817=_0x2c61ff['get'](_0x44c8d6);_0x5ac817&&(_0x3bd35a['remove'](_0x5ac817),_0x2c61ff['delete'](_0x44c8d6)),_0x529ab5['releaseStatesOfGeometry'](_0x44c8d6),!0x0===_0x44c8d6['isInstancedBufferGeometry']&&delete _0x44c8d6['_maxInstanceCount'],_0x3d99aa['memory']['geometries']--;}function _0x56ccfc(_0x1b68af){const _0x4a49c9=[],_0x431d2f=_0x1b68af['index'],_0x501ae1=_0x1b68af['attributes']['position'];let _0x4669fd=0x0;if(null!==_0x431d2f){const _0x2f34be=_0x431d2f['array'];_0x4669fd=_0x431d2f['version'];for(let _0x2d87b0=0x0,_0x53b802=_0x2f34be['length'];_0x2d87b0<_0x53b802;_0x2d87b0+=0x3){const _0x1fbfcf=_0x2f34be[_0x2d87b0+0x0],_0x38813d=_0x2f34be[_0x2d87b0+0x1],_0x49d189=_0x2f34be[_0x2d87b0+0x2];_0x4a49c9['push'](_0x1fbfcf,_0x38813d,_0x38813d,_0x49d189,_0x49d189,_0x1fbfcf);}}else{if(void 0x0===_0x501ae1)return;{const _0x3a67dc=_0x501ae1['array'];_0x4669fd=_0x501ae1['version'];for(let _0x506af7=0x0,_0x1e6493=_0x3a67dc['length']/0x3-0x1;_0x506af7<_0x1e6493;_0x506af7+=0x3){const _0x513c6d=_0x506af7+0x0,_0x5cb46c=_0x506af7+0x1,_0x428ef6=_0x506af7+0x2;_0x4a49c9['push'](_0x513c6d,_0x5cb46c,_0x5cb46c,_0x428ef6,_0x428ef6,_0x513c6d);}}}const _0x23cc39=new(((0x0,_0x923951['AQS'])(_0x4a49c9))?_0x923951['MW4']:_0x923951['A$4'])(_0x4a49c9,0x1);_0x23cc39['version']=_0x4669fd;const _0x536a34=_0x2c61ff['get'](_0x1b68af);_0x536a34&&_0x3bd35a['remove'](_0x536a34),_0x2c61ff['set'](_0x1b68af,_0x23cc39);}return{'get':function(_0x4dacad,_0x2aec73){return!0x0===_0x446aeb[_0x2aec73['id']]||(_0x2aec73['addEventListener']('dispose',_0x203488),_0x446aeb[_0x2aec73['id']]=!0x0,_0x3d99aa['memory']['geometries']++),_0x2aec73;},'update':function(_0x23c2da){const _0x4179ac=_0x23c2da['attributes'];for(const _0x499d68 in _0x4179ac)_0x3bd35a['update'](_0x4179ac[_0x499d68],_0x4e5d8e['ARRAY_BUFFER']);},'getWireframeAttribute':function(_0x1a5f89){const _0x5295a1=_0x2c61ff['get'](_0x1a5f89);if(_0x5295a1){const _0x518e9c=_0x1a5f89['index'];null!==_0x518e9c&&_0x5295a1['version']<_0x518e9c['version']&&_0x56ccfc(_0x1a5f89);}else _0x56ccfc(_0x1a5f89);return _0x2c61ff['get'](_0x1a5f89);}};}function _0xab3317(_0xf46d94,_0x494ca3,_0x5317c0){let _0x574e28,_0x295b77,_0x2389dc;function _0x1804bf(_0x547336,_0x1829b2,_0x582fb4){0x0!==_0x582fb4&&(_0xf46d94['drawElementsInstanced'](_0x574e28,_0x1829b2,_0x295b77,_0x547336*_0x2389dc,_0x582fb4),_0x5317c0['update'](_0x1829b2,_0x574e28,_0x582fb4));}this['setMode']=function(_0x49e003){_0x574e28=_0x49e003;},this['setIndex']=function(_0x441562){_0x295b77=_0x441562['type'],_0x2389dc=_0x441562['bytesPerElement'];},this['render']=function(_0x351e22,_0x4294e5){_0xf46d94['drawElements'](_0x574e28,_0x4294e5,_0x295b77,_0x351e22*_0x2389dc),_0x5317c0['update'](_0x4294e5,_0x574e28,0x1);},this['renderInstances']=_0x1804bf,this['renderMultiDraw']=function(_0x18f9d3,_0x4d42c1,_0x18e654){if(0x0===_0x18e654)return;_0x494ca3['get']('WEBGL_multi_draw')['multiDrawElementsWEBGL'](_0x574e28,_0x4d42c1,0x0,_0x295b77,_0x18f9d3,0x0,_0x18e654);let _0x30c238=0x0;for(let _0x59e2a2=0x0;_0x59e2a2<_0x18e654;_0x59e2a2++)_0x30c238+=_0x4d42c1[_0x59e2a2];_0x5317c0['update'](_0x30c238,_0x574e28,0x1);},this['renderMultiDrawInstances']=function(_0x46aebd,_0x3be743,_0xb34601,_0x146f7f){if(0x0===_0xb34601)return;const _0x455542=_0x494ca3['get']('WEBGL_multi_draw');if(null===_0x455542){for(let _0xbf6fe1=0x0;_0xbf6fe1<_0x46aebd['length'];_0xbf6fe1++)_0x1804bf(_0x46aebd[_0xbf6fe1]/_0x2389dc,_0x3be743[_0xbf6fe1],_0x146f7f[_0xbf6fe1]);}else{_0x455542['multiDrawElementsInstancedWEBGL'](_0x574e28,_0x3be743,0x0,_0x295b77,_0x46aebd,0x0,_0x146f7f,0x0,_0xb34601);let _0x9e2bc7=0x0;for(let _0x2b2ae2=0x0;_0x2b2ae2<_0xb34601;_0x2b2ae2++)_0x9e2bc7+=_0x3be743[_0x2b2ae2]*_0x146f7f[_0x2b2ae2];_0x5317c0['update'](_0x9e2bc7,_0x574e28,0x1);}};}function _0x659d10(_0x52f3c5){const _0x4660ff={'frame':0x0,'calls':0x0,'triangles':0x0,'points':0x0,'lines':0x0};return{'memory':{'geometries':0x0,'textures':0x0},'render':_0x4660ff,'programs':null,'autoReset':!0x0,'reset':function(){_0x4660ff['calls']=0x0,_0x4660ff['triangles']=0x0,_0x4660ff['points']=0x0,_0x4660ff['lines']=0x0;},'update':function(_0x380d67,_0x195d55,_0x1a2625){switch(_0x4660ff['calls']++,_0x195d55){case _0x52f3c5['TRIANGLES']:_0x4660ff['triangles']+=_0x1a2625*(_0x380d67/0x3);break;case _0x52f3c5['LINES']:_0x4660ff['lines']+=_0x1a2625*(_0x380d67/0x2);break;case _0x52f3c5['LINE_STRIP']:_0x4660ff['lines']+=_0x1a2625*(_0x380d67-0x1);break;case _0x52f3c5['LINE_LOOP']:_0x4660ff['lines']+=_0x1a2625*_0x380d67;break;case _0x52f3c5['POINTS']:_0x4660ff['points']+=_0x1a2625*_0x380d67;break;default:console['error']('THREE.WebGLInfo:\x20Unknown\x20draw\x20mode:',_0x195d55);}}};}function _0x1bd9f0(_0x163068,_0x25ab8a,_0x1e792d){const _0x98798a=new WeakMap(),_0x318f84=new _0x923951['IUQ']();return{'update':function(_0x2af21e,_0xe0cdc9,_0x4e115f){const _0x1ad7af=_0x2af21e['morphTargetInfluences'],_0x115a90=_0xe0cdc9['morphAttributes']['position']||_0xe0cdc9['morphAttributes']['normal']||_0xe0cdc9['morphAttributes']['color'],_0x1e14c4=void 0x0!==_0x115a90?_0x115a90['length']:0x0;let _0x40327e=_0x98798a['get'](_0xe0cdc9);if(void 0x0===_0x40327e||_0x40327e['count']!==_0x1e14c4){void 0x0!==_0x40327e&&_0x40327e['texture']['dispose']();const _0x1fbab7=void 0x0!==_0xe0cdc9['morphAttributes']['position'],_0x48f7e2=void 0x0!==_0xe0cdc9['morphAttributes']['normal'],_0x1a73b7=void 0x0!==_0xe0cdc9['morphAttributes']['color'],_0x352c4d=_0xe0cdc9['morphAttributes']['position']||[],_0x4aeeb5=_0xe0cdc9['morphAttributes']['normal']||[],_0x4db49a=_0xe0cdc9['morphAttributes']['color']||[];let _0x3e8ef0=0x0;!0x0===_0x1fbab7&&(_0x3e8ef0=0x1),!0x0===_0x48f7e2&&(_0x3e8ef0=0x2),!0x0===_0x1a73b7&&(_0x3e8ef0=0x3);let _0x5a2ef3=_0xe0cdc9['attributes']['position']['count']*_0x3e8ef0,_0x31bb77=0x1;_0x5a2ef3>_0x25ab8a['maxTextureSize']&&(_0x31bb77=Math['ceil'](_0x5a2ef3/_0x25ab8a['maxTextureSize']),_0x5a2ef3=_0x25ab8a['maxTextureSize']);const _0x47a8df=new Float32Array(_0x5a2ef3*_0x31bb77*0x4*_0x1e14c4),_0xecf688=new _0x923951['rFo'](_0x47a8df,_0x5a2ef3,_0x31bb77,_0x1e14c4);_0xecf688['type']=_0x923951['RQf'],_0xecf688['needsUpdate']=!0x0;const _0x5950e2=0x4*_0x3e8ef0;for(let _0x39de69=0x0;_0x39de69<_0x1e14c4;_0x39de69++){const _0x3c0f27=_0x352c4d[_0x39de69],_0x2d1e02=_0x4aeeb5[_0x39de69],_0x33b0e9=_0x4db49a[_0x39de69],_0x23398d=_0x5a2ef3*_0x31bb77*0x4*_0x39de69;for(let _0x5e1172=0x0;_0x5e1172<_0x3c0f27['count'];_0x5e1172++){const _0x2ae5b6=_0x5e1172*_0x5950e2;!0x0===_0x1fbab7&&(_0x318f84['fromBufferAttribute'](_0x3c0f27,_0x5e1172),_0x47a8df[_0x23398d+_0x2ae5b6+0x0]=_0x318f84['x'],_0x47a8df[_0x23398d+_0x2ae5b6+0x1]=_0x318f84['y'],_0x47a8df[_0x23398d+_0x2ae5b6+0x2]=_0x318f84['z'],_0x47a8df[_0x23398d+_0x2ae5b6+0x3]=0x0),!0x0===_0x48f7e2&&(_0x318f84['fromBufferAttribute'](_0x2d1e02,_0x5e1172),_0x47a8df[_0x23398d+_0x2ae5b6+0x4]=_0x318f84['x'],_0x47a8df[_0x23398d+_0x2ae5b6+0x5]=_0x318f84['y'],_0x47a8df[_0x23398d+_0x2ae5b6+0x6]=_0x318f84['z'],_0x47a8df[_0x23398d+_0x2ae5b6+0x7]=0x0),!0x0===_0x1a73b7&&(_0x318f84['fromBufferAttribute'](_0x33b0e9,_0x5e1172),_0x47a8df[_0x23398d+_0x2ae5b6+0x8]=_0x318f84['x'],_0x47a8df[_0x23398d+_0x2ae5b6+0x9]=_0x318f84['y'],_0x47a8df[_0x23398d+_0x2ae5b6+0xa]=_0x318f84['z'],_0x47a8df[_0x23398d+_0x2ae5b6+0xb]=0x4===_0x33b0e9['itemSize']?_0x318f84['w']:0x1);}}function _0xbcb13c(){_0xecf688['dispose'](),_0x98798a['delete'](_0xe0cdc9),_0xe0cdc9['removeEventListener']('dispose',_0xbcb13c);}_0x40327e={'count':_0x1e14c4,'texture':_0xecf688,'size':new _0x923951['I9Y'](_0x5a2ef3,_0x31bb77)},_0x98798a['set'](_0xe0cdc9,_0x40327e),_0xe0cdc9['addEventListener']('dispose',_0xbcb13c);}if(!0x0===_0x2af21e['isInstancedMesh']&&null!==_0x2af21e['morphTexture'])_0x4e115f['getUniforms']()['setValue'](_0x163068,'morphTexture',_0x2af21e['morphTexture'],_0x1e792d);else{let _0x4e6c02=0x0;for(let _0x52981=0x0;_0x52981<_0x1ad7af['length'];_0x52981++)_0x4e6c02+=_0x1ad7af[_0x52981];const _0x200222=_0xe0cdc9['morphTargetsRelative']?0x1:0x1-_0x4e6c02;_0x4e115f['getUniforms']()['setValue'](_0x163068,'morphTargetBaseInfluence',_0x200222),_0x4e115f['getUniforms']()['setValue'](_0x163068,'morphTargetInfluences',_0x1ad7af);}_0x4e115f['getUniforms']()['setValue'](_0x163068,'morphTargetsTexture',_0x40327e['texture'],_0x1e792d),_0x4e115f['getUniforms']()['setValue'](_0x163068,'morphTargetsTextureSize',_0x40327e['size']);}};}function _0x419c8e(_0x501c00,_0x180411,_0x3449a3,_0x4974cc){let _0x385cbc=new WeakMap();function _0x2f6746(_0x4e8a9a){const _0x426c71=_0x4e8a9a['target'];_0x426c71['removeEventListener']('dispose',_0x2f6746),_0x3449a3['remove'](_0x426c71['instanceMatrix']),null!==_0x426c71['instanceColor']&&_0x3449a3['remove'](_0x426c71['instanceColor']);}return{'update':function(_0x380c8b){const _0x49c584=_0x4974cc['render']['frame'],_0x50aea4=_0x380c8b['geometry'],_0x28ea01=_0x180411['get'](_0x380c8b,_0x50aea4);if(_0x385cbc['get'](_0x28ea01)!==_0x49c584&&(_0x180411['update'](_0x28ea01),_0x385cbc['set'](_0x28ea01,_0x49c584)),_0x380c8b['isInstancedMesh']&&(!0x1===_0x380c8b['hasEventListener']('dispose',_0x2f6746)&&_0x380c8b['addEventListener']('dispose',_0x2f6746),_0x385cbc['get'](_0x380c8b)!==_0x49c584&&(_0x3449a3['update'](_0x380c8b['instanceMatrix'],_0x501c00['ARRAY_BUFFER']),null!==_0x380c8b['instanceColor']&&_0x3449a3['update'](_0x380c8b['instanceColor'],_0x501c00['ARRAY_BUFFER']),_0x385cbc['set'](_0x380c8b,_0x49c584))),_0x380c8b['isSkinnedMesh']){const _0x236179=_0x380c8b['skeleton'];_0x385cbc['get'](_0x236179)!==_0x49c584&&(_0x236179['update'](),_0x385cbc['set'](_0x236179,_0x49c584));}return _0x28ea01;},'dispose':function(){_0x385cbc=new WeakMap();}};}const _0x4d34eb=new _0x923951['gPd'](),_0x350fc4=new _0x923951['VCu'](0x1,0x1),_0x55a558=new _0x923951['rFo'](),_0x3eab8d=new _0x923951['dYF'](),_0x28d0f9=new _0x923951['b4q'](),_0x2cdc1d=[],_0x4b38ed=[],_0x5b32b3=new Float32Array(0x10),_0x453fde=new Float32Array(0x9),_0x282643=new Float32Array(0x4);function _0x563feb(_0x323029,_0x534281,_0x5537db){const _0x5ca306=_0x323029[0x0];if(_0x5ca306<=0x0||_0x5ca306>0x0)return _0x323029;const _0x48f0de=_0x534281*_0x5537db;let _0x4af269=_0x2cdc1d[_0x48f0de];if(void 0x0===_0x4af269&&(_0x4af269=new Float32Array(_0x48f0de),_0x2cdc1d[_0x48f0de]=_0x4af269),0x0!==_0x534281){_0x5ca306['toArray'](_0x4af269,0x0);for(let _0x10f8f5=0x1,_0x286025=0x0;_0x10f8f5!==_0x534281;++_0x10f8f5)_0x286025+=_0x5537db,_0x323029[_0x10f8f5]['toArray'](_0x4af269,_0x286025);}return _0x4af269;}function _0x24fdc3(_0x32434e,_0x1410e6){if(_0x32434e['length']!==_0x1410e6['length'])return!0x1;for(let _0x2992ba=0x0,_0x21d8dc=_0x32434e['length'];_0x2992ba<_0x21d8dc;_0x2992ba++)if(_0x32434e[_0x2992ba]!==_0x1410e6[_0x2992ba])return!0x1;return!0x0;}function _0x454be2(_0x4d0620,_0x2b727d){for(let _0x3b8e59=0x0,_0x583020=_0x2b727d['length'];_0x3b8e59<_0x583020;_0x3b8e59++)_0x4d0620[_0x3b8e59]=_0x2b727d[_0x3b8e59];}function _0x565fe4(_0x4ff995,_0x1c66f7){let _0x35083d=_0x4b38ed[_0x1c66f7];void 0x0===_0x35083d&&(_0x35083d=new Int32Array(_0x1c66f7),_0x4b38ed[_0x1c66f7]=_0x35083d);for(let _0x1a1459=0x0;_0x1a1459!==_0x1c66f7;++_0x1a1459)_0x35083d[_0x1a1459]=_0x4ff995['allocateTextureUnit']();return _0x35083d;}function _0x3c2268(_0xfa4d50,_0x27147a){const _0x501229=this['cache'];_0x501229[0x0]!==_0x27147a&&(_0xfa4d50['uniform1f'](this['addr'],_0x27147a),_0x501229[0x0]=_0x27147a);}function _0x5c2159(_0x56357c,_0x9c4e72){const _0x3e576b=this['cache'];if(void 0x0!==_0x9c4e72['x'])_0x3e576b[0x0]===_0x9c4e72['x']&&_0x3e576b[0x1]===_0x9c4e72['y']||(_0x56357c['uniform2f'](this['addr'],_0x9c4e72['x'],_0x9c4e72['y']),_0x3e576b[0x0]=_0x9c4e72['x'],_0x3e576b[0x1]=_0x9c4e72['y']);else{if(_0x24fdc3(_0x3e576b,_0x9c4e72))return;_0x56357c['uniform2fv'](this['addr'],_0x9c4e72),_0x454be2(_0x3e576b,_0x9c4e72);}}function _0x2bebf8(_0x402fa6,_0x1ba98e){const _0x4b9a42=this['cache'];if(void 0x0!==_0x1ba98e['x'])_0x4b9a42[0x0]===_0x1ba98e['x']&&_0x4b9a42[0x1]===_0x1ba98e['y']&&_0x4b9a42[0x2]===_0x1ba98e['z']||(_0x402fa6['uniform3f'](this['addr'],_0x1ba98e['x'],_0x1ba98e['y'],_0x1ba98e['z']),_0x4b9a42[0x0]=_0x1ba98e['x'],_0x4b9a42[0x1]=_0x1ba98e['y'],_0x4b9a42[0x2]=_0x1ba98e['z']);else{if(void 0x0!==_0x1ba98e['r'])_0x4b9a42[0x0]===_0x1ba98e['r']&&_0x4b9a42[0x1]===_0x1ba98e['g']&&_0x4b9a42[0x2]===_0x1ba98e['b']||(_0x402fa6['uniform3f'](this['addr'],_0x1ba98e['r'],_0x1ba98e['g'],_0x1ba98e['b']),_0x4b9a42[0x0]=_0x1ba98e['r'],_0x4b9a42[0x1]=_0x1ba98e['g'],_0x4b9a42[0x2]=_0x1ba98e['b']);else{if(_0x24fdc3(_0x4b9a42,_0x1ba98e))return;_0x402fa6['uniform3fv'](this['addr'],_0x1ba98e),_0x454be2(_0x4b9a42,_0x1ba98e);}}}function _0x3820bd(_0x2476c5,_0x42ed55){const _0x2c3f2d=this['cache'];if(void 0x0!==_0x42ed55['x'])_0x2c3f2d[0x0]===_0x42ed55['x']&&_0x2c3f2d[0x1]===_0x42ed55['y']&&_0x2c3f2d[0x2]===_0x42ed55['z']&&_0x2c3f2d[0x3]===_0x42ed55['w']||(_0x2476c5['uniform4f'](this['addr'],_0x42ed55['x'],_0x42ed55['y'],_0x42ed55['z'],_0x42ed55['w']),_0x2c3f2d[0x0]=_0x42ed55['x'],_0x2c3f2d[0x1]=_0x42ed55['y'],_0x2c3f2d[0x2]=_0x42ed55['z'],_0x2c3f2d[0x3]=_0x42ed55['w']);else{if(_0x24fdc3(_0x2c3f2d,_0x42ed55))return;_0x2476c5['uniform4fv'](this['addr'],_0x42ed55),_0x454be2(_0x2c3f2d,_0x42ed55);}}function _0x40aaec(_0x88741,_0x2f856a){const _0x2d6237=this['cache'],_0x5ba68a=_0x2f856a['elements'];if(void 0x0===_0x5ba68a){if(_0x24fdc3(_0x2d6237,_0x2f856a))return;_0x88741['uniformMatrix2fv'](this['addr'],!0x1,_0x2f856a),_0x454be2(_0x2d6237,_0x2f856a);}else{if(_0x24fdc3(_0x2d6237,_0x5ba68a))return;_0x282643['set'](_0x5ba68a),_0x88741['uniformMatrix2fv'](this['addr'],!0x1,_0x282643),_0x454be2(_0x2d6237,_0x5ba68a);}}function _0x7f86b5(_0x4a5631,_0x141d66){const _0x516017=this['cache'],_0x266759=_0x141d66['elements'];if(void 0x0===_0x266759){if(_0x24fdc3(_0x516017,_0x141d66))return;_0x4a5631['uniformMatrix3fv'](this['addr'],!0x1,_0x141d66),_0x454be2(_0x516017,_0x141d66);}else{if(_0x24fdc3(_0x516017,_0x266759))return;_0x453fde['set'](_0x266759),_0x4a5631['uniformMatrix3fv'](this['addr'],!0x1,_0x453fde),_0x454be2(_0x516017,_0x266759);}}function _0x283f54(_0x2f33c6,_0x3f0568){const _0x5e0c04=this['cache'],_0x37c4e8=_0x3f0568['elements'];if(void 0x0===_0x37c4e8){if(_0x24fdc3(_0x5e0c04,_0x3f0568))return;_0x2f33c6['uniformMatrix4fv'](this['addr'],!0x1,_0x3f0568),_0x454be2(_0x5e0c04,_0x3f0568);}else{if(_0x24fdc3(_0x5e0c04,_0x37c4e8))return;_0x5b32b3['set'](_0x37c4e8),_0x2f33c6['uniformMatrix4fv'](this['addr'],!0x1,_0x5b32b3),_0x454be2(_0x5e0c04,_0x37c4e8);}}function _0x31f241(_0x8f0f06,_0xb8287){const _0x1010dd=this['cache'];_0x1010dd[0x0]!==_0xb8287&&(_0x8f0f06['uniform1i'](this['addr'],_0xb8287),_0x1010dd[0x0]=_0xb8287);}function _0x506bcd(_0x353960,_0x2bb105){const _0x2cc499=this['cache'];if(void 0x0!==_0x2bb105['x'])_0x2cc499[0x0]===_0x2bb105['x']&&_0x2cc499[0x1]===_0x2bb105['y']||(_0x353960['uniform2i'](this['addr'],_0x2bb105['x'],_0x2bb105['y']),_0x2cc499[0x0]=_0x2bb105['x'],_0x2cc499[0x1]=_0x2bb105['y']);else{if(_0x24fdc3(_0x2cc499,_0x2bb105))return;_0x353960['uniform2iv'](this['addr'],_0x2bb105),_0x454be2(_0x2cc499,_0x2bb105);}}function _0x37fd38(_0x1c3d2a,_0x5a799a){const _0x23d7d0=this['cache'];if(void 0x0!==_0x5a799a['x'])_0x23d7d0[0x0]===_0x5a799a['x']&&_0x23d7d0[0x1]===_0x5a799a['y']&&_0x23d7d0[0x2]===_0x5a799a['z']||(_0x1c3d2a['uniform3i'](this['addr'],_0x5a799a['x'],_0x5a799a['y'],_0x5a799a['z']),_0x23d7d0[0x0]=_0x5a799a['x'],_0x23d7d0[0x1]=_0x5a799a['y'],_0x23d7d0[0x2]=_0x5a799a['z']);else{if(_0x24fdc3(_0x23d7d0,_0x5a799a))return;_0x1c3d2a['uniform3iv'](this['addr'],_0x5a799a),_0x454be2(_0x23d7d0,_0x5a799a);}}function _0x512ff6(_0x62297,_0x57cf69){const _0x3a8b9f=this['cache'];if(void 0x0!==_0x57cf69['x'])_0x3a8b9f[0x0]===_0x57cf69['x']&&_0x3a8b9f[0x1]===_0x57cf69['y']&&_0x3a8b9f[0x2]===_0x57cf69['z']&&_0x3a8b9f[0x3]===_0x57cf69['w']||(_0x62297['uniform4i'](this['addr'],_0x57cf69['x'],_0x57cf69['y'],_0x57cf69['z'],_0x57cf69['w']),_0x3a8b9f[0x0]=_0x57cf69['x'],_0x3a8b9f[0x1]=_0x57cf69['y'],_0x3a8b9f[0x2]=_0x57cf69['z'],_0x3a8b9f[0x3]=_0x57cf69['w']);else{if(_0x24fdc3(_0x3a8b9f,_0x57cf69))return;_0x62297['uniform4iv'](this['addr'],_0x57cf69),_0x454be2(_0x3a8b9f,_0x57cf69);}}function _0x3bdbee(_0x4504db,_0x50be6f){const _0x483102=this['cache'];_0x483102[0x0]!==_0x50be6f&&(_0x4504db['uniform1ui'](this['addr'],_0x50be6f),_0x483102[0x0]=_0x50be6f);}function _0x4ee74e(_0x452f79,_0x5d9cf9){const _0x3b3893=this['cache'];if(void 0x0!==_0x5d9cf9['x'])_0x3b3893[0x0]===_0x5d9cf9['x']&&_0x3b3893[0x1]===_0x5d9cf9['y']||(_0x452f79['uniform2ui'](this['addr'],_0x5d9cf9['x'],_0x5d9cf9['y']),_0x3b3893[0x0]=_0x5d9cf9['x'],_0x3b3893[0x1]=_0x5d9cf9['y']);else{if(_0x24fdc3(_0x3b3893,_0x5d9cf9))return;_0x452f79['uniform2uiv'](this['addr'],_0x5d9cf9),_0x454be2(_0x3b3893,_0x5d9cf9);}}function _0x2def5e(_0x14c781,_0x399d04){const _0x345efb=this['cache'];if(void 0x0!==_0x399d04['x'])_0x345efb[0x0]===_0x399d04['x']&&_0x345efb[0x1]===_0x399d04['y']&&_0x345efb[0x2]===_0x399d04['z']||(_0x14c781['uniform3ui'](this['addr'],_0x399d04['x'],_0x399d04['y'],_0x399d04['z']),_0x345efb[0x0]=_0x399d04['x'],_0x345efb[0x1]=_0x399d04['y'],_0x345efb[0x2]=_0x399d04['z']);else{if(_0x24fdc3(_0x345efb,_0x399d04))return;_0x14c781['uniform3uiv'](this['addr'],_0x399d04),_0x454be2(_0x345efb,_0x399d04);}}function _0x4dbec6(_0x5e565a,_0x1af233){const _0x44d8f6=this['cache'];if(void 0x0!==_0x1af233['x'])_0x44d8f6[0x0]===_0x1af233['x']&&_0x44d8f6[0x1]===_0x1af233['y']&&_0x44d8f6[0x2]===_0x1af233['z']&&_0x44d8f6[0x3]===_0x1af233['w']||(_0x5e565a['uniform4ui'](this['addr'],_0x1af233['x'],_0x1af233['y'],_0x1af233['z'],_0x1af233['w']),_0x44d8f6[0x0]=_0x1af233['x'],_0x44d8f6[0x1]=_0x1af233['y'],_0x44d8f6[0x2]=_0x1af233['z'],_0x44d8f6[0x3]=_0x1af233['w']);else{if(_0x24fdc3(_0x44d8f6,_0x1af233))return;_0x5e565a['uniform4uiv'](this['addr'],_0x1af233),_0x454be2(_0x44d8f6,_0x1af233);}}function _0x245841(_0x23f3a1,_0x280e16,_0x20c2b5){const _0x9e2cf4=this['cache'],_0xfcab36=_0x20c2b5['allocateTextureUnit']();let _0x54b3d5;_0x9e2cf4[0x0]!==_0xfcab36&&(_0x23f3a1['uniform1i'](this['addr'],_0xfcab36),_0x9e2cf4[0x0]=_0xfcab36),this['type']===_0x23f3a1['SAMPLER_2D_SHADOW']?(_0x350fc4['compareFunction']=_0x923951['TiK'],_0x54b3d5=_0x350fc4):_0x54b3d5=_0x4d34eb,_0x20c2b5['setTexture2D'](_0x280e16||_0x54b3d5,_0xfcab36);}function _0x5e8f59(_0x12f1db,_0x78d8c9,_0x1e7d8d){const _0x1e4b99=this['cache'],_0x630897=_0x1e7d8d['allocateTextureUnit']();_0x1e4b99[0x0]!==_0x630897&&(_0x12f1db['uniform1i'](this['addr'],_0x630897),_0x1e4b99[0x0]=_0x630897),_0x1e7d8d['setTexture3D'](_0x78d8c9||_0x3eab8d,_0x630897);}function _0x421434(_0x54f69d,_0x321ebf,_0x3ee685){const _0x10715e=this['cache'],_0x35935e=_0x3ee685['allocateTextureUnit']();_0x10715e[0x0]!==_0x35935e&&(_0x54f69d['uniform1i'](this['addr'],_0x35935e),_0x10715e[0x0]=_0x35935e),_0x3ee685['setTextureCube'](_0x321ebf||_0x28d0f9,_0x35935e);}function _0x9af051(_0x494d0f,_0x6bfd12,_0x55487c){const _0x5ba16d=this['cache'],_0x2940b8=_0x55487c['allocateTextureUnit']();_0x5ba16d[0x0]!==_0x2940b8&&(_0x494d0f['uniform1i'](this['addr'],_0x2940b8),_0x5ba16d[0x0]=_0x2940b8),_0x55487c['setTexture2DArray'](_0x6bfd12||_0x55a558,_0x2940b8);}function _0x2fc17d(_0x3875a5,_0x5b4e75){_0x3875a5['uniform1fv'](this['addr'],_0x5b4e75);}function _0x4ae004(_0x159886,_0x4eaf46){const _0x511e3c=_0x563feb(_0x4eaf46,this['size'],0x2);_0x159886['uniform2fv'](this['addr'],_0x511e3c);}function _0x3c7809(_0x520237,_0x2661ed){const _0x195787=_0x563feb(_0x2661ed,this['size'],0x3);_0x520237['uniform3fv'](this['addr'],_0x195787);}function _0x4fdf11(_0xd1dd4d,_0x5ae607){const _0x5f3ab9=_0x563feb(_0x5ae607,this['size'],0x4);_0xd1dd4d['uniform4fv'](this['addr'],_0x5f3ab9);}function _0x17aff8(_0x39f8b8,_0xdbc9b5){const _0x236129=_0x563feb(_0xdbc9b5,this['size'],0x4);_0x39f8b8['uniformMatrix2fv'](this['addr'],!0x1,_0x236129);}function _0x352f3c(_0x217d43,_0x33cdd0){const _0x219124=_0x563feb(_0x33cdd0,this['size'],0x9);_0x217d43['uniformMatrix3fv'](this['addr'],!0x1,_0x219124);}function _0xc2909c(_0x1bd743,_0x303a34){const _0x392354=_0x563feb(_0x303a34,this['size'],0x10);_0x1bd743['uniformMatrix4fv'](this['addr'],!0x1,_0x392354);}function _0x4ffc60(_0x18d350,_0x3d4e00){_0x18d350['uniform1iv'](this['addr'],_0x3d4e00);}function _0x47d998(_0x53b4f1,_0x3f6ba9){_0x53b4f1['uniform2iv'](this['addr'],_0x3f6ba9);}function _0x37344b(_0x3a8af6,_0x1daaec){_0x3a8af6['uniform3iv'](this['addr'],_0x1daaec);}function _0x518bb2(_0x4a0ded,_0x135a60){_0x4a0ded['uniform4iv'](this['addr'],_0x135a60);}function _0xc7bc24(_0x417cd8,_0x3063ce){_0x417cd8['uniform1uiv'](this['addr'],_0x3063ce);}function _0x5e29d0(_0x550559,_0xa1ac35){_0x550559['uniform2uiv'](this['addr'],_0xa1ac35);}function _0x2d6df5(_0x5ab765,_0x55a785){_0x5ab765['uniform3uiv'](this['addr'],_0x55a785);}function _0xa0f7cd(_0x3435c0,_0x4446fb){_0x3435c0['uniform4uiv'](this['addr'],_0x4446fb);}function _0x206b66(_0x62f9c3,_0x4c914a,_0x5aa185){const _0x57b23e=this['cache'],_0x3cb5a8=_0x4c914a['length'],_0x4c26c0=_0x565fe4(_0x5aa185,_0x3cb5a8);_0x24fdc3(_0x57b23e,_0x4c26c0)||(_0x62f9c3['uniform1iv'](this['addr'],_0x4c26c0),_0x454be2(_0x57b23e,_0x4c26c0));for(let _0x5d9afb=0x0;_0x5d9afb!==_0x3cb5a8;++_0x5d9afb)_0x5aa185['setTexture2D'](_0x4c914a[_0x5d9afb]||_0x4d34eb,_0x4c26c0[_0x5d9afb]);}function _0x406a14(_0x582008,_0x512482,_0x1e23e2){const _0x4e5f78=this['cache'],_0x5f21bf=_0x512482['length'],_0x5ddcce=_0x565fe4(_0x1e23e2,_0x5f21bf);_0x24fdc3(_0x4e5f78,_0x5ddcce)||(_0x582008['uniform1iv'](this['addr'],_0x5ddcce),_0x454be2(_0x4e5f78,_0x5ddcce));for(let _0x58036f=0x0;_0x58036f!==_0x5f21bf;++_0x58036f)_0x1e23e2['setTexture3D'](_0x512482[_0x58036f]||_0x3eab8d,_0x5ddcce[_0x58036f]);}function _0x930726(_0x24ac5f,_0x356400,_0x244e2a){const _0x298c59=this['cache'],_0x5949db=_0x356400['length'],_0x519a49=_0x565fe4(_0x244e2a,_0x5949db);_0x24fdc3(_0x298c59,_0x519a49)||(_0x24ac5f['uniform1iv'](this['addr'],_0x519a49),_0x454be2(_0x298c59,_0x519a49));for(let _0x4f5a43=0x0;_0x4f5a43!==_0x5949db;++_0x4f5a43)_0x244e2a['setTextureCube'](_0x356400[_0x4f5a43]||_0x28d0f9,_0x519a49[_0x4f5a43]);}function _0x3f7765(_0x5c3a39,_0x11b888,_0x2f206b){const _0x27d6a8=this['cache'],_0x4f062b=_0x11b888['length'],_0x48c215=_0x565fe4(_0x2f206b,_0x4f062b);_0x24fdc3(_0x27d6a8,_0x48c215)||(_0x5c3a39['uniform1iv'](this['addr'],_0x48c215),_0x454be2(_0x27d6a8,_0x48c215));for(let _0x419f5a=0x0;_0x419f5a!==_0x4f062b;++_0x419f5a)_0x2f206b['setTexture2DArray'](_0x11b888[_0x419f5a]||_0x55a558,_0x48c215[_0x419f5a]);}class _0x3c0f8e{constructor(_0xb7d306,_0x2318bc,_0x5459ce){this['id']=_0xb7d306,this['addr']=_0x5459ce,this['cache']=[],this['type']=_0x2318bc['type'],this['setValue']=function(_0x291b33){switch(_0x291b33){case 0x1406:return _0x3c2268;case 0x8b50:return _0x5c2159;case 0x8b51:return _0x2bebf8;case 0x8b52:return _0x3820bd;case 0x8b5a:return _0x40aaec;case 0x8b5b:return _0x7f86b5;case 0x8b5c:return _0x283f54;case 0x1404:case 0x8b56:return _0x31f241;case 0x8b53:case 0x8b57:return _0x506bcd;case 0x8b54:case 0x8b58:return _0x37fd38;case 0x8b55:case 0x8b59:return _0x512ff6;case 0x1405:return _0x3bdbee;case 0x8dc6:return _0x4ee74e;case 0x8dc7:return _0x2def5e;case 0x8dc8:return _0x4dbec6;case 0x8b5e:case 0x8d66:case 0x8dca:case 0x8dd2:case 0x8b62:return _0x245841;case 0x8b5f:case 0x8dcb:case 0x8dd3:return _0x5e8f59;case 0x8b60:case 0x8dcc:case 0x8dd4:case 0x8dc5:return _0x421434;case 0x8dc1:case 0x8dcf:case 0x8dd7:case 0x8dc4:return _0x9af051;}}(_0x2318bc['type']);}}class _0x2c9123{constructor(_0x441c13,_0xbcd890,_0x6d7e3f){this['id']=_0x441c13,this['addr']=_0x6d7e3f,this['cache']=[],this['type']=_0xbcd890['type'],this['size']=_0xbcd890['size'],this['setValue']=function(_0x50078a){switch(_0x50078a){case 0x1406:return _0x2fc17d;case 0x8b50:return _0x4ae004;case 0x8b51:return _0x3c7809;case 0x8b52:return _0x4fdf11;case 0x8b5a:return _0x17aff8;case 0x8b5b:return _0x352f3c;case 0x8b5c:return _0xc2909c;case 0x1404:case 0x8b56:return _0x4ffc60;case 0x8b53:case 0x8b57:return _0x47d998;case 0x8b54:case 0x8b58:return _0x37344b;case 0x8b55:case 0x8b59:return _0x518bb2;case 0x1405:return _0xc7bc24;case 0x8dc6:return _0x5e29d0;case 0x8dc7:return _0x2d6df5;case 0x8dc8:return _0xa0f7cd;case 0x8b5e:case 0x8d66:case 0x8dca:case 0x8dd2:case 0x8b62:return _0x206b66;case 0x8b5f:case 0x8dcb:case 0x8dd3:return _0x406a14;case 0x8b60:case 0x8dcc:case 0x8dd4:case 0x8dc5:return _0x930726;case 0x8dc1:case 0x8dcf:case 0x8dd7:case 0x8dc4:return _0x3f7765;}}(_0xbcd890['type']);}}class _0x44c358{constructor(_0x350cac){this['id']=_0x350cac,this['seq']=[],this['map']={};}['setValue'](_0x2d15f8,_0x1b3a11,_0x3ff516){const _0xb8e847=this['seq'];for(let _0x410499=0x0,_0xaebc3=_0xb8e847['length'];_0x410499!==_0xaebc3;++_0x410499){const _0x201e6d=_0xb8e847[_0x410499];_0x201e6d['setValue'](_0x2d15f8,_0x1b3a11[_0x201e6d['id']],_0x3ff516);}}}const _0x2f4ec0=/(\w+)(\])?(\[|\.)?/g;function _0x141e9d(_0x370a0b,_0x83e4e5){_0x370a0b['seq']['push'](_0x83e4e5),_0x370a0b['map'][_0x83e4e5['id']]=_0x83e4e5;}function _0x4dd645(_0x1105d4,_0x4ba9d7,_0x19f3a2){const _0x8e723f=_0x1105d4['name'],_0x3eebdf=_0x8e723f['length'];for(_0x2f4ec0['lastIndex']=0x0;;){const _0x42b902=_0x2f4ec0['exec'](_0x8e723f),_0x2fba96=_0x2f4ec0['lastIndex'];let _0x3e27f5=_0x42b902[0x1];const _0x4de850=']'===_0x42b902[0x2],_0x308b54=_0x42b902[0x3];if(_0x4de850&&(_0x3e27f5|=0x0),void 0x0===_0x308b54||'['===_0x308b54&&_0x2fba96+0x2===_0x3eebdf){_0x141e9d(_0x19f3a2,void 0x0===_0x308b54?new _0x3c0f8e(_0x3e27f5,_0x1105d4,_0x4ba9d7):new _0x2c9123(_0x3e27f5,_0x1105d4,_0x4ba9d7));break;}{let _0x1daadf=_0x19f3a2['map'][_0x3e27f5];void 0x0===_0x1daadf&&(_0x1daadf=new _0x44c358(_0x3e27f5),_0x141e9d(_0x19f3a2,_0x1daadf)),_0x19f3a2=_0x1daadf;}}}class _0x5ab3bb{constructor(_0x1bc2a2,_0xf9a079){this['seq']=[],this['map']={};const _0x3dd846=_0x1bc2a2['getProgramParameter'](_0xf9a079,_0x1bc2a2['ACTIVE_UNIFORMS']);for(let _0x27dd8b=0x0;_0x27dd8b<_0x3dd846;++_0x27dd8b){const _0x376485=_0x1bc2a2['getActiveUniform'](_0xf9a079,_0x27dd8b);_0x4dd645(_0x376485,_0x1bc2a2['getUniformLocation'](_0xf9a079,_0x376485['name']),this);}}['setValue'](_0x19dffe,_0x132642,_0x44548d,_0x1106ca){const _0x18f227=this['map'][_0x132642];void 0x0!==_0x18f227&&_0x18f227['setValue'](_0x19dffe,_0x44548d,_0x1106ca);}['setOptional'](_0x133856,_0x54c435,_0x184ed1){const _0x16a3d1=_0x54c435[_0x184ed1];void 0x0!==_0x16a3d1&&this['setValue'](_0x133856,_0x184ed1,_0x16a3d1);}static['upload'](_0x30e384,_0x254e49,_0x3cef8a,_0x4ab2b5){for(let _0x47b00f=0x0,_0x90311=_0x254e49['length'];_0x47b00f!==_0x90311;++_0x47b00f){const _0x5240cd=_0x254e49[_0x47b00f],_0x1854d7=_0x3cef8a[_0x5240cd['id']];!0x1!==_0x1854d7['needsUpdate']&&_0x5240cd['setValue'](_0x30e384,_0x1854d7['value'],_0x4ab2b5);}}static['seqWithValue'](_0x5c518e,_0x3c12e7){const _0x5a91ae=[];for(let _0x4c4e16=0x0,_0x51c053=_0x5c518e['length'];_0x4c4e16!==_0x51c053;++_0x4c4e16){const _0x440dd7=_0x5c518e[_0x4c4e16];_0x440dd7['id']in _0x3c12e7&&_0x5a91ae['push'](_0x440dd7);}return _0x5a91ae;}}function _0x134224(_0x1b167,_0x534dba,_0x5d2039){const _0x2abc2f=_0x1b167['createShader'](_0x534dba);return _0x1b167['shaderSource'](_0x2abc2f,_0x5d2039),_0x1b167['compileShader'](_0x2abc2f),_0x2abc2f;}const _0x283036=0x91b1;let _0x30b230=0x0;const _0x254361=new _0x923951['dwI']();function _0x54f482(_0x1ccf0b,_0x5a6fc4,_0xed833f){const _0x575a5a=_0x1ccf0b['getShaderParameter'](_0x5a6fc4,_0x1ccf0b['COMPILE_STATUS']),_0x2a901d=_0x1ccf0b['getShaderInfoLog'](_0x5a6fc4)['trim']();if(_0x575a5a&&''===_0x2a901d)return'';const _0x270556=/ERROR: 0:(\d+)/['exec'](_0x2a901d);if(_0x270556){const _0x18b19d=parseInt(_0x270556[0x1]);return _0xed833f['toUpperCase']()+'\x0a\x0a'+_0x2a901d+'\x0a\x0a'+function(_0x33bafa,_0x47a704){const _0x172263=_0x33bafa['split']('\x0a'),_0x44c82a=[],_0x357328=Math['max'](_0x47a704-0x6,0x0),_0x1bbf74=Math['min'](_0x47a704+0x6,_0x172263['length']);for(let _0x47ac3d=_0x357328;_0x47ac3d<_0x1bbf74;_0x47ac3d++){const _0x40f4fa=_0x47ac3d+0x1;_0x44c82a['push']((_0x40f4fa===_0x47a704?'>':'\x20')+'\x20'+_0x40f4fa+':\x20'+_0x172263[_0x47ac3d]);}return _0x44c82a['join']('\x0a');}(_0x1ccf0b['getShaderSource'](_0x5a6fc4),_0x18b19d);}return _0x2a901d;}function _0x14f3ac(_0x5434f2,_0xe33c02){const _0x8f8c87=function(_0x1eb1c0){_0x923951['ppV']['_getMatrix'](_0x254361,_0x923951['ppV']['workingColorSpace'],_0x1eb1c0);const _0x344777='mat3(\x20'+_0x254361['elements']['map'](_0x4afcea=>_0x4afcea['toFixed'](0x4))+'\x20)';switch(_0x923951['ppV']['getTransfer'](_0x1eb1c0)){case _0x923951['VxR']:return[_0x344777,'LinearTransferOETF'];case _0x923951['KLL']:return[_0x344777,'sRGBTransferOETF'];default:return console['warn']('THREE.WebGLProgram:\x20Unsupported\x20color\x20space:\x20',_0x1eb1c0),[_0x344777,'LinearTransferOETF'];}}(_0xe33c02);return['vec4\x20'+_0x5434f2+'(\x20vec4\x20value\x20)\x20{','\x09return\x20'+_0x8f8c87[0x1]+'(\x20vec4(\x20value.rgb\x20*\x20'+_0x8f8c87[0x0]+',\x20value.a\x20)\x20);','}']['join']('\x0a');}function _0x293383(_0x260fec,_0x268ef8){let _0x11da01;switch(_0x268ef8){case _0x923951['kyO']:_0x11da01='Linear';break;case _0x923951['Mjd']:_0x11da01='Reinhard';break;case _0x923951['nNL']:_0x11da01='Cineon';break;case _0x923951['FV']:_0x11da01='ACESFilmic';break;case _0x923951['LAk']:_0x11da01='AgX';break;case _0x923951['aJ8']:_0x11da01='Neutral';break;case _0x923951['g7M']:_0x11da01='Custom';break;default:console['warn']('THREE.WebGLProgram:\x20Unsupported\x20toneMapping:',_0x268ef8),_0x11da01='Linear';}return'vec3\x20'+_0x260fec+'(\x20vec3\x20color\x20)\x20{\x20return\x20'+_0x11da01+'ToneMapping(\x20color\x20);\x20}';}const _0x43368c=new _0x923951['Pq0']();function _0x235dd6(){return _0x923951['ppV']['getLuminanceCoefficients'](_0x43368c),['float\x20luminance(\x20const\x20in\x20vec3\x20rgb\x20)\x20{','\x09const\x20vec3\x20weights\x20=\x20vec3(\x20'+_0x43368c['x']['toFixed'](0x4)+',\x20'+_0x43368c['y']['toFixed'](0x4)+',\x20'+_0x43368c['z']['toFixed'](0x4)+'\x20);','\x09return\x20dot(\x20weights,\x20rgb\x20);','}']['join']('\x0a');}function _0x2e932d(_0x47ee65){return''!==_0x47ee65;}function _0x5ad46d(_0x23d94d,_0x5b70b6){const _0x30a5b6=_0x5b70b6['numSpotLightShadows']+_0x5b70b6['numSpotLightMaps']-_0x5b70b6['numSpotLightShadowsWithMaps'];return _0x23d94d['replace'](/NUM_DIR_LIGHTS/g,_0x5b70b6['numDirLights'])['replace'](/NUM_SPOT_LIGHTS/g,_0x5b70b6['numSpotLights'])['replace'](/NUM_SPOT_LIGHT_MAPS/g,_0x5b70b6['numSpotLightMaps'])['replace'](/NUM_SPOT_LIGHT_COORDS/g,_0x30a5b6)['replace'](/NUM_RECT_AREA_LIGHTS/g,_0x5b70b6['numRectAreaLights'])['replace'](/NUM_POINT_LIGHTS/g,_0x5b70b6['numPointLights'])['replace'](/NUM_HEMI_LIGHTS/g,_0x5b70b6['numHemiLights'])['replace'](/NUM_DIR_LIGHT_SHADOWS/g,_0x5b70b6['numDirLightShadows'])['replace'](/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,_0x5b70b6['numSpotLightShadowsWithMaps'])['replace'](/NUM_SPOT_LIGHT_SHADOWS/g,_0x5b70b6['numSpotLightShadows'])['replace'](/NUM_POINT_LIGHT_SHADOWS/g,_0x5b70b6['numPointLightShadows']);}function _0x15f631(_0x300f07,_0x4119a1){return _0x300f07['replace'](/NUM_CLIPPING_PLANES/g,_0x4119a1['numClippingPlanes'])['replace'](/UNION_CLIPPING_PLANES/g,_0x4119a1['numClippingPlanes']-_0x4119a1['numClipIntersection']);}const _0x4f8a99=/^[ \t]*#include +<([\w\d./]+)>/gm;function _0x229dc9(_0x45892c){return _0x45892c['replace'](_0x4f8a99,_0x2bd8b4);}const _0x386549=new Map();function _0x2bd8b4(_0x308189,_0x69542c){let _0x4fb228=_0x4a2f7f[_0x69542c];if(void 0x0===_0x4fb228){const _0x1b5ad9=_0x386549['get'](_0x69542c);if(void 0x0===_0x1b5ad9)throw new Error('Can\x20not\x20resolve\x20#include\x20<'+_0x69542c+'>');_0x4fb228=_0x4a2f7f[_0x1b5ad9],console['warn']('THREE.WebGLRenderer:\x20Shader\x20chunk\x20\x22%s\x22\x20has\x20been\x20deprecated.\x20Use\x20\x22%s\x22\x20instead.',_0x69542c,_0x1b5ad9);}return _0x229dc9(_0x4fb228);}const _0x1eda28=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function _0x41005d(_0x31de4c){return _0x31de4c['replace'](_0x1eda28,_0x240754);}function _0x240754(_0x9d680b,_0x76bc05,_0x4f8591,_0x130702){let _0x343e78='';for(let _0x72903e=parseInt(_0x76bc05);_0x72903e<parseInt(_0x4f8591);_0x72903e++)_0x343e78+=_0x130702['replace'](/\[\s*i\s*\]/g,'[\x20'+_0x72903e+'\x20]')['replace'](/UNROLLED_LOOP_INDEX/g,_0x72903e);return _0x343e78;}function _0x48bb02(_0x477f09){let _0x14e748='precision\x20'+_0x477f09['precision']+'\x20float;\x0a\x09precision\x20'+_0x477f09['precision']+'\x20int;\x0a\x09precision\x20'+_0x477f09['precision']+'\x20sampler2D;\x0a\x09precision\x20'+_0x477f09['precision']+'\x20samplerCube;\x0a\x09precision\x20'+_0x477f09['precision']+'\x20sampler3D;\x0a\x09precision\x20'+_0x477f09['precision']+'\x20sampler2DArray;\x0a\x09precision\x20'+_0x477f09['precision']+'\x20sampler2DShadow;\x0a\x09precision\x20'+_0x477f09['precision']+'\x20samplerCubeShadow;\x0a\x09precision\x20'+_0x477f09['precision']+'\x20sampler2DArrayShadow;\x0a\x09precision\x20'+_0x477f09['precision']+'\x20isampler2D;\x0a\x09precision\x20'+_0x477f09['precision']+'\x20isampler3D;\x0a\x09precision\x20'+_0x477f09['precision']+'\x20isamplerCube;\x0a\x09precision\x20'+_0x477f09['precision']+'\x20isampler2DArray;\x0a\x09precision\x20'+_0x477f09['precision']+'\x20usampler2D;\x0a\x09precision\x20'+_0x477f09['precision']+'\x20usampler3D;\x0a\x09precision\x20'+_0x477f09['precision']+'\x20usamplerCube;\x0a\x09precision\x20'+_0x477f09['precision']+'\x20usampler2DArray;\x0a\x09';return'highp'===_0x477f09['precision']?_0x14e748+='\x0a#define\x20HIGH_PRECISION':'mediump'===_0x477f09['precision']?_0x14e748+='\x0a#define\x20MEDIUM_PRECISION':'lowp'===_0x477f09['precision']&&(_0x14e748+='\x0a#define\x20LOW_PRECISION'),_0x14e748;}function _0xe6fe97(_0x5ba61a,_0x35f003,_0x3af3c4,_0x2d30c2){const _0x54640b=_0x5ba61a['getContext'](),_0x43d388=_0x3af3c4['defines'];let _0x4f8e9d=_0x3af3c4['vertexShader'],_0x2a986b=_0x3af3c4['fragmentShader'];const _0x5bf85c=function(_0x3e0d70){let _0x584497='SHADOWMAP_TYPE_BASIC';return _0x3e0d70['shadowMapType']===_0x923951['QP0']?_0x584497='SHADOWMAP_TYPE_PCF':_0x3e0d70['shadowMapType']===_0x923951['Wk7']?_0x584497='SHADOWMAP_TYPE_PCF_SOFT':_0x3e0d70['shadowMapType']===_0x923951['RyA']&&(_0x584497='SHADOWMAP_TYPE_VSM'),_0x584497;}(_0x3af3c4),_0x13b1db=function(_0xf6c7c0){let _0x5dc897='ENVMAP_TYPE_CUBE';if(_0xf6c7c0['envMap'])switch(_0xf6c7c0['envMapMode']){case _0x923951['hy7']:case _0x923951['xFO']:_0x5dc897='ENVMAP_TYPE_CUBE';break;case _0x923951['Om']:_0x5dc897='ENVMAP_TYPE_CUBE_UV';}return _0x5dc897;}(_0x3af3c4),_0x1fe04a=function(_0x1c095c){let _0x1bc426='ENVMAP_MODE_REFLECTION';return _0x1c095c['envMap']&&_0x1c095c['envMapMode']===_0x923951['xFO']&&(_0x1bc426='ENVMAP_MODE_REFRACTION'),_0x1bc426;}(_0x3af3c4),_0x119e94=function(_0x535b1b){let _0x1107cf='ENVMAP_BLENDING_NONE';if(_0x535b1b['envMap'])switch(_0x535b1b['combine']){case _0x923951['caT']:_0x1107cf='ENVMAP_BLENDING_MULTIPLY';break;case _0x923951['KRh']:_0x1107cf='ENVMAP_BLENDING_MIX';break;case _0x923951['XrR']:_0x1107cf='ENVMAP_BLENDING_ADD';}return _0x1107cf;}(_0x3af3c4),_0x67039d=function(_0x585810){const _0x3b8f20=_0x585810['envMapCubeUVHeight'];if(null===_0x3b8f20)return null;const _0x56e564=Math['log2'](_0x3b8f20)-0x2,_0x4ef165=0x1/_0x3b8f20;return{'texelWidth':0x1/(0x3*Math['max'](Math['pow'](0x2,_0x56e564),0x70)),'texelHeight':_0x4ef165,'maxMip':_0x56e564};}(_0x3af3c4),_0x82e0e3=function(_0x5b9ca2){return[_0x5b9ca2['extensionClipCullDistance']?'#extension\x20GL_ANGLE_clip_cull_distance\x20:\x20require':'',_0x5b9ca2['extensionMultiDraw']?'#extension\x20GL_ANGLE_multi_draw\x20:\x20require':'']['filter'](_0x2e932d)['join']('\x0a');}(_0x3af3c4),_0x48278e=function(_0x3a07e7){const _0xf283ad=[];for(const _0x23ce75 in _0x3a07e7){const _0x4a7803=_0x3a07e7[_0x23ce75];!0x1!==_0x4a7803&&_0xf283ad['push']('#define\x20'+_0x23ce75+'\x20'+_0x4a7803);}return _0xf283ad['join']('\x0a');}(_0x43d388),_0x21da77=_0x54640b['createProgram']();let _0x470d25,_0x248704,_0x102455=_0x3af3c4['glslVersion']?'#version\x20'+_0x3af3c4['glslVersion']+'\x0a':'';_0x3af3c4['isRawShaderMaterial']?(_0x470d25=['#define\x20SHADER_TYPE\x20'+_0x3af3c4['shaderType'],'#define\x20SHADER_NAME\x20'+_0x3af3c4['shaderName'],_0x48278e]['filter'](_0x2e932d)['join']('\x0a'),_0x470d25['length']>0x0&&(_0x470d25+='\x0a'),_0x248704=['#define\x20SHADER_TYPE\x20'+_0x3af3c4['shaderType'],'#define\x20SHADER_NAME\x20'+_0x3af3c4['shaderName'],_0x48278e]['filter'](_0x2e932d)['join']('\x0a'),_0x248704['length']>0x0&&(_0x248704+='\x0a')):(_0x470d25=[_0x48bb02(_0x3af3c4),'#define\x20SHADER_TYPE\x20'+_0x3af3c4['shaderType'],'#define\x20SHADER_NAME\x20'+_0x3af3c4['shaderName'],_0x48278e,_0x3af3c4['extensionClipCullDistance']?'#define\x20USE_CLIP_DISTANCE':'',_0x3af3c4['batching']?'#define\x20USE_BATCHING':'',_0x3af3c4['batchingColor']?'#define\x20USE_BATCHING_COLOR':'',_0x3af3c4['instancing']?'#define\x20USE_INSTANCING':'',_0x3af3c4['instancingColor']?'#define\x20USE_INSTANCING_COLOR':'',_0x3af3c4['instancingMorph']?'#define\x20USE_INSTANCING_MORPH':'',_0x3af3c4['useFog']&&_0x3af3c4['fog']?'#define\x20USE_FOG':'',_0x3af3c4['useFog']&&_0x3af3c4['fogExp2']?'#define\x20FOG_EXP2':'',_0x3af3c4['map']?'#define\x20USE_MAP':'',_0x3af3c4['envMap']?'#define\x20USE_ENVMAP':'',_0x3af3c4['envMap']?'#define\x20'+_0x1fe04a:'',_0x3af3c4['lightMap']?'#define\x20USE_LIGHTMAP':'',_0x3af3c4['aoMap']?'#define\x20USE_AOMAP':'',_0x3af3c4['bumpMap']?'#define\x20USE_BUMPMAP':'',_0x3af3c4['normalMap']?'#define\x20USE_NORMALMAP':'',_0x3af3c4['normalMapObjectSpace']?'#define\x20USE_NORMALMAP_OBJECTSPACE':'',_0x3af3c4['normalMapTangentSpace']?'#define\x20USE_NORMALMAP_TANGENTSPACE':'',_0x3af3c4['displacementMap']?'#define\x20USE_DISPLACEMENTMAP':'',_0x3af3c4['emissiveMap']?'#define\x20USE_EMISSIVEMAP':'',_0x3af3c4['anisotropy']?'#define\x20USE_ANISOTROPY':'',_0x3af3c4['anisotropyMap']?'#define\x20USE_ANISOTROPYMAP':'',_0x3af3c4['clearcoatMap']?'#define\x20USE_CLEARCOATMAP':'',_0x3af3c4['clearcoatRoughnessMap']?'#define\x20USE_CLEARCOAT_ROUGHNESSMAP':'',_0x3af3c4['clearcoatNormalMap']?'#define\x20USE_CLEARCOAT_NORMALMAP':'',_0x3af3c4['iridescenceMap']?'#define\x20USE_IRIDESCENCEMAP':'',_0x3af3c4['iridescenceThicknessMap']?'#define\x20USE_IRIDESCENCE_THICKNESSMAP':'',_0x3af3c4['specularMap']?'#define\x20USE_SPECULARMAP':'',_0x3af3c4['specularColorMap']?'#define\x20USE_SPECULAR_COLORMAP':'',_0x3af3c4['specularIntensityMap']?'#define\x20USE_SPECULAR_INTENSITYMAP':'',_0x3af3c4['roughnessMap']?'#define\x20USE_ROUGHNESSMAP':'',_0x3af3c4['metalnessMap']?'#define\x20USE_METALNESSMAP':'',_0x3af3c4['alphaMap']?'#define\x20USE_ALPHAMAP':'',_0x3af3c4['alphaHash']?'#define\x20USE_ALPHAHASH':'',_0x3af3c4['transmission']?'#define\x20USE_TRANSMISSION':'',_0x3af3c4['transmissionMap']?'#define\x20USE_TRANSMISSIONMAP':'',_0x3af3c4['thicknessMap']?'#define\x20USE_THICKNESSMAP':'',_0x3af3c4['sheenColorMap']?'#define\x20USE_SHEEN_COLORMAP':'',_0x3af3c4['sheenRoughnessMap']?'#define\x20USE_SHEEN_ROUGHNESSMAP':'',_0x3af3c4['mapUv']?'#define\x20MAP_UV\x20'+_0x3af3c4['mapUv']:'',_0x3af3c4['alphaMapUv']?'#define\x20ALPHAMAP_UV\x20'+_0x3af3c4['alphaMapUv']:'',_0x3af3c4['lightMapUv']?'#define\x20LIGHTMAP_UV\x20'+_0x3af3c4['lightMapUv']:'',_0x3af3c4['aoMapUv']?'#define\x20AOMAP_UV\x20'+_0x3af3c4['aoMapUv']:'',_0x3af3c4['emissiveMapUv']?'#define\x20EMISSIVEMAP_UV\x20'+_0x3af3c4['emissiveMapUv']:'',_0x3af3c4['bumpMapUv']?'#define\x20BUMPMAP_UV\x20'+_0x3af3c4['bumpMapUv']:'',_0x3af3c4['normalMapUv']?'#define\x20NORMALMAP_UV\x20'+_0x3af3c4['normalMapUv']:'',_0x3af3c4['displacementMapUv']?'#define\x20DISPLACEMENTMAP_UV\x20'+_0x3af3c4['displacementMapUv']:'',_0x3af3c4['metalnessMapUv']?'#define\x20METALNESSMAP_UV\x20'+_0x3af3c4['metalnessMapUv']:'',_0x3af3c4['roughnessMapUv']?'#define\x20ROUGHNESSMAP_UV\x20'+_0x3af3c4['roughnessMapUv']:'',_0x3af3c4['anisotropyMapUv']?'#define\x20ANISOTROPYMAP_UV\x20'+_0x3af3c4['anisotropyMapUv']:'',_0x3af3c4['clearcoatMapUv']?'#define\x20CLEARCOATMAP_UV\x20'+_0x3af3c4['clearcoatMapUv']:'',_0x3af3c4['clearcoatNormalMapUv']?'#define\x20CLEARCOAT_NORMALMAP_UV\x20'+_0x3af3c4['clearcoatNormalMapUv']:'',_0x3af3c4['clearcoatRoughnessMapUv']?'#define\x20CLEARCOAT_ROUGHNESSMAP_UV\x20'+_0x3af3c4['clearcoatRoughnessMapUv']:'',_0x3af3c4['iridescenceMapUv']?'#define\x20IRIDESCENCEMAP_UV\x20'+_0x3af3c4['iridescenceMapUv']:'',_0x3af3c4['iridescenceThicknessMapUv']?'#define\x20IRIDESCENCE_THICKNESSMAP_UV\x20'+_0x3af3c4['iridescenceThicknessMapUv']:'',_0x3af3c4['sheenColorMapUv']?'#define\x20SHEEN_COLORMAP_UV\x20'+_0x3af3c4['sheenColorMapUv']:'',_0x3af3c4['sheenRoughnessMapUv']?'#define\x20SHEEN_ROUGHNESSMAP_UV\x20'+_0x3af3c4['sheenRoughnessMapUv']:'',_0x3af3c4['specularMapUv']?'#define\x20SPECULARMAP_UV\x20'+_0x3af3c4['specularMapUv']:'',_0x3af3c4['specularColorMapUv']?'#define\x20SPECULAR_COLORMAP_UV\x20'+_0x3af3c4['specularColorMapUv']:'',_0x3af3c4['specularIntensityMapUv']?'#define\x20SPECULAR_INTENSITYMAP_UV\x20'+_0x3af3c4['specularIntensityMapUv']:'',_0x3af3c4['transmissionMapUv']?'#define\x20TRANSMISSIONMAP_UV\x20'+_0x3af3c4['transmissionMapUv']:'',_0x3af3c4['thicknessMapUv']?'#define\x20THICKNESSMAP_UV\x20'+_0x3af3c4['thicknessMapUv']:'',_0x3af3c4['vertexTangents']&&!0x1===_0x3af3c4['flatShading']?'#define\x20USE_TANGENT':'',_0x3af3c4['vertexColors']?'#define\x20USE_COLOR':'',_0x3af3c4['vertexAlphas']?'#define\x20USE_COLOR_ALPHA':'',_0x3af3c4['vertexUv1s']?'#define\x20USE_UV1':'',_0x3af3c4['vertexUv2s']?'#define\x20USE_UV2':'',_0x3af3c4['vertexUv3s']?'#define\x20USE_UV3':'',_0x3af3c4['pointsUvs']?'#define\x20USE_POINTS_UV':'',_0x3af3c4['flatShading']?'#define\x20FLAT_SHADED':'',_0x3af3c4['skinning']?'#define\x20USE_SKINNING':'',_0x3af3c4['morphTargets']?'#define\x20USE_MORPHTARGETS':'',_0x3af3c4['morphNormals']&&!0x1===_0x3af3c4['flatShading']?'#define\x20USE_MORPHNORMALS':'',_0x3af3c4['morphColors']?'#define\x20USE_MORPHCOLORS':'',_0x3af3c4['morphTargetsCount']>0x0?'#define\x20MORPHTARGETS_TEXTURE_STRIDE\x20'+_0x3af3c4['morphTextureStride']:'',_0x3af3c4['morphTargetsCount']>0x0?'#define\x20MORPHTARGETS_COUNT\x20'+_0x3af3c4['morphTargetsCount']:'',_0x3af3c4['doubleSided']?'#define\x20DOUBLE_SIDED':'',_0x3af3c4['flipSided']?'#define\x20FLIP_SIDED':'',_0x3af3c4['shadowMapEnabled']?'#define\x20USE_SHADOWMAP':'',_0x3af3c4['shadowMapEnabled']?'#define\x20'+_0x5bf85c:'',_0x3af3c4['sizeAttenuation']?'#define\x20USE_SIZEATTENUATION':'',_0x3af3c4['numLightProbes']>0x0?'#define\x20USE_LIGHT_PROBES':'',_0x3af3c4['logarithmicDepthBuffer']?'#define\x20USE_LOGDEPTHBUF':'',_0x3af3c4['reverseDepthBuffer']?'#define\x20USE_REVERSEDEPTHBUF':'','uniform\x20mat4\x20modelMatrix;','uniform\x20mat4\x20modelViewMatrix;','uniform\x20mat4\x20projectionMatrix;','uniform\x20mat4\x20viewMatrix;','uniform\x20mat3\x20normalMatrix;','uniform\x20vec3\x20cameraPosition;','uniform\x20bool\x20isOrthographic;','#ifdef\x20USE_INSTANCING','\x09attribute\x20mat4\x20instanceMatrix;','#endif','#ifdef\x20USE_INSTANCING_COLOR','\x09attribute\x20vec3\x20instanceColor;','#endif','#ifdef\x20USE_INSTANCING_MORPH','\x09uniform\x20sampler2D\x20morphTexture;','#endif','attribute\x20vec3\x20position;','attribute\x20vec3\x20normal;','attribute\x20vec2\x20uv;','#ifdef\x20USE_UV1','\x09attribute\x20vec2\x20uv1;','#endif','#ifdef\x20USE_UV2','\x09attribute\x20vec2\x20uv2;','#endif','#ifdef\x20USE_UV3','\x09attribute\x20vec2\x20uv3;','#endif','#ifdef\x20USE_TANGENT','\x09attribute\x20vec4\x20tangent;','#endif','#if\x20defined(\x20USE_COLOR_ALPHA\x20)','\x09attribute\x20vec4\x20color;','#elif\x20defined(\x20USE_COLOR\x20)','\x09attribute\x20vec3\x20color;','#endif','#ifdef\x20USE_SKINNING','\x09attribute\x20vec4\x20skinIndex;','\x09attribute\x20vec4\x20skinWeight;','#endif','\x0a']['filter'](_0x2e932d)['join']('\x0a'),_0x248704=[_0x48bb02(_0x3af3c4),'#define\x20SHADER_TYPE\x20'+_0x3af3c4['shaderType'],'#define\x20SHADER_NAME\x20'+_0x3af3c4['shaderName'],_0x48278e,_0x3af3c4['useFog']&&_0x3af3c4['fog']?'#define\x20USE_FOG':'',_0x3af3c4['useFog']&&_0x3af3c4['fogExp2']?'#define\x20FOG_EXP2':'',_0x3af3c4['alphaToCoverage']?'#define\x20ALPHA_TO_COVERAGE':'',_0x3af3c4['map']?'#define\x20USE_MAP':'',_0x3af3c4['matcap']?'#define\x20USE_MATCAP':'',_0x3af3c4['envMap']?'#define\x20USE_ENVMAP':'',_0x3af3c4['envMap']?'#define\x20'+_0x13b1db:'',_0x3af3c4['envMap']?'#define\x20'+_0x1fe04a:'',_0x3af3c4['envMap']?'#define\x20'+_0x119e94:'',_0x67039d?'#define\x20CUBEUV_TEXEL_WIDTH\x20'+_0x67039d['texelWidth']:'',_0x67039d?'#define\x20CUBEUV_TEXEL_HEIGHT\x20'+_0x67039d['texelHeight']:'',_0x67039d?'#define\x20CUBEUV_MAX_MIP\x20'+_0x67039d['maxMip']+'.0':'',_0x3af3c4['lightMap']?'#define\x20USE_LIGHTMAP':'',_0x3af3c4['aoMap']?'#define\x20USE_AOMAP':'',_0x3af3c4['bumpMap']?'#define\x20USE_BUMPMAP':'',_0x3af3c4['normalMap']?'#define\x20USE_NORMALMAP':'',_0x3af3c4['normalMapObjectSpace']?'#define\x20USE_NORMALMAP_OBJECTSPACE':'',_0x3af3c4['normalMapTangentSpace']?'#define\x20USE_NORMALMAP_TANGENTSPACE':'',_0x3af3c4['emissiveMap']?'#define\x20USE_EMISSIVEMAP':'',_0x3af3c4['anisotropy']?'#define\x20USE_ANISOTROPY':'',_0x3af3c4['anisotropyMap']?'#define\x20USE_ANISOTROPYMAP':'',_0x3af3c4['clearcoat']?'#define\x20USE_CLEARCOAT':'',_0x3af3c4['clearcoatMap']?'#define\x20USE_CLEARCOATMAP':'',_0x3af3c4['clearcoatRoughnessMap']?'#define\x20USE_CLEARCOAT_ROUGHNESSMAP':'',_0x3af3c4['clearcoatNormalMap']?'#define\x20USE_CLEARCOAT_NORMALMAP':'',_0x3af3c4['dispersion']?'#define\x20USE_DISPERSION':'',_0x3af3c4['iridescence']?'#define\x20USE_IRIDESCENCE':'',_0x3af3c4['iridescenceMap']?'#define\x20USE_IRIDESCENCEMAP':'',_0x3af3c4['iridescenceThicknessMap']?'#define\x20USE_IRIDESCENCE_THICKNESSMAP':'',_0x3af3c4['specularMap']?'#define\x20USE_SPECULARMAP':'',_0x3af3c4['specularColorMap']?'#define\x20USE_SPECULAR_COLORMAP':'',_0x3af3c4['specularIntensityMap']?'#define\x20USE_SPECULAR_INTENSITYMAP':'',_0x3af3c4['roughnessMap']?'#define\x20USE_ROUGHNESSMAP':'',_0x3af3c4['metalnessMap']?'#define\x20USE_METALNESSMAP':'',_0x3af3c4['alphaMap']?'#define\x20USE_ALPHAMAP':'',_0x3af3c4['alphaTest']?'#define\x20USE_ALPHATEST':'',_0x3af3c4['alphaHash']?'#define\x20USE_ALPHAHASH':'',_0x3af3c4['sheen']?'#define\x20USE_SHEEN':'',_0x3af3c4['sheenColorMap']?'#define\x20USE_SHEEN_COLORMAP':'',_0x3af3c4['sheenRoughnessMap']?'#define\x20USE_SHEEN_ROUGHNESSMAP':'',_0x3af3c4['transmission']?'#define\x20USE_TRANSMISSION':'',_0x3af3c4['transmissionMap']?'#define\x20USE_TRANSMISSIONMAP':'',_0x3af3c4['thicknessMap']?'#define\x20USE_THICKNESSMAP':'',_0x3af3c4['vertexTangents']&&!0x1===_0x3af3c4['flatShading']?'#define\x20USE_TANGENT':'',_0x3af3c4['vertexColors']||_0x3af3c4['instancingColor']||_0x3af3c4['batchingColor']?'#define\x20USE_COLOR':'',_0x3af3c4['vertexAlphas']?'#define\x20USE_COLOR_ALPHA':'',_0x3af3c4['vertexUv1s']?'#define\x20USE_UV1':'',_0x3af3c4['vertexUv2s']?'#define\x20USE_UV2':'',_0x3af3c4['vertexUv3s']?'#define\x20USE_UV3':'',_0x3af3c4['pointsUvs']?'#define\x20USE_POINTS_UV':'',_0x3af3c4['gradientMap']?'#define\x20USE_GRADIENTMAP':'',_0x3af3c4['flatShading']?'#define\x20FLAT_SHADED':'',_0x3af3c4['doubleSided']?'#define\x20DOUBLE_SIDED':'',_0x3af3c4['flipSided']?'#define\x20FLIP_SIDED':'',_0x3af3c4['shadowMapEnabled']?'#define\x20USE_SHADOWMAP':'',_0x3af3c4['shadowMapEnabled']?'#define\x20'+_0x5bf85c:'',_0x3af3c4['premultipliedAlpha']?'#define\x20PREMULTIPLIED_ALPHA':'',_0x3af3c4['numLightProbes']>0x0?'#define\x20USE_LIGHT_PROBES':'',_0x3af3c4['decodeVideoTexture']?'#define\x20DECODE_VIDEO_TEXTURE':'',_0x3af3c4['decodeVideoTextureEmissive']?'#define\x20DECODE_VIDEO_TEXTURE_EMISSIVE':'',_0x3af3c4['logarithmicDepthBuffer']?'#define\x20USE_LOGDEPTHBUF':'',_0x3af3c4['reverseDepthBuffer']?'#define\x20USE_REVERSEDEPTHBUF':'','uniform\x20mat4\x20viewMatrix;','uniform\x20vec3\x20cameraPosition;','uniform\x20bool\x20isOrthographic;',_0x3af3c4['toneMapping']!==_0x923951['y_p']?'#define\x20TONE_MAPPING':'',_0x3af3c4['toneMapping']!==_0x923951['y_p']?_0x4a2f7f['tonemapping_pars_fragment']:'',_0x3af3c4['toneMapping']!==_0x923951['y_p']?_0x293383('toneMapping',_0x3af3c4['toneMapping']):'',_0x3af3c4['dithering']?'#define\x20DITHERING':'',_0x3af3c4['opaque']?'#define\x20OPAQUE':'',_0x4a2f7f['colorspace_pars_fragment'],_0x14f3ac('linearToOutputTexel',_0x3af3c4['outputColorSpace']),_0x235dd6(),_0x3af3c4['useDepthPacking']?'#define\x20DEPTH_PACKING\x20'+_0x3af3c4['depthPacking']:'','\x0a']['filter'](_0x2e932d)['join']('\x0a')),_0x4f8e9d=_0x229dc9(_0x4f8e9d),_0x4f8e9d=_0x5ad46d(_0x4f8e9d,_0x3af3c4),_0x4f8e9d=_0x15f631(_0x4f8e9d,_0x3af3c4),_0x2a986b=_0x229dc9(_0x2a986b),_0x2a986b=_0x5ad46d(_0x2a986b,_0x3af3c4),_0x2a986b=_0x15f631(_0x2a986b,_0x3af3c4),_0x4f8e9d=_0x41005d(_0x4f8e9d),_0x2a986b=_0x41005d(_0x2a986b),!0x0!==_0x3af3c4['isRawShaderMaterial']&&(_0x102455='#version\x20300\x20es\x0a',_0x470d25=[_0x82e0e3,'#define\x20attribute\x20in','#define\x20varying\x20out','#define\x20texture2D\x20texture']['join']('\x0a')+'\x0a'+_0x470d25,_0x248704=['#define\x20varying\x20in',_0x3af3c4['glslVersion']===_0x923951['Wdf']?'':'layout(location\x20=\x200)\x20out\x20highp\x20vec4\x20pc_fragColor;',_0x3af3c4['glslVersion']===_0x923951['Wdf']?'':'#define\x20gl_FragColor\x20pc_fragColor','#define\x20gl_FragDepthEXT\x20gl_FragDepth','#define\x20texture2D\x20texture','#define\x20textureCube\x20texture','#define\x20texture2DProj\x20textureProj','#define\x20texture2DLodEXT\x20textureLod','#define\x20texture2DProjLodEXT\x20textureProjLod','#define\x20textureCubeLodEXT\x20textureLod','#define\x20texture2DGradEXT\x20textureGrad','#define\x20texture2DProjGradEXT\x20textureProjGrad','#define\x20textureCubeGradEXT\x20textureGrad']['join']('\x0a')+'\x0a'+_0x248704);const _0x18e49e=_0x102455+_0x470d25+_0x4f8e9d,_0x5a27bd=_0x102455+_0x248704+_0x2a986b,_0x3ecb0=_0x134224(_0x54640b,_0x54640b['VERTEX_SHADER'],_0x18e49e),_0x56bd89=_0x134224(_0x54640b,_0x54640b['FRAGMENT_SHADER'],_0x5a27bd);function _0x45418b(_0xb647a2){if(_0x5ba61a['debug']['checkShaderErrors']){const _0x3d38ec=_0x54640b['getProgramInfoLog'](_0x21da77)['trim'](),_0x2da6ea=_0x54640b['getShaderInfoLog'](_0x3ecb0)['trim'](),_0x2d44f7=_0x54640b['getShaderInfoLog'](_0x56bd89)['trim']();let _0x38fe6c=!0x0,_0x5bae05=!0x0;if(!0x1===_0x54640b['getProgramParameter'](_0x21da77,_0x54640b['LINK_STATUS'])){if(_0x38fe6c=!0x1,'function'==typeof _0x5ba61a['debug']['onShaderError'])_0x5ba61a['debug']['onShaderError'](_0x54640b,_0x21da77,_0x3ecb0,_0x56bd89);else{const _0x78cecb=_0x54f482(_0x54640b,_0x3ecb0,'vertex'),_0x280794=_0x54f482(_0x54640b,_0x56bd89,'fragment');console['error']('THREE.WebGLProgram:\x20Shader\x20Error\x20'+_0x54640b['getError']()+'\x20-\x20VALIDATE_STATUS\x20'+_0x54640b['getProgramParameter'](_0x21da77,_0x54640b['VALIDATE_STATUS'])+'\x0a\x0aMaterial\x20Name:\x20'+_0xb647a2['name']+'\x0aMaterial\x20Type:\x20'+_0xb647a2['type']+'\x0a\x0aProgram\x20Info\x20Log:\x20'+_0x3d38ec+'\x0a'+_0x78cecb+'\x0a'+_0x280794);}}else''!==_0x3d38ec?console['warn']('THREE.WebGLProgram:\x20Program\x20Info\x20Log:',_0x3d38ec):''!==_0x2da6ea&&''!==_0x2d44f7||(_0x5bae05=!0x1);_0x5bae05&&(_0xb647a2['diagnostics']={'runnable':_0x38fe6c,'programLog':_0x3d38ec,'vertexShader':{'log':_0x2da6ea,'prefix':_0x470d25},'fragmentShader':{'log':_0x2d44f7,'prefix':_0x248704}});}_0x54640b['deleteShader'](_0x3ecb0),_0x54640b['deleteShader'](_0x56bd89),_0x1e98d3=new _0x5ab3bb(_0x54640b,_0x21da77),_0x3be937=function(_0x4bb47d,_0x7623f){const _0xdad60a={},_0x5f123b=_0x4bb47d['getProgramParameter'](_0x7623f,_0x4bb47d['ACTIVE_ATTRIBUTES']);for(let _0x3b95c9=0x0;_0x3b95c9<_0x5f123b;_0x3b95c9++){const _0x255d84=_0x4bb47d['getActiveAttrib'](_0x7623f,_0x3b95c9),_0x1bb5f8=_0x255d84['name'];let _0x433e7a=0x1;_0x255d84['type']===_0x4bb47d['FLOAT_MAT2']&&(_0x433e7a=0x2),_0x255d84['type']===_0x4bb47d['FLOAT_MAT3']&&(_0x433e7a=0x3),_0x255d84['type']===_0x4bb47d['FLOAT_MAT4']&&(_0x433e7a=0x4),_0xdad60a[_0x1bb5f8]={'type':_0x255d84['type'],'location':_0x4bb47d['getAttribLocation'](_0x7623f,_0x1bb5f8),'locationSize':_0x433e7a};}return _0xdad60a;}(_0x54640b,_0x21da77);}let _0x1e98d3,_0x3be937;_0x54640b['attachShader'](_0x21da77,_0x3ecb0),_0x54640b['attachShader'](_0x21da77,_0x56bd89),void 0x0!==_0x3af3c4['index0AttributeName']?_0x54640b['bindAttribLocation'](_0x21da77,0x0,_0x3af3c4['index0AttributeName']):!0x0===_0x3af3c4['morphTargets']&&_0x54640b['bindAttribLocation'](_0x21da77,0x0,'position'),_0x54640b['linkProgram'](_0x21da77),this['getUniforms']=function(){return void 0x0===_0x1e98d3&&_0x45418b(this),_0x1e98d3;},this['getAttributes']=function(){return void 0x0===_0x3be937&&_0x45418b(this),_0x3be937;};let _0x31c816=!0x1===_0x3af3c4['rendererExtensionParallelShaderCompile'];return this['isReady']=function(){return!0x1===_0x31c816&&(_0x31c816=_0x54640b['getProgramParameter'](_0x21da77,_0x283036)),_0x31c816;},this['destroy']=function(){_0x2d30c2['releaseStatesOfProgram'](this),_0x54640b['deleteProgram'](_0x21da77),this['program']=void 0x0;},this['type']=_0x3af3c4['shaderType'],this['name']=_0x3af3c4['shaderName'],this['id']=_0x30b230++,this['cacheKey']=_0x35f003,this['usedTimes']=0x1,this['program']=_0x21da77,this['vertexShader']=_0x3ecb0,this['fragmentShader']=_0x56bd89,this;}let _0x4e7bb5=0x0;class _0x371ff1{constructor(){this['shaderCache']=new Map(),this['materialCache']=new Map();}['update'](_0x59dfc4){const _0x32cf8d=_0x59dfc4['vertexShader'],_0x285956=_0x59dfc4['fragmentShader'],_0xe866e4=this['_getShaderStage'](_0x32cf8d),_0x50b1bc=this['_getShaderStage'](_0x285956),_0x54cf0f=this['_getShaderCacheForMaterial'](_0x59dfc4);return!0x1===_0x54cf0f['has'](_0xe866e4)&&(_0x54cf0f['add'](_0xe866e4),_0xe866e4['usedTimes']++),!0x1===_0x54cf0f['has'](_0x50b1bc)&&(_0x54cf0f['add'](_0x50b1bc),_0x50b1bc['usedTimes']++),this;}['remove'](_0x5a8e57){const _0xe44433=this['materialCache']['get'](_0x5a8e57);for(const _0x18691b of _0xe44433)_0x18691b['usedTimes']--,0x0===_0x18691b['usedTimes']&&this['shaderCache']['delete'](_0x18691b['code']);return this['materialCache']['delete'](_0x5a8e57),this;}['getVertexShaderID'](_0x59073b){return this['_getShaderStage'](_0x59073b['vertexShader'])['id'];}['getFragmentShaderID'](_0x13d45d){return this['_getShaderStage'](_0x13d45d['fragmentShader'])['id'];}['dispose'](){this['shaderCache']['clear'](),this['materialCache']['clear']();}['_getShaderCacheForMaterial'](_0x5a767c){const _0x240beb=this['materialCache'];let _0x275a79=_0x240beb['get'](_0x5a767c);return void 0x0===_0x275a79&&(_0x275a79=new Set(),_0x240beb['set'](_0x5a767c,_0x275a79)),_0x275a79;}['_getShaderStage'](_0x41cf4a){const _0x2d702d=this['shaderCache'];let _0x473ad1=_0x2d702d['get'](_0x41cf4a);return void 0x0===_0x473ad1&&(_0x473ad1=new _0x185539(_0x41cf4a),_0x2d702d['set'](_0x41cf4a,_0x473ad1)),_0x473ad1;}}class _0x185539{constructor(_0x42706c){this['id']=_0x4e7bb5++,this['code']=_0x42706c,this['usedTimes']=0x0;}}function _0x3e3a85(_0x237019,_0x4dc17a,_0x4465cd,_0x2281b5,_0x43561a,_0x3fc316,_0x44bb94){const _0x3e49d5=new _0x923951['zgK'](),_0xa7a70d=new _0x371ff1(),_0x4fbc32=new Set(),_0xf5eb6f=[],_0x28b264=_0x43561a['logarithmicDepthBuffer'],_0x2567f8=_0x43561a['vertexTextures'];let _0x30fda5=_0x43561a['precision'];const _0x5d153e={'MeshDepthMaterial':'depth','MeshDistanceMaterial':'distanceRGBA','MeshNormalMaterial':'normal','MeshBasicMaterial':'basic','MeshLambertMaterial':'lambert','MeshPhongMaterial':'phong','MeshToonMaterial':'toon','MeshStandardMaterial':'physical','MeshPhysicalMaterial':'physical','MeshMatcapMaterial':'matcap','LineBasicMaterial':'basic','LineDashedMaterial':'dashed','PointsMaterial':'points','ShadowMaterial':'shadow','SpriteMaterial':'sprite'};function _0x4ff9d3(_0x8dabf7){return _0x4fbc32['add'](_0x8dabf7),0x0===_0x8dabf7?'uv':'uv'+_0x8dabf7;}return{'getParameters':function(_0x26bce7,_0x4496b3,_0x2146e1,_0x158a20,_0x412acf){const _0xfd17f5=_0x158a20['fog'],_0x521c35=_0x412acf['geometry'],_0xf567e7=_0x26bce7['isMeshStandardMaterial']?_0x158a20['environment']:null,_0x5acd53=(_0x26bce7['isMeshStandardMaterial']?_0x4465cd:_0x4dc17a)['get'](_0x26bce7['envMap']||_0xf567e7),_0x254b64=_0x5acd53&&_0x5acd53['mapping']===_0x923951['Om']?_0x5acd53['image']['height']:null,_0x1236f4=_0x5d153e[_0x26bce7['type']];null!==_0x26bce7['precision']&&(_0x30fda5=_0x43561a['getMaxPrecision'](_0x26bce7['precision']),_0x30fda5!==_0x26bce7['precision']&&console['warn']('THREE.WebGLProgram.getParameters:',_0x26bce7['precision'],'not\x20supported,\x20using',_0x30fda5,'instead.'));const _0x3bc3e9=_0x521c35['morphAttributes']['position']||_0x521c35['morphAttributes']['normal']||_0x521c35['morphAttributes']['color'],_0x253915=void 0x0!==_0x3bc3e9?_0x3bc3e9['length']:0x0;let _0x679a14,_0x1beaf0,_0x5c7c1b,_0x513dfa,_0x583732=0x0;if(void 0x0!==_0x521c35['morphAttributes']['position']&&(_0x583732=0x1),void 0x0!==_0x521c35['morphAttributes']['normal']&&(_0x583732=0x2),void 0x0!==_0x521c35['morphAttributes']['color']&&(_0x583732=0x3),_0x1236f4){const _0x291b97=_0x5b534f[_0x1236f4];_0x679a14=_0x291b97['vertexShader'],_0x1beaf0=_0x291b97['fragmentShader'];}else _0x679a14=_0x26bce7['vertexShader'],_0x1beaf0=_0x26bce7['fragmentShader'],_0xa7a70d['update'](_0x26bce7),_0x5c7c1b=_0xa7a70d['getVertexShaderID'](_0x26bce7),_0x513dfa=_0xa7a70d['getFragmentShaderID'](_0x26bce7);const _0x5f4c12=_0x237019['getRenderTarget'](),_0x387b9c=_0x237019['state']['buffers']['depth']['getReversed'](),_0x46c574=!0x0===_0x412acf['isInstancedMesh'],_0x2cee4b=!0x0===_0x412acf['isBatchedMesh'],_0x572b13=!!_0x26bce7['map'],_0x3052eb=!!_0x26bce7['matcap'],_0x526bd7=!!_0x5acd53,_0x540c11=!!_0x26bce7['aoMap'],_0x4d77c7=!!_0x26bce7['lightMap'],_0xe93c4c=!!_0x26bce7['bumpMap'],_0x3afe8f=!!_0x26bce7['normalMap'],_0x4d8c9b=!!_0x26bce7['displacementMap'],_0x126000=!!_0x26bce7['emissiveMap'],_0x1dfd69=!!_0x26bce7['metalnessMap'],_0x3e4a8a=!!_0x26bce7['roughnessMap'],_0x41ed1d=_0x26bce7['anisotropy']>0x0,_0x4489a3=_0x26bce7['clearcoat']>0x0,_0x19424f=_0x26bce7['dispersion']>0x0,_0x552680=_0x26bce7['iridescence']>0x0,_0x561f46=_0x26bce7['sheen']>0x0,_0x5def4e=_0x26bce7['transmission']>0x0,_0x385d35=_0x41ed1d&&!!_0x26bce7['anisotropyMap'],_0x3e06ce=_0x4489a3&&!!_0x26bce7['clearcoatMap'],_0x4efd96=_0x4489a3&&!!_0x26bce7['clearcoatNormalMap'],_0x44f7e8=_0x4489a3&&!!_0x26bce7['clearcoatRoughnessMap'],_0x776f3a=_0x552680&&!!_0x26bce7['iridescenceMap'],_0x427957=_0x552680&&!!_0x26bce7['iridescenceThicknessMap'],_0x577049=_0x561f46&&!!_0x26bce7['sheenColorMap'],_0x17b004=_0x561f46&&!!_0x26bce7['sheenRoughnessMap'],_0x5a7027=!!_0x26bce7['specularMap'],_0xde49b=!!_0x26bce7['specularColorMap'],_0x59c591=!!_0x26bce7['specularIntensityMap'],_0x117793=_0x5def4e&&!!_0x26bce7['transmissionMap'],_0x2eeef9=_0x5def4e&&!!_0x26bce7['thicknessMap'],_0x8b0dbd=!!_0x26bce7['gradientMap'],_0x29813d=!!_0x26bce7['alphaMap'],_0x27f5ae=_0x26bce7['alphaTest']>0x0,_0x32e85b=!!_0x26bce7['alphaHash'],_0x3ef1ad=!!_0x26bce7['extensions'];let _0x5f574f=_0x923951['y_p'];_0x26bce7['toneMapped']&&(null!==_0x5f4c12&&!0x0!==_0x5f4c12['isXRRenderTarget']||(_0x5f574f=_0x237019['toneMapping']));const _0xaa3e55={'shaderID':_0x1236f4,'shaderType':_0x26bce7['type'],'shaderName':_0x26bce7['name'],'vertexShader':_0x679a14,'fragmentShader':_0x1beaf0,'defines':_0x26bce7['defines'],'customVertexShaderID':_0x5c7c1b,'customFragmentShaderID':_0x513dfa,'isRawShaderMaterial':!0x0===_0x26bce7['isRawShaderMaterial'],'glslVersion':_0x26bce7['glslVersion'],'precision':_0x30fda5,'batching':_0x2cee4b,'batchingColor':_0x2cee4b&&null!==_0x412acf['_colorsTexture'],'instancing':_0x46c574,'instancingColor':_0x46c574&&null!==_0x412acf['instanceColor'],'instancingMorph':_0x46c574&&null!==_0x412acf['morphTexture'],'supportsVertexTextures':_0x2567f8,'outputColorSpace':null===_0x5f4c12?_0x237019['outputColorSpace']:!0x0===_0x5f4c12['isXRRenderTarget']?_0x5f4c12['texture']['colorSpace']:_0x923951['Zr2'],'alphaToCoverage':!!_0x26bce7['alphaToCoverage'],'map':_0x572b13,'matcap':_0x3052eb,'envMap':_0x526bd7,'envMapMode':_0x526bd7&&_0x5acd53['mapping'],'envMapCubeUVHeight':_0x254b64,'aoMap':_0x540c11,'lightMap':_0x4d77c7,'bumpMap':_0xe93c4c,'normalMap':_0x3afe8f,'displacementMap':_0x2567f8&&_0x4d8c9b,'emissiveMap':_0x126000,'normalMapObjectSpace':_0x3afe8f&&_0x26bce7['normalMapType']===_0x923951['vyJ'],'normalMapTangentSpace':_0x3afe8f&&_0x26bce7['normalMapType']===_0x923951['bI3'],'metalnessMap':_0x1dfd69,'roughnessMap':_0x3e4a8a,'anisotropy':_0x41ed1d,'anisotropyMap':_0x385d35,'clearcoat':_0x4489a3,'clearcoatMap':_0x3e06ce,'clearcoatNormalMap':_0x4efd96,'clearcoatRoughnessMap':_0x44f7e8,'dispersion':_0x19424f,'iridescence':_0x552680,'iridescenceMap':_0x776f3a,'iridescenceThicknessMap':_0x427957,'sheen':_0x561f46,'sheenColorMap':_0x577049,'sheenRoughnessMap':_0x17b004,'specularMap':_0x5a7027,'specularColorMap':_0xde49b,'specularIntensityMap':_0x59c591,'transmission':_0x5def4e,'transmissionMap':_0x117793,'thicknessMap':_0x2eeef9,'gradientMap':_0x8b0dbd,'opaque':!0x1===_0x26bce7['transparent']&&_0x26bce7['blending']===_0x923951['NTi']&&!0x1===_0x26bce7['alphaToCoverage'],'alphaMap':_0x29813d,'alphaTest':_0x27f5ae,'alphaHash':_0x32e85b,'combine':_0x26bce7['combine'],'mapUv':_0x572b13&&_0x4ff9d3(_0x26bce7['map']['channel']),'aoMapUv':_0x540c11&&_0x4ff9d3(_0x26bce7['aoMap']['channel']),'lightMapUv':_0x4d77c7&&_0x4ff9d3(_0x26bce7['lightMap']['channel']),'bumpMapUv':_0xe93c4c&&_0x4ff9d3(_0x26bce7['bumpMap']['channel']),'normalMapUv':_0x3afe8f&&_0x4ff9d3(_0x26bce7['normalMap']['channel']),'displacementMapUv':_0x4d8c9b&&_0x4ff9d3(_0x26bce7['displacementMap']['channel']),'emissiveMapUv':_0x126000&&_0x4ff9d3(_0x26bce7['emissiveMap']['channel']),'metalnessMapUv':_0x1dfd69&&_0x4ff9d3(_0x26bce7['metalnessMap']['channel']),'roughnessMapUv':_0x3e4a8a&&_0x4ff9d3(_0x26bce7['roughnessMap']['channel']),'anisotropyMapUv':_0x385d35&&_0x4ff9d3(_0x26bce7['anisotropyMap']['channel']),'clearcoatMapUv':_0x3e06ce&&_0x4ff9d3(_0x26bce7['clearcoatMap']['channel']),'clearcoatNormalMapUv':_0x4efd96&&_0x4ff9d3(_0x26bce7['clearcoatNormalMap']['channel']),'clearcoatRoughnessMapUv':_0x44f7e8&&_0x4ff9d3(_0x26bce7['clearcoatRoughnessMap']['channel']),'iridescenceMapUv':_0x776f3a&&_0x4ff9d3(_0x26bce7['iridescenceMap']['channel']),'iridescenceThicknessMapUv':_0x427957&&_0x4ff9d3(_0x26bce7['iridescenceThicknessMap']['channel']),'sheenColorMapUv':_0x577049&&_0x4ff9d3(_0x26bce7['sheenColorMap']['channel']),'sheenRoughnessMapUv':_0x17b004&&_0x4ff9d3(_0x26bce7['sheenRoughnessMap']['channel']),'specularMapUv':_0x5a7027&&_0x4ff9d3(_0x26bce7['specularMap']['channel']),'specularColorMapUv':_0xde49b&&_0x4ff9d3(_0x26bce7['specularColorMap']['channel']),'specularIntensityMapUv':_0x59c591&&_0x4ff9d3(_0x26bce7['specularIntensityMap']['channel']),'transmissionMapUv':_0x117793&&_0x4ff9d3(_0x26bce7['transmissionMap']['channel']),'thicknessMapUv':_0x2eeef9&&_0x4ff9d3(_0x26bce7['thicknessMap']['channel']),'alphaMapUv':_0x29813d&&_0x4ff9d3(_0x26bce7['alphaMap']['channel']),'vertexTangents':!!_0x521c35['attributes']['tangent']&&(_0x3afe8f||_0x41ed1d),'vertexColors':_0x26bce7['vertexColors'],'vertexAlphas':!0x0===_0x26bce7['vertexColors']&&!!_0x521c35['attributes']['color']&&0x4===_0x521c35['attributes']['color']['itemSize'],'pointsUvs':!0x0===_0x412acf['isPoints']&&!!_0x521c35['attributes']['uv']&&(_0x572b13||_0x29813d),'fog':!!_0xfd17f5,'useFog':!0x0===_0x26bce7['fog'],'fogExp2':!!_0xfd17f5&&_0xfd17f5['isFogExp2'],'flatShading':!0x0===_0x26bce7['flatShading'],'sizeAttenuation':!0x0===_0x26bce7['sizeAttenuation'],'logarithmicDepthBuffer':_0x28b264,'reverseDepthBuffer':_0x387b9c,'skinning':!0x0===_0x412acf['isSkinnedMesh'],'morphTargets':void 0x0!==_0x521c35['morphAttributes']['position'],'morphNormals':void 0x0!==_0x521c35['morphAttributes']['normal'],'morphColors':void 0x0!==_0x521c35['morphAttributes']['color'],'morphTargetsCount':_0x253915,'morphTextureStride':_0x583732,'numDirLights':_0x4496b3['directional']['length'],'numPointLights':_0x4496b3['point']['length'],'numSpotLights':_0x4496b3['spot']['length'],'numSpotLightMaps':_0x4496b3['spotLightMap']['length'],'numRectAreaLights':_0x4496b3['rectArea']['length'],'numHemiLights':_0x4496b3['hemi']['length'],'numDirLightShadows':_0x4496b3['directionalShadowMap']['length'],'numPointLightShadows':_0x4496b3['pointShadowMap']['length'],'numSpotLightShadows':_0x4496b3['spotShadowMap']['length'],'numSpotLightShadowsWithMaps':_0x4496b3['numSpotLightShadowsWithMaps'],'numLightProbes':_0x4496b3['numLightProbes'],'numClippingPlanes':_0x44bb94['numPlanes'],'numClipIntersection':_0x44bb94['numIntersection'],'dithering':_0x26bce7['dithering'],'shadowMapEnabled':_0x237019['shadowMap']['enabled']&&_0x2146e1['length']>0x0,'shadowMapType':_0x237019['shadowMap']['type'],'toneMapping':_0x5f574f,'decodeVideoTexture':_0x572b13&&!0x0===_0x26bce7['map']['isVideoTexture']&&_0x923951['ppV']['getTransfer'](_0x26bce7['map']['colorSpace'])===_0x923951['KLL'],'decodeVideoTextureEmissive':_0x126000&&!0x0===_0x26bce7['emissiveMap']['isVideoTexture']&&_0x923951['ppV']['getTransfer'](_0x26bce7['emissiveMap']['colorSpace'])===_0x923951['KLL'],'premultipliedAlpha':_0x26bce7['premultipliedAlpha'],'doubleSided':_0x26bce7['side']===_0x923951['$EB'],'flipSided':_0x26bce7['side']===_0x923951['hsX'],'useDepthPacking':_0x26bce7['depthPacking']>=0x0,'depthPacking':_0x26bce7['depthPacking']||0x0,'index0AttributeName':_0x26bce7['index0AttributeName'],'extensionClipCullDistance':_0x3ef1ad&&!0x0===_0x26bce7['extensions']['clipCullDistance']&&_0x2281b5['has']('WEBGL_clip_cull_distance'),'extensionMultiDraw':(_0x3ef1ad&&!0x0===_0x26bce7['extensions']['multiDraw']||_0x2cee4b)&&_0x2281b5['has']('WEBGL_multi_draw'),'rendererExtensionParallelShaderCompile':_0x2281b5['has']('KHR_parallel_shader_compile'),'customProgramCacheKey':_0x26bce7['customProgramCacheKey']()};return _0xaa3e55['vertexUv1s']=_0x4fbc32['has'](0x1),_0xaa3e55['vertexUv2s']=_0x4fbc32['has'](0x2),_0xaa3e55['vertexUv3s']=_0x4fbc32['has'](0x3),_0x4fbc32['clear'](),_0xaa3e55;},'getProgramCacheKey':function(_0x2d857c){const _0x2f0f71=[];if(_0x2d857c['shaderID']?_0x2f0f71['push'](_0x2d857c['shaderID']):(_0x2f0f71['push'](_0x2d857c['customVertexShaderID']),_0x2f0f71['push'](_0x2d857c['customFragmentShaderID'])),void 0x0!==_0x2d857c['defines']){for(const _0x282cab in _0x2d857c['defines'])_0x2f0f71['push'](_0x282cab),_0x2f0f71['push'](_0x2d857c['defines'][_0x282cab]);}return!0x1===_0x2d857c['isRawShaderMaterial']&&(!function(_0x247444,_0x2c03f9){_0x247444['push'](_0x2c03f9['precision']),_0x247444['push'](_0x2c03f9['outputColorSpace']),_0x247444['push'](_0x2c03f9['envMapMode']),_0x247444['push'](_0x2c03f9['envMapCubeUVHeight']),_0x247444['push'](_0x2c03f9['mapUv']),_0x247444['push'](_0x2c03f9['alphaMapUv']),_0x247444['push'](_0x2c03f9['lightMapUv']),_0x247444['push'](_0x2c03f9['aoMapUv']),_0x247444['push'](_0x2c03f9['bumpMapUv']),_0x247444['push'](_0x2c03f9['normalMapUv']),_0x247444['push'](_0x2c03f9['displacementMapUv']),_0x247444['push'](_0x2c03f9['emissiveMapUv']),_0x247444['push'](_0x2c03f9['metalnessMapUv']),_0x247444['push'](_0x2c03f9['roughnessMapUv']),_0x247444['push'](_0x2c03f9['anisotropyMapUv']),_0x247444['push'](_0x2c03f9['clearcoatMapUv']),_0x247444['push'](_0x2c03f9['clearcoatNormalMapUv']),_0x247444['push'](_0x2c03f9['clearcoatRoughnessMapUv']),_0x247444['push'](_0x2c03f9['iridescenceMapUv']),_0x247444['push'](_0x2c03f9['iridescenceThicknessMapUv']),_0x247444['push'](_0x2c03f9['sheenColorMapUv']),_0x247444['push'](_0x2c03f9['sheenRoughnessMapUv']),_0x247444['push'](_0x2c03f9['specularMapUv']),_0x247444['push'](_0x2c03f9['specularColorMapUv']),_0x247444['push'](_0x2c03f9['specularIntensityMapUv']),_0x247444['push'](_0x2c03f9['transmissionMapUv']),_0x247444['push'](_0x2c03f9['thicknessMapUv']),_0x247444['push'](_0x2c03f9['combine']),_0x247444['push'](_0x2c03f9['fogExp2']),_0x247444['push'](_0x2c03f9['sizeAttenuation']),_0x247444['push'](_0x2c03f9['morphTargetsCount']),_0x247444['push'](_0x2c03f9['morphAttributeCount']),_0x247444['push'](_0x2c03f9['numDirLights']),_0x247444['push'](_0x2c03f9['numPointLights']),_0x247444['push'](_0x2c03f9['numSpotLights']),_0x247444['push'](_0x2c03f9['numSpotLightMaps']),_0x247444['push'](_0x2c03f9['numHemiLights']),_0x247444['push'](_0x2c03f9['numRectAreaLights']),_0x247444['push'](_0x2c03f9['numDirLightShadows']),_0x247444['push'](_0x2c03f9['numPointLightShadows']),_0x247444['push'](_0x2c03f9['numSpotLightShadows']),_0x247444['push'](_0x2c03f9['numSpotLightShadowsWithMaps']),_0x247444['push'](_0x2c03f9['numLightProbes']),_0x247444['push'](_0x2c03f9['shadowMapType']),_0x247444['push'](_0x2c03f9['toneMapping']),_0x247444['push'](_0x2c03f9['numClippingPlanes']),_0x247444['push'](_0x2c03f9['numClipIntersection']),_0x247444['push'](_0x2c03f9['depthPacking']);}(_0x2f0f71,_0x2d857c),function(_0x4552eb,_0x3b4365){_0x3e49d5['disableAll'](),_0x3b4365['supportsVertexTextures']&&_0x3e49d5['enable'](0x0),_0x3b4365['instancing']&&_0x3e49d5['enable'](0x1),_0x3b4365['instancingColor']&&_0x3e49d5['enable'](0x2),_0x3b4365['instancingMorph']&&_0x3e49d5['enable'](0x3),_0x3b4365['matcap']&&_0x3e49d5['enable'](0x4),_0x3b4365['envMap']&&_0x3e49d5['enable'](0x5),_0x3b4365['normalMapObjectSpace']&&_0x3e49d5['enable'](0x6),_0x3b4365['normalMapTangentSpace']&&_0x3e49d5['enable'](0x7),_0x3b4365['clearcoat']&&_0x3e49d5['enable'](0x8),_0x3b4365['iridescence']&&_0x3e49d5['enable'](0x9),_0x3b4365['alphaTest']&&_0x3e49d5['enable'](0xa),_0x3b4365['vertexColors']&&_0x3e49d5['enable'](0xb),_0x3b4365['vertexAlphas']&&_0x3e49d5['enable'](0xc),_0x3b4365['vertexUv1s']&&_0x3e49d5['enable'](0xd),_0x3b4365['vertexUv2s']&&_0x3e49d5['enable'](0xe),_0x3b4365['vertexUv3s']&&_0x3e49d5['enable'](0xf),_0x3b4365['vertexTangents']&&_0x3e49d5['enable'](0x10),_0x3b4365['anisotropy']&&_0x3e49d5['enable'](0x11),_0x3b4365['alphaHash']&&_0x3e49d5['enable'](0x12),_0x3b4365['batching']&&_0x3e49d5['enable'](0x13),_0x3b4365['dispersion']&&_0x3e49d5['enable'](0x14),_0x3b4365['batchingColor']&&_0x3e49d5['enable'](0x15),(_0x4552eb['push'](_0x3e49d5['mask']),_0x3e49d5['disableAll'](),_0x3b4365['fog']&&_0x3e49d5['enable'](0x0)),_0x3b4365['useFog']&&_0x3e49d5['enable'](0x1),_0x3b4365['flatShading']&&_0x3e49d5['enable'](0x2),_0x3b4365['logarithmicDepthBuffer']&&_0x3e49d5['enable'](0x3),_0x3b4365['reverseDepthBuffer']&&_0x3e49d5['enable'](0x4),_0x3b4365['skinning']&&_0x3e49d5['enable'](0x5),_0x3b4365['morphTargets']&&_0x3e49d5['enable'](0x6),_0x3b4365['morphNormals']&&_0x3e49d5['enable'](0x7),_0x3b4365['morphColors']&&_0x3e49d5['enable'](0x8),_0x3b4365['premultipliedAlpha']&&_0x3e49d5['enable'](0x9),_0x3b4365['shadowMapEnabled']&&_0x3e49d5['enable'](0xa),_0x3b4365['doubleSided']&&_0x3e49d5['enable'](0xb),_0x3b4365['flipSided']&&_0x3e49d5['enable'](0xc),_0x3b4365['useDepthPacking']&&_0x3e49d5['enable'](0xd),_0x3b4365['dithering']&&_0x3e49d5['enable'](0xe),_0x3b4365['transmission']&&_0x3e49d5['enable'](0xf),_0x3b4365['sheen']&&_0x3e49d5['enable'](0x10),_0x3b4365['opaque']&&_0x3e49d5['enable'](0x11),_0x3b4365['pointsUvs']&&_0x3e49d5['enable'](0x12),_0x3b4365['decodeVideoTexture']&&_0x3e49d5['enable'](0x13),_0x3b4365['decodeVideoTextureEmissive']&&_0x3e49d5['enable'](0x14),_0x3b4365['alphaToCoverage']&&_0x3e49d5['enable'](0x15),_0x4552eb['push'](_0x3e49d5['mask']);}(_0x2f0f71,_0x2d857c),_0x2f0f71['push'](_0x237019['outputColorSpace'])),_0x2f0f71['push'](_0x2d857c['customProgramCacheKey']),_0x2f0f71['join']();},'getUniforms':function(_0x15d66d){const _0x2740e6=_0x5d153e[_0x15d66d['type']];let _0x3d6fda;if(_0x2740e6){const _0x1608be=_0x5b534f[_0x2740e6];_0x3d6fda=_0x923951['LlO']['clone'](_0x1608be['uniforms']);}else _0x3d6fda=_0x15d66d['uniforms'];return _0x3d6fda;},'acquireProgram':function(_0xb7e0d1,_0xb2725e){let _0x329609;for(let _0x588d27=0x0,_0x3fa28f=_0xf5eb6f['length'];_0x588d27<_0x3fa28f;_0x588d27++){const _0x37a5a9=_0xf5eb6f[_0x588d27];if(_0x37a5a9['cacheKey']===_0xb2725e){_0x329609=_0x37a5a9,++_0x329609['usedTimes'];break;}}return void 0x0===_0x329609&&(_0x329609=new _0xe6fe97(_0x237019,_0xb2725e,_0xb7e0d1,_0x3fc316),_0xf5eb6f['push'](_0x329609)),_0x329609;},'releaseProgram':function(_0x3ec66b){if(0x0==--_0x3ec66b['usedTimes']){const _0x13edbc=_0xf5eb6f['indexOf'](_0x3ec66b);_0xf5eb6f[_0x13edbc]=_0xf5eb6f[_0xf5eb6f['length']-0x1],_0xf5eb6f['pop'](),_0x3ec66b['destroy']();}},'releaseShaderCache':function(_0x4e82d4){_0xa7a70d['remove'](_0x4e82d4);},'programs':_0xf5eb6f,'dispose':function(){_0xa7a70d['dispose']();}};}function _0x51e422(){let _0x50aced=new WeakMap();return{'has':function(_0xd5e789){return _0x50aced['has'](_0xd5e789);},'get':function(_0x2cf998){let _0x549131=_0x50aced['get'](_0x2cf998);return void 0x0===_0x549131&&(_0x549131={},_0x50aced['set'](_0x2cf998,_0x549131)),_0x549131;},'remove':function(_0x3a6d59){_0x50aced['delete'](_0x3a6d59);},'update':function(_0x1adc16,_0x54510c,_0x307daa){_0x50aced['get'](_0x1adc16)[_0x54510c]=_0x307daa;},'dispose':function(){_0x50aced=new WeakMap();}};}function _0x2eb1d8(_0xcc57db,_0x17359a){return _0xcc57db['groupOrder']!==_0x17359a['groupOrder']?_0xcc57db['groupOrder']-_0x17359a['groupOrder']:_0xcc57db['renderOrder']!==_0x17359a['renderOrder']?_0xcc57db['renderOrder']-_0x17359a['renderOrder']:_0xcc57db['material']['id']!==_0x17359a['material']['id']?_0xcc57db['material']['id']-_0x17359a['material']['id']:_0xcc57db['z']!==_0x17359a['z']?_0xcc57db['z']-_0x17359a['z']:_0xcc57db['id']-_0x17359a['id'];}function _0x59d8aa(_0x49dd54,_0x2c0409){return _0x49dd54['groupOrder']!==_0x2c0409['groupOrder']?_0x49dd54['groupOrder']-_0x2c0409['groupOrder']:_0x49dd54['renderOrder']!==_0x2c0409['renderOrder']?_0x49dd54['renderOrder']-_0x2c0409['renderOrder']:_0x49dd54['z']!==_0x2c0409['z']?_0x2c0409['z']-_0x49dd54['z']:_0x49dd54['id']-_0x2c0409['id'];}function _0x4e35f0(){const _0x9339f4=[];let _0x77b62a=0x0;const _0x1a67fe=[],_0xce6c9b=[],_0x107cb6=[];function _0x1aa86f(_0x652ef3,_0x343ebb,_0x54c384,_0x250019,_0x27a9f6,_0x500b84){let _0x2fa4a3=_0x9339f4[_0x77b62a];return void 0x0===_0x2fa4a3?(_0x2fa4a3={'id':_0x652ef3['id'],'object':_0x652ef3,'geometry':_0x343ebb,'material':_0x54c384,'groupOrder':_0x250019,'renderOrder':_0x652ef3['renderOrder'],'z':_0x27a9f6,'group':_0x500b84},_0x9339f4[_0x77b62a]=_0x2fa4a3):(_0x2fa4a3['id']=_0x652ef3['id'],_0x2fa4a3['object']=_0x652ef3,_0x2fa4a3['geometry']=_0x343ebb,_0x2fa4a3['material']=_0x54c384,_0x2fa4a3['groupOrder']=_0x250019,_0x2fa4a3['renderOrder']=_0x652ef3['renderOrder'],_0x2fa4a3['z']=_0x27a9f6,_0x2fa4a3['group']=_0x500b84),_0x77b62a++,_0x2fa4a3;}return{'opaque':_0x1a67fe,'transmissive':_0xce6c9b,'transparent':_0x107cb6,'init':function(){_0x77b62a=0x0,_0x1a67fe['length']=0x0,_0xce6c9b['length']=0x0,_0x107cb6['length']=0x0;},'push':function(_0x2c34a0,_0x58d1d5,_0x1fe52d,_0x2dd0c6,_0xea9cc7,_0x299ed1){const _0x277a46=_0x1aa86f(_0x2c34a0,_0x58d1d5,_0x1fe52d,_0x2dd0c6,_0xea9cc7,_0x299ed1);_0x1fe52d['transmission']>0x0?_0xce6c9b['push'](_0x277a46):!0x0===_0x1fe52d['transparent']?_0x107cb6['push'](_0x277a46):_0x1a67fe['push'](_0x277a46);},'unshift':function(_0x4ab3bf,_0xd58be8,_0x69918b,_0x4be3e5,_0x19a383,_0x4ffd67){const _0x42383e=_0x1aa86f(_0x4ab3bf,_0xd58be8,_0x69918b,_0x4be3e5,_0x19a383,_0x4ffd67);_0x69918b['transmission']>0x0?_0xce6c9b['unshift'](_0x42383e):!0x0===_0x69918b['transparent']?_0x107cb6['unshift'](_0x42383e):_0x1a67fe['unshift'](_0x42383e);},'finish':function(){for(let _0x4bd9a2=_0x77b62a,_0x47f0ac=_0x9339f4['length'];_0x4bd9a2<_0x47f0ac;_0x4bd9a2++){const _0x3cf4f6=_0x9339f4[_0x4bd9a2];if(null===_0x3cf4f6['id'])break;_0x3cf4f6['id']=null,_0x3cf4f6['object']=null,_0x3cf4f6['geometry']=null,_0x3cf4f6['material']=null,_0x3cf4f6['group']=null;}},'sort':function(_0x2b012a,_0x4b7189){_0x1a67fe['length']>0x1&&_0x1a67fe['sort'](_0x2b012a||_0x2eb1d8),_0xce6c9b['length']>0x1&&_0xce6c9b['sort'](_0x4b7189||_0x59d8aa),_0x107cb6['length']>0x1&&_0x107cb6['sort'](_0x4b7189||_0x59d8aa);}};}function _0x1ca733(){let _0x3b7c19=new WeakMap();return{'get':function(_0x24739c,_0x28171e){const _0x592952=_0x3b7c19['get'](_0x24739c);let _0xb20d1c;return void 0x0===_0x592952?(_0xb20d1c=new _0x4e35f0(),_0x3b7c19['set'](_0x24739c,[_0xb20d1c])):_0x28171e>=_0x592952['length']?(_0xb20d1c=new _0x4e35f0(),_0x592952['push'](_0xb20d1c)):_0xb20d1c=_0x592952[_0x28171e],_0xb20d1c;},'dispose':function(){_0x3b7c19=new WeakMap();}};}function _0x25debf(){const _0x15d758={};return{'get':function(_0x1c8bbc){if(void 0x0!==_0x15d758[_0x1c8bbc['id']])return _0x15d758[_0x1c8bbc['id']];let _0x4ef077;switch(_0x1c8bbc['type']){case'DirectionalLight':_0x4ef077={'direction':new _0x923951['Pq0'](),'color':new _0x923951['Q1f']()};break;case'SpotLight':_0x4ef077={'position':new _0x923951['Pq0'](),'direction':new _0x923951['Pq0'](),'color':new _0x923951['Q1f'](),'distance':0x0,'coneCos':0x0,'penumbraCos':0x0,'decay':0x0};break;case'PointLight':_0x4ef077={'position':new _0x923951['Pq0'](),'color':new _0x923951['Q1f'](),'distance':0x0,'decay':0x0};break;case'HemisphereLight':_0x4ef077={'direction':new _0x923951['Pq0'](),'skyColor':new _0x923951['Q1f'](),'groundColor':new _0x923951['Q1f']()};break;case'RectAreaLight':_0x4ef077={'color':new _0x923951['Q1f'](),'position':new _0x923951['Pq0'](),'halfWidth':new _0x923951['Pq0'](),'halfHeight':new _0x923951['Pq0']()};}return _0x15d758[_0x1c8bbc['id']]=_0x4ef077,_0x4ef077;}};}let _0x289bd7=0x0;function _0x3617d2(_0x4ffc57,_0x131f50){return(_0x131f50['castShadow']?0x2:0x0)-(_0x4ffc57['castShadow']?0x2:0x0)+(_0x131f50['map']?0x1:0x0)-(_0x4ffc57['map']?0x1:0x0);}function _0x52556a(_0x47b743){const _0xf7313d=new _0x25debf(),_0x5b7afa=(function(){const _0x2674f9={};return{'get':function(_0x1f6c4e){if(void 0x0!==_0x2674f9[_0x1f6c4e['id']])return _0x2674f9[_0x1f6c4e['id']];let _0x4b4a62;switch(_0x1f6c4e['type']){case'DirectionalLight':case'SpotLight':_0x4b4a62={'shadowIntensity':0x1,'shadowBias':0x0,'shadowNormalBias':0x0,'shadowRadius':0x1,'shadowMapSize':new _0x923951['I9Y']()};break;case'PointLight':_0x4b4a62={'shadowIntensity':0x1,'shadowBias':0x0,'shadowNormalBias':0x0,'shadowRadius':0x1,'shadowMapSize':new _0x923951['I9Y'](),'shadowCameraNear':0x1,'shadowCameraFar':0x3e8};}return _0x2674f9[_0x1f6c4e['id']]=_0x4b4a62,_0x4b4a62;}};}()),_0x30f37d={'version':0x0,'hash':{'directionalLength':-0x1,'pointLength':-0x1,'spotLength':-0x1,'rectAreaLength':-0x1,'hemiLength':-0x1,'numDirectionalShadows':-0x1,'numPointShadows':-0x1,'numSpotShadows':-0x1,'numSpotMaps':-0x1,'numLightProbes':-0x1},'ambient':[0x0,0x0,0x0],'probe':[],'directional':[],'directionalShadow':[],'directionalShadowMap':[],'directionalShadowMatrix':[],'spot':[],'spotLightMap':[],'spotShadow':[],'spotShadowMap':[],'spotLightMatrix':[],'rectArea':[],'rectAreaLTC1':null,'rectAreaLTC2':null,'point':[],'pointShadow':[],'pointShadowMap':[],'pointShadowMatrix':[],'hemi':[],'numSpotLightShadowsWithMaps':0x0,'numLightProbes':0x0};for(let _0x317270=0x0;_0x317270<0x9;_0x317270++)_0x30f37d['probe']['push'](new _0x923951['Pq0']());const _0x19cc84=new _0x923951['Pq0'](),_0x12974d=new _0x923951['kn4'](),_0x47eaca=new _0x923951['kn4']();return{'setup':function(_0x52c611){let _0x2f7d81=0x0,_0x20c3a2=0x0,_0x522051=0x0;for(let _0x415368=0x0;_0x415368<0x9;_0x415368++)_0x30f37d['probe'][_0x415368]['set'](0x0,0x0,0x0);let _0x4c7172=0x0,_0x808280=0x0,_0x2aa2a0=0x0,_0x3b3c60=0x0,_0x193ae2=0x0,_0x40a21b=0x0,_0x26aec6=0x0,_0x5c6aab=0x0,_0x2ea8e8=0x0,_0x1c1000=0x0,_0x5b9516=0x0;_0x52c611['sort'](_0x3617d2);for(let _0x5ecdc=0x0,_0x11d266=_0x52c611['length'];_0x5ecdc<_0x11d266;_0x5ecdc++){const _0x567758=_0x52c611[_0x5ecdc],_0x540bb4=_0x567758['color'],_0x31673d=_0x567758['intensity'],_0x25da1a=_0x567758['distance'],_0x19ad3c=_0x567758['shadow']&&_0x567758['shadow']['map']?_0x567758['shadow']['map']['texture']:null;if(_0x567758['isAmbientLight'])_0x2f7d81+=_0x540bb4['r']*_0x31673d,_0x20c3a2+=_0x540bb4['g']*_0x31673d,_0x522051+=_0x540bb4['b']*_0x31673d;else{if(_0x567758['isLightProbe']){for(let _0xb5cfcc=0x0;_0xb5cfcc<0x9;_0xb5cfcc++)_0x30f37d['probe'][_0xb5cfcc]['addScaledVector'](_0x567758['sh']['coefficients'][_0xb5cfcc],_0x31673d);_0x5b9516++;}else{if(_0x567758['isDirectionalLight']){const _0x30f43e=_0xf7313d['get'](_0x567758);if(_0x30f43e['color']['copy'](_0x567758['color'])['multiplyScalar'](_0x567758['intensity']),_0x567758['castShadow']){const _0x1ef205=_0x567758['shadow'],_0x25db1f=_0x5b7afa['get'](_0x567758);_0x25db1f['shadowIntensity']=_0x1ef205['intensity'],_0x25db1f['shadowBias']=_0x1ef205['bias'],_0x25db1f['shadowNormalBias']=_0x1ef205['normalBias'],_0x25db1f['shadowRadius']=_0x1ef205['radius'],_0x25db1f['shadowMapSize']=_0x1ef205['mapSize'],_0x30f37d['directionalShadow'][_0x4c7172]=_0x25db1f,_0x30f37d['directionalShadowMap'][_0x4c7172]=_0x19ad3c,_0x30f37d['directionalShadowMatrix'][_0x4c7172]=_0x567758['shadow']['matrix'],_0x40a21b++;}_0x30f37d['directional'][_0x4c7172]=_0x30f43e,_0x4c7172++;}else{if(_0x567758['isSpotLight']){const _0x57e3f1=_0xf7313d['get'](_0x567758);_0x57e3f1['position']['setFromMatrixPosition'](_0x567758['matrixWorld']),_0x57e3f1['color']['copy'](_0x540bb4)['multiplyScalar'](_0x31673d),_0x57e3f1['distance']=_0x25da1a,_0x57e3f1['coneCos']=Math['cos'](_0x567758['angle']),_0x57e3f1['penumbraCos']=Math['cos'](_0x567758['angle']*(0x1-_0x567758['penumbra'])),_0x57e3f1['decay']=_0x567758['decay'],_0x30f37d['spot'][_0x2aa2a0]=_0x57e3f1;const _0x1f9f16=_0x567758['shadow'];if(_0x567758['map']&&(_0x30f37d['spotLightMap'][_0x2ea8e8]=_0x567758['map'],_0x2ea8e8++,_0x1f9f16['updateMatrices'](_0x567758),_0x567758['castShadow']&&_0x1c1000++),_0x30f37d['spotLightMatrix'][_0x2aa2a0]=_0x1f9f16['matrix'],_0x567758['castShadow']){const _0x17018e=_0x5b7afa['get'](_0x567758);_0x17018e['shadowIntensity']=_0x1f9f16['intensity'],_0x17018e['shadowBias']=_0x1f9f16['bias'],_0x17018e['shadowNormalBias']=_0x1f9f16['normalBias'],_0x17018e['shadowRadius']=_0x1f9f16['radius'],_0x17018e['shadowMapSize']=_0x1f9f16['mapSize'],_0x30f37d['spotShadow'][_0x2aa2a0]=_0x17018e,_0x30f37d['spotShadowMap'][_0x2aa2a0]=_0x19ad3c,_0x5c6aab++;}_0x2aa2a0++;}else{if(_0x567758['isRectAreaLight']){const _0x18a600=_0xf7313d['get'](_0x567758);_0x18a600['color']['copy'](_0x540bb4)['multiplyScalar'](_0x31673d),_0x18a600['halfWidth']['set'](0.5*_0x567758['width'],0x0,0x0),_0x18a600['halfHeight']['set'](0x0,0.5*_0x567758['height'],0x0),_0x30f37d['rectArea'][_0x3b3c60]=_0x18a600,_0x3b3c60++;}else{if(_0x567758['isPointLight']){const _0x54b6c7=_0xf7313d['get'](_0x567758);if(_0x54b6c7['color']['copy'](_0x567758['color'])['multiplyScalar'](_0x567758['intensity']),_0x54b6c7['distance']=_0x567758['distance'],_0x54b6c7['decay']=_0x567758['decay'],_0x567758['castShadow']){const _0x578c84=_0x567758['shadow'],_0x93b193=_0x5b7afa['get'](_0x567758);_0x93b193['shadowIntensity']=_0x578c84['intensity'],_0x93b193['shadowBias']=_0x578c84['bias'],_0x93b193['shadowNormalBias']=_0x578c84['normalBias'],_0x93b193['shadowRadius']=_0x578c84['radius'],_0x93b193['shadowMapSize']=_0x578c84['mapSize'],_0x93b193['shadowCameraNear']=_0x578c84['camera']['near'],_0x93b193['shadowCameraFar']=_0x578c84['camera']['far'],_0x30f37d['pointShadow'][_0x808280]=_0x93b193,_0x30f37d['pointShadowMap'][_0x808280]=_0x19ad3c,_0x30f37d['pointShadowMatrix'][_0x808280]=_0x567758['shadow']['matrix'],_0x26aec6++;}_0x30f37d['point'][_0x808280]=_0x54b6c7,_0x808280++;}else{if(_0x567758['isHemisphereLight']){const _0x428ddf=_0xf7313d['get'](_0x567758);_0x428ddf['skyColor']['copy'](_0x567758['color'])['multiplyScalar'](_0x31673d),_0x428ddf['groundColor']['copy'](_0x567758['groundColor'])['multiplyScalar'](_0x31673d),_0x30f37d['hemi'][_0x193ae2]=_0x428ddf,_0x193ae2++;}}}}}}}}_0x3b3c60>0x0&&(!0x0===_0x47b743['has']('OES_texture_float_linear')?(_0x30f37d['rectAreaLTC1']=_0x1162d4['LTC_FLOAT_1'],_0x30f37d['rectAreaLTC2']=_0x1162d4['LTC_FLOAT_2']):(_0x30f37d['rectAreaLTC1']=_0x1162d4['LTC_HALF_1'],_0x30f37d['rectAreaLTC2']=_0x1162d4['LTC_HALF_2'])),_0x30f37d['ambient'][0x0]=_0x2f7d81,_0x30f37d['ambient'][0x1]=_0x20c3a2,_0x30f37d['ambient'][0x2]=_0x522051;const _0x3c6b65=_0x30f37d['hash'];_0x3c6b65['directionalLength']===_0x4c7172&&_0x3c6b65['pointLength']===_0x808280&&_0x3c6b65['spotLength']===_0x2aa2a0&&_0x3c6b65['rectAreaLength']===_0x3b3c60&&_0x3c6b65['hemiLength']===_0x193ae2&&_0x3c6b65['numDirectionalShadows']===_0x40a21b&&_0x3c6b65['numPointShadows']===_0x26aec6&&_0x3c6b65['numSpotShadows']===_0x5c6aab&&_0x3c6b65['numSpotMaps']===_0x2ea8e8&&_0x3c6b65['numLightProbes']===_0x5b9516||(_0x30f37d['directional']['length']=_0x4c7172,_0x30f37d['spot']['length']=_0x2aa2a0,_0x30f37d['rectArea']['length']=_0x3b3c60,_0x30f37d['point']['length']=_0x808280,_0x30f37d['hemi']['length']=_0x193ae2,_0x30f37d['directionalShadow']['length']=_0x40a21b,_0x30f37d['directionalShadowMap']['length']=_0x40a21b,_0x30f37d['pointShadow']['length']=_0x26aec6,_0x30f37d['pointShadowMap']['length']=_0x26aec6,_0x30f37d['spotShadow']['length']=_0x5c6aab,_0x30f37d['spotShadowMap']['length']=_0x5c6aab,_0x30f37d['directionalShadowMatrix']['length']=_0x40a21b,_0x30f37d['pointShadowMatrix']['length']=_0x26aec6,_0x30f37d['spotLightMatrix']['length']=_0x5c6aab+_0x2ea8e8-_0x1c1000,_0x30f37d['spotLightMap']['length']=_0x2ea8e8,_0x30f37d['numSpotLightShadowsWithMaps']=_0x1c1000,_0x30f37d['numLightProbes']=_0x5b9516,_0x3c6b65['directionalLength']=_0x4c7172,_0x3c6b65['pointLength']=_0x808280,_0x3c6b65['spotLength']=_0x2aa2a0,_0x3c6b65['rectAreaLength']=_0x3b3c60,_0x3c6b65['hemiLength']=_0x193ae2,_0x3c6b65['numDirectionalShadows']=_0x40a21b,_0x3c6b65['numPointShadows']=_0x26aec6,_0x3c6b65['numSpotShadows']=_0x5c6aab,_0x3c6b65['numSpotMaps']=_0x2ea8e8,_0x3c6b65['numLightProbes']=_0x5b9516,_0x30f37d['version']=_0x289bd7++);},'setupView':function(_0x250da2,_0x4b5353){let _0xf4e1e3=0x0,_0xb6ddb3=0x0,_0x3f88fc=0x0,_0x4ea075=0x0,_0x349b7c=0x0;const _0x5528a=_0x4b5353['matrixWorldInverse'];for(let _0x309f42=0x0,_0x47e381=_0x250da2['length'];_0x309f42<_0x47e381;_0x309f42++){const _0x3c1c3e=_0x250da2[_0x309f42];if(_0x3c1c3e['isDirectionalLight']){const _0x548ab8=_0x30f37d['directional'][_0xf4e1e3];_0x548ab8['direction']['setFromMatrixPosition'](_0x3c1c3e['matrixWorld']),_0x19cc84['setFromMatrixPosition'](_0x3c1c3e['target']['matrixWorld']),_0x548ab8['direction']['sub'](_0x19cc84),_0x548ab8['direction']['transformDirection'](_0x5528a),_0xf4e1e3++;}else{if(_0x3c1c3e['isSpotLight']){const _0x487950=_0x30f37d['spot'][_0x3f88fc];_0x487950['position']['setFromMatrixPosition'](_0x3c1c3e['matrixWorld']),_0x487950['position']['applyMatrix4'](_0x5528a),_0x487950['direction']['setFromMatrixPosition'](_0x3c1c3e['matrixWorld']),_0x19cc84['setFromMatrixPosition'](_0x3c1c3e['target']['matrixWorld']),_0x487950['direction']['sub'](_0x19cc84),_0x487950['direction']['transformDirection'](_0x5528a),_0x3f88fc++;}else{if(_0x3c1c3e['isRectAreaLight']){const _0x49446d=_0x30f37d['rectArea'][_0x4ea075];_0x49446d['position']['setFromMatrixPosition'](_0x3c1c3e['matrixWorld']),_0x49446d['position']['applyMatrix4'](_0x5528a),_0x47eaca['identity'](),_0x12974d['copy'](_0x3c1c3e['matrixWorld']),_0x12974d['premultiply'](_0x5528a),_0x47eaca['extractRotation'](_0x12974d),_0x49446d['halfWidth']['set'](0.5*_0x3c1c3e['width'],0x0,0x0),_0x49446d['halfHeight']['set'](0x0,0.5*_0x3c1c3e['height'],0x0),_0x49446d['halfWidth']['applyMatrix4'](_0x47eaca),_0x49446d['halfHeight']['applyMatrix4'](_0x47eaca),_0x4ea075++;}else{if(_0x3c1c3e['isPointLight']){const _0x4edbe2=_0x30f37d['point'][_0xb6ddb3];_0x4edbe2['position']['setFromMatrixPosition'](_0x3c1c3e['matrixWorld']),_0x4edbe2['position']['applyMatrix4'](_0x5528a),_0xb6ddb3++;}else{if(_0x3c1c3e['isHemisphereLight']){const _0x49f254=_0x30f37d['hemi'][_0x349b7c];_0x49f254['direction']['setFromMatrixPosition'](_0x3c1c3e['matrixWorld']),_0x49f254['direction']['transformDirection'](_0x5528a),_0x349b7c++;}}}}}}},'state':_0x30f37d};}function _0x5923bb(_0x8b5ced){const _0x237f37=new _0x52556a(_0x8b5ced),_0x73bde2=[],_0x1796a6=[],_0x33919f={'lightsArray':_0x73bde2,'shadowsArray':_0x1796a6,'camera':null,'lights':_0x237f37,'transmissionRenderTarget':{}};return{'init':function(_0x8211c8){_0x33919f['camera']=_0x8211c8,_0x73bde2['length']=0x0,_0x1796a6['length']=0x0;},'state':_0x33919f,'setupLights':function(){_0x237f37['setup'](_0x73bde2);},'setupLightsView':function(_0x47e4a9){_0x237f37['setupView'](_0x73bde2,_0x47e4a9);},'pushLight':function(_0x873349){_0x73bde2['push'](_0x873349);},'pushShadow':function(_0x1dd0e8){_0x1796a6['push'](_0x1dd0e8);}};}function _0x2cbfbe(_0x5ce672){let _0x2cf113=new WeakMap();return{'get':function(_0x50efe4,_0x484457=0x0){const _0x1c430c=_0x2cf113['get'](_0x50efe4);let _0x45080d;return void 0x0===_0x1c430c?(_0x45080d=new _0x5923bb(_0x5ce672),_0x2cf113['set'](_0x50efe4,[_0x45080d])):_0x484457>=_0x1c430c['length']?(_0x45080d=new _0x5923bb(_0x5ce672),_0x1c430c['push'](_0x45080d)):_0x45080d=_0x1c430c[_0x484457],_0x45080d;},'dispose':function(){_0x2cf113=new WeakMap();}};}function _0x20a939(_0xea41d7,_0x2e0f9f,_0x21082a){let _0x39c122=new _0x923951['PPD']();const _0x4a8d3c=new _0x923951['I9Y'](),_0x14e09c=new _0x923951['I9Y'](),_0x3cfad8=new _0x923951['IUQ'](),_0x20dac0=new _0x923951['CSG']({'depthPacking':_0x923951['N5j']}),_0x9248ad=new _0x923951['aVO'](),_0x28fc23={},_0x16fe7f=_0x21082a['maxTextureSize'],_0x5cc72d={[_0x923951['hB5']]:_0x923951['hsX'],[_0x923951['hsX']]:_0x923951['hB5'],[_0x923951['$EB']]:_0x923951['$EB']},_0x4d123b=new _0x923951['BKk']({'defines':{'VSM_SAMPLES':0x8},'uniforms':{'shadow_pass':{'value':null},'resolution':{'value':new _0x923951['I9Y']()},'radius':{'value':0x4}},'vertexShader':'void\x20main()\x20{\x0a\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a}','fragmentShader':'uniform\x20sampler2D\x20shadow_pass;\x0auniform\x20vec2\x20resolution;\x0auniform\x20float\x20radius;\x0a#include\x20<packing>\x0avoid\x20main()\x20{\x0a\x09const\x20float\x20samples\x20=\x20float(\x20VSM_SAMPLES\x20);\x0a\x09float\x20mean\x20=\x200.0;\x0a\x09float\x20squared_mean\x20=\x200.0;\x0a\x09float\x20uvStride\x20=\x20samples\x20<=\x201.0\x20?\x200.0\x20:\x202.0\x20/\x20(\x20samples\x20-\x201.0\x20);\x0a\x09float\x20uvStart\x20=\x20samples\x20<=\x201.0\x20?\x200.0\x20:\x20-\x201.0;\x0a\x09for\x20(\x20float\x20i\x20=\x200.0;\x20i\x20<\x20samples;\x20i\x20++\x20)\x20{\x0a\x09\x09float\x20uvOffset\x20=\x20uvStart\x20+\x20i\x20*\x20uvStride;\x0a\x09\x09#ifdef\x20HORIZONTAL_PASS\x0a\x09\x09\x09vec2\x20distribution\x20=\x20unpackRGBATo2Half(\x20texture2D(\x20shadow_pass,\x20(\x20gl_FragCoord.xy\x20+\x20vec2(\x20uvOffset,\x200.0\x20)\x20*\x20radius\x20)\x20/\x20resolution\x20)\x20);\x0a\x09\x09\x09mean\x20+=\x20distribution.x;\x0a\x09\x09\x09squared_mean\x20+=\x20distribution.y\x20*\x20distribution.y\x20+\x20distribution.x\x20*\x20distribution.x;\x0a\x09\x09#else\x0a\x09\x09\x09float\x20depth\x20=\x20unpackRGBAToDepth(\x20texture2D(\x20shadow_pass,\x20(\x20gl_FragCoord.xy\x20+\x20vec2(\x200.0,\x20uvOffset\x20)\x20*\x20radius\x20)\x20/\x20resolution\x20)\x20);\x0a\x09\x09\x09mean\x20+=\x20depth;\x0a\x09\x09\x09squared_mean\x20+=\x20depth\x20*\x20depth;\x0a\x09\x09#endif\x0a\x09}\x0a\x09mean\x20=\x20mean\x20/\x20samples;\x0a\x09squared_mean\x20=\x20squared_mean\x20/\x20samples;\x0a\x09float\x20std_dev\x20=\x20sqrt(\x20squared_mean\x20-\x20mean\x20*\x20mean\x20);\x0a\x09gl_FragColor\x20=\x20pack2HalfToRGBA(\x20vec2(\x20mean,\x20std_dev\x20)\x20);\x0a}'}),_0x14626d=_0x4d123b['clone']();_0x14626d['defines']['HORIZONTAL_PASS']=0x1;const _0x3832d4=new _0x923951['LoY']();_0x3832d4['setAttribute']('position',new _0x923951['THS'](new Float32Array([-0x1,-0x1,0.5,0x3,-0x1,0.5,-0x1,0x3,0.5]),0x3));const _0x215cce=new _0x923951['eaF'](_0x3832d4,_0x4d123b),_0x41da25=this;this['enabled']=!0x1,this['autoUpdate']=!0x0,this['needsUpdate']=!0x1,this['type']=_0x923951['QP0'];let _0x1f5d0c=this['type'];function _0x1ada2e(_0x4e33bc,_0x2b0714){const _0x628004=_0x2e0f9f['update'](_0x215cce);_0x4d123b['defines']['VSM_SAMPLES']!==_0x4e33bc['blurSamples']&&(_0x4d123b['defines']['VSM_SAMPLES']=_0x4e33bc['blurSamples'],_0x14626d['defines']['VSM_SAMPLES']=_0x4e33bc['blurSamples'],_0x4d123b['needsUpdate']=!0x0,_0x14626d['needsUpdate']=!0x0),null===_0x4e33bc['mapPass']&&(_0x4e33bc['mapPass']=new _0x923951['nWS'](_0x4a8d3c['x'],_0x4a8d3c['y'])),_0x4d123b['uniforms']['shadow_pass']['value']=_0x4e33bc['map']['texture'],_0x4d123b['uniforms']['resolution']['value']=_0x4e33bc['mapSize'],_0x4d123b['uniforms']['radius']['value']=_0x4e33bc['radius'],_0xea41d7['setRenderTarget'](_0x4e33bc['mapPass']),_0xea41d7['clear'](),_0xea41d7['renderBufferDirect'](_0x2b0714,null,_0x628004,_0x4d123b,_0x215cce,null),_0x14626d['uniforms']['shadow_pass']['value']=_0x4e33bc['mapPass']['texture'],_0x14626d['uniforms']['resolution']['value']=_0x4e33bc['mapSize'],_0x14626d['uniforms']['radius']['value']=_0x4e33bc['radius'],_0xea41d7['setRenderTarget'](_0x4e33bc['map']),_0xea41d7['clear'](),_0xea41d7['renderBufferDirect'](_0x2b0714,null,_0x628004,_0x14626d,_0x215cce,null);}function _0x5199b9(_0x555e2a,_0x551bc6,_0x17e962,_0x460e45){let _0x4c75fb=null;const _0x3e2418=!0x0===_0x17e962['isPointLight']?_0x555e2a['customDistanceMaterial']:_0x555e2a['customDepthMaterial'];if(void 0x0!==_0x3e2418)_0x4c75fb=_0x3e2418;else{if(_0x4c75fb=!0x0===_0x17e962['isPointLight']?_0x9248ad:_0x20dac0,_0xea41d7['localClippingEnabled']&&!0x0===_0x551bc6['clipShadows']&&Array['isArray'](_0x551bc6['clippingPlanes'])&&0x0!==_0x551bc6['clippingPlanes']['length']||_0x551bc6['displacementMap']&&0x0!==_0x551bc6['displacementScale']||_0x551bc6['alphaMap']&&_0x551bc6['alphaTest']>0x0||_0x551bc6['map']&&_0x551bc6['alphaTest']>0x0){const _0x43c69b=_0x4c75fb['uuid'],_0x34284d=_0x551bc6['uuid'];let _0x4ac6d2=_0x28fc23[_0x43c69b];void 0x0===_0x4ac6d2&&(_0x4ac6d2={},_0x28fc23[_0x43c69b]=_0x4ac6d2);let _0x51eb3f=_0x4ac6d2[_0x34284d];void 0x0===_0x51eb3f&&(_0x51eb3f=_0x4c75fb['clone'](),_0x4ac6d2[_0x34284d]=_0x51eb3f,_0x551bc6['addEventListener']('dispose',_0x59a56a)),_0x4c75fb=_0x51eb3f;}}return(_0x4c75fb['visible']=_0x551bc6['visible'],_0x4c75fb['wireframe']=_0x551bc6['wireframe'],_0x460e45===_0x923951['RyA']?_0x4c75fb['side']=null!==_0x551bc6['shadowSide']?_0x551bc6['shadowSide']:_0x551bc6['side']:_0x4c75fb['side']=null!==_0x551bc6['shadowSide']?_0x551bc6['shadowSide']:_0x5cc72d[_0x551bc6['side']],_0x4c75fb['alphaMap']=_0x551bc6['alphaMap'],_0x4c75fb['alphaTest']=_0x551bc6['alphaTest'],_0x4c75fb['map']=_0x551bc6['map'],_0x4c75fb['clipShadows']=_0x551bc6['clipShadows'],_0x4c75fb['clippingPlanes']=_0x551bc6['clippingPlanes'],_0x4c75fb['clipIntersection']=_0x551bc6['clipIntersection'],_0x4c75fb['displacementMap']=_0x551bc6['displacementMap'],_0x4c75fb['displacementScale']=_0x551bc6['displacementScale'],_0x4c75fb['displacementBias']=_0x551bc6['displacementBias'],_0x4c75fb['wireframeLinewidth']=_0x551bc6['wireframeLinewidth'],_0x4c75fb['linewidth']=_0x551bc6['linewidth'],!0x0===_0x17e962['isPointLight']&&!0x0===_0x4c75fb['isMeshDistanceMaterial'])&&(_0xea41d7['properties']['get'](_0x4c75fb)['light']=_0x17e962),_0x4c75fb;}function _0x4ae932(_0x234ca8,_0x1956ea,_0xc4443,_0x1f70da,_0x176fc8){if(!0x1===_0x234ca8['visible'])return;if(_0x234ca8['layers']['test'](_0x1956ea['layers'])&&(_0x234ca8['isMesh']||_0x234ca8['isLine']||_0x234ca8['isPoints'])&&(_0x234ca8['castShadow']||_0x234ca8['receiveShadow']&&_0x176fc8===_0x923951['RyA'])&&(!_0x234ca8['frustumCulled']||_0x39c122['intersectsObject'](_0x234ca8))){_0x234ca8['modelViewMatrix']['multiplyMatrices'](_0xc4443['matrixWorldInverse'],_0x234ca8['matrixWorld']);const _0x5336a9=_0x2e0f9f['update'](_0x234ca8),_0x30044e=_0x234ca8['material'];if(Array['isArray'](_0x30044e)){const _0xbb817b=_0x5336a9['groups'];for(let _0x11e83c=0x0,_0x3b336c=_0xbb817b['length'];_0x11e83c<_0x3b336c;_0x11e83c++){const _0x556e83=_0xbb817b[_0x11e83c],_0x4687e3=_0x30044e[_0x556e83['materialIndex']];if(_0x4687e3&&_0x4687e3['visible']){const _0x246d63=_0x5199b9(_0x234ca8,_0x4687e3,_0x1f70da,_0x176fc8);_0x234ca8['onBeforeShadow'](_0xea41d7,_0x234ca8,_0x1956ea,_0xc4443,_0x5336a9,_0x246d63,_0x556e83),_0xea41d7['renderBufferDirect'](_0xc4443,null,_0x5336a9,_0x246d63,_0x234ca8,_0x556e83),_0x234ca8['onAfterShadow'](_0xea41d7,_0x234ca8,_0x1956ea,_0xc4443,_0x5336a9,_0x246d63,_0x556e83);}}}else{if(_0x30044e['visible']){const _0x10e620=_0x5199b9(_0x234ca8,_0x30044e,_0x1f70da,_0x176fc8);_0x234ca8['onBeforeShadow'](_0xea41d7,_0x234ca8,_0x1956ea,_0xc4443,_0x5336a9,_0x10e620,null),_0xea41d7['renderBufferDirect'](_0xc4443,null,_0x5336a9,_0x10e620,_0x234ca8,null),_0x234ca8['onAfterShadow'](_0xea41d7,_0x234ca8,_0x1956ea,_0xc4443,_0x5336a9,_0x10e620,null);}}}const _0x406504=_0x234ca8['children'];for(let _0x23dbdc=0x0,_0x19f15f=_0x406504['length'];_0x23dbdc<_0x19f15f;_0x23dbdc++)_0x4ae932(_0x406504[_0x23dbdc],_0x1956ea,_0xc4443,_0x1f70da,_0x176fc8);}function _0x59a56a(_0x28d6e1){_0x28d6e1['target']['removeEventListener']('dispose',_0x59a56a);for(const _0x38d124 in _0x28fc23){const _0x4ff4bf=_0x28fc23[_0x38d124],_0x307e47=_0x28d6e1['target']['uuid'];_0x307e47 in _0x4ff4bf&&(_0x4ff4bf[_0x307e47]['dispose'](),delete _0x4ff4bf[_0x307e47]);}}this['render']=function(_0x398331,_0x1a427f,_0x539efa){if(!0x1===_0x41da25['enabled'])return;if(!0x1===_0x41da25['autoUpdate']&&!0x1===_0x41da25['needsUpdate'])return;if(0x0===_0x398331['length'])return;const _0x4c00e7=_0xea41d7['getRenderTarget'](),_0x254f69=_0xea41d7['getActiveCubeFace'](),_0x5cf13a=_0xea41d7['getActiveMipmapLevel'](),_0x1620db=_0xea41d7['state'];_0x1620db['setBlending'](_0x923951['XIg']),_0x1620db['buffers']['color']['setClear'](0x1,0x1,0x1,0x1),_0x1620db['buffers']['depth']['setTest'](!0x0),_0x1620db['setScissorTest'](!0x1);const _0x50a8ce=_0x1f5d0c!==_0x923951['RyA']&&this['type']===_0x923951['RyA'],_0x2ae5db=_0x1f5d0c===_0x923951['RyA']&&this['type']!==_0x923951['RyA'];for(let _0x19456=0x0,_0x281991=_0x398331['length'];_0x19456<_0x281991;_0x19456++){const _0xcd2dba=_0x398331[_0x19456],_0x53a295=_0xcd2dba['shadow'];if(void 0x0===_0x53a295){console['warn']('THREE.WebGLShadowMap:',_0xcd2dba,'has\x20no\x20shadow.');continue;}if(!0x1===_0x53a295['autoUpdate']&&!0x1===_0x53a295['needsUpdate'])continue;_0x4a8d3c['copy'](_0x53a295['mapSize']);const _0x449cb2=_0x53a295['getFrameExtents']();if(_0x4a8d3c['multiply'](_0x449cb2),_0x14e09c['copy'](_0x53a295['mapSize']),(_0x4a8d3c['x']>_0x16fe7f||_0x4a8d3c['y']>_0x16fe7f)&&(_0x4a8d3c['x']>_0x16fe7f&&(_0x14e09c['x']=Math['floor'](_0x16fe7f/_0x449cb2['x']),_0x4a8d3c['x']=_0x14e09c['x']*_0x449cb2['x'],_0x53a295['mapSize']['x']=_0x14e09c['x']),_0x4a8d3c['y']>_0x16fe7f&&(_0x14e09c['y']=Math['floor'](_0x16fe7f/_0x449cb2['y']),_0x4a8d3c['y']=_0x14e09c['y']*_0x449cb2['y'],_0x53a295['mapSize']['y']=_0x14e09c['y'])),null===_0x53a295['map']||!0x0===_0x50a8ce||!0x0===_0x2ae5db){const _0x3dfd09=this['type']!==_0x923951['RyA']?{'minFilter':_0x923951['hxR'],'magFilter':_0x923951['hxR']}:{};null!==_0x53a295['map']&&_0x53a295['map']['dispose'](),_0x53a295['map']=new _0x923951['nWS'](_0x4a8d3c['x'],_0x4a8d3c['y'],_0x3dfd09),_0x53a295['map']['texture']['name']=_0xcd2dba['name']+'.shadowMap',_0x53a295['camera']['updateProjectionMatrix']();}_0xea41d7['setRenderTarget'](_0x53a295['map']),_0xea41d7['clear']();const _0x3ac921=_0x53a295['getViewportCount']();for(let _0x391d7e=0x0;_0x391d7e<_0x3ac921;_0x391d7e++){const _0x383bc3=_0x53a295['getViewport'](_0x391d7e);_0x3cfad8['set'](_0x14e09c['x']*_0x383bc3['x'],_0x14e09c['y']*_0x383bc3['y'],_0x14e09c['x']*_0x383bc3['z'],_0x14e09c['y']*_0x383bc3['w']),_0x1620db['viewport'](_0x3cfad8),_0x53a295['updateMatrices'](_0xcd2dba,_0x391d7e),_0x39c122=_0x53a295['getFrustum'](),_0x4ae932(_0x1a427f,_0x539efa,_0x53a295['camera'],_0xcd2dba,this['type']);}!0x0!==_0x53a295['isPointLightShadow']&&this['type']===_0x923951['RyA']&&_0x1ada2e(_0x53a295,_0x539efa),_0x53a295['needsUpdate']=!0x1;}_0x1f5d0c=this['type'],_0x41da25['needsUpdate']=!0x1,_0xea41d7['setRenderTarget'](_0x4c00e7,_0x254f69,_0x5cf13a);};}const _0x2486f0={[_0x923951['eHc']]:_0x923951['lGu'],[_0x923951['brA']]:_0x923951['K52'],[_0x923951['U3G']]:_0x923951['bw0'],[_0x923951['xSv']]:_0x923951['Gwm'],[_0x923951['lGu']]:_0x923951['eHc'],[_0x923951['K52']]:_0x923951['brA'],[_0x923951['bw0']]:_0x923951['U3G'],[_0x923951['Gwm']]:_0x923951['xSv']};function _0x51da79(_0x342c15,_0x1a76c1){const _0x459d30=new function(){let _0x4dbfae=!0x1;const _0x3f1c29=new _0x923951['IUQ']();let _0x5c42e3=null;const _0x333f09=new _0x923951['IUQ'](0x0,0x0,0x0,0x0);return{'setMask':function(_0x4fe7cc){_0x5c42e3===_0x4fe7cc||_0x4dbfae||(_0x342c15['colorMask'](_0x4fe7cc,_0x4fe7cc,_0x4fe7cc,_0x4fe7cc),_0x5c42e3=_0x4fe7cc);},'setLocked':function(_0x436ca3){_0x4dbfae=_0x436ca3;},'setClear':function(_0x39d9da,_0xb71ffd,_0x16b75,_0x24cb0c,_0x1f457f){!0x0===_0x1f457f&&(_0x39d9da*=_0x24cb0c,_0xb71ffd*=_0x24cb0c,_0x16b75*=_0x24cb0c),_0x3f1c29['set'](_0x39d9da,_0xb71ffd,_0x16b75,_0x24cb0c),!0x1===_0x333f09['equals'](_0x3f1c29)&&(_0x342c15['clearColor'](_0x39d9da,_0xb71ffd,_0x16b75,_0x24cb0c),_0x333f09['copy'](_0x3f1c29));},'reset':function(){_0x4dbfae=!0x1,_0x5c42e3=null,_0x333f09['set'](-0x1,0x0,0x0,0x0);}};}(),_0x25261a=new function(){let _0x259ad6=!0x1,_0x26d87f=!0x1,_0x1986b8=null,_0x18e021=null,_0x59c091=null;return{'setReversed':function(_0x3a1a75){if(_0x26d87f!==_0x3a1a75){const _0x1007f7=_0x1a76c1['get']('EXT_clip_control');_0x26d87f?_0x1007f7['clipControlEXT'](_0x1007f7['LOWER_LEFT_EXT'],_0x1007f7['ZERO_TO_ONE_EXT']):_0x1007f7['clipControlEXT'](_0x1007f7['LOWER_LEFT_EXT'],_0x1007f7['NEGATIVE_ONE_TO_ONE_EXT']);const _0x4291b2=_0x59c091;_0x59c091=null,this['setClear'](_0x4291b2);}_0x26d87f=_0x3a1a75;},'getReversed':function(){return _0x26d87f;},'setTest':function(_0x95d8ed){_0x95d8ed?_0x3abb03(_0x342c15['DEPTH_TEST']):_0x13c563(_0x342c15['DEPTH_TEST']);},'setMask':function(_0x23e66f){_0x1986b8===_0x23e66f||_0x259ad6||(_0x342c15['depthMask'](_0x23e66f),_0x1986b8=_0x23e66f);},'setFunc':function(_0x1078c7){if(_0x26d87f&&(_0x1078c7=_0x2486f0[_0x1078c7]),_0x18e021!==_0x1078c7){switch(_0x1078c7){case _0x923951['eHc']:_0x342c15['depthFunc'](_0x342c15['NEVER']);break;case _0x923951['lGu']:_0x342c15['depthFunc'](_0x342c15['ALWAYS']);break;case _0x923951['brA']:_0x342c15['depthFunc'](_0x342c15['LESS']);break;case _0x923951['xSv']:_0x342c15['depthFunc'](_0x342c15['LEQUAL']);break;case _0x923951['U3G']:_0x342c15['depthFunc'](_0x342c15['EQUAL']);break;case _0x923951['Gwm']:_0x342c15['depthFunc'](_0x342c15['GEQUAL']);break;case _0x923951['K52']:_0x342c15['depthFunc'](_0x342c15['GREATER']);break;case _0x923951['bw0']:_0x342c15['depthFunc'](_0x342c15['NOTEQUAL']);break;default:_0x342c15['depthFunc'](_0x342c15['LEQUAL']);}_0x18e021=_0x1078c7;}},'setLocked':function(_0x14f2ba){_0x259ad6=_0x14f2ba;},'setClear':function(_0x1b73c8){_0x59c091!==_0x1b73c8&&(_0x26d87f&&(_0x1b73c8=0x1-_0x1b73c8),_0x342c15['clearDepth'](_0x1b73c8),_0x59c091=_0x1b73c8);},'reset':function(){_0x259ad6=!0x1,_0x1986b8=null,_0x18e021=null,_0x59c091=null,_0x26d87f=!0x1;}};}(),_0x361df9=new function(){let _0x15ceaa=!0x1,_0x4df2dd=null,_0x4a672e=null,_0x4d4e26=null,_0x343876=null,_0x90570e=null,_0x2b047a=null,_0x4a1c74=null,_0x209c6e=null;return{'setTest':function(_0x42cec4){_0x15ceaa||(_0x42cec4?_0x3abb03(_0x342c15['STENCIL_TEST']):_0x13c563(_0x342c15['STENCIL_TEST']));},'setMask':function(_0x252dc8){_0x4df2dd===_0x252dc8||_0x15ceaa||(_0x342c15['stencilMask'](_0x252dc8),_0x4df2dd=_0x252dc8);},'setFunc':function(_0x571cdf,_0x2544e6,_0x227395){_0x4a672e===_0x571cdf&&_0x4d4e26===_0x2544e6&&_0x343876===_0x227395||(_0x342c15['stencilFunc'](_0x571cdf,_0x2544e6,_0x227395),_0x4a672e=_0x571cdf,_0x4d4e26=_0x2544e6,_0x343876=_0x227395);},'setOp':function(_0x56dfb8,_0x2c3134,_0x24cce2){_0x90570e===_0x56dfb8&&_0x2b047a===_0x2c3134&&_0x4a1c74===_0x24cce2||(_0x342c15['stencilOp'](_0x56dfb8,_0x2c3134,_0x24cce2),_0x90570e=_0x56dfb8,_0x2b047a=_0x2c3134,_0x4a1c74=_0x24cce2);},'setLocked':function(_0x5a0f0d){_0x15ceaa=_0x5a0f0d;},'setClear':function(_0x458e51){_0x209c6e!==_0x458e51&&(_0x342c15['clearStencil'](_0x458e51),_0x209c6e=_0x458e51);},'reset':function(){_0x15ceaa=!0x1,_0x4df2dd=null,_0x4a672e=null,_0x4d4e26=null,_0x343876=null,_0x90570e=null,_0x2b047a=null,_0x4a1c74=null,_0x209c6e=null;}};}(),_0x24bc95=new WeakMap(),_0x569cf6=new WeakMap();let _0x1275aa={},_0x3faadc={},_0x187754=new WeakMap(),_0x2177f5=[],_0xbc1bf2=null,_0x1cfe73=!0x1,_0x5e42ee=null,_0x4769a6=null,_0x3fe014=null,_0x1eec59=null,_0x27d240=null,_0xefa287=null,_0x3aa1ea=null,_0x497f7e=new _0x923951['Q1f'](0x0,0x0,0x0),_0x23046e=0x0,_0x2b46d8=!0x1,_0x5b5668=null,_0x272dc9=null,_0x5081b2=null,_0x255c5c=null,_0x475d4a=null;const _0x2bc1ce=_0x342c15['getParameter'](_0x342c15['MAX_COMBINED_TEXTURE_IMAGE_UNITS']);let _0x2ca661=!0x1,_0x434a4f=0x0;const _0x1e98ac=_0x342c15['getParameter'](_0x342c15['VERSION']);-0x1!==_0x1e98ac['indexOf']('WebGL')?(_0x434a4f=parseFloat(/^WebGL (\d)/['exec'](_0x1e98ac)[0x1]),_0x2ca661=_0x434a4f>=0x1):-0x1!==_0x1e98ac['indexOf']('OpenGL\x20ES')&&(_0x434a4f=parseFloat(/^OpenGL ES (\d)/['exec'](_0x1e98ac)[0x1]),_0x2ca661=_0x434a4f>=0x2);let _0x13f2c1=null,_0x164fb4={};const _0xc6ba1d=_0x342c15['getParameter'](_0x342c15['SCISSOR_BOX']),_0x13063c=_0x342c15['getParameter'](_0x342c15['VIEWPORT']),_0x11e751=new _0x923951['IUQ']()['fromArray'](_0xc6ba1d),_0x26ddab=new _0x923951['IUQ']()['fromArray'](_0x13063c);function _0xde6395(_0x51991e,_0x4871ed,_0x54f379,_0x4191dc){const _0x320327=new Uint8Array(0x4),_0x2d5ea1=_0x342c15['createTexture']();_0x342c15['bindTexture'](_0x51991e,_0x2d5ea1),_0x342c15['texParameteri'](_0x51991e,_0x342c15['TEXTURE_MIN_FILTER'],_0x342c15['NEAREST']),_0x342c15['texParameteri'](_0x51991e,_0x342c15['TEXTURE_MAG_FILTER'],_0x342c15['NEAREST']);for(let _0x1e6d03=0x0;_0x1e6d03<_0x54f379;_0x1e6d03++)_0x51991e===_0x342c15['TEXTURE_3D']||_0x51991e===_0x342c15['TEXTURE_2D_ARRAY']?_0x342c15['texImage3D'](_0x4871ed,0x0,_0x342c15['RGBA'],0x1,0x1,_0x4191dc,0x0,_0x342c15['RGBA'],_0x342c15['UNSIGNED_BYTE'],_0x320327):_0x342c15['texImage2D'](_0x4871ed+_0x1e6d03,0x0,_0x342c15['RGBA'],0x1,0x1,0x0,_0x342c15['RGBA'],_0x342c15['UNSIGNED_BYTE'],_0x320327);return _0x2d5ea1;}const _0x21c550={};function _0x3abb03(_0x4fc7b0){!0x0!==_0x1275aa[_0x4fc7b0]&&(_0x342c15['enable'](_0x4fc7b0),_0x1275aa[_0x4fc7b0]=!0x0);}function _0x13c563(_0x4ec58d){!0x1!==_0x1275aa[_0x4ec58d]&&(_0x342c15['disable'](_0x4ec58d),_0x1275aa[_0x4ec58d]=!0x1);}_0x21c550[_0x342c15['TEXTURE_2D']]=_0xde6395(_0x342c15['TEXTURE_2D'],_0x342c15['TEXTURE_2D'],0x1),_0x21c550[_0x342c15['TEXTURE_CUBE_MAP']]=_0xde6395(_0x342c15['TEXTURE_CUBE_MAP'],_0x342c15['TEXTURE_CUBE_MAP_POSITIVE_X'],0x6),_0x21c550[_0x342c15['TEXTURE_2D_ARRAY']]=_0xde6395(_0x342c15['TEXTURE_2D_ARRAY'],_0x342c15['TEXTURE_2D_ARRAY'],0x1,0x1),_0x21c550[_0x342c15['TEXTURE_3D']]=_0xde6395(_0x342c15['TEXTURE_3D'],_0x342c15['TEXTURE_3D'],0x1,0x1),_0x459d30['setClear'](0x0,0x0,0x0,0x1),_0x25261a['setClear'](0x1),_0x361df9['setClear'](0x0),_0x3abb03(_0x342c15['DEPTH_TEST']),_0x25261a['setFunc'](_0x923951['xSv']),_0x1720dc(!0x1),_0x53bb07(_0x923951['Vb5']),_0x3abb03(_0x342c15['CULL_FACE']),_0x36b3be(_0x923951['XIg']);const _0x514dcf={[_0x923951['gO9']]:_0x342c15['FUNC_ADD'],[_0x923951['FXf']]:_0x342c15['FUNC_SUBTRACT'],[_0x923951['nST']]:_0x342c15['FUNC_REVERSE_SUBTRACT']};_0x514dcf[_0x923951['znC']]=_0x342c15['MIN'],_0x514dcf[_0x923951['$ei']]=_0x342c15['MAX'];const _0x800558={[_0x923951['ojh']]:_0x342c15['ZERO'],[_0x923951['qad']]:_0x342c15['ONE'],[_0x923951['f4X']]:_0x342c15['SRC_COLOR'],[_0x923951['ie2']]:_0x342c15['SRC_ALPHA'],[_0x923951['hgQ']]:_0x342c15['SRC_ALPHA_SATURATE'],[_0x923951['wn6']]:_0x342c15['DST_COLOR'],[_0x923951['hdd']]:_0x342c15['DST_ALPHA'],[_0x923951['LiQ']]:_0x342c15['ONE_MINUS_SRC_COLOR'],[_0x923951['OuU']]:_0x342c15['ONE_MINUS_SRC_ALPHA'],[_0x923951['aEY']]:_0x342c15['ONE_MINUS_DST_COLOR'],[_0x923951['Nt7']]:_0x342c15['ONE_MINUS_DST_ALPHA'],[_0x923951['RrE']]:_0x342c15['CONSTANT_COLOR'],[_0x923951['$Yl']]:_0x342c15['ONE_MINUS_CONSTANT_COLOR'],[_0x923951['e0p']]:_0x342c15['CONSTANT_ALPHA'],[_0x923951['ov9']]:_0x342c15['ONE_MINUS_CONSTANT_ALPHA']};function _0x36b3be(_0x335673,_0x428802,_0x52dd4d,_0x33ddde,_0xc5573c,_0x255a73,_0xe2e36b,_0x2e98fc,_0x5f06a9,_0x3f3d16){if(_0x335673!==_0x923951['XIg']){if(!0x1===_0x1cfe73&&(_0x3abb03(_0x342c15['BLEND']),_0x1cfe73=!0x0),_0x335673===_0x923951['bCz'])_0xc5573c=_0xc5573c||_0x428802,_0x255a73=_0x255a73||_0x52dd4d,_0xe2e36b=_0xe2e36b||_0x33ddde,_0x428802===_0x4769a6&&_0xc5573c===_0x27d240||(_0x342c15['blendEquationSeparate'](_0x514dcf[_0x428802],_0x514dcf[_0xc5573c]),_0x4769a6=_0x428802,_0x27d240=_0xc5573c),_0x52dd4d===_0x3fe014&&_0x33ddde===_0x1eec59&&_0x255a73===_0xefa287&&_0xe2e36b===_0x3aa1ea||(_0x342c15['blendFuncSeparate'](_0x800558[_0x52dd4d],_0x800558[_0x33ddde],_0x800558[_0x255a73],_0x800558[_0xe2e36b]),_0x3fe014=_0x52dd4d,_0x1eec59=_0x33ddde,_0xefa287=_0x255a73,_0x3aa1ea=_0xe2e36b),!0x1!==_0x2e98fc['equals'](_0x497f7e)&&_0x5f06a9===_0x23046e||(_0x342c15['blendColor'](_0x2e98fc['r'],_0x2e98fc['g'],_0x2e98fc['b'],_0x5f06a9),_0x497f7e['copy'](_0x2e98fc),_0x23046e=_0x5f06a9),_0x5e42ee=_0x335673,_0x2b46d8=!0x1;else{if(_0x335673!==_0x5e42ee||_0x3f3d16!==_0x2b46d8){if(_0x4769a6===_0x923951['gO9']&&_0x27d240===_0x923951['gO9']||(_0x342c15['blendEquation'](_0x342c15['FUNC_ADD']),_0x4769a6=_0x923951['gO9'],_0x27d240=_0x923951['gO9']),_0x3f3d16)switch(_0x335673){case _0x923951['NTi']:_0x342c15['blendFuncSeparate'](_0x342c15['ONE'],_0x342c15['ONE_MINUS_SRC_ALPHA'],_0x342c15['ONE'],_0x342c15['ONE_MINUS_SRC_ALPHA']);break;case _0x923951['EZo']:_0x342c15['blendFunc'](_0x342c15['ONE'],_0x342c15['ONE']);break;case _0x923951['Kwu']:_0x342c15['blendFuncSeparate'](_0x342c15['ZERO'],_0x342c15['ONE_MINUS_SRC_COLOR'],_0x342c15['ZERO'],_0x342c15['ONE']);break;case _0x923951['EdD']:_0x342c15['blendFuncSeparate'](_0x342c15['ZERO'],_0x342c15['SRC_COLOR'],_0x342c15['ZERO'],_0x342c15['SRC_ALPHA']);break;default:console['error']('THREE.WebGLState:\x20Invalid\x20blending:\x20',_0x335673);}else switch(_0x335673){case _0x923951['NTi']:_0x342c15['blendFuncSeparate'](_0x342c15['SRC_ALPHA'],_0x342c15['ONE_MINUS_SRC_ALPHA'],_0x342c15['ONE'],_0x342c15['ONE_MINUS_SRC_ALPHA']);break;case _0x923951['EZo']:_0x342c15['blendFunc'](_0x342c15['SRC_ALPHA'],_0x342c15['ONE']);break;case _0x923951['Kwu']:_0x342c15['blendFuncSeparate'](_0x342c15['ZERO'],_0x342c15['ONE_MINUS_SRC_COLOR'],_0x342c15['ZERO'],_0x342c15['ONE']);break;case _0x923951['EdD']:_0x342c15['blendFunc'](_0x342c15['ZERO'],_0x342c15['SRC_COLOR']);break;default:console['error']('THREE.WebGLState:\x20Invalid\x20blending:\x20',_0x335673);}_0x3fe014=null,_0x1eec59=null,_0xefa287=null,_0x3aa1ea=null,_0x497f7e['set'](0x0,0x0,0x0),_0x23046e=0x0,_0x5e42ee=_0x335673,_0x2b46d8=_0x3f3d16;}}}else!0x0===_0x1cfe73&&(_0x13c563(_0x342c15['BLEND']),_0x1cfe73=!0x1);}function _0x1720dc(_0x5ce1dd){_0x5b5668!==_0x5ce1dd&&(_0x5ce1dd?_0x342c15['frontFace'](_0x342c15['CW']):_0x342c15['frontFace'](_0x342c15['CCW']),_0x5b5668=_0x5ce1dd);}function _0x53bb07(_0x274c2a){_0x274c2a!==_0x923951['WNZ']?(_0x3abb03(_0x342c15['CULL_FACE']),_0x274c2a!==_0x272dc9&&(_0x274c2a===_0x923951['Vb5']?_0x342c15['cullFace'](_0x342c15['BACK']):_0x274c2a===_0x923951['Jnc']?_0x342c15['cullFace'](_0x342c15['FRONT']):_0x342c15['cullFace'](_0x342c15['FRONT_AND_BACK']))):_0x13c563(_0x342c15['CULL_FACE']),_0x272dc9=_0x274c2a;}function _0x3e6cd9(_0x48fcd9,_0x159b38,_0x29a5f7){_0x48fcd9?(_0x3abb03(_0x342c15['POLYGON_OFFSET_FILL']),_0x255c5c===_0x159b38&&_0x475d4a===_0x29a5f7||(_0x342c15['polygonOffset'](_0x159b38,_0x29a5f7),_0x255c5c=_0x159b38,_0x475d4a=_0x29a5f7)):_0x13c563(_0x342c15['POLYGON_OFFSET_FILL']);}return{'buffers':{'color':_0x459d30,'depth':_0x25261a,'stencil':_0x361df9},'enable':_0x3abb03,'disable':_0x13c563,'bindFramebuffer':function(_0x420312,_0x123d10){return _0x3faadc[_0x420312]!==_0x123d10&&(_0x342c15['bindFramebuffer'](_0x420312,_0x123d10),_0x3faadc[_0x420312]=_0x123d10,_0x420312===_0x342c15['DRAW_FRAMEBUFFER']&&(_0x3faadc[_0x342c15['FRAMEBUFFER']]=_0x123d10),_0x420312===_0x342c15['FRAMEBUFFER']&&(_0x3faadc[_0x342c15['DRAW_FRAMEBUFFER']]=_0x123d10),!0x0);},'drawBuffers':function(_0xc01d71,_0xa8f6b3){let _0x153752=_0x2177f5,_0x333683=!0x1;if(_0xc01d71){_0x153752=_0x187754['get'](_0xa8f6b3),void 0x0===_0x153752&&(_0x153752=[],_0x187754['set'](_0xa8f6b3,_0x153752));const _0x1beb21=_0xc01d71['textures'];if(_0x153752['length']!==_0x1beb21['length']||_0x153752[0x0]!==_0x342c15['COLOR_ATTACHMENT0']){for(let _0x1f0145=0x0,_0x1014a7=_0x1beb21['length'];_0x1f0145<_0x1014a7;_0x1f0145++)_0x153752[_0x1f0145]=_0x342c15['COLOR_ATTACHMENT0']+_0x1f0145;_0x153752['length']=_0x1beb21['length'],_0x333683=!0x0;}}else _0x153752[0x0]!==_0x342c15['BACK']&&(_0x153752[0x0]=_0x342c15['BACK'],_0x333683=!0x0);_0x333683&&_0x342c15['drawBuffers'](_0x153752);},'useProgram':function(_0x504768){return _0xbc1bf2!==_0x504768&&(_0x342c15['useProgram'](_0x504768),_0xbc1bf2=_0x504768,!0x0);},'setBlending':_0x36b3be,'setMaterial':function(_0x240ce2,_0x1fa24a){_0x240ce2['side']===_0x923951['$EB']?_0x13c563(_0x342c15['CULL_FACE']):_0x3abb03(_0x342c15['CULL_FACE']);let _0x486448=_0x240ce2['side']===_0x923951['hsX'];_0x1fa24a&&(_0x486448=!_0x486448),_0x1720dc(_0x486448),_0x240ce2['blending']===_0x923951['NTi']&&!0x1===_0x240ce2['transparent']?_0x36b3be(_0x923951['XIg']):_0x36b3be(_0x240ce2['blending'],_0x240ce2['blendEquation'],_0x240ce2['blendSrc'],_0x240ce2['blendDst'],_0x240ce2['blendEquationAlpha'],_0x240ce2['blendSrcAlpha'],_0x240ce2['blendDstAlpha'],_0x240ce2['blendColor'],_0x240ce2['blendAlpha'],_0x240ce2['premultipliedAlpha']),_0x25261a['setFunc'](_0x240ce2['depthFunc']),_0x25261a['setTest'](_0x240ce2['depthTest']),_0x25261a['setMask'](_0x240ce2['depthWrite']),_0x459d30['setMask'](_0x240ce2['colorWrite']);const _0x448711=_0x240ce2['stencilWrite'];_0x361df9['setTest'](_0x448711),_0x448711&&(_0x361df9['setMask'](_0x240ce2['stencilWriteMask']),_0x361df9['setFunc'](_0x240ce2['stencilFunc'],_0x240ce2['stencilRef'],_0x240ce2['stencilFuncMask']),_0x361df9['setOp'](_0x240ce2['stencilFail'],_0x240ce2['stencilZFail'],_0x240ce2['stencilZPass'])),_0x3e6cd9(_0x240ce2['polygonOffset'],_0x240ce2['polygonOffsetFactor'],_0x240ce2['polygonOffsetUnits']),!0x0===_0x240ce2['alphaToCoverage']?_0x3abb03(_0x342c15['SAMPLE_ALPHA_TO_COVERAGE']):_0x13c563(_0x342c15['SAMPLE_ALPHA_TO_COVERAGE']);},'setFlipSided':_0x1720dc,'setCullFace':_0x53bb07,'setLineWidth':function(_0x245365){_0x245365!==_0x5081b2&&(_0x2ca661&&_0x342c15['lineWidth'](_0x245365),_0x5081b2=_0x245365);},'setPolygonOffset':_0x3e6cd9,'setScissorTest':function(_0x61376e){_0x61376e?_0x3abb03(_0x342c15['SCISSOR_TEST']):_0x13c563(_0x342c15['SCISSOR_TEST']);},'activeTexture':function(_0x412331){void 0x0===_0x412331&&(_0x412331=_0x342c15['TEXTURE0']+_0x2bc1ce-0x1),_0x13f2c1!==_0x412331&&(_0x342c15['activeTexture'](_0x412331),_0x13f2c1=_0x412331);},'bindTexture':function(_0x20a828,_0x5de2ed,_0x579240){void 0x0===_0x579240&&(_0x579240=null===_0x13f2c1?_0x342c15['TEXTURE0']+_0x2bc1ce-0x1:_0x13f2c1);let _0x524254=_0x164fb4[_0x579240];void 0x0===_0x524254&&(_0x524254={'type':void 0x0,'texture':void 0x0},_0x164fb4[_0x579240]=_0x524254),_0x524254['type']===_0x20a828&&_0x524254['texture']===_0x5de2ed||(_0x13f2c1!==_0x579240&&(_0x342c15['activeTexture'](_0x579240),_0x13f2c1=_0x579240),_0x342c15['bindTexture'](_0x20a828,_0x5de2ed||_0x21c550[_0x20a828]),_0x524254['type']=_0x20a828,_0x524254['texture']=_0x5de2ed);},'unbindTexture':function(){const _0x1e3486=_0x164fb4[_0x13f2c1];void 0x0!==_0x1e3486&&void 0x0!==_0x1e3486['type']&&(_0x342c15['bindTexture'](_0x1e3486['type'],null),_0x1e3486['type']=void 0x0,_0x1e3486['texture']=void 0x0);},'compressedTexImage2D':function(){try{_0x342c15['compressedTexImage2D']['apply'](_0x342c15,arguments);}catch(_0x5a4cf9){console['error']('THREE.WebGLState:',_0x5a4cf9);}},'compressedTexImage3D':function(){try{_0x342c15['compressedTexImage3D']['apply'](_0x342c15,arguments);}catch(_0x537425){console['error']('THREE.WebGLState:',_0x537425);}},'texImage2D':function(){try{_0x342c15['texImage2D']['apply'](_0x342c15,arguments);}catch(_0x45eabc){console['error']('THREE.WebGLState:',_0x45eabc);}},'texImage3D':function(){try{_0x342c15['texImage3D']['apply'](_0x342c15,arguments);}catch(_0x4d2810){console['error']('THREE.WebGLState:',_0x4d2810);}},'updateUBOMapping':function(_0x126de7,_0x569002){let _0x28c25f=_0x569cf6['get'](_0x569002);void 0x0===_0x28c25f&&(_0x28c25f=new WeakMap(),_0x569cf6['set'](_0x569002,_0x28c25f));let _0x2987a3=_0x28c25f['get'](_0x126de7);void 0x0===_0x2987a3&&(_0x2987a3=_0x342c15['getUniformBlockIndex'](_0x569002,_0x126de7['name']),_0x28c25f['set'](_0x126de7,_0x2987a3));},'uniformBlockBinding':function(_0x4a6067,_0x1dc303){const _0x482bc2=_0x569cf6['get'](_0x1dc303)['get'](_0x4a6067);_0x24bc95['get'](_0x1dc303)!==_0x482bc2&&(_0x342c15['uniformBlockBinding'](_0x1dc303,_0x482bc2,_0x4a6067['__bindingPointIndex']),_0x24bc95['set'](_0x1dc303,_0x482bc2));},'texStorage2D':function(){try{_0x342c15['texStorage2D']['apply'](_0x342c15,arguments);}catch(_0x44ec47){console['error']('THREE.WebGLState:',_0x44ec47);}},'texStorage3D':function(){try{_0x342c15['texStorage3D']['apply'](_0x342c15,arguments);}catch(_0x4d7888){console['error']('THREE.WebGLState:',_0x4d7888);}},'texSubImage2D':function(){try{_0x342c15['texSubImage2D']['apply'](_0x342c15,arguments);}catch(_0xefa8ee){console['error']('THREE.WebGLState:',_0xefa8ee);}},'texSubImage3D':function(){try{_0x342c15['texSubImage3D']['apply'](_0x342c15,arguments);}catch(_0x13987f){console['error']('THREE.WebGLState:',_0x13987f);}},'compressedTexSubImage2D':function(){try{_0x342c15['compressedTexSubImage2D']['apply'](_0x342c15,arguments);}catch(_0x41f13f){console['error']('THREE.WebGLState:',_0x41f13f);}},'compressedTexSubImage3D':function(){try{_0x342c15['compressedTexSubImage3D']['apply'](_0x342c15,arguments);}catch(_0x3cae83){console['error']('THREE.WebGLState:',_0x3cae83);}},'scissor':function(_0x26bc69){!0x1===_0x11e751['equals'](_0x26bc69)&&(_0x342c15['scissor'](_0x26bc69['x'],_0x26bc69['y'],_0x26bc69['z'],_0x26bc69['w']),_0x11e751['copy'](_0x26bc69));},'viewport':function(_0x2f389d){!0x1===_0x26ddab['equals'](_0x2f389d)&&(_0x342c15['viewport'](_0x2f389d['x'],_0x2f389d['y'],_0x2f389d['z'],_0x2f389d['w']),_0x26ddab['copy'](_0x2f389d));},'reset':function(){_0x342c15['disable'](_0x342c15['BLEND']),_0x342c15['disable'](_0x342c15['CULL_FACE']),_0x342c15['disable'](_0x342c15['DEPTH_TEST']),_0x342c15['disable'](_0x342c15['POLYGON_OFFSET_FILL']),_0x342c15['disable'](_0x342c15['SCISSOR_TEST']),_0x342c15['disable'](_0x342c15['STENCIL_TEST']),_0x342c15['disable'](_0x342c15['SAMPLE_ALPHA_TO_COVERAGE']),_0x342c15['blendEquation'](_0x342c15['FUNC_ADD']),_0x342c15['blendFunc'](_0x342c15['ONE'],_0x342c15['ZERO']),_0x342c15['blendFuncSeparate'](_0x342c15['ONE'],_0x342c15['ZERO'],_0x342c15['ONE'],_0x342c15['ZERO']),_0x342c15['blendColor'](0x0,0x0,0x0,0x0),_0x342c15['colorMask'](!0x0,!0x0,!0x0,!0x0),_0x342c15['clearColor'](0x0,0x0,0x0,0x0),_0x342c15['depthMask'](!0x0),_0x342c15['depthFunc'](_0x342c15['LESS']),_0x25261a['setReversed'](!0x1),_0x342c15['clearDepth'](0x1),_0x342c15['stencilMask'](0xffffffff),_0x342c15['stencilFunc'](_0x342c15['ALWAYS'],0x0,0xffffffff),_0x342c15['stencilOp'](_0x342c15['KEEP'],_0x342c15['KEEP'],_0x342c15['KEEP']),_0x342c15['clearStencil'](0x0),_0x342c15['cullFace'](_0x342c15['BACK']),_0x342c15['frontFace'](_0x342c15['CCW']),_0x342c15['polygonOffset'](0x0,0x0),_0x342c15['activeTexture'](_0x342c15['TEXTURE0']),_0x342c15['bindFramebuffer'](_0x342c15['FRAMEBUFFER'],null),_0x342c15['bindFramebuffer'](_0x342c15['DRAW_FRAMEBUFFER'],null),_0x342c15['bindFramebuffer'](_0x342c15['READ_FRAMEBUFFER'],null),_0x342c15['useProgram'](null),_0x342c15['lineWidth'](0x1),_0x342c15['scissor'](0x0,0x0,_0x342c15['canvas']['width'],_0x342c15['canvas']['height']),_0x342c15['viewport'](0x0,0x0,_0x342c15['canvas']['width'],_0x342c15['canvas']['height']),_0x1275aa={},_0x13f2c1=null,_0x164fb4={},_0x3faadc={},_0x187754=new WeakMap(),_0x2177f5=[],_0xbc1bf2=null,_0x1cfe73=!0x1,_0x5e42ee=null,_0x4769a6=null,_0x3fe014=null,_0x1eec59=null,_0x27d240=null,_0xefa287=null,_0x3aa1ea=null,_0x497f7e=new _0x923951['Q1f'](0x0,0x0,0x0),_0x23046e=0x0,_0x2b46d8=!0x1,_0x5b5668=null,_0x272dc9=null,_0x5081b2=null,_0x255c5c=null,_0x475d4a=null,_0x11e751['set'](0x0,0x0,_0x342c15['canvas']['width'],_0x342c15['canvas']['height']),_0x26ddab['set'](0x0,0x0,_0x342c15['canvas']['width'],_0x342c15['canvas']['height']),_0x459d30['reset'](),_0x25261a['reset'](),_0x361df9['reset']();}};}function _0x491532(_0x3e0419,_0xf5a6b0,_0x3a5320,_0x237094,_0x2b6cda,_0x292b9f,_0x1e7e2a){const _0x16fa6a=_0xf5a6b0['has']('WEBGL_multisampled_render_to_texture')?_0xf5a6b0['get']('WEBGL_multisampled_render_to_texture'):null,_0x5a8ebd='undefined'!=typeof navigator&&/OculusBrowser/g['test'](navigator['userAgent']),_0x11696d=new _0x923951['I9Y'](),_0x545e73=new WeakMap();let _0x3a03a3;const _0x51a773=new WeakMap();let _0x3345b3=!0x1;try{_0x3345b3='undefined'!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(0x1,0x1)['getContext']('2d');}catch(_0x371c3a){}function _0xa52bd5(_0x1d6bae,_0x3b401d){return _0x3345b3?new OffscreenCanvas(_0x1d6bae,_0x3b401d):(0x0,_0x923951['qq$'])('canvas');}function _0x349a95(_0x5446a5,_0x1fe5be,_0x551821){let _0x5afb48=0x1;const _0x3962dd=_0xb815dd(_0x5446a5);if((_0x3962dd['width']>_0x551821||_0x3962dd['height']>_0x551821)&&(_0x5afb48=_0x551821/Math['max'](_0x3962dd['width'],_0x3962dd['height'])),_0x5afb48<0x1){if('undefined'!=typeof HTMLImageElement&&_0x5446a5 instanceof HTMLImageElement||'undefined'!=typeof HTMLCanvasElement&&_0x5446a5 instanceof HTMLCanvasElement||'undefined'!=typeof ImageBitmap&&_0x5446a5 instanceof ImageBitmap||'undefined'!=typeof VideoFrame&&_0x5446a5 instanceof VideoFrame){const _0x1ae59c=Math['floor'](_0x5afb48*_0x3962dd['width']),_0x28f18d=Math['floor'](_0x5afb48*_0x3962dd['height']);void 0x0===_0x3a03a3&&(_0x3a03a3=_0xa52bd5(_0x1ae59c,_0x28f18d));const _0x316942=_0x1fe5be?_0xa52bd5(_0x1ae59c,_0x28f18d):_0x3a03a3;return _0x316942['width']=_0x1ae59c,_0x316942['height']=_0x28f18d,(_0x316942['getContext']('2d')['drawImage'](_0x5446a5,0x0,0x0,_0x1ae59c,_0x28f18d),console['warn']('THREE.WebGLRenderer:\x20Texture\x20has\x20been\x20resized\x20from\x20('+_0x3962dd['width']+'x'+_0x3962dd['height']+')\x20to\x20('+_0x1ae59c+'x'+_0x28f18d+').'),_0x316942);}return'data'in _0x5446a5&&console['warn']('THREE.WebGLRenderer:\x20Image\x20in\x20DataTexture\x20is\x20too\x20big\x20('+_0x3962dd['width']+'x'+_0x3962dd['height']+').'),_0x5446a5;}return _0x5446a5;}function _0x5b1734(_0x1e6874){return _0x1e6874['generateMipmaps'];}function _0x2e6826(_0x818568){_0x3e0419['generateMipmap'](_0x818568);}function _0xbbdbe2(_0x4c2fe8){return _0x4c2fe8['isWebGLCubeRenderTarget']?_0x3e0419['TEXTURE_CUBE_MAP']:_0x4c2fe8['isWebGL3DRenderTarget']?_0x3e0419['TEXTURE_3D']:_0x4c2fe8['isWebGLArrayRenderTarget']||_0x4c2fe8['isCompressedArrayTexture']?_0x3e0419['TEXTURE_2D_ARRAY']:_0x3e0419['TEXTURE_2D'];}function _0x216989(_0x2402c4,_0x56978e,_0x32f77a,_0x29e5e1,_0x513416=!0x1){if(null!==_0x2402c4){if(void 0x0!==_0x3e0419[_0x2402c4])return _0x3e0419[_0x2402c4];console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20use\x20non-existing\x20WebGL\x20internal\x20format\x20\x27'+_0x2402c4+'\x27');}let _0x1002b2=_0x56978e;if(_0x56978e===_0x3e0419['RED']&&(_0x32f77a===_0x3e0419['FLOAT']&&(_0x1002b2=_0x3e0419['R32F']),_0x32f77a===_0x3e0419['HALF_FLOAT']&&(_0x1002b2=_0x3e0419['R16F']),_0x32f77a===_0x3e0419['UNSIGNED_BYTE']&&(_0x1002b2=_0x3e0419['R8'])),_0x56978e===_0x3e0419['RED_INTEGER']&&(_0x32f77a===_0x3e0419['UNSIGNED_BYTE']&&(_0x1002b2=_0x3e0419['R8UI']),_0x32f77a===_0x3e0419['UNSIGNED_SHORT']&&(_0x1002b2=_0x3e0419['R16UI']),_0x32f77a===_0x3e0419['UNSIGNED_INT']&&(_0x1002b2=_0x3e0419['R32UI']),_0x32f77a===_0x3e0419['BYTE']&&(_0x1002b2=_0x3e0419['R8I']),_0x32f77a===_0x3e0419['SHORT']&&(_0x1002b2=_0x3e0419['R16I']),_0x32f77a===_0x3e0419['INT']&&(_0x1002b2=_0x3e0419['R32I'])),_0x56978e===_0x3e0419['RG']&&(_0x32f77a===_0x3e0419['FLOAT']&&(_0x1002b2=_0x3e0419['RG32F']),_0x32f77a===_0x3e0419['HALF_FLOAT']&&(_0x1002b2=_0x3e0419['RG16F']),_0x32f77a===_0x3e0419['UNSIGNED_BYTE']&&(_0x1002b2=_0x3e0419['RG8'])),_0x56978e===_0x3e0419['RG_INTEGER']&&(_0x32f77a===_0x3e0419['UNSIGNED_BYTE']&&(_0x1002b2=_0x3e0419['RG8UI']),_0x32f77a===_0x3e0419['UNSIGNED_SHORT']&&(_0x1002b2=_0x3e0419['RG16UI']),_0x32f77a===_0x3e0419['UNSIGNED_INT']&&(_0x1002b2=_0x3e0419['RG32UI']),_0x32f77a===_0x3e0419['BYTE']&&(_0x1002b2=_0x3e0419['RG8I']),_0x32f77a===_0x3e0419['SHORT']&&(_0x1002b2=_0x3e0419['RG16I']),_0x32f77a===_0x3e0419['INT']&&(_0x1002b2=_0x3e0419['RG32I'])),_0x56978e===_0x3e0419['RGB_INTEGER']&&(_0x32f77a===_0x3e0419['UNSIGNED_BYTE']&&(_0x1002b2=_0x3e0419['RGB8UI']),_0x32f77a===_0x3e0419['UNSIGNED_SHORT']&&(_0x1002b2=_0x3e0419['RGB16UI']),_0x32f77a===_0x3e0419['UNSIGNED_INT']&&(_0x1002b2=_0x3e0419['RGB32UI']),_0x32f77a===_0x3e0419['BYTE']&&(_0x1002b2=_0x3e0419['RGB8I']),_0x32f77a===_0x3e0419['SHORT']&&(_0x1002b2=_0x3e0419['RGB16I']),_0x32f77a===_0x3e0419['INT']&&(_0x1002b2=_0x3e0419['RGB32I'])),_0x56978e===_0x3e0419['RGBA_INTEGER']&&(_0x32f77a===_0x3e0419['UNSIGNED_BYTE']&&(_0x1002b2=_0x3e0419['RGBA8UI']),_0x32f77a===_0x3e0419['UNSIGNED_SHORT']&&(_0x1002b2=_0x3e0419['RGBA16UI']),_0x32f77a===_0x3e0419['UNSIGNED_INT']&&(_0x1002b2=_0x3e0419['RGBA32UI']),_0x32f77a===_0x3e0419['BYTE']&&(_0x1002b2=_0x3e0419['RGBA8I']),_0x32f77a===_0x3e0419['SHORT']&&(_0x1002b2=_0x3e0419['RGBA16I']),_0x32f77a===_0x3e0419['INT']&&(_0x1002b2=_0x3e0419['RGBA32I'])),_0x56978e===_0x3e0419['RGB']&&_0x32f77a===_0x3e0419['UNSIGNED_INT_5_9_9_9_REV']&&(_0x1002b2=_0x3e0419['RGB9_E5']),_0x56978e===_0x3e0419['RGBA']){const _0x2b0ac9=_0x513416?_0x923951['VxR']:_0x923951['ppV']['getTransfer'](_0x29e5e1);_0x32f77a===_0x3e0419['FLOAT']&&(_0x1002b2=_0x3e0419['RGBA32F']),_0x32f77a===_0x3e0419['HALF_FLOAT']&&(_0x1002b2=_0x3e0419['RGBA16F']),_0x32f77a===_0x3e0419['UNSIGNED_BYTE']&&(_0x1002b2=_0x2b0ac9===_0x923951['KLL']?_0x3e0419['SRGB8_ALPHA8']:_0x3e0419['RGBA8']),_0x32f77a===_0x3e0419['UNSIGNED_SHORT_4_4_4_4']&&(_0x1002b2=_0x3e0419['RGBA4']),_0x32f77a===_0x3e0419['UNSIGNED_SHORT_5_5_5_1']&&(_0x1002b2=_0x3e0419['RGB5_A1']);}return _0x1002b2!==_0x3e0419['R16F']&&_0x1002b2!==_0x3e0419['R32F']&&_0x1002b2!==_0x3e0419['RG16F']&&_0x1002b2!==_0x3e0419['RG32F']&&_0x1002b2!==_0x3e0419['RGBA16F']&&_0x1002b2!==_0x3e0419['RGBA32F']||_0xf5a6b0['get']('EXT_color_buffer_float'),_0x1002b2;}function _0x451ec3(_0x2434a5,_0x267881){let _0x1d0da7;return _0x2434a5?null===_0x267881||_0x267881===_0x923951['bkx']||_0x267881===_0x923951['V3x']?_0x1d0da7=_0x3e0419['DEPTH24_STENCIL8']:_0x267881===_0x923951['RQf']?_0x1d0da7=_0x3e0419['DEPTH32F_STENCIL8']:_0x267881===_0x923951['cHt']&&(_0x1d0da7=_0x3e0419['DEPTH24_STENCIL8'],console['warn']('DepthTexture:\x2016\x20bit\x20depth\x20attachment\x20is\x20not\x20supported\x20with\x20stencil.\x20Using\x2024-bit\x20attachment.')):null===_0x267881||_0x267881===_0x923951['bkx']||_0x267881===_0x923951['V3x']?_0x1d0da7=_0x3e0419['DEPTH_COMPONENT24']:_0x267881===_0x923951['RQf']?_0x1d0da7=_0x3e0419['DEPTH_COMPONENT32F']:_0x267881===_0x923951['cHt']&&(_0x1d0da7=_0x3e0419['DEPTH_COMPONENT16']),_0x1d0da7;}function _0x42f83f(_0x1f489d,_0x502a6a){return!0x0===_0x5b1734(_0x1f489d)||_0x1f489d['isFramebufferTexture']&&_0x1f489d['minFilter']!==_0x923951['hxR']&&_0x1f489d['minFilter']!==_0x923951['k6q']?Math['log2'](Math['max'](_0x502a6a['width'],_0x502a6a['height']))+0x1:void 0x0!==_0x1f489d['mipmaps']&&_0x1f489d['mipmaps']['length']>0x0?_0x1f489d['mipmaps']['length']:_0x1f489d['isCompressedTexture']&&Array['isArray'](_0x1f489d['image'])?_0x502a6a['mipmaps']['length']:0x1;}function _0x49e2a6(_0x6c19b1){const _0x5430c7=_0x6c19b1['target'];_0x5430c7['removeEventListener']('dispose',_0x49e2a6),function(_0x500043){const _0x4c8b68=_0x237094['get'](_0x500043);if(void 0x0===_0x4c8b68['__webglInit'])return;const _0x35bc27=_0x500043['source'],_0x4f828a=_0x51a773['get'](_0x35bc27);if(_0x4f828a){const _0xbc80e7=_0x4f828a[_0x4c8b68['__cacheKey']];_0xbc80e7['usedTimes']--,0x0===_0xbc80e7['usedTimes']&&_0x184a7e(_0x500043),0x0===Object['keys'](_0x4f828a)['length']&&_0x51a773['delete'](_0x35bc27);}_0x237094['remove'](_0x500043);}(_0x5430c7),_0x5430c7['isVideoTexture']&&_0x545e73['delete'](_0x5430c7);}function _0x52eb65(_0x1f6db8){const _0x592d64=_0x1f6db8['target'];_0x592d64['removeEventListener']('dispose',_0x52eb65),function(_0x3f638b){const _0x11c690=_0x237094['get'](_0x3f638b);_0x3f638b['depthTexture']&&(_0x3f638b['depthTexture']['dispose'](),_0x237094['remove'](_0x3f638b['depthTexture']));if(_0x3f638b['isWebGLCubeRenderTarget'])for(let _0x3dc67c=0x0;_0x3dc67c<0x6;_0x3dc67c++){if(Array['isArray'](_0x11c690['__webglFramebuffer'][_0x3dc67c])){for(let _0x160ebc=0x0;_0x160ebc<_0x11c690['__webglFramebuffer'][_0x3dc67c]['length'];_0x160ebc++)_0x3e0419['deleteFramebuffer'](_0x11c690['__webglFramebuffer'][_0x3dc67c][_0x160ebc]);}else _0x3e0419['deleteFramebuffer'](_0x11c690['__webglFramebuffer'][_0x3dc67c]);_0x11c690['__webglDepthbuffer']&&_0x3e0419['deleteRenderbuffer'](_0x11c690['__webglDepthbuffer'][_0x3dc67c]);}else{if(Array['isArray'](_0x11c690['__webglFramebuffer'])){for(let _0x380528=0x0;_0x380528<_0x11c690['__webglFramebuffer']['length'];_0x380528++)_0x3e0419['deleteFramebuffer'](_0x11c690['__webglFramebuffer'][_0x380528]);}else _0x3e0419['deleteFramebuffer'](_0x11c690['__webglFramebuffer']);if(_0x11c690['__webglDepthbuffer']&&_0x3e0419['deleteRenderbuffer'](_0x11c690['__webglDepthbuffer']),_0x11c690['__webglMultisampledFramebuffer']&&_0x3e0419['deleteFramebuffer'](_0x11c690['__webglMultisampledFramebuffer']),_0x11c690['__webglColorRenderbuffer']){for(let _0x1e60a4=0x0;_0x1e60a4<_0x11c690['__webglColorRenderbuffer']['length'];_0x1e60a4++)_0x11c690['__webglColorRenderbuffer'][_0x1e60a4]&&_0x3e0419['deleteRenderbuffer'](_0x11c690['__webglColorRenderbuffer'][_0x1e60a4]);}_0x11c690['__webglDepthRenderbuffer']&&_0x3e0419['deleteRenderbuffer'](_0x11c690['__webglDepthRenderbuffer']);}const _0x669cd5=_0x3f638b['textures'];for(let _0x3c78b4=0x0,_0x3eb05c=_0x669cd5['length'];_0x3c78b4<_0x3eb05c;_0x3c78b4++){const _0xb2826a=_0x237094['get'](_0x669cd5[_0x3c78b4]);_0xb2826a['__webglTexture']&&(_0x3e0419['deleteTexture'](_0xb2826a['__webglTexture']),_0x1e7e2a['memory']['textures']--),_0x237094['remove'](_0x669cd5[_0x3c78b4]);}_0x237094['remove'](_0x3f638b);}(_0x592d64);}function _0x184a7e(_0xafbf76){const _0x4ea8f6=_0x237094['get'](_0xafbf76);_0x3e0419['deleteTexture'](_0x4ea8f6['__webglTexture']);const _0x48249a=_0xafbf76['source'];delete _0x51a773['get'](_0x48249a)[_0x4ea8f6['__cacheKey']],_0x1e7e2a['memory']['textures']--;}let _0x5836ef=0x0;function _0x4901a9(_0x29bb00,_0x4a69d4){const _0x4544da=_0x237094['get'](_0x29bb00);if(_0x29bb00['isVideoTexture']&&function(_0x1e86c5){const _0x6af437=_0x1e7e2a['render']['frame'];_0x545e73['get'](_0x1e86c5)!==_0x6af437&&(_0x545e73['set'](_0x1e86c5,_0x6af437),_0x1e86c5['update']());}(_0x29bb00),!0x1===_0x29bb00['isRenderTargetTexture']&&_0x29bb00['version']>0x0&&_0x4544da['__version']!==_0x29bb00['version']){const _0x5b6b6b=_0x29bb00['image'];if(null===_0x5b6b6b)console['warn']('THREE.WebGLRenderer:\x20Texture\x20marked\x20for\x20update\x20but\x20no\x20image\x20data\x20found.');else{if(!0x1!==_0x5b6b6b['complete'])return void _0x358d00(_0x4544da,_0x29bb00,_0x4a69d4);console['warn']('THREE.WebGLRenderer:\x20Texture\x20marked\x20for\x20update\x20but\x20image\x20is\x20incomplete');}}_0x3a5320['bindTexture'](_0x3e0419['TEXTURE_2D'],_0x4544da['__webglTexture'],_0x3e0419['TEXTURE0']+_0x4a69d4);}const _0x1a3f50={[_0x923951['GJx']]:_0x3e0419['REPEAT'],[_0x923951['ghU']]:_0x3e0419['CLAMP_TO_EDGE'],[_0x923951['kTW']]:_0x3e0419['MIRRORED_REPEAT']},_0x569935={[_0x923951['hxR']]:_0x3e0419['NEAREST'],[_0x923951['pHI']]:_0x3e0419['NEAREST_MIPMAP_NEAREST'],[_0x923951['Cfg']]:_0x3e0419['NEAREST_MIPMAP_LINEAR'],[_0x923951['k6q']]:_0x3e0419['LINEAR'],[_0x923951['kRr']]:_0x3e0419['LINEAR_MIPMAP_NEAREST'],[_0x923951['$_I']]:_0x3e0419['LINEAR_MIPMAP_LINEAR']},_0x285751={[_0x923951['amv']]:_0x3e0419['NEVER'],[_0x923951['FFZ']]:_0x3e0419['ALWAYS'],[_0x923951['vim']]:_0x3e0419['LESS'],[_0x923951['TiK']]:_0x3e0419['LEQUAL'],[_0x923951['kO0']]:_0x3e0419['EQUAL'],[_0x923951['gWB']]:_0x3e0419['GEQUAL'],[_0x923951['eoi']]:_0x3e0419['GREATER'],[_0x923951['jzd']]:_0x3e0419['NOTEQUAL']};function _0xcf86da(_0x5489e8,_0x526613){if(_0x526613['type']!==_0x923951['RQf']||!0x1!==_0xf5a6b0['has']('OES_texture_float_linear')||_0x526613['magFilter']!==_0x923951['k6q']&&_0x526613['magFilter']!==_0x923951['kRr']&&_0x526613['magFilter']!==_0x923951['Cfg']&&_0x526613['magFilter']!==_0x923951['$_I']&&_0x526613['minFilter']!==_0x923951['k6q']&&_0x526613['minFilter']!==_0x923951['kRr']&&_0x526613['minFilter']!==_0x923951['Cfg']&&_0x526613['minFilter']!==_0x923951['$_I']||console['warn']('THREE.WebGLRenderer:\x20Unable\x20to\x20use\x20linear\x20filtering\x20with\x20floating\x20point\x20textures.\x20OES_texture_float_linear\x20not\x20supported\x20on\x20this\x20device.'),_0x3e0419['texParameteri'](_0x5489e8,_0x3e0419['TEXTURE_WRAP_S'],_0x1a3f50[_0x526613['wrapS']]),_0x3e0419['texParameteri'](_0x5489e8,_0x3e0419['TEXTURE_WRAP_T'],_0x1a3f50[_0x526613['wrapT']]),_0x5489e8!==_0x3e0419['TEXTURE_3D']&&_0x5489e8!==_0x3e0419['TEXTURE_2D_ARRAY']||_0x3e0419['texParameteri'](_0x5489e8,_0x3e0419['TEXTURE_WRAP_R'],_0x1a3f50[_0x526613['wrapR']]),_0x3e0419['texParameteri'](_0x5489e8,_0x3e0419['TEXTURE_MAG_FILTER'],_0x569935[_0x526613['magFilter']]),_0x3e0419['texParameteri'](_0x5489e8,_0x3e0419['TEXTURE_MIN_FILTER'],_0x569935[_0x526613['minFilter']]),_0x526613['compareFunction']&&(_0x3e0419['texParameteri'](_0x5489e8,_0x3e0419['TEXTURE_COMPARE_MODE'],_0x3e0419['COMPARE_REF_TO_TEXTURE']),_0x3e0419['texParameteri'](_0x5489e8,_0x3e0419['TEXTURE_COMPARE_FUNC'],_0x285751[_0x526613['compareFunction']])),!0x0===_0xf5a6b0['has']('EXT_texture_filter_anisotropic')){if(_0x526613['magFilter']===_0x923951['hxR'])return;if(_0x526613['minFilter']!==_0x923951['Cfg']&&_0x526613['minFilter']!==_0x923951['$_I'])return;if(_0x526613['type']===_0x923951['RQf']&&!0x1===_0xf5a6b0['has']('OES_texture_float_linear'))return;if(_0x526613['anisotropy']>0x1||_0x237094['get'](_0x526613)['__currentAnisotropy']){const _0x452ca9=_0xf5a6b0['get']('EXT_texture_filter_anisotropic');_0x3e0419['texParameterf'](_0x5489e8,_0x452ca9['TEXTURE_MAX_ANISOTROPY_EXT'],Math['min'](_0x526613['anisotropy'],_0x2b6cda['getMaxAnisotropy']())),_0x237094['get'](_0x526613)['__currentAnisotropy']=_0x526613['anisotropy'];}}}function _0x469a15(_0x424092,_0x3e4af4){let _0x5d6b1e=!0x1;void 0x0===_0x424092['__webglInit']&&(_0x424092['__webglInit']=!0x0,_0x3e4af4['addEventListener']('dispose',_0x49e2a6));const _0x4f5ee6=_0x3e4af4['source'];let _0x2f01aa=_0x51a773['get'](_0x4f5ee6);void 0x0===_0x2f01aa&&(_0x2f01aa={},_0x51a773['set'](_0x4f5ee6,_0x2f01aa));const _0x261639=function(_0x310152){const _0x6cc076=[];return _0x6cc076['push'](_0x310152['wrapS']),_0x6cc076['push'](_0x310152['wrapT']),_0x6cc076['push'](_0x310152['wrapR']||0x0),_0x6cc076['push'](_0x310152['magFilter']),_0x6cc076['push'](_0x310152['minFilter']),_0x6cc076['push'](_0x310152['anisotropy']),_0x6cc076['push'](_0x310152['internalFormat']),_0x6cc076['push'](_0x310152['format']),_0x6cc076['push'](_0x310152['type']),_0x6cc076['push'](_0x310152['generateMipmaps']),_0x6cc076['push'](_0x310152['premultiplyAlpha']),_0x6cc076['push'](_0x310152['flipY']),_0x6cc076['push'](_0x310152['unpackAlignment']),_0x6cc076['push'](_0x310152['colorSpace']),_0x6cc076['join']();}(_0x3e4af4);if(_0x261639!==_0x424092['__cacheKey']){void 0x0===_0x2f01aa[_0x261639]&&(_0x2f01aa[_0x261639]={'texture':_0x3e0419['createTexture'](),'usedTimes':0x0},_0x1e7e2a['memory']['textures']++,_0x5d6b1e=!0x0),_0x2f01aa[_0x261639]['usedTimes']++;const _0x5e549e=_0x2f01aa[_0x424092['__cacheKey']];void 0x0!==_0x5e549e&&(_0x2f01aa[_0x424092['__cacheKey']]['usedTimes']--,0x0===_0x5e549e['usedTimes']&&_0x184a7e(_0x3e4af4)),_0x424092['__cacheKey']=_0x261639,_0x424092['__webglTexture']=_0x2f01aa[_0x261639]['texture'];}return _0x5d6b1e;}function _0x358d00(_0x21402c,_0x2d4217,_0x214fa2){let _0x18b2fe=_0x3e0419['TEXTURE_2D'];(_0x2d4217['isDataArrayTexture']||_0x2d4217['isCompressedArrayTexture'])&&(_0x18b2fe=_0x3e0419['TEXTURE_2D_ARRAY']),_0x2d4217['isData3DTexture']&&(_0x18b2fe=_0x3e0419['TEXTURE_3D']);const _0x334956=_0x469a15(_0x21402c,_0x2d4217),_0x2fb2d6=_0x2d4217['source'];_0x3a5320['bindTexture'](_0x18b2fe,_0x21402c['__webglTexture'],_0x3e0419['TEXTURE0']+_0x214fa2);const _0x153880=_0x237094['get'](_0x2fb2d6);if(_0x2fb2d6['version']!==_0x153880['__version']||!0x0===_0x334956){_0x3a5320['activeTexture'](_0x3e0419['TEXTURE0']+_0x214fa2);const _0x16d76a=_0x923951['ppV']['getPrimaries'](_0x923951['ppV']['workingColorSpace']),_0x30ff15=_0x2d4217['colorSpace']===_0x923951['jf0']?null:_0x923951['ppV']['getPrimaries'](_0x2d4217['colorSpace']),_0x4cfa15=_0x2d4217['colorSpace']===_0x923951['jf0']||_0x16d76a===_0x30ff15?_0x3e0419['NONE']:_0x3e0419['BROWSER_DEFAULT_WEBGL'];_0x3e0419['pixelStorei'](_0x3e0419['UNPACK_FLIP_Y_WEBGL'],_0x2d4217['flipY']),_0x3e0419['pixelStorei'](_0x3e0419['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x2d4217['premultiplyAlpha']),_0x3e0419['pixelStorei'](_0x3e0419['UNPACK_ALIGNMENT'],_0x2d4217['unpackAlignment']),_0x3e0419['pixelStorei'](_0x3e0419['UNPACK_COLORSPACE_CONVERSION_WEBGL'],_0x4cfa15);let _0x6c0673=_0x349a95(_0x2d4217['image'],!0x1,_0x2b6cda['maxTextureSize']);_0x6c0673=_0xcae902(_0x2d4217,_0x6c0673);const _0x396bfd=_0x292b9f['convert'](_0x2d4217['format'],_0x2d4217['colorSpace']),_0x171524=_0x292b9f['convert'](_0x2d4217['type']);let _0x5bc634,_0x992813=_0x216989(_0x2d4217['internalFormat'],_0x396bfd,_0x171524,_0x2d4217['colorSpace'],_0x2d4217['isVideoTexture']);_0xcf86da(_0x18b2fe,_0x2d4217);const _0x1726e4=_0x2d4217['mipmaps'],_0x4daef1=!0x0!==_0x2d4217['isVideoTexture'],_0x3cc2be=void 0x0===_0x153880['__version']||!0x0===_0x334956,_0x4ec631=_0x2fb2d6['dataReady'],_0x2cc716=_0x42f83f(_0x2d4217,_0x6c0673);if(_0x2d4217['isDepthTexture'])_0x992813=_0x451ec3(_0x2d4217['format']===_0x923951['dcC'],_0x2d4217['type']),_0x3cc2be&&(_0x4daef1?_0x3a5320['texStorage2D'](_0x3e0419['TEXTURE_2D'],0x1,_0x992813,_0x6c0673['width'],_0x6c0673['height']):_0x3a5320['texImage2D'](_0x3e0419['TEXTURE_2D'],0x0,_0x992813,_0x6c0673['width'],_0x6c0673['height'],0x0,_0x396bfd,_0x171524,null));else{if(_0x2d4217['isDataTexture']){if(_0x1726e4['length']>0x0){_0x4daef1&&_0x3cc2be&&_0x3a5320['texStorage2D'](_0x3e0419['TEXTURE_2D'],_0x2cc716,_0x992813,_0x1726e4[0x0]['width'],_0x1726e4[0x0]['height']);for(let _0x3304d0=0x0,_0x1ab510=_0x1726e4['length'];_0x3304d0<_0x1ab510;_0x3304d0++)_0x5bc634=_0x1726e4[_0x3304d0],_0x4daef1?_0x4ec631&&_0x3a5320['texSubImage2D'](_0x3e0419['TEXTURE_2D'],_0x3304d0,0x0,0x0,_0x5bc634['width'],_0x5bc634['height'],_0x396bfd,_0x171524,_0x5bc634['data']):_0x3a5320['texImage2D'](_0x3e0419['TEXTURE_2D'],_0x3304d0,_0x992813,_0x5bc634['width'],_0x5bc634['height'],0x0,_0x396bfd,_0x171524,_0x5bc634['data']);_0x2d4217['generateMipmaps']=!0x1;}else _0x4daef1?(_0x3cc2be&&_0x3a5320['texStorage2D'](_0x3e0419['TEXTURE_2D'],_0x2cc716,_0x992813,_0x6c0673['width'],_0x6c0673['height']),_0x4ec631&&_0x3a5320['texSubImage2D'](_0x3e0419['TEXTURE_2D'],0x0,0x0,0x0,_0x6c0673['width'],_0x6c0673['height'],_0x396bfd,_0x171524,_0x6c0673['data'])):_0x3a5320['texImage2D'](_0x3e0419['TEXTURE_2D'],0x0,_0x992813,_0x6c0673['width'],_0x6c0673['height'],0x0,_0x396bfd,_0x171524,_0x6c0673['data']);}else{if(_0x2d4217['isCompressedTexture']){if(_0x2d4217['isCompressedArrayTexture']){_0x4daef1&&_0x3cc2be&&_0x3a5320['texStorage3D'](_0x3e0419['TEXTURE_2D_ARRAY'],_0x2cc716,_0x992813,_0x1726e4[0x0]['width'],_0x1726e4[0x0]['height'],_0x6c0673['depth']);for(let _0x27ae69=0x0,_0x2f4b5c=_0x1726e4['length'];_0x27ae69<_0x2f4b5c;_0x27ae69++)if(_0x5bc634=_0x1726e4[_0x27ae69],_0x2d4217['format']!==_0x923951['GWd']){if(null!==_0x396bfd){if(_0x4daef1){if(_0x4ec631){if(_0x2d4217['layerUpdates']['size']>0x0){const _0x2f11a7=(0x0,_0x923951['Nex'])(_0x5bc634['width'],_0x5bc634['height'],_0x2d4217['format'],_0x2d4217['type']);for(const _0x1e03ce of _0x2d4217['layerUpdates']){const _0x39b03f=_0x5bc634['data']['subarray'](_0x1e03ce*_0x2f11a7/_0x5bc634['data']['BYTES_PER_ELEMENT'],(_0x1e03ce+0x1)*_0x2f11a7/_0x5bc634['data']['BYTES_PER_ELEMENT']);_0x3a5320['compressedTexSubImage3D'](_0x3e0419['TEXTURE_2D_ARRAY'],_0x27ae69,0x0,0x0,_0x1e03ce,_0x5bc634['width'],_0x5bc634['height'],0x1,_0x396bfd,_0x39b03f);}_0x2d4217['clearLayerUpdates']();}else _0x3a5320['compressedTexSubImage3D'](_0x3e0419['TEXTURE_2D_ARRAY'],_0x27ae69,0x0,0x0,0x0,_0x5bc634['width'],_0x5bc634['height'],_0x6c0673['depth'],_0x396bfd,_0x5bc634['data']);}}else _0x3a5320['compressedTexImage3D'](_0x3e0419['TEXTURE_2D_ARRAY'],_0x27ae69,_0x992813,_0x5bc634['width'],_0x5bc634['height'],_0x6c0673['depth'],0x0,_0x5bc634['data'],0x0,0x0);}else console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.uploadTexture()');}else _0x4daef1?_0x4ec631&&_0x3a5320['texSubImage3D'](_0x3e0419['TEXTURE_2D_ARRAY'],_0x27ae69,0x0,0x0,0x0,_0x5bc634['width'],_0x5bc634['height'],_0x6c0673['depth'],_0x396bfd,_0x171524,_0x5bc634['data']):_0x3a5320['texImage3D'](_0x3e0419['TEXTURE_2D_ARRAY'],_0x27ae69,_0x992813,_0x5bc634['width'],_0x5bc634['height'],_0x6c0673['depth'],0x0,_0x396bfd,_0x171524,_0x5bc634['data']);}else{_0x4daef1&&_0x3cc2be&&_0x3a5320['texStorage2D'](_0x3e0419['TEXTURE_2D'],_0x2cc716,_0x992813,_0x1726e4[0x0]['width'],_0x1726e4[0x0]['height']);for(let _0x1270eb=0x0,_0xabaad2=_0x1726e4['length'];_0x1270eb<_0xabaad2;_0x1270eb++)_0x5bc634=_0x1726e4[_0x1270eb],_0x2d4217['format']!==_0x923951['GWd']?null!==_0x396bfd?_0x4daef1?_0x4ec631&&_0x3a5320['compressedTexSubImage2D'](_0x3e0419['TEXTURE_2D'],_0x1270eb,0x0,0x0,_0x5bc634['width'],_0x5bc634['height'],_0x396bfd,_0x5bc634['data']):_0x3a5320['compressedTexImage2D'](_0x3e0419['TEXTURE_2D'],_0x1270eb,_0x992813,_0x5bc634['width'],_0x5bc634['height'],0x0,_0x5bc634['data']):console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.uploadTexture()'):_0x4daef1?_0x4ec631&&_0x3a5320['texSubImage2D'](_0x3e0419['TEXTURE_2D'],_0x1270eb,0x0,0x0,_0x5bc634['width'],_0x5bc634['height'],_0x396bfd,_0x171524,_0x5bc634['data']):_0x3a5320['texImage2D'](_0x3e0419['TEXTURE_2D'],_0x1270eb,_0x992813,_0x5bc634['width'],_0x5bc634['height'],0x0,_0x396bfd,_0x171524,_0x5bc634['data']);}}else{if(_0x2d4217['isDataArrayTexture']){if(_0x4daef1){if(_0x3cc2be&&_0x3a5320['texStorage3D'](_0x3e0419['TEXTURE_2D_ARRAY'],_0x2cc716,_0x992813,_0x6c0673['width'],_0x6c0673['height'],_0x6c0673['depth']),_0x4ec631){if(_0x2d4217['layerUpdates']['size']>0x0){const _0x1b4ebf=(0x0,_0x923951['Nex'])(_0x6c0673['width'],_0x6c0673['height'],_0x2d4217['format'],_0x2d4217['type']);for(const _0x216c80 of _0x2d4217['layerUpdates']){const _0x3b5cd9=_0x6c0673['data']['subarray'](_0x216c80*_0x1b4ebf/_0x6c0673['data']['BYTES_PER_ELEMENT'],(_0x216c80+0x1)*_0x1b4ebf/_0x6c0673['data']['BYTES_PER_ELEMENT']);_0x3a5320['texSubImage3D'](_0x3e0419['TEXTURE_2D_ARRAY'],0x0,0x0,0x0,_0x216c80,_0x6c0673['width'],_0x6c0673['height'],0x1,_0x396bfd,_0x171524,_0x3b5cd9);}_0x2d4217['clearLayerUpdates']();}else _0x3a5320['texSubImage3D'](_0x3e0419['TEXTURE_2D_ARRAY'],0x0,0x0,0x0,0x0,_0x6c0673['width'],_0x6c0673['height'],_0x6c0673['depth'],_0x396bfd,_0x171524,_0x6c0673['data']);}}else _0x3a5320['texImage3D'](_0x3e0419['TEXTURE_2D_ARRAY'],0x0,_0x992813,_0x6c0673['width'],_0x6c0673['height'],_0x6c0673['depth'],0x0,_0x396bfd,_0x171524,_0x6c0673['data']);}else{if(_0x2d4217['isData3DTexture'])_0x4daef1?(_0x3cc2be&&_0x3a5320['texStorage3D'](_0x3e0419['TEXTURE_3D'],_0x2cc716,_0x992813,_0x6c0673['width'],_0x6c0673['height'],_0x6c0673['depth']),_0x4ec631&&_0x3a5320['texSubImage3D'](_0x3e0419['TEXTURE_3D'],0x0,0x0,0x0,0x0,_0x6c0673['width'],_0x6c0673['height'],_0x6c0673['depth'],_0x396bfd,_0x171524,_0x6c0673['data'])):_0x3a5320['texImage3D'](_0x3e0419['TEXTURE_3D'],0x0,_0x992813,_0x6c0673['width'],_0x6c0673['height'],_0x6c0673['depth'],0x0,_0x396bfd,_0x171524,_0x6c0673['data']);else{if(_0x2d4217['isFramebufferTexture']){if(_0x3cc2be){if(_0x4daef1)_0x3a5320['texStorage2D'](_0x3e0419['TEXTURE_2D'],_0x2cc716,_0x992813,_0x6c0673['width'],_0x6c0673['height']);else{let _0x4dd20d=_0x6c0673['width'],_0x464b4e=_0x6c0673['height'];for(let _0x3fcbc1=0x0;_0x3fcbc1<_0x2cc716;_0x3fcbc1++)_0x3a5320['texImage2D'](_0x3e0419['TEXTURE_2D'],_0x3fcbc1,_0x992813,_0x4dd20d,_0x464b4e,0x0,_0x396bfd,_0x171524,null),_0x4dd20d>>=0x1,_0x464b4e>>=0x1;}}}else{if(_0x1726e4['length']>0x0){if(_0x4daef1&&_0x3cc2be){const _0x40cf62=_0xb815dd(_0x1726e4[0x0]);_0x3a5320['texStorage2D'](_0x3e0419['TEXTURE_2D'],_0x2cc716,_0x992813,_0x40cf62['width'],_0x40cf62['height']);}for(let _0x4e9a8f=0x0,_0x12d170=_0x1726e4['length'];_0x4e9a8f<_0x12d170;_0x4e9a8f++)_0x5bc634=_0x1726e4[_0x4e9a8f],_0x4daef1?_0x4ec631&&_0x3a5320['texSubImage2D'](_0x3e0419['TEXTURE_2D'],_0x4e9a8f,0x0,0x0,_0x396bfd,_0x171524,_0x5bc634):_0x3a5320['texImage2D'](_0x3e0419['TEXTURE_2D'],_0x4e9a8f,_0x992813,_0x396bfd,_0x171524,_0x5bc634);_0x2d4217['generateMipmaps']=!0x1;}else{if(_0x4daef1){if(_0x3cc2be){const _0x650bc=_0xb815dd(_0x6c0673);_0x3a5320['texStorage2D'](_0x3e0419['TEXTURE_2D'],_0x2cc716,_0x992813,_0x650bc['width'],_0x650bc['height']);}_0x4ec631&&_0x3a5320['texSubImage2D'](_0x3e0419['TEXTURE_2D'],0x0,0x0,0x0,_0x396bfd,_0x171524,_0x6c0673);}else _0x3a5320['texImage2D'](_0x3e0419['TEXTURE_2D'],0x0,_0x992813,_0x396bfd,_0x171524,_0x6c0673);}}}}}}}_0x5b1734(_0x2d4217)&&_0x2e6826(_0x18b2fe),_0x153880['__version']=_0x2fb2d6['version'],_0x2d4217['onUpdate']&&_0x2d4217['onUpdate'](_0x2d4217);}_0x21402c['__version']=_0x2d4217['version'];}function _0x57449a(_0x5ee8cd,_0x10487b,_0x16d77d,_0x300ae2,_0x3a4bef,_0x2edcc0){const _0x43690c=_0x292b9f['convert'](_0x16d77d['format'],_0x16d77d['colorSpace']),_0x5626d3=_0x292b9f['convert'](_0x16d77d['type']),_0x18a93f=_0x216989(_0x16d77d['internalFormat'],_0x43690c,_0x5626d3,_0x16d77d['colorSpace']),_0x3d4489=_0x237094['get'](_0x10487b),_0x3c7733=_0x237094['get'](_0x16d77d);if(_0x3c7733['__renderTarget']=_0x10487b,!_0x3d4489['__hasExternalTextures']){const _0x55d0b8=Math['max'](0x1,_0x10487b['width']>>_0x2edcc0),_0x3dc2b8=Math['max'](0x1,_0x10487b['height']>>_0x2edcc0);_0x3a4bef===_0x3e0419['TEXTURE_3D']||_0x3a4bef===_0x3e0419['TEXTURE_2D_ARRAY']?_0x3a5320['texImage3D'](_0x3a4bef,_0x2edcc0,_0x18a93f,_0x55d0b8,_0x3dc2b8,_0x10487b['depth'],0x0,_0x43690c,_0x5626d3,null):_0x3a5320['texImage2D'](_0x3a4bef,_0x2edcc0,_0x18a93f,_0x55d0b8,_0x3dc2b8,0x0,_0x43690c,_0x5626d3,null);}_0x3a5320['bindFramebuffer'](_0x3e0419['FRAMEBUFFER'],_0x5ee8cd),_0x3ecb91(_0x10487b)?_0x16fa6a['framebufferTexture2DMultisampleEXT'](_0x3e0419['FRAMEBUFFER'],_0x300ae2,_0x3a4bef,_0x3c7733['__webglTexture'],0x0,_0x118fba(_0x10487b)):(_0x3a4bef===_0x3e0419['TEXTURE_2D']||_0x3a4bef>=_0x3e0419['TEXTURE_CUBE_MAP_POSITIVE_X']&&_0x3a4bef<=_0x3e0419['TEXTURE_CUBE_MAP_NEGATIVE_Z'])&&_0x3e0419['framebufferTexture2D'](_0x3e0419['FRAMEBUFFER'],_0x300ae2,_0x3a4bef,_0x3c7733['__webglTexture'],_0x2edcc0),_0x3a5320['bindFramebuffer'](_0x3e0419['FRAMEBUFFER'],null);}function _0x5888c1(_0x34b5ae,_0x4a4372,_0x3a1257){if(_0x3e0419['bindRenderbuffer'](_0x3e0419['RENDERBUFFER'],_0x34b5ae),_0x4a4372['depthBuffer']){const _0x440769=_0x4a4372['depthTexture'],_0x5df680=_0x440769&&_0x440769['isDepthTexture']?_0x440769['type']:null,_0x511b7f=_0x451ec3(_0x4a4372['stencilBuffer'],_0x5df680),_0x4e8b13=_0x4a4372['stencilBuffer']?_0x3e0419['DEPTH_STENCIL_ATTACHMENT']:_0x3e0419['DEPTH_ATTACHMENT'],_0x1f6eff=_0x118fba(_0x4a4372);_0x3ecb91(_0x4a4372)?_0x16fa6a['renderbufferStorageMultisampleEXT'](_0x3e0419['RENDERBUFFER'],_0x1f6eff,_0x511b7f,_0x4a4372['width'],_0x4a4372['height']):_0x3a1257?_0x3e0419['renderbufferStorageMultisample'](_0x3e0419['RENDERBUFFER'],_0x1f6eff,_0x511b7f,_0x4a4372['width'],_0x4a4372['height']):_0x3e0419['renderbufferStorage'](_0x3e0419['RENDERBUFFER'],_0x511b7f,_0x4a4372['width'],_0x4a4372['height']),_0x3e0419['framebufferRenderbuffer'](_0x3e0419['FRAMEBUFFER'],_0x4e8b13,_0x3e0419['RENDERBUFFER'],_0x34b5ae);}else{const _0x98c36d=_0x4a4372['textures'];for(let _0x30da4b=0x0;_0x30da4b<_0x98c36d['length'];_0x30da4b++){const _0x58a66f=_0x98c36d[_0x30da4b],_0x1f8ccb=_0x292b9f['convert'](_0x58a66f['format'],_0x58a66f['colorSpace']),_0x43ef5b=_0x292b9f['convert'](_0x58a66f['type']),_0x48576e=_0x216989(_0x58a66f['internalFormat'],_0x1f8ccb,_0x43ef5b,_0x58a66f['colorSpace']),_0x25f9bc=_0x118fba(_0x4a4372);_0x3a1257&&!0x1===_0x3ecb91(_0x4a4372)?_0x3e0419['renderbufferStorageMultisample'](_0x3e0419['RENDERBUFFER'],_0x25f9bc,_0x48576e,_0x4a4372['width'],_0x4a4372['height']):_0x3ecb91(_0x4a4372)?_0x16fa6a['renderbufferStorageMultisampleEXT'](_0x3e0419['RENDERBUFFER'],_0x25f9bc,_0x48576e,_0x4a4372['width'],_0x4a4372['height']):_0x3e0419['renderbufferStorage'](_0x3e0419['RENDERBUFFER'],_0x48576e,_0x4a4372['width'],_0x4a4372['height']);}}_0x3e0419['bindRenderbuffer'](_0x3e0419['RENDERBUFFER'],null);}function _0x57947a(_0x2e8c19){const _0x5a361f=_0x237094['get'](_0x2e8c19),_0x4e74c0=!0x0===_0x2e8c19['isWebGLCubeRenderTarget'];if(_0x5a361f['__boundDepthTexture']!==_0x2e8c19['depthTexture']){const _0x52dd28=_0x2e8c19['depthTexture'];if(_0x5a361f['__depthDisposeCallback']&&_0x5a361f['__depthDisposeCallback'](),_0x52dd28){const _0x32637a=()=>{delete _0x5a361f['__boundDepthTexture'],delete _0x5a361f['__depthDisposeCallback'],_0x52dd28['removeEventListener']('dispose',_0x32637a);};_0x52dd28['addEventListener']('dispose',_0x32637a),_0x5a361f['__depthDisposeCallback']=_0x32637a;}_0x5a361f['__boundDepthTexture']=_0x52dd28;}if(_0x2e8c19['depthTexture']&&!_0x5a361f['__autoAllocateDepthBuffer']){if(_0x4e74c0)throw new Error('target.depthTexture\x20not\x20supported\x20in\x20Cube\x20render\x20targets');!function(_0x799eda,_0xc3272d){if(_0xc3272d&&_0xc3272d['isWebGLCubeRenderTarget'])throw new Error('Depth\x20Texture\x20with\x20cube\x20render\x20targets\x20is\x20not\x20supported');if(_0x3a5320['bindFramebuffer'](_0x3e0419['FRAMEBUFFER'],_0x799eda),!_0xc3272d['depthTexture']||!_0xc3272d['depthTexture']['isDepthTexture'])throw new Error('renderTarget.depthTexture\x20must\x20be\x20an\x20instance\x20of\x20THREE.DepthTexture');const _0x11a952=_0x237094['get'](_0xc3272d['depthTexture']);_0x11a952['__renderTarget']=_0xc3272d,_0x11a952['__webglTexture']&&_0xc3272d['depthTexture']['image']['width']===_0xc3272d['width']&&_0xc3272d['depthTexture']['image']['height']===_0xc3272d['height']||(_0xc3272d['depthTexture']['image']['width']=_0xc3272d['width'],_0xc3272d['depthTexture']['image']['height']=_0xc3272d['height'],_0xc3272d['depthTexture']['needsUpdate']=!0x0),_0x4901a9(_0xc3272d['depthTexture'],0x0);const _0x54e3f5=_0x11a952['__webglTexture'],_0x38c134=_0x118fba(_0xc3272d);if(_0xc3272d['depthTexture']['format']===_0x923951['zdS'])_0x3ecb91(_0xc3272d)?_0x16fa6a['framebufferTexture2DMultisampleEXT'](_0x3e0419['FRAMEBUFFER'],_0x3e0419['DEPTH_ATTACHMENT'],_0x3e0419['TEXTURE_2D'],_0x54e3f5,0x0,_0x38c134):_0x3e0419['framebufferTexture2D'](_0x3e0419['FRAMEBUFFER'],_0x3e0419['DEPTH_ATTACHMENT'],_0x3e0419['TEXTURE_2D'],_0x54e3f5,0x0);else{if(_0xc3272d['depthTexture']['format']!==_0x923951['dcC'])throw new Error('Unknown\x20depthTexture\x20format');_0x3ecb91(_0xc3272d)?_0x16fa6a['framebufferTexture2DMultisampleEXT'](_0x3e0419['FRAMEBUFFER'],_0x3e0419['DEPTH_STENCIL_ATTACHMENT'],_0x3e0419['TEXTURE_2D'],_0x54e3f5,0x0,_0x38c134):_0x3e0419['framebufferTexture2D'](_0x3e0419['FRAMEBUFFER'],_0x3e0419['DEPTH_STENCIL_ATTACHMENT'],_0x3e0419['TEXTURE_2D'],_0x54e3f5,0x0);}}(_0x5a361f['__webglFramebuffer'],_0x2e8c19);}else{if(_0x4e74c0){_0x5a361f['__webglDepthbuffer']=[];for(let _0x12fdcd=0x0;_0x12fdcd<0x6;_0x12fdcd++)if(_0x3a5320['bindFramebuffer'](_0x3e0419['FRAMEBUFFER'],_0x5a361f['__webglFramebuffer'][_0x12fdcd]),void 0x0===_0x5a361f['__webglDepthbuffer'][_0x12fdcd])_0x5a361f['__webglDepthbuffer'][_0x12fdcd]=_0x3e0419['createRenderbuffer'](),_0x5888c1(_0x5a361f['__webglDepthbuffer'][_0x12fdcd],_0x2e8c19,!0x1);else{const _0x12e61d=_0x2e8c19['stencilBuffer']?_0x3e0419['DEPTH_STENCIL_ATTACHMENT']:_0x3e0419['DEPTH_ATTACHMENT'],_0x5b31d8=_0x5a361f['__webglDepthbuffer'][_0x12fdcd];_0x3e0419['bindRenderbuffer'](_0x3e0419['RENDERBUFFER'],_0x5b31d8),_0x3e0419['framebufferRenderbuffer'](_0x3e0419['FRAMEBUFFER'],_0x12e61d,_0x3e0419['RENDERBUFFER'],_0x5b31d8);}}else{if(_0x3a5320['bindFramebuffer'](_0x3e0419['FRAMEBUFFER'],_0x5a361f['__webglFramebuffer']),void 0x0===_0x5a361f['__webglDepthbuffer'])_0x5a361f['__webglDepthbuffer']=_0x3e0419['createRenderbuffer'](),_0x5888c1(_0x5a361f['__webglDepthbuffer'],_0x2e8c19,!0x1);else{const _0x2e3439=_0x2e8c19['stencilBuffer']?_0x3e0419['DEPTH_STENCIL_ATTACHMENT']:_0x3e0419['DEPTH_ATTACHMENT'],_0x55d4cd=_0x5a361f['__webglDepthbuffer'];_0x3e0419['bindRenderbuffer'](_0x3e0419['RENDERBUFFER'],_0x55d4cd),_0x3e0419['framebufferRenderbuffer'](_0x3e0419['FRAMEBUFFER'],_0x2e3439,_0x3e0419['RENDERBUFFER'],_0x55d4cd);}}}_0x3a5320['bindFramebuffer'](_0x3e0419['FRAMEBUFFER'],null);}const _0x25b874=[],_0x493248=[];function _0x118fba(_0x2f0ca5){return Math['min'](_0x2b6cda['maxSamples'],_0x2f0ca5['samples']);}function _0x3ecb91(_0x4cd8c9){const _0x3fc50d=_0x237094['get'](_0x4cd8c9);return _0x4cd8c9['samples']>0x0&&!0x0===_0xf5a6b0['has']('WEBGL_multisampled_render_to_texture')&&!0x1!==_0x3fc50d['__useRenderToTexture'];}function _0xcae902(_0x279d8e,_0x56d0eb){const _0x503be8=_0x279d8e['colorSpace'],_0x48cc53=_0x279d8e['format'],_0x444b12=_0x279d8e['type'];return!0x0===_0x279d8e['isCompressedTexture']||!0x0===_0x279d8e['isVideoTexture']||_0x503be8!==_0x923951['Zr2']&&_0x503be8!==_0x923951['jf0']&&(_0x923951['ppV']['getTransfer'](_0x503be8)===_0x923951['KLL']?_0x48cc53===_0x923951['GWd']&&_0x444b12===_0x923951['OUM']||console['warn']('THREE.WebGLTextures:\x20sRGB\x20encoded\x20textures\x20have\x20to\x20use\x20RGBAFormat\x20and\x20UnsignedByteType.'):console['error']('THREE.WebGLTextures:\x20Unsupported\x20texture\x20color\x20space:',_0x503be8)),_0x56d0eb;}function _0xb815dd(_0x3bb02b){return'undefined'!=typeof HTMLImageElement&&_0x3bb02b instanceof HTMLImageElement?(_0x11696d['width']=_0x3bb02b['naturalWidth']||_0x3bb02b['width'],_0x11696d['height']=_0x3bb02b['naturalHeight']||_0x3bb02b['height']):'undefined'!=typeof VideoFrame&&_0x3bb02b instanceof VideoFrame?(_0x11696d['width']=_0x3bb02b['displayWidth'],_0x11696d['height']=_0x3bb02b['displayHeight']):(_0x11696d['width']=_0x3bb02b['width'],_0x11696d['height']=_0x3bb02b['height']),_0x11696d;}this['allocateTextureUnit']=function(){const _0x450bff=_0x5836ef;return _0x450bff>=_0x2b6cda['maxTextures']&&console['warn']('THREE.WebGLTextures:\x20Trying\x20to\x20use\x20'+_0x450bff+'\x20texture\x20units\x20while\x20this\x20GPU\x20supports\x20only\x20'+_0x2b6cda['maxTextures']),_0x5836ef+=0x1,_0x450bff;},this['resetTextureUnits']=function(){_0x5836ef=0x0;},this['setTexture2D']=_0x4901a9,this['setTexture2DArray']=function(_0x154eb7,_0x551367){const _0x114648=_0x237094['get'](_0x154eb7);_0x154eb7['version']>0x0&&_0x114648['__version']!==_0x154eb7['version']?_0x358d00(_0x114648,_0x154eb7,_0x551367):_0x3a5320['bindTexture'](_0x3e0419['TEXTURE_2D_ARRAY'],_0x114648['__webglTexture'],_0x3e0419['TEXTURE0']+_0x551367);},this['setTexture3D']=function(_0x2f345c,_0x548076){const _0x3c098d=_0x237094['get'](_0x2f345c);_0x2f345c['version']>0x0&&_0x3c098d['__version']!==_0x2f345c['version']?_0x358d00(_0x3c098d,_0x2f345c,_0x548076):_0x3a5320['bindTexture'](_0x3e0419['TEXTURE_3D'],_0x3c098d['__webglTexture'],_0x3e0419['TEXTURE0']+_0x548076);},this['setTextureCube']=function(_0x210c75,_0x58a5d9){const _0x492e07=_0x237094['get'](_0x210c75);_0x210c75['version']>0x0&&_0x492e07['__version']!==_0x210c75['version']?function(_0x2f1221,_0x4b23d2,_0xf52a85){if(0x6!==_0x4b23d2['image']['length'])return;const _0x4562f7=_0x469a15(_0x2f1221,_0x4b23d2),_0x4491aa=_0x4b23d2['source'];_0x3a5320['bindTexture'](_0x3e0419['TEXTURE_CUBE_MAP'],_0x2f1221['__webglTexture'],_0x3e0419['TEXTURE0']+_0xf52a85);const _0x3ba67a=_0x237094['get'](_0x4491aa);if(_0x4491aa['version']!==_0x3ba67a['__version']||!0x0===_0x4562f7){_0x3a5320['activeTexture'](_0x3e0419['TEXTURE0']+_0xf52a85);const _0x2af220=_0x923951['ppV']['getPrimaries'](_0x923951['ppV']['workingColorSpace']),_0x5f505f=_0x4b23d2['colorSpace']===_0x923951['jf0']?null:_0x923951['ppV']['getPrimaries'](_0x4b23d2['colorSpace']),_0x48b4da=_0x4b23d2['colorSpace']===_0x923951['jf0']||_0x2af220===_0x5f505f?_0x3e0419['NONE']:_0x3e0419['BROWSER_DEFAULT_WEBGL'];_0x3e0419['pixelStorei'](_0x3e0419['UNPACK_FLIP_Y_WEBGL'],_0x4b23d2['flipY']),_0x3e0419['pixelStorei'](_0x3e0419['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x4b23d2['premultiplyAlpha']),_0x3e0419['pixelStorei'](_0x3e0419['UNPACK_ALIGNMENT'],_0x4b23d2['unpackAlignment']),_0x3e0419['pixelStorei'](_0x3e0419['UNPACK_COLORSPACE_CONVERSION_WEBGL'],_0x48b4da);const _0x1d9a95=_0x4b23d2['isCompressedTexture']||_0x4b23d2['image'][0x0]['isCompressedTexture'],_0x30f241=_0x4b23d2['image'][0x0]&&_0x4b23d2['image'][0x0]['isDataTexture'],_0x8ad593=[];for(let _0x56e5f7=0x0;_0x56e5f7<0x6;_0x56e5f7++)_0x8ad593[_0x56e5f7]=_0x1d9a95||_0x30f241?_0x30f241?_0x4b23d2['image'][_0x56e5f7]['image']:_0x4b23d2['image'][_0x56e5f7]:_0x349a95(_0x4b23d2['image'][_0x56e5f7],!0x0,_0x2b6cda['maxCubemapSize']),_0x8ad593[_0x56e5f7]=_0xcae902(_0x4b23d2,_0x8ad593[_0x56e5f7]);const _0x2382e4=_0x8ad593[0x0],_0x43b313=_0x292b9f['convert'](_0x4b23d2['format'],_0x4b23d2['colorSpace']),_0x1ef704=_0x292b9f['convert'](_0x4b23d2['type']),_0x2c1c58=_0x216989(_0x4b23d2['internalFormat'],_0x43b313,_0x1ef704,_0x4b23d2['colorSpace']),_0x240c94=!0x0!==_0x4b23d2['isVideoTexture'],_0x42db52=void 0x0===_0x3ba67a['__version']||!0x0===_0x4562f7,_0x2ed786=_0x4491aa['dataReady'];let _0x3169da,_0x458e7b=_0x42f83f(_0x4b23d2,_0x2382e4);if(_0xcf86da(_0x3e0419['TEXTURE_CUBE_MAP'],_0x4b23d2),_0x1d9a95){_0x240c94&&_0x42db52&&_0x3a5320['texStorage2D'](_0x3e0419['TEXTURE_CUBE_MAP'],_0x458e7b,_0x2c1c58,_0x2382e4['width'],_0x2382e4['height']);for(let _0x27f01e=0x0;_0x27f01e<0x6;_0x27f01e++){_0x3169da=_0x8ad593[_0x27f01e]['mipmaps'];for(let _0xcf7dbc=0x0;_0xcf7dbc<_0x3169da['length'];_0xcf7dbc++){const _0x411cf3=_0x3169da[_0xcf7dbc];_0x4b23d2['format']!==_0x923951['GWd']?null!==_0x43b313?_0x240c94?_0x2ed786&&_0x3a5320['compressedTexSubImage2D'](_0x3e0419['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x27f01e,_0xcf7dbc,0x0,0x0,_0x411cf3['width'],_0x411cf3['height'],_0x43b313,_0x411cf3['data']):_0x3a5320['compressedTexImage2D'](_0x3e0419['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x27f01e,_0xcf7dbc,_0x2c1c58,_0x411cf3['width'],_0x411cf3['height'],0x0,_0x411cf3['data']):console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.setTextureCube()'):_0x240c94?_0x2ed786&&_0x3a5320['texSubImage2D'](_0x3e0419['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x27f01e,_0xcf7dbc,0x0,0x0,_0x411cf3['width'],_0x411cf3['height'],_0x43b313,_0x1ef704,_0x411cf3['data']):_0x3a5320['texImage2D'](_0x3e0419['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x27f01e,_0xcf7dbc,_0x2c1c58,_0x411cf3['width'],_0x411cf3['height'],0x0,_0x43b313,_0x1ef704,_0x411cf3['data']);}}}else{if(_0x3169da=_0x4b23d2['mipmaps'],_0x240c94&&_0x42db52){_0x3169da['length']>0x0&&_0x458e7b++;const _0x2a51c1=_0xb815dd(_0x8ad593[0x0]);_0x3a5320['texStorage2D'](_0x3e0419['TEXTURE_CUBE_MAP'],_0x458e7b,_0x2c1c58,_0x2a51c1['width'],_0x2a51c1['height']);}for(let _0x1a9474=0x0;_0x1a9474<0x6;_0x1a9474++)if(_0x30f241){_0x240c94?_0x2ed786&&_0x3a5320['texSubImage2D'](_0x3e0419['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x1a9474,0x0,0x0,0x0,_0x8ad593[_0x1a9474]['width'],_0x8ad593[_0x1a9474]['height'],_0x43b313,_0x1ef704,_0x8ad593[_0x1a9474]['data']):_0x3a5320['texImage2D'](_0x3e0419['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x1a9474,0x0,_0x2c1c58,_0x8ad593[_0x1a9474]['width'],_0x8ad593[_0x1a9474]['height'],0x0,_0x43b313,_0x1ef704,_0x8ad593[_0x1a9474]['data']);for(let _0x252edc=0x0;_0x252edc<_0x3169da['length'];_0x252edc++){const _0x24af9e=_0x3169da[_0x252edc]['image'][_0x1a9474]['image'];_0x240c94?_0x2ed786&&_0x3a5320['texSubImage2D'](_0x3e0419['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x1a9474,_0x252edc+0x1,0x0,0x0,_0x24af9e['width'],_0x24af9e['height'],_0x43b313,_0x1ef704,_0x24af9e['data']):_0x3a5320['texImage2D'](_0x3e0419['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x1a9474,_0x252edc+0x1,_0x2c1c58,_0x24af9e['width'],_0x24af9e['height'],0x0,_0x43b313,_0x1ef704,_0x24af9e['data']);}}else{_0x240c94?_0x2ed786&&_0x3a5320['texSubImage2D'](_0x3e0419['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x1a9474,0x0,0x0,0x0,_0x43b313,_0x1ef704,_0x8ad593[_0x1a9474]):_0x3a5320['texImage2D'](_0x3e0419['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x1a9474,0x0,_0x2c1c58,_0x43b313,_0x1ef704,_0x8ad593[_0x1a9474]);for(let _0x5093c0=0x0;_0x5093c0<_0x3169da['length'];_0x5093c0++){const _0x16f932=_0x3169da[_0x5093c0];_0x240c94?_0x2ed786&&_0x3a5320['texSubImage2D'](_0x3e0419['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x1a9474,_0x5093c0+0x1,0x0,0x0,_0x43b313,_0x1ef704,_0x16f932['image'][_0x1a9474]):_0x3a5320['texImage2D'](_0x3e0419['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x1a9474,_0x5093c0+0x1,_0x2c1c58,_0x43b313,_0x1ef704,_0x16f932['image'][_0x1a9474]);}}}_0x5b1734(_0x4b23d2)&&_0x2e6826(_0x3e0419['TEXTURE_CUBE_MAP']),_0x3ba67a['__version']=_0x4491aa['version'],_0x4b23d2['onUpdate']&&_0x4b23d2['onUpdate'](_0x4b23d2);}_0x2f1221['__version']=_0x4b23d2['version'];}(_0x492e07,_0x210c75,_0x58a5d9):_0x3a5320['bindTexture'](_0x3e0419['TEXTURE_CUBE_MAP'],_0x492e07['__webglTexture'],_0x3e0419['TEXTURE0']+_0x58a5d9);},this['rebindTextures']=function(_0x54abd5,_0x263fd2,_0x2303d0){const _0x45ffc2=_0x237094['get'](_0x54abd5);void 0x0!==_0x263fd2&&_0x57449a(_0x45ffc2['__webglFramebuffer'],_0x54abd5,_0x54abd5['texture'],_0x3e0419['COLOR_ATTACHMENT0'],_0x3e0419['TEXTURE_2D'],0x0),void 0x0!==_0x2303d0&&_0x57947a(_0x54abd5);},this['setupRenderTarget']=function(_0x3762f0){const _0x3d506d=_0x3762f0['texture'],_0x2fcd17=_0x237094['get'](_0x3762f0),_0x365228=_0x237094['get'](_0x3d506d);_0x3762f0['addEventListener']('dispose',_0x52eb65);const _0x5a3e87=_0x3762f0['textures'],_0x2894f1=!0x0===_0x3762f0['isWebGLCubeRenderTarget'],_0x123a76=_0x5a3e87['length']>0x1;if(_0x123a76||(void 0x0===_0x365228['__webglTexture']&&(_0x365228['__webglTexture']=_0x3e0419['createTexture']()),_0x365228['__version']=_0x3d506d['version'],_0x1e7e2a['memory']['textures']++),_0x2894f1){_0x2fcd17['__webglFramebuffer']=[];for(let _0x3e4645=0x0;_0x3e4645<0x6;_0x3e4645++)if(_0x3d506d['mipmaps']&&_0x3d506d['mipmaps']['length']>0x0){_0x2fcd17['__webglFramebuffer'][_0x3e4645]=[];for(let _0x5d9c29=0x0;_0x5d9c29<_0x3d506d['mipmaps']['length'];_0x5d9c29++)_0x2fcd17['__webglFramebuffer'][_0x3e4645][_0x5d9c29]=_0x3e0419['createFramebuffer']();}else _0x2fcd17['__webglFramebuffer'][_0x3e4645]=_0x3e0419['createFramebuffer']();}else{if(_0x3d506d['mipmaps']&&_0x3d506d['mipmaps']['length']>0x0){_0x2fcd17['__webglFramebuffer']=[];for(let _0x34d15f=0x0;_0x34d15f<_0x3d506d['mipmaps']['length'];_0x34d15f++)_0x2fcd17['__webglFramebuffer'][_0x34d15f]=_0x3e0419['createFramebuffer']();}else _0x2fcd17['__webglFramebuffer']=_0x3e0419['createFramebuffer']();if(_0x123a76)for(let _0x2b1e15=0x0,_0x33a288=_0x5a3e87['length'];_0x2b1e15<_0x33a288;_0x2b1e15++){const _0x3ed226=_0x237094['get'](_0x5a3e87[_0x2b1e15]);void 0x0===_0x3ed226['__webglTexture']&&(_0x3ed226['__webglTexture']=_0x3e0419['createTexture'](),_0x1e7e2a['memory']['textures']++);}if(_0x3762f0['samples']>0x0&&!0x1===_0x3ecb91(_0x3762f0)){_0x2fcd17['__webglMultisampledFramebuffer']=_0x3e0419['createFramebuffer'](),_0x2fcd17['__webglColorRenderbuffer']=[],_0x3a5320['bindFramebuffer'](_0x3e0419['FRAMEBUFFER'],_0x2fcd17['__webglMultisampledFramebuffer']);for(let _0x34383d=0x0;_0x34383d<_0x5a3e87['length'];_0x34383d++){const _0x116417=_0x5a3e87[_0x34383d];_0x2fcd17['__webglColorRenderbuffer'][_0x34383d]=_0x3e0419['createRenderbuffer'](),_0x3e0419['bindRenderbuffer'](_0x3e0419['RENDERBUFFER'],_0x2fcd17['__webglColorRenderbuffer'][_0x34383d]);const _0x11eb9e=_0x292b9f['convert'](_0x116417['format'],_0x116417['colorSpace']),_0xf3d79=_0x292b9f['convert'](_0x116417['type']),_0x569ae9=_0x216989(_0x116417['internalFormat'],_0x11eb9e,_0xf3d79,_0x116417['colorSpace'],!0x0===_0x3762f0['isXRRenderTarget']),_0x2773eb=_0x118fba(_0x3762f0);_0x3e0419['renderbufferStorageMultisample'](_0x3e0419['RENDERBUFFER'],_0x2773eb,_0x569ae9,_0x3762f0['width'],_0x3762f0['height']),_0x3e0419['framebufferRenderbuffer'](_0x3e0419['FRAMEBUFFER'],_0x3e0419['COLOR_ATTACHMENT0']+_0x34383d,_0x3e0419['RENDERBUFFER'],_0x2fcd17['__webglColorRenderbuffer'][_0x34383d]);}_0x3e0419['bindRenderbuffer'](_0x3e0419['RENDERBUFFER'],null),_0x3762f0['depthBuffer']&&(_0x2fcd17['__webglDepthRenderbuffer']=_0x3e0419['createRenderbuffer'](),_0x5888c1(_0x2fcd17['__webglDepthRenderbuffer'],_0x3762f0,!0x0)),_0x3a5320['bindFramebuffer'](_0x3e0419['FRAMEBUFFER'],null);}}if(_0x2894f1){_0x3a5320['bindTexture'](_0x3e0419['TEXTURE_CUBE_MAP'],_0x365228['__webglTexture']),_0xcf86da(_0x3e0419['TEXTURE_CUBE_MAP'],_0x3d506d);for(let _0x4b1396=0x0;_0x4b1396<0x6;_0x4b1396++)if(_0x3d506d['mipmaps']&&_0x3d506d['mipmaps']['length']>0x0){for(let _0x1838aa=0x0;_0x1838aa<_0x3d506d['mipmaps']['length'];_0x1838aa++)_0x57449a(_0x2fcd17['__webglFramebuffer'][_0x4b1396][_0x1838aa],_0x3762f0,_0x3d506d,_0x3e0419['COLOR_ATTACHMENT0'],_0x3e0419['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x4b1396,_0x1838aa);}else _0x57449a(_0x2fcd17['__webglFramebuffer'][_0x4b1396],_0x3762f0,_0x3d506d,_0x3e0419['COLOR_ATTACHMENT0'],_0x3e0419['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x4b1396,0x0);_0x5b1734(_0x3d506d)&&_0x2e6826(_0x3e0419['TEXTURE_CUBE_MAP']),_0x3a5320['unbindTexture']();}else{if(_0x123a76){for(let _0x3c2456=0x0,_0x3da1ec=_0x5a3e87['length'];_0x3c2456<_0x3da1ec;_0x3c2456++){const _0x276d15=_0x5a3e87[_0x3c2456],_0x35f886=_0x237094['get'](_0x276d15);_0x3a5320['bindTexture'](_0x3e0419['TEXTURE_2D'],_0x35f886['__webglTexture']),_0xcf86da(_0x3e0419['TEXTURE_2D'],_0x276d15),_0x57449a(_0x2fcd17['__webglFramebuffer'],_0x3762f0,_0x276d15,_0x3e0419['COLOR_ATTACHMENT0']+_0x3c2456,_0x3e0419['TEXTURE_2D'],0x0),_0x5b1734(_0x276d15)&&_0x2e6826(_0x3e0419['TEXTURE_2D']);}_0x3a5320['unbindTexture']();}else{let _0x575e21=_0x3e0419['TEXTURE_2D'];if((_0x3762f0['isWebGL3DRenderTarget']||_0x3762f0['isWebGLArrayRenderTarget'])&&(_0x575e21=_0x3762f0['isWebGL3DRenderTarget']?_0x3e0419['TEXTURE_3D']:_0x3e0419['TEXTURE_2D_ARRAY']),_0x3a5320['bindTexture'](_0x575e21,_0x365228['__webglTexture']),_0xcf86da(_0x575e21,_0x3d506d),_0x3d506d['mipmaps']&&_0x3d506d['mipmaps']['length']>0x0){for(let _0x157878=0x0;_0x157878<_0x3d506d['mipmaps']['length'];_0x157878++)_0x57449a(_0x2fcd17['__webglFramebuffer'][_0x157878],_0x3762f0,_0x3d506d,_0x3e0419['COLOR_ATTACHMENT0'],_0x575e21,_0x157878);}else _0x57449a(_0x2fcd17['__webglFramebuffer'],_0x3762f0,_0x3d506d,_0x3e0419['COLOR_ATTACHMENT0'],_0x575e21,0x0);_0x5b1734(_0x3d506d)&&_0x2e6826(_0x575e21),_0x3a5320['unbindTexture']();}}_0x3762f0['depthBuffer']&&_0x57947a(_0x3762f0);},this['updateRenderTargetMipmap']=function(_0x3205fa){const _0x4603a5=_0x3205fa['textures'];for(let _0x571f05=0x0,_0x3a7cec=_0x4603a5['length'];_0x571f05<_0x3a7cec;_0x571f05++){const _0x39bf11=_0x4603a5[_0x571f05];if(_0x5b1734(_0x39bf11)){const _0x53ef46=_0xbbdbe2(_0x3205fa),_0x1a635c=_0x237094['get'](_0x39bf11)['__webglTexture'];_0x3a5320['bindTexture'](_0x53ef46,_0x1a635c),_0x2e6826(_0x53ef46),_0x3a5320['unbindTexture']();}}},this['updateMultisampleRenderTarget']=function(_0x5b8474){if(_0x5b8474['samples']>0x0){if(!0x1===_0x3ecb91(_0x5b8474)){const _0x48b197=_0x5b8474['textures'],_0x27f9cf=_0x5b8474['width'],_0x572f82=_0x5b8474['height'];let _0x5bae4c=_0x3e0419['COLOR_BUFFER_BIT'];const _0x5a495a=_0x5b8474['stencilBuffer']?_0x3e0419['DEPTH_STENCIL_ATTACHMENT']:_0x3e0419['DEPTH_ATTACHMENT'],_0x37aedf=_0x237094['get'](_0x5b8474),_0x2adc73=_0x48b197['length']>0x1;if(_0x2adc73){for(let _0x1f0a85=0x0;_0x1f0a85<_0x48b197['length'];_0x1f0a85++)_0x3a5320['bindFramebuffer'](_0x3e0419['FRAMEBUFFER'],_0x37aedf['__webglMultisampledFramebuffer']),_0x3e0419['framebufferRenderbuffer'](_0x3e0419['FRAMEBUFFER'],_0x3e0419['COLOR_ATTACHMENT0']+_0x1f0a85,_0x3e0419['RENDERBUFFER'],null),_0x3a5320['bindFramebuffer'](_0x3e0419['FRAMEBUFFER'],_0x37aedf['__webglFramebuffer']),_0x3e0419['framebufferTexture2D'](_0x3e0419['DRAW_FRAMEBUFFER'],_0x3e0419['COLOR_ATTACHMENT0']+_0x1f0a85,_0x3e0419['TEXTURE_2D'],null,0x0);}_0x3a5320['bindFramebuffer'](_0x3e0419['READ_FRAMEBUFFER'],_0x37aedf['__webglMultisampledFramebuffer']),_0x3a5320['bindFramebuffer'](_0x3e0419['DRAW_FRAMEBUFFER'],_0x37aedf['__webglFramebuffer']);for(let _0x355ca1=0x0;_0x355ca1<_0x48b197['length'];_0x355ca1++){if(_0x5b8474['resolveDepthBuffer']&&(_0x5b8474['depthBuffer']&&(_0x5bae4c|=_0x3e0419['DEPTH_BUFFER_BIT']),_0x5b8474['stencilBuffer']&&_0x5b8474['resolveStencilBuffer']&&(_0x5bae4c|=_0x3e0419['STENCIL_BUFFER_BIT'])),_0x2adc73){_0x3e0419['framebufferRenderbuffer'](_0x3e0419['READ_FRAMEBUFFER'],_0x3e0419['COLOR_ATTACHMENT0'],_0x3e0419['RENDERBUFFER'],_0x37aedf['__webglColorRenderbuffer'][_0x355ca1]);const _0x345ed1=_0x237094['get'](_0x48b197[_0x355ca1])['__webglTexture'];_0x3e0419['framebufferTexture2D'](_0x3e0419['DRAW_FRAMEBUFFER'],_0x3e0419['COLOR_ATTACHMENT0'],_0x3e0419['TEXTURE_2D'],_0x345ed1,0x0);}_0x3e0419['blitFramebuffer'](0x0,0x0,_0x27f9cf,_0x572f82,0x0,0x0,_0x27f9cf,_0x572f82,_0x5bae4c,_0x3e0419['NEAREST']),!0x0===_0x5a8ebd&&(_0x25b874['length']=0x0,_0x493248['length']=0x0,_0x25b874['push'](_0x3e0419['COLOR_ATTACHMENT0']+_0x355ca1),_0x5b8474['depthBuffer']&&!0x1===_0x5b8474['resolveDepthBuffer']&&(_0x25b874['push'](_0x5a495a),_0x493248['push'](_0x5a495a),_0x3e0419['invalidateFramebuffer'](_0x3e0419['DRAW_FRAMEBUFFER'],_0x493248)),_0x3e0419['invalidateFramebuffer'](_0x3e0419['READ_FRAMEBUFFER'],_0x25b874));}if(_0x3a5320['bindFramebuffer'](_0x3e0419['READ_FRAMEBUFFER'],null),_0x3a5320['bindFramebuffer'](_0x3e0419['DRAW_FRAMEBUFFER'],null),_0x2adc73)for(let _0x75d5e5=0x0;_0x75d5e5<_0x48b197['length'];_0x75d5e5++){_0x3a5320['bindFramebuffer'](_0x3e0419['FRAMEBUFFER'],_0x37aedf['__webglMultisampledFramebuffer']),_0x3e0419['framebufferRenderbuffer'](_0x3e0419['FRAMEBUFFER'],_0x3e0419['COLOR_ATTACHMENT0']+_0x75d5e5,_0x3e0419['RENDERBUFFER'],_0x37aedf['__webglColorRenderbuffer'][_0x75d5e5]);const _0x257e71=_0x237094['get'](_0x48b197[_0x75d5e5])['__webglTexture'];_0x3a5320['bindFramebuffer'](_0x3e0419['FRAMEBUFFER'],_0x37aedf['__webglFramebuffer']),_0x3e0419['framebufferTexture2D'](_0x3e0419['DRAW_FRAMEBUFFER'],_0x3e0419['COLOR_ATTACHMENT0']+_0x75d5e5,_0x3e0419['TEXTURE_2D'],_0x257e71,0x0);}_0x3a5320['bindFramebuffer'](_0x3e0419['DRAW_FRAMEBUFFER'],_0x37aedf['__webglMultisampledFramebuffer']);}else{if(_0x5b8474['depthBuffer']&&!0x1===_0x5b8474['resolveDepthBuffer']&&_0x5a8ebd){const _0x2452a8=_0x5b8474['stencilBuffer']?_0x3e0419['DEPTH_STENCIL_ATTACHMENT']:_0x3e0419['DEPTH_ATTACHMENT'];_0x3e0419['invalidateFramebuffer'](_0x3e0419['DRAW_FRAMEBUFFER'],[_0x2452a8]);}}}},this['setupDepthRenderbuffer']=_0x57947a,this['setupFrameBufferTexture']=_0x57449a,this['useMultisampledRTT']=_0x3ecb91;}function _0x4466ed(_0x30c3fa,_0x91d5ea){return{'convert':function(_0x30ffdc,_0x3a6fc4=_0x923951['jf0']){let _0x4e024b;const _0x1d87b6=_0x923951['ppV']['getTransfer'](_0x3a6fc4);if(_0x30ffdc===_0x923951['OUM'])return _0x30c3fa['UNSIGNED_BYTE'];if(_0x30ffdc===_0x923951['Wew'])return _0x30c3fa['UNSIGNED_SHORT_4_4_4_4'];if(_0x30ffdc===_0x923951['gJ2'])return _0x30c3fa['UNSIGNED_SHORT_5_5_5_1'];if(_0x30ffdc===_0x923951['Dmk'])return _0x30c3fa['UNSIGNED_INT_5_9_9_9_REV'];if(_0x30ffdc===_0x923951['tJf'])return _0x30c3fa['BYTE'];if(_0x30ffdc===_0x923951['fBL'])return _0x30c3fa['SHORT'];if(_0x30ffdc===_0x923951['cHt'])return _0x30c3fa['UNSIGNED_SHORT'];if(_0x30ffdc===_0x923951['Yuy'])return _0x30c3fa['INT'];if(_0x30ffdc===_0x923951['bkx'])return _0x30c3fa['UNSIGNED_INT'];if(_0x30ffdc===_0x923951['RQf'])return _0x30c3fa['FLOAT'];if(_0x30ffdc===_0x923951['ix0'])return _0x30c3fa['HALF_FLOAT'];if(_0x30ffdc===_0x923951['wrO'])return _0x30c3fa['ALPHA'];if(_0x30ffdc===_0x923951['HIg'])return _0x30c3fa['RGB'];if(_0x30ffdc===_0x923951['GWd'])return _0x30c3fa['RGBA'];if(_0x30ffdc===_0x923951['Kzv'])return _0x30c3fa['LUMINANCE'];if(_0x30ffdc===_0x923951['CMB'])return _0x30c3fa['LUMINANCE_ALPHA'];if(_0x30ffdc===_0x923951['zdS'])return _0x30c3fa['DEPTH_COMPONENT'];if(_0x30ffdc===_0x923951['dcC'])return _0x30c3fa['DEPTH_STENCIL'];if(_0x30ffdc===_0x923951['VT0'])return _0x30c3fa['RED'];if(_0x30ffdc===_0x923951['ZQM'])return _0x30c3fa['RED_INTEGER'];if(_0x30ffdc===_0x923951['paN'])return _0x30c3fa['RG'];if(_0x30ffdc===_0x923951['TkQ'])return _0x30c3fa['RG_INTEGER'];if(_0x30ffdc===_0x923951['c90'])return _0x30c3fa['RGBA_INTEGER'];if(_0x30ffdc===_0x923951['IE4']||_0x30ffdc===_0x923951['Nz6']||_0x30ffdc===_0x923951['jR7']||_0x30ffdc===_0x923951['BXX']){if(_0x1d87b6===_0x923951['KLL']){if(_0x4e024b=_0x91d5ea['get']('WEBGL_compressed_texture_s3tc_srgb'),null===_0x4e024b)return null;if(_0x30ffdc===_0x923951['IE4'])return _0x4e024b['COMPRESSED_SRGB_S3TC_DXT1_EXT'];if(_0x30ffdc===_0x923951['Nz6'])return _0x4e024b['COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT'];if(_0x30ffdc===_0x923951['jR7'])return _0x4e024b['COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT'];if(_0x30ffdc===_0x923951['BXX'])return _0x4e024b['COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT'];}else{if(_0x4e024b=_0x91d5ea['get']('WEBGL_compressed_texture_s3tc'),null===_0x4e024b)return null;if(_0x30ffdc===_0x923951['IE4'])return _0x4e024b['COMPRESSED_RGB_S3TC_DXT1_EXT'];if(_0x30ffdc===_0x923951['Nz6'])return _0x4e024b['COMPRESSED_RGBA_S3TC_DXT1_EXT'];if(_0x30ffdc===_0x923951['jR7'])return _0x4e024b['COMPRESSED_RGBA_S3TC_DXT3_EXT'];if(_0x30ffdc===_0x923951['BXX'])return _0x4e024b['COMPRESSED_RGBA_S3TC_DXT5_EXT'];}}if(_0x30ffdc===_0x923951['k6Q']||_0x30ffdc===_0x923951['kTp']||_0x30ffdc===_0x923951['HXV']||_0x30ffdc===_0x923951['pBf']){if(_0x4e024b=_0x91d5ea['get']('WEBGL_compressed_texture_pvrtc'),null===_0x4e024b)return null;if(_0x30ffdc===_0x923951['k6Q'])return _0x4e024b['COMPRESSED_RGB_PVRTC_4BPPV1_IMG'];if(_0x30ffdc===_0x923951['kTp'])return _0x4e024b['COMPRESSED_RGB_PVRTC_2BPPV1_IMG'];if(_0x30ffdc===_0x923951['HXV'])return _0x4e024b['COMPRESSED_RGBA_PVRTC_4BPPV1_IMG'];if(_0x30ffdc===_0x923951['pBf'])return _0x4e024b['COMPRESSED_RGBA_PVRTC_2BPPV1_IMG'];}if(_0x30ffdc===_0x923951['CVz']||_0x30ffdc===_0x923951['Riy']||_0x30ffdc===_0x923951['KDk']){if(_0x4e024b=_0x91d5ea['get']('WEBGL_compressed_texture_etc'),null===_0x4e024b)return null;if(_0x30ffdc===_0x923951['CVz']||_0x30ffdc===_0x923951['Riy'])return _0x1d87b6===_0x923951['KLL']?_0x4e024b['COMPRESSED_SRGB8_ETC2']:_0x4e024b['COMPRESSED_RGB8_ETC2'];if(_0x30ffdc===_0x923951['KDk'])return _0x1d87b6===_0x923951['KLL']?_0x4e024b['COMPRESSED_SRGB8_ALPHA8_ETC2_EAC']:_0x4e024b['COMPRESSED_RGBA8_ETC2_EAC'];}if(_0x30ffdc===_0x923951['qa3']||_0x30ffdc===_0x923951['B_h']||_0x30ffdc===_0x923951['czI']||_0x30ffdc===_0x923951['rSH']||_0x30ffdc===_0x923951['Qrf']||_0x30ffdc===_0x923951['psI']||_0x30ffdc===_0x923951['a5J']||_0x30ffdc===_0x923951['_QJ']||_0x30ffdc===_0x923951['uB5']||_0x30ffdc===_0x923951['lyL']||_0x30ffdc===_0x923951['bC7']||_0x30ffdc===_0x923951['y3Z']||_0x30ffdc===_0x923951['ojs']||_0x30ffdc===_0x923951['S$4']){if(_0x4e024b=_0x91d5ea['get']('WEBGL_compressed_texture_astc'),null===_0x4e024b)return null;if(_0x30ffdc===_0x923951['qa3'])return _0x1d87b6===_0x923951['KLL']?_0x4e024b['COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR']:_0x4e024b['COMPRESSED_RGBA_ASTC_4x4_KHR'];if(_0x30ffdc===_0x923951['B_h'])return _0x1d87b6===_0x923951['KLL']?_0x4e024b['COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR']:_0x4e024b['COMPRESSED_RGBA_ASTC_5x4_KHR'];if(_0x30ffdc===_0x923951['czI'])return _0x1d87b6===_0x923951['KLL']?_0x4e024b['COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR']:_0x4e024b['COMPRESSED_RGBA_ASTC_5x5_KHR'];if(_0x30ffdc===_0x923951['rSH'])return _0x1d87b6===_0x923951['KLL']?_0x4e024b['COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR']:_0x4e024b['COMPRESSED_RGBA_ASTC_6x5_KHR'];if(_0x30ffdc===_0x923951['Qrf'])return _0x1d87b6===_0x923951['KLL']?_0x4e024b['COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR']:_0x4e024b['COMPRESSED_RGBA_ASTC_6x6_KHR'];if(_0x30ffdc===_0x923951['psI'])return _0x1d87b6===_0x923951['KLL']?_0x4e024b['COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR']:_0x4e024b['COMPRESSED_RGBA_ASTC_8x5_KHR'];if(_0x30ffdc===_0x923951['a5J'])return _0x1d87b6===_0x923951['KLL']?_0x4e024b['COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR']:_0x4e024b['COMPRESSED_RGBA_ASTC_8x6_KHR'];if(_0x30ffdc===_0x923951['_QJ'])return _0x1d87b6===_0x923951['KLL']?_0x4e024b['COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR']:_0x4e024b['COMPRESSED_RGBA_ASTC_8x8_KHR'];if(_0x30ffdc===_0x923951['uB5'])return _0x1d87b6===_0x923951['KLL']?_0x4e024b['COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR']:_0x4e024b['COMPRESSED_RGBA_ASTC_10x5_KHR'];if(_0x30ffdc===_0x923951['lyL'])return _0x1d87b6===_0x923951['KLL']?_0x4e024b['COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR']:_0x4e024b['COMPRESSED_RGBA_ASTC_10x6_KHR'];if(_0x30ffdc===_0x923951['bC7'])return _0x1d87b6===_0x923951['KLL']?_0x4e024b['COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR']:_0x4e024b['COMPRESSED_RGBA_ASTC_10x8_KHR'];if(_0x30ffdc===_0x923951['y3Z'])return _0x1d87b6===_0x923951['KLL']?_0x4e024b['COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR']:_0x4e024b['COMPRESSED_RGBA_ASTC_10x10_KHR'];if(_0x30ffdc===_0x923951['ojs'])return _0x1d87b6===_0x923951['KLL']?_0x4e024b['COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR']:_0x4e024b['COMPRESSED_RGBA_ASTC_12x10_KHR'];if(_0x30ffdc===_0x923951['S$4'])return _0x1d87b6===_0x923951['KLL']?_0x4e024b['COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR']:_0x4e024b['COMPRESSED_RGBA_ASTC_12x12_KHR'];}if(_0x30ffdc===_0x923951['Fn']||_0x30ffdc===_0x923951['H23']||_0x30ffdc===_0x923951['W9U']){if(_0x4e024b=_0x91d5ea['get']('EXT_texture_compression_bptc'),null===_0x4e024b)return null;if(_0x30ffdc===_0x923951['Fn'])return _0x1d87b6===_0x923951['KLL']?_0x4e024b['COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT']:_0x4e024b['COMPRESSED_RGBA_BPTC_UNORM_EXT'];if(_0x30ffdc===_0x923951['H23'])return _0x4e024b['COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT'];if(_0x30ffdc===_0x923951['W9U'])return _0x4e024b['COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT'];}if(_0x30ffdc===_0x923951['Kef']||_0x30ffdc===_0x923951['XG_']||_0x30ffdc===_0x923951['HO_']||_0x30ffdc===_0x923951['CWW']){if(_0x4e024b=_0x91d5ea['get']('EXT_texture_compression_rgtc'),null===_0x4e024b)return null;if(_0x30ffdc===_0x923951['Fn'])return _0x4e024b['COMPRESSED_RED_RGTC1_EXT'];if(_0x30ffdc===_0x923951['XG_'])return _0x4e024b['COMPRESSED_SIGNED_RED_RGTC1_EXT'];if(_0x30ffdc===_0x923951['HO_'])return _0x4e024b['COMPRESSED_RED_GREEN_RGTC2_EXT'];if(_0x30ffdc===_0x923951['CWW'])return _0x4e024b['COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT'];}return _0x30ffdc===_0x923951['V3x']?_0x30c3fa['UNSIGNED_INT_24_8']:void 0x0!==_0x30c3fa[_0x30ffdc]?_0x30c3fa[_0x30ffdc]:null;}};}const _0x5b3bd7={'type':'move'};class _0x5394c7{constructor(){this['_targetRay']=null,this['_grip']=null,this['_hand']=null;}['getHandSpace'](){return null===this['_hand']&&(this['_hand']=new _0x923951['YJl'](),this['_hand']['matrixAutoUpdate']=!0x1,this['_hand']['visible']=!0x1,this['_hand']['joints']={},this['_hand']['inputState']={'pinching':!0x1}),this['_hand'];}['getTargetRaySpace'](){return null===this['_targetRay']&&(this['_targetRay']=new _0x923951['YJl'](),this['_targetRay']['matrixAutoUpdate']=!0x1,this['_targetRay']['visible']=!0x1,this['_targetRay']['hasLinearVelocity']=!0x1,this['_targetRay']['linearVelocity']=new _0x923951['Pq0'](),this['_targetRay']['hasAngularVelocity']=!0x1,this['_targetRay']['angularVelocity']=new _0x923951['Pq0']()),this['_targetRay'];}['getGripSpace'](){return null===this['_grip']&&(this['_grip']=new _0x923951['YJl'](),this['_grip']['matrixAutoUpdate']=!0x1,this['_grip']['visible']=!0x1,this['_grip']['hasLinearVelocity']=!0x1,this['_grip']['linearVelocity']=new _0x923951['Pq0'](),this['_grip']['hasAngularVelocity']=!0x1,this['_grip']['angularVelocity']=new _0x923951['Pq0']()),this['_grip'];}['dispatchEvent'](_0x3741e7){return null!==this['_targetRay']&&this['_targetRay']['dispatchEvent'](_0x3741e7),null!==this['_grip']&&this['_grip']['dispatchEvent'](_0x3741e7),null!==this['_hand']&&this['_hand']['dispatchEvent'](_0x3741e7),this;}['connect'](_0x1d4353){if(_0x1d4353&&_0x1d4353['hand']){const _0x3b52a3=this['_hand'];if(_0x3b52a3){for(const _0x1072a2 of _0x1d4353['hand']['values']())this['_getHandJoint'](_0x3b52a3,_0x1072a2);}}return this['dispatchEvent']({'type':'connected','data':_0x1d4353}),this;}['disconnect'](_0x2aab64){return this['dispatchEvent']({'type':'disconnected','data':_0x2aab64}),null!==this['_targetRay']&&(this['_targetRay']['visible']=!0x1),null!==this['_grip']&&(this['_grip']['visible']=!0x1),null!==this['_hand']&&(this['_hand']['visible']=!0x1),this;}['update'](_0x12df40,_0x20da76,_0xb9cc1){let _0x2d5745=null,_0x58a595=null,_0x13c53d=null;const _0x32fce1=this['_targetRay'],_0x3b35a1=this['_grip'],_0x3ca2c3=this['_hand'];if(_0x12df40&&'visible-blurred'!==_0x20da76['session']['visibilityState']){if(_0x3ca2c3&&_0x12df40['hand']){_0x13c53d=!0x0;for(const _0x5b9850 of _0x12df40['hand']['values']()){const _0x494610=_0x20da76['getJointPose'](_0x5b9850,_0xb9cc1),_0x257e63=this['_getHandJoint'](_0x3ca2c3,_0x5b9850);null!==_0x494610&&(_0x257e63['matrix']['fromArray'](_0x494610['transform']['matrix']),_0x257e63['matrix']['decompose'](_0x257e63['position'],_0x257e63['rotation'],_0x257e63['scale']),_0x257e63['matrixWorldNeedsUpdate']=!0x0,_0x257e63['jointRadius']=_0x494610['radius']),_0x257e63['visible']=null!==_0x494610;}const _0x4db458=_0x3ca2c3['joints']['index-finger-tip'],_0x2f2b6b=_0x3ca2c3['joints']['thumb-tip'],_0x365617=_0x4db458['position']['distanceTo'](_0x2f2b6b['position']),_0x1fb856=0.02,_0x1b0fe3=0.005;_0x3ca2c3['inputState']['pinching']&&_0x365617>_0x1fb856+_0x1b0fe3?(_0x3ca2c3['inputState']['pinching']=!0x1,this['dispatchEvent']({'type':'pinchend','handedness':_0x12df40['handedness'],'target':this})):!_0x3ca2c3['inputState']['pinching']&&_0x365617<=_0x1fb856-_0x1b0fe3&&(_0x3ca2c3['inputState']['pinching']=!0x0,this['dispatchEvent']({'type':'pinchstart','handedness':_0x12df40['handedness'],'target':this}));}else null!==_0x3b35a1&&_0x12df40['gripSpace']&&(_0x58a595=_0x20da76['getPose'](_0x12df40['gripSpace'],_0xb9cc1),null!==_0x58a595&&(_0x3b35a1['matrix']['fromArray'](_0x58a595['transform']['matrix']),_0x3b35a1['matrix']['decompose'](_0x3b35a1['position'],_0x3b35a1['rotation'],_0x3b35a1['scale']),_0x3b35a1['matrixWorldNeedsUpdate']=!0x0,_0x58a595['linearVelocity']?(_0x3b35a1['hasLinearVelocity']=!0x0,_0x3b35a1['linearVelocity']['copy'](_0x58a595['linearVelocity'])):_0x3b35a1['hasLinearVelocity']=!0x1,_0x58a595['angularVelocity']?(_0x3b35a1['hasAngularVelocity']=!0x0,_0x3b35a1['angularVelocity']['copy'](_0x58a595['angularVelocity'])):_0x3b35a1['hasAngularVelocity']=!0x1));null!==_0x32fce1&&(_0x2d5745=_0x20da76['getPose'](_0x12df40['targetRaySpace'],_0xb9cc1),null===_0x2d5745&&null!==_0x58a595&&(_0x2d5745=_0x58a595),null!==_0x2d5745&&(_0x32fce1['matrix']['fromArray'](_0x2d5745['transform']['matrix']),_0x32fce1['matrix']['decompose'](_0x32fce1['position'],_0x32fce1['rotation'],_0x32fce1['scale']),_0x32fce1['matrixWorldNeedsUpdate']=!0x0,_0x2d5745['linearVelocity']?(_0x32fce1['hasLinearVelocity']=!0x0,_0x32fce1['linearVelocity']['copy'](_0x2d5745['linearVelocity'])):_0x32fce1['hasLinearVelocity']=!0x1,_0x2d5745['angularVelocity']?(_0x32fce1['hasAngularVelocity']=!0x0,_0x32fce1['angularVelocity']['copy'](_0x2d5745['angularVelocity'])):_0x32fce1['hasAngularVelocity']=!0x1,this['dispatchEvent'](_0x5b3bd7)));}return null!==_0x32fce1&&(_0x32fce1['visible']=null!==_0x2d5745),null!==_0x3b35a1&&(_0x3b35a1['visible']=null!==_0x58a595),null!==_0x3ca2c3&&(_0x3ca2c3['visible']=null!==_0x13c53d),this;}['_getHandJoint'](_0x288578,_0x5885ea){if(void 0x0===_0x288578['joints'][_0x5885ea['jointName']]){const _0x2208e1=new _0x923951['YJl']();_0x2208e1['matrixAutoUpdate']=!0x1,_0x2208e1['visible']=!0x1,_0x288578['joints'][_0x5885ea['jointName']]=_0x2208e1,_0x288578['add'](_0x2208e1);}return _0x288578['joints'][_0x5885ea['jointName']];}}class _0x2adaab{constructor(){this['texture']=null,this['mesh']=null,this['depthNear']=0x0,this['depthFar']=0x0;}['init'](_0x2a949f,_0x2be4f0,_0x20927e){if(null===this['texture']){const _0x439767=new _0x923951['gPd']();_0x2a949f['properties']['get'](_0x439767)['__webglTexture']=_0x2be4f0['texture'],_0x2be4f0['depthNear']===_0x20927e['depthNear']&&_0x2be4f0['depthFar']===_0x20927e['depthFar']||(this['depthNear']=_0x2be4f0['depthNear'],this['depthFar']=_0x2be4f0['depthFar']),this['texture']=_0x439767;}}['getMesh'](_0x305208){if(null!==this['texture']&&null===this['mesh']){const _0x4fa25d=_0x305208['cameras'][0x0]['viewport'],_0x277c78=new _0x923951['BKk']({'vertexShader':'\x0avoid\x20main()\x20{\x0a\x0a\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x0a}','fragmentShader':'\x0auniform\x20sampler2DArray\x20depthColor;\x0auniform\x20float\x20depthWidth;\x0auniform\x20float\x20depthHeight;\x0a\x0avoid\x20main()\x20{\x0a\x0a\x09vec2\x20coord\x20=\x20vec2(\x20gl_FragCoord.x\x20/\x20depthWidth,\x20gl_FragCoord.y\x20/\x20depthHeight\x20);\x0a\x0a\x09if\x20(\x20coord.x\x20>=\x201.0\x20)\x20{\x0a\x0a\x09\x09gl_FragDepth\x20=\x20texture(\x20depthColor,\x20vec3(\x20coord.x\x20-\x201.0,\x20coord.y,\x201\x20)\x20).r;\x0a\x0a\x09}\x20else\x20{\x0a\x0a\x09\x09gl_FragDepth\x20=\x20texture(\x20depthColor,\x20vec3(\x20coord.x,\x20coord.y,\x200\x20)\x20).r;\x0a\x0a\x09}\x0a\x0a}','uniforms':{'depthColor':{'value':this['texture']},'depthWidth':{'value':_0x4fa25d['z']},'depthHeight':{'value':_0x4fa25d['w']}}});this['mesh']=new _0x923951['eaF'](new _0x923951['bdM'](0x14,0x14),_0x277c78);}return this['mesh'];}['reset'](){this['texture']=null,this['mesh']=null;}['getDepthTexture'](){return this['texture'];}}class _0x5377a9 extends _0x923951['Qev']{constructor(_0x73d81f,_0x2e2a25){super();const _0x3b3228=this;let _0x327954=null,_0x69d229=0x1,_0x29d51c=null,_0x5945bb='local-floor',_0x134122=0x1,_0xf02f5b=null,_0xa674a=null,_0x1900b0=null,_0x3ed131=null,_0x41c669=null,_0x251f0b=null;const _0x40569a=new _0x2adaab(),_0x4c56cd=_0x2e2a25['getContextAttributes']();let _0x16dd1f=null,_0x20690f=null;const _0x2e540e=[],_0xa78343=[],_0x2863e5=new _0x923951['I9Y']();let _0x55c02e=null;const _0x52000c=new _0x923951['ubm']();_0x52000c['viewport']=new _0x923951['IUQ']();const _0xe1869c=new _0x923951['ubm']();_0xe1869c['viewport']=new _0x923951['IUQ']();const _0x2b7a05=[_0x52000c,_0xe1869c],_0x37008d=new _0x923951['nZQ']();let _0x3147a2=null,_0x58a412=null;function _0x24d478(_0x270877){const _0x1afe6d=_0xa78343['indexOf'](_0x270877['inputSource']);if(-0x1===_0x1afe6d)return;const _0x4f5d6a=_0x2e540e[_0x1afe6d];void 0x0!==_0x4f5d6a&&(_0x4f5d6a['update'](_0x270877['inputSource'],_0x270877['frame'],_0xf02f5b||_0x29d51c),_0x4f5d6a['dispatchEvent']({'type':_0x270877['type'],'data':_0x270877['inputSource']}));}function _0x4aaf94(){_0x327954['removeEventListener']('select',_0x24d478),_0x327954['removeEventListener']('selectstart',_0x24d478),_0x327954['removeEventListener']('selectend',_0x24d478),_0x327954['removeEventListener']('squeeze',_0x24d478),_0x327954['removeEventListener']('squeezestart',_0x24d478),_0x327954['removeEventListener']('squeezeend',_0x24d478),_0x327954['removeEventListener']('end',_0x4aaf94),_0x327954['removeEventListener']('inputsourceschange',_0x3476fb);for(let _0x117bb4=0x0;_0x117bb4<_0x2e540e['length'];_0x117bb4++){const _0x14060d=_0xa78343[_0x117bb4];null!==_0x14060d&&(_0xa78343[_0x117bb4]=null,_0x2e540e[_0x117bb4]['disconnect'](_0x14060d));}_0x3147a2=null,_0x58a412=null,_0x40569a['reset'](),_0x73d81f['setRenderTarget'](_0x16dd1f),_0x41c669=null,_0x3ed131=null,_0x1900b0=null,_0x327954=null,_0x20690f=null,_0x176b7a['stop'](),_0x3b3228['isPresenting']=!0x1,_0x73d81f['setPixelRatio'](_0x55c02e),_0x73d81f['setSize'](_0x2863e5['width'],_0x2863e5['height'],!0x1),_0x3b3228['dispatchEvent']({'type':'sessionend'});}function _0x3476fb(_0x295a44){for(let _0x43a725=0x0;_0x43a725<_0x295a44['removed']['length'];_0x43a725++){const _0x1c23f9=_0x295a44['removed'][_0x43a725],_0x4489ae=_0xa78343['indexOf'](_0x1c23f9);_0x4489ae>=0x0&&(_0xa78343[_0x4489ae]=null,_0x2e540e[_0x4489ae]['disconnect'](_0x1c23f9));}for(let _0x3426d5=0x0;_0x3426d5<_0x295a44['added']['length'];_0x3426d5++){const _0x42e9ff=_0x295a44['added'][_0x3426d5];let _0x245719=_0xa78343['indexOf'](_0x42e9ff);if(-0x1===_0x245719){for(let _0x3e89a4=0x0;_0x3e89a4<_0x2e540e['length'];_0x3e89a4++){if(_0x3e89a4>=_0xa78343['length']){_0xa78343['push'](_0x42e9ff),_0x245719=_0x3e89a4;break;}if(null===_0xa78343[_0x3e89a4]){_0xa78343[_0x3e89a4]=_0x42e9ff,_0x245719=_0x3e89a4;break;}}if(-0x1===_0x245719)break;}const _0x151ab0=_0x2e540e[_0x245719];_0x151ab0&&_0x151ab0['connect'](_0x42e9ff);}}this['cameraAutoUpdate']=!0x0,this['enabled']=!0x1,this['isPresenting']=!0x1,this['getController']=function(_0x258bfc){let _0x219b41=_0x2e540e[_0x258bfc];return void 0x0===_0x219b41&&(_0x219b41=new _0x5394c7(),_0x2e540e[_0x258bfc]=_0x219b41),_0x219b41['getTargetRaySpace']();},this['getControllerGrip']=function(_0x3d96f0){let _0x45691d=_0x2e540e[_0x3d96f0];return void 0x0===_0x45691d&&(_0x45691d=new _0x5394c7(),_0x2e540e[_0x3d96f0]=_0x45691d),_0x45691d['getGripSpace']();},this['getHand']=function(_0x34992a){let _0x48c846=_0x2e540e[_0x34992a];return void 0x0===_0x48c846&&(_0x48c846=new _0x5394c7(),_0x2e540e[_0x34992a]=_0x48c846),_0x48c846['getHandSpace']();},this['setFramebufferScaleFactor']=function(_0x1a9bcc){_0x69d229=_0x1a9bcc,!0x0===_0x3b3228['isPresenting']&&console['warn']('THREE.WebXRManager:\x20Cannot\x20change\x20framebuffer\x20scale\x20while\x20presenting.');},this['setReferenceSpaceType']=function(_0x20d769){_0x5945bb=_0x20d769,!0x0===_0x3b3228['isPresenting']&&console['warn']('THREE.WebXRManager:\x20Cannot\x20change\x20reference\x20space\x20type\x20while\x20presenting.');},this['getReferenceSpace']=function(){return _0xf02f5b||_0x29d51c;},this['setReferenceSpace']=function(_0x256670){_0xf02f5b=_0x256670;},this['getBaseLayer']=function(){return null!==_0x3ed131?_0x3ed131:_0x41c669;},this['getBinding']=function(){return _0x1900b0;},this['getFrame']=function(){return _0x251f0b;},this['getSession']=function(){return _0x327954;},this['setSession']=async function(_0x5ea7f1){if(_0x327954=_0x5ea7f1,null!==_0x327954){_0x16dd1f=_0x73d81f['getRenderTarget'](),_0x327954['addEventListener']('select',_0x24d478),_0x327954['addEventListener']('selectstart',_0x24d478),_0x327954['addEventListener']('selectend',_0x24d478),_0x327954['addEventListener']('squeeze',_0x24d478),_0x327954['addEventListener']('squeezestart',_0x24d478),_0x327954['addEventListener']('squeezeend',_0x24d478),_0x327954['addEventListener']('end',_0x4aaf94),_0x327954['addEventListener']('inputsourceschange',_0x3476fb),!0x0!==_0x4c56cd['xrCompatible']&&await _0x2e2a25['makeXRCompatible'](),_0x55c02e=_0x73d81f['getPixelRatio'](),_0x73d81f['getSize'](_0x2863e5);if(void 0x0!==_0x327954['enabledFeatures']&&_0x327954['enabledFeatures']['includes']('layers')){let _0x50625a=null,_0x31400e=null,_0x1527a1=null;_0x4c56cd['depth']&&(_0x1527a1=_0x4c56cd['stencil']?_0x2e2a25['DEPTH24_STENCIL8']:_0x2e2a25['DEPTH_COMPONENT24'],_0x50625a=_0x4c56cd['stencil']?_0x923951['dcC']:_0x923951['zdS'],_0x31400e=_0x4c56cd['stencil']?_0x923951['V3x']:_0x923951['bkx']);const _0x18b1d5={'colorFormat':_0x2e2a25['RGBA8'],'depthFormat':_0x1527a1,'scaleFactor':_0x69d229};_0x1900b0=new XRWebGLBinding(_0x327954,_0x2e2a25),_0x3ed131=_0x1900b0['createProjectionLayer'](_0x18b1d5),_0x327954['updateRenderState']({'layers':[_0x3ed131]}),_0x73d81f['setPixelRatio'](0x1),_0x73d81f['setSize'](_0x3ed131['textureWidth'],_0x3ed131['textureHeight'],!0x1),_0x20690f=new _0x923951['nWS'](_0x3ed131['textureWidth'],_0x3ed131['textureHeight'],{'format':_0x923951['GWd'],'type':_0x923951['OUM'],'depthTexture':new _0x923951['VCu'](_0x3ed131['textureWidth'],_0x3ed131['textureHeight'],_0x31400e,void 0x0,void 0x0,void 0x0,void 0x0,void 0x0,void 0x0,_0x50625a),'stencilBuffer':_0x4c56cd['stencil'],'colorSpace':_0x73d81f['outputColorSpace'],'samples':_0x4c56cd['antialias']?0x4:0x0,'resolveDepthBuffer':!0x1===_0x3ed131['ignoreDepthValues']});}else{const _0x2f88f3={'antialias':_0x4c56cd['antialias'],'alpha':!0x0,'depth':_0x4c56cd['depth'],'stencil':_0x4c56cd['stencil'],'framebufferScaleFactor':_0x69d229};_0x41c669=new XRWebGLLayer(_0x327954,_0x2e2a25,_0x2f88f3),_0x327954['updateRenderState']({'baseLayer':_0x41c669}),_0x73d81f['setPixelRatio'](0x1),_0x73d81f['setSize'](_0x41c669['framebufferWidth'],_0x41c669['framebufferHeight'],!0x1),_0x20690f=new _0x923951['nWS'](_0x41c669['framebufferWidth'],_0x41c669['framebufferHeight'],{'format':_0x923951['GWd'],'type':_0x923951['OUM'],'colorSpace':_0x73d81f['outputColorSpace'],'stencilBuffer':_0x4c56cd['stencil']});}_0x20690f['isXRRenderTarget']=!0x0,this['setFoveation'](_0x134122),_0xf02f5b=null,_0x29d51c=await _0x327954['requestReferenceSpace'](_0x5945bb),_0x176b7a['setContext'](_0x327954),_0x176b7a['start'](),_0x3b3228['isPresenting']=!0x0,_0x3b3228['dispatchEvent']({'type':'sessionstart'});}},this['getEnvironmentBlendMode']=function(){if(null!==_0x327954)return _0x327954['environmentBlendMode'];},this['getDepthTexture']=function(){return _0x40569a['getDepthTexture']();};const _0x14704b=new _0x923951['Pq0'](),_0x5ebb18=new _0x923951['Pq0']();function _0xd8b766(_0x1f53e0,_0x1d2e47){null===_0x1d2e47?_0x1f53e0['matrixWorld']['copy'](_0x1f53e0['matrix']):_0x1f53e0['matrixWorld']['multiplyMatrices'](_0x1d2e47['matrixWorld'],_0x1f53e0['matrix']),_0x1f53e0['matrixWorldInverse']['copy'](_0x1f53e0['matrixWorld'])['invert']();}this['updateCamera']=function(_0x48793f){if(null===_0x327954)return;let _0x18c746=_0x48793f['near'],_0x4f59f1=_0x48793f['far'];null!==_0x40569a['texture']&&(_0x40569a['depthNear']>0x0&&(_0x18c746=_0x40569a['depthNear']),_0x40569a['depthFar']>0x0&&(_0x4f59f1=_0x40569a['depthFar'])),_0x37008d['near']=_0xe1869c['near']=_0x52000c['near']=_0x18c746,_0x37008d['far']=_0xe1869c['far']=_0x52000c['far']=_0x4f59f1,_0x3147a2===_0x37008d['near']&&_0x58a412===_0x37008d['far']||(_0x327954['updateRenderState']({'depthNear':_0x37008d['near'],'depthFar':_0x37008d['far']}),_0x3147a2=_0x37008d['near'],_0x58a412=_0x37008d['far']),_0x52000c['layers']['mask']=0x2|_0x48793f['layers']['mask'],_0xe1869c['layers']['mask']=0x4|_0x48793f['layers']['mask'],_0x37008d['layers']['mask']=_0x52000c['layers']['mask']|_0xe1869c['layers']['mask'];const _0x1e29b2=_0x48793f['parent'],_0x55afaa=_0x37008d['cameras'];_0xd8b766(_0x37008d,_0x1e29b2);for(let _0x358465=0x0;_0x358465<_0x55afaa['length'];_0x358465++)_0xd8b766(_0x55afaa[_0x358465],_0x1e29b2);0x2===_0x55afaa['length']?function(_0x4ffd02,_0x1e9544,_0x34d7f9){_0x14704b['setFromMatrixPosition'](_0x1e9544['matrixWorld']),_0x5ebb18['setFromMatrixPosition'](_0x34d7f9['matrixWorld']);const _0x304004=_0x14704b['distanceTo'](_0x5ebb18),_0x26885c=_0x1e9544['projectionMatrix']['elements'],_0x5585dc=_0x34d7f9['projectionMatrix']['elements'],_0xfb7996=_0x26885c[0xe]/(_0x26885c[0xa]-0x1),_0x3e30ca=_0x26885c[0xe]/(_0x26885c[0xa]+0x1),_0x5c1997=(_0x26885c[0x9]+0x1)/_0x26885c[0x5],_0xa5fe60=(_0x26885c[0x9]-0x1)/_0x26885c[0x5],_0x7e8968=(_0x26885c[0x8]-0x1)/_0x26885c[0x0],_0x285533=(_0x5585dc[0x8]+0x1)/_0x5585dc[0x0],_0x30bcda=_0xfb7996*_0x7e8968,_0x2b197d=_0xfb7996*_0x285533,_0x26d8f0=_0x304004/(-_0x7e8968+_0x285533),_0x188ca0=_0x26d8f0*-_0x7e8968;if(_0x1e9544['matrixWorld']['decompose'](_0x4ffd02['position'],_0x4ffd02['quaternion'],_0x4ffd02['scale']),_0x4ffd02['translateX'](_0x188ca0),_0x4ffd02['translateZ'](_0x26d8f0),_0x4ffd02['matrixWorld']['compose'](_0x4ffd02['position'],_0x4ffd02['quaternion'],_0x4ffd02['scale']),_0x4ffd02['matrixWorldInverse']['copy'](_0x4ffd02['matrixWorld'])['invert'](),-0x1===_0x26885c[0xa])_0x4ffd02['projectionMatrix']['copy'](_0x1e9544['projectionMatrix']),_0x4ffd02['projectionMatrixInverse']['copy'](_0x1e9544['projectionMatrixInverse']);else{const _0x125815=_0xfb7996+_0x26d8f0,_0x3decaa=_0x3e30ca+_0x26d8f0,_0x4553e2=_0x30bcda-_0x188ca0,_0x4485ef=_0x2b197d+(_0x304004-_0x188ca0),_0x186ab3=_0x5c1997*_0x3e30ca/_0x3decaa*_0x125815,_0x42bc1d=_0xa5fe60*_0x3e30ca/_0x3decaa*_0x125815;_0x4ffd02['projectionMatrix']['makePerspective'](_0x4553e2,_0x4485ef,_0x186ab3,_0x42bc1d,_0x125815,_0x3decaa),_0x4ffd02['projectionMatrixInverse']['copy'](_0x4ffd02['projectionMatrix'])['invert']();}}(_0x37008d,_0x52000c,_0xe1869c):_0x37008d['projectionMatrix']['copy'](_0x52000c['projectionMatrix']),function(_0x5488c6,_0x188c2b,_0x4868a4){null===_0x4868a4?_0x5488c6['matrix']['copy'](_0x188c2b['matrixWorld']):(_0x5488c6['matrix']['copy'](_0x4868a4['matrixWorld']),_0x5488c6['matrix']['invert'](),_0x5488c6['matrix']['multiply'](_0x188c2b['matrixWorld'])),(_0x5488c6['matrix']['decompose'](_0x5488c6['position'],_0x5488c6['quaternion'],_0x5488c6['scale']),_0x5488c6['updateMatrixWorld'](!0x0),_0x5488c6['projectionMatrix']['copy'](_0x188c2b['projectionMatrix']),_0x5488c6['projectionMatrixInverse']['copy'](_0x188c2b['projectionMatrixInverse']),_0x5488c6['isPerspectiveCamera']&&(_0x5488c6['fov']=0x2*_0x923951['a55']*Math['atan'](0x1/_0x5488c6['projectionMatrix']['elements'][0x5]),_0x5488c6['zoom']=0x1));}(_0x48793f,_0x37008d,_0x1e29b2);},this['getCamera']=function(){return _0x37008d;},this['getFoveation']=function(){if(null!==_0x3ed131||null!==_0x41c669)return _0x134122;},this['setFoveation']=function(_0x204c03){_0x134122=_0x204c03,null!==_0x3ed131&&(_0x3ed131['fixedFoveation']=_0x204c03),null!==_0x41c669&&void 0x0!==_0x41c669['fixedFoveation']&&(_0x41c669['fixedFoveation']=_0x204c03);},this['hasDepthSensing']=function(){return null!==_0x40569a['texture'];},this['getDepthSensingMesh']=function(){return _0x40569a['getMesh'](_0x37008d);};let _0x515b24=null;const _0x176b7a=new _0x62177b();_0x176b7a['setAnimationLoop'](function(_0x37ede7,_0x559175){if(_0xa674a=_0x559175['getViewerPose'](_0xf02f5b||_0x29d51c),_0x251f0b=_0x559175,null!==_0xa674a){const _0x36649f=_0xa674a['views'];null!==_0x41c669&&(_0x73d81f['setRenderTargetFramebuffer'](_0x20690f,_0x41c669['framebuffer']),_0x73d81f['setRenderTarget'](_0x20690f));let _0x446ad7=!0x1;_0x36649f['length']!==_0x37008d['cameras']['length']&&(_0x37008d['cameras']['length']=0x0,_0x446ad7=!0x0);for(let _0x195712=0x0;_0x195712<_0x36649f['length'];_0x195712++){const _0x42797a=_0x36649f[_0x195712];let _0x3aeee2=null;if(null!==_0x41c669)_0x3aeee2=_0x41c669['getViewport'](_0x42797a);else{const _0x41a019=_0x1900b0['getViewSubImage'](_0x3ed131,_0x42797a);_0x3aeee2=_0x41a019['viewport'],0x0===_0x195712&&(_0x73d81f['setRenderTargetTextures'](_0x20690f,_0x41a019['colorTexture'],_0x3ed131['ignoreDepthValues']?void 0x0:_0x41a019['depthStencilTexture']),_0x73d81f['setRenderTarget'](_0x20690f));}let _0x1898a2=_0x2b7a05[_0x195712];void 0x0===_0x1898a2&&(_0x1898a2=new _0x923951['ubm'](),_0x1898a2['layers']['enable'](_0x195712),_0x1898a2['viewport']=new _0x923951['IUQ'](),_0x2b7a05[_0x195712]=_0x1898a2),_0x1898a2['matrix']['fromArray'](_0x42797a['transform']['matrix']),_0x1898a2['matrix']['decompose'](_0x1898a2['position'],_0x1898a2['quaternion'],_0x1898a2['scale']),_0x1898a2['projectionMatrix']['fromArray'](_0x42797a['projectionMatrix']),_0x1898a2['projectionMatrixInverse']['copy'](_0x1898a2['projectionMatrix'])['invert'](),_0x1898a2['viewport']['set'](_0x3aeee2['x'],_0x3aeee2['y'],_0x3aeee2['width'],_0x3aeee2['height']),0x0===_0x195712&&(_0x37008d['matrix']['copy'](_0x1898a2['matrix']),_0x37008d['matrix']['decompose'](_0x37008d['position'],_0x37008d['quaternion'],_0x37008d['scale'])),!0x0===_0x446ad7&&_0x37008d['cameras']['push'](_0x1898a2);}const _0x38a731=_0x327954['enabledFeatures'];if(_0x38a731&&_0x38a731['includes']('depth-sensing')){const _0x933203=_0x1900b0['getDepthInformation'](_0x36649f[0x0]);_0x933203&&_0x933203['isValid']&&_0x933203['texture']&&_0x40569a['init'](_0x73d81f,_0x933203,_0x327954['renderState']);}}for(let _0xe5c950=0x0;_0xe5c950<_0x2e540e['length'];_0xe5c950++){const _0xa8d2bf=_0xa78343[_0xe5c950],_0x2e5110=_0x2e540e[_0xe5c950];null!==_0xa8d2bf&&void 0x0!==_0x2e5110&&_0x2e5110['update'](_0xa8d2bf,_0x559175,_0xf02f5b||_0x29d51c);}_0x515b24&&_0x515b24(_0x37ede7,_0x559175),_0x559175['detectedPlanes']&&_0x3b3228['dispatchEvent']({'type':'planesdetected','data':_0x559175}),_0x251f0b=null;}),this['setAnimationLoop']=function(_0x1ff0bd){_0x515b24=_0x1ff0bd;},this['dispose']=function(){};}}const _0x42d47c=new _0x923951['O9p'](),_0x3b2eb4=new _0x923951['kn4']();function _0x1f7ee1(_0x440976,_0xce1502){function _0x127240(_0x9a8135,_0x27b9cd){!0x0===_0x9a8135['matrixAutoUpdate']&&_0x9a8135['updateMatrix'](),_0x27b9cd['value']['copy'](_0x9a8135['matrix']);}function _0x12092e(_0x6427da,_0x122f2c){_0x6427da['opacity']['value']=_0x122f2c['opacity'],_0x122f2c['color']&&_0x6427da['diffuse']['value']['copy'](_0x122f2c['color']),_0x122f2c['emissive']&&_0x6427da['emissive']['value']['copy'](_0x122f2c['emissive'])['multiplyScalar'](_0x122f2c['emissiveIntensity']),_0x122f2c['map']&&(_0x6427da['map']['value']=_0x122f2c['map'],_0x127240(_0x122f2c['map'],_0x6427da['mapTransform'])),_0x122f2c['alphaMap']&&(_0x6427da['alphaMap']['value']=_0x122f2c['alphaMap'],_0x127240(_0x122f2c['alphaMap'],_0x6427da['alphaMapTransform'])),_0x122f2c['bumpMap']&&(_0x6427da['bumpMap']['value']=_0x122f2c['bumpMap'],_0x127240(_0x122f2c['bumpMap'],_0x6427da['bumpMapTransform']),_0x6427da['bumpScale']['value']=_0x122f2c['bumpScale'],_0x122f2c['side']===_0x923951['hsX']&&(_0x6427da['bumpScale']['value']*=-0x1)),_0x122f2c['normalMap']&&(_0x6427da['normalMap']['value']=_0x122f2c['normalMap'],_0x127240(_0x122f2c['normalMap'],_0x6427da['normalMapTransform']),_0x6427da['normalScale']['value']['copy'](_0x122f2c['normalScale']),_0x122f2c['side']===_0x923951['hsX']&&_0x6427da['normalScale']['value']['negate']()),_0x122f2c['displacementMap']&&(_0x6427da['displacementMap']['value']=_0x122f2c['displacementMap'],_0x127240(_0x122f2c['displacementMap'],_0x6427da['displacementMapTransform']),_0x6427da['displacementScale']['value']=_0x122f2c['displacementScale'],_0x6427da['displacementBias']['value']=_0x122f2c['displacementBias']),_0x122f2c['emissiveMap']&&(_0x6427da['emissiveMap']['value']=_0x122f2c['emissiveMap'],_0x127240(_0x122f2c['emissiveMap'],_0x6427da['emissiveMapTransform'])),_0x122f2c['specularMap']&&(_0x6427da['specularMap']['value']=_0x122f2c['specularMap'],_0x127240(_0x122f2c['specularMap'],_0x6427da['specularMapTransform'])),_0x122f2c['alphaTest']>0x0&&(_0x6427da['alphaTest']['value']=_0x122f2c['alphaTest']);const _0x3e36ab=_0xce1502['get'](_0x122f2c),_0x2290e8=_0x3e36ab['envMap'],_0x3041e5=_0x3e36ab['envMapRotation'];_0x2290e8&&(_0x6427da['envMap']['value']=_0x2290e8,_0x42d47c['copy'](_0x3041e5),_0x42d47c['x']*=-0x1,_0x42d47c['y']*=-0x1,_0x42d47c['z']*=-0x1,_0x2290e8['isCubeTexture']&&!0x1===_0x2290e8['isRenderTargetTexture']&&(_0x42d47c['y']*=-0x1,_0x42d47c['z']*=-0x1),_0x6427da['envMapRotation']['value']['setFromMatrix4'](_0x3b2eb4['makeRotationFromEuler'](_0x42d47c)),_0x6427da['flipEnvMap']['value']=_0x2290e8['isCubeTexture']&&!0x1===_0x2290e8['isRenderTargetTexture']?-0x1:0x1,_0x6427da['reflectivity']['value']=_0x122f2c['reflectivity'],_0x6427da['ior']['value']=_0x122f2c['ior'],_0x6427da['refractionRatio']['value']=_0x122f2c['refractionRatio']),_0x122f2c['lightMap']&&(_0x6427da['lightMap']['value']=_0x122f2c['lightMap'],_0x6427da['lightMapIntensity']['value']=_0x122f2c['lightMapIntensity'],_0x127240(_0x122f2c['lightMap'],_0x6427da['lightMapTransform'])),_0x122f2c['aoMap']&&(_0x6427da['aoMap']['value']=_0x122f2c['aoMap'],_0x6427da['aoMapIntensity']['value']=_0x122f2c['aoMapIntensity'],_0x127240(_0x122f2c['aoMap'],_0x6427da['aoMapTransform']));}return{'refreshFogUniforms':function(_0xc8044f,_0x3c942b){_0x3c942b['color']['getRGB'](_0xc8044f['fogColor']['value'],(0x0,_0x923951['_Ut'])(_0x440976)),_0x3c942b['isFog']?(_0xc8044f['fogNear']['value']=_0x3c942b['near'],_0xc8044f['fogFar']['value']=_0x3c942b['far']):_0x3c942b['isFogExp2']&&(_0xc8044f['fogDensity']['value']=_0x3c942b['density']);},'refreshMaterialUniforms':function(_0x5c6d90,_0x18d4d4,_0x256546,_0x26604e,_0x42c9c2){_0x18d4d4['isMeshBasicMaterial']||_0x18d4d4['isMeshLambertMaterial']?_0x12092e(_0x5c6d90,_0x18d4d4):_0x18d4d4['isMeshToonMaterial']?(_0x12092e(_0x5c6d90,_0x18d4d4),function(_0x23423c,_0x29ef4a){_0x29ef4a['gradientMap']&&(_0x23423c['gradientMap']['value']=_0x29ef4a['gradientMap']);}(_0x5c6d90,_0x18d4d4)):_0x18d4d4['isMeshPhongMaterial']?(_0x12092e(_0x5c6d90,_0x18d4d4),function(_0xf80ebf,_0xabefb7){_0xf80ebf['specular']['value']['copy'](_0xabefb7['specular']),_0xf80ebf['shininess']['value']=Math['max'](_0xabefb7['shininess'],0.0001);}(_0x5c6d90,_0x18d4d4)):_0x18d4d4['isMeshStandardMaterial']?(_0x12092e(_0x5c6d90,_0x18d4d4),function(_0x209b63,_0x2c329d){_0x209b63['metalness']['value']=_0x2c329d['metalness'],_0x2c329d['metalnessMap']&&(_0x209b63['metalnessMap']['value']=_0x2c329d['metalnessMap'],_0x127240(_0x2c329d['metalnessMap'],_0x209b63['metalnessMapTransform'])),(_0x209b63['roughness']['value']=_0x2c329d['roughness'],_0x2c329d['roughnessMap']&&(_0x209b63['roughnessMap']['value']=_0x2c329d['roughnessMap'],_0x127240(_0x2c329d['roughnessMap'],_0x209b63['roughnessMapTransform']))),_0x2c329d['envMap']&&(_0x209b63['envMapIntensity']['value']=_0x2c329d['envMapIntensity']);}(_0x5c6d90,_0x18d4d4),_0x18d4d4['isMeshPhysicalMaterial']&&function(_0x22c631,_0xfee6,_0x4a23d2){_0x22c631['ior']['value']=_0xfee6['ior'],_0xfee6['sheen']>0x0&&(_0x22c631['sheenColor']['value']['copy'](_0xfee6['sheenColor'])['multiplyScalar'](_0xfee6['sheen']),_0x22c631['sheenRoughness']['value']=_0xfee6['sheenRoughness'],_0xfee6['sheenColorMap']&&(_0x22c631['sheenColorMap']['value']=_0xfee6['sheenColorMap'],_0x127240(_0xfee6['sheenColorMap'],_0x22c631['sheenColorMapTransform'])),_0xfee6['sheenRoughnessMap']&&(_0x22c631['sheenRoughnessMap']['value']=_0xfee6['sheenRoughnessMap'],_0x127240(_0xfee6['sheenRoughnessMap'],_0x22c631['sheenRoughnessMapTransform']))),_0xfee6['clearcoat']>0x0&&(_0x22c631['clearcoat']['value']=_0xfee6['clearcoat'],_0x22c631['clearcoatRoughness']['value']=_0xfee6['clearcoatRoughness'],_0xfee6['clearcoatMap']&&(_0x22c631['clearcoatMap']['value']=_0xfee6['clearcoatMap'],_0x127240(_0xfee6['clearcoatMap'],_0x22c631['clearcoatMapTransform'])),_0xfee6['clearcoatRoughnessMap']&&(_0x22c631['clearcoatRoughnessMap']['value']=_0xfee6['clearcoatRoughnessMap'],_0x127240(_0xfee6['clearcoatRoughnessMap'],_0x22c631['clearcoatRoughnessMapTransform'])),_0xfee6['clearcoatNormalMap']&&(_0x22c631['clearcoatNormalMap']['value']=_0xfee6['clearcoatNormalMap'],_0x127240(_0xfee6['clearcoatNormalMap'],_0x22c631['clearcoatNormalMapTransform']),_0x22c631['clearcoatNormalScale']['value']['copy'](_0xfee6['clearcoatNormalScale']),_0xfee6['side']===_0x923951['hsX']&&_0x22c631['clearcoatNormalScale']['value']['negate']())),_0xfee6['dispersion']>0x0&&(_0x22c631['dispersion']['value']=_0xfee6['dispersion']),_0xfee6['iridescence']>0x0&&(_0x22c631['iridescence']['value']=_0xfee6['iridescence'],_0x22c631['iridescenceIOR']['value']=_0xfee6['iridescenceIOR'],_0x22c631['iridescenceThicknessMinimum']['value']=_0xfee6['iridescenceThicknessRange'][0x0],_0x22c631['iridescenceThicknessMaximum']['value']=_0xfee6['iridescenceThicknessRange'][0x1],_0xfee6['iridescenceMap']&&(_0x22c631['iridescenceMap']['value']=_0xfee6['iridescenceMap'],_0x127240(_0xfee6['iridescenceMap'],_0x22c631['iridescenceMapTransform'])),_0xfee6['iridescenceThicknessMap']&&(_0x22c631['iridescenceThicknessMap']['value']=_0xfee6['iridescenceThicknessMap'],_0x127240(_0xfee6['iridescenceThicknessMap'],_0x22c631['iridescenceThicknessMapTransform']))),_0xfee6['transmission']>0x0&&(_0x22c631['transmission']['value']=_0xfee6['transmission'],_0x22c631['transmissionSamplerMap']['value']=_0x4a23d2['texture'],_0x22c631['transmissionSamplerSize']['value']['set'](_0x4a23d2['width'],_0x4a23d2['height']),_0xfee6['transmissionMap']&&(_0x22c631['transmissionMap']['value']=_0xfee6['transmissionMap'],_0x127240(_0xfee6['transmissionMap'],_0x22c631['transmissionMapTransform'])),_0x22c631['thickness']['value']=_0xfee6['thickness'],_0xfee6['thicknessMap']&&(_0x22c631['thicknessMap']['value']=_0xfee6['thicknessMap'],_0x127240(_0xfee6['thicknessMap'],_0x22c631['thicknessMapTransform'])),_0x22c631['attenuationDistance']['value']=_0xfee6['attenuationDistance'],_0x22c631['attenuationColor']['value']['copy'](_0xfee6['attenuationColor'])),_0xfee6['anisotropy']>0x0&&(_0x22c631['anisotropyVector']['value']['set'](_0xfee6['anisotropy']*Math['cos'](_0xfee6['anisotropyRotation']),_0xfee6['anisotropy']*Math['sin'](_0xfee6['anisotropyRotation'])),_0xfee6['anisotropyMap']&&(_0x22c631['anisotropyMap']['value']=_0xfee6['anisotropyMap'],_0x127240(_0xfee6['anisotropyMap'],_0x22c631['anisotropyMapTransform']))),(_0x22c631['specularIntensity']['value']=_0xfee6['specularIntensity'],_0x22c631['specularColor']['value']['copy'](_0xfee6['specularColor']),_0xfee6['specularColorMap']&&(_0x22c631['specularColorMap']['value']=_0xfee6['specularColorMap'],_0x127240(_0xfee6['specularColorMap'],_0x22c631['specularColorMapTransform']))),_0xfee6['specularIntensityMap']&&(_0x22c631['specularIntensityMap']['value']=_0xfee6['specularIntensityMap'],_0x127240(_0xfee6['specularIntensityMap'],_0x22c631['specularIntensityMapTransform']));}(_0x5c6d90,_0x18d4d4,_0x42c9c2)):_0x18d4d4['isMeshMatcapMaterial']?(_0x12092e(_0x5c6d90,_0x18d4d4),function(_0x1c8b99,_0x1d8989){_0x1d8989['matcap']&&(_0x1c8b99['matcap']['value']=_0x1d8989['matcap']);}(_0x5c6d90,_0x18d4d4)):_0x18d4d4['isMeshDepthMaterial']?_0x12092e(_0x5c6d90,_0x18d4d4):_0x18d4d4['isMeshDistanceMaterial']?(_0x12092e(_0x5c6d90,_0x18d4d4),function(_0x4de3bc,_0x5282bf){const _0x3fb2e4=_0xce1502['get'](_0x5282bf)['light'];_0x4de3bc['referencePosition']['value']['setFromMatrixPosition'](_0x3fb2e4['matrixWorld']),_0x4de3bc['nearDistance']['value']=_0x3fb2e4['shadow']['camera']['near'],_0x4de3bc['farDistance']['value']=_0x3fb2e4['shadow']['camera']['far'];}(_0x5c6d90,_0x18d4d4)):_0x18d4d4['isMeshNormalMaterial']?_0x12092e(_0x5c6d90,_0x18d4d4):_0x18d4d4['isLineBasicMaterial']?(function(_0x5f1432,_0x2d0d47){_0x5f1432['diffuse']['value']['copy'](_0x2d0d47['color']),_0x5f1432['opacity']['value']=_0x2d0d47['opacity'],_0x2d0d47['map']&&(_0x5f1432['map']['value']=_0x2d0d47['map'],_0x127240(_0x2d0d47['map'],_0x5f1432['mapTransform']));}(_0x5c6d90,_0x18d4d4),_0x18d4d4['isLineDashedMaterial']&&function(_0x3621af,_0x3c4b3b){_0x3621af['dashSize']['value']=_0x3c4b3b['dashSize'],_0x3621af['totalSize']['value']=_0x3c4b3b['dashSize']+_0x3c4b3b['gapSize'],_0x3621af['scale']['value']=_0x3c4b3b['scale'];}(_0x5c6d90,_0x18d4d4)):_0x18d4d4['isPointsMaterial']?function(_0x2103bc,_0x1fb454,_0x201e66,_0x366e47){_0x2103bc['diffuse']['value']['copy'](_0x1fb454['color']),_0x2103bc['opacity']['value']=_0x1fb454['opacity'],_0x2103bc['size']['value']=_0x1fb454['size']*_0x201e66,_0x2103bc['scale']['value']=0.5*_0x366e47,_0x1fb454['map']&&(_0x2103bc['map']['value']=_0x1fb454['map'],_0x127240(_0x1fb454['map'],_0x2103bc['uvTransform'])),_0x1fb454['alphaMap']&&(_0x2103bc['alphaMap']['value']=_0x1fb454['alphaMap'],_0x127240(_0x1fb454['alphaMap'],_0x2103bc['alphaMapTransform'])),_0x1fb454['alphaTest']>0x0&&(_0x2103bc['alphaTest']['value']=_0x1fb454['alphaTest']);}(_0x5c6d90,_0x18d4d4,_0x256546,_0x26604e):_0x18d4d4['isSpriteMaterial']?function(_0x180f8f,_0x57b303){_0x180f8f['diffuse']['value']['copy'](_0x57b303['color']),_0x180f8f['opacity']['value']=_0x57b303['opacity'],_0x180f8f['rotation']['value']=_0x57b303['rotation'],_0x57b303['map']&&(_0x180f8f['map']['value']=_0x57b303['map'],_0x127240(_0x57b303['map'],_0x180f8f['mapTransform'])),_0x57b303['alphaMap']&&(_0x180f8f['alphaMap']['value']=_0x57b303['alphaMap'],_0x127240(_0x57b303['alphaMap'],_0x180f8f['alphaMapTransform'])),_0x57b303['alphaTest']>0x0&&(_0x180f8f['alphaTest']['value']=_0x57b303['alphaTest']);}(_0x5c6d90,_0x18d4d4):_0x18d4d4['isShadowMaterial']?(_0x5c6d90['color']['value']['copy'](_0x18d4d4['color']),_0x5c6d90['opacity']['value']=_0x18d4d4['opacity']):_0x18d4d4['isShaderMaterial']&&(_0x18d4d4['uniformsNeedUpdate']=!0x1);}};}function _0x3b4084(_0x77d1df,_0x9833ca,_0x4056a8,_0x18ca0f){let _0x552fe6={},_0x57310e={},_0x5e9775=[];const _0x5b5d43=_0x77d1df['getParameter'](_0x77d1df['MAX_UNIFORM_BUFFER_BINDINGS']);function _0x454a6f(_0x124002,_0x5b6edb,_0x4a19e5,_0x21bfe5){const _0x2c0807=_0x124002['value'],_0x10f216=_0x5b6edb+'_'+_0x4a19e5;if(void 0x0===_0x21bfe5[_0x10f216])return _0x21bfe5[_0x10f216]='number'==typeof _0x2c0807||'boolean'==typeof _0x2c0807?_0x2c0807:_0x2c0807['clone'](),!0x0;{const _0x282edd=_0x21bfe5[_0x10f216];if('number'==typeof _0x2c0807||'boolean'==typeof _0x2c0807){if(_0x282edd!==_0x2c0807)return _0x21bfe5[_0x10f216]=_0x2c0807,!0x0;}else{if(!0x1===_0x282edd['equals'](_0x2c0807))return _0x282edd['copy'](_0x2c0807),!0x0;}}return!0x1;}function _0xd56562(_0x58727b){const _0x2a32cf={'boundary':0x0,'storage':0x0};return'number'==typeof _0x58727b||'boolean'==typeof _0x58727b?(_0x2a32cf['boundary']=0x4,_0x2a32cf['storage']=0x4):_0x58727b['isVector2']?(_0x2a32cf['boundary']=0x8,_0x2a32cf['storage']=0x8):_0x58727b['isVector3']||_0x58727b['isColor']?(_0x2a32cf['boundary']=0x10,_0x2a32cf['storage']=0xc):_0x58727b['isVector4']?(_0x2a32cf['boundary']=0x10,_0x2a32cf['storage']=0x10):_0x58727b['isMatrix3']?(_0x2a32cf['boundary']=0x30,_0x2a32cf['storage']=0x30):_0x58727b['isMatrix4']?(_0x2a32cf['boundary']=0x40,_0x2a32cf['storage']=0x40):_0x58727b['isTexture']?console['warn']('THREE.WebGLRenderer:\x20Texture\x20samplers\x20can\x20not\x20be\x20part\x20of\x20an\x20uniforms\x20group.'):console['warn']('THREE.WebGLRenderer:\x20Unsupported\x20uniform\x20value\x20type.',_0x58727b),_0x2a32cf;}function _0x43639e(_0x1fc2db){const _0x1079d2=_0x1fc2db['target'];_0x1079d2['removeEventListener']('dispose',_0x43639e);const _0x5037ea=_0x5e9775['indexOf'](_0x1079d2['__bindingPointIndex']);_0x5e9775['splice'](_0x5037ea,0x1),_0x77d1df['deleteBuffer'](_0x552fe6[_0x1079d2['id']]),delete _0x552fe6[_0x1079d2['id']],delete _0x57310e[_0x1079d2['id']];}return{'bind':function(_0x3227b5,_0x32bc37){const _0x2edaa6=_0x32bc37['program'];_0x18ca0f['uniformBlockBinding'](_0x3227b5,_0x2edaa6);},'update':function(_0xae884d,_0x3b9f28){let _0x2a1cd7=_0x552fe6[_0xae884d['id']];void 0x0===_0x2a1cd7&&(!function(_0x52d6eb){const _0x38ca16=_0x52d6eb['uniforms'];let _0x493c5b=0x0;const _0x3a33d0=0x10;for(let _0x441e39=0x0,_0x4b9b53=_0x38ca16['length'];_0x441e39<_0x4b9b53;_0x441e39++){const _0x4aaec6=Array['isArray'](_0x38ca16[_0x441e39])?_0x38ca16[_0x441e39]:[_0x38ca16[_0x441e39]];for(let _0x5bb5f7=0x0,_0x37996f=_0x4aaec6['length'];_0x5bb5f7<_0x37996f;_0x5bb5f7++){const _0x48339b=_0x4aaec6[_0x5bb5f7],_0x373432=Array['isArray'](_0x48339b['value'])?_0x48339b['value']:[_0x48339b['value']];for(let _0x59872b=0x0,_0x22f65e=_0x373432['length'];_0x59872b<_0x22f65e;_0x59872b++){const _0x1a8afc=_0xd56562(_0x373432[_0x59872b]),_0x4e9bd7=_0x493c5b%_0x3a33d0,_0x23a7f3=_0x4e9bd7%_0x1a8afc['boundary'],_0x43f093=_0x4e9bd7+_0x23a7f3;_0x493c5b+=_0x23a7f3,0x0!==_0x43f093&&_0x3a33d0-_0x43f093<_0x1a8afc['storage']&&(_0x493c5b+=_0x3a33d0-_0x43f093),_0x48339b['__data']=new Float32Array(_0x1a8afc['storage']/Float32Array['BYTES_PER_ELEMENT']),_0x48339b['__offset']=_0x493c5b,_0x493c5b+=_0x1a8afc['storage'];}}}const _0x116da0=_0x493c5b%_0x3a33d0;_0x116da0>0x0&&(_0x493c5b+=_0x3a33d0-_0x116da0),(_0x52d6eb['__size']=_0x493c5b,_0x52d6eb['__cache']={});}(_0xae884d),_0x2a1cd7=function(_0x54d0f5){const _0x1e1ee2=(function(){for(let _0x49856b=0x0;_0x49856b<_0x5b5d43;_0x49856b++)if(-0x1===_0x5e9775['indexOf'](_0x49856b))return _0x5e9775['push'](_0x49856b),_0x49856b;return console['error']('THREE.WebGLRenderer:\x20Maximum\x20number\x20of\x20simultaneously\x20usable\x20uniforms\x20groups\x20reached.'),0x0;}());_0x54d0f5['__bindingPointIndex']=_0x1e1ee2;const _0x417233=_0x77d1df['createBuffer'](),_0x517788=_0x54d0f5['__size'],_0x2b7801=_0x54d0f5['usage'];return _0x77d1df['bindBuffer'](_0x77d1df['UNIFORM_BUFFER'],_0x417233),_0x77d1df['bufferData'](_0x77d1df['UNIFORM_BUFFER'],_0x517788,_0x2b7801),_0x77d1df['bindBuffer'](_0x77d1df['UNIFORM_BUFFER'],null),_0x77d1df['bindBufferBase'](_0x77d1df['UNIFORM_BUFFER'],_0x1e1ee2,_0x417233),_0x417233;}(_0xae884d),_0x552fe6[_0xae884d['id']]=_0x2a1cd7,_0xae884d['addEventListener']('dispose',_0x43639e));const _0x392174=_0x3b9f28['program'];_0x18ca0f['updateUBOMapping'](_0xae884d,_0x392174);const _0xb83fb9=_0x9833ca['render']['frame'];_0x57310e[_0xae884d['id']]!==_0xb83fb9&&(!function(_0x588d00){const _0x4232eb=_0x552fe6[_0x588d00['id']],_0x9f78fd=_0x588d00['uniforms'],_0x5a03f6=_0x588d00['__cache'];_0x77d1df['bindBuffer'](_0x77d1df['UNIFORM_BUFFER'],_0x4232eb);for(let _0x3c0401=0x0,_0x3e1978=_0x9f78fd['length'];_0x3c0401<_0x3e1978;_0x3c0401++){const _0x45024c=Array['isArray'](_0x9f78fd[_0x3c0401])?_0x9f78fd[_0x3c0401]:[_0x9f78fd[_0x3c0401]];for(let _0x40e2d8=0x0,_0x52b545=_0x45024c['length'];_0x40e2d8<_0x52b545;_0x40e2d8++){const _0x4ec4fa=_0x45024c[_0x40e2d8];if(!0x0===_0x454a6f(_0x4ec4fa,_0x3c0401,_0x40e2d8,_0x5a03f6)){const _0x326f74=_0x4ec4fa['__offset'],_0x27ba71=Array['isArray'](_0x4ec4fa['value'])?_0x4ec4fa['value']:[_0x4ec4fa['value']];let _0x4d2141=0x0;for(let _0x3a99f7=0x0;_0x3a99f7<_0x27ba71['length'];_0x3a99f7++){const _0x592f4b=_0x27ba71[_0x3a99f7],_0x464042=_0xd56562(_0x592f4b);'number'==typeof _0x592f4b||'boolean'==typeof _0x592f4b?(_0x4ec4fa['__data'][0x0]=_0x592f4b,_0x77d1df['bufferSubData'](_0x77d1df['UNIFORM_BUFFER'],_0x326f74+_0x4d2141,_0x4ec4fa['__data'])):_0x592f4b['isMatrix3']?(_0x4ec4fa['__data'][0x0]=_0x592f4b['elements'][0x0],_0x4ec4fa['__data'][0x1]=_0x592f4b['elements'][0x1],_0x4ec4fa['__data'][0x2]=_0x592f4b['elements'][0x2],_0x4ec4fa['__data'][0x3]=0x0,_0x4ec4fa['__data'][0x4]=_0x592f4b['elements'][0x3],_0x4ec4fa['__data'][0x5]=_0x592f4b['elements'][0x4],_0x4ec4fa['__data'][0x6]=_0x592f4b['elements'][0x5],_0x4ec4fa['__data'][0x7]=0x0,_0x4ec4fa['__data'][0x8]=_0x592f4b['elements'][0x6],_0x4ec4fa['__data'][0x9]=_0x592f4b['elements'][0x7],_0x4ec4fa['__data'][0xa]=_0x592f4b['elements'][0x8],_0x4ec4fa['__data'][0xb]=0x0):(_0x592f4b['toArray'](_0x4ec4fa['__data'],_0x4d2141),_0x4d2141+=_0x464042['storage']/Float32Array['BYTES_PER_ELEMENT']);}_0x77d1df['bufferSubData'](_0x77d1df['UNIFORM_BUFFER'],_0x326f74,_0x4ec4fa['__data']);}}}_0x77d1df['bindBuffer'](_0x77d1df['UNIFORM_BUFFER'],null);}(_0xae884d),_0x57310e[_0xae884d['id']]=_0xb83fb9);},'dispose':function(){for(const _0x21f458 in _0x552fe6)_0x77d1df['deleteBuffer'](_0x552fe6[_0x21f458]);_0x5e9775=[],_0x552fe6={},_0x57310e={};}};}class _0x4987c9{constructor(_0x29394a={}){const {canvas:_0x26d2e4=(0x0,_0x923951['lPF'])(),context:_0xbb6f74=null,depth:_0x632126=!0x0,stencil:_0x15a4fd=!0x1,alpha:_0x37a8fe=!0x1,antialias:_0x379a63=!0x1,premultipliedAlpha:_0x15b0a1=!0x0,preserveDrawingBuffer:_0x5c5ffc=!0x1,powerPreference:_0x3e97d4='default',failIfMajorPerformanceCaveat:_0x57eb58=!0x1,reverseDepthBuffer:_0x4199f6=!0x1}=_0x29394a;let _0x36aa0e;if(this['isWebGLRenderer']=!0x0,null!==_0xbb6f74){if('undefined'!=typeof WebGLRenderingContext&&_0xbb6f74 instanceof WebGLRenderingContext)throw new Error('THREE.WebGLRenderer:\x20WebGL\x201\x20is\x20not\x20supported\x20since\x20r163.');_0x36aa0e=_0xbb6f74['getContextAttributes']()['alpha'];}else _0x36aa0e=_0x37a8fe;const _0x1d5dae=new Uint32Array(0x4),_0x2ab7e7=new Int32Array(0x4);let _0x1802f1=null,_0x351648=null;const _0x54d0bf=[],_0x38c878=[];this['domElement']=_0x26d2e4,this['debug']={'checkShaderErrors':!0x0,'onShaderError':null},this['autoClear']=!0x0,this['autoClearColor']=!0x0,this['autoClearDepth']=!0x0,this['autoClearStencil']=!0x0,this['sortObjects']=!0x0,this['clippingPlanes']=[],this['localClippingEnabled']=!0x1,this['_outputColorSpace']=_0x923951['er$'],this['toneMapping']=_0x923951['y_p'],this['toneMappingExposure']=0x1;const _0x2c50ea=this;let _0x47d63a=!0x1,_0x12bff8=0x0,_0x177694=0x0,_0x4e3815=null,_0x39c0b1=-0x1,_0x3c64b9=null;const _0x5b284b=new _0x923951['IUQ'](),_0x473f98=new _0x923951['IUQ']();let _0x175f55=null;const _0x1421bf=new _0x923951['Q1f'](0x0);let _0x256463=0x0,_0x52a2a7=_0x26d2e4['width'],_0x1a6d9e=_0x26d2e4['height'],_0x43261d=0x1,_0x3cffb5=null,_0x4af180=null;const _0x4a1e57=new _0x923951['IUQ'](0x0,0x0,_0x52a2a7,_0x1a6d9e),_0x1663c3=new _0x923951['IUQ'](0x0,0x0,_0x52a2a7,_0x1a6d9e);let _0x41abc4=!0x1;const _0x2f06b0=new _0x923951['PPD']();let _0x498898=!0x1,_0x57ae9f=!0x1;this['transmissionResolutionScale']=0x1;const _0x29b8dd=new _0x923951['kn4'](),_0x113454=new _0x923951['kn4'](),_0x4c89e2=new _0x923951['Pq0'](),_0x289b48=new _0x923951['IUQ'](),_0x3d81b7={'background':null,'fog':null,'environment':null,'overrideMaterial':null,'isScene':!0x0};let _0x2cc88e=!0x1;function _0xb3ad42(){return null===_0x4e3815?_0x43261d:0x1;}let _0x59a437,_0x1a873a,_0x3aceef,_0x1b67a8,_0xcd2e55,_0x3d50fb,_0x3d98aa,_0x252b12,_0x41d940,_0x199eba,_0x373273,_0x57fb5,_0x448565,_0x5ea234,_0x53f1a6,_0x68471f,_0x24049a,_0x43c549,_0x37da8e,_0xb42bcd,_0x34ae4e,_0x233de0,_0x344ad6,_0x5d3479,_0x56fea3=_0xbb6f74;function _0x3903ff(_0x37106e,_0x2d0980){return _0x26d2e4['getContext'](_0x37106e,_0x2d0980);}try{const _0x5ca20e={'alpha':!0x0,'depth':_0x632126,'stencil':_0x15a4fd,'antialias':_0x379a63,'premultipliedAlpha':_0x15b0a1,'preserveDrawingBuffer':_0x5c5ffc,'powerPreference':_0x3e97d4,'failIfMajorPerformanceCaveat':_0x57eb58};if('setAttribute'in _0x26d2e4&&_0x26d2e4['setAttribute']('data-engine','three.js\x20r'+_0x923951['sPf']),_0x26d2e4['addEventListener']('webglcontextlost',_0x55cdb4,!0x1),_0x26d2e4['addEventListener']('webglcontextrestored',_0x5c5821,!0x1),_0x26d2e4['addEventListener']('webglcontextcreationerror',_0x4dd9b3,!0x1),null===_0x56fea3){const _0xa5c1ab='webgl2';if(_0x56fea3=_0x3903ff(_0xa5c1ab,_0x5ca20e),null===_0x56fea3)throw _0x3903ff(_0xa5c1ab)?new Error('Error\x20creating\x20WebGL\x20context\x20with\x20your\x20selected\x20attributes.'):new Error('Error\x20creating\x20WebGL\x20context.');}}catch(_0x4ba712){throw console['error']('THREE.WebGLRenderer:\x20'+_0x4ba712['message']),_0x4ba712;}function _0x55ad0e(){_0x59a437=new _0x193fd5(_0x56fea3),_0x59a437['init'](),_0x233de0=new _0x4466ed(_0x56fea3,_0x59a437),_0x1a873a=new _0x462cbb(_0x56fea3,_0x59a437,_0x29394a,_0x233de0),_0x3aceef=new _0x51da79(_0x56fea3,_0x59a437),_0x1a873a['reverseDepthBuffer']&&_0x4199f6&&_0x3aceef['buffers']['depth']['setReversed'](!0x0),_0x1b67a8=new _0x659d10(_0x56fea3),_0xcd2e55=new _0x51e422(),_0x3d50fb=new _0x491532(_0x56fea3,_0x59a437,_0x3aceef,_0xcd2e55,_0x1a873a,_0x233de0,_0x1b67a8),_0x3d98aa=new _0x477e0b(_0x2c50ea),_0x252b12=new _0x14aa87(_0x2c50ea),_0x41d940=new _0x407cad(_0x56fea3),_0x344ad6=new _0x16c9aa(_0x56fea3,_0x41d940),_0x199eba=new _0x1576d3(_0x56fea3,_0x41d940,_0x1b67a8,_0x344ad6),_0x373273=new _0x419c8e(_0x56fea3,_0x199eba,_0x41d940,_0x1b67a8),_0x37da8e=new _0x1bd9f0(_0x56fea3,_0x1a873a,_0x3d50fb),_0x68471f=new _0x159798(_0xcd2e55),_0x57fb5=new _0x3e3a85(_0x2c50ea,_0x3d98aa,_0x252b12,_0x59a437,_0x1a873a,_0x344ad6,_0x68471f),_0x448565=new _0x1f7ee1(_0x2c50ea,_0xcd2e55),_0x5ea234=new _0x1ca733(),_0x53f1a6=new _0x2cbfbe(_0x59a437),_0x43c549=new _0x32796e(_0x2c50ea,_0x3d98aa,_0x252b12,_0x3aceef,_0x373273,_0x36aa0e,_0x15b0a1),_0x24049a=new _0x20a939(_0x2c50ea,_0x373273,_0x1a873a),_0x5d3479=new _0x3b4084(_0x56fea3,_0x1b67a8,_0x1a873a,_0x3aceef),_0xb42bcd=new _0x24893c(_0x56fea3,_0x59a437,_0x1b67a8),_0x34ae4e=new _0xab3317(_0x56fea3,_0x59a437,_0x1b67a8),_0x1b67a8['programs']=_0x57fb5['programs'],_0x2c50ea['capabilities']=_0x1a873a,_0x2c50ea['extensions']=_0x59a437,_0x2c50ea['properties']=_0xcd2e55,_0x2c50ea['renderLists']=_0x5ea234,_0x2c50ea['shadowMap']=_0x24049a,_0x2c50ea['state']=_0x3aceef,_0x2c50ea['info']=_0x1b67a8;}_0x55ad0e();const _0x3cd140=new _0x5377a9(_0x2c50ea,_0x56fea3);function _0x55cdb4(_0xd9cc1a){_0xd9cc1a['preventDefault'](),console['log']('THREE.WebGLRenderer:\x20Context\x20Lost.'),_0x47d63a=!0x0;}function _0x5c5821(){console['log']('THREE.WebGLRenderer:\x20Context\x20Restored.'),_0x47d63a=!0x1;const _0x3f2d32=_0x1b67a8['autoReset'],_0x45ca8a=_0x24049a['enabled'],_0x245bc1=_0x24049a['autoUpdate'],_0x5dc1d0=_0x24049a['needsUpdate'],_0x5db00e=_0x24049a['type'];_0x55ad0e(),_0x1b67a8['autoReset']=_0x3f2d32,_0x24049a['enabled']=_0x45ca8a,_0x24049a['autoUpdate']=_0x245bc1,_0x24049a['needsUpdate']=_0x5dc1d0,_0x24049a['type']=_0x5db00e;}function _0x4dd9b3(_0x2df509){console['error']('THREE.WebGLRenderer:\x20A\x20WebGL\x20context\x20could\x20not\x20be\x20created.\x20Reason:\x20',_0x2df509['statusMessage']);}function _0x4f69c1(_0x3fe278){const _0x2d052b=_0x3fe278['target'];_0x2d052b['removeEventListener']('dispose',_0x4f69c1),function(_0x21503a){(function(_0x4cb774){const _0x56b046=_0xcd2e55['get'](_0x4cb774)['programs'];void 0x0!==_0x56b046&&(_0x56b046['forEach'](function(_0x214b84){_0x57fb5['releaseProgram'](_0x214b84);}),_0x4cb774['isShaderMaterial']&&_0x57fb5['releaseShaderCache'](_0x4cb774));}(_0x21503a),_0xcd2e55['remove'](_0x21503a));}(_0x2d052b);}function _0x63ac3(_0x431dc,_0x384a13,_0x53c60d){!0x0===_0x431dc['transparent']&&_0x431dc['side']===_0x923951['$EB']&&!0x1===_0x431dc['forceSinglePass']?(_0x431dc['side']=_0x923951['hsX'],_0x431dc['needsUpdate']=!0x0,_0x2a880a(_0x431dc,_0x384a13,_0x53c60d),_0x431dc['side']=_0x923951['hB5'],_0x431dc['needsUpdate']=!0x0,_0x2a880a(_0x431dc,_0x384a13,_0x53c60d),_0x431dc['side']=_0x923951['$EB']):_0x2a880a(_0x431dc,_0x384a13,_0x53c60d);}this['xr']=_0x3cd140,this['getContext']=function(){return _0x56fea3;},this['getContextAttributes']=function(){return _0x56fea3['getContextAttributes']();},this['forceContextLoss']=function(){const _0x22c23a=_0x59a437['get']('WEBGL_lose_context');_0x22c23a&&_0x22c23a['loseContext']();},this['forceContextRestore']=function(){const _0x55d730=_0x59a437['get']('WEBGL_lose_context');_0x55d730&&_0x55d730['restoreContext']();},this['getPixelRatio']=function(){return _0x43261d;},this['setPixelRatio']=function(_0x409521){void 0x0!==_0x409521&&(_0x43261d=_0x409521,this['setSize'](_0x52a2a7,_0x1a6d9e,!0x1));},this['getSize']=function(_0x2c5c4d){return _0x2c5c4d['set'](_0x52a2a7,_0x1a6d9e);},this['setSize']=function(_0x1d007e,_0x49dad0,_0x6d4764=!0x0){_0x3cd140['isPresenting']?console['warn']('THREE.WebGLRenderer:\x20Can\x27t\x20change\x20size\x20while\x20VR\x20device\x20is\x20presenting.'):(_0x52a2a7=_0x1d007e,_0x1a6d9e=_0x49dad0,_0x26d2e4['width']=Math['floor'](_0x1d007e*_0x43261d),_0x26d2e4['height']=Math['floor'](_0x49dad0*_0x43261d),!0x0===_0x6d4764&&(_0x26d2e4['style']['width']=_0x1d007e+'px',_0x26d2e4['style']['height']=_0x49dad0+'px'),this['setViewport'](0x0,0x0,_0x1d007e,_0x49dad0));},this['getDrawingBufferSize']=function(_0x1bca9a){return _0x1bca9a['set'](_0x52a2a7*_0x43261d,_0x1a6d9e*_0x43261d)['floor']();},this['setDrawingBufferSize']=function(_0x3c7b18,_0x5bd4ac,_0x17ce4c){_0x52a2a7=_0x3c7b18,_0x1a6d9e=_0x5bd4ac,_0x43261d=_0x17ce4c,_0x26d2e4['width']=Math['floor'](_0x3c7b18*_0x17ce4c),_0x26d2e4['height']=Math['floor'](_0x5bd4ac*_0x17ce4c),this['setViewport'](0x0,0x0,_0x3c7b18,_0x5bd4ac);},this['getCurrentViewport']=function(_0x2a0ebe){return _0x2a0ebe['copy'](_0x5b284b);},this['getViewport']=function(_0x15bc17){return _0x15bc17['copy'](_0x4a1e57);},this['setViewport']=function(_0x37dd6d,_0x17c26d,_0x2f1338,_0x4dcb08){_0x37dd6d['isVector4']?_0x4a1e57['set'](_0x37dd6d['x'],_0x37dd6d['y'],_0x37dd6d['z'],_0x37dd6d['w']):_0x4a1e57['set'](_0x37dd6d,_0x17c26d,_0x2f1338,_0x4dcb08),_0x3aceef['viewport'](_0x5b284b['copy'](_0x4a1e57)['multiplyScalar'](_0x43261d)['round']());},this['getScissor']=function(_0x2f6e8f){return _0x2f6e8f['copy'](_0x1663c3);},this['setScissor']=function(_0x17a222,_0x28ecd4,_0x591eb9,_0x230627){_0x17a222['isVector4']?_0x1663c3['set'](_0x17a222['x'],_0x17a222['y'],_0x17a222['z'],_0x17a222['w']):_0x1663c3['set'](_0x17a222,_0x28ecd4,_0x591eb9,_0x230627),_0x3aceef['scissor'](_0x473f98['copy'](_0x1663c3)['multiplyScalar'](_0x43261d)['round']());},this['getScissorTest']=function(){return _0x41abc4;},this['setScissorTest']=function(_0x32e567){_0x3aceef['setScissorTest'](_0x41abc4=_0x32e567);},this['setOpaqueSort']=function(_0x4d35e6){_0x3cffb5=_0x4d35e6;},this['setTransparentSort']=function(_0x4d9628){_0x4af180=_0x4d9628;},this['getClearColor']=function(_0x4e15a6){return _0x4e15a6['copy'](_0x43c549['getClearColor']());},this['setClearColor']=function(){_0x43c549['setClearColor']['apply'](_0x43c549,arguments);},this['getClearAlpha']=function(){return _0x43c549['getClearAlpha']();},this['setClearAlpha']=function(){_0x43c549['setClearAlpha']['apply'](_0x43c549,arguments);},this['clear']=function(_0x467c65=!0x0,_0x5b99b0=!0x0,_0x1db75f=!0x0){let _0x182fda=0x0;if(_0x467c65){let _0x565c6c=!0x1;if(null!==_0x4e3815){const _0x228e0d=_0x4e3815['texture']['format'];_0x565c6c=_0x228e0d===_0x923951['c90']||_0x228e0d===_0x923951['TkQ']||_0x228e0d===_0x923951['ZQM'];}if(_0x565c6c){const _0x41db79=_0x4e3815['texture']['type'],_0x253503=_0x41db79===_0x923951['OUM']||_0x41db79===_0x923951['bkx']||_0x41db79===_0x923951['cHt']||_0x41db79===_0x923951['V3x']||_0x41db79===_0x923951['Wew']||_0x41db79===_0x923951['gJ2'],_0x21b3d2=_0x43c549['getClearColor'](),_0x1d2b86=_0x43c549['getClearAlpha'](),_0xde7b7f=_0x21b3d2['r'],_0x101e2d=_0x21b3d2['g'],_0xb9df30=_0x21b3d2['b'];_0x253503?(_0x1d5dae[0x0]=_0xde7b7f,_0x1d5dae[0x1]=_0x101e2d,_0x1d5dae[0x2]=_0xb9df30,_0x1d5dae[0x3]=_0x1d2b86,_0x56fea3['clearBufferuiv'](_0x56fea3['COLOR'],0x0,_0x1d5dae)):(_0x2ab7e7[0x0]=_0xde7b7f,_0x2ab7e7[0x1]=_0x101e2d,_0x2ab7e7[0x2]=_0xb9df30,_0x2ab7e7[0x3]=_0x1d2b86,_0x56fea3['clearBufferiv'](_0x56fea3['COLOR'],0x0,_0x2ab7e7));}else _0x182fda|=_0x56fea3['COLOR_BUFFER_BIT'];}_0x5b99b0&&(_0x182fda|=_0x56fea3['DEPTH_BUFFER_BIT']),_0x1db75f&&(_0x182fda|=_0x56fea3['STENCIL_BUFFER_BIT'],this['state']['buffers']['stencil']['setMask'](0xffffffff)),_0x56fea3['clear'](_0x182fda);},this['clearColor']=function(){this['clear'](!0x0,!0x1,!0x1);},this['clearDepth']=function(){this['clear'](!0x1,!0x0,!0x1);},this['clearStencil']=function(){this['clear'](!0x1,!0x1,!0x0);},this['dispose']=function(){_0x26d2e4['removeEventListener']('webglcontextlost',_0x55cdb4,!0x1),_0x26d2e4['removeEventListener']('webglcontextrestored',_0x5c5821,!0x1),_0x26d2e4['removeEventListener']('webglcontextcreationerror',_0x4dd9b3,!0x1),_0x43c549['dispose'](),_0x5ea234['dispose'](),_0x53f1a6['dispose'](),_0xcd2e55['dispose'](),_0x3d98aa['dispose'](),_0x252b12['dispose'](),_0x373273['dispose'](),_0x344ad6['dispose'](),_0x5d3479['dispose'](),_0x57fb5['dispose'](),_0x3cd140['dispose'](),_0x3cd140['removeEventListener']('sessionstart',_0x3662e1),_0x3cd140['removeEventListener']('sessionend',_0x28a8cd),_0x48f56d['stop']();},this['renderBufferDirect']=function(_0x377bd6,_0x2d8a59,_0x40a24f,_0x309b64,_0x1f993e,_0x37450a){null===_0x2d8a59&&(_0x2d8a59=_0x3d81b7);const _0x253746=_0x1f993e['isMesh']&&_0x1f993e['matrixWorld']['determinant']()<0x0,_0x156e80=function(_0x16496b,_0x4b2535,_0x20316c,_0x446449,_0x40d97a){!0x0!==_0x4b2535['isScene']&&(_0x4b2535=_0x3d81b7),_0x3d50fb['resetTextureUnits']();const _0x4e7b30=_0x4b2535['fog'],_0x1b2fe8=_0x446449['isMeshStandardMaterial']?_0x4b2535['environment']:null,_0x316310=null===_0x4e3815?_0x2c50ea['outputColorSpace']:!0x0===_0x4e3815['isXRRenderTarget']?_0x4e3815['texture']['colorSpace']:_0x923951['Zr2'],_0xe96dfb=(_0x446449['isMeshStandardMaterial']?_0x252b12:_0x3d98aa)['get'](_0x446449['envMap']||_0x1b2fe8),_0x217ada=!0x0===_0x446449['vertexColors']&&!!_0x20316c['attributes']['color']&&0x4===_0x20316c['attributes']['color']['itemSize'],_0x453d44=!!_0x20316c['attributes']['tangent']&&(!!_0x446449['normalMap']||_0x446449['anisotropy']>0x0),_0x2c638f=!!_0x20316c['morphAttributes']['position'],_0x2ea34d=!!_0x20316c['morphAttributes']['normal'],_0x194816=!!_0x20316c['morphAttributes']['color'];let _0x2a6979=_0x923951['y_p'];_0x446449['toneMapped']&&(null!==_0x4e3815&&!0x0!==_0x4e3815['isXRRenderTarget']||(_0x2a6979=_0x2c50ea['toneMapping']));const _0x31476b=_0x20316c['morphAttributes']['position']||_0x20316c['morphAttributes']['normal']||_0x20316c['morphAttributes']['color'],_0x2b347d=void 0x0!==_0x31476b?_0x31476b['length']:0x0,_0x2252a2=_0xcd2e55['get'](_0x446449),_0x376682=_0x351648['state']['lights'];if(!0x0===_0x498898&&(!0x0===_0x57ae9f||_0x16496b!==_0x3c64b9)){const _0x208650=_0x16496b===_0x3c64b9&&_0x446449['id']===_0x39c0b1;_0x68471f['setState'](_0x446449,_0x16496b,_0x208650);}let _0x5d8067=!0x1;_0x446449['version']===_0x2252a2['__version']?_0x2252a2['needsLights']&&_0x2252a2['lightsStateVersion']!==_0x376682['state']['version']||_0x2252a2['outputColorSpace']!==_0x316310||_0x40d97a['isBatchedMesh']&&!0x1===_0x2252a2['batching']?_0x5d8067=!0x0:_0x40d97a['isBatchedMesh']||!0x0!==_0x2252a2['batching']?_0x40d97a['isBatchedMesh']&&!0x0===_0x2252a2['batchingColor']&&null===_0x40d97a['colorTexture']||_0x40d97a['isBatchedMesh']&&!0x1===_0x2252a2['batchingColor']&&null!==_0x40d97a['colorTexture']||_0x40d97a['isInstancedMesh']&&!0x1===_0x2252a2['instancing']?_0x5d8067=!0x0:_0x40d97a['isInstancedMesh']||!0x0!==_0x2252a2['instancing']?_0x40d97a['isSkinnedMesh']&&!0x1===_0x2252a2['skinning']?_0x5d8067=!0x0:_0x40d97a['isSkinnedMesh']||!0x0!==_0x2252a2['skinning']?_0x40d97a['isInstancedMesh']&&!0x0===_0x2252a2['instancingColor']&&null===_0x40d97a['instanceColor']||_0x40d97a['isInstancedMesh']&&!0x1===_0x2252a2['instancingColor']&&null!==_0x40d97a['instanceColor']||_0x40d97a['isInstancedMesh']&&!0x0===_0x2252a2['instancingMorph']&&null===_0x40d97a['morphTexture']||_0x40d97a['isInstancedMesh']&&!0x1===_0x2252a2['instancingMorph']&&null!==_0x40d97a['morphTexture']||_0x2252a2['envMap']!==_0xe96dfb||!0x0===_0x446449['fog']&&_0x2252a2['fog']!==_0x4e7b30?_0x5d8067=!0x0:void 0x0===_0x2252a2['numClippingPlanes']||_0x2252a2['numClippingPlanes']===_0x68471f['numPlanes']&&_0x2252a2['numIntersection']===_0x68471f['numIntersection']?(_0x2252a2['vertexAlphas']!==_0x217ada||_0x2252a2['vertexTangents']!==_0x453d44||_0x2252a2['morphTargets']!==_0x2c638f||_0x2252a2['morphNormals']!==_0x2ea34d||_0x2252a2['morphColors']!==_0x194816||_0x2252a2['toneMapping']!==_0x2a6979||_0x2252a2['morphTargetsCount']!==_0x2b347d)&&(_0x5d8067=!0x0):_0x5d8067=!0x0:_0x5d8067=!0x0:_0x5d8067=!0x0:_0x5d8067=!0x0:(_0x5d8067=!0x0,_0x2252a2['__version']=_0x446449['version']);let _0x105f02=_0x2252a2['currentProgram'];!0x0===_0x5d8067&&(_0x105f02=_0x2a880a(_0x446449,_0x4b2535,_0x40d97a));let _0x49b311=!0x1,_0x4aa5a1=!0x1,_0x26c5de=!0x1;const _0x6ce549=_0x105f02['getUniforms'](),_0x29bebd=_0x2252a2['uniforms'];_0x3aceef['useProgram'](_0x105f02['program'])&&(_0x49b311=!0x0,_0x4aa5a1=!0x0,_0x26c5de=!0x0),_0x446449['id']!==_0x39c0b1&&(_0x39c0b1=_0x446449['id'],_0x4aa5a1=!0x0);if(_0x49b311||_0x3c64b9!==_0x16496b){_0x3aceef['buffers']['depth']['getReversed']()?(_0x29b8dd['copy'](_0x16496b['projectionMatrix']),(0x0,_0x923951['xiE'])(_0x29b8dd),(0x0,_0x923951['Mmk'])(_0x29b8dd),_0x6ce549['setValue'](_0x56fea3,'projectionMatrix',_0x29b8dd)):_0x6ce549['setValue'](_0x56fea3,'projectionMatrix',_0x16496b['projectionMatrix']),_0x6ce549['setValue'](_0x56fea3,'viewMatrix',_0x16496b['matrixWorldInverse']);const _0x4913da=_0x6ce549['map']['cameraPosition'];void 0x0!==_0x4913da&&_0x4913da['setValue'](_0x56fea3,_0x4c89e2['setFromMatrixPosition'](_0x16496b['matrixWorld'])),_0x1a873a['logarithmicDepthBuffer']&&_0x6ce549['setValue'](_0x56fea3,'logDepthBufFC',0x2/(Math['log'](_0x16496b['far']+0x1)/Math['LN2'])),(_0x446449['isMeshPhongMaterial']||_0x446449['isMeshToonMaterial']||_0x446449['isMeshLambertMaterial']||_0x446449['isMeshBasicMaterial']||_0x446449['isMeshStandardMaterial']||_0x446449['isShaderMaterial'])&&_0x6ce549['setValue'](_0x56fea3,'isOrthographic',!0x0===_0x16496b['isOrthographicCamera']),_0x3c64b9!==_0x16496b&&(_0x3c64b9=_0x16496b,_0x4aa5a1=!0x0,_0x26c5de=!0x0);}if(_0x40d97a['isSkinnedMesh']){_0x6ce549['setOptional'](_0x56fea3,_0x40d97a,'bindMatrix'),_0x6ce549['setOptional'](_0x56fea3,_0x40d97a,'bindMatrixInverse');const _0x2abc5c=_0x40d97a['skeleton'];_0x2abc5c&&(null===_0x2abc5c['boneTexture']&&_0x2abc5c['computeBoneTexture'](),_0x6ce549['setValue'](_0x56fea3,'boneTexture',_0x2abc5c['boneTexture'],_0x3d50fb));}_0x40d97a['isBatchedMesh']&&(_0x6ce549['setOptional'](_0x56fea3,_0x40d97a,'batchingTexture'),_0x6ce549['setValue'](_0x56fea3,'batchingTexture',_0x40d97a['_matricesTexture'],_0x3d50fb),_0x6ce549['setOptional'](_0x56fea3,_0x40d97a,'batchingIdTexture'),_0x6ce549['setValue'](_0x56fea3,'batchingIdTexture',_0x40d97a['_indirectTexture'],_0x3d50fb),_0x6ce549['setOptional'](_0x56fea3,_0x40d97a,'batchingColorTexture'),null!==_0x40d97a['_colorsTexture']&&_0x6ce549['setValue'](_0x56fea3,'batchingColorTexture',_0x40d97a['_colorsTexture'],_0x3d50fb));const _0x41091f=_0x20316c['morphAttributes'];void 0x0===_0x41091f['position']&&void 0x0===_0x41091f['normal']&&void 0x0===_0x41091f['color']||_0x37da8e['update'](_0x40d97a,_0x20316c,_0x105f02),(_0x4aa5a1||_0x2252a2['receiveShadow']!==_0x40d97a['receiveShadow'])&&(_0x2252a2['receiveShadow']=_0x40d97a['receiveShadow'],_0x6ce549['setValue'](_0x56fea3,'receiveShadow',_0x40d97a['receiveShadow'])),_0x446449['isMeshGouraudMaterial']&&null!==_0x446449['envMap']&&(_0x29bebd['envMap']['value']=_0xe96dfb,_0x29bebd['flipEnvMap']['value']=_0xe96dfb['isCubeTexture']&&!0x1===_0xe96dfb['isRenderTargetTexture']?-0x1:0x1),_0x446449['isMeshStandardMaterial']&&null===_0x446449['envMap']&&null!==_0x4b2535['environment']&&(_0x29bebd['envMapIntensity']['value']=_0x4b2535['environmentIntensity']),_0x4aa5a1&&(_0x6ce549['setValue'](_0x56fea3,'toneMappingExposure',_0x2c50ea['toneMappingExposure']),_0x2252a2['needsLights']&&(_0x2022e8=_0x26c5de,(_0x13ac93=_0x29bebd)['ambientLightColor']['needsUpdate']=_0x2022e8,_0x13ac93['lightProbe']['needsUpdate']=_0x2022e8,_0x13ac93['directionalLights']['needsUpdate']=_0x2022e8,_0x13ac93['directionalLightShadows']['needsUpdate']=_0x2022e8,_0x13ac93['pointLights']['needsUpdate']=_0x2022e8,_0x13ac93['pointLightShadows']['needsUpdate']=_0x2022e8,_0x13ac93['spotLights']['needsUpdate']=_0x2022e8,_0x13ac93['spotLightShadows']['needsUpdate']=_0x2022e8,_0x13ac93['rectAreaLights']['needsUpdate']=_0x2022e8,_0x13ac93['hemisphereLights']['needsUpdate']=_0x2022e8),_0x4e7b30&&!0x0===_0x446449['fog']&&_0x448565['refreshFogUniforms'](_0x29bebd,_0x4e7b30),_0x448565['refreshMaterialUniforms'](_0x29bebd,_0x446449,_0x43261d,_0x1a6d9e,_0x351648['state']['transmissionRenderTarget'][_0x16496b['id']]),_0x5ab3bb['upload'](_0x56fea3,_0x59859d(_0x2252a2),_0x29bebd,_0x3d50fb));var _0x13ac93,_0x2022e8;_0x446449['isShaderMaterial']&&!0x0===_0x446449['uniformsNeedUpdate']&&(_0x5ab3bb['upload'](_0x56fea3,_0x59859d(_0x2252a2),_0x29bebd,_0x3d50fb),_0x446449['uniformsNeedUpdate']=!0x1),_0x446449['isSpriteMaterial']&&_0x6ce549['setValue'](_0x56fea3,'center',_0x40d97a['center']);if(_0x6ce549['setValue'](_0x56fea3,'modelViewMatrix',_0x40d97a['modelViewMatrix']),_0x6ce549['setValue'](_0x56fea3,'normalMatrix',_0x40d97a['normalMatrix']),_0x6ce549['setValue'](_0x56fea3,'modelMatrix',_0x40d97a['matrixWorld']),_0x446449['isShaderMaterial']||_0x446449['isRawShaderMaterial']){const _0x337e77=_0x446449['uniformsGroups'];for(let _0x528d6a=0x0,_0x35edea=_0x337e77['length'];_0x528d6a<_0x35edea;_0x528d6a++){const _0x4b0ef6=_0x337e77[_0x528d6a];_0x5d3479['update'](_0x4b0ef6,_0x105f02),_0x5d3479['bind'](_0x4b0ef6,_0x105f02);}}return _0x105f02;}(_0x377bd6,_0x2d8a59,_0x40a24f,_0x309b64,_0x1f993e);_0x3aceef['setMaterial'](_0x309b64,_0x253746);let _0x161707=_0x40a24f['index'],_0x519188=0x1;if(!0x0===_0x309b64['wireframe']){if(_0x161707=_0x199eba['getWireframeAttribute'](_0x40a24f),void 0x0===_0x161707)return;_0x519188=0x2;}const _0xb3b248=_0x40a24f['drawRange'],_0x4e33d5=_0x40a24f['attributes']['position'];let _0x39fca1=_0xb3b248['start']*_0x519188,_0x422cbb=(_0xb3b248['start']+_0xb3b248['count'])*_0x519188;null!==_0x37450a&&(_0x39fca1=Math['max'](_0x39fca1,_0x37450a['start']*_0x519188),_0x422cbb=Math['min'](_0x422cbb,(_0x37450a['start']+_0x37450a['count'])*_0x519188)),null!==_0x161707?(_0x39fca1=Math['max'](_0x39fca1,0x0),_0x422cbb=Math['min'](_0x422cbb,_0x161707['count'])):null!=_0x4e33d5&&(_0x39fca1=Math['max'](_0x39fca1,0x0),_0x422cbb=Math['min'](_0x422cbb,_0x4e33d5['count']));const _0x3eacd7=_0x422cbb-_0x39fca1;if(_0x3eacd7<0x0||_0x3eacd7===0x1/0x0)return;let _0x38361e;_0x344ad6['setup'](_0x1f993e,_0x309b64,_0x156e80,_0x40a24f,_0x161707);let _0x4bb71a=_0xb42bcd;if(null!==_0x161707&&(_0x38361e=_0x41d940['get'](_0x161707),_0x4bb71a=_0x34ae4e,_0x4bb71a['setIndex'](_0x38361e)),_0x1f993e['isMesh'])!0x0===_0x309b64['wireframe']?(_0x3aceef['setLineWidth'](_0x309b64['wireframeLinewidth']*_0xb3ad42()),_0x4bb71a['setMode'](_0x56fea3['LINES'])):_0x4bb71a['setMode'](_0x56fea3['TRIANGLES']);else{if(_0x1f993e['isLine']){let _0x34bddf=_0x309b64['linewidth'];void 0x0===_0x34bddf&&(_0x34bddf=0x1),_0x3aceef['setLineWidth'](_0x34bddf*_0xb3ad42()),_0x1f993e['isLineSegments']?_0x4bb71a['setMode'](_0x56fea3['LINES']):_0x1f993e['isLineLoop']?_0x4bb71a['setMode'](_0x56fea3['LINE_LOOP']):_0x4bb71a['setMode'](_0x56fea3['LINE_STRIP']);}else _0x1f993e['isPoints']?_0x4bb71a['setMode'](_0x56fea3['POINTS']):_0x1f993e['isSprite']&&_0x4bb71a['setMode'](_0x56fea3['TRIANGLES']);}if(_0x1f993e['isBatchedMesh']){if(null!==_0x1f993e['_multiDrawInstances'])_0x4bb71a['renderMultiDrawInstances'](_0x1f993e['_multiDrawStarts'],_0x1f993e['_multiDrawCounts'],_0x1f993e['_multiDrawCount'],_0x1f993e['_multiDrawInstances']);else{if(_0x59a437['get']('WEBGL_multi_draw'))_0x4bb71a['renderMultiDraw'](_0x1f993e['_multiDrawStarts'],_0x1f993e['_multiDrawCounts'],_0x1f993e['_multiDrawCount']);else{const _0x24745e=_0x1f993e['_multiDrawStarts'],_0x1dfc2e=_0x1f993e['_multiDrawCounts'],_0x4e136f=_0x1f993e['_multiDrawCount'],_0x3f2615=_0x161707?_0x41d940['get'](_0x161707)['bytesPerElement']:0x1,_0x240bff=_0xcd2e55['get'](_0x309b64)['currentProgram']['getUniforms']();for(let _0x277a79=0x0;_0x277a79<_0x4e136f;_0x277a79++)_0x240bff['setValue'](_0x56fea3,'_gl_DrawID',_0x277a79),_0x4bb71a['render'](_0x24745e[_0x277a79]/_0x3f2615,_0x1dfc2e[_0x277a79]);}}}else{if(_0x1f993e['isInstancedMesh'])_0x4bb71a['renderInstances'](_0x39fca1,_0x3eacd7,_0x1f993e['count']);else{if(_0x40a24f['isInstancedBufferGeometry']){const _0x48b717=void 0x0!==_0x40a24f['_maxInstanceCount']?_0x40a24f['_maxInstanceCount']:0x1/0x0,_0x6a8598=Math['min'](_0x40a24f['instanceCount'],_0x48b717);_0x4bb71a['renderInstances'](_0x39fca1,_0x3eacd7,_0x6a8598);}else _0x4bb71a['render'](_0x39fca1,_0x3eacd7);}}},this['compile']=function(_0x49a109,_0x3043fb,_0x1c485c=null){null===_0x1c485c&&(_0x1c485c=_0x49a109),_0x351648=_0x53f1a6['get'](_0x1c485c),_0x351648['init'](_0x3043fb),_0x38c878['push'](_0x351648),_0x1c485c['traverseVisible'](function(_0x216ffe){_0x216ffe['isLight']&&_0x216ffe['layers']['test'](_0x3043fb['layers'])&&(_0x351648['pushLight'](_0x216ffe),_0x216ffe['castShadow']&&_0x351648['pushShadow'](_0x216ffe));}),_0x49a109!==_0x1c485c&&_0x49a109['traverseVisible'](function(_0x13bc4f){_0x13bc4f['isLight']&&_0x13bc4f['layers']['test'](_0x3043fb['layers'])&&(_0x351648['pushLight'](_0x13bc4f),_0x13bc4f['castShadow']&&_0x351648['pushShadow'](_0x13bc4f));}),_0x351648['setupLights']();const _0x31f274=new Set();return _0x49a109['traverse'](function(_0x5ead5b){if(!(_0x5ead5b['isMesh']||_0x5ead5b['isPoints']||_0x5ead5b['isLine']||_0x5ead5b['isSprite']))return;const _0x36a65f=_0x5ead5b['material'];if(_0x36a65f){if(Array['isArray'](_0x36a65f))for(let _0x2ee1de=0x0;_0x2ee1de<_0x36a65f['length'];_0x2ee1de++){const _0x57956f=_0x36a65f[_0x2ee1de];_0x63ac3(_0x57956f,_0x1c485c,_0x5ead5b),_0x31f274['add'](_0x57956f);}else _0x63ac3(_0x36a65f,_0x1c485c,_0x5ead5b),_0x31f274['add'](_0x36a65f);}}),_0x38c878['pop'](),_0x351648=null,_0x31f274;},this['compileAsync']=function(_0x48f76f,_0x437906,_0x15ada8=null){const _0xad2416=this['compile'](_0x48f76f,_0x437906,_0x15ada8);return new Promise(_0x1c4994=>{function _0x19ffad(){_0xad2416['forEach'](function(_0x39dd36){_0xcd2e55['get'](_0x39dd36)['currentProgram']['isReady']()&&_0xad2416['delete'](_0x39dd36);}),0x0!==_0xad2416['size']?setTimeout(_0x19ffad,0xa):_0x1c4994(_0x48f76f);}null!==_0x59a437['get']('KHR_parallel_shader_compile')?_0x19ffad():setTimeout(_0x19ffad,0xa);});};let _0xb65bd3=null;function _0x3662e1(){_0x48f56d['stop']();}function _0x28a8cd(){_0x48f56d['start']();}const _0x48f56d=new _0x62177b();function _0x5c2a04(_0x505443,_0x595811,_0x201b3c,_0x50ac1e){if(!0x1===_0x505443['visible'])return;if(_0x505443['layers']['test'](_0x595811['layers'])){if(_0x505443['isGroup'])_0x201b3c=_0x505443['renderOrder'];else{if(_0x505443['isLOD'])!0x0===_0x505443['autoUpdate']&&_0x505443['update'](_0x595811);else{if(_0x505443['isLight'])_0x351648['pushLight'](_0x505443),_0x505443['castShadow']&&_0x351648['pushShadow'](_0x505443);else{if(_0x505443['isSprite']){if(!_0x505443['frustumCulled']||_0x2f06b0['intersectsSprite'](_0x505443)){_0x50ac1e&&_0x289b48['setFromMatrixPosition'](_0x505443['matrixWorld'])['applyMatrix4'](_0x113454);const _0xce2dab=_0x373273['update'](_0x505443),_0x54f1ee=_0x505443['material'];_0x54f1ee['visible']&&_0x1802f1['push'](_0x505443,_0xce2dab,_0x54f1ee,_0x201b3c,_0x289b48['z'],null);}}else{if((_0x505443['isMesh']||_0x505443['isLine']||_0x505443['isPoints'])&&(!_0x505443['frustumCulled']||_0x2f06b0['intersectsObject'](_0x505443))){const _0x20f9a5=_0x373273['update'](_0x505443),_0x37fc29=_0x505443['material'];if(_0x50ac1e&&(void 0x0!==_0x505443['boundingSphere']?(null===_0x505443['boundingSphere']&&_0x505443['computeBoundingSphere'](),_0x289b48['copy'](_0x505443['boundingSphere']['center'])):(null===_0x20f9a5['boundingSphere']&&_0x20f9a5['computeBoundingSphere'](),_0x289b48['copy'](_0x20f9a5['boundingSphere']['center'])),_0x289b48['applyMatrix4'](_0x505443['matrixWorld'])['applyMatrix4'](_0x113454)),Array['isArray'](_0x37fc29)){const _0x73269e=_0x20f9a5['groups'];for(let _0x1615a1=0x0,_0x3a8181=_0x73269e['length'];_0x1615a1<_0x3a8181;_0x1615a1++){const _0x524fa7=_0x73269e[_0x1615a1],_0x3aa7af=_0x37fc29[_0x524fa7['materialIndex']];_0x3aa7af&&_0x3aa7af['visible']&&_0x1802f1['push'](_0x505443,_0x20f9a5,_0x3aa7af,_0x201b3c,_0x289b48['z'],_0x524fa7);}}else _0x37fc29['visible']&&_0x1802f1['push'](_0x505443,_0x20f9a5,_0x37fc29,_0x201b3c,_0x289b48['z'],null);}}}}}}const _0x174eb9=_0x505443['children'];for(let _0x39e298=0x0,_0x4266f9=_0x174eb9['length'];_0x39e298<_0x4266f9;_0x39e298++)_0x5c2a04(_0x174eb9[_0x39e298],_0x595811,_0x201b3c,_0x50ac1e);}function _0x439b48(_0x20ab66,_0x4c3d84,_0x3d6f11,_0x54e3cc){const _0x1ce68c=_0x20ab66['opaque'],_0x507c29=_0x20ab66['transmissive'],_0x53664b=_0x20ab66['transparent'];_0x351648['setupLightsView'](_0x3d6f11),!0x0===_0x498898&&_0x68471f['setGlobalState'](_0x2c50ea['clippingPlanes'],_0x3d6f11),_0x54e3cc&&_0x3aceef['viewport'](_0x5b284b['copy'](_0x54e3cc)),_0x1ce68c['length']>0x0&&_0x426841(_0x1ce68c,_0x4c3d84,_0x3d6f11),_0x507c29['length']>0x0&&_0x426841(_0x507c29,_0x4c3d84,_0x3d6f11),_0x53664b['length']>0x0&&_0x426841(_0x53664b,_0x4c3d84,_0x3d6f11),_0x3aceef['buffers']['depth']['setTest'](!0x0),_0x3aceef['buffers']['depth']['setMask'](!0x0),_0x3aceef['buffers']['color']['setMask'](!0x0),_0x3aceef['setPolygonOffset'](!0x1);}function _0x3ab85a(_0x2ad2fd,_0x5f3d5b,_0x339e76,_0x45168a){if(null!==(!0x0===_0x339e76['isScene']?_0x339e76['overrideMaterial']:null))return;void 0x0===_0x351648['state']['transmissionRenderTarget'][_0x45168a['id']]&&(_0x351648['state']['transmissionRenderTarget'][_0x45168a['id']]=new _0x923951['nWS'](0x1,0x1,{'generateMipmaps':!0x0,'type':_0x59a437['has']('EXT_color_buffer_half_float')||_0x59a437['has']('EXT_color_buffer_float')?_0x923951['ix0']:_0x923951['OUM'],'minFilter':_0x923951['$_I'],'samples':0x4,'stencilBuffer':_0x15a4fd,'resolveDepthBuffer':!0x1,'resolveStencilBuffer':!0x1,'colorSpace':_0x923951['ppV']['workingColorSpace']}));const _0x3b6325=_0x351648['state']['transmissionRenderTarget'][_0x45168a['id']],_0x3f966f=_0x45168a['viewport']||_0x5b284b;_0x3b6325['setSize'](_0x3f966f['z']*_0x2c50ea['transmissionResolutionScale'],_0x3f966f['w']*_0x2c50ea['transmissionResolutionScale']);const _0xf036c9=_0x2c50ea['getRenderTarget']();_0x2c50ea['setRenderTarget'](_0x3b6325),_0x2c50ea['getClearColor'](_0x1421bf),_0x256463=_0x2c50ea['getClearAlpha'](),_0x256463<0x1&&_0x2c50ea['setClearColor'](0xffffff,0.5),_0x2c50ea['clear'](),_0x2cc88e&&_0x43c549['render'](_0x339e76);const _0x2221f4=_0x2c50ea['toneMapping'];_0x2c50ea['toneMapping']=_0x923951['y_p'];const _0x25b966=_0x45168a['viewport'];if(void 0x0!==_0x45168a['viewport']&&(_0x45168a['viewport']=void 0x0),_0x351648['setupLightsView'](_0x45168a),!0x0===_0x498898&&_0x68471f['setGlobalState'](_0x2c50ea['clippingPlanes'],_0x45168a),_0x426841(_0x2ad2fd,_0x339e76,_0x45168a),_0x3d50fb['updateMultisampleRenderTarget'](_0x3b6325),_0x3d50fb['updateRenderTargetMipmap'](_0x3b6325),!0x1===_0x59a437['has']('WEBGL_multisampled_render_to_texture')){let _0x36e183=!0x1;for(let _0x574430=0x0,_0x1a34ef=_0x5f3d5b['length'];_0x574430<_0x1a34ef;_0x574430++){const _0xbaae64=_0x5f3d5b[_0x574430],_0x125685=_0xbaae64['object'],_0x5120f8=_0xbaae64['geometry'],_0x42ac13=_0xbaae64['material'],_0x4a4434=_0xbaae64['group'];if(_0x42ac13['side']===_0x923951['$EB']&&_0x125685['layers']['test'](_0x45168a['layers'])){const _0x4229e8=_0x42ac13['side'];_0x42ac13['side']=_0x923951['hsX'],_0x42ac13['needsUpdate']=!0x0,_0x2d7d0b(_0x125685,_0x339e76,_0x45168a,_0x5120f8,_0x42ac13,_0x4a4434),_0x42ac13['side']=_0x4229e8,_0x42ac13['needsUpdate']=!0x0,_0x36e183=!0x0;}}!0x0===_0x36e183&&(_0x3d50fb['updateMultisampleRenderTarget'](_0x3b6325),_0x3d50fb['updateRenderTargetMipmap'](_0x3b6325));}_0x2c50ea['setRenderTarget'](_0xf036c9),_0x2c50ea['setClearColor'](_0x1421bf,_0x256463),void 0x0!==_0x25b966&&(_0x45168a['viewport']=_0x25b966),_0x2c50ea['toneMapping']=_0x2221f4;}function _0x426841(_0x4f725f,_0x440e98,_0x400ce1){const _0x585480=!0x0===_0x440e98['isScene']?_0x440e98['overrideMaterial']:null;for(let _0x3b39a6=0x0,_0x129d6c=_0x4f725f['length'];_0x3b39a6<_0x129d6c;_0x3b39a6++){const _0x553a90=_0x4f725f[_0x3b39a6],_0x2ce156=_0x553a90['object'],_0x2d0854=_0x553a90['geometry'],_0x8018b0=null===_0x585480?_0x553a90['material']:_0x585480,_0x28f231=_0x553a90['group'];_0x2ce156['layers']['test'](_0x400ce1['layers'])&&_0x2d7d0b(_0x2ce156,_0x440e98,_0x400ce1,_0x2d0854,_0x8018b0,_0x28f231);}}function _0x2d7d0b(_0x195596,_0x3b0c5c,_0x3892aa,_0x18cdee,_0x355bcb,_0x15a96a){_0x195596['onBeforeRender'](_0x2c50ea,_0x3b0c5c,_0x3892aa,_0x18cdee,_0x355bcb,_0x15a96a),_0x195596['modelViewMatrix']['multiplyMatrices'](_0x3892aa['matrixWorldInverse'],_0x195596['matrixWorld']),_0x195596['normalMatrix']['getNormalMatrix'](_0x195596['modelViewMatrix']),_0x355bcb['onBeforeRender'](_0x2c50ea,_0x3b0c5c,_0x3892aa,_0x18cdee,_0x195596,_0x15a96a),!0x0===_0x355bcb['transparent']&&_0x355bcb['side']===_0x923951['$EB']&&!0x1===_0x355bcb['forceSinglePass']?(_0x355bcb['side']=_0x923951['hsX'],_0x355bcb['needsUpdate']=!0x0,_0x2c50ea['renderBufferDirect'](_0x3892aa,_0x3b0c5c,_0x18cdee,_0x355bcb,_0x195596,_0x15a96a),_0x355bcb['side']=_0x923951['hB5'],_0x355bcb['needsUpdate']=!0x0,_0x2c50ea['renderBufferDirect'](_0x3892aa,_0x3b0c5c,_0x18cdee,_0x355bcb,_0x195596,_0x15a96a),_0x355bcb['side']=_0x923951['$EB']):_0x2c50ea['renderBufferDirect'](_0x3892aa,_0x3b0c5c,_0x18cdee,_0x355bcb,_0x195596,_0x15a96a),_0x195596['onAfterRender'](_0x2c50ea,_0x3b0c5c,_0x3892aa,_0x18cdee,_0x355bcb,_0x15a96a);}function _0x2a880a(_0x101ef8,_0x1fbf56,_0x8a319e){!0x0!==_0x1fbf56['isScene']&&(_0x1fbf56=_0x3d81b7);const _0x29e6b4=_0xcd2e55['get'](_0x101ef8),_0x540d1e=_0x351648['state']['lights'],_0x4e03ca=_0x351648['state']['shadowsArray'],_0x4863a6=_0x540d1e['state']['version'],_0x1eb45e=_0x57fb5['getParameters'](_0x101ef8,_0x540d1e['state'],_0x4e03ca,_0x1fbf56,_0x8a319e),_0x45a25c=_0x57fb5['getProgramCacheKey'](_0x1eb45e);let _0x2ee004=_0x29e6b4['programs'];_0x29e6b4['environment']=_0x101ef8['isMeshStandardMaterial']?_0x1fbf56['environment']:null,_0x29e6b4['fog']=_0x1fbf56['fog'],_0x29e6b4['envMap']=(_0x101ef8['isMeshStandardMaterial']?_0x252b12:_0x3d98aa)['get'](_0x101ef8['envMap']||_0x29e6b4['environment']),_0x29e6b4['envMapRotation']=null!==_0x29e6b4['environment']&&null===_0x101ef8['envMap']?_0x1fbf56['environmentRotation']:_0x101ef8['envMapRotation'],void 0x0===_0x2ee004&&(_0x101ef8['addEventListener']('dispose',_0x4f69c1),_0x2ee004=new Map(),_0x29e6b4['programs']=_0x2ee004);let _0x22c070=_0x2ee004['get'](_0x45a25c);if(void 0x0!==_0x22c070){if(_0x29e6b4['currentProgram']===_0x22c070&&_0x29e6b4['lightsStateVersion']===_0x4863a6)return _0x5511f1(_0x101ef8,_0x1eb45e),_0x22c070;}else _0x1eb45e['uniforms']=_0x57fb5['getUniforms'](_0x101ef8),_0x101ef8['onBeforeCompile'](_0x1eb45e,_0x2c50ea),_0x22c070=_0x57fb5['acquireProgram'](_0x1eb45e,_0x45a25c),_0x2ee004['set'](_0x45a25c,_0x22c070),_0x29e6b4['uniforms']=_0x1eb45e['uniforms'];const _0x42d251=_0x29e6b4['uniforms'];return(_0x101ef8['isShaderMaterial']||_0x101ef8['isRawShaderMaterial'])&&!0x0!==_0x101ef8['clipping']||(_0x42d251['clippingPlanes']=_0x68471f['uniform']),_0x5511f1(_0x101ef8,_0x1eb45e),_0x29e6b4['needsLights']=function(_0x37af5f){return _0x37af5f['isMeshLambertMaterial']||_0x37af5f['isMeshToonMaterial']||_0x37af5f['isMeshPhongMaterial']||_0x37af5f['isMeshStandardMaterial']||_0x37af5f['isShadowMaterial']||_0x37af5f['isShaderMaterial']&&!0x0===_0x37af5f['lights'];}(_0x101ef8),_0x29e6b4['lightsStateVersion']=_0x4863a6,_0x29e6b4['needsLights']&&(_0x42d251['ambientLightColor']['value']=_0x540d1e['state']['ambient'],_0x42d251['lightProbe']['value']=_0x540d1e['state']['probe'],_0x42d251['directionalLights']['value']=_0x540d1e['state']['directional'],_0x42d251['directionalLightShadows']['value']=_0x540d1e['state']['directionalShadow'],_0x42d251['spotLights']['value']=_0x540d1e['state']['spot'],_0x42d251['spotLightShadows']['value']=_0x540d1e['state']['spotShadow'],_0x42d251['rectAreaLights']['value']=_0x540d1e['state']['rectArea'],_0x42d251['ltc_1']['value']=_0x540d1e['state']['rectAreaLTC1'],_0x42d251['ltc_2']['value']=_0x540d1e['state']['rectAreaLTC2'],_0x42d251['pointLights']['value']=_0x540d1e['state']['point'],_0x42d251['pointLightShadows']['value']=_0x540d1e['state']['pointShadow'],_0x42d251['hemisphereLights']['value']=_0x540d1e['state']['hemi'],_0x42d251['directionalShadowMap']['value']=_0x540d1e['state']['directionalShadowMap'],_0x42d251['directionalShadowMatrix']['value']=_0x540d1e['state']['directionalShadowMatrix'],_0x42d251['spotShadowMap']['value']=_0x540d1e['state']['spotShadowMap'],_0x42d251['spotLightMatrix']['value']=_0x540d1e['state']['spotLightMatrix'],_0x42d251['spotLightMap']['value']=_0x540d1e['state']['spotLightMap'],_0x42d251['pointShadowMap']['value']=_0x540d1e['state']['pointShadowMap'],_0x42d251['pointShadowMatrix']['value']=_0x540d1e['state']['pointShadowMatrix']),_0x29e6b4['currentProgram']=_0x22c070,_0x29e6b4['uniformsList']=null,_0x22c070;}function _0x59859d(_0x611219){if(null===_0x611219['uniformsList']){const _0x28f578=_0x611219['currentProgram']['getUniforms']();_0x611219['uniformsList']=_0x5ab3bb['seqWithValue'](_0x28f578['seq'],_0x611219['uniforms']);}return _0x611219['uniformsList'];}function _0x5511f1(_0x32ef78,_0x46080b){const _0x3ed946=_0xcd2e55['get'](_0x32ef78);_0x3ed946['outputColorSpace']=_0x46080b['outputColorSpace'],_0x3ed946['batching']=_0x46080b['batching'],_0x3ed946['batchingColor']=_0x46080b['batchingColor'],_0x3ed946['instancing']=_0x46080b['instancing'],_0x3ed946['instancingColor']=_0x46080b['instancingColor'],_0x3ed946['instancingMorph']=_0x46080b['instancingMorph'],_0x3ed946['skinning']=_0x46080b['skinning'],_0x3ed946['morphTargets']=_0x46080b['morphTargets'],_0x3ed946['morphNormals']=_0x46080b['morphNormals'],_0x3ed946['morphColors']=_0x46080b['morphColors'],_0x3ed946['morphTargetsCount']=_0x46080b['morphTargetsCount'],_0x3ed946['numClippingPlanes']=_0x46080b['numClippingPlanes'],_0x3ed946['numIntersection']=_0x46080b['numClipIntersection'],_0x3ed946['vertexAlphas']=_0x46080b['vertexAlphas'],_0x3ed946['vertexTangents']=_0x46080b['vertexTangents'],_0x3ed946['toneMapping']=_0x46080b['toneMapping'];}_0x48f56d['setAnimationLoop'](function(_0x5d8955){_0xb65bd3&&_0xb65bd3(_0x5d8955);}),'undefined'!=typeof self&&_0x48f56d['setContext'](self),this['setAnimationLoop']=function(_0x1e17a9){_0xb65bd3=_0x1e17a9,_0x3cd140['setAnimationLoop'](_0x1e17a9),null===_0x1e17a9?_0x48f56d['stop']():_0x48f56d['start']();},_0x3cd140['addEventListener']('sessionstart',_0x3662e1),_0x3cd140['addEventListener']('sessionend',_0x28a8cd),this['render']=function(_0xc85f3a,_0x14610d){if(void 0x0!==_0x14610d&&!0x0!==_0x14610d['isCamera'])return void console['error']('THREE.WebGLRenderer.render:\x20camera\x20is\x20not\x20an\x20instance\x20of\x20THREE.Camera.');if(!0x0===_0x47d63a)return;if(!0x0===_0xc85f3a['matrixWorldAutoUpdate']&&_0xc85f3a['updateMatrixWorld'](),null===_0x14610d['parent']&&!0x0===_0x14610d['matrixWorldAutoUpdate']&&_0x14610d['updateMatrixWorld'](),!0x0===_0x3cd140['enabled']&&!0x0===_0x3cd140['isPresenting']&&(!0x0===_0x3cd140['cameraAutoUpdate']&&_0x3cd140['updateCamera'](_0x14610d),_0x14610d=_0x3cd140['getCamera']()),!0x0===_0xc85f3a['isScene']&&_0xc85f3a['onBeforeRender'](_0x2c50ea,_0xc85f3a,_0x14610d,_0x4e3815),_0x351648=_0x53f1a6['get'](_0xc85f3a,_0x38c878['length']),_0x351648['init'](_0x14610d),_0x38c878['push'](_0x351648),_0x113454['multiplyMatrices'](_0x14610d['projectionMatrix'],_0x14610d['matrixWorldInverse']),_0x2f06b0['setFromProjectionMatrix'](_0x113454),_0x57ae9f=this['localClippingEnabled'],_0x498898=_0x68471f['init'](this['clippingPlanes'],_0x57ae9f),_0x1802f1=_0x5ea234['get'](_0xc85f3a,_0x54d0bf['length']),_0x1802f1['init'](),_0x54d0bf['push'](_0x1802f1),!0x0===_0x3cd140['enabled']&&!0x0===_0x3cd140['isPresenting']){const _0x355e02=_0x2c50ea['xr']['getDepthSensingMesh']();null!==_0x355e02&&_0x5c2a04(_0x355e02,_0x14610d,-0x1/0x0,_0x2c50ea['sortObjects']);}_0x5c2a04(_0xc85f3a,_0x14610d,0x0,_0x2c50ea['sortObjects']),_0x1802f1['finish'](),!0x0===_0x2c50ea['sortObjects']&&_0x1802f1['sort'](_0x3cffb5,_0x4af180),_0x2cc88e=!0x1===_0x3cd140['enabled']||!0x1===_0x3cd140['isPresenting']||!0x1===_0x3cd140['hasDepthSensing'](),_0x2cc88e&&_0x43c549['addToRenderList'](_0x1802f1,_0xc85f3a),this['info']['render']['frame']++,!0x0===_0x498898&&_0x68471f['beginShadows']();const _0x1914f3=_0x351648['state']['shadowsArray'];_0x24049a['render'](_0x1914f3,_0xc85f3a,_0x14610d),!0x0===_0x498898&&_0x68471f['endShadows'](),!0x0===this['info']['autoReset']&&this['info']['reset']();const _0x93851e=_0x1802f1['opaque'],_0x367ebd=_0x1802f1['transmissive'];if(_0x351648['setupLights'](),_0x14610d['isArrayCamera']){const _0x5f0db0=_0x14610d['cameras'];if(_0x367ebd['length']>0x0)for(let _0x3ccd74=0x0,_0x3e8ad9=_0x5f0db0['length'];_0x3ccd74<_0x3e8ad9;_0x3ccd74++){_0x3ab85a(_0x93851e,_0x367ebd,_0xc85f3a,_0x5f0db0[_0x3ccd74]);}_0x2cc88e&&_0x43c549['render'](_0xc85f3a);for(let _0x413124=0x0,_0x24c7f6=_0x5f0db0['length'];_0x413124<_0x24c7f6;_0x413124++){const _0x417bd2=_0x5f0db0[_0x413124];_0x439b48(_0x1802f1,_0xc85f3a,_0x417bd2,_0x417bd2['viewport']);}}else _0x367ebd['length']>0x0&&_0x3ab85a(_0x93851e,_0x367ebd,_0xc85f3a,_0x14610d),_0x2cc88e&&_0x43c549['render'](_0xc85f3a),_0x439b48(_0x1802f1,_0xc85f3a,_0x14610d);null!==_0x4e3815&&0x0===_0x177694&&(_0x3d50fb['updateMultisampleRenderTarget'](_0x4e3815),_0x3d50fb['updateRenderTargetMipmap'](_0x4e3815)),!0x0===_0xc85f3a['isScene']&&_0xc85f3a['onAfterRender'](_0x2c50ea,_0xc85f3a,_0x14610d),_0x344ad6['resetDefaultState'](),_0x39c0b1=-0x1,_0x3c64b9=null,_0x38c878['pop'](),_0x38c878['length']>0x0?(_0x351648=_0x38c878[_0x38c878['length']-0x1],!0x0===_0x498898&&_0x68471f['setGlobalState'](_0x2c50ea['clippingPlanes'],_0x351648['state']['camera'])):_0x351648=null,_0x54d0bf['pop'](),_0x1802f1=_0x54d0bf['length']>0x0?_0x54d0bf[_0x54d0bf['length']-0x1]:null;},this['getActiveCubeFace']=function(){return _0x12bff8;},this['getActiveMipmapLevel']=function(){return _0x177694;},this['getRenderTarget']=function(){return _0x4e3815;},this['setRenderTargetTextures']=function(_0x361895,_0x5364ec,_0x4ec8a5){_0xcd2e55['get'](_0x361895['texture'])['__webglTexture']=_0x5364ec,_0xcd2e55['get'](_0x361895['depthTexture'])['__webglTexture']=_0x4ec8a5;const _0x2ee983=_0xcd2e55['get'](_0x361895);_0x2ee983['__hasExternalTextures']=!0x0,_0x2ee983['__autoAllocateDepthBuffer']=void 0x0===_0x4ec8a5,_0x2ee983['__autoAllocateDepthBuffer']||!0x0===_0x59a437['has']('WEBGL_multisampled_render_to_texture')&&(console['warn']('THREE.WebGLRenderer:\x20Render-to-texture\x20extension\x20was\x20disabled\x20because\x20an\x20external\x20texture\x20was\x20provided'),_0x2ee983['__useRenderToTexture']=!0x1);},this['setRenderTargetFramebuffer']=function(_0x4a63ff,_0x58ef12){const _0x5f38f1=_0xcd2e55['get'](_0x4a63ff);_0x5f38f1['__webglFramebuffer']=_0x58ef12,_0x5f38f1['__useDefaultFramebuffer']=void 0x0===_0x58ef12;};const _0x328363=_0x56fea3['createFramebuffer']();this['setRenderTarget']=function(_0xffca29,_0x284100=0x0,_0x1d1673=0x0){_0x4e3815=_0xffca29,_0x12bff8=_0x284100,_0x177694=_0x1d1673;let _0x1cb7c8=!0x0,_0x1af631=null,_0x538263=!0x1,_0x1a445f=!0x1;if(_0xffca29){const _0x20f531=_0xcd2e55['get'](_0xffca29);if(void 0x0!==_0x20f531['__useDefaultFramebuffer'])_0x3aceef['bindFramebuffer'](_0x56fea3['FRAMEBUFFER'],null),_0x1cb7c8=!0x1;else{if(void 0x0===_0x20f531['__webglFramebuffer'])_0x3d50fb['setupRenderTarget'](_0xffca29);else{if(_0x20f531['__hasExternalTextures'])_0x3d50fb['rebindTextures'](_0xffca29,_0xcd2e55['get'](_0xffca29['texture'])['__webglTexture'],_0xcd2e55['get'](_0xffca29['depthTexture'])['__webglTexture']);else{if(_0xffca29['depthBuffer']){const _0x24642a=_0xffca29['depthTexture'];if(_0x20f531['__boundDepthTexture']!==_0x24642a){if(null!==_0x24642a&&_0xcd2e55['has'](_0x24642a)&&(_0xffca29['width']!==_0x24642a['image']['width']||_0xffca29['height']!==_0x24642a['image']['height']))throw new Error('WebGLRenderTarget:\x20Attached\x20DepthTexture\x20is\x20initialized\x20to\x20the\x20incorrect\x20size.');_0x3d50fb['setupDepthRenderbuffer'](_0xffca29);}}}}}const _0x40494c=_0xffca29['texture'];(_0x40494c['isData3DTexture']||_0x40494c['isDataArrayTexture']||_0x40494c['isCompressedArrayTexture'])&&(_0x1a445f=!0x0);const _0x49416c=_0xcd2e55['get'](_0xffca29)['__webglFramebuffer'];_0xffca29['isWebGLCubeRenderTarget']?(_0x1af631=Array['isArray'](_0x49416c[_0x284100])?_0x49416c[_0x284100][_0x1d1673]:_0x49416c[_0x284100],_0x538263=!0x0):_0x1af631=_0xffca29['samples']>0x0&&!0x1===_0x3d50fb['useMultisampledRTT'](_0xffca29)?_0xcd2e55['get'](_0xffca29)['__webglMultisampledFramebuffer']:Array['isArray'](_0x49416c)?_0x49416c[_0x1d1673]:_0x49416c,_0x5b284b['copy'](_0xffca29['viewport']),_0x473f98['copy'](_0xffca29['scissor']),_0x175f55=_0xffca29['scissorTest'];}else _0x5b284b['copy'](_0x4a1e57)['multiplyScalar'](_0x43261d)['floor'](),_0x473f98['copy'](_0x1663c3)['multiplyScalar'](_0x43261d)['floor'](),_0x175f55=_0x41abc4;0x0!==_0x1d1673&&(_0x1af631=_0x328363);if(_0x3aceef['bindFramebuffer'](_0x56fea3['FRAMEBUFFER'],_0x1af631)&&_0x1cb7c8&&_0x3aceef['drawBuffers'](_0xffca29,_0x1af631),_0x3aceef['viewport'](_0x5b284b),_0x3aceef['scissor'](_0x473f98),_0x3aceef['setScissorTest'](_0x175f55),_0x538263){const _0xa08961=_0xcd2e55['get'](_0xffca29['texture']);_0x56fea3['framebufferTexture2D'](_0x56fea3['FRAMEBUFFER'],_0x56fea3['COLOR_ATTACHMENT0'],_0x56fea3['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x284100,_0xa08961['__webglTexture'],_0x1d1673);}else{if(_0x1a445f){const _0x263213=_0xcd2e55['get'](_0xffca29['texture']),_0x41a3f6=_0x284100;_0x56fea3['framebufferTextureLayer'](_0x56fea3['FRAMEBUFFER'],_0x56fea3['COLOR_ATTACHMENT0'],_0x263213['__webglTexture'],_0x1d1673,_0x41a3f6);}else{if(null!==_0xffca29&&0x0!==_0x1d1673){const _0x5e5af5=_0xcd2e55['get'](_0xffca29['texture']);_0x56fea3['framebufferTexture2D'](_0x56fea3['FRAMEBUFFER'],_0x56fea3['COLOR_ATTACHMENT0'],_0x56fea3['TEXTURE_2D'],_0x5e5af5['__webglTexture'],_0x1d1673);}}}_0x39c0b1=-0x1;},this['readRenderTargetPixels']=function(_0x4d9e12,_0xbdbcd7,_0x2c9be4,_0x435281,_0x5ae98e,_0x178545,_0xa41a04){if(!_0x4d9e12||!_0x4d9e12['isWebGLRenderTarget'])return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20THREE.WebGLRenderTarget.');let _0x10dc44=_0xcd2e55['get'](_0x4d9e12)['__webglFramebuffer'];if(_0x4d9e12['isWebGLCubeRenderTarget']&&void 0x0!==_0xa41a04&&(_0x10dc44=_0x10dc44[_0xa41a04]),_0x10dc44){_0x3aceef['bindFramebuffer'](_0x56fea3['FRAMEBUFFER'],_0x10dc44);try{const _0xa35031=_0x4d9e12['texture'],_0xa734fd=_0xa35031['format'],_0x5db448=_0xa35031['type'];if(!_0x1a873a['textureFormatReadable'](_0xa734fd))return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20in\x20RGBA\x20or\x20implementation\x20defined\x20format.');if(!_0x1a873a['textureTypeReadable'](_0x5db448))return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20in\x20UnsignedByteType\x20or\x20implementation\x20defined\x20type.');_0xbdbcd7>=0x0&&_0xbdbcd7<=_0x4d9e12['width']-_0x435281&&_0x2c9be4>=0x0&&_0x2c9be4<=_0x4d9e12['height']-_0x5ae98e&&_0x56fea3['readPixels'](_0xbdbcd7,_0x2c9be4,_0x435281,_0x5ae98e,_0x233de0['convert'](_0xa734fd),_0x233de0['convert'](_0x5db448),_0x178545);}finally{const _0x4b6555=null!==_0x4e3815?_0xcd2e55['get'](_0x4e3815)['__webglFramebuffer']:null;_0x3aceef['bindFramebuffer'](_0x56fea3['FRAMEBUFFER'],_0x4b6555);}}},this['readRenderTargetPixelsAsync']=async function(_0x1d84ab,_0x342d08,_0x4b9171,_0x2ecc1a,_0x5092a0,_0x523749,_0x12e1d3){if(!_0x1d84ab||!_0x1d84ab['isWebGLRenderTarget'])throw new Error('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20THREE.WebGLRenderTarget.');let _0x244084=_0xcd2e55['get'](_0x1d84ab)['__webglFramebuffer'];if(_0x1d84ab['isWebGLCubeRenderTarget']&&void 0x0!==_0x12e1d3&&(_0x244084=_0x244084[_0x12e1d3]),_0x244084){const _0x597284=_0x1d84ab['texture'],_0x44edb5=_0x597284['format'],_0xc39309=_0x597284['type'];if(!_0x1a873a['textureFormatReadable'](_0x44edb5))throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20renderTarget\x20is\x20not\x20in\x20RGBA\x20or\x20implementation\x20defined\x20format.');if(!_0x1a873a['textureTypeReadable'](_0xc39309))throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20renderTarget\x20is\x20not\x20in\x20UnsignedByteType\x20or\x20implementation\x20defined\x20type.');if(_0x342d08>=0x0&&_0x342d08<=_0x1d84ab['width']-_0x2ecc1a&&_0x4b9171>=0x0&&_0x4b9171<=_0x1d84ab['height']-_0x5092a0){_0x3aceef['bindFramebuffer'](_0x56fea3['FRAMEBUFFER'],_0x244084);const _0x53a235=_0x56fea3['createBuffer']();_0x56fea3['bindBuffer'](_0x56fea3['PIXEL_PACK_BUFFER'],_0x53a235),_0x56fea3['bufferData'](_0x56fea3['PIXEL_PACK_BUFFER'],_0x523749['byteLength'],_0x56fea3['STREAM_READ']),_0x56fea3['readPixels'](_0x342d08,_0x4b9171,_0x2ecc1a,_0x5092a0,_0x233de0['convert'](_0x44edb5),_0x233de0['convert'](_0xc39309),0x0);const _0x1d96ae=null!==_0x4e3815?_0xcd2e55['get'](_0x4e3815)['__webglFramebuffer']:null;_0x3aceef['bindFramebuffer'](_0x56fea3['FRAMEBUFFER'],_0x1d96ae);const _0x2575ee=_0x56fea3['fenceSync'](_0x56fea3['SYNC_GPU_COMMANDS_COMPLETE'],0x0);return _0x56fea3['flush'](),await(0x0,_0x923951['jej'])(_0x56fea3,_0x2575ee,0x4),_0x56fea3['bindBuffer'](_0x56fea3['PIXEL_PACK_BUFFER'],_0x53a235),_0x56fea3['getBufferSubData'](_0x56fea3['PIXEL_PACK_BUFFER'],0x0,_0x523749),_0x56fea3['deleteBuffer'](_0x53a235),_0x56fea3['deleteSync'](_0x2575ee),_0x523749;}throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20requested\x20read\x20bounds\x20are\x20out\x20of\x20range.');}},this['copyFramebufferToTexture']=function(_0x3b2eb1,_0x5b2214=null,_0x45b452=0x0){!0x0!==_0x3b2eb1['isTexture']&&((0x0,_0x923951['mcG'])('WebGLRenderer:\x20copyFramebufferToTexture\x20function\x20signature\x20has\x20changed.'),_0x5b2214=arguments[0x0]||null,_0x3b2eb1=arguments[0x1]);const _0x4ed54f=Math['pow'](0x2,-_0x45b452),_0x17e4ee=Math['floor'](_0x3b2eb1['image']['width']*_0x4ed54f),_0x47b024=Math['floor'](_0x3b2eb1['image']['height']*_0x4ed54f),_0x358c48=null!==_0x5b2214?_0x5b2214['x']:0x0,_0x464207=null!==_0x5b2214?_0x5b2214['y']:0x0;_0x3d50fb['setTexture2D'](_0x3b2eb1,0x0),_0x56fea3['copyTexSubImage2D'](_0x56fea3['TEXTURE_2D'],_0x45b452,0x0,0x0,_0x358c48,_0x464207,_0x17e4ee,_0x47b024),_0x3aceef['unbindTexture']();};const _0x4670c0=_0x56fea3['createFramebuffer'](),_0x30edd4=_0x56fea3['createFramebuffer']();this['copyTextureToTexture']=function(_0x43e6b2,_0x2e2ad8,_0x49d483=null,_0x4a5b18=null,_0x1c2af2=0x0,_0x4ed09c=null){let _0x979f49,_0x4826a7,_0x4f2dbd,_0x5602ea,_0x5d6b28,_0x1d9797,_0x3415d0,_0x5ac34b,_0x3c4d01;!0x0!==_0x43e6b2['isTexture']&&((0x0,_0x923951['mcG'])('WebGLRenderer:\x20copyTextureToTexture\x20function\x20signature\x20has\x20changed.'),_0x4a5b18=arguments[0x0]||null,_0x43e6b2=arguments[0x1],_0x2e2ad8=arguments[0x2],_0x4ed09c=arguments[0x3]||0x0,_0x49d483=null),null===_0x4ed09c&&(0x0!==_0x1c2af2?((0x0,_0x923951['mcG'])('WebGLRenderer:\x20copyTextureToTexture\x20function\x20signature\x20has\x20changed\x20to\x20support\x20src\x20and\x20dst\x20mipmap\x20levels.'),_0x4ed09c=_0x1c2af2,_0x1c2af2=0x0):_0x4ed09c=0x0);const _0xa7c7f8=_0x43e6b2['isCompressedTexture']?_0x43e6b2['mipmaps'][_0x4ed09c]:_0x43e6b2['image'];if(null!==_0x49d483)_0x979f49=_0x49d483['max']['x']-_0x49d483['min']['x'],_0x4826a7=_0x49d483['max']['y']-_0x49d483['min']['y'],_0x4f2dbd=_0x49d483['isBox3']?_0x49d483['max']['z']-_0x49d483['min']['z']:0x1,_0x5602ea=_0x49d483['min']['x'],_0x5d6b28=_0x49d483['min']['y'],_0x1d9797=_0x49d483['isBox3']?_0x49d483['min']['z']:0x0;else{const _0x24f85b=Math['pow'](0x2,-_0x1c2af2);_0x979f49=Math['floor'](_0xa7c7f8['width']*_0x24f85b),_0x4826a7=Math['floor'](_0xa7c7f8['height']*_0x24f85b),_0x4f2dbd=_0x43e6b2['isDataArrayTexture']?_0xa7c7f8['depth']:_0x43e6b2['isData3DTexture']?Math['floor'](_0xa7c7f8['depth']*_0x24f85b):0x1,_0x5602ea=0x0,_0x5d6b28=0x0,_0x1d9797=0x0;}null!==_0x4a5b18?(_0x3415d0=_0x4a5b18['x'],_0x5ac34b=_0x4a5b18['y'],_0x3c4d01=_0x4a5b18['z']):(_0x3415d0=0x0,_0x5ac34b=0x0,_0x3c4d01=0x0);const _0x514d15=_0x233de0['convert'](_0x2e2ad8['format']),_0x12c010=_0x233de0['convert'](_0x2e2ad8['type']);let _0x11c837;_0x2e2ad8['isData3DTexture']?(_0x3d50fb['setTexture3D'](_0x2e2ad8,0x0),_0x11c837=_0x56fea3['TEXTURE_3D']):_0x2e2ad8['isDataArrayTexture']||_0x2e2ad8['isCompressedArrayTexture']?(_0x3d50fb['setTexture2DArray'](_0x2e2ad8,0x0),_0x11c837=_0x56fea3['TEXTURE_2D_ARRAY']):(_0x3d50fb['setTexture2D'](_0x2e2ad8,0x0),_0x11c837=_0x56fea3['TEXTURE_2D']),_0x56fea3['pixelStorei'](_0x56fea3['UNPACK_FLIP_Y_WEBGL'],_0x2e2ad8['flipY']),_0x56fea3['pixelStorei'](_0x56fea3['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x2e2ad8['premultiplyAlpha']),_0x56fea3['pixelStorei'](_0x56fea3['UNPACK_ALIGNMENT'],_0x2e2ad8['unpackAlignment']);const _0x30a8a9=_0x56fea3['getParameter'](_0x56fea3['UNPACK_ROW_LENGTH']),_0x263d16=_0x56fea3['getParameter'](_0x56fea3['UNPACK_IMAGE_HEIGHT']),_0x1616cf=_0x56fea3['getParameter'](_0x56fea3['UNPACK_SKIP_PIXELS']),_0x5bdf5a=_0x56fea3['getParameter'](_0x56fea3['UNPACK_SKIP_ROWS']),_0xc3937f=_0x56fea3['getParameter'](_0x56fea3['UNPACK_SKIP_IMAGES']);_0x56fea3['pixelStorei'](_0x56fea3['UNPACK_ROW_LENGTH'],_0xa7c7f8['width']),_0x56fea3['pixelStorei'](_0x56fea3['UNPACK_IMAGE_HEIGHT'],_0xa7c7f8['height']),_0x56fea3['pixelStorei'](_0x56fea3['UNPACK_SKIP_PIXELS'],_0x5602ea),_0x56fea3['pixelStorei'](_0x56fea3['UNPACK_SKIP_ROWS'],_0x5d6b28),_0x56fea3['pixelStorei'](_0x56fea3['UNPACK_SKIP_IMAGES'],_0x1d9797);const _0x430f27=_0x43e6b2['isDataArrayTexture']||_0x43e6b2['isData3DTexture'],_0x57870f=_0x2e2ad8['isDataArrayTexture']||_0x2e2ad8['isData3DTexture'];if(_0x43e6b2['isDepthTexture']){const _0x3b7b00=_0xcd2e55['get'](_0x43e6b2),_0x862106=_0xcd2e55['get'](_0x2e2ad8),_0x52d12c=_0xcd2e55['get'](_0x3b7b00['__renderTarget']),_0x4ce202=_0xcd2e55['get'](_0x862106['__renderTarget']);_0x3aceef['bindFramebuffer'](_0x56fea3['READ_FRAMEBUFFER'],_0x52d12c['__webglFramebuffer']),_0x3aceef['bindFramebuffer'](_0x56fea3['DRAW_FRAMEBUFFER'],_0x4ce202['__webglFramebuffer']);for(let _0x3ce3ec=0x0;_0x3ce3ec<_0x4f2dbd;_0x3ce3ec++)_0x430f27&&(_0x56fea3['framebufferTextureLayer'](_0x56fea3['READ_FRAMEBUFFER'],_0x56fea3['COLOR_ATTACHMENT0'],_0xcd2e55['get'](_0x43e6b2)['__webglTexture'],_0x1c2af2,_0x1d9797+_0x3ce3ec),_0x56fea3['framebufferTextureLayer'](_0x56fea3['DRAW_FRAMEBUFFER'],_0x56fea3['COLOR_ATTACHMENT0'],_0xcd2e55['get'](_0x2e2ad8)['__webglTexture'],_0x4ed09c,_0x3c4d01+_0x3ce3ec)),_0x56fea3['blitFramebuffer'](_0x5602ea,_0x5d6b28,_0x979f49,_0x4826a7,_0x3415d0,_0x5ac34b,_0x979f49,_0x4826a7,_0x56fea3['DEPTH_BUFFER_BIT'],_0x56fea3['NEAREST']);_0x3aceef['bindFramebuffer'](_0x56fea3['READ_FRAMEBUFFER'],null),_0x3aceef['bindFramebuffer'](_0x56fea3['DRAW_FRAMEBUFFER'],null);}else{if(0x0!==_0x1c2af2||_0x43e6b2['isRenderTargetTexture']||_0xcd2e55['has'](_0x43e6b2)){const _0x41ec90=_0xcd2e55['get'](_0x43e6b2),_0x5bab49=_0xcd2e55['get'](_0x2e2ad8);_0x3aceef['bindFramebuffer'](_0x56fea3['READ_FRAMEBUFFER'],_0x4670c0),_0x3aceef['bindFramebuffer'](_0x56fea3['DRAW_FRAMEBUFFER'],_0x30edd4);for(let _0x227508=0x0;_0x227508<_0x4f2dbd;_0x227508++)_0x430f27?_0x56fea3['framebufferTextureLayer'](_0x56fea3['READ_FRAMEBUFFER'],_0x56fea3['COLOR_ATTACHMENT0'],_0x41ec90['__webglTexture'],_0x1c2af2,_0x1d9797+_0x227508):_0x56fea3['framebufferTexture2D'](_0x56fea3['READ_FRAMEBUFFER'],_0x56fea3['COLOR_ATTACHMENT0'],_0x56fea3['TEXTURE_2D'],_0x41ec90['__webglTexture'],_0x1c2af2),_0x57870f?_0x56fea3['framebufferTextureLayer'](_0x56fea3['DRAW_FRAMEBUFFER'],_0x56fea3['COLOR_ATTACHMENT0'],_0x5bab49['__webglTexture'],_0x4ed09c,_0x3c4d01+_0x227508):_0x56fea3['framebufferTexture2D'](_0x56fea3['DRAW_FRAMEBUFFER'],_0x56fea3['COLOR_ATTACHMENT0'],_0x56fea3['TEXTURE_2D'],_0x5bab49['__webglTexture'],_0x4ed09c),0x0!==_0x1c2af2?_0x56fea3['blitFramebuffer'](_0x5602ea,_0x5d6b28,_0x979f49,_0x4826a7,_0x3415d0,_0x5ac34b,_0x979f49,_0x4826a7,_0x56fea3['COLOR_BUFFER_BIT'],_0x56fea3['NEAREST']):_0x57870f?_0x56fea3['copyTexSubImage3D'](_0x11c837,_0x4ed09c,_0x3415d0,_0x5ac34b,_0x3c4d01+_0x227508,_0x5602ea,_0x5d6b28,_0x979f49,_0x4826a7):_0x56fea3['copyTexSubImage2D'](_0x11c837,_0x4ed09c,_0x3415d0,_0x5ac34b,_0x5602ea,_0x5d6b28,_0x979f49,_0x4826a7);_0x3aceef['bindFramebuffer'](_0x56fea3['READ_FRAMEBUFFER'],null),_0x3aceef['bindFramebuffer'](_0x56fea3['DRAW_FRAMEBUFFER'],null);}else _0x57870f?_0x43e6b2['isDataTexture']||_0x43e6b2['isData3DTexture']?_0x56fea3['texSubImage3D'](_0x11c837,_0x4ed09c,_0x3415d0,_0x5ac34b,_0x3c4d01,_0x979f49,_0x4826a7,_0x4f2dbd,_0x514d15,_0x12c010,_0xa7c7f8['data']):_0x2e2ad8['isCompressedArrayTexture']?_0x56fea3['compressedTexSubImage3D'](_0x11c837,_0x4ed09c,_0x3415d0,_0x5ac34b,_0x3c4d01,_0x979f49,_0x4826a7,_0x4f2dbd,_0x514d15,_0xa7c7f8['data']):_0x56fea3['texSubImage3D'](_0x11c837,_0x4ed09c,_0x3415d0,_0x5ac34b,_0x3c4d01,_0x979f49,_0x4826a7,_0x4f2dbd,_0x514d15,_0x12c010,_0xa7c7f8):_0x43e6b2['isDataTexture']?_0x56fea3['texSubImage2D'](_0x56fea3['TEXTURE_2D'],_0x4ed09c,_0x3415d0,_0x5ac34b,_0x979f49,_0x4826a7,_0x514d15,_0x12c010,_0xa7c7f8['data']):_0x43e6b2['isCompressedTexture']?_0x56fea3['compressedTexSubImage2D'](_0x56fea3['TEXTURE_2D'],_0x4ed09c,_0x3415d0,_0x5ac34b,_0xa7c7f8['width'],_0xa7c7f8['height'],_0x514d15,_0xa7c7f8['data']):_0x56fea3['texSubImage2D'](_0x56fea3['TEXTURE_2D'],_0x4ed09c,_0x3415d0,_0x5ac34b,_0x979f49,_0x4826a7,_0x514d15,_0x12c010,_0xa7c7f8);}_0x56fea3['pixelStorei'](_0x56fea3['UNPACK_ROW_LENGTH'],_0x30a8a9),_0x56fea3['pixelStorei'](_0x56fea3['UNPACK_IMAGE_HEIGHT'],_0x263d16),_0x56fea3['pixelStorei'](_0x56fea3['UNPACK_SKIP_PIXELS'],_0x1616cf),_0x56fea3['pixelStorei'](_0x56fea3['UNPACK_SKIP_ROWS'],_0x5bdf5a),_0x56fea3['pixelStorei'](_0x56fea3['UNPACK_SKIP_IMAGES'],_0xc3937f),0x0===_0x4ed09c&&_0x2e2ad8['generateMipmaps']&&_0x56fea3['generateMipmap'](_0x11c837),_0x3aceef['unbindTexture']();},this['copyTextureToTexture3D']=function(_0x1bb6f5,_0xdc184f,_0x6007df=null,_0x18b369=null,_0x202bfa=0x0){return!0x0!==_0x1bb6f5['isTexture']&&((0x0,_0x923951['mcG'])('WebGLRenderer:\x20copyTextureToTexture3D\x20function\x20signature\x20has\x20changed.'),_0x6007df=arguments[0x0]||null,_0x18b369=arguments[0x1]||null,_0x1bb6f5=arguments[0x2],_0xdc184f=arguments[0x3],_0x202bfa=arguments[0x4]||0x0),(0x0,_0x923951['mcG'])('WebGLRenderer:\x20copyTextureToTexture3D\x20function\x20has\x20been\x20deprecated.\x20Use\x20\x22copyTextureToTexture\x22\x20instead.'),this['copyTextureToTexture'](_0x1bb6f5,_0xdc184f,_0x6007df,_0x18b369,_0x202bfa);},this['initRenderTarget']=function(_0x2c84d8){void 0x0===_0xcd2e55['get'](_0x2c84d8)['__webglFramebuffer']&&_0x3d50fb['setupRenderTarget'](_0x2c84d8);},this['initTexture']=function(_0xa1d21f){_0xa1d21f['isCubeTexture']?_0x3d50fb['setTextureCube'](_0xa1d21f,0x0):_0xa1d21f['isData3DTexture']?_0x3d50fb['setTexture3D'](_0xa1d21f,0x0):_0xa1d21f['isDataArrayTexture']||_0xa1d21f['isCompressedArrayTexture']?_0x3d50fb['setTexture2DArray'](_0xa1d21f,0x0):_0x3d50fb['setTexture2D'](_0xa1d21f,0x0),_0x3aceef['unbindTexture']();},this['resetState']=function(){_0x12bff8=0x0,_0x177694=0x0,_0x4e3815=null,_0x3aceef['reset'](),_0x344ad6['reset']();},'undefined'!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__['dispatchEvent'](new CustomEvent('observe',{'detail':this}));}get['coordinateSystem'](){return _0x923951['TdN'];}get['outputColorSpace'](){return this['_outputColorSpace'];}set['outputColorSpace'](_0x162429){this['_outputColorSpace']=_0x162429;const _0x402c4e=this['getContext']();_0x402c4e['drawingBufferColorspace']=_0x923951['ppV']['_getDrawingBufferColorSpace'](_0x162429),_0x402c4e['unpackColorSpace']=_0x923951['ppV']['_getUnpackColorSpace']();}}}}]);