'use strict';(this['webpackChunkbecomap']=this['webpackChunkbecomap']||[])['push']([[0x282],{0x24dd:(_0x377adf,_0x2825e2,_0x896875)=>{_0x896875['d'](_0x2825e2,{'JeP':()=>_0x3a3124,'vxI':()=>_0x4b63ee});var _0xfde85b=_0x896875(0x133a);function _0x574016(){let _0x2563d1=null,_0x4a89b9=!0x1,_0x4d1378=null,_0x6b42a1=null;function _0x1f2f34(_0x397ebb,_0xeaaa38){_0x4d1378(_0x397ebb,_0xeaaa38),_0x6b42a1=_0x2563d1['requestAnimationFrame'](_0x1f2f34);}return{'start':function(){!0x0!==_0x4a89b9&&null!==_0x4d1378&&(_0x6b42a1=_0x2563d1['requestAnimationFrame'](_0x1f2f34),_0x4a89b9=!0x0);},'stop':function(){_0x2563d1['cancelAnimationFrame'](_0x6b42a1),_0x4a89b9=!0x1;},'setAnimationLoop':function(_0x5ecc98){_0x4d1378=_0x5ecc98;},'setContext':function(_0x3e09db){_0x2563d1=_0x3e09db;}};}function _0x2801bf(_0xd84817){const _0x244df4=new WeakMap();return{'get':function(_0x1adacc){return _0x1adacc['isInterleavedBufferAttribute']&&(_0x1adacc=_0x1adacc['data']),_0x244df4['get'](_0x1adacc);},'remove':function(_0x4566b2){_0x4566b2['isInterleavedBufferAttribute']&&(_0x4566b2=_0x4566b2['data']);const _0x51a941=_0x244df4['get'](_0x4566b2);_0x51a941&&(_0xd84817['deleteBuffer'](_0x51a941['buffer']),_0x244df4['delete'](_0x4566b2));},'update':function(_0xaf409,_0x317432){if(_0xaf409['isInterleavedBufferAttribute']&&(_0xaf409=_0xaf409['data']),_0xaf409['isGLBufferAttribute']){const _0x7ec0a2=_0x244df4['get'](_0xaf409);return void((!_0x7ec0a2||_0x7ec0a2['version']<_0xaf409['version'])&&_0x244df4['set'](_0xaf409,{'buffer':_0xaf409['buffer'],'type':_0xaf409['type'],'bytesPerElement':_0xaf409['elementSize'],'version':_0xaf409['version']}));}const _0x3e1dc2=_0x244df4['get'](_0xaf409);if(void 0x0===_0x3e1dc2)_0x244df4['set'](_0xaf409,function(_0x217318,_0x5e4520){const _0x5c3c5a=_0x217318['array'],_0x464e28=_0x217318['usage'],_0x512593=_0x5c3c5a['byteLength'],_0x440216=_0xd84817['createBuffer']();let _0x2b9dfc;if(_0xd84817['bindBuffer'](_0x5e4520,_0x440216),_0xd84817['bufferData'](_0x5e4520,_0x5c3c5a,_0x464e28),_0x217318['onUploadCallback'](),_0x5c3c5a instanceof Float32Array)_0x2b9dfc=_0xd84817['FLOAT'];else{if(_0x5c3c5a instanceof Uint16Array)_0x2b9dfc=_0x217318['isFloat16BufferAttribute']?_0xd84817['HALF_FLOAT']:_0xd84817['UNSIGNED_SHORT'];else{if(_0x5c3c5a instanceof Int16Array)_0x2b9dfc=_0xd84817['SHORT'];else{if(_0x5c3c5a instanceof Uint32Array)_0x2b9dfc=_0xd84817['UNSIGNED_INT'];else{if(_0x5c3c5a instanceof Int32Array)_0x2b9dfc=_0xd84817['INT'];else{if(_0x5c3c5a instanceof Int8Array)_0x2b9dfc=_0xd84817['BYTE'];else{if(_0x5c3c5a instanceof Uint8Array)_0x2b9dfc=_0xd84817['UNSIGNED_BYTE'];else{if(!(_0x5c3c5a instanceof Uint8ClampedArray))throw new Error('THREE.WebGLAttributes:\x20Unsupported\x20buffer\x20data\x20format:\x20'+_0x5c3c5a);_0x2b9dfc=_0xd84817['UNSIGNED_BYTE'];}}}}}}}return{'buffer':_0x440216,'type':_0x2b9dfc,'bytesPerElement':_0x5c3c5a['BYTES_PER_ELEMENT'],'version':_0x217318['version'],'size':_0x512593};}(_0xaf409,_0x317432));else{if(_0x3e1dc2['version']<_0xaf409['version']){if(_0x3e1dc2['size']!==_0xaf409['array']['byteLength'])throw new Error('THREE.WebGLAttributes:\x20The\x20size\x20of\x20the\x20buffer\x20attribute\x27s\x20array\x20buffer\x20does\x20not\x20match\x20the\x20original\x20size.\x20Resizing\x20buffer\x20attributes\x20is\x20not\x20supported.');!function(_0x96724b,_0x58a119,_0x20a19c){const _0x5f5aca=_0x58a119['array'],_0x195443=_0x58a119['updateRanges'];if(_0xd84817['bindBuffer'](_0x20a19c,_0x96724b),0x0===_0x195443['length'])_0xd84817['bufferSubData'](_0x20a19c,0x0,_0x5f5aca);else{_0x195443['sort']((_0x38f270,_0xb2f5a6)=>_0x38f270['start']-_0xb2f5a6['start']);let _0x22e1f1=0x0;for(let _0x155687=0x1;_0x155687<_0x195443['length'];_0x155687++){const _0x4b08e4=_0x195443[_0x22e1f1],_0x1b6f63=_0x195443[_0x155687];_0x1b6f63['start']<=_0x4b08e4['start']+_0x4b08e4['count']+0x1?_0x4b08e4['count']=Math['max'](_0x4b08e4['count'],_0x1b6f63['start']+_0x1b6f63['count']-_0x4b08e4['start']):(++_0x22e1f1,_0x195443[_0x22e1f1]=_0x1b6f63);}_0x195443['length']=_0x22e1f1+0x1;for(let _0x1b70af=0x0,_0x4fefc0=_0x195443['length'];_0x1b70af<_0x4fefc0;_0x1b70af++){const _0x1790a1=_0x195443[_0x1b70af];_0xd84817['bufferSubData'](_0x20a19c,_0x1790a1['start']*_0x5f5aca['BYTES_PER_ELEMENT'],_0x5f5aca,_0x1790a1['start'],_0x1790a1['count']);}_0x58a119['clearUpdateRanges']();}_0x58a119['onUploadCallback']();}(_0x3e1dc2['buffer'],_0xaf409,_0x317432),_0x3e1dc2['version']=_0xaf409['version'];}}}};}const _0x4b63ee={'alphahash_fragment':'#ifdef\x20USE_ALPHAHASH\x0a\x09if\x20(\x20diffuseColor.a\x20<\x20getAlphaHashThreshold(\x20vPosition\x20)\x20)\x20discard;\x0a#endif','alphahash_pars_fragment':'#ifdef\x20USE_ALPHAHASH\x0a\x09const\x20float\x20ALPHA_HASH_SCALE\x20=\x200.05;\x0a\x09float\x20hash2D(\x20vec2\x20value\x20)\x20{\x0a\x09\x09return\x20fract(\x201.0e4\x20*\x20sin(\x2017.0\x20*\x20value.x\x20+\x200.1\x20*\x20value.y\x20)\x20*\x20(\x200.1\x20+\x20abs(\x20sin(\x2013.0\x20*\x20value.y\x20+\x20value.x\x20)\x20)\x20)\x20);\x0a\x09}\x0a\x09float\x20hash3D(\x20vec3\x20value\x20)\x20{\x0a\x09\x09return\x20hash2D(\x20vec2(\x20hash2D(\x20value.xy\x20),\x20value.z\x20)\x20);\x0a\x09}\x0a\x09float\x20getAlphaHashThreshold(\x20vec3\x20position\x20)\x20{\x0a\x09\x09float\x20maxDeriv\x20=\x20max(\x0a\x09\x09\x09length(\x20dFdx(\x20position.xyz\x20)\x20),\x0a\x09\x09\x09length(\x20dFdy(\x20position.xyz\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20pixScale\x20=\x201.0\x20/\x20(\x20ALPHA_HASH_SCALE\x20*\x20maxDeriv\x20);\x0a\x09\x09vec2\x20pixScales\x20=\x20vec2(\x0a\x09\x09\x09exp2(\x20floor(\x20log2(\x20pixScale\x20)\x20)\x20),\x0a\x09\x09\x09exp2(\x20ceil(\x20log2(\x20pixScale\x20)\x20)\x20)\x0a\x09\x09);\x0a\x09\x09vec2\x20alpha\x20=\x20vec2(\x0a\x09\x09\x09hash3D(\x20floor(\x20pixScales.x\x20*\x20position.xyz\x20)\x20),\x0a\x09\x09\x09hash3D(\x20floor(\x20pixScales.y\x20*\x20position.xyz\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20lerpFactor\x20=\x20fract(\x20log2(\x20pixScale\x20)\x20);\x0a\x09\x09float\x20x\x20=\x20(\x201.0\x20-\x20lerpFactor\x20)\x20*\x20alpha.x\x20+\x20lerpFactor\x20*\x20alpha.y;\x0a\x09\x09float\x20a\x20=\x20min(\x20lerpFactor,\x201.0\x20-\x20lerpFactor\x20);\x0a\x09\x09vec3\x20cases\x20=\x20vec3(\x0a\x09\x09\x09x\x20*\x20x\x20/\x20(\x202.0\x20*\x20a\x20*\x20(\x201.0\x20-\x20a\x20)\x20),\x0a\x09\x09\x09(\x20x\x20-\x200.5\x20*\x20a\x20)\x20/\x20(\x201.0\x20-\x20a\x20),\x0a\x09\x09\x091.0\x20-\x20(\x20(\x201.0\x20-\x20x\x20)\x20*\x20(\x201.0\x20-\x20x\x20)\x20/\x20(\x202.0\x20*\x20a\x20*\x20(\x201.0\x20-\x20a\x20)\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20threshold\x20=\x20(\x20x\x20<\x20(\x201.0\x20-\x20a\x20)\x20)\x0a\x09\x09\x09?\x20(\x20(\x20x\x20<\x20a\x20)\x20?\x20cases.x\x20:\x20cases.y\x20)\x0a\x09\x09\x09:\x20cases.z;\x0a\x09\x09return\x20clamp(\x20threshold\x20,\x201.0e-6,\x201.0\x20);\x0a\x09}\x0a#endif','alphamap_fragment':'#ifdef\x20USE_ALPHAMAP\x0a\x09diffuseColor.a\x20*=\x20texture2D(\x20alphaMap,\x20vAlphaMapUv\x20).g;\x0a#endif','alphamap_pars_fragment':'#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20sampler2D\x20alphaMap;\x0a#endif','alphatest_fragment':'#ifdef\x20USE_ALPHATEST\x0a\x09#ifdef\x20ALPHA_TO_COVERAGE\x0a\x09diffuseColor.a\x20=\x20smoothstep(\x20alphaTest,\x20alphaTest\x20+\x20fwidth(\x20diffuseColor.a\x20),\x20diffuseColor.a\x20);\x0a\x09if\x20(\x20diffuseColor.a\x20==\x200.0\x20)\x20discard;\x0a\x09#else\x0a\x09if\x20(\x20diffuseColor.a\x20<\x20alphaTest\x20)\x20discard;\x0a\x09#endif\x0a#endif','alphatest_pars_fragment':'#ifdef\x20USE_ALPHATEST\x0a\x09uniform\x20float\x20alphaTest;\x0a#endif','aomap_fragment':'#ifdef\x20USE_AOMAP\x0a\x09float\x20ambientOcclusion\x20=\x20(\x20texture2D(\x20aoMap,\x20vAoMapUv\x20).r\x20-\x201.0\x20)\x20*\x20aoMapIntensity\x20+\x201.0;\x0a\x09reflectedLight.indirectDiffuse\x20*=\x20ambientOcclusion;\x0a\x09#if\x20defined(\x20USE_CLEARCOAT\x20)\x20\x0a\x09\x09clearcoatSpecularIndirect\x20*=\x20ambientOcclusion;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_SHEEN\x20)\x20\x0a\x09\x09sheenSpecularIndirect\x20*=\x20ambientOcclusion;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20STANDARD\x20)\x0a\x09\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20geometryViewDir\x20)\x20);\x0a\x09\x09reflectedLight.indirectSpecular\x20*=\x20computeSpecularOcclusion(\x20dotNV,\x20ambientOcclusion,\x20material.roughness\x20);\x0a\x09#endif\x0a#endif','aomap_pars_fragment':'#ifdef\x20USE_AOMAP\x0a\x09uniform\x20sampler2D\x20aoMap;\x0a\x09uniform\x20float\x20aoMapIntensity;\x0a#endif','batching_pars_vertex':'#ifdef\x20USE_BATCHING\x0a\x09#if\x20!\x20defined(\x20GL_ANGLE_multi_draw\x20)\x0a\x09#define\x20gl_DrawID\x20_gl_DrawID\x0a\x09uniform\x20int\x20_gl_DrawID;\x0a\x09#endif\x0a\x09uniform\x20highp\x20sampler2D\x20batchingTexture;\x0a\x09uniform\x20highp\x20usampler2D\x20batchingIdTexture;\x0a\x09mat4\x20getBatchingMatrix(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20)\x20*\x204;\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09vec4\x20v1\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v2\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x201,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v3\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x202,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v4\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x203,\x20y\x20),\x200\x20);\x0a\x09\x09return\x20mat4(\x20v1,\x20v2,\x20v3,\x20v4\x20);\x0a\x09}\x0a\x09float\x20getIndirectIndex(\x20const\x20in\x20int\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingIdTexture,\x200\x20).x;\x0a\x09\x09int\x20x\x20=\x20i\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20i\x20/\x20size;\x0a\x09\x09return\x20float(\x20texelFetch(\x20batchingIdTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20).r\x20);\x0a\x09}\x0a#endif\x0a#ifdef\x20USE_BATCHING_COLOR\x0a\x09uniform\x20sampler2D\x20batchingColorTexture;\x0a\x09vec3\x20getBatchingColor(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingColorTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20);\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09return\x20texelFetch(\x20batchingColorTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20).rgb;\x0a\x09}\x0a#endif','batching_vertex':'#ifdef\x20USE_BATCHING\x0a\x09mat4\x20batchingMatrix\x20=\x20getBatchingMatrix(\x20getIndirectIndex(\x20gl_DrawID\x20)\x20);\x0a#endif','begin_vertex':'vec3\x20transformed\x20=\x20vec3(\x20position\x20);\x0a#ifdef\x20USE_ALPHAHASH\x0a\x09vPosition\x20=\x20vec3(\x20position\x20);\x0a#endif','beginnormal_vertex':'vec3\x20objectNormal\x20=\x20vec3(\x20normal\x20);\x0a#ifdef\x20USE_TANGENT\x0a\x09vec3\x20objectTangent\x20=\x20vec3(\x20tangent.xyz\x20);\x0a#endif','bsdfs':'float\x20G_BlinnPhong_Implicit(\x20)\x20{\x0a\x09return\x200.25;\x0a}\x0afloat\x20D_BlinnPhong(\x20const\x20in\x20float\x20shininess,\x20const\x20in\x20float\x20dotNH\x20)\x20{\x0a\x09return\x20RECIPROCAL_PI\x20*\x20(\x20shininess\x20*\x200.5\x20+\x201.0\x20)\x20*\x20pow(\x20dotNH,\x20shininess\x20);\x0a}\x0avec3\x20BRDF_BlinnPhong(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20shininess\x20)\x20{\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09vec3\x20F\x20=\x20F_Schlick(\x20specularColor,\x201.0,\x20dotVH\x20);\x0a\x09float\x20G\x20=\x20G_BlinnPhong_Implicit(\x20);\x0a\x09float\x20D\x20=\x20D_BlinnPhong(\x20shininess,\x20dotNH\x20);\x0a\x09return\x20F\x20*\x20(\x20G\x20*\x20D\x20);\x0a}\x20//\x20validated','iridescence_fragment':'#ifdef\x20USE_IRIDESCENCE\x0a\x09const\x20mat3\x20XYZ_TO_REC709\x20=\x20mat3(\x0a\x09\x09\x203.2404542,\x20-0.9692660,\x20\x200.0556434,\x0a\x09\x09-1.5371385,\x20\x201.8760108,\x20-0.2040259,\x0a\x09\x09-0.4985314,\x20\x200.0415560,\x20\x201.0572252\x0a\x09);\x0a\x09vec3\x20Fresnel0ToIor(\x20vec3\x20fresnel0\x20)\x20{\x0a\x09\x09vec3\x20sqrtF0\x20=\x20sqrt(\x20fresnel0\x20);\x0a\x09\x09return\x20(\x20vec3(\x201.0\x20)\x20+\x20sqrtF0\x20)\x20/\x20(\x20vec3(\x201.0\x20)\x20-\x20sqrtF0\x20);\x0a\x09}\x0a\x09vec3\x20IorToFresnel0(\x20vec3\x20transmittedIor,\x20float\x20incidentIor\x20)\x20{\x0a\x09\x09return\x20pow2(\x20(\x20transmittedIor\x20-\x20vec3(\x20incidentIor\x20)\x20)\x20/\x20(\x20transmittedIor\x20+\x20vec3(\x20incidentIor\x20)\x20)\x20);\x0a\x09}\x0a\x09float\x20IorToFresnel0(\x20float\x20transmittedIor,\x20float\x20incidentIor\x20)\x20{\x0a\x09\x09return\x20pow2(\x20(\x20transmittedIor\x20-\x20incidentIor\x20)\x20/\x20(\x20transmittedIor\x20+\x20incidentIor\x20));\x0a\x09}\x0a\x09vec3\x20evalSensitivity(\x20float\x20OPD,\x20vec3\x20shift\x20)\x20{\x0a\x09\x09float\x20phase\x20=\x202.0\x20*\x20PI\x20*\x20OPD\x20*\x201.0e-9;\x0a\x09\x09vec3\x20val\x20=\x20vec3(\x205.4856e-13,\x204.4201e-13,\x205.2481e-13\x20);\x0a\x09\x09vec3\x20pos\x20=\x20vec3(\x201.6810e+06,\x201.7953e+06,\x202.2084e+06\x20);\x0a\x09\x09vec3\x20var\x20=\x20vec3(\x204.3278e+09,\x209.3046e+09,\x206.6121e+09\x20);\x0a\x09\x09vec3\x20xyz\x20=\x20val\x20*\x20sqrt(\x202.0\x20*\x20PI\x20*\x20var\x20)\x20*\x20cos(\x20pos\x20*\x20phase\x20+\x20shift\x20)\x20*\x20exp(\x20-\x20pow2(\x20phase\x20)\x20*\x20var\x20);\x0a\x09\x09xyz.x\x20+=\x209.7470e-14\x20*\x20sqrt(\x202.0\x20*\x20PI\x20*\x204.5282e+09\x20)\x20*\x20cos(\x202.2399e+06\x20*\x20phase\x20+\x20shift[\x200\x20]\x20)\x20*\x20exp(\x20-\x204.5282e+09\x20*\x20pow2(\x20phase\x20)\x20);\x0a\x09\x09xyz\x20/=\x201.0685e-7;\x0a\x09\x09vec3\x20rgb\x20=\x20XYZ_TO_REC709\x20*\x20xyz;\x0a\x09\x09return\x20rgb;\x0a\x09}\x0a\x09vec3\x20evalIridescence(\x20float\x20outsideIOR,\x20float\x20eta2,\x20float\x20cosTheta1,\x20float\x20thinFilmThickness,\x20vec3\x20baseF0\x20)\x20{\x0a\x09\x09vec3\x20I;\x0a\x09\x09float\x20iridescenceIOR\x20=\x20mix(\x20outsideIOR,\x20eta2,\x20smoothstep(\x200.0,\x200.03,\x20thinFilmThickness\x20)\x20);\x0a\x09\x09float\x20sinTheta2Sq\x20=\x20pow2(\x20outsideIOR\x20/\x20iridescenceIOR\x20)\x20*\x20(\x201.0\x20-\x20pow2(\x20cosTheta1\x20)\x20);\x0a\x09\x09float\x20cosTheta2Sq\x20=\x201.0\x20-\x20sinTheta2Sq;\x0a\x09\x09if\x20(\x20cosTheta2Sq\x20<\x200.0\x20)\x20{\x0a\x09\x09\x09return\x20vec3(\x201.0\x20);\x0a\x09\x09}\x0a\x09\x09float\x20cosTheta2\x20=\x20sqrt(\x20cosTheta2Sq\x20);\x0a\x09\x09float\x20R0\x20=\x20IorToFresnel0(\x20iridescenceIOR,\x20outsideIOR\x20);\x0a\x09\x09float\x20R12\x20=\x20F_Schlick(\x20R0,\x201.0,\x20cosTheta1\x20);\x0a\x09\x09float\x20T121\x20=\x201.0\x20-\x20R12;\x0a\x09\x09float\x20phi12\x20=\x200.0;\x0a\x09\x09if\x20(\x20iridescenceIOR\x20<\x20outsideIOR\x20)\x20phi12\x20=\x20PI;\x0a\x09\x09float\x20phi21\x20=\x20PI\x20-\x20phi12;\x0a\x09\x09vec3\x20baseIOR\x20=\x20Fresnel0ToIor(\x20clamp(\x20baseF0,\x200.0,\x200.9999\x20)\x20);\x09\x09vec3\x20R1\x20=\x20IorToFresnel0(\x20baseIOR,\x20iridescenceIOR\x20);\x0a\x09\x09vec3\x20R23\x20=\x20F_Schlick(\x20R1,\x201.0,\x20cosTheta2\x20);\x0a\x09\x09vec3\x20phi23\x20=\x20vec3(\x200.0\x20);\x0a\x09\x09if\x20(\x20baseIOR[\x200\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x200\x20]\x20=\x20PI;\x0a\x09\x09if\x20(\x20baseIOR[\x201\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x201\x20]\x20=\x20PI;\x0a\x09\x09if\x20(\x20baseIOR[\x202\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x202\x20]\x20=\x20PI;\x0a\x09\x09float\x20OPD\x20=\x202.0\x20*\x20iridescenceIOR\x20*\x20thinFilmThickness\x20*\x20cosTheta2;\x0a\x09\x09vec3\x20phi\x20=\x20vec3(\x20phi21\x20)\x20+\x20phi23;\x0a\x09\x09vec3\x20R123\x20=\x20clamp(\x20R12\x20*\x20R23,\x201e-5,\x200.9999\x20);\x0a\x09\x09vec3\x20r123\x20=\x20sqrt(\x20R123\x20);\x0a\x09\x09vec3\x20Rs\x20=\x20pow2(\x20T121\x20)\x20*\x20R23\x20/\x20(\x20vec3(\x201.0\x20)\x20-\x20R123\x20);\x0a\x09\x09vec3\x20C0\x20=\x20R12\x20+\x20Rs;\x0a\x09\x09I\x20=\x20C0;\x0a\x09\x09vec3\x20Cm\x20=\x20Rs\x20-\x20T121;\x0a\x09\x09for\x20(\x20int\x20m\x20=\x201;\x20m\x20<=\x202;\x20++\x20m\x20)\x20{\x0a\x09\x09\x09Cm\x20*=\x20r123;\x0a\x09\x09\x09vec3\x20Sm\x20=\x202.0\x20*\x20evalSensitivity(\x20float(\x20m\x20)\x20*\x20OPD,\x20float(\x20m\x20)\x20*\x20phi\x20);\x0a\x09\x09\x09I\x20+=\x20Cm\x20*\x20Sm;\x0a\x09\x09}\x0a\x09\x09return\x20max(\x20I,\x20vec3(\x200.0\x20)\x20);\x0a\x09}\x0a#endif','bumpmap_pars_fragment':'#ifdef\x20USE_BUMPMAP\x0a\x09uniform\x20sampler2D\x20bumpMap;\x0a\x09uniform\x20float\x20bumpScale;\x0a\x09vec2\x20dHdxy_fwd()\x20{\x0a\x09\x09vec2\x20dSTdx\x20=\x20dFdx(\x20vBumpMapUv\x20);\x0a\x09\x09vec2\x20dSTdy\x20=\x20dFdy(\x20vBumpMapUv\x20);\x0a\x09\x09float\x20Hll\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20).x;\x0a\x09\x09float\x20dBx\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20+\x20dSTdx\x20).x\x20-\x20Hll;\x0a\x09\x09float\x20dBy\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20+\x20dSTdy\x20).x\x20-\x20Hll;\x0a\x09\x09return\x20vec2(\x20dBx,\x20dBy\x20);\x0a\x09}\x0a\x09vec3\x20perturbNormalArb(\x20vec3\x20surf_pos,\x20vec3\x20surf_norm,\x20vec2\x20dHdxy,\x20float\x20faceDirection\x20)\x20{\x0a\x09\x09vec3\x20vSigmaX\x20=\x20normalize(\x20dFdx(\x20surf_pos.xyz\x20)\x20);\x0a\x09\x09vec3\x20vSigmaY\x20=\x20normalize(\x20dFdy(\x20surf_pos.xyz\x20)\x20);\x0a\x09\x09vec3\x20vN\x20=\x20surf_norm;\x0a\x09\x09vec3\x20R1\x20=\x20cross(\x20vSigmaY,\x20vN\x20);\x0a\x09\x09vec3\x20R2\x20=\x20cross(\x20vN,\x20vSigmaX\x20);\x0a\x09\x09float\x20fDet\x20=\x20dot(\x20vSigmaX,\x20R1\x20)\x20*\x20faceDirection;\x0a\x09\x09vec3\x20vGrad\x20=\x20sign(\x20fDet\x20)\x20*\x20(\x20dHdxy.x\x20*\x20R1\x20+\x20dHdxy.y\x20*\x20R2\x20);\x0a\x09\x09return\x20normalize(\x20abs(\x20fDet\x20)\x20*\x20surf_norm\x20-\x20vGrad\x20);\x0a\x09}\x0a#endif','clipping_planes_fragment':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09vec4\x20plane;\x0a\x09#ifdef\x20ALPHA_TO_COVERAGE\x0a\x09\x09float\x20distanceToPlane,\x20distanceGradient;\x0a\x09\x09float\x20clipOpacity\x20=\x201.0;\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20UNION_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09distanceToPlane\x20=\x20-\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20+\x20plane.w;\x0a\x09\x09\x09distanceGradient\x20=\x20fwidth(\x20distanceToPlane\x20)\x20/\x202.0;\x0a\x09\x09\x09clipOpacity\x20*=\x20smoothstep(\x20-\x20distanceGradient,\x20distanceGradient,\x20distanceToPlane\x20);\x0a\x09\x09\x09if\x20(\x20clipOpacity\x20==\x200.0\x20)\x20discard;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09#if\x20UNION_CLIPPING_PLANES\x20<\x20NUM_CLIPPING_PLANES\x0a\x09\x09\x09float\x20unionClipOpacity\x20=\x201.0;\x0a\x09\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x20UNION_CLIPPING_PLANES;\x20i\x20<\x20NUM_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09\x09distanceToPlane\x20=\x20-\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20+\x20plane.w;\x0a\x09\x09\x09\x09distanceGradient\x20=\x20fwidth(\x20distanceToPlane\x20)\x20/\x202.0;\x0a\x09\x09\x09\x09unionClipOpacity\x20*=\x201.0\x20-\x20smoothstep(\x20-\x20distanceGradient,\x20distanceGradient,\x20distanceToPlane\x20);\x0a\x09\x09\x09}\x0a\x09\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09\x09clipOpacity\x20*=\x201.0\x20-\x20unionClipOpacity;\x0a\x09\x09#endif\x0a\x09\x09diffuseColor.a\x20*=\x20clipOpacity;\x0a\x09\x09if\x20(\x20diffuseColor.a\x20==\x200.0\x20)\x20discard;\x0a\x09#else\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20UNION_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09if\x20(\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20>\x20plane.w\x20)\x20discard;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09#if\x20UNION_CLIPPING_PLANES\x20<\x20NUM_CLIPPING_PLANES\x0a\x09\x09\x09bool\x20clipped\x20=\x20true;\x0a\x09\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x20UNION_CLIPPING_PLANES;\x20i\x20<\x20NUM_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09\x09clipped\x20=\x20(\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20>\x20plane.w\x20)\x20&&\x20clipped;\x0a\x09\x09\x09}\x0a\x09\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09\x09if\x20(\x20clipped\x20)\x20discard;\x0a\x09\x09#endif\x0a\x09#endif\x0a#endif','clipping_planes_pars_fragment':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09varying\x20vec3\x20vClipPosition;\x0a\x09uniform\x20vec4\x20clippingPlanes[\x20NUM_CLIPPING_PLANES\x20];\x0a#endif','clipping_planes_pars_vertex':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09varying\x20vec3\x20vClipPosition;\x0a#endif','clipping_planes_vertex':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09vClipPosition\x20=\x20-\x20mvPosition.xyz;\x0a#endif','color_fragment':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09diffuseColor\x20*=\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09diffuseColor.rgb\x20*=\x20vColor;\x0a#endif','color_pars_fragment':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09varying\x20vec4\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09varying\x20vec3\x20vColor;\x0a#endif','color_pars_vertex':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09varying\x20vec4\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x20||\x20defined(\x20USE_INSTANCING_COLOR\x20)\x20||\x20defined(\x20USE_BATCHING_COLOR\x20)\x0a\x09varying\x20vec3\x20vColor;\x0a#endif','color_vertex':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09vColor\x20=\x20vec4(\x201.0\x20);\x0a#elif\x20defined(\x20USE_COLOR\x20)\x20||\x20defined(\x20USE_INSTANCING_COLOR\x20)\x20||\x20defined(\x20USE_BATCHING_COLOR\x20)\x0a\x09vColor\x20=\x20vec3(\x201.0\x20);\x0a#endif\x0a#ifdef\x20USE_COLOR\x0a\x09vColor\x20*=\x20color;\x0a#endif\x0a#ifdef\x20USE_INSTANCING_COLOR\x0a\x09vColor.xyz\x20*=\x20instanceColor.xyz;\x0a#endif\x0a#ifdef\x20USE_BATCHING_COLOR\x0a\x09vec3\x20batchingColor\x20=\x20getBatchingColor(\x20getIndirectIndex(\x20gl_DrawID\x20)\x20);\x0a\x09vColor.xyz\x20*=\x20batchingColor.xyz;\x0a#endif','common':'#define\x20PI\x203.141592653589793\x0a#define\x20PI2\x206.283185307179586\x0a#define\x20PI_HALF\x201.5707963267948966\x0a#define\x20RECIPROCAL_PI\x200.3183098861837907\x0a#define\x20RECIPROCAL_PI2\x200.15915494309189535\x0a#define\x20EPSILON\x201e-6\x0a#ifndef\x20saturate\x0a#define\x20saturate(\x20a\x20)\x20clamp(\x20a,\x200.0,\x201.0\x20)\x0a#endif\x0a#define\x20whiteComplement(\x20a\x20)\x20(\x201.0\x20-\x20saturate(\x20a\x20)\x20)\x0afloat\x20pow2(\x20const\x20in\x20float\x20x\x20)\x20{\x20return\x20x*x;\x20}\x0avec3\x20pow2(\x20const\x20in\x20vec3\x20x\x20)\x20{\x20return\x20x*x;\x20}\x0afloat\x20pow3(\x20const\x20in\x20float\x20x\x20)\x20{\x20return\x20x*x*x;\x20}\x0afloat\x20pow4(\x20const\x20in\x20float\x20x\x20)\x20{\x20float\x20x2\x20=\x20x*x;\x20return\x20x2*x2;\x20}\x0afloat\x20max3(\x20const\x20in\x20vec3\x20v\x20)\x20{\x20return\x20max(\x20max(\x20v.x,\x20v.y\x20),\x20v.z\x20);\x20}\x0afloat\x20average(\x20const\x20in\x20vec3\x20v\x20)\x20{\x20return\x20dot(\x20v,\x20vec3(\x200.3333333\x20)\x20);\x20}\x0ahighp\x20float\x20rand(\x20const\x20in\x20vec2\x20uv\x20)\x20{\x0a\x09const\x20highp\x20float\x20a\x20=\x2012.9898,\x20b\x20=\x2078.233,\x20c\x20=\x2043758.5453;\x0a\x09highp\x20float\x20dt\x20=\x20dot(\x20uv.xy,\x20vec2(\x20a,b\x20)\x20),\x20sn\x20=\x20mod(\x20dt,\x20PI\x20);\x0a\x09return\x20fract(\x20sin(\x20sn\x20)\x20*\x20c\x20);\x0a}\x0a#ifdef\x20HIGH_PRECISION\x0a\x09float\x20precisionSafeLength(\x20vec3\x20v\x20)\x20{\x20return\x20length(\x20v\x20);\x20}\x0a#else\x0a\x09float\x20precisionSafeLength(\x20vec3\x20v\x20)\x20{\x0a\x09\x09float\x20maxComponent\x20=\x20max3(\x20abs(\x20v\x20)\x20);\x0a\x09\x09return\x20length(\x20v\x20/\x20maxComponent\x20)\x20*\x20maxComponent;\x0a\x09}\x0a#endif\x0astruct\x20IncidentLight\x20{\x0a\x09vec3\x20color;\x0a\x09vec3\x20direction;\x0a\x09bool\x20visible;\x0a};\x0astruct\x20ReflectedLight\x20{\x0a\x09vec3\x20directDiffuse;\x0a\x09vec3\x20directSpecular;\x0a\x09vec3\x20indirectDiffuse;\x0a\x09vec3\x20indirectSpecular;\x0a};\x0a#ifdef\x20USE_ALPHAHASH\x0a\x09varying\x20vec3\x20vPosition;\x0a#endif\x0avec3\x20transformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x09return\x20normalize(\x20(\x20matrix\x20*\x20vec4(\x20dir,\x200.0\x20)\x20).xyz\x20);\x0a}\x0avec3\x20inverseTransformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x09return\x20normalize(\x20(\x20vec4(\x20dir,\x200.0\x20)\x20*\x20matrix\x20).xyz\x20);\x0a}\x0amat3\x20transposeMat3(\x20const\x20in\x20mat3\x20m\x20)\x20{\x0a\x09mat3\x20tmp;\x0a\x09tmp[\x200\x20]\x20=\x20vec3(\x20m[\x200\x20].x,\x20m[\x201\x20].x,\x20m[\x202\x20].x\x20);\x0a\x09tmp[\x201\x20]\x20=\x20vec3(\x20m[\x200\x20].y,\x20m[\x201\x20].y,\x20m[\x202\x20].y\x20);\x0a\x09tmp[\x202\x20]\x20=\x20vec3(\x20m[\x200\x20].z,\x20m[\x201\x20].z,\x20m[\x202\x20].z\x20);\x0a\x09return\x20tmp;\x0a}\x0abool\x20isPerspectiveMatrix(\x20mat4\x20m\x20)\x20{\x0a\x09return\x20m[\x202\x20][\x203\x20]\x20==\x20-\x201.0;\x0a}\x0avec2\x20equirectUv(\x20in\x20vec3\x20dir\x20)\x20{\x0a\x09float\x20u\x20=\x20atan(\x20dir.z,\x20dir.x\x20)\x20*\x20RECIPROCAL_PI2\x20+\x200.5;\x0a\x09float\x20v\x20=\x20asin(\x20clamp(\x20dir.y,\x20-\x201.0,\x201.0\x20)\x20)\x20*\x20RECIPROCAL_PI\x20+\x200.5;\x0a\x09return\x20vec2(\x20u,\x20v\x20);\x0a}\x0avec3\x20BRDF_Lambert(\x20const\x20in\x20vec3\x20diffuseColor\x20)\x20{\x0a\x09return\x20RECIPROCAL_PI\x20*\x20diffuseColor;\x0a}\x0avec3\x20F_Schlick(\x20const\x20in\x20vec3\x20f0,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x09float\x20fresnel\x20=\x20exp2(\x20(\x20-\x205.55473\x20*\x20dotVH\x20-\x206.98316\x20)\x20*\x20dotVH\x20);\x0a\x09return\x20f0\x20*\x20(\x201.0\x20-\x20fresnel\x20)\x20+\x20(\x20f90\x20*\x20fresnel\x20);\x0a}\x0afloat\x20F_Schlick(\x20const\x20in\x20float\x20f0,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x09float\x20fresnel\x20=\x20exp2(\x20(\x20-\x205.55473\x20*\x20dotVH\x20-\x206.98316\x20)\x20*\x20dotVH\x20);\x0a\x09return\x20f0\x20*\x20(\x201.0\x20-\x20fresnel\x20)\x20+\x20(\x20f90\x20*\x20fresnel\x20);\x0a}\x20//\x20validated','cube_uv_reflection_fragment':'#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09#define\x20cubeUV_minMipLevel\x204.0\x0a\x09#define\x20cubeUV_minTileSize\x2016.0\x0a\x09float\x20getFace(\x20vec3\x20direction\x20)\x20{\x0a\x09\x09vec3\x20absDirection\x20=\x20abs(\x20direction\x20);\x0a\x09\x09float\x20face\x20=\x20-\x201.0;\x0a\x09\x09if\x20(\x20absDirection.x\x20>\x20absDirection.z\x20)\x20{\x0a\x09\x09\x09if\x20(\x20absDirection.x\x20>\x20absDirection.y\x20)\x0a\x09\x09\x09\x09face\x20=\x20direction.x\x20>\x200.0\x20?\x200.0\x20:\x203.0;\x0a\x09\x09\x09else\x0a\x09\x09\x09\x09face\x20=\x20direction.y\x20>\x200.0\x20?\x201.0\x20:\x204.0;\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09if\x20(\x20absDirection.z\x20>\x20absDirection.y\x20)\x0a\x09\x09\x09\x09face\x20=\x20direction.z\x20>\x200.0\x20?\x202.0\x20:\x205.0;\x0a\x09\x09\x09else\x0a\x09\x09\x09\x09face\x20=\x20direction.y\x20>\x200.0\x20?\x201.0\x20:\x204.0;\x0a\x09\x09}\x0a\x09\x09return\x20face;\x0a\x09}\x0a\x09vec2\x20getUV(\x20vec3\x20direction,\x20float\x20face\x20)\x20{\x0a\x09\x09vec2\x20uv;\x0a\x09\x09if\x20(\x20face\x20==\x200.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20direction.z,\x20direction.y\x20)\x20/\x20abs(\x20direction.x\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x201.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20-\x20direction.z\x20)\x20/\x20abs(\x20direction.y\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x202.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20direction.y\x20)\x20/\x20abs(\x20direction.z\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x203.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.z,\x20direction.y\x20)\x20/\x20abs(\x20direction.x\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x204.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20direction.z\x20)\x20/\x20abs(\x20direction.y\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20direction.x,\x20direction.y\x20)\x20/\x20abs(\x20direction.z\x20);\x0a\x09\x09}\x0a\x09\x09return\x200.5\x20*\x20(\x20uv\x20+\x201.0\x20);\x0a\x09}\x0a\x09vec3\x20bilinearCubeUV(\x20sampler2D\x20envMap,\x20vec3\x20direction,\x20float\x20mipInt\x20)\x20{\x0a\x09\x09float\x20face\x20=\x20getFace(\x20direction\x20);\x0a\x09\x09float\x20filterInt\x20=\x20max(\x20cubeUV_minMipLevel\x20-\x20mipInt,\x200.0\x20);\x0a\x09\x09mipInt\x20=\x20max(\x20mipInt,\x20cubeUV_minMipLevel\x20);\x0a\x09\x09float\x20faceSize\x20=\x20exp2(\x20mipInt\x20);\x0a\x09\x09highp\x20vec2\x20uv\x20=\x20getUV(\x20direction,\x20face\x20)\x20*\x20(\x20faceSize\x20-\x202.0\x20)\x20+\x201.0;\x0a\x09\x09if\x20(\x20face\x20>\x202.0\x20)\x20{\x0a\x09\x09\x09uv.y\x20+=\x20faceSize;\x0a\x09\x09\x09face\x20-=\x203.0;\x0a\x09\x09}\x0a\x09\x09uv.x\x20+=\x20face\x20*\x20faceSize;\x0a\x09\x09uv.x\x20+=\x20filterInt\x20*\x203.0\x20*\x20cubeUV_minTileSize;\x0a\x09\x09uv.y\x20+=\x204.0\x20*\x20(\x20exp2(\x20CUBEUV_MAX_MIP\x20)\x20-\x20faceSize\x20);\x0a\x09\x09uv.x\x20*=\x20CUBEUV_TEXEL_WIDTH;\x0a\x09\x09uv.y\x20*=\x20CUBEUV_TEXEL_HEIGHT;\x0a\x09\x09#ifdef\x20texture2DGradEXT\x0a\x09\x09\x09return\x20texture2DGradEXT(\x20envMap,\x20uv,\x20vec2(\x200.0\x20),\x20vec2(\x200.0\x20)\x20).rgb;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20texture2D(\x20envMap,\x20uv\x20).rgb;\x0a\x09\x09#endif\x0a\x09}\x0a\x09#define\x20cubeUV_r0\x201.0\x0a\x09#define\x20cubeUV_m0\x20-\x202.0\x0a\x09#define\x20cubeUV_r1\x200.8\x0a\x09#define\x20cubeUV_m1\x20-\x201.0\x0a\x09#define\x20cubeUV_r4\x200.4\x0a\x09#define\x20cubeUV_m4\x202.0\x0a\x09#define\x20cubeUV_r5\x200.305\x0a\x09#define\x20cubeUV_m5\x203.0\x0a\x09#define\x20cubeUV_r6\x200.21\x0a\x09#define\x20cubeUV_m6\x204.0\x0a\x09float\x20roughnessToMip(\x20float\x20roughness\x20)\x20{\x0a\x09\x09float\x20mip\x20=\x200.0;\x0a\x09\x09if\x20(\x20roughness\x20>=\x20cubeUV_r1\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r0\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m1\x20-\x20cubeUV_m0\x20)\x20/\x20(\x20cubeUV_r0\x20-\x20cubeUV_r1\x20)\x20+\x20cubeUV_m0;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r4\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r1\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m4\x20-\x20cubeUV_m1\x20)\x20/\x20(\x20cubeUV_r1\x20-\x20cubeUV_r4\x20)\x20+\x20cubeUV_m1;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r5\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r4\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m5\x20-\x20cubeUV_m4\x20)\x20/\x20(\x20cubeUV_r4\x20-\x20cubeUV_r5\x20)\x20+\x20cubeUV_m4;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r6\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r5\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m6\x20-\x20cubeUV_m5\x20)\x20/\x20(\x20cubeUV_r5\x20-\x20cubeUV_r6\x20)\x20+\x20cubeUV_m5;\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09mip\x20=\x20-\x202.0\x20*\x20log2(\x201.16\x20*\x20roughness\x20);\x09\x09}\x0a\x09\x09return\x20mip;\x0a\x09}\x0a\x09vec4\x20textureCubeUV(\x20sampler2D\x20envMap,\x20vec3\x20sampleDir,\x20float\x20roughness\x20)\x20{\x0a\x09\x09float\x20mip\x20=\x20clamp(\x20roughnessToMip(\x20roughness\x20),\x20cubeUV_m0,\x20CUBEUV_MAX_MIP\x20);\x0a\x09\x09float\x20mipF\x20=\x20fract(\x20mip\x20);\x0a\x09\x09float\x20mipInt\x20=\x20floor(\x20mip\x20);\x0a\x09\x09vec3\x20color0\x20=\x20bilinearCubeUV(\x20envMap,\x20sampleDir,\x20mipInt\x20);\x0a\x09\x09if\x20(\x20mipF\x20==\x200.0\x20)\x20{\x0a\x09\x09\x09return\x20vec4(\x20color0,\x201.0\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09vec3\x20color1\x20=\x20bilinearCubeUV(\x20envMap,\x20sampleDir,\x20mipInt\x20+\x201.0\x20);\x0a\x09\x09\x09return\x20vec4(\x20mix(\x20color0,\x20color1,\x20mipF\x20),\x201.0\x20);\x0a\x09\x09}\x0a\x09}\x0a#endif','defaultnormal_vertex':'vec3\x20transformedNormal\x20=\x20objectNormal;\x0a#ifdef\x20USE_TANGENT\x0a\x09vec3\x20transformedTangent\x20=\x20objectTangent;\x0a#endif\x0a#ifdef\x20USE_BATCHING\x0a\x09mat3\x20bm\x20=\x20mat3(\x20batchingMatrix\x20);\x0a\x09transformedNormal\x20/=\x20vec3(\x20dot(\x20bm[\x200\x20],\x20bm[\x200\x20]\x20),\x20dot(\x20bm[\x201\x20],\x20bm[\x201\x20]\x20),\x20dot(\x20bm[\x202\x20],\x20bm[\x202\x20]\x20)\x20);\x0a\x09transformedNormal\x20=\x20bm\x20*\x20transformedNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09transformedTangent\x20=\x20bm\x20*\x20transformedTangent;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_INSTANCING\x0a\x09mat3\x20im\x20=\x20mat3(\x20instanceMatrix\x20);\x0a\x09transformedNormal\x20/=\x20vec3(\x20dot(\x20im[\x200\x20],\x20im[\x200\x20]\x20),\x20dot(\x20im[\x201\x20],\x20im[\x201\x20]\x20),\x20dot(\x20im[\x202\x20],\x20im[\x202\x20]\x20)\x20);\x0a\x09transformedNormal\x20=\x20im\x20*\x20transformedNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09transformedTangent\x20=\x20im\x20*\x20transformedTangent;\x0a\x09#endif\x0a#endif\x0atransformedNormal\x20=\x20normalMatrix\x20*\x20transformedNormal;\x0a#ifdef\x20FLIP_SIDED\x0a\x09transformedNormal\x20=\x20-\x20transformedNormal;\x0a#endif\x0a#ifdef\x20USE_TANGENT\x0a\x09transformedTangent\x20=\x20(\x20modelViewMatrix\x20*\x20vec4(\x20transformedTangent,\x200.0\x20)\x20).xyz;\x0a\x09#ifdef\x20FLIP_SIDED\x0a\x09\x09transformedTangent\x20=\x20-\x20transformedTangent;\x0a\x09#endif\x0a#endif','displacementmap_pars_vertex':'#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09uniform\x20sampler2D\x20displacementMap;\x0a\x09uniform\x20float\x20displacementScale;\x0a\x09uniform\x20float\x20displacementBias;\x0a#endif','displacementmap_vertex':'#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09transformed\x20+=\x20normalize(\x20objectNormal\x20)\x20*\x20(\x20texture2D(\x20displacementMap,\x20vDisplacementMapUv\x20).x\x20*\x20displacementScale\x20+\x20displacementBias\x20);\x0a#endif','emissivemap_fragment':'#ifdef\x20USE_EMISSIVEMAP\x0a\x09vec4\x20emissiveColor\x20=\x20texture2D(\x20emissiveMap,\x20vEmissiveMapUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE_EMISSIVE\x0a\x09\x09emissiveColor\x20=\x20sRGBTransferEOTF(\x20emissiveColor\x20);\x0a\x09#endif\x0a\x09totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a#endif','emissivemap_pars_fragment':'#ifdef\x20USE_EMISSIVEMAP\x0a\x09uniform\x20sampler2D\x20emissiveMap;\x0a#endif','colorspace_fragment':'gl_FragColor\x20=\x20linearToOutputTexel(\x20gl_FragColor\x20);','colorspace_pars_fragment':'vec4\x20LinearTransferOETF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20value;\x0a}\x0avec4\x20sRGBTransferEOTF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20vec4(\x20mix(\x20pow(\x20value.rgb\x20*\x200.9478672986\x20+\x20vec3(\x200.0521327014\x20),\x20vec3(\x202.4\x20)\x20),\x20value.rgb\x20*\x200.0773993808,\x20vec3(\x20lessThanEqual(\x20value.rgb,\x20vec3(\x200.04045\x20)\x20)\x20)\x20),\x20value.a\x20);\x0a}\x0avec4\x20sRGBTransferOETF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20vec4(\x20mix(\x20pow(\x20value.rgb,\x20vec3(\x200.41666\x20)\x20)\x20*\x201.055\x20-\x20vec3(\x200.055\x20),\x20value.rgb\x20*\x2012.92,\x20vec3(\x20lessThanEqual(\x20value.rgb,\x20vec3(\x200.0031308\x20)\x20)\x20)\x20),\x20value.a\x20);\x0a}','envmap_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09vec3\x20cameraToFrag;\x0a\x09\x09if\x20(\x20isOrthographic\x20)\x20{\x0a\x09\x09\x09cameraToFrag\x20=\x20normalize(\x20vec3(\x20-\x20viewMatrix[\x200\x20][\x202\x20],\x20-\x20viewMatrix[\x201\x20][\x202\x20],\x20-\x20viewMatrix[\x202\x20][\x202\x20]\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09cameraToFrag\x20=\x20normalize(\x20vWorldPosition\x20-\x20cameraPosition\x20);\x0a\x09\x09}\x0a\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09\x09#ifdef\x20ENVMAP_MODE_REFLECTION\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20reflect(\x20cameraToFrag,\x20worldNormal\x20);\x0a\x09\x09#else\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20refract(\x20cameraToFrag,\x20worldNormal,\x20refractionRatio\x20);\x0a\x09\x09#endif\x0a\x09#else\x0a\x09\x09vec3\x20reflectVec\x20=\x20vReflect;\x0a\x09#endif\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09vec4\x20envColor\x20=\x20textureCube(\x20envMap,\x20envMapRotation\x20*\x20vec3(\x20flipEnvMap\x20*\x20reflectVec.x,\x20reflectVec.yz\x20)\x20);\x0a\x09#else\x0a\x09\x09vec4\x20envColor\x20=\x20vec4(\x200.0\x20);\x0a\x09#endif\x0a\x09#ifdef\x20ENVMAP_BLENDING_MULTIPLY\x0a\x09\x09outgoingLight\x20=\x20mix(\x20outgoingLight,\x20outgoingLight\x20*\x20envColor.xyz,\x20specularStrength\x20*\x20reflectivity\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_BLENDING_MIX\x20)\x0a\x09\x09outgoingLight\x20=\x20mix(\x20outgoingLight,\x20envColor.xyz,\x20specularStrength\x20*\x20reflectivity\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_BLENDING_ADD\x20)\x0a\x09\x09outgoingLight\x20+=\x20envColor.xyz\x20*\x20specularStrength\x20*\x20reflectivity;\x0a\x09#endif\x0a#endif','envmap_common_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09uniform\x20float\x20envMapIntensity;\x0a\x09uniform\x20float\x20flipEnvMap;\x0a\x09uniform\x20mat3\x20envMapRotation;\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x09#else\x0a\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x09#endif\x0a\x09\x0a#endif','envmap_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09uniform\x20float\x20reflectivity;\x0a\x09#if\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP\x20)\x20||\x20defined(\x20PHONG\x20)\x20||\x20defined(\x20LAMBERT\x20)\x0a\x09\x09#define\x20ENV_WORLDPOS\x0a\x09#endif\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09varying\x20vec3\x20vWorldPosition;\x0a\x09\x09uniform\x20float\x20refractionRatio;\x0a\x09#else\x0a\x09\x09varying\x20vec3\x20vReflect;\x0a\x09#endif\x0a#endif','envmap_pars_vertex':'#ifdef\x20USE_ENVMAP\x0a\x09#if\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP\x20)\x20||\x20defined(\x20PHONG\x20)\x20||\x20defined(\x20LAMBERT\x20)\x0a\x09\x09#define\x20ENV_WORLDPOS\x0a\x09#endif\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09\x0a\x09\x09varying\x20vec3\x20vWorldPosition;\x0a\x09#else\x0a\x09\x09varying\x20vec3\x20vReflect;\x0a\x09\x09uniform\x20float\x20refractionRatio;\x0a\x09#endif\x0a#endif','envmap_physical_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09vec3\x20getIBLIrradiance(\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09\x09\x09vec4\x20envMapColor\x20=\x20textureCubeUV(\x20envMap,\x20envMapRotation\x20*\x20worldNormal,\x201.0\x20);\x0a\x09\x09\x09return\x20PI\x20*\x20envMapColor.rgb\x20*\x20envMapIntensity;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09#endif\x0a\x09}\x0a\x09vec3\x20getIBLRadiance(\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20reflect(\x20-\x20viewDir,\x20normal\x20);\x0a\x09\x09\x09reflectVec\x20=\x20normalize(\x20mix(\x20reflectVec,\x20normal,\x20roughness\x20*\x20roughness)\x20);\x0a\x09\x09\x09reflectVec\x20=\x20inverseTransformDirection(\x20reflectVec,\x20viewMatrix\x20);\x0a\x09\x09\x09vec4\x20envMapColor\x20=\x20textureCubeUV(\x20envMap,\x20envMapRotation\x20*\x20reflectVec,\x20roughness\x20);\x0a\x09\x09\x09return\x20envMapColor.rgb\x20*\x20envMapIntensity;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09#endif\x0a\x09}\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09vec3\x20getIBLAnisotropyRadiance(\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20vec3\x20bitangent,\x20const\x20in\x20float\x20anisotropy\x20)\x20{\x0a\x09\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09\x09vec3\x20bentNormal\x20=\x20cross(\x20bitangent,\x20viewDir\x20);\x0a\x09\x09\x09\x09bentNormal\x20=\x20normalize(\x20cross(\x20bentNormal,\x20bitangent\x20)\x20);\x0a\x09\x09\x09\x09bentNormal\x20=\x20normalize(\x20mix(\x20bentNormal,\x20normal,\x20pow2(\x20pow2(\x201.0\x20-\x20anisotropy\x20*\x20(\x201.0\x20-\x20roughness\x20)\x20)\x20)\x20)\x20);\x0a\x09\x09\x09\x09return\x20getIBLRadiance(\x20viewDir,\x20bentNormal,\x20roughness\x20);\x0a\x09\x09\x09#else\x0a\x09\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09\x09#endif\x0a\x09\x09}\x0a\x09#endif\x0a#endif','envmap_vertex':'#ifdef\x20USE_ENVMAP\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a\x09#else\x0a\x09\x09vec3\x20cameraToVertex;\x0a\x09\x09if\x20(\x20isOrthographic\x20)\x20{\x0a\x09\x09\x09cameraToVertex\x20=\x20normalize(\x20vec3(\x20-\x20viewMatrix[\x200\x20][\x202\x20],\x20-\x20viewMatrix[\x201\x20][\x202\x20],\x20-\x20viewMatrix[\x202\x20][\x202\x20]\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09cameraToVertex\x20=\x20normalize(\x20worldPosition.xyz\x20-\x20cameraPosition\x20);\x0a\x09\x09}\x0a\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20transformedNormal,\x20viewMatrix\x20);\x0a\x09\x09#ifdef\x20ENVMAP_MODE_REFLECTION\x0a\x09\x09\x09vReflect\x20=\x20reflect(\x20cameraToVertex,\x20worldNormal\x20);\x0a\x09\x09#else\x0a\x09\x09\x09vReflect\x20=\x20refract(\x20cameraToVertex,\x20worldNormal,\x20refractionRatio\x20);\x0a\x09\x09#endif\x0a\x09#endif\x0a#endif','fog_vertex':'#ifdef\x20USE_FOG\x0a\x09vFogDepth\x20=\x20-\x20mvPosition.z;\x0a#endif','fog_pars_vertex':'#ifdef\x20USE_FOG\x0a\x09varying\x20float\x20vFogDepth;\x0a#endif','fog_fragment':'#ifdef\x20USE_FOG\x0a\x09#ifdef\x20FOG_EXP2\x0a\x09\x09float\x20fogFactor\x20=\x201.0\x20-\x20exp(\x20-\x20fogDensity\x20*\x20fogDensity\x20*\x20vFogDepth\x20*\x20vFogDepth\x20);\x0a\x09#else\x0a\x09\x09float\x20fogFactor\x20=\x20smoothstep(\x20fogNear,\x20fogFar,\x20vFogDepth\x20);\x0a\x09#endif\x0a\x09gl_FragColor.rgb\x20=\x20mix(\x20gl_FragColor.rgb,\x20fogColor,\x20fogFactor\x20);\x0a#endif','fog_pars_fragment':'#ifdef\x20USE_FOG\x0a\x09uniform\x20vec3\x20fogColor;\x0a\x09varying\x20float\x20vFogDepth;\x0a\x09#ifdef\x20FOG_EXP2\x0a\x09\x09uniform\x20float\x20fogDensity;\x0a\x09#else\x0a\x09\x09uniform\x20float\x20fogNear;\x0a\x09\x09uniform\x20float\x20fogFar;\x0a\x09#endif\x0a#endif','gradientmap_pars_fragment':'#ifdef\x20USE_GRADIENTMAP\x0a\x09uniform\x20sampler2D\x20gradientMap;\x0a#endif\x0avec3\x20getGradientIrradiance(\x20vec3\x20normal,\x20vec3\x20lightDirection\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20dot(\x20normal,\x20lightDirection\x20);\x0a\x09vec2\x20coord\x20=\x20vec2(\x20dotNL\x20*\x200.5\x20+\x200.5,\x200.0\x20);\x0a\x09#ifdef\x20USE_GRADIENTMAP\x0a\x09\x09return\x20vec3(\x20texture2D(\x20gradientMap,\x20coord\x20).r\x20);\x0a\x09#else\x0a\x09\x09vec2\x20fw\x20=\x20fwidth(\x20coord\x20)\x20*\x200.5;\x0a\x09\x09return\x20mix(\x20vec3(\x200.7\x20),\x20vec3(\x201.0\x20),\x20smoothstep(\x200.7\x20-\x20fw.x,\x200.7\x20+\x20fw.x,\x20coord.x\x20)\x20);\x0a\x09#endif\x0a}','lightmap_pars_fragment':'#ifdef\x20USE_LIGHTMAP\x0a\x09uniform\x20sampler2D\x20lightMap;\x0a\x09uniform\x20float\x20lightMapIntensity;\x0a#endif','lights_lambert_fragment':'LambertMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;\x0amaterial.specularStrength\x20=\x20specularStrength;','lights_lambert_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20LambertMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09float\x20specularStrength;\x0a};\x0avoid\x20RE_Direct_Lambert(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20LambertMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Lambert(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20LambertMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Lambert\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Lambert','lights_pars_begin':'uniform\x20bool\x20receiveShadow;\x0auniform\x20vec3\x20ambientLightColor;\x0a#if\x20defined(\x20USE_LIGHT_PROBES\x20)\x0a\x09uniform\x20vec3\x20lightProbe[\x209\x20];\x0a#endif\x0avec3\x20shGetIrradianceAt(\x20in\x20vec3\x20normal,\x20in\x20vec3\x20shCoefficients[\x209\x20]\x20)\x20{\x0a\x09float\x20x\x20=\x20normal.x,\x20y\x20=\x20normal.y,\x20z\x20=\x20normal.z;\x0a\x09vec3\x20result\x20=\x20shCoefficients[\x200\x20]\x20*\x200.886227;\x0a\x09result\x20+=\x20shCoefficients[\x201\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20y;\x0a\x09result\x20+=\x20shCoefficients[\x202\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x203\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20x;\x0a\x09result\x20+=\x20shCoefficients[\x204\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20x\x20*\x20y;\x0a\x09result\x20+=\x20shCoefficients[\x205\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20y\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x206\x20]\x20*\x20(\x200.743125\x20*\x20z\x20*\x20z\x20-\x200.247708\x20);\x0a\x09result\x20+=\x20shCoefficients[\x207\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20x\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x208\x20]\x20*\x200.429043\x20*\x20(\x20x\x20*\x20x\x20-\x20y\x20*\x20y\x20);\x0a\x09return\x20result;\x0a}\x0avec3\x20getLightProbeIrradiance(\x20const\x20in\x20vec3\x20lightProbe[\x209\x20],\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09vec3\x20irradiance\x20=\x20shGetIrradianceAt(\x20worldNormal,\x20lightProbe\x20);\x0a\x09return\x20irradiance;\x0a}\x0avec3\x20getAmbientLightIrradiance(\x20const\x20in\x20vec3\x20ambientLightColor\x20)\x20{\x0a\x09vec3\x20irradiance\x20=\x20ambientLightColor;\x0a\x09return\x20irradiance;\x0a}\x0afloat\x20getDistanceAttenuation(\x20const\x20in\x20float\x20lightDistance,\x20const\x20in\x20float\x20cutoffDistance,\x20const\x20in\x20float\x20decayExponent\x20)\x20{\x0a\x09float\x20distanceFalloff\x20=\x201.0\x20/\x20max(\x20pow(\x20lightDistance,\x20decayExponent\x20),\x200.01\x20);\x0a\x09if\x20(\x20cutoffDistance\x20>\x200.0\x20)\x20{\x0a\x09\x09distanceFalloff\x20*=\x20pow2(\x20saturate(\x201.0\x20-\x20pow4(\x20lightDistance\x20/\x20cutoffDistance\x20)\x20)\x20);\x0a\x09}\x0a\x09return\x20distanceFalloff;\x0a}\x0afloat\x20getSpotAttenuation(\x20const\x20in\x20float\x20coneCosine,\x20const\x20in\x20float\x20penumbraCosine,\x20const\x20in\x20float\x20angleCosine\x20)\x20{\x0a\x09return\x20smoothstep(\x20coneCosine,\x20penumbraCosine,\x20angleCosine\x20);\x0a}\x0a#if\x20NUM_DIR_LIGHTS\x20>\x200\x0a\x09struct\x20DirectionalLight\x20{\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20color;\x0a\x09};\x0a\x09uniform\x20DirectionalLight\x20directionalLights[\x20NUM_DIR_LIGHTS\x20];\x0a\x09void\x20getDirectionalLightInfo(\x20const\x20in\x20DirectionalLight\x20directionalLight,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09light.color\x20=\x20directionalLight.color;\x0a\x09\x09light.direction\x20=\x20directionalLight.direction;\x0a\x09\x09light.visible\x20=\x20true;\x0a\x09}\x0a#endif\x0a#if\x20NUM_POINT_LIGHTS\x20>\x200\x0a\x09struct\x20PointLight\x20{\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20color;\x0a\x09\x09float\x20distance;\x0a\x09\x09float\x20decay;\x0a\x09};\x0a\x09uniform\x20PointLight\x20pointLights[\x20NUM_POINT_LIGHTS\x20];\x0a\x09void\x20getPointLightInfo(\x20const\x20in\x20PointLight\x20pointLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09vec3\x20lVector\x20=\x20pointLight.position\x20-\x20geometryPosition;\x0a\x09\x09light.direction\x20=\x20normalize(\x20lVector\x20);\x0a\x09\x09float\x20lightDistance\x20=\x20length(\x20lVector\x20);\x0a\x09\x09light.color\x20=\x20pointLight.color;\x0a\x09\x09light.color\x20*=\x20getDistanceAttenuation(\x20lightDistance,\x20pointLight.distance,\x20pointLight.decay\x20);\x0a\x09\x09light.visible\x20=\x20(\x20light.color\x20!=\x20vec3(\x200.0\x20)\x20);\x0a\x09}\x0a#endif\x0a#if\x20NUM_SPOT_LIGHTS\x20>\x200\x0a\x09struct\x20SpotLight\x20{\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20color;\x0a\x09\x09float\x20distance;\x0a\x09\x09float\x20decay;\x0a\x09\x09float\x20coneCos;\x0a\x09\x09float\x20penumbraCos;\x0a\x09};\x0a\x09uniform\x20SpotLight\x20spotLights[\x20NUM_SPOT_LIGHTS\x20];\x0a\x09void\x20getSpotLightInfo(\x20const\x20in\x20SpotLight\x20spotLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09vec3\x20lVector\x20=\x20spotLight.position\x20-\x20geometryPosition;\x0a\x09\x09light.direction\x20=\x20normalize(\x20lVector\x20);\x0a\x09\x09float\x20angleCos\x20=\x20dot(\x20light.direction,\x20spotLight.direction\x20);\x0a\x09\x09float\x20spotAttenuation\x20=\x20getSpotAttenuation(\x20spotLight.coneCos,\x20spotLight.penumbraCos,\x20angleCos\x20);\x0a\x09\x09if\x20(\x20spotAttenuation\x20>\x200.0\x20)\x20{\x0a\x09\x09\x09float\x20lightDistance\x20=\x20length(\x20lVector\x20);\x0a\x09\x09\x09light.color\x20=\x20spotLight.color\x20*\x20spotAttenuation;\x0a\x09\x09\x09light.color\x20*=\x20getDistanceAttenuation(\x20lightDistance,\x20spotLight.distance,\x20spotLight.decay\x20);\x0a\x09\x09\x09light.visible\x20=\x20(\x20light.color\x20!=\x20vec3(\x200.0\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09light.color\x20=\x20vec3(\x200.0\x20);\x0a\x09\x09\x09light.visible\x20=\x20false;\x0a\x09\x09}\x0a\x09}\x0a#endif\x0a#if\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x0a\x09struct\x20RectAreaLight\x20{\x0a\x09\x09vec3\x20color;\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20halfWidth;\x0a\x09\x09vec3\x20halfHeight;\x0a\x09};\x0a\x09uniform\x20sampler2D\x20ltc_1;\x09uniform\x20sampler2D\x20ltc_2;\x0a\x09uniform\x20RectAreaLight\x20rectAreaLights[\x20NUM_RECT_AREA_LIGHTS\x20];\x0a#endif\x0a#if\x20NUM_HEMI_LIGHTS\x20>\x200\x0a\x09struct\x20HemisphereLight\x20{\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20skyColor;\x0a\x09\x09vec3\x20groundColor;\x0a\x09};\x0a\x09uniform\x20HemisphereLight\x20hemisphereLights[\x20NUM_HEMI_LIGHTS\x20];\x0a\x09vec3\x20getHemisphereLightIrradiance(\x20const\x20in\x20HemisphereLight\x20hemiLight,\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09\x09float\x20dotNL\x20=\x20dot(\x20normal,\x20hemiLight.direction\x20);\x0a\x09\x09float\x20hemiDiffuseWeight\x20=\x200.5\x20*\x20dotNL\x20+\x200.5;\x0a\x09\x09vec3\x20irradiance\x20=\x20mix(\x20hemiLight.groundColor,\x20hemiLight.skyColor,\x20hemiDiffuseWeight\x20);\x0a\x09\x09return\x20irradiance;\x0a\x09}\x0a#endif','lights_toon_fragment':'ToonMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;','lights_toon_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20ToonMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a};\x0avoid\x20RE_Direct_Toon(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20ToonMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09vec3\x20irradiance\x20=\x20getGradientIrradiance(\x20geometryNormal,\x20directLight.direction\x20)\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Toon(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20ToonMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Toon\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Toon','lights_phong_fragment':'BlinnPhongMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;\x0amaterial.specularColor\x20=\x20specular;\x0amaterial.specularShininess\x20=\x20shininess;\x0amaterial.specularStrength\x20=\x20specularStrength;','lights_phong_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20BlinnPhongMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09vec3\x20specularColor;\x0a\x09float\x20specularShininess;\x0a\x09float\x20specularStrength;\x0a};\x0avoid\x20RE_Direct_BlinnPhong(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20BlinnPhongMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a\x09reflectedLight.directSpecular\x20+=\x20irradiance\x20*\x20BRDF_BlinnPhong(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material.specularColor,\x20material.specularShininess\x20)\x20*\x20material.specularStrength;\x0a}\x0avoid\x20RE_IndirectDiffuse_BlinnPhong(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20BlinnPhongMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_BlinnPhong\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_BlinnPhong','lights_physical_fragment':'PhysicalMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb\x20*\x20(\x201.0\x20-\x20metalnessFactor\x20);\x0avec3\x20dxy\x20=\x20max(\x20abs(\x20dFdx(\x20nonPerturbedNormal\x20)\x20),\x20abs(\x20dFdy(\x20nonPerturbedNormal\x20)\x20)\x20);\x0afloat\x20geometryRoughness\x20=\x20max(\x20max(\x20dxy.x,\x20dxy.y\x20),\x20dxy.z\x20);\x0amaterial.roughness\x20=\x20max(\x20roughnessFactor,\x200.0525\x20);material.roughness\x20+=\x20geometryRoughness;\x0amaterial.roughness\x20=\x20min(\x20material.roughness,\x201.0\x20);\x0a#ifdef\x20IOR\x0a\x09material.ior\x20=\x20ior;\x0a\x09#ifdef\x20USE_SPECULAR\x0a\x09\x09float\x20specularIntensityFactor\x20=\x20specularIntensity;\x0a\x09\x09vec3\x20specularColorFactor\x20=\x20specularColor;\x0a\x09\x09#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09\x09\x09specularColorFactor\x20*=\x20texture2D(\x20specularColorMap,\x20vSpecularColorMapUv\x20).rgb;\x0a\x09\x09#endif\x0a\x09\x09#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09\x09\x09specularIntensityFactor\x20*=\x20texture2D(\x20specularIntensityMap,\x20vSpecularIntensityMapUv\x20).a;\x0a\x09\x09#endif\x0a\x09\x09material.specularF90\x20=\x20mix(\x20specularIntensityFactor,\x201.0,\x20metalnessFactor\x20);\x0a\x09#else\x0a\x09\x09float\x20specularIntensityFactor\x20=\x201.0;\x0a\x09\x09vec3\x20specularColorFactor\x20=\x20vec3(\x201.0\x20);\x0a\x09\x09material.specularF90\x20=\x201.0;\x0a\x09#endif\x0a\x09material.specularColor\x20=\x20mix(\x20min(\x20pow2(\x20(\x20material.ior\x20-\x201.0\x20)\x20/\x20(\x20material.ior\x20+\x201.0\x20)\x20)\x20*\x20specularColorFactor,\x20vec3(\x201.0\x20)\x20)\x20*\x20specularIntensityFactor,\x20diffuseColor.rgb,\x20metalnessFactor\x20);\x0a#else\x0a\x09material.specularColor\x20=\x20mix(\x20vec3(\x200.04\x20),\x20diffuseColor.rgb,\x20metalnessFactor\x20);\x0a\x09material.specularF90\x20=\x201.0;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09material.clearcoat\x20=\x20clearcoat;\x0a\x09material.clearcoatRoughness\x20=\x20clearcoatRoughness;\x0a\x09material.clearcoatF0\x20=\x20vec3(\x200.04\x20);\x0a\x09material.clearcoatF90\x20=\x201.0;\x0a\x09#ifdef\x20USE_CLEARCOATMAP\x0a\x09\x09material.clearcoat\x20*=\x20texture2D(\x20clearcoatMap,\x20vClearcoatMapUv\x20).x;\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09\x09material.clearcoatRoughness\x20*=\x20texture2D(\x20clearcoatRoughnessMap,\x20vClearcoatRoughnessMapUv\x20).y;\x0a\x09#endif\x0a\x09material.clearcoat\x20=\x20saturate(\x20material.clearcoat\x20);\x09material.clearcoatRoughness\x20=\x20max(\x20material.clearcoatRoughness,\x200.0525\x20);\x0a\x09material.clearcoatRoughness\x20+=\x20geometryRoughness;\x0a\x09material.clearcoatRoughness\x20=\x20min(\x20material.clearcoatRoughness,\x201.0\x20);\x0a#endif\x0a#ifdef\x20USE_DISPERSION\x0a\x09material.dispersion\x20=\x20dispersion;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09material.iridescence\x20=\x20iridescence;\x0a\x09material.iridescenceIOR\x20=\x20iridescenceIOR;\x0a\x09#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09\x09material.iridescence\x20*=\x20texture2D(\x20iridescenceMap,\x20vIridescenceMapUv\x20).r;\x0a\x09#endif\x0a\x09#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09\x09material.iridescenceThickness\x20=\x20(iridescenceThicknessMaximum\x20-\x20iridescenceThicknessMinimum)\x20*\x20texture2D(\x20iridescenceThicknessMap,\x20vIridescenceThicknessMapUv\x20).g\x20+\x20iridescenceThicknessMinimum;\x0a\x09#else\x0a\x09\x09material.iridescenceThickness\x20=\x20iridescenceThicknessMaximum;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_SHEEN\x0a\x09material.sheenColor\x20=\x20sheenColor;\x0a\x09#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09\x09material.sheenColor\x20*=\x20texture2D(\x20sheenColorMap,\x20vSheenColorMapUv\x20).rgb;\x0a\x09#endif\x0a\x09material.sheenRoughness\x20=\x20clamp(\x20sheenRoughness,\x200.07,\x201.0\x20);\x0a\x09#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09\x09material.sheenRoughness\x20*=\x20texture2D(\x20sheenRoughnessMap,\x20vSheenRoughnessMapUv\x20).a;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09#ifdef\x20USE_ANISOTROPYMAP\x0a\x09\x09mat2\x20anisotropyMat\x20=\x20mat2(\x20anisotropyVector.x,\x20anisotropyVector.y,\x20-\x20anisotropyVector.y,\x20anisotropyVector.x\x20);\x0a\x09\x09vec3\x20anisotropyPolar\x20=\x20texture2D(\x20anisotropyMap,\x20vAnisotropyMapUv\x20).rgb;\x0a\x09\x09vec2\x20anisotropyV\x20=\x20anisotropyMat\x20*\x20normalize(\x202.0\x20*\x20anisotropyPolar.rg\x20-\x20vec2(\x201.0\x20)\x20)\x20*\x20anisotropyPolar.b;\x0a\x09#else\x0a\x09\x09vec2\x20anisotropyV\x20=\x20anisotropyVector;\x0a\x09#endif\x0a\x09material.anisotropy\x20=\x20length(\x20anisotropyV\x20);\x0a\x09if(\x20material.anisotropy\x20==\x200.0\x20)\x20{\x0a\x09\x09anisotropyV\x20=\x20vec2(\x201.0,\x200.0\x20);\x0a\x09}\x20else\x20{\x0a\x09\x09anisotropyV\x20/=\x20material.anisotropy;\x0a\x09\x09material.anisotropy\x20=\x20saturate(\x20material.anisotropy\x20);\x0a\x09}\x0a\x09material.alphaT\x20=\x20mix(\x20pow2(\x20material.roughness\x20),\x201.0,\x20pow2(\x20material.anisotropy\x20)\x20);\x0a\x09material.anisotropyT\x20=\x20tbn[\x200\x20]\x20*\x20anisotropyV.x\x20+\x20tbn[\x201\x20]\x20*\x20anisotropyV.y;\x0a\x09material.anisotropyB\x20=\x20tbn[\x201\x20]\x20*\x20anisotropyV.x\x20-\x20tbn[\x200\x20]\x20*\x20anisotropyV.y;\x0a#endif','lights_physical_pars_fragment':'struct\x20PhysicalMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09float\x20roughness;\x0a\x09vec3\x20specularColor;\x0a\x09float\x20specularF90;\x0a\x09float\x20dispersion;\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20clearcoat;\x0a\x09\x09float\x20clearcoatRoughness;\x0a\x09\x09vec3\x20clearcoatF0;\x0a\x09\x09float\x20clearcoatF90;\x0a\x09#endif\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09float\x20iridescence;\x0a\x09\x09float\x20iridescenceIOR;\x0a\x09\x09float\x20iridescenceThickness;\x0a\x09\x09vec3\x20iridescenceFresnel;\x0a\x09\x09vec3\x20iridescenceF0;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09vec3\x20sheenColor;\x0a\x09\x09float\x20sheenRoughness;\x0a\x09#endif\x0a\x09#ifdef\x20IOR\x0a\x09\x09float\x20ior;\x0a\x09#endif\x0a\x09#ifdef\x20USE_TRANSMISSION\x0a\x09\x09float\x20transmission;\x0a\x09\x09float\x20transmissionAlpha;\x0a\x09\x09float\x20thickness;\x0a\x09\x09float\x20attenuationDistance;\x0a\x09\x09vec3\x20attenuationColor;\x0a\x09#endif\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09float\x20anisotropy;\x0a\x09\x09float\x20alphaT;\x0a\x09\x09vec3\x20anisotropyT;\x0a\x09\x09vec3\x20anisotropyB;\x0a\x09#endif\x0a};\x0avec3\x20clearcoatSpecularDirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20clearcoatSpecularIndirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20sheenSpecularDirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20sheenSpecularIndirect\x20=\x20vec3(0.0\x20);\x0avec3\x20Schlick_to_F0(\x20const\x20in\x20vec3\x20f,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x20\x20\x20\x20float\x20x\x20=\x20clamp(\x201.0\x20-\x20dotVH,\x200.0,\x201.0\x20);\x0a\x20\x20\x20\x20float\x20x2\x20=\x20x\x20*\x20x;\x0a\x20\x20\x20\x20float\x20x5\x20=\x20clamp(\x20x\x20*\x20x2\x20*\x20x2,\x200.0,\x200.9999\x20);\x0a\x20\x20\x20\x20return\x20(\x20f\x20-\x20vec3(\x20f90\x20)\x20*\x20x5\x20)\x20/\x20(\x201.0\x20-\x20x5\x20);\x0a}\x0afloat\x20V_GGX_SmithCorrelated(\x20const\x20in\x20float\x20alpha,\x20const\x20in\x20float\x20dotNL,\x20const\x20in\x20float\x20dotNV\x20)\x20{\x0a\x09float\x20a2\x20=\x20pow2(\x20alpha\x20);\x0a\x09float\x20gv\x20=\x20dotNL\x20*\x20sqrt(\x20a2\x20+\x20(\x201.0\x20-\x20a2\x20)\x20*\x20pow2(\x20dotNV\x20)\x20);\x0a\x09float\x20gl\x20=\x20dotNV\x20*\x20sqrt(\x20a2\x20+\x20(\x201.0\x20-\x20a2\x20)\x20*\x20pow2(\x20dotNL\x20)\x20);\x0a\x09return\x200.5\x20/\x20max(\x20gv\x20+\x20gl,\x20EPSILON\x20);\x0a}\x0afloat\x20D_GGX(\x20const\x20in\x20float\x20alpha,\x20const\x20in\x20float\x20dotNH\x20)\x20{\x0a\x09float\x20a2\x20=\x20pow2(\x20alpha\x20);\x0a\x09float\x20denom\x20=\x20pow2(\x20dotNH\x20)\x20*\x20(\x20a2\x20-\x201.0\x20)\x20+\x201.0;\x0a\x09return\x20RECIPROCAL_PI\x20*\x20a2\x20/\x20pow2(\x20denom\x20);\x0a}\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09float\x20V_GGX_SmithCorrelated_Anisotropic(\x20const\x20in\x20float\x20alphaT,\x20const\x20in\x20float\x20alphaB,\x20const\x20in\x20float\x20dotTV,\x20const\x20in\x20float\x20dotBV,\x20const\x20in\x20float\x20dotTL,\x20const\x20in\x20float\x20dotBL,\x20const\x20in\x20float\x20dotNV,\x20const\x20in\x20float\x20dotNL\x20)\x20{\x0a\x09\x09float\x20gv\x20=\x20dotNL\x20*\x20length(\x20vec3(\x20alphaT\x20*\x20dotTV,\x20alphaB\x20*\x20dotBV,\x20dotNV\x20)\x20);\x0a\x09\x09float\x20gl\x20=\x20dotNV\x20*\x20length(\x20vec3(\x20alphaT\x20*\x20dotTL,\x20alphaB\x20*\x20dotBL,\x20dotNL\x20)\x20);\x0a\x09\x09float\x20v\x20=\x200.5\x20/\x20(\x20gv\x20+\x20gl\x20);\x0a\x09\x09return\x20saturate(v);\x0a\x09}\x0a\x09float\x20D_GGX_Anisotropic(\x20const\x20in\x20float\x20alphaT,\x20const\x20in\x20float\x20alphaB,\x20const\x20in\x20float\x20dotNH,\x20const\x20in\x20float\x20dotTH,\x20const\x20in\x20float\x20dotBH\x20)\x20{\x0a\x09\x09float\x20a2\x20=\x20alphaT\x20*\x20alphaB;\x0a\x09\x09highp\x20vec3\x20v\x20=\x20vec3(\x20alphaB\x20*\x20dotTH,\x20alphaT\x20*\x20dotBH,\x20a2\x20*\x20dotNH\x20);\x0a\x09\x09highp\x20float\x20v2\x20=\x20dot(\x20v,\x20v\x20);\x0a\x09\x09float\x20w2\x20=\x20a2\x20/\x20v2;\x0a\x09\x09return\x20RECIPROCAL_PI\x20*\x20a2\x20*\x20pow2\x20(\x20w2\x20);\x0a\x09}\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09vec3\x20BRDF_GGX_Clearcoat(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20PhysicalMaterial\x20material)\x20{\x0a\x09\x09vec3\x20f0\x20=\x20material.clearcoatF0;\x0a\x09\x09float\x20f90\x20=\x20material.clearcoatF90;\x0a\x09\x09float\x20roughness\x20=\x20material.clearcoatRoughness;\x0a\x09\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09\x09vec3\x20F\x20=\x20F_Schlick(\x20f0,\x20f90,\x20dotVH\x20);\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated(\x20alpha,\x20dotNL,\x20dotNV\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX(\x20alpha,\x20dotNH\x20);\x0a\x09\x09return\x20F\x20*\x20(\x20V\x20*\x20D\x20);\x0a\x09}\x0a#endif\x0avec3\x20BRDF_GGX(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20PhysicalMaterial\x20material\x20)\x20{\x0a\x09vec3\x20f0\x20=\x20material.specularColor;\x0a\x09float\x20f90\x20=\x20material.specularF90;\x0a\x09float\x20roughness\x20=\x20material.roughness;\x0a\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09vec3\x20F\x20=\x20F_Schlick(\x20f0,\x20f90,\x20dotVH\x20);\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09F\x20=\x20mix(\x20F,\x20material.iridescenceFresnel,\x20material.iridescence\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09float\x20dotTL\x20=\x20dot(\x20material.anisotropyT,\x20lightDir\x20);\x0a\x09\x09float\x20dotTV\x20=\x20dot(\x20material.anisotropyT,\x20viewDir\x20);\x0a\x09\x09float\x20dotTH\x20=\x20dot(\x20material.anisotropyT,\x20halfDir\x20);\x0a\x09\x09float\x20dotBL\x20=\x20dot(\x20material.anisotropyB,\x20lightDir\x20);\x0a\x09\x09float\x20dotBV\x20=\x20dot(\x20material.anisotropyB,\x20viewDir\x20);\x0a\x09\x09float\x20dotBH\x20=\x20dot(\x20material.anisotropyB,\x20halfDir\x20);\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated_Anisotropic(\x20material.alphaT,\x20alpha,\x20dotTV,\x20dotBV,\x20dotTL,\x20dotBL,\x20dotNV,\x20dotNL\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX_Anisotropic(\x20material.alphaT,\x20alpha,\x20dotNH,\x20dotTH,\x20dotBH\x20);\x0a\x09#else\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated(\x20alpha,\x20dotNL,\x20dotNV\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX(\x20alpha,\x20dotNH\x20);\x0a\x09#endif\x0a\x09return\x20F\x20*\x20(\x20V\x20*\x20D\x20);\x0a}\x0avec2\x20LTC_Uv(\x20const\x20in\x20vec3\x20N,\x20const\x20in\x20vec3\x20V,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09const\x20float\x20LUT_SIZE\x20=\x2064.0;\x0a\x09const\x20float\x20LUT_SCALE\x20=\x20(\x20LUT_SIZE\x20-\x201.0\x20)\x20/\x20LUT_SIZE;\x0a\x09const\x20float\x20LUT_BIAS\x20=\x200.5\x20/\x20LUT_SIZE;\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20N,\x20V\x20)\x20);\x0a\x09vec2\x20uv\x20=\x20vec2(\x20roughness,\x20sqrt(\x201.0\x20-\x20dotNV\x20)\x20);\x0a\x09uv\x20=\x20uv\x20*\x20LUT_SCALE\x20+\x20LUT_BIAS;\x0a\x09return\x20uv;\x0a}\x0afloat\x20LTC_ClippedSphereFormFactor(\x20const\x20in\x20vec3\x20f\x20)\x20{\x0a\x09float\x20l\x20=\x20length(\x20f\x20);\x0a\x09return\x20max(\x20(\x20l\x20*\x20l\x20+\x20f.z\x20)\x20/\x20(\x20l\x20+\x201.0\x20),\x200.0\x20);\x0a}\x0avec3\x20LTC_EdgeVectorFormFactor(\x20const\x20in\x20vec3\x20v1,\x20const\x20in\x20vec3\x20v2\x20)\x20{\x0a\x09float\x20x\x20=\x20dot(\x20v1,\x20v2\x20);\x0a\x09float\x20y\x20=\x20abs(\x20x\x20);\x0a\x09float\x20a\x20=\x200.8543985\x20+\x20(\x200.4965155\x20+\x200.0145206\x20*\x20y\x20)\x20*\x20y;\x0a\x09float\x20b\x20=\x203.4175940\x20+\x20(\x204.1616724\x20+\x20y\x20)\x20*\x20y;\x0a\x09float\x20v\x20=\x20a\x20/\x20b;\x0a\x09float\x20theta_sintheta\x20=\x20(\x20x\x20>\x200.0\x20)\x20?\x20v\x20:\x200.5\x20*\x20inversesqrt(\x20max(\x201.0\x20-\x20x\x20*\x20x,\x201e-7\x20)\x20)\x20-\x20v;\x0a\x09return\x20cross(\x20v1,\x20v2\x20)\x20*\x20theta_sintheta;\x0a}\x0avec3\x20LTC_Evaluate(\x20const\x20in\x20vec3\x20N,\x20const\x20in\x20vec3\x20V,\x20const\x20in\x20vec3\x20P,\x20const\x20in\x20mat3\x20mInv,\x20const\x20in\x20vec3\x20rectCoords[\x204\x20]\x20)\x20{\x0a\x09vec3\x20v1\x20=\x20rectCoords[\x201\x20]\x20-\x20rectCoords[\x200\x20];\x0a\x09vec3\x20v2\x20=\x20rectCoords[\x203\x20]\x20-\x20rectCoords[\x200\x20];\x0a\x09vec3\x20lightNormal\x20=\x20cross(\x20v1,\x20v2\x20);\x0a\x09if(\x20dot(\x20lightNormal,\x20P\x20-\x20rectCoords[\x200\x20]\x20)\x20<\x200.0\x20)\x20return\x20vec3(\x200.0\x20);\x0a\x09vec3\x20T1,\x20T2;\x0a\x09T1\x20=\x20normalize(\x20V\x20-\x20N\x20*\x20dot(\x20V,\x20N\x20)\x20);\x0a\x09T2\x20=\x20-\x20cross(\x20N,\x20T1\x20);\x0a\x09mat3\x20mat\x20=\x20mInv\x20*\x20transposeMat3(\x20mat3(\x20T1,\x20T2,\x20N\x20)\x20);\x0a\x09vec3\x20coords[\x204\x20];\x0a\x09coords[\x200\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x200\x20]\x20-\x20P\x20);\x0a\x09coords[\x201\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x201\x20]\x20-\x20P\x20);\x0a\x09coords[\x202\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x202\x20]\x20-\x20P\x20);\x0a\x09coords[\x203\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x203\x20]\x20-\x20P\x20);\x0a\x09coords[\x200\x20]\x20=\x20normalize(\x20coords[\x200\x20]\x20);\x0a\x09coords[\x201\x20]\x20=\x20normalize(\x20coords[\x201\x20]\x20);\x0a\x09coords[\x202\x20]\x20=\x20normalize(\x20coords[\x202\x20]\x20);\x0a\x09coords[\x203\x20]\x20=\x20normalize(\x20coords[\x203\x20]\x20);\x0a\x09vec3\x20vectorFormFactor\x20=\x20vec3(\x200.0\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x200\x20],\x20coords[\x201\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x201\x20],\x20coords[\x202\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x202\x20],\x20coords[\x203\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x203\x20],\x20coords[\x200\x20]\x20);\x0a\x09float\x20result\x20=\x20LTC_ClippedSphereFormFactor(\x20vectorFormFactor\x20);\x0a\x09return\x20vec3(\x20result\x20);\x0a}\x0a#if\x20defined(\x20USE_SHEEN\x20)\x0afloat\x20D_Charlie(\x20float\x20roughness,\x20float\x20dotNH\x20)\x20{\x0a\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09float\x20invAlpha\x20=\x201.0\x20/\x20alpha;\x0a\x09float\x20cos2h\x20=\x20dotNH\x20*\x20dotNH;\x0a\x09float\x20sin2h\x20=\x20max(\x201.0\x20-\x20cos2h,\x200.0078125\x20);\x0a\x09return\x20(\x202.0\x20+\x20invAlpha\x20)\x20*\x20pow(\x20sin2h,\x20invAlpha\x20*\x200.5\x20)\x20/\x20(\x202.0\x20*\x20PI\x20);\x0a}\x0afloat\x20V_Neubelt(\x20float\x20dotNV,\x20float\x20dotNL\x20)\x20{\x0a\x09return\x20saturate(\x201.0\x20/\x20(\x204.0\x20*\x20(\x20dotNL\x20+\x20dotNV\x20-\x20dotNL\x20*\x20dotNV\x20)\x20)\x20);\x0a}\x0avec3\x20BRDF_Sheen(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20vec3\x20sheenColor,\x20const\x20in\x20float\x20sheenRoughness\x20)\x20{\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20D\x20=\x20D_Charlie(\x20sheenRoughness,\x20dotNH\x20);\x0a\x09float\x20V\x20=\x20V_Neubelt(\x20dotNV,\x20dotNL\x20);\x0a\x09return\x20sheenColor\x20*\x20(\x20D\x20*\x20V\x20);\x0a}\x0a#endif\x0afloat\x20IBLSheenBRDF(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20r2\x20=\x20roughness\x20*\x20roughness;\x0a\x09float\x20a\x20=\x20roughness\x20<\x200.25\x20?\x20-339.2\x20*\x20r2\x20+\x20161.4\x20*\x20roughness\x20-\x2025.9\x20:\x20-8.48\x20*\x20r2\x20+\x2014.3\x20*\x20roughness\x20-\x209.95;\x0a\x09float\x20b\x20=\x20roughness\x20<\x200.25\x20?\x2044.0\x20*\x20r2\x20-\x2023.7\x20*\x20roughness\x20+\x203.26\x20:\x201.97\x20*\x20r2\x20-\x203.27\x20*\x20roughness\x20+\x200.72;\x0a\x09float\x20DG\x20=\x20exp(\x20a\x20*\x20dotNV\x20+\x20b\x20)\x20+\x20(\x20roughness\x20<\x200.25\x20?\x200.0\x20:\x200.1\x20*\x20(\x20roughness\x20-\x200.25\x20)\x20);\x0a\x09return\x20saturate(\x20DG\x20*\x20RECIPROCAL_PI\x20);\x0a}\x0avec2\x20DFGApprox(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09const\x20vec4\x20c0\x20=\x20vec4(\x20-\x201,\x20-\x200.0275,\x20-\x200.572,\x200.022\x20);\x0a\x09const\x20vec4\x20c1\x20=\x20vec4(\x201,\x200.0425,\x201.04,\x20-\x200.04\x20);\x0a\x09vec4\x20r\x20=\x20roughness\x20*\x20c0\x20+\x20c1;\x0a\x09float\x20a004\x20=\x20min(\x20r.x\x20*\x20r.x,\x20exp2(\x20-\x209.28\x20*\x20dotNV\x20)\x20)\x20*\x20r.x\x20+\x20r.y;\x0a\x09vec2\x20fab\x20=\x20vec2(\x20-\x201.04,\x201.04\x20)\x20*\x20a004\x20+\x20r.zw;\x0a\x09return\x20fab;\x0a}\x0avec3\x20EnvironmentBRDF(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09vec2\x20fab\x20=\x20DFGApprox(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09return\x20specularColor\x20*\x20fab.x\x20+\x20specularF90\x20*\x20fab.y;\x0a}\x0a#ifdef\x20USE_IRIDESCENCE\x0avoid\x20computeMultiscatteringIridescence(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20iridescence,\x20const\x20in\x20vec3\x20iridescenceF0,\x20const\x20in\x20float\x20roughness,\x20inout\x20vec3\x20singleScatter,\x20inout\x20vec3\x20multiScatter\x20)\x20{\x0a#else\x0avoid\x20computeMultiscattering(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20roughness,\x20inout\x20vec3\x20singleScatter,\x20inout\x20vec3\x20multiScatter\x20)\x20{\x0a#endif\x0a\x09vec2\x20fab\x20=\x20DFGApprox(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09vec3\x20Fr\x20=\x20mix(\x20specularColor,\x20iridescenceF0,\x20iridescence\x20);\x0a\x09#else\x0a\x09\x09vec3\x20Fr\x20=\x20specularColor;\x0a\x09#endif\x0a\x09vec3\x20FssEss\x20=\x20Fr\x20*\x20fab.x\x20+\x20specularF90\x20*\x20fab.y;\x0a\x09float\x20Ess\x20=\x20fab.x\x20+\x20fab.y;\x0a\x09float\x20Ems\x20=\x201.0\x20-\x20Ess;\x0a\x09vec3\x20Favg\x20=\x20Fr\x20+\x20(\x201.0\x20-\x20Fr\x20)\x20*\x200.047619;\x09vec3\x20Fms\x20=\x20FssEss\x20*\x20Favg\x20/\x20(\x201.0\x20-\x20Ems\x20*\x20Favg\x20);\x0a\x09singleScatter\x20+=\x20FssEss;\x0a\x09multiScatter\x20+=\x20Fms\x20*\x20Ems;\x0a}\x0a#if\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x0a\x09void\x20RE_Direct_RectArea_Physical(\x20const\x20in\x20RectAreaLight\x20rectAreaLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09\x09vec3\x20normal\x20=\x20geometryNormal;\x0a\x09\x09vec3\x20viewDir\x20=\x20geometryViewDir;\x0a\x09\x09vec3\x20position\x20=\x20geometryPosition;\x0a\x09\x09vec3\x20lightPos\x20=\x20rectAreaLight.position;\x0a\x09\x09vec3\x20halfWidth\x20=\x20rectAreaLight.halfWidth;\x0a\x09\x09vec3\x20halfHeight\x20=\x20rectAreaLight.halfHeight;\x0a\x09\x09vec3\x20lightColor\x20=\x20rectAreaLight.color;\x0a\x09\x09float\x20roughness\x20=\x20material.roughness;\x0a\x09\x09vec3\x20rectCoords[\x204\x20];\x0a\x09\x09rectCoords[\x200\x20]\x20=\x20lightPos\x20+\x20halfWidth\x20-\x20halfHeight;\x09\x09rectCoords[\x201\x20]\x20=\x20lightPos\x20-\x20halfWidth\x20-\x20halfHeight;\x0a\x09\x09rectCoords[\x202\x20]\x20=\x20lightPos\x20-\x20halfWidth\x20+\x20halfHeight;\x0a\x09\x09rectCoords[\x203\x20]\x20=\x20lightPos\x20+\x20halfWidth\x20+\x20halfHeight;\x0a\x09\x09vec2\x20uv\x20=\x20LTC_Uv(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09\x09vec4\x20t1\x20=\x20texture2D(\x20ltc_1,\x20uv\x20);\x0a\x09\x09vec4\x20t2\x20=\x20texture2D(\x20ltc_2,\x20uv\x20);\x0a\x09\x09mat3\x20mInv\x20=\x20mat3(\x0a\x09\x09\x09vec3(\x20t1.x,\x200,\x20t1.y\x20),\x0a\x09\x09\x09vec3(\x20\x20\x20\x200,\x201,\x20\x20\x20\x200\x20),\x0a\x09\x09\x09vec3(\x20t1.z,\x200,\x20t1.w\x20)\x0a\x09\x09);\x0a\x09\x09vec3\x20fresnel\x20=\x20(\x20material.specularColor\x20*\x20t2.x\x20+\x20(\x20vec3(\x201.0\x20)\x20-\x20material.specularColor\x20)\x20*\x20t2.y\x20);\x0a\x09\x09reflectedLight.directSpecular\x20+=\x20lightColor\x20*\x20fresnel\x20*\x20LTC_Evaluate(\x20normal,\x20viewDir,\x20position,\x20mInv,\x20rectCoords\x20);\x0a\x09\x09reflectedLight.directDiffuse\x20+=\x20lightColor\x20*\x20material.diffuseColor\x20*\x20LTC_Evaluate(\x20normal,\x20viewDir,\x20position,\x20mat3(\x201.0\x20),\x20rectCoords\x20);\x0a\x09}\x0a#endif\x0avoid\x20RE_Direct_Physical(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20dotNLcc\x20=\x20saturate(\x20dot(\x20geometryClearcoatNormal,\x20directLight.direction\x20)\x20);\x0a\x09\x09vec3\x20ccIrradiance\x20=\x20dotNLcc\x20*\x20directLight.color;\x0a\x09\x09clearcoatSpecularDirect\x20+=\x20ccIrradiance\x20*\x20BRDF_GGX_Clearcoat(\x20directLight.direction,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09sheenSpecularDirect\x20+=\x20irradiance\x20*\x20BRDF_Sheen(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material.sheenColor,\x20material.sheenRoughness\x20);\x0a\x09#endif\x0a\x09reflectedLight.directSpecular\x20+=\x20irradiance\x20*\x20BRDF_GGX(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material\x20);\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Physical(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectSpecular_Physical(\x20const\x20in\x20vec3\x20radiance,\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20clearcoatRadiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight)\x20{\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09clearcoatSpecularIndirect\x20+=\x20clearcoatRadiance\x20*\x20EnvironmentBRDF(\x20geometryClearcoatNormal,\x20geometryViewDir,\x20material.clearcoatF0,\x20material.clearcoatF90,\x20material.clearcoatRoughness\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09sheenSpecularIndirect\x20+=\x20irradiance\x20*\x20material.sheenColor\x20*\x20IBLSheenBRDF(\x20geometryNormal,\x20geometryViewDir,\x20material.sheenRoughness\x20);\x0a\x09#endif\x0a\x09vec3\x20singleScattering\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20multiScattering\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20cosineWeightedIrradiance\x20=\x20irradiance\x20*\x20RECIPROCAL_PI;\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09computeMultiscatteringIridescence(\x20geometryNormal,\x20geometryViewDir,\x20material.specularColor,\x20material.specularF90,\x20material.iridescence,\x20material.iridescenceFresnel,\x20material.roughness,\x20singleScattering,\x20multiScattering\x20);\x0a\x09#else\x0a\x09\x09computeMultiscattering(\x20geometryNormal,\x20geometryViewDir,\x20material.specularColor,\x20material.specularF90,\x20material.roughness,\x20singleScattering,\x20multiScattering\x20);\x0a\x09#endif\x0a\x09vec3\x20totalScattering\x20=\x20singleScattering\x20+\x20multiScattering;\x0a\x09vec3\x20diffuse\x20=\x20material.diffuseColor\x20*\x20(\x201.0\x20-\x20max(\x20max(\x20totalScattering.r,\x20totalScattering.g\x20),\x20totalScattering.b\x20)\x20);\x0a\x09reflectedLight.indirectSpecular\x20+=\x20radiance\x20*\x20singleScattering;\x0a\x09reflectedLight.indirectSpecular\x20+=\x20multiScattering\x20*\x20cosineWeightedIrradiance;\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20diffuse\x20*\x20cosineWeightedIrradiance;\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Physical\x0a#define\x20RE_Direct_RectArea\x09\x09RE_Direct_RectArea_Physical\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Physical\x0a#define\x20RE_IndirectSpecular\x09\x09RE_IndirectSpecular_Physical\x0afloat\x20computeSpecularOcclusion(\x20const\x20in\x20float\x20dotNV,\x20const\x20in\x20float\x20ambientOcclusion,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09return\x20saturate(\x20pow(\x20dotNV\x20+\x20ambientOcclusion,\x20exp2(\x20-\x2016.0\x20*\x20roughness\x20-\x201.0\x20)\x20)\x20-\x201.0\x20+\x20ambientOcclusion\x20);\x0a}','lights_fragment_begin':'\x0avec3\x20geometryPosition\x20=\x20-\x20vViewPosition;\x0avec3\x20geometryNormal\x20=\x20normal;\x0avec3\x20geometryViewDir\x20=\x20(\x20isOrthographic\x20)\x20?\x20vec3(\x200,\x200,\x201\x20)\x20:\x20normalize(\x20vViewPosition\x20);\x0avec3\x20geometryClearcoatNormal\x20=\x20vec3(\x200.0\x20);\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09geometryClearcoatNormal\x20=\x20clearcoatNormal;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09float\x20dotNVi\x20=\x20saturate(\x20dot(\x20normal,\x20geometryViewDir\x20)\x20);\x0a\x09if\x20(\x20material.iridescenceThickness\x20==\x200.0\x20)\x20{\x0a\x09\x09material.iridescence\x20=\x200.0;\x0a\x09}\x20else\x20{\x0a\x09\x09material.iridescence\x20=\x20saturate(\x20material.iridescence\x20);\x0a\x09}\x0a\x09if\x20(\x20material.iridescence\x20>\x200.0\x20)\x20{\x0a\x09\x09material.iridescenceFresnel\x20=\x20evalIridescence(\x201.0,\x20material.iridescenceIOR,\x20dotNVi,\x20material.iridescenceThickness,\x20material.specularColor\x20);\x0a\x09\x09material.iridescenceF0\x20=\x20Schlick_to_F0(\x20material.iridescenceFresnel,\x201.0,\x20dotNVi\x20);\x0a\x09}\x0a#endif\x0aIncidentLight\x20directLight;\x0a#if\x20(\x20NUM_POINT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09PointLight\x20pointLight;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09PointLightShadow\x20pointLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09pointLight\x20=\x20pointLights[\x20i\x20];\x0a\x09\x09getPointLightInfo(\x20pointLight,\x20geometryPosition,\x20directLight\x20);\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_POINT_LIGHT_SHADOWS\x20)\x0a\x09\x09pointLightShadow\x20=\x20pointLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLightShadow.shadowMapSize,\x20pointLightShadow.shadowIntensity,\x20pointLightShadow.shadowBias,\x20pointLightShadow.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLightShadow.shadowCameraNear,\x20pointLightShadow.shadowCameraFar\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_SPOT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09SpotLight\x20spotLight;\x0a\x09vec4\x20spotColor;\x0a\x09vec3\x20spotLightCoord;\x0a\x09bool\x20inSpotLightMap;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09SpotLightShadow\x20spotLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09spotLight\x20=\x20spotLights[\x20i\x20];\x0a\x09\x09getSpotLightInfo(\x20spotLight,\x20geometryPosition,\x20directLight\x20);\x0a\x09\x09#if\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS\x20)\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20UNROLLED_LOOP_INDEX\x0a\x09\x09#elif\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20NUM_SPOT_LIGHT_MAPS\x0a\x09\x09#else\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20(\x20UNROLLED_LOOP_INDEX\x20-\x20NUM_SPOT_LIGHT_SHADOWS\x20+\x20NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS\x20)\x0a\x09\x09#endif\x0a\x09\x09#if\x20(\x20SPOT_LIGHT_MAP_INDEX\x20<\x20NUM_SPOT_LIGHT_MAPS\x20)\x0a\x09\x09\x09spotLightCoord\x20=\x20vSpotLightCoord[\x20i\x20].xyz\x20/\x20vSpotLightCoord[\x20i\x20].w;\x0a\x09\x09\x09inSpotLightMap\x20=\x20all(\x20lessThan(\x20abs(\x20spotLightCoord\x20*\x202.\x20-\x201.\x20),\x20vec3(\x201.0\x20)\x20)\x20);\x0a\x09\x09\x09spotColor\x20=\x20texture2D(\x20spotLightMap[\x20SPOT_LIGHT_MAP_INDEX\x20],\x20spotLightCoord.xy\x20);\x0a\x09\x09\x09directLight.color\x20=\x20inSpotLightMap\x20?\x20directLight.color\x20*\x20spotColor.rgb\x20:\x20directLight.color;\x0a\x09\x09#endif\x0a\x09\x09#undef\x20SPOT_LIGHT_MAP_INDEX\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09spotLightShadow\x20=\x20spotLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLightShadow.shadowMapSize,\x20spotLightShadow.shadowIntensity,\x20spotLightShadow.shadowBias,\x20spotLightShadow.shadowRadius,\x20vSpotLightCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_DIR_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09DirectionalLight\x20directionalLight;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09DirectionalLightShadow\x20directionalLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09directionalLight\x20=\x20directionalLights[\x20i\x20];\x0a\x09\x09getDirectionalLightInfo(\x20directionalLight,\x20directLight\x20);\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_DIR_LIGHT_SHADOWS\x20)\x0a\x09\x09directionalLightShadow\x20=\x20directionalLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLightShadow.shadowMapSize,\x20directionalLightShadow.shadowIntensity,\x20directionalLightShadow.shadowBias,\x20directionalLightShadow.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct_RectArea\x20)\x0a\x09RectAreaLight\x20rectAreaLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_RECT_AREA_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09rectAreaLight\x20=\x20rectAreaLights[\x20i\x20];\x0a\x09\x09RE_Direct_RectArea(\x20rectAreaLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09vec3\x20iblIrradiance\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20irradiance\x20=\x20getAmbientLightIrradiance(\x20ambientLightColor\x20);\x0a\x09#if\x20defined(\x20USE_LIGHT_PROBES\x20)\x0a\x09\x09irradiance\x20+=\x20getLightProbeIrradiance(\x20lightProbe,\x20geometryNormal\x20);\x0a\x09#endif\x0a\x09#if\x20(\x20NUM_HEMI_LIGHTS\x20>\x200\x20)\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_HEMI_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09irradiance\x20+=\x20getHemisphereLightIrradiance(\x20hemisphereLights[\x20i\x20],\x20geometryNormal\x20);\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09vec3\x20radiance\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20clearcoatRadiance\x20=\x20vec3(\x200.0\x20);\x0a#endif','lights_fragment_maps':'#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09#ifdef\x20USE_LIGHTMAP\x0a\x09\x09vec4\x20lightMapTexel\x20=\x20texture2D(\x20lightMap,\x20vLightMapUv\x20);\x0a\x09\x09vec3\x20lightMapIrradiance\x20=\x20lightMapTexel.rgb\x20*\x20lightMapIntensity;\x0a\x09\x09irradiance\x20+=\x20lightMapIrradiance;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20STANDARD\x20)\x20&&\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09\x09iblIrradiance\x20+=\x20getIBLIrradiance(\x20geometryNormal\x20);\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09radiance\x20+=\x20getIBLAnisotropyRadiance(\x20geometryViewDir,\x20geometryNormal,\x20material.roughness,\x20material.anisotropyB,\x20material.anisotropy\x20);\x0a\x09#else\x0a\x09\x09radiance\x20+=\x20getIBLRadiance(\x20geometryViewDir,\x20geometryNormal,\x20material.roughness\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09clearcoatRadiance\x20+=\x20getIBLRadiance(\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material.clearcoatRoughness\x20);\x0a\x09#endif\x0a#endif','lights_fragment_end':'#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09RE_IndirectDiffuse(\x20irradiance,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a#endif\x0a#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09RE_IndirectSpecular(\x20radiance,\x20iblIrradiance,\x20clearcoatRadiance,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a#endif','logdepthbuf_fragment':'#if\x20defined(\x20USE_LOGDEPTHBUF\x20)\x0a\x09gl_FragDepth\x20=\x20vIsPerspective\x20==\x200.0\x20?\x20gl_FragCoord.z\x20:\x20log2(\x20vFragDepth\x20)\x20*\x20logDepthBufFC\x20*\x200.5;\x0a#endif','logdepthbuf_pars_fragment':'#if\x20defined(\x20USE_LOGDEPTHBUF\x20)\x0a\x09uniform\x20float\x20logDepthBufFC;\x0a\x09varying\x20float\x20vFragDepth;\x0a\x09varying\x20float\x20vIsPerspective;\x0a#endif','logdepthbuf_pars_vertex':'#ifdef\x20USE_LOGDEPTHBUF\x0a\x09varying\x20float\x20vFragDepth;\x0a\x09varying\x20float\x20vIsPerspective;\x0a#endif','logdepthbuf_vertex':'#ifdef\x20USE_LOGDEPTHBUF\x0a\x09vFragDepth\x20=\x201.0\x20+\x20gl_Position.w;\x0a\x09vIsPerspective\x20=\x20float(\x20isPerspectiveMatrix(\x20projectionMatrix\x20)\x20);\x0a#endif','map_fragment':'#ifdef\x20USE_MAP\x0a\x09vec4\x20sampledDiffuseColor\x20=\x20texture2D(\x20map,\x20vMapUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE\x0a\x09\x09sampledDiffuseColor\x20=\x20sRGBTransferEOTF(\x20sampledDiffuseColor\x20);\x0a\x09#endif\x0a\x09diffuseColor\x20*=\x20sampledDiffuseColor;\x0a#endif','map_pars_fragment':'#ifdef\x20USE_MAP\x0a\x09uniform\x20sampler2D\x20map;\x0a#endif','map_particle_fragment':'#if\x20defined(\x20USE_MAP\x20)\x20||\x20defined(\x20USE_ALPHAMAP\x20)\x0a\x09#if\x20defined(\x20USE_POINTS_UV\x20)\x0a\x09\x09vec2\x20uv\x20=\x20vUv;\x0a\x09#else\x0a\x09\x09vec2\x20uv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20gl_PointCoord.x,\x201.0\x20-\x20gl_PointCoord.y,\x201\x20)\x20).xy;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09diffuseColor\x20*=\x20texture2D(\x20map,\x20uv\x20);\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09diffuseColor.a\x20*=\x20texture2D(\x20alphaMap,\x20uv\x20).g;\x0a#endif','map_particle_pars_fragment':'#if\x20defined(\x20USE_POINTS_UV\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#else\x0a\x09#if\x20defined(\x20USE_MAP\x20)\x20||\x20defined(\x20USE_ALPHAMAP\x20)\x0a\x09\x09uniform\x20mat3\x20uvTransform;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09uniform\x20sampler2D\x20map;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20sampler2D\x20alphaMap;\x0a#endif','metalnessmap_fragment':'float\x20metalnessFactor\x20=\x20metalness;\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09vec4\x20texelMetalness\x20=\x20texture2D(\x20metalnessMap,\x20vMetalnessMapUv\x20);\x0a\x09metalnessFactor\x20*=\x20texelMetalness.b;\x0a#endif','metalnessmap_pars_fragment':'#ifdef\x20USE_METALNESSMAP\x0a\x09uniform\x20sampler2D\x20metalnessMap;\x0a#endif','morphinstance_vertex':'#ifdef\x20USE_INSTANCING_MORPH\x0a\x09float\x20morphTargetInfluences[\x20MORPHTARGETS_COUNT\x20];\x0a\x09float\x20morphTargetBaseInfluence\x20=\x20texelFetch(\x20morphTexture,\x20ivec2(\x200,\x20gl_InstanceID\x20),\x200\x20).r;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09morphTargetInfluences[i]\x20=\x20\x20texelFetch(\x20morphTexture,\x20ivec2(\x20i\x20+\x201,\x20gl_InstanceID\x20),\x200\x20).r;\x0a\x09}\x0a#endif','morphcolor_vertex':'#if\x20defined(\x20USE_MORPHCOLORS\x20)\x0a\x09vColor\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20vColor\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x202\x20)\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09\x09#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20vColor\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x202\x20).rgb\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09\x09#endif\x0a\x09}\x0a#endif','morphnormal_vertex':'#ifdef\x20USE_MORPHNORMALS\x0a\x09objectNormal\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20objectNormal\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x201\x20).xyz\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09}\x0a#endif','morphtarget_pars_vertex':'#ifdef\x20USE_MORPHTARGETS\x0a\x09#ifndef\x20USE_INSTANCING_MORPH\x0a\x09\x09uniform\x20float\x20morphTargetBaseInfluence;\x0a\x09\x09uniform\x20float\x20morphTargetInfluences[\x20MORPHTARGETS_COUNT\x20];\x0a\x09#endif\x0a\x09uniform\x20sampler2DArray\x20morphTargetsTexture;\x0a\x09uniform\x20ivec2\x20morphTargetsTextureSize;\x0a\x09vec4\x20getMorph(\x20const\x20in\x20int\x20vertexIndex,\x20const\x20in\x20int\x20morphTargetIndex,\x20const\x20in\x20int\x20offset\x20)\x20{\x0a\x09\x09int\x20texelIndex\x20=\x20vertexIndex\x20*\x20MORPHTARGETS_TEXTURE_STRIDE\x20+\x20offset;\x0a\x09\x09int\x20y\x20=\x20texelIndex\x20/\x20morphTargetsTextureSize.x;\x0a\x09\x09int\x20x\x20=\x20texelIndex\x20-\x20y\x20*\x20morphTargetsTextureSize.x;\x0a\x09\x09ivec3\x20morphUV\x20=\x20ivec3(\x20x,\x20y,\x20morphTargetIndex\x20);\x0a\x09\x09return\x20texelFetch(\x20morphTargetsTexture,\x20morphUV,\x200\x20);\x0a\x09}\x0a#endif','morphtarget_vertex':'#ifdef\x20USE_MORPHTARGETS\x0a\x09transformed\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20transformed\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x200\x20).xyz\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09}\x0a#endif','normal_fragment_begin':'float\x20faceDirection\x20=\x20gl_FrontFacing\x20?\x201.0\x20:\x20-\x201.0;\x0a#ifdef\x20FLAT_SHADED\x0a\x09vec3\x20fdx\x20=\x20dFdx(\x20vViewPosition\x20);\x0a\x09vec3\x20fdy\x20=\x20dFdy(\x20vViewPosition\x20);\x0a\x09vec3\x20normal\x20=\x20normalize(\x20cross(\x20fdx,\x20fdy\x20)\x20);\x0a#else\x0a\x09vec3\x20normal\x20=\x20normalize(\x20vNormal\x20);\x0a\x09#ifdef\x20DOUBLE_SIDED\x0a\x09\x09normal\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x20||\x20defined(\x20USE_CLEARCOAT_NORMALMAP\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09mat3\x20tbn\x20=\x20mat3(\x20normalize(\x20vTangent\x20),\x20normalize(\x20vBitangent\x20),\x20normal\x20);\x0a\x09#else\x0a\x09\x09mat3\x20tbn\x20=\x20getTangentFrame(\x20-\x20vViewPosition,\x20normal,\x0a\x09\x09#if\x20defined(\x20USE_NORMALMAP\x20)\x0a\x09\x09\x09vNormalMapUv\x0a\x09\x09#elif\x20defined(\x20USE_CLEARCOAT_NORMALMAP\x20)\x0a\x09\x09\x09vClearcoatNormalMapUv\x0a\x09\x09#else\x0a\x09\x09\x09vUv\x0a\x09\x09#endif\x0a\x09\x09);\x0a\x09#endif\x0a\x09#if\x20defined(\x20DOUBLE_SIDED\x20)\x20&&\x20!\x20defined(\x20FLAT_SHADED\x20)\x0a\x09\x09tbn[0]\x20*=\x20faceDirection;\x0a\x09\x09tbn[1]\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09mat3\x20tbn2\x20=\x20mat3(\x20normalize(\x20vTangent\x20),\x20normalize(\x20vBitangent\x20),\x20normal\x20);\x0a\x09#else\x0a\x09\x09mat3\x20tbn2\x20=\x20getTangentFrame(\x20-\x20vViewPosition,\x20normal,\x20vClearcoatNormalMapUv\x20);\x0a\x09#endif\x0a\x09#if\x20defined(\x20DOUBLE_SIDED\x20)\x20&&\x20!\x20defined(\x20FLAT_SHADED\x20)\x0a\x09\x09tbn2[0]\x20*=\x20faceDirection;\x0a\x09\x09tbn2[1]\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0avec3\x20nonPerturbedNormal\x20=\x20normal;','normal_fragment_maps':'#ifdef\x20USE_NORMALMAP_OBJECTSPACE\x0a\x09normal\x20=\x20texture2D(\x20normalMap,\x20vNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09#ifdef\x20FLIP_SIDED\x0a\x09\x09normal\x20=\x20-\x20normal;\x0a\x09#endif\x0a\x09#ifdef\x20DOUBLE_SIDED\x0a\x09\x09normal\x20=\x20normal\x20*\x20faceDirection;\x0a\x09#endif\x0a\x09normal\x20=\x20normalize(\x20normalMatrix\x20*\x20normal\x20);\x0a#elif\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09vec3\x20mapN\x20=\x20texture2D(\x20normalMap,\x20vNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09mapN.xy\x20*=\x20normalScale;\x0a\x09normal\x20=\x20normalize(\x20tbn\x20*\x20mapN\x20);\x0a#elif\x20defined(\x20USE_BUMPMAP\x20)\x0a\x09normal\x20=\x20perturbNormalArb(\x20-\x20vViewPosition,\x20normal,\x20dHdxy_fwd(),\x20faceDirection\x20);\x0a#endif','normal_pars_fragment':'#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09varying\x20vec3\x20vTangent;\x0a\x09\x09varying\x20vec3\x20vBitangent;\x0a\x09#endif\x0a#endif','normal_pars_vertex':'#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09varying\x20vec3\x20vTangent;\x0a\x09\x09varying\x20vec3\x20vBitangent;\x0a\x09#endif\x0a#endif','normal_vertex':'#ifndef\x20FLAT_SHADED\x0a\x09vNormal\x20=\x20normalize(\x20transformedNormal\x20);\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09vTangent\x20=\x20normalize(\x20transformedTangent\x20);\x0a\x09\x09vBitangent\x20=\x20normalize(\x20cross(\x20vNormal,\x20vTangent\x20)\x20*\x20tangent.w\x20);\x0a\x09#endif\x0a#endif','normalmap_pars_fragment':'#ifdef\x20USE_NORMALMAP\x0a\x09uniform\x20sampler2D\x20normalMap;\x0a\x09uniform\x20vec2\x20normalScale;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP_OBJECTSPACE\x0a\x09uniform\x20mat3\x20normalMatrix;\x0a#endif\x0a#if\x20!\x20defined\x20(\x20USE_TANGENT\x20)\x20&&\x20(\x20defined\x20(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x20||\x20defined\x20(\x20USE_CLEARCOAT_NORMALMAP\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x20)\x0a\x09mat3\x20getTangentFrame(\x20vec3\x20eye_pos,\x20vec3\x20surf_norm,\x20vec2\x20uv\x20)\x20{\x0a\x09\x09vec3\x20q0\x20=\x20dFdx(\x20eye_pos.xyz\x20);\x0a\x09\x09vec3\x20q1\x20=\x20dFdy(\x20eye_pos.xyz\x20);\x0a\x09\x09vec2\x20st0\x20=\x20dFdx(\x20uv.st\x20);\x0a\x09\x09vec2\x20st1\x20=\x20dFdy(\x20uv.st\x20);\x0a\x09\x09vec3\x20N\x20=\x20surf_norm;\x0a\x09\x09vec3\x20q1perp\x20=\x20cross(\x20q1,\x20N\x20);\x0a\x09\x09vec3\x20q0perp\x20=\x20cross(\x20N,\x20q0\x20);\x0a\x09\x09vec3\x20T\x20=\x20q1perp\x20*\x20st0.x\x20+\x20q0perp\x20*\x20st1.x;\x0a\x09\x09vec3\x20B\x20=\x20q1perp\x20*\x20st0.y\x20+\x20q0perp\x20*\x20st1.y;\x0a\x09\x09float\x20det\x20=\x20max(\x20dot(\x20T,\x20T\x20),\x20dot(\x20B,\x20B\x20)\x20);\x0a\x09\x09float\x20scale\x20=\x20(\x20det\x20==\x200.0\x20)\x20?\x200.0\x20:\x20inversesqrt(\x20det\x20);\x0a\x09\x09return\x20mat3(\x20T\x20*\x20scale,\x20B\x20*\x20scale,\x20N\x20);\x0a\x09}\x0a#endif','clearcoat_normal_fragment_begin':'#ifdef\x20USE_CLEARCOAT\x0a\x09vec3\x20clearcoatNormal\x20=\x20nonPerturbedNormal;\x0a#endif','clearcoat_normal_fragment_maps':'#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09vec3\x20clearcoatMapN\x20=\x20texture2D(\x20clearcoatNormalMap,\x20vClearcoatNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09clearcoatMapN.xy\x20*=\x20clearcoatNormalScale;\x0a\x09clearcoatNormal\x20=\x20normalize(\x20tbn2\x20*\x20clearcoatMapN\x20);\x0a#endif','clearcoat_pars_fragment':'#ifdef\x20USE_CLEARCOATMAP\x0a\x09uniform\x20sampler2D\x20clearcoatMap;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09uniform\x20sampler2D\x20clearcoatNormalMap;\x0a\x09uniform\x20vec2\x20clearcoatNormalScale;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09uniform\x20sampler2D\x20clearcoatRoughnessMap;\x0a#endif','iridescence_pars_fragment':'#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09uniform\x20sampler2D\x20iridescenceMap;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09uniform\x20sampler2D\x20iridescenceThicknessMap;\x0a#endif','opaque_fragment':'#ifdef\x20OPAQUE\x0adiffuseColor.a\x20=\x201.0;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSION\x0adiffuseColor.a\x20*=\x20material.transmissionAlpha;\x0a#endif\x0agl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);','packing':'vec3\x20packNormalToRGB(\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09return\x20normalize(\x20normal\x20)\x20*\x200.5\x20+\x200.5;\x0a}\x0avec3\x20unpackRGBToNormal(\x20const\x20in\x20vec3\x20rgb\x20)\x20{\x0a\x09return\x202.0\x20*\x20rgb.xyz\x20-\x201.0;\x0a}\x0aconst\x20float\x20PackUpscale\x20=\x20256.\x20/\x20255.;const\x20float\x20UnpackDownscale\x20=\x20255.\x20/\x20256.;const\x20float\x20ShiftRight8\x20=\x201.\x20/\x20256.;\x0aconst\x20float\x20Inv255\x20=\x201.\x20/\x20255.;\x0aconst\x20vec4\x20PackFactors\x20=\x20vec4(\x201.0,\x20256.0,\x20256.0\x20*\x20256.0,\x20256.0\x20*\x20256.0\x20*\x20256.0\x20);\x0aconst\x20vec2\x20UnpackFactors2\x20=\x20vec2(\x20UnpackDownscale,\x201.0\x20/\x20PackFactors.g\x20);\x0aconst\x20vec3\x20UnpackFactors3\x20=\x20vec3(\x20UnpackDownscale\x20/\x20PackFactors.rg,\x201.0\x20/\x20PackFactors.b\x20);\x0aconst\x20vec4\x20UnpackFactors4\x20=\x20vec4(\x20UnpackDownscale\x20/\x20PackFactors.rgb,\x201.0\x20/\x20PackFactors.a\x20);\x0avec4\x20packDepthToRGBA(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec4(\x200.,\x200.,\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec4(\x201.,\x201.,\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20af\x20=\x20modf(\x20v\x20*\x20PackFactors.a,\x20vuf\x20);\x0a\x09float\x20bf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09float\x20gf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09return\x20vec4(\x20vuf\x20*\x20Inv255,\x20gf\x20*\x20PackUpscale,\x20bf\x20*\x20PackUpscale,\x20af\x20);\x0a}\x0avec3\x20packDepthToRGB(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec3(\x200.,\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec3(\x201.,\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20bf\x20=\x20modf(\x20v\x20*\x20PackFactors.b,\x20vuf\x20);\x0a\x09float\x20gf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09return\x20vec3(\x20vuf\x20*\x20Inv255,\x20gf\x20*\x20PackUpscale,\x20bf\x20);\x0a}\x0avec2\x20packDepthToRG(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec2(\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec2(\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20gf\x20=\x20modf(\x20v\x20*\x20256.,\x20vuf\x20);\x0a\x09return\x20vec2(\x20vuf\x20*\x20Inv255,\x20gf\x20);\x0a}\x0afloat\x20unpackRGBAToDepth(\x20const\x20in\x20vec4\x20v\x20)\x20{\x0a\x09return\x20dot(\x20v,\x20UnpackFactors4\x20);\x0a}\x0afloat\x20unpackRGBToDepth(\x20const\x20in\x20vec3\x20v\x20)\x20{\x0a\x09return\x20dot(\x20v,\x20UnpackFactors3\x20);\x0a}\x0afloat\x20unpackRGToDepth(\x20const\x20in\x20vec2\x20v\x20)\x20{\x0a\x09return\x20v.r\x20*\x20UnpackFactors2.r\x20+\x20v.g\x20*\x20UnpackFactors2.g;\x0a}\x0avec4\x20pack2HalfToRGBA(\x20const\x20in\x20vec2\x20v\x20)\x20{\x0a\x09vec4\x20r\x20=\x20vec4(\x20v.x,\x20fract(\x20v.x\x20*\x20255.0\x20),\x20v.y,\x20fract(\x20v.y\x20*\x20255.0\x20)\x20);\x0a\x09return\x20vec4(\x20r.x\x20-\x20r.y\x20/\x20255.0,\x20r.y,\x20r.z\x20-\x20r.w\x20/\x20255.0,\x20r.w\x20);\x0a}\x0avec2\x20unpackRGBATo2Half(\x20const\x20in\x20vec4\x20v\x20)\x20{\x0a\x09return\x20vec2(\x20v.x\x20+\x20(\x20v.y\x20/\x20255.0\x20),\x20v.z\x20+\x20(\x20v.w\x20/\x20255.0\x20)\x20);\x0a}\x0afloat\x20viewZToOrthographicDepth(\x20const\x20in\x20float\x20viewZ,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20viewZ\x20+\x20near\x20)\x20/\x20(\x20near\x20-\x20far\x20);\x0a}\x0afloat\x20orthographicDepthToViewZ(\x20const\x20in\x20float\x20depth,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20depth\x20*\x20(\x20near\x20-\x20far\x20)\x20-\x20near;\x0a}\x0afloat\x20viewZToPerspectiveDepth(\x20const\x20in\x20float\x20viewZ,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20(\x20near\x20+\x20viewZ\x20)\x20*\x20far\x20)\x20/\x20(\x20(\x20far\x20-\x20near\x20)\x20*\x20viewZ\x20);\x0a}\x0afloat\x20perspectiveDepthToViewZ(\x20const\x20in\x20float\x20depth,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20near\x20*\x20far\x20)\x20/\x20(\x20(\x20far\x20-\x20near\x20)\x20*\x20depth\x20-\x20far\x20);\x0a}','premultiplied_alpha_fragment':'#ifdef\x20PREMULTIPLIED_ALPHA\x0a\x09gl_FragColor.rgb\x20*=\x20gl_FragColor.a;\x0a#endif','project_vertex':'vec4\x20mvPosition\x20=\x20vec4(\x20transformed,\x201.0\x20);\x0a#ifdef\x20USE_BATCHING\x0a\x09mvPosition\x20=\x20batchingMatrix\x20*\x20mvPosition;\x0a#endif\x0a#ifdef\x20USE_INSTANCING\x0a\x09mvPosition\x20=\x20instanceMatrix\x20*\x20mvPosition;\x0a#endif\x0amvPosition\x20=\x20modelViewMatrix\x20*\x20mvPosition;\x0agl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;','dithering_fragment':'#ifdef\x20DITHERING\x0a\x09gl_FragColor.rgb\x20=\x20dithering(\x20gl_FragColor.rgb\x20);\x0a#endif','dithering_pars_fragment':'#ifdef\x20DITHERING\x0a\x09vec3\x20dithering(\x20vec3\x20color\x20)\x20{\x0a\x09\x09float\x20grid_position\x20=\x20rand(\x20gl_FragCoord.xy\x20);\x0a\x09\x09vec3\x20dither_shift_RGB\x20=\x20vec3(\x200.25\x20/\x20255.0,\x20-0.25\x20/\x20255.0,\x200.25\x20/\x20255.0\x20);\x0a\x09\x09dither_shift_RGB\x20=\x20mix(\x202.0\x20*\x20dither_shift_RGB,\x20-2.0\x20*\x20dither_shift_RGB,\x20grid_position\x20);\x0a\x09\x09return\x20color\x20+\x20dither_shift_RGB;\x0a\x09}\x0a#endif','roughnessmap_fragment':'float\x20roughnessFactor\x20=\x20roughness;\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09vec4\x20texelRoughness\x20=\x20texture2D(\x20roughnessMap,\x20vRoughnessMapUv\x20);\x0a\x09roughnessFactor\x20*=\x20texelRoughness.g;\x0a#endif','roughnessmap_pars_fragment':'#ifdef\x20USE_ROUGHNESSMAP\x0a\x09uniform\x20sampler2D\x20roughnessMap;\x0a#endif','shadowmap_pars_fragment':'#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09varying\x20vec4\x20vSpotLightCoord[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a#endif\x0a#if\x20NUM_SPOT_LIGHT_MAPS\x20>\x200\x0a\x09uniform\x20sampler2D\x20spotLightMap[\x20NUM_SPOT_LIGHT_MAPS\x20];\x0a#endif\x0a#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20directionalShadowMap[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vDirectionalShadowCoord[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20DirectionalLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20DirectionalLightShadow\x20directionalLightShadows[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20spotShadowMap[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20SpotLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20SpotLightShadow\x20spotLightShadows[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20pointShadowMap[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vPointShadowCoord[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20PointLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09\x09float\x20shadowCameraNear;\x0a\x09\x09\x09float\x20shadowCameraFar;\x0a\x09\x09};\x0a\x09\x09uniform\x20PointLightShadow\x20pointLightShadows[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09float\x20texture2DCompare(\x20sampler2D\x20depths,\x20vec2\x20uv,\x20float\x20compare\x20)\x20{\x0a\x09\x09return\x20step(\x20compare,\x20unpackRGBAToDepth(\x20texture2D(\x20depths,\x20uv\x20)\x20)\x20);\x0a\x09}\x0a\x09vec2\x20texture2DDistribution(\x20sampler2D\x20shadow,\x20vec2\x20uv\x20)\x20{\x0a\x09\x09return\x20unpackRGBATo2Half(\x20texture2D(\x20shadow,\x20uv\x20)\x20);\x0a\x09}\x0a\x09float\x20VSMShadow\x20(sampler2D\x20shadow,\x20vec2\x20uv,\x20float\x20compare\x20){\x0a\x09\x09float\x20occlusion\x20=\x201.0;\x0a\x09\x09vec2\x20distribution\x20=\x20texture2DDistribution(\x20shadow,\x20uv\x20);\x0a\x09\x09float\x20hard_shadow\x20=\x20step(\x20compare\x20,\x20distribution.x\x20);\x0a\x09\x09if\x20(hard_shadow\x20!=\x201.0\x20)\x20{\x0a\x09\x09\x09float\x20distance\x20=\x20compare\x20-\x20distribution.x\x20;\x0a\x09\x09\x09float\x20variance\x20=\x20max(\x200.00000,\x20distribution.y\x20*\x20distribution.y\x20);\x0a\x09\x09\x09float\x20softness_probability\x20=\x20variance\x20/\x20(variance\x20+\x20distance\x20*\x20distance\x20);\x09\x09\x09softness_probability\x20=\x20clamp(\x20(\x20softness_probability\x20-\x200.3\x20)\x20/\x20(\x200.95\x20-\x200.3\x20),\x200.0,\x201.0\x20);\x09\x09\x09occlusion\x20=\x20clamp(\x20max(\x20hard_shadow,\x20softness_probability\x20),\x200.0,\x201.0\x20);\x0a\x09\x09}\x0a\x09\x09return\x20occlusion;\x0a\x09}\x0a\x09float\x20getShadow(\x20sampler2D\x20shadowMap,\x20vec2\x20shadowMapSize,\x20float\x20shadowIntensity,\x20float\x20shadowBias,\x20float\x20shadowRadius,\x20vec4\x20shadowCoord\x20)\x20{\x0a\x09\x09float\x20shadow\x20=\x201.0;\x0a\x09\x09shadowCoord.xyz\x20/=\x20shadowCoord.w;\x0a\x09\x09shadowCoord.z\x20+=\x20shadowBias;\x0a\x09\x09bool\x20inFrustum\x20=\x20shadowCoord.x\x20>=\x200.0\x20&&\x20shadowCoord.x\x20<=\x201.0\x20&&\x20shadowCoord.y\x20>=\x200.0\x20&&\x20shadowCoord.y\x20<=\x201.0;\x0a\x09\x09bool\x20frustumTest\x20=\x20inFrustum\x20&&\x20shadowCoord.z\x20<=\x201.0;\x0a\x09\x09if\x20(\x20frustumTest\x20)\x20{\x0a\x09\x09#if\x20defined(\x20SHADOWMAP_TYPE_PCF\x20)\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20shadowMapSize;\x0a\x09\x09\x09float\x20dx0\x20=\x20-\x20texelSize.x\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dy0\x20=\x20-\x20texelSize.y\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dx1\x20=\x20+\x20texelSize.x\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dy1\x20=\x20+\x20texelSize.y\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dx2\x20=\x20dx0\x20/\x202.0;\x0a\x09\x09\x09float\x20dy2\x20=\x20dy0\x20/\x202.0;\x0a\x09\x09\x09float\x20dx3\x20=\x20dx1\x20/\x202.0;\x0a\x09\x09\x09float\x20dy3\x20=\x20dy1\x20/\x202.0;\x0a\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x20dy1\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy1\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x20dy1\x20),\x20shadowCoord.z\x20)\x0a\x09\x09\x09)\x20*\x20(\x201.0\x20/\x2017.0\x20);\x0a\x09\x09#elif\x20defined(\x20SHADOWMAP_TYPE_PCF_SOFT\x20)\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20shadowMapSize;\x0a\x09\x09\x09float\x20dx\x20=\x20texelSize.x;\x0a\x09\x09\x09float\x20dy\x20=\x20texelSize.y;\x0a\x09\x09\x09vec2\x20uv\x20=\x20shadowCoord.xy;\x0a\x09\x09\x09vec2\x20f\x20=\x20fract(\x20uv\x20*\x20shadowMapSize\x20+\x200.5\x20);\x0a\x09\x09\x09uv\x20-=\x20f\x20*\x20texelSize;\x0a\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x20dy\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20texelSize,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x200.0\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x200.0\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.x\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.x\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20f.x\x20),\x0a\x09\x09\x09\x09\x09\x20mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20f.x\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x0a\x09\x09\x09)\x20*\x20(\x201.0\x20/\x209.0\x20);\x0a\x09\x09#elif\x20defined(\x20SHADOWMAP_TYPE_VSM\x20)\x0a\x09\x09\x09shadow\x20=\x20VSMShadow(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20);\x0a\x09\x09#else\x0a\x09\x09\x09shadow\x20=\x20texture2DCompare(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20);\x0a\x09\x09#endif\x0a\x09\x09}\x0a\x09\x09return\x20mix(\x201.0,\x20shadow,\x20shadowIntensity\x20);\x0a\x09}\x0a\x09vec2\x20cubeToUV(\x20vec3\x20v,\x20float\x20texelSizeY\x20)\x20{\x0a\x09\x09vec3\x20absV\x20=\x20abs(\x20v\x20);\x0a\x09\x09float\x20scaleToCube\x20=\x201.0\x20/\x20max(\x20absV.x,\x20max(\x20absV.y,\x20absV.z\x20)\x20);\x0a\x09\x09absV\x20*=\x20scaleToCube;\x0a\x09\x09v\x20*=\x20scaleToCube\x20*\x20(\x201.0\x20-\x202.0\x20*\x20texelSizeY\x20);\x0a\x09\x09vec2\x20planar\x20=\x20v.xy;\x0a\x09\x09float\x20almostATexel\x20=\x201.5\x20*\x20texelSizeY;\x0a\x09\x09float\x20almostOne\x20=\x201.0\x20-\x20almostATexel;\x0a\x09\x09if\x20(\x20absV.z\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09if\x20(\x20v.z\x20>\x200.0\x20)\x0a\x09\x09\x09\x09planar.x\x20=\x204.0\x20-\x20v.x;\x0a\x09\x09}\x20else\x20if\x20(\x20absV.x\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09float\x20signX\x20=\x20sign(\x20v.x\x20);\x0a\x09\x09\x09planar.x\x20=\x20v.z\x20*\x20signX\x20+\x202.0\x20*\x20signX;\x0a\x09\x09}\x20else\x20if\x20(\x20absV.y\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09float\x20signY\x20=\x20sign(\x20v.y\x20);\x0a\x09\x09\x09planar.x\x20=\x20v.x\x20+\x202.0\x20*\x20signY\x20+\x202.0;\x0a\x09\x09\x09planar.y\x20=\x20v.z\x20*\x20signY\x20-\x202.0;\x0a\x09\x09}\x0a\x09\x09return\x20vec2(\x200.125,\x200.25\x20)\x20*\x20planar\x20+\x20vec2(\x200.375,\x200.75\x20);\x0a\x09}\x0a\x09float\x20getPointShadow(\x20sampler2D\x20shadowMap,\x20vec2\x20shadowMapSize,\x20float\x20shadowIntensity,\x20float\x20shadowBias,\x20float\x20shadowRadius,\x20vec4\x20shadowCoord,\x20float\x20shadowCameraNear,\x20float\x20shadowCameraFar\x20)\x20{\x0a\x09\x09float\x20shadow\x20=\x201.0;\x0a\x09\x09vec3\x20lightToPosition\x20=\x20shadowCoord.xyz;\x0a\x09\x09\x0a\x09\x09float\x20lightToPositionLength\x20=\x20length(\x20lightToPosition\x20);\x0a\x09\x09if\x20(\x20lightToPositionLength\x20-\x20shadowCameraFar\x20<=\x200.0\x20&&\x20lightToPositionLength\x20-\x20shadowCameraNear\x20>=\x200.0\x20)\x20{\x0a\x09\x09\x09float\x20dp\x20=\x20(\x20lightToPositionLength\x20-\x20shadowCameraNear\x20)\x20/\x20(\x20shadowCameraFar\x20-\x20shadowCameraNear\x20);\x09\x09\x09dp\x20+=\x20shadowBias;\x0a\x09\x09\x09vec3\x20bd3D\x20=\x20normalize(\x20lightToPosition\x20);\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20(\x20shadowMapSize\x20*\x20vec2(\x204.0,\x202.0\x20)\x20);\x0a\x09\x09\x09#if\x20defined(\x20SHADOWMAP_TYPE_PCF\x20)\x20||\x20defined(\x20SHADOWMAP_TYPE_PCF_SOFT\x20)\x20||\x20defined(\x20SHADOWMAP_TYPE_VSM\x20)\x0a\x09\x09\x09\x09vec2\x20offset\x20=\x20vec2(\x20-\x201,\x201\x20)\x20*\x20shadowRadius\x20*\x20texelSize.y;\x0a\x09\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xyy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yyy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xyx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yyx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xxy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yxy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xxx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yxx,\x20texelSize.y\x20),\x20dp\x20)\x0a\x09\x09\x09\x09)\x20*\x20(\x201.0\x20/\x209.0\x20);\x0a\x09\x09\x09#else\x0a\x09\x09\x09\x09shadow\x20=\x20texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D,\x20texelSize.y\x20),\x20dp\x20);\x0a\x09\x09\x09#endif\x0a\x09\x09}\x0a\x09\x09return\x20mix(\x201.0,\x20shadow,\x20shadowIntensity\x20);\x0a\x09}\x0a#endif','shadowmap_pars_vertex':'#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09uniform\x20mat4\x20spotLightMatrix[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a\x09varying\x20vec4\x20vSpotLightCoord[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a#endif\x0a#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20mat4\x20directionalShadowMatrix[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vDirectionalShadowCoord[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20DirectionalLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20DirectionalLightShadow\x20directionalLightShadows[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09struct\x20SpotLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20SpotLightShadow\x20spotLightShadows[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20mat4\x20pointShadowMatrix[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vPointShadowCoord[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20PointLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09\x09float\x20shadowCameraNear;\x0a\x09\x09\x09float\x20shadowCameraFar;\x0a\x09\x09};\x0a\x09\x09uniform\x20PointLightShadow\x20pointLightShadows[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a#endif','shadowmap_vertex':'#if\x20(\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x20||\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x20)\x20)\x20||\x20(\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x20)\x0a\x09vec3\x20shadowWorldNormal\x20=\x20inverseTransformDirection(\x20transformedNormal,\x20viewMatrix\x20);\x0a\x09vec4\x20shadowWorldPosition;\x0a#endif\x0a#if\x20defined(\x20USE_SHADOWMAP\x20)\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09shadowWorldPosition\x20=\x20worldPosition\x20+\x20vec4(\x20shadowWorldNormal\x20*\x20directionalLightShadows[\x20i\x20].shadowNormalBias,\x200\x20);\x0a\x09\x09\x09vDirectionalShadowCoord[\x20i\x20]\x20=\x20directionalShadowMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09shadowWorldPosition\x20=\x20worldPosition\x20+\x20vec4(\x20shadowWorldNormal\x20*\x20pointLightShadows[\x20i\x20].shadowNormalBias,\x200\x20);\x0a\x09\x09\x09vPointShadowCoord[\x20i\x20]\x20=\x20pointShadowMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a#endif\x0a#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHT_COORDS;\x20i\x20++\x20)\x20{\x0a\x09\x09shadowWorldPosition\x20=\x20worldPosition;\x0a\x09\x09#if\x20(\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09\x09shadowWorldPosition.xyz\x20+=\x20shadowWorldNormal\x20*\x20spotLightShadows[\x20i\x20].shadowNormalBias;\x0a\x09\x09#endif\x0a\x09\x09vSpotLightCoord[\x20i\x20]\x20=\x20spotLightMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif','shadowmask_pars_fragment':'float\x20getShadowMask()\x20{\x0a\x09float\x20shadow\x20=\x201.0;\x0a\x09#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09DirectionalLightShadow\x20directionalLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09directionalLight\x20=\x20directionalLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLight.shadowMapSize,\x20directionalLight.shadowIntensity,\x20directionalLight.shadowBias,\x20directionalLight.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09SpotLightShadow\x20spotLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09spotLight\x20=\x20spotLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLight.shadowMapSize,\x20spotLight.shadowIntensity,\x20spotLight.shadowBias,\x20spotLight.shadowRadius,\x20vSpotLightCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09PointLightShadow\x20pointLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09pointLight\x20=\x20pointLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLight.shadowMapSize,\x20pointLight.shadowIntensity,\x20pointLight.shadowBias,\x20pointLight.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLight.shadowCameraNear,\x20pointLight.shadowCameraFar\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#endif\x0a\x09return\x20shadow;\x0a}','skinbase_vertex':'#ifdef\x20USE_SKINNING\x0a\x09mat4\x20boneMatX\x20=\x20getBoneMatrix(\x20skinIndex.x\x20);\x0a\x09mat4\x20boneMatY\x20=\x20getBoneMatrix(\x20skinIndex.y\x20);\x0a\x09mat4\x20boneMatZ\x20=\x20getBoneMatrix(\x20skinIndex.z\x20);\x0a\x09mat4\x20boneMatW\x20=\x20getBoneMatrix(\x20skinIndex.w\x20);\x0a#endif','skinning_pars_vertex':'#ifdef\x20USE_SKINNING\x0a\x09uniform\x20mat4\x20bindMatrix;\x0a\x09uniform\x20mat4\x20bindMatrixInverse;\x0a\x09uniform\x20highp\x20sampler2D\x20boneTexture;\x0a\x09mat4\x20getBoneMatrix(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20boneTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20)\x20*\x204;\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09vec4\x20v1\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v2\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x201,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v3\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x202,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v4\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x203,\x20y\x20),\x200\x20);\x0a\x09\x09return\x20mat4(\x20v1,\x20v2,\x20v3,\x20v4\x20);\x0a\x09}\x0a#endif','skinning_vertex':'#ifdef\x20USE_SKINNING\x0a\x09vec4\x20skinVertex\x20=\x20bindMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);\x0a\x09vec4\x20skinned\x20=\x20vec4(\x200.0\x20);\x0a\x09skinned\x20+=\x20boneMatX\x20*\x20skinVertex\x20*\x20skinWeight.x;\x0a\x09skinned\x20+=\x20boneMatY\x20*\x20skinVertex\x20*\x20skinWeight.y;\x0a\x09skinned\x20+=\x20boneMatZ\x20*\x20skinVertex\x20*\x20skinWeight.z;\x0a\x09skinned\x20+=\x20boneMatW\x20*\x20skinVertex\x20*\x20skinWeight.w;\x0a\x09transformed\x20=\x20(\x20bindMatrixInverse\x20*\x20skinned\x20).xyz;\x0a#endif','skinnormal_vertex':'#ifdef\x20USE_SKINNING\x0a\x09mat4\x20skinMatrix\x20=\x20mat4(\x200.0\x20);\x0a\x09skinMatrix\x20+=\x20skinWeight.x\x20*\x20boneMatX;\x0a\x09skinMatrix\x20+=\x20skinWeight.y\x20*\x20boneMatY;\x0a\x09skinMatrix\x20+=\x20skinWeight.z\x20*\x20boneMatZ;\x0a\x09skinMatrix\x20+=\x20skinWeight.w\x20*\x20boneMatW;\x0a\x09skinMatrix\x20=\x20bindMatrixInverse\x20*\x20skinMatrix\x20*\x20bindMatrix;\x0a\x09objectNormal\x20=\x20vec4(\x20skinMatrix\x20*\x20vec4(\x20objectNormal,\x200.0\x20)\x20).xyz;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09objectTangent\x20=\x20vec4(\x20skinMatrix\x20*\x20vec4(\x20objectTangent,\x200.0\x20)\x20).xyz;\x0a\x09#endif\x0a#endif','specularmap_fragment':'float\x20specularStrength;\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09vec4\x20texelSpecular\x20=\x20texture2D(\x20specularMap,\x20vSpecularMapUv\x20);\x0a\x09specularStrength\x20=\x20texelSpecular.r;\x0a#else\x0a\x09specularStrength\x20=\x201.0;\x0a#endif','specularmap_pars_fragment':'#ifdef\x20USE_SPECULARMAP\x0a\x09uniform\x20sampler2D\x20specularMap;\x0a#endif','tonemapping_fragment':'#if\x20defined(\x20TONE_MAPPING\x20)\x0a\x09gl_FragColor.rgb\x20=\x20toneMapping(\x20gl_FragColor.rgb\x20);\x0a#endif','tonemapping_pars_fragment':'#ifndef\x20saturate\x0a#define\x20saturate(\x20a\x20)\x20clamp(\x20a,\x200.0,\x201.0\x20)\x0a#endif\x0auniform\x20float\x20toneMappingExposure;\x0avec3\x20LinearToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09return\x20saturate(\x20toneMappingExposure\x20*\x20color\x20);\x0a}\x0avec3\x20ReinhardToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09return\x20saturate(\x20color\x20/\x20(\x20vec3(\x201.0\x20)\x20+\x20color\x20)\x20);\x0a}\x0avec3\x20CineonToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09color\x20=\x20max(\x20vec3(\x200.0\x20),\x20color\x20-\x200.004\x20);\x0a\x09return\x20pow(\x20(\x20color\x20*\x20(\x206.2\x20*\x20color\x20+\x200.5\x20)\x20)\x20/\x20(\x20color\x20*\x20(\x206.2\x20*\x20color\x20+\x201.7\x20)\x20+\x200.06\x20),\x20vec3(\x202.2\x20)\x20);\x0a}\x0avec3\x20RRTAndODTFit(\x20vec3\x20v\x20)\x20{\x0a\x09vec3\x20a\x20=\x20v\x20*\x20(\x20v\x20+\x200.0245786\x20)\x20-\x200.000090537;\x0a\x09vec3\x20b\x20=\x20v\x20*\x20(\x200.983729\x20*\x20v\x20+\x200.4329510\x20)\x20+\x200.238081;\x0a\x09return\x20a\x20/\x20b;\x0a}\x0avec3\x20ACESFilmicToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20mat3\x20ACESInputMat\x20=\x20mat3(\x0a\x09\x09vec3(\x200.59719,\x200.07600,\x200.02840\x20),\x09\x09vec3(\x200.35458,\x200.90834,\x200.13383\x20),\x0a\x09\x09vec3(\x200.04823,\x200.01566,\x200.83777\x20)\x0a\x09);\x0a\x09const\x20mat3\x20ACESOutputMat\x20=\x20mat3(\x0a\x09\x09vec3(\x20\x201.60475,\x20-0.10208,\x20-0.00327\x20),\x09\x09vec3(\x20-0.53108,\x20\x201.10813,\x20-0.07276\x20),\x0a\x09\x09vec3(\x20-0.07367,\x20-0.00605,\x20\x201.07602\x20)\x0a\x09);\x0a\x09color\x20*=\x20toneMappingExposure\x20/\x200.6;\x0a\x09color\x20=\x20ACESInputMat\x20*\x20color;\x0a\x09color\x20=\x20RRTAndODTFit(\x20color\x20);\x0a\x09color\x20=\x20ACESOutputMat\x20*\x20color;\x0a\x09return\x20saturate(\x20color\x20);\x0a}\x0aconst\x20mat3\x20LINEAR_REC2020_TO_LINEAR_SRGB\x20=\x20mat3(\x0a\x09vec3(\x201.6605,\x20-\x200.1246,\x20-\x200.0182\x20),\x0a\x09vec3(\x20-\x200.5876,\x201.1329,\x20-\x200.1006\x20),\x0a\x09vec3(\x20-\x200.0728,\x20-\x200.0083,\x201.1187\x20)\x0a);\x0aconst\x20mat3\x20LINEAR_SRGB_TO_LINEAR_REC2020\x20=\x20mat3(\x0a\x09vec3(\x200.6274,\x200.0691,\x200.0164\x20),\x0a\x09vec3(\x200.3293,\x200.9195,\x200.0880\x20),\x0a\x09vec3(\x200.0433,\x200.0113,\x200.8956\x20)\x0a);\x0avec3\x20agxDefaultContrastApprox(\x20vec3\x20x\x20)\x20{\x0a\x09vec3\x20x2\x20=\x20x\x20*\x20x;\x0a\x09vec3\x20x4\x20=\x20x2\x20*\x20x2;\x0a\x09return\x20+\x2015.5\x20*\x20x4\x20*\x20x2\x0a\x09\x09-\x2040.14\x20*\x20x4\x20*\x20x\x0a\x09\x09+\x2031.96\x20*\x20x4\x0a\x09\x09-\x206.868\x20*\x20x2\x20*\x20x\x0a\x09\x09+\x200.4298\x20*\x20x2\x0a\x09\x09+\x200.1191\x20*\x20x\x0a\x09\x09-\x200.00232;\x0a}\x0avec3\x20AgXToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20mat3\x20AgXInsetMatrix\x20=\x20mat3(\x0a\x09\x09vec3(\x200.856627153315983,\x200.137318972929847,\x200.11189821299995\x20),\x0a\x09\x09vec3(\x200.0951212405381588,\x200.761241990602591,\x200.0767994186031903\x20),\x0a\x09\x09vec3(\x200.0482516061458583,\x200.101439036467562,\x200.811302368396859\x20)\x0a\x09);\x0a\x09const\x20mat3\x20AgXOutsetMatrix\x20=\x20mat3(\x0a\x09\x09vec3(\x201.1271005818144368,\x20-\x200.1413297634984383,\x20-\x200.14132976349843826\x20),\x0a\x09\x09vec3(\x20-\x200.11060664309660323,\x201.157823702216272,\x20-\x200.11060664309660294\x20),\x0a\x09\x09vec3(\x20-\x200.016493938717834573,\x20-\x200.016493938717834257,\x201.2519364065950405\x20)\x0a\x09);\x0a\x09const\x20float\x20AgxMinEv\x20=\x20-\x2012.47393;\x09const\x20float\x20AgxMaxEv\x20=\x204.026069;\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09color\x20=\x20LINEAR_SRGB_TO_LINEAR_REC2020\x20*\x20color;\x0a\x09color\x20=\x20AgXInsetMatrix\x20*\x20color;\x0a\x09color\x20=\x20max(\x20color,\x201e-10\x20);\x09color\x20=\x20log2(\x20color\x20);\x0a\x09color\x20=\x20(\x20color\x20-\x20AgxMinEv\x20)\x20/\x20(\x20AgxMaxEv\x20-\x20AgxMinEv\x20);\x0a\x09color\x20=\x20clamp(\x20color,\x200.0,\x201.0\x20);\x0a\x09color\x20=\x20agxDefaultContrastApprox(\x20color\x20);\x0a\x09color\x20=\x20AgXOutsetMatrix\x20*\x20color;\x0a\x09color\x20=\x20pow(\x20max(\x20vec3(\x200.0\x20),\x20color\x20),\x20vec3(\x202.2\x20)\x20);\x0a\x09color\x20=\x20LINEAR_REC2020_TO_LINEAR_SRGB\x20*\x20color;\x0a\x09color\x20=\x20clamp(\x20color,\x200.0,\x201.0\x20);\x0a\x09return\x20color;\x0a}\x0avec3\x20NeutralToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20float\x20StartCompression\x20=\x200.8\x20-\x200.04;\x0a\x09const\x20float\x20Desaturation\x20=\x200.15;\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09float\x20x\x20=\x20min(\x20color.r,\x20min(\x20color.g,\x20color.b\x20)\x20);\x0a\x09float\x20offset\x20=\x20x\x20<\x200.08\x20?\x20x\x20-\x206.25\x20*\x20x\x20*\x20x\x20:\x200.04;\x0a\x09color\x20-=\x20offset;\x0a\x09float\x20peak\x20=\x20max(\x20color.r,\x20max(\x20color.g,\x20color.b\x20)\x20);\x0a\x09if\x20(\x20peak\x20<\x20StartCompression\x20)\x20return\x20color;\x0a\x09float\x20d\x20=\x201.\x20-\x20StartCompression;\x0a\x09float\x20newPeak\x20=\x201.\x20-\x20d\x20*\x20d\x20/\x20(\x20peak\x20+\x20d\x20-\x20StartCompression\x20);\x0a\x09color\x20*=\x20newPeak\x20/\x20peak;\x0a\x09float\x20g\x20=\x201.\x20-\x201.\x20/\x20(\x20Desaturation\x20*\x20(\x20peak\x20-\x20newPeak\x20)\x20+\x201.\x20);\x0a\x09return\x20mix(\x20color,\x20vec3(\x20newPeak\x20),\x20g\x20);\x0a}\x0avec3\x20CustomToneMapping(\x20vec3\x20color\x20)\x20{\x20return\x20color;\x20}','transmission_fragment':'#ifdef\x20USE_TRANSMISSION\x0a\x09material.transmission\x20=\x20transmission;\x0a\x09material.transmissionAlpha\x20=\x201.0;\x0a\x09material.thickness\x20=\x20thickness;\x0a\x09material.attenuationDistance\x20=\x20attenuationDistance;\x0a\x09material.attenuationColor\x20=\x20attenuationColor;\x0a\x09#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09\x09material.transmission\x20*=\x20texture2D(\x20transmissionMap,\x20vTransmissionMapUv\x20).r;\x0a\x09#endif\x0a\x09#ifdef\x20USE_THICKNESSMAP\x0a\x09\x09material.thickness\x20*=\x20texture2D(\x20thicknessMap,\x20vThicknessMapUv\x20).g;\x0a\x09#endif\x0a\x09vec3\x20pos\x20=\x20vWorldPosition;\x0a\x09vec3\x20v\x20=\x20normalize(\x20cameraPosition\x20-\x20pos\x20);\x0a\x09vec3\x20n\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09vec4\x20transmitted\x20=\x20getIBLVolumeRefraction(\x0a\x09\x09n,\x20v,\x20material.roughness,\x20material.diffuseColor,\x20material.specularColor,\x20material.specularF90,\x0a\x09\x09pos,\x20modelMatrix,\x20viewMatrix,\x20projectionMatrix,\x20material.dispersion,\x20material.ior,\x20material.thickness,\x0a\x09\x09material.attenuationColor,\x20material.attenuationDistance\x20);\x0a\x09material.transmissionAlpha\x20=\x20mix(\x20material.transmissionAlpha,\x20transmitted.a,\x20material.transmission\x20);\x0a\x09totalDiffuse\x20=\x20mix(\x20totalDiffuse,\x20transmitted.rgb,\x20material.transmission\x20);\x0a#endif','transmission_pars_fragment':'#ifdef\x20USE_TRANSMISSION\x0a\x09uniform\x20float\x20transmission;\x0a\x09uniform\x20float\x20thickness;\x0a\x09uniform\x20float\x20attenuationDistance;\x0a\x09uniform\x20vec3\x20attenuationColor;\x0a\x09#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09\x09uniform\x20sampler2D\x20transmissionMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_THICKNESSMAP\x0a\x09\x09uniform\x20sampler2D\x20thicknessMap;\x0a\x09#endif\x0a\x09uniform\x20vec2\x20transmissionSamplerSize;\x0a\x09uniform\x20sampler2D\x20transmissionSamplerMap;\x0a\x09uniform\x20mat4\x20modelMatrix;\x0a\x09uniform\x20mat4\x20projectionMatrix;\x0a\x09varying\x20vec3\x20vWorldPosition;\x0a\x09float\x20w0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20(\x20a\x20*\x20(\x20-\x20a\x20+\x203.0\x20)\x20-\x203.0\x20)\x20+\x201.0\x20);\x0a\x09}\x0a\x09float\x20w1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20\x20a\x20*\x20(\x203.0\x20*\x20a\x20-\x206.0\x20)\x20+\x204.0\x20);\x0a\x09}\x0a\x09float\x20w2(\x20float\x20a\x20){\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20(\x20a\x20*\x20(\x20-\x203.0\x20*\x20a\x20+\x203.0\x20)\x20+\x203.0\x20)\x20+\x201.0\x20);\x0a\x09}\x0a\x09float\x20w3(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20a\x20*\x20a\x20);\x0a\x09}\x0a\x09float\x20g0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20w0(\x20a\x20)\x20+\x20w1(\x20a\x20);\x0a\x09}\x0a\x09float\x20g1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20w2(\x20a\x20)\x20+\x20w3(\x20a\x20);\x0a\x09}\x0a\x09float\x20h0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20-\x201.0\x20+\x20w1(\x20a\x20)\x20/\x20(\x20w0(\x20a\x20)\x20+\x20w1(\x20a\x20)\x20);\x0a\x09}\x0a\x09float\x20h1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x201.0\x20+\x20w3(\x20a\x20)\x20/\x20(\x20w2(\x20a\x20)\x20+\x20w3(\x20a\x20)\x20);\x0a\x09}\x0a\x09vec4\x20bicubic(\x20sampler2D\x20tex,\x20vec2\x20uv,\x20vec4\x20texelSize,\x20float\x20lod\x20)\x20{\x0a\x09\x09uv\x20=\x20uv\x20*\x20texelSize.zw\x20+\x200.5;\x0a\x09\x09vec2\x20iuv\x20=\x20floor(\x20uv\x20);\x0a\x09\x09vec2\x20fuv\x20=\x20fract(\x20uv\x20);\x0a\x09\x09float\x20g0x\x20=\x20g0(\x20fuv.x\x20);\x0a\x09\x09float\x20g1x\x20=\x20g1(\x20fuv.x\x20);\x0a\x09\x09float\x20h0x\x20=\x20h0(\x20fuv.x\x20);\x0a\x09\x09float\x20h1x\x20=\x20h1(\x20fuv.x\x20);\x0a\x09\x09float\x20h0y\x20=\x20h0(\x20fuv.y\x20);\x0a\x09\x09float\x20h1y\x20=\x20h1(\x20fuv.y\x20);\x0a\x09\x09vec2\x20p0\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h0x,\x20iuv.y\x20+\x20h0y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p1\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h1x,\x20iuv.y\x20+\x20h0y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p2\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h0x,\x20iuv.y\x20+\x20h1y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p3\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h1x,\x20iuv.y\x20+\x20h1y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09return\x20g0(\x20fuv.y\x20)\x20*\x20(\x20g0x\x20*\x20textureLod(\x20tex,\x20p0,\x20lod\x20)\x20+\x20g1x\x20*\x20textureLod(\x20tex,\x20p1,\x20lod\x20)\x20)\x20+\x0a\x09\x09\x09g1(\x20fuv.y\x20)\x20*\x20(\x20g0x\x20*\x20textureLod(\x20tex,\x20p2,\x20lod\x20)\x20+\x20g1x\x20*\x20textureLod(\x20tex,\x20p3,\x20lod\x20)\x20);\x0a\x09}\x0a\x09vec4\x20textureBicubic(\x20sampler2D\x20sampler,\x20vec2\x20uv,\x20float\x20lod\x20)\x20{\x0a\x09\x09vec2\x20fLodSize\x20=\x20vec2(\x20textureSize(\x20sampler,\x20int(\x20lod\x20)\x20)\x20);\x0a\x09\x09vec2\x20cLodSize\x20=\x20vec2(\x20textureSize(\x20sampler,\x20int(\x20lod\x20+\x201.0\x20)\x20)\x20);\x0a\x09\x09vec2\x20fLodSizeInv\x20=\x201.0\x20/\x20fLodSize;\x0a\x09\x09vec2\x20cLodSizeInv\x20=\x201.0\x20/\x20cLodSize;\x0a\x09\x09vec4\x20fSample\x20=\x20bicubic(\x20sampler,\x20uv,\x20vec4(\x20fLodSizeInv,\x20fLodSize\x20),\x20floor(\x20lod\x20)\x20);\x0a\x09\x09vec4\x20cSample\x20=\x20bicubic(\x20sampler,\x20uv,\x20vec4(\x20cLodSizeInv,\x20cLodSize\x20),\x20ceil(\x20lod\x20)\x20);\x0a\x09\x09return\x20mix(\x20fSample,\x20cSample,\x20fract(\x20lod\x20)\x20);\x0a\x09}\x0a\x09vec3\x20getVolumeTransmissionRay(\x20const\x20in\x20vec3\x20n,\x20const\x20in\x20vec3\x20v,\x20const\x20in\x20float\x20thickness,\x20const\x20in\x20float\x20ior,\x20const\x20in\x20mat4\x20modelMatrix\x20)\x20{\x0a\x09\x09vec3\x20refractionVector\x20=\x20refract(\x20-\x20v,\x20normalize(\x20n\x20),\x201.0\x20/\x20ior\x20);\x0a\x09\x09vec3\x20modelScale;\x0a\x09\x09modelScale.x\x20=\x20length(\x20vec3(\x20modelMatrix[\x200\x20].xyz\x20)\x20);\x0a\x09\x09modelScale.y\x20=\x20length(\x20vec3(\x20modelMatrix[\x201\x20].xyz\x20)\x20);\x0a\x09\x09modelScale.z\x20=\x20length(\x20vec3(\x20modelMatrix[\x202\x20].xyz\x20)\x20);\x0a\x09\x09return\x20normalize(\x20refractionVector\x20)\x20*\x20thickness\x20*\x20modelScale;\x0a\x09}\x0a\x09float\x20applyIorToRoughness(\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20float\x20ior\x20)\x20{\x0a\x09\x09return\x20roughness\x20*\x20clamp(\x20ior\x20*\x202.0\x20-\x202.0,\x200.0,\x201.0\x20);\x0a\x09}\x0a\x09vec4\x20getTransmissionSample(\x20const\x20in\x20vec2\x20fragCoord,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20float\x20ior\x20)\x20{\x0a\x09\x09float\x20lod\x20=\x20log2(\x20transmissionSamplerSize.x\x20)\x20*\x20applyIorToRoughness(\x20roughness,\x20ior\x20);\x0a\x09\x09return\x20textureBicubic(\x20transmissionSamplerMap,\x20fragCoord.xy,\x20lod\x20);\x0a\x09}\x0a\x09vec3\x20volumeAttenuation(\x20const\x20in\x20float\x20transmissionDistance,\x20const\x20in\x20vec3\x20attenuationColor,\x20const\x20in\x20float\x20attenuationDistance\x20)\x20{\x0a\x09\x09if\x20(\x20isinf(\x20attenuationDistance\x20)\x20)\x20{\x0a\x09\x09\x09return\x20vec3(\x201.0\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09vec3\x20attenuationCoefficient\x20=\x20-log(\x20attenuationColor\x20)\x20/\x20attenuationDistance;\x0a\x09\x09\x09vec3\x20transmittance\x20=\x20exp(\x20-\x20attenuationCoefficient\x20*\x20transmissionDistance\x20);\x09\x09\x09return\x20transmittance;\x0a\x09\x09}\x0a\x09}\x0a\x09vec4\x20getIBLVolumeRefraction(\x20const\x20in\x20vec3\x20n,\x20const\x20in\x20vec3\x20v,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20vec3\x20diffuseColor,\x0a\x09\x09const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20vec3\x20position,\x20const\x20in\x20mat4\x20modelMatrix,\x0a\x09\x09const\x20in\x20mat4\x20viewMatrix,\x20const\x20in\x20mat4\x20projMatrix,\x20const\x20in\x20float\x20dispersion,\x20const\x20in\x20float\x20ior,\x20const\x20in\x20float\x20thickness,\x0a\x09\x09const\x20in\x20vec3\x20attenuationColor,\x20const\x20in\x20float\x20attenuationDistance\x20)\x20{\x0a\x09\x09vec4\x20transmittedLight;\x0a\x09\x09vec3\x20transmittance;\x0a\x09\x09#ifdef\x20USE_DISPERSION\x0a\x09\x09\x09float\x20halfSpread\x20=\x20(\x20ior\x20-\x201.0\x20)\x20*\x200.025\x20*\x20dispersion;\x0a\x09\x09\x09vec3\x20iors\x20=\x20vec3(\x20ior\x20-\x20halfSpread,\x20ior,\x20ior\x20+\x20halfSpread\x20);\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x203;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09vec3\x20transmissionRay\x20=\x20getVolumeTransmissionRay(\x20n,\x20v,\x20thickness,\x20iors[\x20i\x20],\x20modelMatrix\x20);\x0a\x09\x09\x09\x09vec3\x20refractedRayExit\x20=\x20position\x20+\x20transmissionRay;\x0a\x09\x09\x09\x09vec4\x20ndcPos\x20=\x20projMatrix\x20*\x20viewMatrix\x20*\x20vec4(\x20refractedRayExit,\x201.0\x20);\x0a\x09\x09\x09\x09vec2\x20refractionCoords\x20=\x20ndcPos.xy\x20/\x20ndcPos.w;\x0a\x09\x09\x09\x09refractionCoords\x20+=\x201.0;\x0a\x09\x09\x09\x09refractionCoords\x20/=\x202.0;\x0a\x09\x09\x09\x09vec4\x20transmissionSample\x20=\x20getTransmissionSample(\x20refractionCoords,\x20roughness,\x20iors[\x20i\x20]\x20);\x0a\x09\x09\x09\x09transmittedLight[\x20i\x20]\x20=\x20transmissionSample[\x20i\x20];\x0a\x09\x09\x09\x09transmittedLight.a\x20+=\x20transmissionSample.a;\x0a\x09\x09\x09\x09transmittance[\x20i\x20]\x20=\x20diffuseColor[\x20i\x20]\x20*\x20volumeAttenuation(\x20length(\x20transmissionRay\x20),\x20attenuationColor,\x20attenuationDistance\x20)[\x20i\x20];\x0a\x09\x09\x09}\x0a\x09\x09\x09transmittedLight.a\x20/=\x203.0;\x0a\x09\x09#else\x0a\x09\x09\x09vec3\x20transmissionRay\x20=\x20getVolumeTransmissionRay(\x20n,\x20v,\x20thickness,\x20ior,\x20modelMatrix\x20);\x0a\x09\x09\x09vec3\x20refractedRayExit\x20=\x20position\x20+\x20transmissionRay;\x0a\x09\x09\x09vec4\x20ndcPos\x20=\x20projMatrix\x20*\x20viewMatrix\x20*\x20vec4(\x20refractedRayExit,\x201.0\x20);\x0a\x09\x09\x09vec2\x20refractionCoords\x20=\x20ndcPos.xy\x20/\x20ndcPos.w;\x0a\x09\x09\x09refractionCoords\x20+=\x201.0;\x0a\x09\x09\x09refractionCoords\x20/=\x202.0;\x0a\x09\x09\x09transmittedLight\x20=\x20getTransmissionSample(\x20refractionCoords,\x20roughness,\x20ior\x20);\x0a\x09\x09\x09transmittance\x20=\x20diffuseColor\x20*\x20volumeAttenuation(\x20length(\x20transmissionRay\x20),\x20attenuationColor,\x20attenuationDistance\x20);\x0a\x09\x09#endif\x0a\x09\x09vec3\x20attenuatedColor\x20=\x20transmittance\x20*\x20transmittedLight.rgb;\x0a\x09\x09vec3\x20F\x20=\x20EnvironmentBRDF(\x20n,\x20v,\x20specularColor,\x20specularF90,\x20roughness\x20);\x0a\x09\x09float\x20transmittanceFactor\x20=\x20(\x20transmittance.r\x20+\x20transmittance.g\x20+\x20transmittance.b\x20)\x20/\x203.0;\x0a\x09\x09return\x20vec4(\x20(\x201.0\x20-\x20F\x20)\x20*\x20attenuatedColor,\x201.0\x20-\x20(\x201.0\x20-\x20transmittedLight.a\x20)\x20*\x20transmittanceFactor\x20);\x0a\x09}\x0a#endif','uv_pars_fragment':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09varying\x20vec2\x20vMapUv;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09varying\x20vec2\x20vAlphaMapUv;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09varying\x20vec2\x20vLightMapUv;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09varying\x20vec2\x20vAoMapUv;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09varying\x20vec2\x20vBumpMapUv;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09varying\x20vec2\x20vNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09varying\x20vec2\x20vEmissiveMapUv;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09varying\x20vec2\x20vMetalnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09varying\x20vec2\x20vAnisotropyMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09varying\x20vec2\x20vClearcoatMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09varying\x20vec2\x20vClearcoatNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vClearcoatRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09varying\x20vec2\x20vIridescenceMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09varying\x20vec2\x20vIridescenceThicknessMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09varying\x20vec2\x20vSheenColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vSheenRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09varying\x20vec2\x20vSpecularMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09varying\x20vec2\x20vSpecularColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09varying\x20vec2\x20vSpecularIntensityMapUv;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09uniform\x20mat3\x20transmissionMapTransform;\x0a\x09varying\x20vec2\x20vTransmissionMapUv;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20thicknessMapTransform;\x0a\x09varying\x20vec2\x20vThicknessMapUv;\x0a#endif','uv_pars_vertex':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09uniform\x20mat3\x20mapTransform;\x0a\x09varying\x20vec2\x20vMapUv;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20mat3\x20alphaMapTransform;\x0a\x09varying\x20vec2\x20vAlphaMapUv;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09uniform\x20mat3\x20lightMapTransform;\x0a\x09varying\x20vec2\x20vLightMapUv;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09uniform\x20mat3\x20aoMapTransform;\x0a\x09varying\x20vec2\x20vAoMapUv;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09uniform\x20mat3\x20bumpMapTransform;\x0a\x09varying\x20vec2\x20vBumpMapUv;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09uniform\x20mat3\x20normalMapTransform;\x0a\x09varying\x20vec2\x20vNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09uniform\x20mat3\x20displacementMapTransform;\x0a\x09varying\x20vec2\x20vDisplacementMapUv;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09uniform\x20mat3\x20emissiveMapTransform;\x0a\x09varying\x20vec2\x20vEmissiveMapUv;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09uniform\x20mat3\x20metalnessMapTransform;\x0a\x09varying\x20vec2\x20vMetalnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20roughnessMapTransform;\x0a\x09varying\x20vec2\x20vRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09uniform\x20mat3\x20anisotropyMapTransform;\x0a\x09varying\x20vec2\x20vAnisotropyMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09uniform\x20mat3\x20clearcoatMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09uniform\x20mat3\x20clearcoatNormalMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20clearcoatRoughnessMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09uniform\x20mat3\x20sheenColorMapTransform;\x0a\x09varying\x20vec2\x20vSheenColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20sheenRoughnessMapTransform;\x0a\x09varying\x20vec2\x20vSheenRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09uniform\x20mat3\x20iridescenceMapTransform;\x0a\x09varying\x20vec2\x20vIridescenceMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20iridescenceThicknessMapTransform;\x0a\x09varying\x20vec2\x20vIridescenceThicknessMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09uniform\x20mat3\x20specularMapTransform;\x0a\x09varying\x20vec2\x20vSpecularMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09uniform\x20mat3\x20specularColorMapTransform;\x0a\x09varying\x20vec2\x20vSpecularColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09uniform\x20mat3\x20specularIntensityMapTransform;\x0a\x09varying\x20vec2\x20vSpecularIntensityMapUv;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09uniform\x20mat3\x20transmissionMapTransform;\x0a\x09varying\x20vec2\x20vTransmissionMapUv;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20thicknessMapTransform;\x0a\x09varying\x20vec2\x20vThicknessMapUv;\x0a#endif','uv_vertex':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09vUv\x20=\x20vec3(\x20uv,\x201\x20).xy;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09vMapUv\x20=\x20(\x20mapTransform\x20*\x20vec3(\x20MAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09vAlphaMapUv\x20=\x20(\x20alphaMapTransform\x20*\x20vec3(\x20ALPHAMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09vLightMapUv\x20=\x20(\x20lightMapTransform\x20*\x20vec3(\x20LIGHTMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09vAoMapUv\x20=\x20(\x20aoMapTransform\x20*\x20vec3(\x20AOMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09vBumpMapUv\x20=\x20(\x20bumpMapTransform\x20*\x20vec3(\x20BUMPMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09vNormalMapUv\x20=\x20(\x20normalMapTransform\x20*\x20vec3(\x20NORMALMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09vDisplacementMapUv\x20=\x20(\x20displacementMapTransform\x20*\x20vec3(\x20DISPLACEMENTMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09vEmissiveMapUv\x20=\x20(\x20emissiveMapTransform\x20*\x20vec3(\x20EMISSIVEMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09vMetalnessMapUv\x20=\x20(\x20metalnessMapTransform\x20*\x20vec3(\x20METALNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09vRoughnessMapUv\x20=\x20(\x20roughnessMapTransform\x20*\x20vec3(\x20ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09vAnisotropyMapUv\x20=\x20(\x20anisotropyMapTransform\x20*\x20vec3(\x20ANISOTROPYMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09vClearcoatMapUv\x20=\x20(\x20clearcoatMapTransform\x20*\x20vec3(\x20CLEARCOATMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09vClearcoatNormalMapUv\x20=\x20(\x20clearcoatNormalMapTransform\x20*\x20vec3(\x20CLEARCOAT_NORMALMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09vClearcoatRoughnessMapUv\x20=\x20(\x20clearcoatRoughnessMapTransform\x20*\x20vec3(\x20CLEARCOAT_ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09vIridescenceMapUv\x20=\x20(\x20iridescenceMapTransform\x20*\x20vec3(\x20IRIDESCENCEMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09vIridescenceThicknessMapUv\x20=\x20(\x20iridescenceThicknessMapTransform\x20*\x20vec3(\x20IRIDESCENCE_THICKNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09vSheenColorMapUv\x20=\x20(\x20sheenColorMapTransform\x20*\x20vec3(\x20SHEEN_COLORMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09vSheenRoughnessMapUv\x20=\x20(\x20sheenRoughnessMapTransform\x20*\x20vec3(\x20SHEEN_ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09vSpecularMapUv\x20=\x20(\x20specularMapTransform\x20*\x20vec3(\x20SPECULARMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09vSpecularColorMapUv\x20=\x20(\x20specularColorMapTransform\x20*\x20vec3(\x20SPECULAR_COLORMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09vSpecularIntensityMapUv\x20=\x20(\x20specularIntensityMapTransform\x20*\x20vec3(\x20SPECULAR_INTENSITYMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09vTransmissionMapUv\x20=\x20(\x20transmissionMapTransform\x20*\x20vec3(\x20TRANSMISSIONMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09vThicknessMapUv\x20=\x20(\x20thicknessMapTransform\x20*\x20vec3(\x20THICKNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif','worldpos_vertex':'#if\x20defined(\x20USE_ENVMAP\x20)\x20||\x20defined(\x20DISTANCE\x20)\x20||\x20defined\x20(\x20USE_SHADOWMAP\x20)\x20||\x20defined\x20(\x20USE_TRANSMISSION\x20)\x20||\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09vec4\x20worldPosition\x20=\x20vec4(\x20transformed,\x201.0\x20);\x0a\x09#ifdef\x20USE_BATCHING\x0a\x09\x09worldPosition\x20=\x20batchingMatrix\x20*\x20worldPosition;\x0a\x09#endif\x0a\x09#ifdef\x20USE_INSTANCING\x0a\x09\x09worldPosition\x20=\x20instanceMatrix\x20*\x20worldPosition;\x0a\x09#endif\x0a\x09worldPosition\x20=\x20modelMatrix\x20*\x20worldPosition;\x0a#endif','background_vert':'varying\x20vec2\x20vUv;\x0auniform\x20mat3\x20uvTransform;\x0avoid\x20main()\x20{\x0a\x09vUv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20uv,\x201\x20)\x20).xy;\x0a\x09gl_Position\x20=\x20vec4(\x20position.xy,\x201.0,\x201.0\x20);\x0a}','background_frag':'uniform\x20sampler2D\x20t2D;\x0auniform\x20float\x20backgroundIntensity;\x0avarying\x20vec2\x20vUv;\x0avoid\x20main()\x20{\x0a\x09vec4\x20texColor\x20=\x20texture2D(\x20t2D,\x20vUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE\x0a\x09\x09texColor\x20=\x20vec4(\x20mix(\x20pow(\x20texColor.rgb\x20*\x200.9478672986\x20+\x20vec3(\x200.0521327014\x20),\x20vec3(\x202.4\x20)\x20),\x20texColor.rgb\x20*\x200.0773993808,\x20vec3(\x20lessThanEqual(\x20texColor.rgb,\x20vec3(\x200.04045\x20)\x20)\x20)\x20),\x20texColor.w\x20);\x0a\x09#endif\x0a\x09texColor.rgb\x20*=\x20backgroundIntensity;\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','backgroundCube_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_Position.z\x20=\x20gl_Position.w;\x0a}','backgroundCube_frag':'#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09uniform\x20samplerCube\x20envMap;\x0a#elif\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09uniform\x20sampler2D\x20envMap;\x0a#endif\x0auniform\x20float\x20flipEnvMap;\x0auniform\x20float\x20backgroundBlurriness;\x0auniform\x20float\x20backgroundIntensity;\x0auniform\x20mat3\x20backgroundRotation;\x0avarying\x20vec3\x20vWorldDirection;\x0a#include\x20<cube_uv_reflection_fragment>\x0avoid\x20main()\x20{\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09vec4\x20texColor\x20=\x20textureCube(\x20envMap,\x20backgroundRotation\x20*\x20vec3(\x20flipEnvMap\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09\x09vec4\x20texColor\x20=\x20textureCubeUV(\x20envMap,\x20backgroundRotation\x20*\x20vWorldDirection,\x20backgroundBlurriness\x20);\x0a\x09#else\x0a\x09\x09vec4\x20texColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x201.0\x20);\x0a\x09#endif\x0a\x09texColor.rgb\x20*=\x20backgroundIntensity;\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','cube_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_Position.z\x20=\x20gl_Position.w;\x0a}','cube_frag':'uniform\x20samplerCube\x20tCube;\x0auniform\x20float\x20tFlip;\x0auniform\x20float\x20opacity;\x0avarying\x20vec3\x20vWorldDirection;\x0avoid\x20main()\x20{\x0a\x09vec4\x20texColor\x20=\x20textureCube(\x20tCube,\x20vec3(\x20tFlip\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09gl_FragColor.a\x20*=\x20opacity;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','depth_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avarying\x20vec2\x20vHighPrecisionZW;\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vHighPrecisionZW\x20=\x20gl_Position.zw;\x0a}','depth_frag':'#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09uniform\x20float\x20opacity;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avarying\x20vec2\x20vHighPrecisionZW;\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x201.0\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09\x09diffuseColor.a\x20=\x20opacity;\x0a\x09#endif\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09float\x20fragCoordZ\x20=\x200.5\x20*\x20vHighPrecisionZW[0]\x20/\x20vHighPrecisionZW[1]\x20+\x200.5;\x0a\x09#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20vec3(\x201.0\x20-\x20fragCoordZ\x20),\x20opacity\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203201\x0a\x09\x09gl_FragColor\x20=\x20packDepthToRGBA(\x20fragCoordZ\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203202\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20packDepthToRGB(\x20fragCoordZ\x20),\x201.0\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203203\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20packDepthToRG(\x20fragCoordZ\x20),\x200.0,\x201.0\x20);\x0a\x09#endif\x0a}','distanceRGBA_vert':'#define\x20DISTANCE\x0avarying\x20vec3\x20vWorldPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a}','distanceRGBA_frag':'#define\x20DISTANCE\x0auniform\x20vec3\x20referencePosition;\x0auniform\x20float\x20nearDistance;\x0auniform\x20float\x20farDistance;\x0avarying\x20vec3\x20vWorldPosition;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main\x20()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x201.0\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09float\x20dist\x20=\x20length(\x20vWorldPosition\x20-\x20referencePosition\x20);\x0a\x09dist\x20=\x20(\x20dist\x20-\x20nearDistance\x20)\x20/\x20(\x20farDistance\x20-\x20nearDistance\x20);\x0a\x09dist\x20=\x20saturate(\x20dist\x20);\x0a\x09gl_FragColor\x20=\x20packDepthToRGBA(\x20dist\x20);\x0a}','equirect_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a}','equirect_frag':'uniform\x20sampler2D\x20tEquirect;\x0avarying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vec3\x20direction\x20=\x20normalize(\x20vWorldDirection\x20);\x0a\x09vec2\x20sampleUV\x20=\x20equirectUv(\x20direction\x20);\x0a\x09gl_FragColor\x20=\x20texture2D(\x20tEquirect,\x20sampleUV\x20);\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','linedashed_vert':'uniform\x20float\x20scale;\x0aattribute\x20float\x20lineDistance;\x0avarying\x20float\x20vLineDistance;\x0a#include\x20<common>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09vLineDistance\x20=\x20scale\x20*\x20lineDistance;\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','linedashed_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0auniform\x20float\x20dashSize;\x0auniform\x20float\x20totalSize;\x0avarying\x20float\x20vLineDistance;\x0a#include\x20<common>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09if\x20(\x20mod(\x20vLineDistance,\x20totalSize\x20)\x20>\x20dashSize\x20)\x20{\x0a\x09\x09discard;\x0a\x09}\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a}','meshbasic_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#if\x20defined\x20(\x20USE_ENVMAP\x20)\x20||\x20defined\x20(\x20USE_SKINNING\x20)\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinbase_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09\x09#include\x20<defaultnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshbasic_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09#ifdef\x20USE_LIGHTMAP\x0a\x09\x09vec4\x20lightMapTexel\x20=\x20texture2D(\x20lightMap,\x20vLightMapUv\x20);\x0a\x09\x09reflectedLight.indirectDiffuse\x20+=\x20lightMapTexel.rgb\x20*\x20lightMapIntensity\x20*\x20RECIPROCAL_PI;\x0a\x09#else\x0a\x09\x09reflectedLight.indirectDiffuse\x20+=\x20vec3(\x201.0\x20);\x0a\x09#endif\x0a\x09#include\x20<aomap_fragment>\x0a\x09reflectedLight.indirectDiffuse\x20*=\x20diffuseColor.rgb;\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.indirectDiffuse;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshlambert_vert':'#define\x20LAMBERT\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshlambert_frag':'#define\x20LAMBERT\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_lambert_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_lambert_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshmatcap_vert':'#define\x20MATCAP\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a}','meshmatcap_frag':'#define\x20MATCAP\x0auniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0auniform\x20sampler2D\x20matcap;\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09vec3\x20viewDir\x20=\x20normalize(\x20vViewPosition\x20);\x0a\x09vec3\x20x\x20=\x20normalize(\x20vec3(\x20viewDir.z,\x200.0,\x20-\x20viewDir.x\x20)\x20);\x0a\x09vec3\x20y\x20=\x20cross(\x20viewDir,\x20x\x20);\x0a\x09vec2\x20uv\x20=\x20vec2(\x20dot(\x20x,\x20normal\x20),\x20dot(\x20y,\x20normal\x20)\x20)\x20*\x200.495\x20+\x200.5;\x0a\x09#ifdef\x20USE_MATCAP\x0a\x09\x09vec4\x20matcapColor\x20=\x20texture2D(\x20matcap,\x20uv\x20);\x0a\x09#else\x0a\x09\x09vec4\x20matcapColor\x20=\x20vec4(\x20vec3(\x20mix(\x200.2,\x200.8,\x20uv.y\x20)\x20),\x201.0\x20);\x0a\x09#endif\x0a\x09vec3\x20outgoingLight\x20=\x20diffuseColor.rgb\x20*\x20matcapColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshnormal_vert':'#define\x20NORMAL\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09varying\x20vec3\x20vViewPosition;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a#endif\x0a}','meshnormal_frag':'#define\x20NORMAL\x0auniform\x20float\x20opacity;\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09varying\x20vec3\x20vViewPosition;\x0a#endif\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09gl_FragColor\x20=\x20vec4(\x20packNormalToRGB(\x20normal\x20),\x20diffuseColor.a\x20);\x0a\x09#ifdef\x20OPAQUE\x0a\x09\x09gl_FragColor.a\x20=\x201.0;\x0a\x09#endif\x0a}','meshphong_vert':'#define\x20PHONG\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshphong_frag':'#define\x20PHONG\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20vec3\x20specular;\x0auniform\x20float\x20shininess;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_phong_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_phong_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20reflectedLight.directSpecular\x20+\x20reflectedLight.indirectSpecular\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshphysical_vert':'#define\x20STANDARD\x0avarying\x20vec3\x20vViewPosition;\x0a#ifdef\x20USE_TRANSMISSION\x0a\x09varying\x20vec3\x20vWorldPosition;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a#ifdef\x20USE_TRANSMISSION\x0a\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a#endif\x0a}','meshphysical_frag':'#define\x20STANDARD\x0a#ifdef\x20PHYSICAL\x0a\x09#define\x20IOR\x0a\x09#define\x20USE_SPECULAR\x0a#endif\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20roughness;\x0auniform\x20float\x20metalness;\x0auniform\x20float\x20opacity;\x0a#ifdef\x20IOR\x0a\x09uniform\x20float\x20ior;\x0a#endif\x0a#ifdef\x20USE_SPECULAR\x0a\x09uniform\x20float\x20specularIntensity;\x0a\x09uniform\x20vec3\x20specularColor;\x0a\x09#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09\x09uniform\x20sampler2D\x20specularColorMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09\x09uniform\x20sampler2D\x20specularIntensityMap;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09uniform\x20float\x20clearcoat;\x0a\x09uniform\x20float\x20clearcoatRoughness;\x0a#endif\x0a#ifdef\x20USE_DISPERSION\x0a\x09uniform\x20float\x20dispersion;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09uniform\x20float\x20iridescence;\x0a\x09uniform\x20float\x20iridescenceIOR;\x0a\x09uniform\x20float\x20iridescenceThicknessMinimum;\x0a\x09uniform\x20float\x20iridescenceThicknessMaximum;\x0a#endif\x0a#ifdef\x20USE_SHEEN\x0a\x09uniform\x20vec3\x20sheenColor;\x0a\x09uniform\x20float\x20sheenRoughness;\x0a\x09#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09\x09uniform\x20sampler2D\x20sheenColorMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09\x09uniform\x20sampler2D\x20sheenRoughnessMap;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09uniform\x20vec2\x20anisotropyVector;\x0a\x09#ifdef\x20USE_ANISOTROPYMAP\x0a\x09\x09uniform\x20sampler2D\x20anisotropyMap;\x0a\x09#endif\x0a#endif\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<iridescence_fragment>\x0a#include\x20<cube_uv_reflection_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_physical_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_physical_pars_fragment>\x0a#include\x20<transmission_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<clearcoat_pars_fragment>\x0a#include\x20<iridescence_pars_fragment>\x0a#include\x20<roughnessmap_pars_fragment>\x0a#include\x20<metalnessmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<roughnessmap_fragment>\x0a\x09#include\x20<metalnessmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<clearcoat_normal_fragment_begin>\x0a\x09#include\x20<clearcoat_normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_physical_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20totalDiffuse\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse;\x0a\x09vec3\x20totalSpecular\x20=\x20reflectedLight.directSpecular\x20+\x20reflectedLight.indirectSpecular;\x0a\x09#include\x20<transmission_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20totalDiffuse\x20+\x20totalSpecular\x20+\x20totalEmissiveRadiance;\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09float\x20sheenEnergyComp\x20=\x201.0\x20-\x200.157\x20*\x20max3(\x20material.sheenColor\x20);\x0a\x09\x09outgoingLight\x20=\x20outgoingLight\x20*\x20sheenEnergyComp\x20+\x20sheenSpecularDirect\x20+\x20sheenSpecularIndirect;\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20dotNVcc\x20=\x20saturate(\x20dot(\x20geometryClearcoatNormal,\x20geometryViewDir\x20)\x20);\x0a\x09\x09vec3\x20Fcc\x20=\x20F_Schlick(\x20material.clearcoatF0,\x20material.clearcoatF90,\x20dotNVcc\x20);\x0a\x09\x09outgoingLight\x20=\x20outgoingLight\x20*\x20(\x201.0\x20-\x20material.clearcoat\x20*\x20Fcc\x20)\x20+\x20(\x20clearcoatSpecularDirect\x20+\x20clearcoatSpecularIndirect\x20)\x20*\x20material.clearcoat;\x0a\x09#endif\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshtoon_vert':'#define\x20TOON\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshtoon_frag':'#define\x20TOON\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<gradientmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_toon_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_toon_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','points_vert':'uniform\x20float\x20size;\x0auniform\x20float\x20scale;\x0a#include\x20<common>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0a#ifdef\x20USE_POINTS_UV\x0a\x09varying\x20vec2\x20vUv;\x0a\x09uniform\x20mat3\x20uvTransform;\x0a#endif\x0avoid\x20main()\x20{\x0a\x09#ifdef\x20USE_POINTS_UV\x0a\x09\x09vUv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20uv,\x201\x20)\x20).xy;\x0a\x09#endif\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_PointSize\x20=\x20size;\x0a\x09#ifdef\x20USE_SIZEATTENUATION\x0a\x09\x09bool\x20isPerspective\x20=\x20isPerspectiveMatrix(\x20projectionMatrix\x20);\x0a\x09\x09if\x20(\x20isPerspective\x20)\x20gl_PointSize\x20*=\x20(\x20scale\x20/\x20-\x20mvPosition.z\x20);\x0a\x09#endif\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','points_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<map_particle_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_particle_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a}','shadow_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','shadow_frag':'uniform\x20vec3\x20color;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<shadowmask_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09gl_FragColor\x20=\x20vec4(\x20color,\x20opacity\x20*\x20(\x201.0\x20-\x20getShadowMask()\x20)\x20);\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a}','sprite_vert':'uniform\x20float\x20rotation;\x0auniform\x20vec2\x20center;\x0a#include\x20<common>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09vec4\x20mvPosition\x20=\x20modelViewMatrix[\x203\x20];\x0a\x09vec2\x20scale\x20=\x20vec2(\x20length(\x20modelMatrix[\x200\x20].xyz\x20),\x20length(\x20modelMatrix[\x201\x20].xyz\x20)\x20);\x0a\x09#ifndef\x20USE_SIZEATTENUATION\x0a\x09\x09bool\x20isPerspective\x20=\x20isPerspectiveMatrix(\x20projectionMatrix\x20);\x0a\x09\x09if\x20(\x20isPerspective\x20)\x20scale\x20*=\x20-\x20mvPosition.z;\x0a\x09#endif\x0a\x09vec2\x20alignedPosition\x20=\x20(\x20position.xy\x20-\x20(\x20center\x20-\x20vec2(\x200.5\x20)\x20)\x20)\x20*\x20scale;\x0a\x09vec2\x20rotatedPosition;\x0a\x09rotatedPosition.x\x20=\x20cos(\x20rotation\x20)\x20*\x20alignedPosition.x\x20-\x20sin(\x20rotation\x20)\x20*\x20alignedPosition.y;\x0a\x09rotatedPosition.y\x20=\x20sin(\x20rotation\x20)\x20*\x20alignedPosition.x\x20+\x20cos(\x20rotation\x20)\x20*\x20alignedPosition.y;\x0a\x09mvPosition.xy\x20+=\x20rotatedPosition;\x0a\x09gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','sprite_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a}'},_0x4259d7={'common':{'diffuse':{'value':new _0xfde85b['Q1f'](0xffffff)},'opacity':{'value':0x1},'map':{'value':null},'mapTransform':{'value':new _0xfde85b['dwI']()},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0xfde85b['dwI']()},'alphaTest':{'value':0x0}},'specularmap':{'specularMap':{'value':null},'specularMapTransform':{'value':new _0xfde85b['dwI']()}},'envmap':{'envMap':{'value':null},'envMapRotation':{'value':new _0xfde85b['dwI']()},'flipEnvMap':{'value':-0x1},'reflectivity':{'value':0x1},'ior':{'value':1.5},'refractionRatio':{'value':0.98}},'aomap':{'aoMap':{'value':null},'aoMapIntensity':{'value':0x1},'aoMapTransform':{'value':new _0xfde85b['dwI']()}},'lightmap':{'lightMap':{'value':null},'lightMapIntensity':{'value':0x1},'lightMapTransform':{'value':new _0xfde85b['dwI']()}},'bumpmap':{'bumpMap':{'value':null},'bumpMapTransform':{'value':new _0xfde85b['dwI']()},'bumpScale':{'value':0x1}},'normalmap':{'normalMap':{'value':null},'normalMapTransform':{'value':new _0xfde85b['dwI']()},'normalScale':{'value':new _0xfde85b['I9Y'](0x1,0x1)}},'displacementmap':{'displacementMap':{'value':null},'displacementMapTransform':{'value':new _0xfde85b['dwI']()},'displacementScale':{'value':0x1},'displacementBias':{'value':0x0}},'emissivemap':{'emissiveMap':{'value':null},'emissiveMapTransform':{'value':new _0xfde85b['dwI']()}},'metalnessmap':{'metalnessMap':{'value':null},'metalnessMapTransform':{'value':new _0xfde85b['dwI']()}},'roughnessmap':{'roughnessMap':{'value':null},'roughnessMapTransform':{'value':new _0xfde85b['dwI']()}},'gradientmap':{'gradientMap':{'value':null}},'fog':{'fogDensity':{'value':0.00025},'fogNear':{'value':0x1},'fogFar':{'value':0x7d0},'fogColor':{'value':new _0xfde85b['Q1f'](0xffffff)}},'lights':{'ambientLightColor':{'value':[]},'lightProbe':{'value':[]},'directionalLights':{'value':[],'properties':{'direction':{},'color':{}}},'directionalLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{}}},'directionalShadowMap':{'value':[]},'directionalShadowMatrix':{'value':[]},'spotLights':{'value':[],'properties':{'color':{},'position':{},'direction':{},'distance':{},'coneCos':{},'penumbraCos':{},'decay':{}}},'spotLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{}}},'spotLightMap':{'value':[]},'spotShadowMap':{'value':[]},'spotLightMatrix':{'value':[]},'pointLights':{'value':[],'properties':{'color':{},'position':{},'decay':{},'distance':{}}},'pointLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{},'shadowCameraNear':{},'shadowCameraFar':{}}},'pointShadowMap':{'value':[]},'pointShadowMatrix':{'value':[]},'hemisphereLights':{'value':[],'properties':{'direction':{},'skyColor':{},'groundColor':{}}},'rectAreaLights':{'value':[],'properties':{'color':{},'position':{},'width':{},'height':{}}},'ltc_1':{'value':null},'ltc_2':{'value':null}},'points':{'diffuse':{'value':new _0xfde85b['Q1f'](0xffffff)},'opacity':{'value':0x1},'size':{'value':0x1},'scale':{'value':0x1},'map':{'value':null},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0xfde85b['dwI']()},'alphaTest':{'value':0x0},'uvTransform':{'value':new _0xfde85b['dwI']()}},'sprite':{'diffuse':{'value':new _0xfde85b['Q1f'](0xffffff)},'opacity':{'value':0x1},'center':{'value':new _0xfde85b['I9Y'](0.5,0.5)},'rotation':{'value':0x0},'map':{'value':null},'mapTransform':{'value':new _0xfde85b['dwI']()},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0xfde85b['dwI']()},'alphaTest':{'value':0x0}}},_0x31bbd9={'basic':{'uniforms':(0x0,_0xfde85b['Iit'])([_0x4259d7['common'],_0x4259d7['specularmap'],_0x4259d7['envmap'],_0x4259d7['aomap'],_0x4259d7['lightmap'],_0x4259d7['fog']]),'vertexShader':_0x4b63ee['meshbasic_vert'],'fragmentShader':_0x4b63ee['meshbasic_frag']},'lambert':{'uniforms':(0x0,_0xfde85b['Iit'])([_0x4259d7['common'],_0x4259d7['specularmap'],_0x4259d7['envmap'],_0x4259d7['aomap'],_0x4259d7['lightmap'],_0x4259d7['emissivemap'],_0x4259d7['bumpmap'],_0x4259d7['normalmap'],_0x4259d7['displacementmap'],_0x4259d7['fog'],_0x4259d7['lights'],{'emissive':{'value':new _0xfde85b['Q1f'](0x0)}}]),'vertexShader':_0x4b63ee['meshlambert_vert'],'fragmentShader':_0x4b63ee['meshlambert_frag']},'phong':{'uniforms':(0x0,_0xfde85b['Iit'])([_0x4259d7['common'],_0x4259d7['specularmap'],_0x4259d7['envmap'],_0x4259d7['aomap'],_0x4259d7['lightmap'],_0x4259d7['emissivemap'],_0x4259d7['bumpmap'],_0x4259d7['normalmap'],_0x4259d7['displacementmap'],_0x4259d7['fog'],_0x4259d7['lights'],{'emissive':{'value':new _0xfde85b['Q1f'](0x0)},'specular':{'value':new _0xfde85b['Q1f'](0x111111)},'shininess':{'value':0x1e}}]),'vertexShader':_0x4b63ee['meshphong_vert'],'fragmentShader':_0x4b63ee['meshphong_frag']},'standard':{'uniforms':(0x0,_0xfde85b['Iit'])([_0x4259d7['common'],_0x4259d7['envmap'],_0x4259d7['aomap'],_0x4259d7['lightmap'],_0x4259d7['emissivemap'],_0x4259d7['bumpmap'],_0x4259d7['normalmap'],_0x4259d7['displacementmap'],_0x4259d7['roughnessmap'],_0x4259d7['metalnessmap'],_0x4259d7['fog'],_0x4259d7['lights'],{'emissive':{'value':new _0xfde85b['Q1f'](0x0)},'roughness':{'value':0x1},'metalness':{'value':0x0},'envMapIntensity':{'value':0x1}}]),'vertexShader':_0x4b63ee['meshphysical_vert'],'fragmentShader':_0x4b63ee['meshphysical_frag']},'toon':{'uniforms':(0x0,_0xfde85b['Iit'])([_0x4259d7['common'],_0x4259d7['aomap'],_0x4259d7['lightmap'],_0x4259d7['emissivemap'],_0x4259d7['bumpmap'],_0x4259d7['normalmap'],_0x4259d7['displacementmap'],_0x4259d7['gradientmap'],_0x4259d7['fog'],_0x4259d7['lights'],{'emissive':{'value':new _0xfde85b['Q1f'](0x0)}}]),'vertexShader':_0x4b63ee['meshtoon_vert'],'fragmentShader':_0x4b63ee['meshtoon_frag']},'matcap':{'uniforms':(0x0,_0xfde85b['Iit'])([_0x4259d7['common'],_0x4259d7['bumpmap'],_0x4259d7['normalmap'],_0x4259d7['displacementmap'],_0x4259d7['fog'],{'matcap':{'value':null}}]),'vertexShader':_0x4b63ee['meshmatcap_vert'],'fragmentShader':_0x4b63ee['meshmatcap_frag']},'points':{'uniforms':(0x0,_0xfde85b['Iit'])([_0x4259d7['points'],_0x4259d7['fog']]),'vertexShader':_0x4b63ee['points_vert'],'fragmentShader':_0x4b63ee['points_frag']},'dashed':{'uniforms':(0x0,_0xfde85b['Iit'])([_0x4259d7['common'],_0x4259d7['fog'],{'scale':{'value':0x1},'dashSize':{'value':0x1},'totalSize':{'value':0x2}}]),'vertexShader':_0x4b63ee['linedashed_vert'],'fragmentShader':_0x4b63ee['linedashed_frag']},'depth':{'uniforms':(0x0,_0xfde85b['Iit'])([_0x4259d7['common'],_0x4259d7['displacementmap']]),'vertexShader':_0x4b63ee['depth_vert'],'fragmentShader':_0x4b63ee['depth_frag']},'normal':{'uniforms':(0x0,_0xfde85b['Iit'])([_0x4259d7['common'],_0x4259d7['bumpmap'],_0x4259d7['normalmap'],_0x4259d7['displacementmap'],{'opacity':{'value':0x1}}]),'vertexShader':_0x4b63ee['meshnormal_vert'],'fragmentShader':_0x4b63ee['meshnormal_frag']},'sprite':{'uniforms':(0x0,_0xfde85b['Iit'])([_0x4259d7['sprite'],_0x4259d7['fog']]),'vertexShader':_0x4b63ee['sprite_vert'],'fragmentShader':_0x4b63ee['sprite_frag']},'background':{'uniforms':{'uvTransform':{'value':new _0xfde85b['dwI']()},'t2D':{'value':null},'backgroundIntensity':{'value':0x1}},'vertexShader':_0x4b63ee['background_vert'],'fragmentShader':_0x4b63ee['background_frag']},'backgroundCube':{'uniforms':{'envMap':{'value':null},'flipEnvMap':{'value':-0x1},'backgroundBlurriness':{'value':0x0},'backgroundIntensity':{'value':0x1},'backgroundRotation':{'value':new _0xfde85b['dwI']()}},'vertexShader':_0x4b63ee['backgroundCube_vert'],'fragmentShader':_0x4b63ee['backgroundCube_frag']},'cube':{'uniforms':{'tCube':{'value':null},'tFlip':{'value':-0x1},'opacity':{'value':0x1}},'vertexShader':_0x4b63ee['cube_vert'],'fragmentShader':_0x4b63ee['cube_frag']},'equirect':{'uniforms':{'tEquirect':{'value':null}},'vertexShader':_0x4b63ee['equirect_vert'],'fragmentShader':_0x4b63ee['equirect_frag']},'distanceRGBA':{'uniforms':(0x0,_0xfde85b['Iit'])([_0x4259d7['common'],_0x4259d7['displacementmap'],{'referencePosition':{'value':new _0xfde85b['Pq0']()},'nearDistance':{'value':0x1},'farDistance':{'value':0x3e8}}]),'vertexShader':_0x4b63ee['distanceRGBA_vert'],'fragmentShader':_0x4b63ee['distanceRGBA_frag']},'shadow':{'uniforms':(0x0,_0xfde85b['Iit'])([_0x4259d7['lights'],_0x4259d7['fog'],{'color':{'value':new _0xfde85b['Q1f'](0x0)},'opacity':{'value':0x1}}]),'vertexShader':_0x4b63ee['shadow_vert'],'fragmentShader':_0x4b63ee['shadow_frag']}};_0x31bbd9['physical']={'uniforms':(0x0,_0xfde85b['Iit'])([_0x31bbd9['standard']['uniforms'],{'clearcoat':{'value':0x0},'clearcoatMap':{'value':null},'clearcoatMapTransform':{'value':new _0xfde85b['dwI']()},'clearcoatNormalMap':{'value':null},'clearcoatNormalMapTransform':{'value':new _0xfde85b['dwI']()},'clearcoatNormalScale':{'value':new _0xfde85b['I9Y'](0x1,0x1)},'clearcoatRoughness':{'value':0x0},'clearcoatRoughnessMap':{'value':null},'clearcoatRoughnessMapTransform':{'value':new _0xfde85b['dwI']()},'dispersion':{'value':0x0},'iridescence':{'value':0x0},'iridescenceMap':{'value':null},'iridescenceMapTransform':{'value':new _0xfde85b['dwI']()},'iridescenceIOR':{'value':1.3},'iridescenceThicknessMinimum':{'value':0x64},'iridescenceThicknessMaximum':{'value':0x190},'iridescenceThicknessMap':{'value':null},'iridescenceThicknessMapTransform':{'value':new _0xfde85b['dwI']()},'sheen':{'value':0x0},'sheenColor':{'value':new _0xfde85b['Q1f'](0x0)},'sheenColorMap':{'value':null},'sheenColorMapTransform':{'value':new _0xfde85b['dwI']()},'sheenRoughness':{'value':0x1},'sheenRoughnessMap':{'value':null},'sheenRoughnessMapTransform':{'value':new _0xfde85b['dwI']()},'transmission':{'value':0x0},'transmissionMap':{'value':null},'transmissionMapTransform':{'value':new _0xfde85b['dwI']()},'transmissionSamplerSize':{'value':new _0xfde85b['I9Y']()},'transmissionSamplerMap':{'value':null},'thickness':{'value':0x0},'thicknessMap':{'value':null},'thicknessMapTransform':{'value':new _0xfde85b['dwI']()},'attenuationDistance':{'value':0x0},'attenuationColor':{'value':new _0xfde85b['Q1f'](0x0)},'specularColor':{'value':new _0xfde85b['Q1f'](0x1,0x1,0x1)},'specularColorMap':{'value':null},'specularColorMapTransform':{'value':new _0xfde85b['dwI']()},'specularIntensity':{'value':0x1},'specularIntensityMap':{'value':null},'specularIntensityMapTransform':{'value':new _0xfde85b['dwI']()},'anisotropyVector':{'value':new _0xfde85b['I9Y']()},'anisotropyMap':{'value':null},'anisotropyMapTransform':{'value':new _0xfde85b['dwI']()}}]),'vertexShader':_0x4b63ee['meshphysical_vert'],'fragmentShader':_0x4b63ee['meshphysical_frag']};const _0x15fd35={'r':0x0,'b':0x0,'g':0x0},_0x17aa0c=new _0xfde85b['O9p'](),_0x963064=new _0xfde85b['kn4']();function _0x2a0fb6(_0x120337,_0x12b9ca,_0x4b085b,_0x4b4f35,_0x41d984,_0x33b635,_0xf74ef0){const _0xdc2103=new _0xfde85b['Q1f'](0x0);let _0x58441c,_0x3d56e3,_0x3b248f=!0x0===_0x33b635?0x0:0x1,_0x1b04df=null,_0x1a0ad3=0x0,_0x18499a=null;function _0x11f1ba(_0x3d9eb6){let _0x293444=!0x0===_0x3d9eb6['isScene']?_0x3d9eb6['background']:null;return _0x293444&&_0x293444['isTexture']&&(_0x293444=(_0x3d9eb6['backgroundBlurriness']>0x0?_0x4b085b:_0x12b9ca)['get'](_0x293444)),_0x293444;}function _0x29c049(_0x3ca30b,_0x2c144d){_0x3ca30b['getRGB'](_0x15fd35,(0x0,_0xfde85b['_Ut'])(_0x120337)),_0x4b4f35['buffers']['color']['setClear'](_0x15fd35['r'],_0x15fd35['g'],_0x15fd35['b'],_0x2c144d,_0xf74ef0);}return{'getClearColor':function(){return _0xdc2103;},'setClearColor':function(_0x46ef5e,_0x2d9ae6=0x1){_0xdc2103['set'](_0x46ef5e),_0x3b248f=_0x2d9ae6,_0x29c049(_0xdc2103,_0x3b248f);},'getClearAlpha':function(){return _0x3b248f;},'setClearAlpha':function(_0x5664ce){_0x3b248f=_0x5664ce,_0x29c049(_0xdc2103,_0x3b248f);},'render':function(_0x3bb1f9){let _0x42e581=!0x1;const _0x52dbd1=_0x11f1ba(_0x3bb1f9);null===_0x52dbd1?_0x29c049(_0xdc2103,_0x3b248f):_0x52dbd1&&_0x52dbd1['isColor']&&(_0x29c049(_0x52dbd1,0x1),_0x42e581=!0x0);const _0x427e67=_0x120337['xr']['getEnvironmentBlendMode']();'additive'===_0x427e67?_0x4b4f35['buffers']['color']['setClear'](0x0,0x0,0x0,0x1,_0xf74ef0):'alpha-blend'===_0x427e67&&_0x4b4f35['buffers']['color']['setClear'](0x0,0x0,0x0,0x0,_0xf74ef0),(_0x120337['autoClear']||_0x42e581)&&(_0x4b4f35['buffers']['depth']['setTest'](!0x0),_0x4b4f35['buffers']['depth']['setMask'](!0x0),_0x4b4f35['buffers']['color']['setMask'](!0x0),_0x120337['clear'](_0x120337['autoClearColor'],_0x120337['autoClearDepth'],_0x120337['autoClearStencil']));},'addToRenderList':function(_0x43909b,_0x285f26){const _0x267d31=_0x11f1ba(_0x285f26);_0x267d31&&(_0x267d31['isCubeTexture']||_0x267d31['mapping']===_0xfde85b['Om'])?(void 0x0===_0x3d56e3&&(_0x3d56e3=new _0xfde85b['eaF'](new _0xfde85b['iNn'](0x1,0x1,0x1),new _0xfde85b['BKk']({'name':'BackgroundCubeMaterial','uniforms':(0x0,_0xfde85b['lxW'])(_0x31bbd9['backgroundCube']['uniforms']),'vertexShader':_0x31bbd9['backgroundCube']['vertexShader'],'fragmentShader':_0x31bbd9['backgroundCube']['fragmentShader'],'side':_0xfde85b['hsX'],'depthTest':!0x1,'depthWrite':!0x1,'fog':!0x1})),_0x3d56e3['geometry']['deleteAttribute']('normal'),_0x3d56e3['geometry']['deleteAttribute']('uv'),_0x3d56e3['onBeforeRender']=function(_0x19477c,_0x1c0180,_0x174718){this['matrixWorld']['copyPosition'](_0x174718['matrixWorld']);},Object['defineProperty'](_0x3d56e3['material'],'envMap',{'get':function(){return this['uniforms']['envMap']['value'];}}),_0x41d984['update'](_0x3d56e3)),_0x17aa0c['copy'](_0x285f26['backgroundRotation']),_0x17aa0c['x']*=-0x1,_0x17aa0c['y']*=-0x1,_0x17aa0c['z']*=-0x1,_0x267d31['isCubeTexture']&&!0x1===_0x267d31['isRenderTargetTexture']&&(_0x17aa0c['y']*=-0x1,_0x17aa0c['z']*=-0x1),_0x3d56e3['material']['uniforms']['envMap']['value']=_0x267d31,_0x3d56e3['material']['uniforms']['flipEnvMap']['value']=_0x267d31['isCubeTexture']&&!0x1===_0x267d31['isRenderTargetTexture']?-0x1:0x1,_0x3d56e3['material']['uniforms']['backgroundBlurriness']['value']=_0x285f26['backgroundBlurriness'],_0x3d56e3['material']['uniforms']['backgroundIntensity']['value']=_0x285f26['backgroundIntensity'],_0x3d56e3['material']['uniforms']['backgroundRotation']['value']['setFromMatrix4'](_0x963064['makeRotationFromEuler'](_0x17aa0c)),_0x3d56e3['material']['toneMapped']=_0xfde85b['ppV']['getTransfer'](_0x267d31['colorSpace'])!==_0xfde85b['KLL'],_0x1b04df===_0x267d31&&_0x1a0ad3===_0x267d31['version']&&_0x18499a===_0x120337['toneMapping']||(_0x3d56e3['material']['needsUpdate']=!0x0,_0x1b04df=_0x267d31,_0x1a0ad3=_0x267d31['version'],_0x18499a=_0x120337['toneMapping']),_0x3d56e3['layers']['enableAll'](),_0x43909b['unshift'](_0x3d56e3,_0x3d56e3['geometry'],_0x3d56e3['material'],0x0,0x0,null)):_0x267d31&&_0x267d31['isTexture']&&(void 0x0===_0x58441c&&(_0x58441c=new _0xfde85b['eaF'](new _0xfde85b['bdM'](0x2,0x2),new _0xfde85b['BKk']({'name':'BackgroundMaterial','uniforms':(0x0,_0xfde85b['lxW'])(_0x31bbd9['background']['uniforms']),'vertexShader':_0x31bbd9['background']['vertexShader'],'fragmentShader':_0x31bbd9['background']['fragmentShader'],'side':_0xfde85b['hB5'],'depthTest':!0x1,'depthWrite':!0x1,'fog':!0x1})),_0x58441c['geometry']['deleteAttribute']('normal'),Object['defineProperty'](_0x58441c['material'],'map',{'get':function(){return this['uniforms']['t2D']['value'];}}),_0x41d984['update'](_0x58441c)),_0x58441c['material']['uniforms']['t2D']['value']=_0x267d31,_0x58441c['material']['uniforms']['backgroundIntensity']['value']=_0x285f26['backgroundIntensity'],_0x58441c['material']['toneMapped']=_0xfde85b['ppV']['getTransfer'](_0x267d31['colorSpace'])!==_0xfde85b['KLL'],!0x0===_0x267d31['matrixAutoUpdate']&&_0x267d31['updateMatrix'](),_0x58441c['material']['uniforms']['uvTransform']['value']['copy'](_0x267d31['matrix']),_0x1b04df===_0x267d31&&_0x1a0ad3===_0x267d31['version']&&_0x18499a===_0x120337['toneMapping']||(_0x58441c['material']['needsUpdate']=!0x0,_0x1b04df=_0x267d31,_0x1a0ad3=_0x267d31['version'],_0x18499a=_0x120337['toneMapping']),_0x58441c['layers']['enableAll'](),_0x43909b['unshift'](_0x58441c,_0x58441c['geometry'],_0x58441c['material'],0x0,0x0,null));},'dispose':function(){void 0x0!==_0x3d56e3&&(_0x3d56e3['geometry']['dispose'](),_0x3d56e3['material']['dispose']()),void 0x0!==_0x58441c&&(_0x58441c['geometry']['dispose'](),_0x58441c['material']['dispose']());}};}function _0x1319b9(_0x16c04a,_0x484196){const _0x460d6c=_0x16c04a['getParameter'](_0x16c04a['MAX_VERTEX_ATTRIBS']),_0x3904ae={},_0x4f876c=_0x3958dc(null);let _0x17a922=_0x4f876c,_0x2bd05c=!0x1;function _0x17162b(_0x4caba7){return _0x16c04a['bindVertexArray'](_0x4caba7);}function _0x1685de(_0x47c475){return _0x16c04a['deleteVertexArray'](_0x47c475);}function _0x3958dc(_0x36ee47){const _0xf935fa=[],_0xc8312c=[],_0x2d583c=[];for(let _0x31cc45=0x0;_0x31cc45<_0x460d6c;_0x31cc45++)_0xf935fa[_0x31cc45]=0x0,_0xc8312c[_0x31cc45]=0x0,_0x2d583c[_0x31cc45]=0x0;return{'geometry':null,'program':null,'wireframe':!0x1,'newAttributes':_0xf935fa,'enabledAttributes':_0xc8312c,'attributeDivisors':_0x2d583c,'object':_0x36ee47,'attributes':{},'index':null};}function _0x3c5085(){const _0x4d97d4=_0x17a922['newAttributes'];for(let _0x15e765=0x0,_0x5cf104=_0x4d97d4['length'];_0x15e765<_0x5cf104;_0x15e765++)_0x4d97d4[_0x15e765]=0x0;}function _0x4125ac(_0x4f981b){_0x2a3f07(_0x4f981b,0x0);}function _0x2a3f07(_0x5409a0,_0x1719f5){const _0x50c403=_0x17a922['newAttributes'],_0x508a8e=_0x17a922['enabledAttributes'],_0xf7f541=_0x17a922['attributeDivisors'];_0x50c403[_0x5409a0]=0x1,0x0===_0x508a8e[_0x5409a0]&&(_0x16c04a['enableVertexAttribArray'](_0x5409a0),_0x508a8e[_0x5409a0]=0x1),_0xf7f541[_0x5409a0]!==_0x1719f5&&(_0x16c04a['vertexAttribDivisor'](_0x5409a0,_0x1719f5),_0xf7f541[_0x5409a0]=_0x1719f5);}function _0x495a2c(){const _0x34e215=_0x17a922['newAttributes'],_0x14df21=_0x17a922['enabledAttributes'];for(let _0x47e0cd=0x0,_0x49e024=_0x14df21['length'];_0x47e0cd<_0x49e024;_0x47e0cd++)_0x14df21[_0x47e0cd]!==_0x34e215[_0x47e0cd]&&(_0x16c04a['disableVertexAttribArray'](_0x47e0cd),_0x14df21[_0x47e0cd]=0x0);}function _0x47d25c(_0x6d0221,_0x46eebd,_0x454b8d,_0x34b6ef,_0x88df49,_0x3ce784,_0x42e103){!0x0===_0x42e103?_0x16c04a['vertexAttribIPointer'](_0x6d0221,_0x46eebd,_0x454b8d,_0x88df49,_0x3ce784):_0x16c04a['vertexAttribPointer'](_0x6d0221,_0x46eebd,_0x454b8d,_0x34b6ef,_0x88df49,_0x3ce784);}function _0x490ce8(){_0x5c9a92(),_0x2bd05c=!0x0,_0x17a922!==_0x4f876c&&(_0x17a922=_0x4f876c,_0x17162b(_0x17a922['object']));}function _0x5c9a92(){_0x4f876c['geometry']=null,_0x4f876c['program']=null,_0x4f876c['wireframe']=!0x1;}return{'setup':function(_0x23b8eb,_0x13b3f0,_0x5b478d,_0x43a7e9,_0x1faba0){let _0x519997=!0x1;const _0x6cb706=function(_0x22a530,_0x536467,_0xef58b5){const _0x1fe44d=!0x0===_0xef58b5['wireframe'];let _0x558e96=_0x3904ae[_0x22a530['id']];void 0x0===_0x558e96&&(_0x558e96={},_0x3904ae[_0x22a530['id']]=_0x558e96);let _0x4ed59e=_0x558e96[_0x536467['id']];void 0x0===_0x4ed59e&&(_0x4ed59e={},_0x558e96[_0x536467['id']]=_0x4ed59e);let _0x3d47aa=_0x4ed59e[_0x1fe44d];return void 0x0===_0x3d47aa&&(_0x3d47aa=_0x3958dc(_0x16c04a['createVertexArray']()),_0x4ed59e[_0x1fe44d]=_0x3d47aa),_0x3d47aa;}(_0x43a7e9,_0x5b478d,_0x13b3f0);_0x17a922!==_0x6cb706&&(_0x17a922=_0x6cb706,_0x17162b(_0x17a922['object'])),_0x519997=function(_0x5f321d,_0x32ddcb,_0x33c8b1,_0x1cfae0){const _0x448a90=_0x17a922['attributes'],_0x58863d=_0x32ddcb['attributes'];let _0x346e59=0x0;const _0x5da4b9=_0x33c8b1['getAttributes']();for(const _0xdd6461 in _0x5da4b9){if(_0x5da4b9[_0xdd6461]['location']>=0x0){const _0x557225=_0x448a90[_0xdd6461];let _0x372d1d=_0x58863d[_0xdd6461];if(void 0x0===_0x372d1d&&('instanceMatrix'===_0xdd6461&&_0x5f321d['instanceMatrix']&&(_0x372d1d=_0x5f321d['instanceMatrix']),'instanceColor'===_0xdd6461&&_0x5f321d['instanceColor']&&(_0x372d1d=_0x5f321d['instanceColor'])),void 0x0===_0x557225)return!0x0;if(_0x557225['attribute']!==_0x372d1d)return!0x0;if(_0x372d1d&&_0x557225['data']!==_0x372d1d['data'])return!0x0;_0x346e59++;}}return _0x17a922['attributesNum']!==_0x346e59||_0x17a922['index']!==_0x1cfae0;}(_0x23b8eb,_0x43a7e9,_0x5b478d,_0x1faba0),_0x519997&&function(_0x4876c4,_0x9b3f59,_0x4ce8f9,_0x4f028e){const _0x58010c={},_0x51242b=_0x9b3f59['attributes'];let _0x3f5458=0x0;const _0x5577a5=_0x4ce8f9['getAttributes']();for(const _0x4c87a6 in _0x5577a5){if(_0x5577a5[_0x4c87a6]['location']>=0x0){let _0x2187de=_0x51242b[_0x4c87a6];void 0x0===_0x2187de&&('instanceMatrix'===_0x4c87a6&&_0x4876c4['instanceMatrix']&&(_0x2187de=_0x4876c4['instanceMatrix']),'instanceColor'===_0x4c87a6&&_0x4876c4['instanceColor']&&(_0x2187de=_0x4876c4['instanceColor']));const _0x17a3fd={};_0x17a3fd['attribute']=_0x2187de,_0x2187de&&_0x2187de['data']&&(_0x17a3fd['data']=_0x2187de['data']),_0x58010c[_0x4c87a6]=_0x17a3fd,_0x3f5458++;}}_0x17a922['attributes']=_0x58010c,_0x17a922['attributesNum']=_0x3f5458,_0x17a922['index']=_0x4f028e;}(_0x23b8eb,_0x43a7e9,_0x5b478d,_0x1faba0),null!==_0x1faba0&&_0x484196['update'](_0x1faba0,_0x16c04a['ELEMENT_ARRAY_BUFFER']),(_0x519997||_0x2bd05c)&&(_0x2bd05c=!0x1,function(_0x49accc,_0x21ddd8,_0x3e4589,_0x769493){_0x3c5085();const _0x292957=_0x769493['attributes'],_0x172d7f=_0x3e4589['getAttributes'](),_0x4d6cfe=_0x21ddd8['defaultAttributeValues'];for(const _0x33b5c4 in _0x172d7f){const _0x1ec12c=_0x172d7f[_0x33b5c4];if(_0x1ec12c['location']>=0x0){let _0x5764b1=_0x292957[_0x33b5c4];if(void 0x0===_0x5764b1&&('instanceMatrix'===_0x33b5c4&&_0x49accc['instanceMatrix']&&(_0x5764b1=_0x49accc['instanceMatrix']),'instanceColor'===_0x33b5c4&&_0x49accc['instanceColor']&&(_0x5764b1=_0x49accc['instanceColor'])),void 0x0!==_0x5764b1){const _0x13e492=_0x5764b1['normalized'],_0x5f4f67=_0x5764b1['itemSize'],_0x4f4280=_0x484196['get'](_0x5764b1);if(void 0x0===_0x4f4280)continue;const _0x32f345=_0x4f4280['buffer'],_0x4f5fb9=_0x4f4280['type'],_0x2142b7=_0x4f4280['bytesPerElement'],_0x2e8987=_0x4f5fb9===_0x16c04a['INT']||_0x4f5fb9===_0x16c04a['UNSIGNED_INT']||_0x5764b1['gpuType']===_0xfde85b['Yuy'];if(_0x5764b1['isInterleavedBufferAttribute']){const _0x251a33=_0x5764b1['data'],_0x160fee=_0x251a33['stride'],_0x456450=_0x5764b1['offset'];if(_0x251a33['isInstancedInterleavedBuffer']){for(let _0x15b985=0x0;_0x15b985<_0x1ec12c['locationSize'];_0x15b985++)_0x2a3f07(_0x1ec12c['location']+_0x15b985,_0x251a33['meshPerAttribute']);!0x0!==_0x49accc['isInstancedMesh']&&void 0x0===_0x769493['_maxInstanceCount']&&(_0x769493['_maxInstanceCount']=_0x251a33['meshPerAttribute']*_0x251a33['count']);}else{for(let _0x5f1fb6=0x0;_0x5f1fb6<_0x1ec12c['locationSize'];_0x5f1fb6++)_0x4125ac(_0x1ec12c['location']+_0x5f1fb6);}_0x16c04a['bindBuffer'](_0x16c04a['ARRAY_BUFFER'],_0x32f345);for(let _0x497a1b=0x0;_0x497a1b<_0x1ec12c['locationSize'];_0x497a1b++)_0x47d25c(_0x1ec12c['location']+_0x497a1b,_0x5f4f67/_0x1ec12c['locationSize'],_0x4f5fb9,_0x13e492,_0x160fee*_0x2142b7,(_0x456450+_0x5f4f67/_0x1ec12c['locationSize']*_0x497a1b)*_0x2142b7,_0x2e8987);}else{if(_0x5764b1['isInstancedBufferAttribute']){for(let _0x14e9d9=0x0;_0x14e9d9<_0x1ec12c['locationSize'];_0x14e9d9++)_0x2a3f07(_0x1ec12c['location']+_0x14e9d9,_0x5764b1['meshPerAttribute']);!0x0!==_0x49accc['isInstancedMesh']&&void 0x0===_0x769493['_maxInstanceCount']&&(_0x769493['_maxInstanceCount']=_0x5764b1['meshPerAttribute']*_0x5764b1['count']);}else{for(let _0x6a7f66=0x0;_0x6a7f66<_0x1ec12c['locationSize'];_0x6a7f66++)_0x4125ac(_0x1ec12c['location']+_0x6a7f66);}_0x16c04a['bindBuffer'](_0x16c04a['ARRAY_BUFFER'],_0x32f345);for(let _0x3c04ff=0x0;_0x3c04ff<_0x1ec12c['locationSize'];_0x3c04ff++)_0x47d25c(_0x1ec12c['location']+_0x3c04ff,_0x5f4f67/_0x1ec12c['locationSize'],_0x4f5fb9,_0x13e492,_0x5f4f67*_0x2142b7,_0x5f4f67/_0x1ec12c['locationSize']*_0x3c04ff*_0x2142b7,_0x2e8987);}}else{if(void 0x0!==_0x4d6cfe){const _0x50446f=_0x4d6cfe[_0x33b5c4];if(void 0x0!==_0x50446f)switch(_0x50446f['length']){case 0x2:_0x16c04a['vertexAttrib2fv'](_0x1ec12c['location'],_0x50446f);break;case 0x3:_0x16c04a['vertexAttrib3fv'](_0x1ec12c['location'],_0x50446f);break;case 0x4:_0x16c04a['vertexAttrib4fv'](_0x1ec12c['location'],_0x50446f);break;default:_0x16c04a['vertexAttrib1fv'](_0x1ec12c['location'],_0x50446f);}}}}}_0x495a2c();}(_0x23b8eb,_0x13b3f0,_0x5b478d,_0x43a7e9),null!==_0x1faba0&&_0x16c04a['bindBuffer'](_0x16c04a['ELEMENT_ARRAY_BUFFER'],_0x484196['get'](_0x1faba0)['buffer']));},'reset':_0x490ce8,'resetDefaultState':_0x5c9a92,'dispose':function(){_0x490ce8();for(const _0x34aa0c in _0x3904ae){const _0x2fdfd9=_0x3904ae[_0x34aa0c];for(const _0x357887 in _0x2fdfd9){const _0x39b08c=_0x2fdfd9[_0x357887];for(const _0xb6d7d5 in _0x39b08c)_0x1685de(_0x39b08c[_0xb6d7d5]['object']),delete _0x39b08c[_0xb6d7d5];delete _0x2fdfd9[_0x357887];}delete _0x3904ae[_0x34aa0c];}},'releaseStatesOfGeometry':function(_0x454187){if(void 0x0===_0x3904ae[_0x454187['id']])return;const _0x27b723=_0x3904ae[_0x454187['id']];for(const _0x4fb093 in _0x27b723){const _0x926d98=_0x27b723[_0x4fb093];for(const _0x4594cd in _0x926d98)_0x1685de(_0x926d98[_0x4594cd]['object']),delete _0x926d98[_0x4594cd];delete _0x27b723[_0x4fb093];}delete _0x3904ae[_0x454187['id']];},'releaseStatesOfProgram':function(_0x31e696){for(const _0x22709d in _0x3904ae){const _0x4f669d=_0x3904ae[_0x22709d];if(void 0x0===_0x4f669d[_0x31e696['id']])continue;const _0x308f06=_0x4f669d[_0x31e696['id']];for(const _0x3d4624 in _0x308f06)_0x1685de(_0x308f06[_0x3d4624]['object']),delete _0x308f06[_0x3d4624];delete _0x4f669d[_0x31e696['id']];}},'initAttributes':_0x3c5085,'enableAttribute':_0x4125ac,'disableUnusedAttributes':_0x495a2c};}function _0x1b0472(_0x5376e2,_0x2704e9,_0x3272a2){let _0x1279f5;function _0x4c6278(_0x5d721c,_0x5eb16d,_0x2ce744){0x0!==_0x2ce744&&(_0x5376e2['drawArraysInstanced'](_0x1279f5,_0x5d721c,_0x5eb16d,_0x2ce744),_0x3272a2['update'](_0x5eb16d,_0x1279f5,_0x2ce744));}this['setMode']=function(_0x1e59c5){_0x1279f5=_0x1e59c5;},this['render']=function(_0x53fed7,_0x4e5c5c){_0x5376e2['drawArrays'](_0x1279f5,_0x53fed7,_0x4e5c5c),_0x3272a2['update'](_0x4e5c5c,_0x1279f5,0x1);},this['renderInstances']=_0x4c6278,this['renderMultiDraw']=function(_0x9d31b8,_0x5169d0,_0x5962fc){if(0x0===_0x5962fc)return;_0x2704e9['get']('WEBGL_multi_draw')['multiDrawArraysWEBGL'](_0x1279f5,_0x9d31b8,0x0,_0x5169d0,0x0,_0x5962fc);let _0x3842a5=0x0;for(let _0x372ae7=0x0;_0x372ae7<_0x5962fc;_0x372ae7++)_0x3842a5+=_0x5169d0[_0x372ae7];_0x3272a2['update'](_0x3842a5,_0x1279f5,0x1);},this['renderMultiDrawInstances']=function(_0x2dc6b5,_0xb4252d,_0xe35ff8,_0xc97694){if(0x0===_0xe35ff8)return;const _0x263690=_0x2704e9['get']('WEBGL_multi_draw');if(null===_0x263690){for(let _0x58f1a0=0x0;_0x58f1a0<_0x2dc6b5['length'];_0x58f1a0++)_0x4c6278(_0x2dc6b5[_0x58f1a0],_0xb4252d[_0x58f1a0],_0xc97694[_0x58f1a0]);}else{_0x263690['multiDrawArraysInstancedWEBGL'](_0x1279f5,_0x2dc6b5,0x0,_0xb4252d,0x0,_0xc97694,0x0,_0xe35ff8);let _0x49a1df=0x0;for(let _0x425333=0x0;_0x425333<_0xe35ff8;_0x425333++)_0x49a1df+=_0xb4252d[_0x425333]*_0xc97694[_0x425333];_0x3272a2['update'](_0x49a1df,_0x1279f5,0x1);}};}function _0x3b3739(_0x4b24d7,_0x3b5c8d,_0x56dc9d,_0x2a9cac){let _0x1b592b;function _0xbb1ec2(_0x3a8668){if('highp'===_0x3a8668){if(_0x4b24d7['getShaderPrecisionFormat'](_0x4b24d7['VERTEX_SHADER'],_0x4b24d7['HIGH_FLOAT'])['precision']>0x0&&_0x4b24d7['getShaderPrecisionFormat'](_0x4b24d7['FRAGMENT_SHADER'],_0x4b24d7['HIGH_FLOAT'])['precision']>0x0)return'highp';_0x3a8668='mediump';}return'mediump'===_0x3a8668&&_0x4b24d7['getShaderPrecisionFormat'](_0x4b24d7['VERTEX_SHADER'],_0x4b24d7['MEDIUM_FLOAT'])['precision']>0x0&&_0x4b24d7['getShaderPrecisionFormat'](_0x4b24d7['FRAGMENT_SHADER'],_0x4b24d7['MEDIUM_FLOAT'])['precision']>0x0?'mediump':'lowp';}let _0x573a7e=void 0x0!==_0x56dc9d['precision']?_0x56dc9d['precision']:'highp';const _0x1b8ae0=_0xbb1ec2(_0x573a7e);_0x1b8ae0!==_0x573a7e&&(console['warn']('THREE.WebGLRenderer:',_0x573a7e,'not\x20supported,\x20using',_0x1b8ae0,'instead.'),_0x573a7e=_0x1b8ae0);const _0x49548c=!0x0===_0x56dc9d['logarithmicDepthBuffer'],_0x5a0bc1=!0x0===_0x56dc9d['reverseDepthBuffer']&&_0x3b5c8d['has']('EXT_clip_control'),_0x1d4fdb=_0x4b24d7['getParameter'](_0x4b24d7['MAX_TEXTURE_IMAGE_UNITS']),_0x6bdd30=_0x4b24d7['getParameter'](_0x4b24d7['MAX_VERTEX_TEXTURE_IMAGE_UNITS']);return{'isWebGL2':!0x0,'getMaxAnisotropy':function(){if(void 0x0!==_0x1b592b)return _0x1b592b;if(!0x0===_0x3b5c8d['has']('EXT_texture_filter_anisotropic')){const _0xab1c5b=_0x3b5c8d['get']('EXT_texture_filter_anisotropic');_0x1b592b=_0x4b24d7['getParameter'](_0xab1c5b['MAX_TEXTURE_MAX_ANISOTROPY_EXT']);}else _0x1b592b=0x0;return _0x1b592b;},'getMaxPrecision':_0xbb1ec2,'textureFormatReadable':function(_0x5d5bca){return _0x5d5bca===_0xfde85b['GWd']||_0x2a9cac['convert'](_0x5d5bca)===_0x4b24d7['getParameter'](_0x4b24d7['IMPLEMENTATION_COLOR_READ_FORMAT']);},'textureTypeReadable':function(_0x5e2e97){const _0x22de04=_0x5e2e97===_0xfde85b['ix0']&&(_0x3b5c8d['has']('EXT_color_buffer_half_float')||_0x3b5c8d['has']('EXT_color_buffer_float'));return!(_0x5e2e97!==_0xfde85b['OUM']&&_0x2a9cac['convert'](_0x5e2e97)!==_0x4b24d7['getParameter'](_0x4b24d7['IMPLEMENTATION_COLOR_READ_TYPE'])&&_0x5e2e97!==_0xfde85b['RQf']&&!_0x22de04);},'precision':_0x573a7e,'logarithmicDepthBuffer':_0x49548c,'reverseDepthBuffer':_0x5a0bc1,'maxTextures':_0x1d4fdb,'maxVertexTextures':_0x6bdd30,'maxTextureSize':_0x4b24d7['getParameter'](_0x4b24d7['MAX_TEXTURE_SIZE']),'maxCubemapSize':_0x4b24d7['getParameter'](_0x4b24d7['MAX_CUBE_MAP_TEXTURE_SIZE']),'maxAttributes':_0x4b24d7['getParameter'](_0x4b24d7['MAX_VERTEX_ATTRIBS']),'maxVertexUniforms':_0x4b24d7['getParameter'](_0x4b24d7['MAX_VERTEX_UNIFORM_VECTORS']),'maxVaryings':_0x4b24d7['getParameter'](_0x4b24d7['MAX_VARYING_VECTORS']),'maxFragmentUniforms':_0x4b24d7['getParameter'](_0x4b24d7['MAX_FRAGMENT_UNIFORM_VECTORS']),'vertexTextures':_0x6bdd30>0x0,'maxSamples':_0x4b24d7['getParameter'](_0x4b24d7['MAX_SAMPLES'])};}function _0x14e981(_0x4fd22e){const _0x971385=this;let _0x8a2c53=null,_0x3eaa28=0x0,_0x5dd2b4=!0x1,_0x59da4d=!0x1;const _0xddd04e=new _0xfde85b['Zcv'](),_0x14f98e=new _0xfde85b['dwI'](),_0x57ffc6={'value':null,'needsUpdate':!0x1};function _0x5dafc6(_0x5a2131,_0x3fbf6a,_0x52a106,_0x574017){const _0xc33ed1=null!==_0x5a2131?_0x5a2131['length']:0x0;let _0x3d4db3=null;if(0x0!==_0xc33ed1){if(_0x3d4db3=_0x57ffc6['value'],!0x0!==_0x574017||null===_0x3d4db3){const _0x4901b5=_0x52a106+0x4*_0xc33ed1,_0x2c8235=_0x3fbf6a['matrixWorldInverse'];_0x14f98e['getNormalMatrix'](_0x2c8235),(null===_0x3d4db3||_0x3d4db3['length']<_0x4901b5)&&(_0x3d4db3=new Float32Array(_0x4901b5));for(let _0x238150=0x0,_0x4693d0=_0x52a106;_0x238150!==_0xc33ed1;++_0x238150,_0x4693d0+=0x4)_0xddd04e['copy'](_0x5a2131[_0x238150])['applyMatrix4'](_0x2c8235,_0x14f98e),_0xddd04e['normal']['toArray'](_0x3d4db3,_0x4693d0),_0x3d4db3[_0x4693d0+0x3]=_0xddd04e['constant'];}_0x57ffc6['value']=_0x3d4db3,_0x57ffc6['needsUpdate']=!0x0;}return _0x971385['numPlanes']=_0xc33ed1,_0x971385['numIntersection']=0x0,_0x3d4db3;}this['uniform']=_0x57ffc6,this['numPlanes']=0x0,this['numIntersection']=0x0,this['init']=function(_0x5f5c73,_0x3dee56){const _0x40a3db=0x0!==_0x5f5c73['length']||_0x3dee56||0x0!==_0x3eaa28||_0x5dd2b4;return _0x5dd2b4=_0x3dee56,_0x3eaa28=_0x5f5c73['length'],_0x40a3db;},this['beginShadows']=function(){_0x59da4d=!0x0,_0x5dafc6(null);},this['endShadows']=function(){_0x59da4d=!0x1;},this['setGlobalState']=function(_0x15f679,_0x3f9298){_0x8a2c53=_0x5dafc6(_0x15f679,_0x3f9298,0x0);},this['setState']=function(_0x3238fc,_0x1ea85b,_0xbd1d3c){const _0x3cb560=_0x3238fc['clippingPlanes'],_0x19b7d3=_0x3238fc['clipIntersection'],_0x1ea55f=_0x3238fc['clipShadows'],_0x185dae=_0x4fd22e['get'](_0x3238fc);if(!_0x5dd2b4||null===_0x3cb560||0x0===_0x3cb560['length']||_0x59da4d&&!_0x1ea55f)_0x59da4d?_0x5dafc6(null):(function(){_0x57ffc6['value']!==_0x8a2c53&&(_0x57ffc6['value']=_0x8a2c53,_0x57ffc6['needsUpdate']=_0x3eaa28>0x0),(_0x971385['numPlanes']=_0x3eaa28,_0x971385['numIntersection']=0x0);}());else{const _0xb42681=_0x59da4d?0x0:_0x3eaa28,_0x427030=0x4*_0xb42681;let _0x3b008d=_0x185dae['clippingState']||null;_0x57ffc6['value']=_0x3b008d,_0x3b008d=_0x5dafc6(_0x3cb560,_0x1ea85b,_0x427030,_0xbd1d3c);for(let _0x46e3e8=0x0;_0x46e3e8!==_0x427030;++_0x46e3e8)_0x3b008d[_0x46e3e8]=_0x8a2c53[_0x46e3e8];_0x185dae['clippingState']=_0x3b008d,this['numIntersection']=_0x19b7d3?this['numPlanes']:0x0,this['numPlanes']+=_0xb42681;}};}function _0x1e50ed(_0x25b684){let _0x4d58d0=new WeakMap();function _0x453fef(_0x5d0b44,_0x582869){return _0x582869===_0xfde85b['wfO']?_0x5d0b44['mapping']=_0xfde85b['hy7']:_0x582869===_0xfde85b['uV5']&&(_0x5d0b44['mapping']=_0xfde85b['xFO']),_0x5d0b44;}function _0x5ba601(_0x23d985){const _0x499815=_0x23d985['target'];_0x499815['removeEventListener']('dispose',_0x5ba601);const _0x2f8490=_0x4d58d0['get'](_0x499815);void 0x0!==_0x2f8490&&(_0x4d58d0['delete'](_0x499815),_0x2f8490['dispose']());}return{'get':function(_0x16b976){if(_0x16b976&&_0x16b976['isTexture']){const _0x3b7895=_0x16b976['mapping'];if(_0x3b7895===_0xfde85b['wfO']||_0x3b7895===_0xfde85b['uV5']){if(_0x4d58d0['has'](_0x16b976))return _0x453fef(_0x4d58d0['get'](_0x16b976)['texture'],_0x16b976['mapping']);{const _0x57f782=_0x16b976['image'];if(_0x57f782&&_0x57f782['height']>0x0){const _0x210825=new _0xfde85b['o6l'](_0x57f782['height']);return _0x210825['fromEquirectangularTexture'](_0x25b684,_0x16b976),_0x4d58d0['set'](_0x16b976,_0x210825),_0x16b976['addEventListener']('dispose',_0x5ba601),_0x453fef(_0x210825['texture'],_0x16b976['mapping']);}return null;}}}return _0x16b976;},'dispose':function(){_0x4d58d0=new WeakMap();}};}const _0x168ae1=[0.125,0.215,0.35,0.446,0.526,0.582],_0x54d2a2=0x14,_0x4169c1=new _0xfde85b['qUd'](),_0x4c2c68=new _0xfde85b['Q1f']();let _0x181612=null,_0x55fa3e=0x0,_0x36613c=0x0,_0xb210c7=!0x1;const _0x479a55=(0x1+Math['sqrt'](0x5))/0x2,_0x228113=0x1/_0x479a55,_0x20e30d=[new _0xfde85b['Pq0'](-_0x479a55,_0x228113,0x0),new _0xfde85b['Pq0'](_0x479a55,_0x228113,0x0),new _0xfde85b['Pq0'](-_0x228113,0x0,_0x479a55),new _0xfde85b['Pq0'](_0x228113,0x0,_0x479a55),new _0xfde85b['Pq0'](0x0,_0x479a55,-_0x228113),new _0xfde85b['Pq0'](0x0,_0x479a55,_0x228113),new _0xfde85b['Pq0'](-0x1,0x1,-0x1),new _0xfde85b['Pq0'](0x1,0x1,-0x1),new _0xfde85b['Pq0'](-0x1,0x1,0x1),new _0xfde85b['Pq0'](0x1,0x1,0x1)];class _0x2c11c5{constructor(_0x6356c2){this['_renderer']=_0x6356c2,this['_pingPongRenderTarget']=null,this['_lodMax']=0x0,this['_cubeSize']=0x0,this['_lodPlanes']=[],this['_sizeLods']=[],this['_sigmas']=[],this['_blurMaterial']=null,this['_cubemapMaterial']=null,this['_equirectMaterial']=null,this['_compileMaterial'](this['_blurMaterial']);}['fromScene'](_0x316c0b,_0x4866c9=0x0,_0x5d68de=0.1,_0x4469d5=0x64){_0x181612=this['_renderer']['getRenderTarget'](),_0x55fa3e=this['_renderer']['getActiveCubeFace'](),_0x36613c=this['_renderer']['getActiveMipmapLevel'](),_0xb210c7=this['_renderer']['xr']['enabled'],this['_renderer']['xr']['enabled']=!0x1,this['_setSize'](0x100);const _0xdc021b=this['_allocateTargets']();return _0xdc021b['depthBuffer']=!0x0,this['_sceneToCubeUV'](_0x316c0b,_0x5d68de,_0x4469d5,_0xdc021b),_0x4866c9>0x0&&this['_blur'](_0xdc021b,0x0,0x0,_0x4866c9),this['_applyPMREM'](_0xdc021b),this['_cleanup'](_0xdc021b),_0xdc021b;}['fromEquirectangular'](_0x318b25,_0x2c4a5d=null){return this['_fromTexture'](_0x318b25,_0x2c4a5d);}['fromCubemap'](_0x5688c9,_0x3cb2c6=null){return this['_fromTexture'](_0x5688c9,_0x3cb2c6);}['compileCubemapShader'](){null===this['_cubemapMaterial']&&(this['_cubemapMaterial']=_0x1f7c67(),this['_compileMaterial'](this['_cubemapMaterial']));}['compileEquirectangularShader'](){null===this['_equirectMaterial']&&(this['_equirectMaterial']=_0x19f1be(),this['_compileMaterial'](this['_equirectMaterial']));}['dispose'](){this['_dispose'](),null!==this['_cubemapMaterial']&&this['_cubemapMaterial']['dispose'](),null!==this['_equirectMaterial']&&this['_equirectMaterial']['dispose']();}['_setSize'](_0x362539){this['_lodMax']=Math['floor'](Math['log2'](_0x362539)),this['_cubeSize']=Math['pow'](0x2,this['_lodMax']);}['_dispose'](){null!==this['_blurMaterial']&&this['_blurMaterial']['dispose'](),null!==this['_pingPongRenderTarget']&&this['_pingPongRenderTarget']['dispose']();for(let _0x5e808e=0x0;_0x5e808e<this['_lodPlanes']['length'];_0x5e808e++)this['_lodPlanes'][_0x5e808e]['dispose']();}['_cleanup'](_0x2e3e67){this['_renderer']['setRenderTarget'](_0x181612,_0x55fa3e,_0x36613c),this['_renderer']['xr']['enabled']=_0xb210c7,_0x2e3e67['scissorTest']=!0x1,_0x3f6446(_0x2e3e67,0x0,0x0,_0x2e3e67['width'],_0x2e3e67['height']);}['_fromTexture'](_0x34f8a8,_0x1f24a5){_0x34f8a8['mapping']===_0xfde85b['hy7']||_0x34f8a8['mapping']===_0xfde85b['xFO']?this['_setSize'](0x0===_0x34f8a8['image']['length']?0x10:_0x34f8a8['image'][0x0]['width']||_0x34f8a8['image'][0x0]['image']['width']):this['_setSize'](_0x34f8a8['image']['width']/0x4),_0x181612=this['_renderer']['getRenderTarget'](),_0x55fa3e=this['_renderer']['getActiveCubeFace'](),_0x36613c=this['_renderer']['getActiveMipmapLevel'](),_0xb210c7=this['_renderer']['xr']['enabled'],this['_renderer']['xr']['enabled']=!0x1;const _0x5a201d=_0x1f24a5||this['_allocateTargets']();return this['_textureToCubeUV'](_0x34f8a8,_0x5a201d),this['_applyPMREM'](_0x5a201d),this['_cleanup'](_0x5a201d),_0x5a201d;}['_allocateTargets'](){const _0x5d929a=0x3*Math['max'](this['_cubeSize'],0x70),_0x493e5e=0x4*this['_cubeSize'],_0x2fe5d2={'magFilter':_0xfde85b['k6q'],'minFilter':_0xfde85b['k6q'],'generateMipmaps':!0x1,'type':_0xfde85b['ix0'],'format':_0xfde85b['GWd'],'colorSpace':_0xfde85b['Zr2'],'depthBuffer':!0x1},_0x56c1be=_0x23c762(_0x5d929a,_0x493e5e,_0x2fe5d2);if(null===this['_pingPongRenderTarget']||this['_pingPongRenderTarget']['width']!==_0x5d929a||this['_pingPongRenderTarget']['height']!==_0x493e5e){null!==this['_pingPongRenderTarget']&&this['_dispose'](),this['_pingPongRenderTarget']=_0x23c762(_0x5d929a,_0x493e5e,_0x2fe5d2);const {_lodMax:_0x1f7541}=this;({sizeLods:this['_sizeLods'],lodPlanes:this['_lodPlanes'],sigmas:this['_sigmas']}=function(_0x7f85b4){const _0x2b2528=[],_0x371d14=[],_0x17260e=[];let _0xbfb3e2=_0x7f85b4;const _0x4602af=_0x7f85b4-0x4+0x1+_0x168ae1['length'];for(let _0x42045c=0x0;_0x42045c<_0x4602af;_0x42045c++){const _0x5d5209=Math['pow'](0x2,_0xbfb3e2);_0x371d14['push'](_0x5d5209);let _0x2e1cb2=0x1/_0x5d5209;_0x42045c>_0x7f85b4-0x4?_0x2e1cb2=_0x168ae1[_0x42045c-_0x7f85b4+0x4-0x1]:0x0===_0x42045c&&(_0x2e1cb2=0x0),_0x17260e['push'](_0x2e1cb2);const _0x513b68=0x1/(_0x5d5209-0x2),_0x2f7793=-_0x513b68,_0x52880b=0x1+_0x513b68,_0x269fbc=[_0x2f7793,_0x2f7793,_0x52880b,_0x2f7793,_0x52880b,_0x52880b,_0x2f7793,_0x2f7793,_0x52880b,_0x52880b,_0x2f7793,_0x52880b],_0x35e0c5=0x6,_0x2f8f75=0x6,_0x4747a0=0x3,_0x58a940=0x2,_0xe6e0d4=0x1,_0x553707=new Float32Array(_0x4747a0*_0x2f8f75*_0x35e0c5),_0x3fe662=new Float32Array(_0x58a940*_0x2f8f75*_0x35e0c5),_0x58c202=new Float32Array(_0xe6e0d4*_0x2f8f75*_0x35e0c5);for(let _0x40aca4=0x0;_0x40aca4<_0x35e0c5;_0x40aca4++){const _0x1a5250=_0x40aca4%0x3*0x2/0x3-0x1,_0x314987=_0x40aca4>0x2?0x0:-0x1,_0x5e45f4=[_0x1a5250,_0x314987,0x0,_0x1a5250+0x2/0x3,_0x314987,0x0,_0x1a5250+0x2/0x3,_0x314987+0x1,0x0,_0x1a5250,_0x314987,0x0,_0x1a5250+0x2/0x3,_0x314987+0x1,0x0,_0x1a5250,_0x314987+0x1,0x0];_0x553707['set'](_0x5e45f4,_0x4747a0*_0x2f8f75*_0x40aca4),_0x3fe662['set'](_0x269fbc,_0x58a940*_0x2f8f75*_0x40aca4);const _0x5d30bd=[_0x40aca4,_0x40aca4,_0x40aca4,_0x40aca4,_0x40aca4,_0x40aca4];_0x58c202['set'](_0x5d30bd,_0xe6e0d4*_0x2f8f75*_0x40aca4);}const _0x526632=new _0xfde85b['LoY']();_0x526632['setAttribute']('position',new _0xfde85b['THS'](_0x553707,_0x4747a0)),_0x526632['setAttribute']('uv',new _0xfde85b['THS'](_0x3fe662,_0x58a940)),_0x526632['setAttribute']('faceIndex',new _0xfde85b['THS'](_0x58c202,_0xe6e0d4)),_0x2b2528['push'](_0x526632),_0xbfb3e2>0x4&&_0xbfb3e2--;}return{'lodPlanes':_0x2b2528,'sizeLods':_0x371d14,'sigmas':_0x17260e};}(_0x1f7541),this['_blurMaterial']=function(_0x4cbb7d,_0x4fd515,_0x57efcb){const _0x1542d1=new Float32Array(_0x54d2a2),_0x2652f3=new _0xfde85b['Pq0'](0x0,0x1,0x0),_0x4970be=new _0xfde85b['BKk']({'name':'SphericalGaussianBlur','defines':{'n':_0x54d2a2,'CUBEUV_TEXEL_WIDTH':0x1/_0x4fd515,'CUBEUV_TEXEL_HEIGHT':0x1/_0x57efcb,'CUBEUV_MAX_MIP':_0x4cbb7d+'.0'},'uniforms':{'envMap':{'value':null},'samples':{'value':0x1},'weights':{'value':_0x1542d1},'latitudinal':{'value':!0x1},'dTheta':{'value':0x0},'mipInt':{'value':0x0},'poleAxis':{'value':_0x2652f3}},'vertexShader':_0x55af0d(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x09\x09\x09uniform\x20int\x20samples;\x0a\x09\x09\x09uniform\x20float\x20weights[\x20n\x20];\x0a\x09\x09\x09uniform\x20bool\x20latitudinal;\x0a\x09\x09\x09uniform\x20float\x20dTheta;\x0a\x09\x09\x09uniform\x20float\x20mipInt;\x0a\x09\x09\x09uniform\x20vec3\x20poleAxis;\x0a\x0a\x09\x09\x09#define\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09#include\x20<cube_uv_reflection_fragment>\x0a\x0a\x09\x09\x09vec3\x20getSample(\x20float\x20theta,\x20vec3\x20axis\x20)\x20{\x0a\x0a\x09\x09\x09\x09float\x20cosTheta\x20=\x20cos(\x20theta\x20);\x0a\x09\x09\x09\x09//\x20Rodrigues\x27\x20axis-angle\x20rotation\x0a\x09\x09\x09\x09vec3\x20sampleDirection\x20=\x20vOutputDirection\x20*\x20cosTheta\x0a\x09\x09\x09\x09\x09+\x20cross(\x20axis,\x20vOutputDirection\x20)\x20*\x20sin(\x20theta\x20)\x0a\x09\x09\x09\x09\x09+\x20axis\x20*\x20dot(\x20axis,\x20vOutputDirection\x20)\x20*\x20(\x201.0\x20-\x20cosTheta\x20);\x0a\x0a\x09\x09\x09\x09return\x20bilinearCubeUV(\x20envMap,\x20sampleDirection,\x20mipInt\x20);\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20axis\x20=\x20latitudinal\x20?\x20poleAxis\x20:\x20cross(\x20poleAxis,\x20vOutputDirection\x20);\x0a\x0a\x09\x09\x09\x09if\x20(\x20all(\x20equal(\x20axis,\x20vec3(\x200.0\x20)\x20)\x20)\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09axis\x20=\x20vec3(\x20vOutputDirection.z,\x200.0,\x20-\x20vOutputDirection.x\x20);\x0a\x0a\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09axis\x20=\x20normalize(\x20axis\x20);\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x201.0\x20);\x0a\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x200\x20]\x20*\x20getSample(\x200.0,\x20axis\x20);\x0a\x0a\x09\x09\x09\x09for\x20(\x20int\x20i\x20=\x201;\x20i\x20<\x20n;\x20i++\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09if\x20(\x20i\x20>=\x20samples\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09\x09break;\x0a\x0a\x09\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09\x09float\x20theta\x20=\x20dTheta\x20*\x20float(\x20i\x20);\x0a\x09\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x20i\x20]\x20*\x20getSample(\x20-1.0\x20*\x20theta,\x20axis\x20);\x0a\x09\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x20i\x20]\x20*\x20getSample(\x20theta,\x20axis\x20);\x0a\x0a\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0xfde85b['XIg'],'depthTest':!0x1,'depthWrite':!0x1});return _0x4970be;}(_0x1f7541,_0x5d929a,_0x493e5e));}return _0x56c1be;}['_compileMaterial'](_0x34e340){const _0x545833=new _0xfde85b['eaF'](this['_lodPlanes'][0x0],_0x34e340);this['_renderer']['compile'](_0x545833,_0x4169c1);}['_sceneToCubeUV'](_0x3b601f,_0x5550bb,_0x28e18a,_0xc69318){const _0x436590=new _0xfde85b['ubm'](0x5a,0x1,_0x5550bb,_0x28e18a),_0x2b8e8f=[0x1,-0x1,0x1,0x1,0x1,0x1],_0x5a6776=[0x1,0x1,0x1,-0x1,-0x1,-0x1],_0x13d66e=this['_renderer'],_0x19d4b3=_0x13d66e['autoClear'],_0x275868=_0x13d66e['toneMapping'];_0x13d66e['getClearColor'](_0x4c2c68),_0x13d66e['toneMapping']=_0xfde85b['y_p'],_0x13d66e['autoClear']=!0x1;const _0x5a5717=new _0xfde85b['V9B']({'name':'PMREM.Background','side':_0xfde85b['hsX'],'depthWrite':!0x1,'depthTest':!0x1}),_0x2682f2=new _0xfde85b['eaF'](new _0xfde85b['iNn'](),_0x5a5717);let _0x3918e5=!0x1;const _0x3be495=_0x3b601f['background'];_0x3be495?_0x3be495['isColor']&&(_0x5a5717['color']['copy'](_0x3be495),_0x3b601f['background']=null,_0x3918e5=!0x0):(_0x5a5717['color']['copy'](_0x4c2c68),_0x3918e5=!0x0);for(let _0x5735de=0x0;_0x5735de<0x6;_0x5735de++){const _0x4f7dfe=_0x5735de%0x3;0x0===_0x4f7dfe?(_0x436590['up']['set'](0x0,_0x2b8e8f[_0x5735de],0x0),_0x436590['lookAt'](_0x5a6776[_0x5735de],0x0,0x0)):0x1===_0x4f7dfe?(_0x436590['up']['set'](0x0,0x0,_0x2b8e8f[_0x5735de]),_0x436590['lookAt'](0x0,_0x5a6776[_0x5735de],0x0)):(_0x436590['up']['set'](0x0,_0x2b8e8f[_0x5735de],0x0),_0x436590['lookAt'](0x0,0x0,_0x5a6776[_0x5735de]));const _0x251ebf=this['_cubeSize'];_0x3f6446(_0xc69318,_0x4f7dfe*_0x251ebf,_0x5735de>0x2?_0x251ebf:0x0,_0x251ebf,_0x251ebf),_0x13d66e['setRenderTarget'](_0xc69318),_0x3918e5&&_0x13d66e['render'](_0x2682f2,_0x436590),_0x13d66e['render'](_0x3b601f,_0x436590);}_0x2682f2['geometry']['dispose'](),_0x2682f2['material']['dispose'](),_0x13d66e['toneMapping']=_0x275868,_0x13d66e['autoClear']=_0x19d4b3,_0x3b601f['background']=_0x3be495;}['_textureToCubeUV'](_0x379054,_0x1625ba){const _0xdc40bc=this['_renderer'],_0x1cf7fc=_0x379054['mapping']===_0xfde85b['hy7']||_0x379054['mapping']===_0xfde85b['xFO'];_0x1cf7fc?(null===this['_cubemapMaterial']&&(this['_cubemapMaterial']=_0x1f7c67()),this['_cubemapMaterial']['uniforms']['flipEnvMap']['value']=!0x1===_0x379054['isRenderTargetTexture']?-0x1:0x1):null===this['_equirectMaterial']&&(this['_equirectMaterial']=_0x19f1be());const _0x1b376d=_0x1cf7fc?this['_cubemapMaterial']:this['_equirectMaterial'],_0x170a45=new _0xfde85b['eaF'](this['_lodPlanes'][0x0],_0x1b376d);_0x1b376d['uniforms']['envMap']['value']=_0x379054;const _0x9bc81e=this['_cubeSize'];_0x3f6446(_0x1625ba,0x0,0x0,0x3*_0x9bc81e,0x2*_0x9bc81e),_0xdc40bc['setRenderTarget'](_0x1625ba),_0xdc40bc['render'](_0x170a45,_0x4169c1);}['_applyPMREM'](_0x447e3a){const _0xea2dab=this['_renderer'],_0x2854e5=_0xea2dab['autoClear'];_0xea2dab['autoClear']=!0x1;const _0x2f01c4=this['_lodPlanes']['length'];for(let _0x2e7042=0x1;_0x2e7042<_0x2f01c4;_0x2e7042++){const _0x524cb6=Math['sqrt'](this['_sigmas'][_0x2e7042]*this['_sigmas'][_0x2e7042]-this['_sigmas'][_0x2e7042-0x1]*this['_sigmas'][_0x2e7042-0x1]),_0x269a2b=_0x20e30d[(_0x2f01c4-_0x2e7042-0x1)%_0x20e30d['length']];this['_blur'](_0x447e3a,_0x2e7042-0x1,_0x2e7042,_0x524cb6,_0x269a2b);}_0xea2dab['autoClear']=_0x2854e5;}['_blur'](_0x1697f8,_0x5049cb,_0x162db7,_0x1de342,_0x3e4dfc){const _0xf0ed94=this['_pingPongRenderTarget'];this['_halfBlur'](_0x1697f8,_0xf0ed94,_0x5049cb,_0x162db7,_0x1de342,'latitudinal',_0x3e4dfc),this['_halfBlur'](_0xf0ed94,_0x1697f8,_0x162db7,_0x162db7,_0x1de342,'longitudinal',_0x3e4dfc);}['_halfBlur'](_0x141eb9,_0x1dd4d6,_0x4a5ef4,_0x314a19,_0x482739,_0x579ea7,_0x5f2829){const _0x5c8ed8=this['_renderer'],_0x52e857=this['_blurMaterial'];'latitudinal'!==_0x579ea7&&'longitudinal'!==_0x579ea7&&console['error']('blur\x20direction\x20must\x20be\x20either\x20latitudinal\x20or\x20longitudinal!');const _0x43a25d=new _0xfde85b['eaF'](this['_lodPlanes'][_0x314a19],_0x52e857),_0x345748=_0x52e857['uniforms'],_0x51ca37=this['_sizeLods'][_0x4a5ef4]-0x1,_0x5a19f8=isFinite(_0x482739)?Math['PI']/(0x2*_0x51ca37):0x2*Math['PI']/0x27,_0x2a15b4=_0x482739/_0x5a19f8,_0x56960b=isFinite(_0x482739)?0x1+Math['floor'](0x3*_0x2a15b4):_0x54d2a2;_0x56960b>_0x54d2a2&&console['warn']('sigmaRadians,\x20'+_0x482739+',\x20is\x20too\x20large\x20and\x20will\x20clip,\x20as\x20it\x20requested\x20'+_0x56960b+'\x20samples\x20when\x20the\x20maximum\x20is\x20set\x20to\x2020');const _0x1aed3f=[];let _0x3b3fd0=0x0;for(let _0x2ac45d=0x0;_0x2ac45d<_0x54d2a2;++_0x2ac45d){const _0x24a281=_0x2ac45d/_0x2a15b4,_0x428a8b=Math['exp'](-_0x24a281*_0x24a281/0x2);_0x1aed3f['push'](_0x428a8b),0x0===_0x2ac45d?_0x3b3fd0+=_0x428a8b:_0x2ac45d<_0x56960b&&(_0x3b3fd0+=0x2*_0x428a8b);}for(let _0x171b02=0x0;_0x171b02<_0x1aed3f['length'];_0x171b02++)_0x1aed3f[_0x171b02]=_0x1aed3f[_0x171b02]/_0x3b3fd0;_0x345748['envMap']['value']=_0x141eb9['texture'],_0x345748['samples']['value']=_0x56960b,_0x345748['weights']['value']=_0x1aed3f,_0x345748['latitudinal']['value']='latitudinal'===_0x579ea7,_0x5f2829&&(_0x345748['poleAxis']['value']=_0x5f2829);const {_lodMax:_0x22e6b2}=this;_0x345748['dTheta']['value']=_0x5a19f8,_0x345748['mipInt']['value']=_0x22e6b2-_0x4a5ef4;const _0x148e85=this['_sizeLods'][_0x314a19];_0x3f6446(_0x1dd4d6,0x3*_0x148e85*(_0x314a19>_0x22e6b2-0x4?_0x314a19-_0x22e6b2+0x4:0x0),0x4*(this['_cubeSize']-_0x148e85),0x3*_0x148e85,0x2*_0x148e85),_0x5c8ed8['setRenderTarget'](_0x1dd4d6),_0x5c8ed8['render'](_0x43a25d,_0x4169c1);}}function _0x23c762(_0x58e141,_0x411396,_0x3d104d){const _0x528bf9=new _0xfde85b['nWS'](_0x58e141,_0x411396,_0x3d104d);return _0x528bf9['texture']['mapping']=_0xfde85b['Om'],_0x528bf9['texture']['name']='PMREM.cubeUv',_0x528bf9['scissorTest']=!0x0,_0x528bf9;}function _0x3f6446(_0x3312d2,_0x3dbf7f,_0x4abe77,_0x5ec8a5,_0x5dc2cc){_0x3312d2['viewport']['set'](_0x3dbf7f,_0x4abe77,_0x5ec8a5,_0x5dc2cc),_0x3312d2['scissor']['set'](_0x3dbf7f,_0x4abe77,_0x5ec8a5,_0x5dc2cc);}function _0x19f1be(){return new _0xfde85b['BKk']({'name':'EquirectangularToCubeUV','uniforms':{'envMap':{'value':null}},'vertexShader':_0x55af0d(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x0a\x09\x09\x09#include\x20<common>\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20outputDirection\x20=\x20normalize(\x20vOutputDirection\x20);\x0a\x09\x09\x09\x09vec2\x20uv\x20=\x20equirectUv(\x20outputDirection\x20);\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(\x20texture2D\x20(\x20envMap,\x20uv\x20).rgb,\x201.0\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0xfde85b['XIg'],'depthTest':!0x1,'depthWrite':!0x1});}function _0x1f7c67(){return new _0xfde85b['BKk']({'name':'CubemapToCubeUV','uniforms':{'envMap':{'value':null},'flipEnvMap':{'value':-0x1}},'vertexShader':_0x55af0d(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09uniform\x20float\x20flipEnvMap;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20textureCube(\x20envMap,\x20vec3(\x20flipEnvMap\x20*\x20vOutputDirection.x,\x20vOutputDirection.yz\x20)\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0xfde85b['XIg'],'depthTest':!0x1,'depthWrite':!0x1});}function _0x55af0d(){return'\x0a\x0a\x09\x09precision\x20mediump\x20float;\x0a\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09attribute\x20float\x20faceIndex;\x0a\x0a\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09//\x20RH\x20coordinate\x20system;\x20PMREM\x20face-indexing\x20convention\x0a\x09\x09vec3\x20getDirection(\x20vec2\x20uv,\x20float\x20face\x20)\x20{\x0a\x0a\x09\x09\x09uv\x20=\x202.0\x20*\x20uv\x20-\x201.0;\x0a\x0a\x09\x09\x09vec3\x20direction\x20=\x20vec3(\x20uv,\x201.0\x20);\x0a\x0a\x09\x09\x09if\x20(\x20face\x20==\x200.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.zyx;\x20//\x20(\x201,\x20v,\x20u\x20)\x20pos\x20x\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x201.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.xzy;\x0a\x09\x09\x09\x09direction.xz\x20*=\x20-1.0;\x20//\x20(\x20-u,\x201,\x20-v\x20)\x20pos\x20y\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x202.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction.x\x20*=\x20-1.0;\x20//\x20(\x20-u,\x20v,\x201\x20)\x20pos\x20z\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x203.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.zyx;\x0a\x09\x09\x09\x09direction.xz\x20*=\x20-1.0;\x20//\x20(\x20-1,\x20v,\x20-u\x20)\x20neg\x20x\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x204.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.xzy;\x0a\x09\x09\x09\x09direction.xy\x20*=\x20-1.0;\x20//\x20(\x20-u,\x20-1,\x20v\x20)\x20neg\x20y\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x205.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction.z\x20*=\x20-1.0;\x20//\x20(\x20u,\x20v,\x20-1\x20)\x20neg\x20z\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09return\x20direction;\x0a\x0a\x09\x09}\x0a\x0a\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09vOutputDirection\x20=\x20getDirection(\x20uv,\x20faceIndex\x20);\x0a\x09\x09\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x0a\x09\x09}\x0a\x09';}function _0x54a3c4(_0x1a96de){let _0x490518=new WeakMap(),_0x2ddd1e=null;function _0x2caf89(_0x4d95b9){const _0x57fad7=_0x4d95b9['target'];_0x57fad7['removeEventListener']('dispose',_0x2caf89);const _0x441cdf=_0x490518['get'](_0x57fad7);void 0x0!==_0x441cdf&&(_0x490518['delete'](_0x57fad7),_0x441cdf['dispose']());}return{'get':function(_0x4be10f){if(_0x4be10f&&_0x4be10f['isTexture']){const _0x5f2fde=_0x4be10f['mapping'],_0x1ba392=_0x5f2fde===_0xfde85b['wfO']||_0x5f2fde===_0xfde85b['uV5'],_0x213c5f=_0x5f2fde===_0xfde85b['hy7']||_0x5f2fde===_0xfde85b['xFO'];if(_0x1ba392||_0x213c5f){let _0x209940=_0x490518['get'](_0x4be10f);const _0x193372=void 0x0!==_0x209940?_0x209940['texture']['pmremVersion']:0x0;if(_0x4be10f['isRenderTargetTexture']&&_0x4be10f['pmremVersion']!==_0x193372)return null===_0x2ddd1e&&(_0x2ddd1e=new _0x2c11c5(_0x1a96de)),_0x209940=_0x1ba392?_0x2ddd1e['fromEquirectangular'](_0x4be10f,_0x209940):_0x2ddd1e['fromCubemap'](_0x4be10f,_0x209940),_0x209940['texture']['pmremVersion']=_0x4be10f['pmremVersion'],_0x490518['set'](_0x4be10f,_0x209940),_0x209940['texture'];if(void 0x0!==_0x209940)return _0x209940['texture'];{const _0x5eb349=_0x4be10f['image'];return _0x1ba392&&_0x5eb349&&_0x5eb349['height']>0x0||_0x213c5f&&_0x5eb349&&function(_0x28137a){let _0x525a7e=0x0;const _0x491545=0x6;for(let _0x585719=0x0;_0x585719<_0x491545;_0x585719++)void 0x0!==_0x28137a[_0x585719]&&_0x525a7e++;return _0x525a7e===_0x491545;}(_0x5eb349)?(null===_0x2ddd1e&&(_0x2ddd1e=new _0x2c11c5(_0x1a96de)),_0x209940=_0x1ba392?_0x2ddd1e['fromEquirectangular'](_0x4be10f):_0x2ddd1e['fromCubemap'](_0x4be10f),_0x209940['texture']['pmremVersion']=_0x4be10f['pmremVersion'],_0x490518['set'](_0x4be10f,_0x209940),_0x4be10f['addEventListener']('dispose',_0x2caf89),_0x209940['texture']):null;}}}return _0x4be10f;},'dispose':function(){_0x490518=new WeakMap(),null!==_0x2ddd1e&&(_0x2ddd1e['dispose'](),_0x2ddd1e=null);}};}function _0x198443(_0x6ea666){const _0xa935f7={};function _0x3055d5(_0x1cc99d){if(void 0x0!==_0xa935f7[_0x1cc99d])return _0xa935f7[_0x1cc99d];let _0x56b9c4;switch(_0x1cc99d){case'WEBGL_depth_texture':_0x56b9c4=_0x6ea666['getExtension']('WEBGL_depth_texture')||_0x6ea666['getExtension']('MOZ_WEBGL_depth_texture')||_0x6ea666['getExtension']('WEBKIT_WEBGL_depth_texture');break;case'EXT_texture_filter_anisotropic':_0x56b9c4=_0x6ea666['getExtension']('EXT_texture_filter_anisotropic')||_0x6ea666['getExtension']('MOZ_EXT_texture_filter_anisotropic')||_0x6ea666['getExtension']('WEBKIT_EXT_texture_filter_anisotropic');break;case'WEBGL_compressed_texture_s3tc':_0x56b9c4=_0x6ea666['getExtension']('WEBGL_compressed_texture_s3tc')||_0x6ea666['getExtension']('MOZ_WEBGL_compressed_texture_s3tc')||_0x6ea666['getExtension']('WEBKIT_WEBGL_compressed_texture_s3tc');break;case'WEBGL_compressed_texture_pvrtc':_0x56b9c4=_0x6ea666['getExtension']('WEBGL_compressed_texture_pvrtc')||_0x6ea666['getExtension']('WEBKIT_WEBGL_compressed_texture_pvrtc');break;default:_0x56b9c4=_0x6ea666['getExtension'](_0x1cc99d);}return _0xa935f7[_0x1cc99d]=_0x56b9c4,_0x56b9c4;}return{'has':function(_0x5a9ad3){return null!==_0x3055d5(_0x5a9ad3);},'init':function(){_0x3055d5('EXT_color_buffer_float'),_0x3055d5('WEBGL_clip_cull_distance'),_0x3055d5('OES_texture_float_linear'),_0x3055d5('EXT_color_buffer_half_float'),_0x3055d5('WEBGL_multisampled_render_to_texture'),_0x3055d5('WEBGL_render_shared_exponent');},'get':function(_0xcd3fb3){const _0x547d99=_0x3055d5(_0xcd3fb3);return null===_0x547d99&&(0x0,_0xfde85b['mcG'])('THREE.WebGLRenderer:\x20'+_0xcd3fb3+'\x20extension\x20not\x20supported.'),_0x547d99;}};}function _0x458cd7(_0x21857d,_0x138f58,_0x5a15f4,_0x76d97b){const _0x161c99={},_0x512fd6=new WeakMap();function _0x48c046(_0x11e055){const _0x524f88=_0x11e055['target'];null!==_0x524f88['index']&&_0x138f58['remove'](_0x524f88['index']);for(const _0x4375b8 in _0x524f88['attributes'])_0x138f58['remove'](_0x524f88['attributes'][_0x4375b8]);_0x524f88['removeEventListener']('dispose',_0x48c046),delete _0x161c99[_0x524f88['id']];const _0x140b4a=_0x512fd6['get'](_0x524f88);_0x140b4a&&(_0x138f58['remove'](_0x140b4a),_0x512fd6['delete'](_0x524f88)),_0x76d97b['releaseStatesOfGeometry'](_0x524f88),!0x0===_0x524f88['isInstancedBufferGeometry']&&delete _0x524f88['_maxInstanceCount'],_0x5a15f4['memory']['geometries']--;}function _0x3cde22(_0x3b3a4d){const _0x33a364=[],_0x23b0dc=_0x3b3a4d['index'],_0x3297e8=_0x3b3a4d['attributes']['position'];let _0x46c947=0x0;if(null!==_0x23b0dc){const _0x32974c=_0x23b0dc['array'];_0x46c947=_0x23b0dc['version'];for(let _0x12dc80=0x0,_0x36e39a=_0x32974c['length'];_0x12dc80<_0x36e39a;_0x12dc80+=0x3){const _0x3e68ac=_0x32974c[_0x12dc80+0x0],_0xc86e94=_0x32974c[_0x12dc80+0x1],_0x155e7c=_0x32974c[_0x12dc80+0x2];_0x33a364['push'](_0x3e68ac,_0xc86e94,_0xc86e94,_0x155e7c,_0x155e7c,_0x3e68ac);}}else{if(void 0x0===_0x3297e8)return;{const _0x40a423=_0x3297e8['array'];_0x46c947=_0x3297e8['version'];for(let _0x2ea20=0x0,_0x38f736=_0x40a423['length']/0x3-0x1;_0x2ea20<_0x38f736;_0x2ea20+=0x3){const _0x1bb379=_0x2ea20+0x0,_0x193bf0=_0x2ea20+0x1,_0x3883d0=_0x2ea20+0x2;_0x33a364['push'](_0x1bb379,_0x193bf0,_0x193bf0,_0x3883d0,_0x3883d0,_0x1bb379);}}}const _0xabd79f=new(((0x0,_0xfde85b['AQS'])(_0x33a364))?_0xfde85b['MW4']:_0xfde85b['A$4'])(_0x33a364,0x1);_0xabd79f['version']=_0x46c947;const _0x382beb=_0x512fd6['get'](_0x3b3a4d);_0x382beb&&_0x138f58['remove'](_0x382beb),_0x512fd6['set'](_0x3b3a4d,_0xabd79f);}return{'get':function(_0x550413,_0x5281df){return!0x0===_0x161c99[_0x5281df['id']]||(_0x5281df['addEventListener']('dispose',_0x48c046),_0x161c99[_0x5281df['id']]=!0x0,_0x5a15f4['memory']['geometries']++),_0x5281df;},'update':function(_0x5f4677){const _0x25908c=_0x5f4677['attributes'];for(const _0x1d3c83 in _0x25908c)_0x138f58['update'](_0x25908c[_0x1d3c83],_0x21857d['ARRAY_BUFFER']);},'getWireframeAttribute':function(_0xe2ea4b){const _0x31360a=_0x512fd6['get'](_0xe2ea4b);if(_0x31360a){const _0x10f117=_0xe2ea4b['index'];null!==_0x10f117&&_0x31360a['version']<_0x10f117['version']&&_0x3cde22(_0xe2ea4b);}else _0x3cde22(_0xe2ea4b);return _0x512fd6['get'](_0xe2ea4b);}};}function _0x3b1f45(_0x4b6d13,_0x36590f,_0x41e34c){let _0x144805,_0x1220ca,_0x4242a2;function _0x1e34a2(_0x2652b5,_0x102b04,_0x12633f){0x0!==_0x12633f&&(_0x4b6d13['drawElementsInstanced'](_0x144805,_0x102b04,_0x1220ca,_0x2652b5*_0x4242a2,_0x12633f),_0x41e34c['update'](_0x102b04,_0x144805,_0x12633f));}this['setMode']=function(_0x583b15){_0x144805=_0x583b15;},this['setIndex']=function(_0x438517){_0x1220ca=_0x438517['type'],_0x4242a2=_0x438517['bytesPerElement'];},this['render']=function(_0x46e282,_0x432326){_0x4b6d13['drawElements'](_0x144805,_0x432326,_0x1220ca,_0x46e282*_0x4242a2),_0x41e34c['update'](_0x432326,_0x144805,0x1);},this['renderInstances']=_0x1e34a2,this['renderMultiDraw']=function(_0xa8f9df,_0x15f7d5,_0x564c25){if(0x0===_0x564c25)return;_0x36590f['get']('WEBGL_multi_draw')['multiDrawElementsWEBGL'](_0x144805,_0x15f7d5,0x0,_0x1220ca,_0xa8f9df,0x0,_0x564c25);let _0x622fb4=0x0;for(let _0x1f2d8c=0x0;_0x1f2d8c<_0x564c25;_0x1f2d8c++)_0x622fb4+=_0x15f7d5[_0x1f2d8c];_0x41e34c['update'](_0x622fb4,_0x144805,0x1);},this['renderMultiDrawInstances']=function(_0x4c0054,_0x9327a8,_0x43bd32,_0x3d2290){if(0x0===_0x43bd32)return;const _0x56810e=_0x36590f['get']('WEBGL_multi_draw');if(null===_0x56810e){for(let _0x4503a7=0x0;_0x4503a7<_0x4c0054['length'];_0x4503a7++)_0x1e34a2(_0x4c0054[_0x4503a7]/_0x4242a2,_0x9327a8[_0x4503a7],_0x3d2290[_0x4503a7]);}else{_0x56810e['multiDrawElementsInstancedWEBGL'](_0x144805,_0x9327a8,0x0,_0x1220ca,_0x4c0054,0x0,_0x3d2290,0x0,_0x43bd32);let _0x433d99=0x0;for(let _0x65fa25=0x0;_0x65fa25<_0x43bd32;_0x65fa25++)_0x433d99+=_0x9327a8[_0x65fa25]*_0x3d2290[_0x65fa25];_0x41e34c['update'](_0x433d99,_0x144805,0x1);}};}function _0x43c494(_0x5207f7){const _0x28fe13={'frame':0x0,'calls':0x0,'triangles':0x0,'points':0x0,'lines':0x0};return{'memory':{'geometries':0x0,'textures':0x0},'render':_0x28fe13,'programs':null,'autoReset':!0x0,'reset':function(){_0x28fe13['calls']=0x0,_0x28fe13['triangles']=0x0,_0x28fe13['points']=0x0,_0x28fe13['lines']=0x0;},'update':function(_0x19d924,_0x42fcec,_0x570b4e){switch(_0x28fe13['calls']++,_0x42fcec){case _0x5207f7['TRIANGLES']:_0x28fe13['triangles']+=_0x570b4e*(_0x19d924/0x3);break;case _0x5207f7['LINES']:_0x28fe13['lines']+=_0x570b4e*(_0x19d924/0x2);break;case _0x5207f7['LINE_STRIP']:_0x28fe13['lines']+=_0x570b4e*(_0x19d924-0x1);break;case _0x5207f7['LINE_LOOP']:_0x28fe13['lines']+=_0x570b4e*_0x19d924;break;case _0x5207f7['POINTS']:_0x28fe13['points']+=_0x570b4e*_0x19d924;break;default:console['error']('THREE.WebGLInfo:\x20Unknown\x20draw\x20mode:',_0x42fcec);}}};}function _0x5b3cf0(_0x180691,_0x3d7ba5,_0x3eda7a){const _0x4ebaf0=new WeakMap(),_0x4dbb03=new _0xfde85b['IUQ']();return{'update':function(_0x3192a4,_0x560992,_0x524a1a){const _0x2e533b=_0x3192a4['morphTargetInfluences'],_0x5c6bae=_0x560992['morphAttributes']['position']||_0x560992['morphAttributes']['normal']||_0x560992['morphAttributes']['color'],_0x33ff31=void 0x0!==_0x5c6bae?_0x5c6bae['length']:0x0;let _0x3a6e7d=_0x4ebaf0['get'](_0x560992);if(void 0x0===_0x3a6e7d||_0x3a6e7d['count']!==_0x33ff31){void 0x0!==_0x3a6e7d&&_0x3a6e7d['texture']['dispose']();const _0x55deaf=void 0x0!==_0x560992['morphAttributes']['position'],_0x45cf10=void 0x0!==_0x560992['morphAttributes']['normal'],_0x375741=void 0x0!==_0x560992['morphAttributes']['color'],_0x83de76=_0x560992['morphAttributes']['position']||[],_0x31719e=_0x560992['morphAttributes']['normal']||[],_0x171ca7=_0x560992['morphAttributes']['color']||[];let _0x20f8ac=0x0;!0x0===_0x55deaf&&(_0x20f8ac=0x1),!0x0===_0x45cf10&&(_0x20f8ac=0x2),!0x0===_0x375741&&(_0x20f8ac=0x3);let _0x51e41d=_0x560992['attributes']['position']['count']*_0x20f8ac,_0x2b961c=0x1;_0x51e41d>_0x3d7ba5['maxTextureSize']&&(_0x2b961c=Math['ceil'](_0x51e41d/_0x3d7ba5['maxTextureSize']),_0x51e41d=_0x3d7ba5['maxTextureSize']);const _0x73f622=new Float32Array(_0x51e41d*_0x2b961c*0x4*_0x33ff31),_0x4ea85d=new _0xfde85b['rFo'](_0x73f622,_0x51e41d,_0x2b961c,_0x33ff31);_0x4ea85d['type']=_0xfde85b['RQf'],_0x4ea85d['needsUpdate']=!0x0;const _0x529464=0x4*_0x20f8ac;for(let _0x5a8074=0x0;_0x5a8074<_0x33ff31;_0x5a8074++){const _0x5b48a0=_0x83de76[_0x5a8074],_0xc67c06=_0x31719e[_0x5a8074],_0x5a9e24=_0x171ca7[_0x5a8074],_0x3b65b1=_0x51e41d*_0x2b961c*0x4*_0x5a8074;for(let _0x4791c9=0x0;_0x4791c9<_0x5b48a0['count'];_0x4791c9++){const _0xde9221=_0x4791c9*_0x529464;!0x0===_0x55deaf&&(_0x4dbb03['fromBufferAttribute'](_0x5b48a0,_0x4791c9),_0x73f622[_0x3b65b1+_0xde9221+0x0]=_0x4dbb03['x'],_0x73f622[_0x3b65b1+_0xde9221+0x1]=_0x4dbb03['y'],_0x73f622[_0x3b65b1+_0xde9221+0x2]=_0x4dbb03['z'],_0x73f622[_0x3b65b1+_0xde9221+0x3]=0x0),!0x0===_0x45cf10&&(_0x4dbb03['fromBufferAttribute'](_0xc67c06,_0x4791c9),_0x73f622[_0x3b65b1+_0xde9221+0x4]=_0x4dbb03['x'],_0x73f622[_0x3b65b1+_0xde9221+0x5]=_0x4dbb03['y'],_0x73f622[_0x3b65b1+_0xde9221+0x6]=_0x4dbb03['z'],_0x73f622[_0x3b65b1+_0xde9221+0x7]=0x0),!0x0===_0x375741&&(_0x4dbb03['fromBufferAttribute'](_0x5a9e24,_0x4791c9),_0x73f622[_0x3b65b1+_0xde9221+0x8]=_0x4dbb03['x'],_0x73f622[_0x3b65b1+_0xde9221+0x9]=_0x4dbb03['y'],_0x73f622[_0x3b65b1+_0xde9221+0xa]=_0x4dbb03['z'],_0x73f622[_0x3b65b1+_0xde9221+0xb]=0x4===_0x5a9e24['itemSize']?_0x4dbb03['w']:0x1);}}function _0x5a1ddc(){_0x4ea85d['dispose'](),_0x4ebaf0['delete'](_0x560992),_0x560992['removeEventListener']('dispose',_0x5a1ddc);}_0x3a6e7d={'count':_0x33ff31,'texture':_0x4ea85d,'size':new _0xfde85b['I9Y'](_0x51e41d,_0x2b961c)},_0x4ebaf0['set'](_0x560992,_0x3a6e7d),_0x560992['addEventListener']('dispose',_0x5a1ddc);}if(!0x0===_0x3192a4['isInstancedMesh']&&null!==_0x3192a4['morphTexture'])_0x524a1a['getUniforms']()['setValue'](_0x180691,'morphTexture',_0x3192a4['morphTexture'],_0x3eda7a);else{let _0x306ee7=0x0;for(let _0x3d5f2f=0x0;_0x3d5f2f<_0x2e533b['length'];_0x3d5f2f++)_0x306ee7+=_0x2e533b[_0x3d5f2f];const _0x2e7d23=_0x560992['morphTargetsRelative']?0x1:0x1-_0x306ee7;_0x524a1a['getUniforms']()['setValue'](_0x180691,'morphTargetBaseInfluence',_0x2e7d23),_0x524a1a['getUniforms']()['setValue'](_0x180691,'morphTargetInfluences',_0x2e533b);}_0x524a1a['getUniforms']()['setValue'](_0x180691,'morphTargetsTexture',_0x3a6e7d['texture'],_0x3eda7a),_0x524a1a['getUniforms']()['setValue'](_0x180691,'morphTargetsTextureSize',_0x3a6e7d['size']);}};}function _0x3b93a8(_0x209810,_0x1d337f,_0x2b3c07,_0x65bdcb){let _0x526746=new WeakMap();function _0x426206(_0x305822){const _0xf8ff32=_0x305822['target'];_0xf8ff32['removeEventListener']('dispose',_0x426206),_0x2b3c07['remove'](_0xf8ff32['instanceMatrix']),null!==_0xf8ff32['instanceColor']&&_0x2b3c07['remove'](_0xf8ff32['instanceColor']);}return{'update':function(_0x3d90d4){const _0x2dcd1c=_0x65bdcb['render']['frame'],_0x331158=_0x3d90d4['geometry'],_0x5f1cc6=_0x1d337f['get'](_0x3d90d4,_0x331158);if(_0x526746['get'](_0x5f1cc6)!==_0x2dcd1c&&(_0x1d337f['update'](_0x5f1cc6),_0x526746['set'](_0x5f1cc6,_0x2dcd1c)),_0x3d90d4['isInstancedMesh']&&(!0x1===_0x3d90d4['hasEventListener']('dispose',_0x426206)&&_0x3d90d4['addEventListener']('dispose',_0x426206),_0x526746['get'](_0x3d90d4)!==_0x2dcd1c&&(_0x2b3c07['update'](_0x3d90d4['instanceMatrix'],_0x209810['ARRAY_BUFFER']),null!==_0x3d90d4['instanceColor']&&_0x2b3c07['update'](_0x3d90d4['instanceColor'],_0x209810['ARRAY_BUFFER']),_0x526746['set'](_0x3d90d4,_0x2dcd1c))),_0x3d90d4['isSkinnedMesh']){const _0x19e025=_0x3d90d4['skeleton'];_0x526746['get'](_0x19e025)!==_0x2dcd1c&&(_0x19e025['update'](),_0x526746['set'](_0x19e025,_0x2dcd1c));}return _0x5f1cc6;},'dispose':function(){_0x526746=new WeakMap();}};}const _0x35b412=new _0xfde85b['gPd'](),_0x5e3453=new _0xfde85b['VCu'](0x1,0x1),_0x246361=new _0xfde85b['rFo'](),_0x3dafa4=new _0xfde85b['dYF'](),_0x57561b=new _0xfde85b['b4q'](),_0x25c56a=[],_0x293494=[],_0x17d712=new Float32Array(0x10),_0x91583a=new Float32Array(0x9),_0xf84160=new Float32Array(0x4);function _0x5a796e(_0x54c31b,_0x282cf5,_0x5ae635){const _0x519e4e=_0x54c31b[0x0];if(_0x519e4e<=0x0||_0x519e4e>0x0)return _0x54c31b;const _0x308f98=_0x282cf5*_0x5ae635;let _0x46ba9e=_0x25c56a[_0x308f98];if(void 0x0===_0x46ba9e&&(_0x46ba9e=new Float32Array(_0x308f98),_0x25c56a[_0x308f98]=_0x46ba9e),0x0!==_0x282cf5){_0x519e4e['toArray'](_0x46ba9e,0x0);for(let _0x1c37b4=0x1,_0x26664e=0x0;_0x1c37b4!==_0x282cf5;++_0x1c37b4)_0x26664e+=_0x5ae635,_0x54c31b[_0x1c37b4]['toArray'](_0x46ba9e,_0x26664e);}return _0x46ba9e;}function _0x45998e(_0x2b8a11,_0x379296){if(_0x2b8a11['length']!==_0x379296['length'])return!0x1;for(let _0x5486f7=0x0,_0x453cd8=_0x2b8a11['length'];_0x5486f7<_0x453cd8;_0x5486f7++)if(_0x2b8a11[_0x5486f7]!==_0x379296[_0x5486f7])return!0x1;return!0x0;}function _0x396dda(_0x2fe573,_0x314f1a){for(let _0x5255a1=0x0,_0x5bb1b9=_0x314f1a['length'];_0x5255a1<_0x5bb1b9;_0x5255a1++)_0x2fe573[_0x5255a1]=_0x314f1a[_0x5255a1];}function _0x22987b(_0x502746,_0x4820d5){let _0x48730c=_0x293494[_0x4820d5];void 0x0===_0x48730c&&(_0x48730c=new Int32Array(_0x4820d5),_0x293494[_0x4820d5]=_0x48730c);for(let _0x5d90c7=0x0;_0x5d90c7!==_0x4820d5;++_0x5d90c7)_0x48730c[_0x5d90c7]=_0x502746['allocateTextureUnit']();return _0x48730c;}function _0x4ca9ba(_0x28e70a,_0x30d1f5){const _0x136cd5=this['cache'];_0x136cd5[0x0]!==_0x30d1f5&&(_0x28e70a['uniform1f'](this['addr'],_0x30d1f5),_0x136cd5[0x0]=_0x30d1f5);}function _0x367288(_0x2efad9,_0x4d87a8){const _0x369790=this['cache'];if(void 0x0!==_0x4d87a8['x'])_0x369790[0x0]===_0x4d87a8['x']&&_0x369790[0x1]===_0x4d87a8['y']||(_0x2efad9['uniform2f'](this['addr'],_0x4d87a8['x'],_0x4d87a8['y']),_0x369790[0x0]=_0x4d87a8['x'],_0x369790[0x1]=_0x4d87a8['y']);else{if(_0x45998e(_0x369790,_0x4d87a8))return;_0x2efad9['uniform2fv'](this['addr'],_0x4d87a8),_0x396dda(_0x369790,_0x4d87a8);}}function _0xa6e784(_0x5a6a09,_0x37c4fe){const _0x118766=this['cache'];if(void 0x0!==_0x37c4fe['x'])_0x118766[0x0]===_0x37c4fe['x']&&_0x118766[0x1]===_0x37c4fe['y']&&_0x118766[0x2]===_0x37c4fe['z']||(_0x5a6a09['uniform3f'](this['addr'],_0x37c4fe['x'],_0x37c4fe['y'],_0x37c4fe['z']),_0x118766[0x0]=_0x37c4fe['x'],_0x118766[0x1]=_0x37c4fe['y'],_0x118766[0x2]=_0x37c4fe['z']);else{if(void 0x0!==_0x37c4fe['r'])_0x118766[0x0]===_0x37c4fe['r']&&_0x118766[0x1]===_0x37c4fe['g']&&_0x118766[0x2]===_0x37c4fe['b']||(_0x5a6a09['uniform3f'](this['addr'],_0x37c4fe['r'],_0x37c4fe['g'],_0x37c4fe['b']),_0x118766[0x0]=_0x37c4fe['r'],_0x118766[0x1]=_0x37c4fe['g'],_0x118766[0x2]=_0x37c4fe['b']);else{if(_0x45998e(_0x118766,_0x37c4fe))return;_0x5a6a09['uniform3fv'](this['addr'],_0x37c4fe),_0x396dda(_0x118766,_0x37c4fe);}}}function _0x557cf0(_0x2da06f,_0x304c01){const _0x15f742=this['cache'];if(void 0x0!==_0x304c01['x'])_0x15f742[0x0]===_0x304c01['x']&&_0x15f742[0x1]===_0x304c01['y']&&_0x15f742[0x2]===_0x304c01['z']&&_0x15f742[0x3]===_0x304c01['w']||(_0x2da06f['uniform4f'](this['addr'],_0x304c01['x'],_0x304c01['y'],_0x304c01['z'],_0x304c01['w']),_0x15f742[0x0]=_0x304c01['x'],_0x15f742[0x1]=_0x304c01['y'],_0x15f742[0x2]=_0x304c01['z'],_0x15f742[0x3]=_0x304c01['w']);else{if(_0x45998e(_0x15f742,_0x304c01))return;_0x2da06f['uniform4fv'](this['addr'],_0x304c01),_0x396dda(_0x15f742,_0x304c01);}}function _0x13b627(_0x1d35a4,_0x818c42){const _0x35db88=this['cache'],_0x274e70=_0x818c42['elements'];if(void 0x0===_0x274e70){if(_0x45998e(_0x35db88,_0x818c42))return;_0x1d35a4['uniformMatrix2fv'](this['addr'],!0x1,_0x818c42),_0x396dda(_0x35db88,_0x818c42);}else{if(_0x45998e(_0x35db88,_0x274e70))return;_0xf84160['set'](_0x274e70),_0x1d35a4['uniformMatrix2fv'](this['addr'],!0x1,_0xf84160),_0x396dda(_0x35db88,_0x274e70);}}function _0x20da3a(_0x2fa87c,_0x1f22ac){const _0x38fd20=this['cache'],_0x668705=_0x1f22ac['elements'];if(void 0x0===_0x668705){if(_0x45998e(_0x38fd20,_0x1f22ac))return;_0x2fa87c['uniformMatrix3fv'](this['addr'],!0x1,_0x1f22ac),_0x396dda(_0x38fd20,_0x1f22ac);}else{if(_0x45998e(_0x38fd20,_0x668705))return;_0x91583a['set'](_0x668705),_0x2fa87c['uniformMatrix3fv'](this['addr'],!0x1,_0x91583a),_0x396dda(_0x38fd20,_0x668705);}}function _0x57ef1b(_0x2b9fab,_0x248996){const _0x5169d4=this['cache'],_0x328cac=_0x248996['elements'];if(void 0x0===_0x328cac){if(_0x45998e(_0x5169d4,_0x248996))return;_0x2b9fab['uniformMatrix4fv'](this['addr'],!0x1,_0x248996),_0x396dda(_0x5169d4,_0x248996);}else{if(_0x45998e(_0x5169d4,_0x328cac))return;_0x17d712['set'](_0x328cac),_0x2b9fab['uniformMatrix4fv'](this['addr'],!0x1,_0x17d712),_0x396dda(_0x5169d4,_0x328cac);}}function _0x33311c(_0x1be12f,_0x41a354){const _0x408796=this['cache'];_0x408796[0x0]!==_0x41a354&&(_0x1be12f['uniform1i'](this['addr'],_0x41a354),_0x408796[0x0]=_0x41a354);}function _0x3e3af0(_0x2ea8ff,_0x225df8){const _0x48e928=this['cache'];if(void 0x0!==_0x225df8['x'])_0x48e928[0x0]===_0x225df8['x']&&_0x48e928[0x1]===_0x225df8['y']||(_0x2ea8ff['uniform2i'](this['addr'],_0x225df8['x'],_0x225df8['y']),_0x48e928[0x0]=_0x225df8['x'],_0x48e928[0x1]=_0x225df8['y']);else{if(_0x45998e(_0x48e928,_0x225df8))return;_0x2ea8ff['uniform2iv'](this['addr'],_0x225df8),_0x396dda(_0x48e928,_0x225df8);}}function _0x430674(_0x174649,_0x2fa4ce){const _0x120632=this['cache'];if(void 0x0!==_0x2fa4ce['x'])_0x120632[0x0]===_0x2fa4ce['x']&&_0x120632[0x1]===_0x2fa4ce['y']&&_0x120632[0x2]===_0x2fa4ce['z']||(_0x174649['uniform3i'](this['addr'],_0x2fa4ce['x'],_0x2fa4ce['y'],_0x2fa4ce['z']),_0x120632[0x0]=_0x2fa4ce['x'],_0x120632[0x1]=_0x2fa4ce['y'],_0x120632[0x2]=_0x2fa4ce['z']);else{if(_0x45998e(_0x120632,_0x2fa4ce))return;_0x174649['uniform3iv'](this['addr'],_0x2fa4ce),_0x396dda(_0x120632,_0x2fa4ce);}}function _0x12eaa1(_0x15691b,_0x3f6e03){const _0x15a3f2=this['cache'];if(void 0x0!==_0x3f6e03['x'])_0x15a3f2[0x0]===_0x3f6e03['x']&&_0x15a3f2[0x1]===_0x3f6e03['y']&&_0x15a3f2[0x2]===_0x3f6e03['z']&&_0x15a3f2[0x3]===_0x3f6e03['w']||(_0x15691b['uniform4i'](this['addr'],_0x3f6e03['x'],_0x3f6e03['y'],_0x3f6e03['z'],_0x3f6e03['w']),_0x15a3f2[0x0]=_0x3f6e03['x'],_0x15a3f2[0x1]=_0x3f6e03['y'],_0x15a3f2[0x2]=_0x3f6e03['z'],_0x15a3f2[0x3]=_0x3f6e03['w']);else{if(_0x45998e(_0x15a3f2,_0x3f6e03))return;_0x15691b['uniform4iv'](this['addr'],_0x3f6e03),_0x396dda(_0x15a3f2,_0x3f6e03);}}function _0x50d521(_0x3542d8,_0x47f4be){const _0x14e4d7=this['cache'];_0x14e4d7[0x0]!==_0x47f4be&&(_0x3542d8['uniform1ui'](this['addr'],_0x47f4be),_0x14e4d7[0x0]=_0x47f4be);}function _0x5b8a04(_0x113e30,_0x3197dc){const _0x317938=this['cache'];if(void 0x0!==_0x3197dc['x'])_0x317938[0x0]===_0x3197dc['x']&&_0x317938[0x1]===_0x3197dc['y']||(_0x113e30['uniform2ui'](this['addr'],_0x3197dc['x'],_0x3197dc['y']),_0x317938[0x0]=_0x3197dc['x'],_0x317938[0x1]=_0x3197dc['y']);else{if(_0x45998e(_0x317938,_0x3197dc))return;_0x113e30['uniform2uiv'](this['addr'],_0x3197dc),_0x396dda(_0x317938,_0x3197dc);}}function _0x33ffd3(_0x2c6b53,_0x5957d5){const _0x28cad6=this['cache'];if(void 0x0!==_0x5957d5['x'])_0x28cad6[0x0]===_0x5957d5['x']&&_0x28cad6[0x1]===_0x5957d5['y']&&_0x28cad6[0x2]===_0x5957d5['z']||(_0x2c6b53['uniform3ui'](this['addr'],_0x5957d5['x'],_0x5957d5['y'],_0x5957d5['z']),_0x28cad6[0x0]=_0x5957d5['x'],_0x28cad6[0x1]=_0x5957d5['y'],_0x28cad6[0x2]=_0x5957d5['z']);else{if(_0x45998e(_0x28cad6,_0x5957d5))return;_0x2c6b53['uniform3uiv'](this['addr'],_0x5957d5),_0x396dda(_0x28cad6,_0x5957d5);}}function _0x1a5077(_0x58bded,_0x1a8a04){const _0x302a47=this['cache'];if(void 0x0!==_0x1a8a04['x'])_0x302a47[0x0]===_0x1a8a04['x']&&_0x302a47[0x1]===_0x1a8a04['y']&&_0x302a47[0x2]===_0x1a8a04['z']&&_0x302a47[0x3]===_0x1a8a04['w']||(_0x58bded['uniform4ui'](this['addr'],_0x1a8a04['x'],_0x1a8a04['y'],_0x1a8a04['z'],_0x1a8a04['w']),_0x302a47[0x0]=_0x1a8a04['x'],_0x302a47[0x1]=_0x1a8a04['y'],_0x302a47[0x2]=_0x1a8a04['z'],_0x302a47[0x3]=_0x1a8a04['w']);else{if(_0x45998e(_0x302a47,_0x1a8a04))return;_0x58bded['uniform4uiv'](this['addr'],_0x1a8a04),_0x396dda(_0x302a47,_0x1a8a04);}}function _0x532cf9(_0x27bc42,_0x4d6339,_0x2b784a){const _0x323237=this['cache'],_0x59e579=_0x2b784a['allocateTextureUnit']();let _0x1c7efe;_0x323237[0x0]!==_0x59e579&&(_0x27bc42['uniform1i'](this['addr'],_0x59e579),_0x323237[0x0]=_0x59e579),this['type']===_0x27bc42['SAMPLER_2D_SHADOW']?(_0x5e3453['compareFunction']=_0xfde85b['TiK'],_0x1c7efe=_0x5e3453):_0x1c7efe=_0x35b412,_0x2b784a['setTexture2D'](_0x4d6339||_0x1c7efe,_0x59e579);}function _0x3a6d5c(_0x150caa,_0x4fe77c,_0x1a0a9b){const _0x5b9fb2=this['cache'],_0x26cfcf=_0x1a0a9b['allocateTextureUnit']();_0x5b9fb2[0x0]!==_0x26cfcf&&(_0x150caa['uniform1i'](this['addr'],_0x26cfcf),_0x5b9fb2[0x0]=_0x26cfcf),_0x1a0a9b['setTexture3D'](_0x4fe77c||_0x3dafa4,_0x26cfcf);}function _0x127d8a(_0x4eaeba,_0xad0fa8,_0x3194b9){const _0x34d7fd=this['cache'],_0x41777c=_0x3194b9['allocateTextureUnit']();_0x34d7fd[0x0]!==_0x41777c&&(_0x4eaeba['uniform1i'](this['addr'],_0x41777c),_0x34d7fd[0x0]=_0x41777c),_0x3194b9['setTextureCube'](_0xad0fa8||_0x57561b,_0x41777c);}function _0x195ecc(_0x21b57e,_0x5d0e38,_0x58c3f1){const _0x1d3be0=this['cache'],_0x4eb6b3=_0x58c3f1['allocateTextureUnit']();_0x1d3be0[0x0]!==_0x4eb6b3&&(_0x21b57e['uniform1i'](this['addr'],_0x4eb6b3),_0x1d3be0[0x0]=_0x4eb6b3),_0x58c3f1['setTexture2DArray'](_0x5d0e38||_0x246361,_0x4eb6b3);}function _0x521a47(_0x4700e2,_0x439404){_0x4700e2['uniform1fv'](this['addr'],_0x439404);}function _0x98c1c(_0x2ba7b3,_0x5a693e){const _0x466228=_0x5a796e(_0x5a693e,this['size'],0x2);_0x2ba7b3['uniform2fv'](this['addr'],_0x466228);}function _0x462cd3(_0x4a940f,_0x4f0b59){const _0xf040c1=_0x5a796e(_0x4f0b59,this['size'],0x3);_0x4a940f['uniform3fv'](this['addr'],_0xf040c1);}function _0x37d0fb(_0x7e293,_0x588067){const _0x2943a9=_0x5a796e(_0x588067,this['size'],0x4);_0x7e293['uniform4fv'](this['addr'],_0x2943a9);}function _0xa47357(_0x4e91bd,_0x467bfd){const _0x382642=_0x5a796e(_0x467bfd,this['size'],0x4);_0x4e91bd['uniformMatrix2fv'](this['addr'],!0x1,_0x382642);}function _0x11e8c(_0x2ebb99,_0x34d0ef){const _0x4c0f44=_0x5a796e(_0x34d0ef,this['size'],0x9);_0x2ebb99['uniformMatrix3fv'](this['addr'],!0x1,_0x4c0f44);}function _0x52bae1(_0x1eb38c,_0x440c28){const _0x344410=_0x5a796e(_0x440c28,this['size'],0x10);_0x1eb38c['uniformMatrix4fv'](this['addr'],!0x1,_0x344410);}function _0x1e4c78(_0x29ea95,_0x430206){_0x29ea95['uniform1iv'](this['addr'],_0x430206);}function _0x2b72c1(_0x123498,_0x4a9601){_0x123498['uniform2iv'](this['addr'],_0x4a9601);}function _0x4d30b8(_0x4e79b0,_0x53e27b){_0x4e79b0['uniform3iv'](this['addr'],_0x53e27b);}function _0x19c0c5(_0x3d3c15,_0x482f8e){_0x3d3c15['uniform4iv'](this['addr'],_0x482f8e);}function _0x38b5bc(_0xc315ad,_0x2aca22){_0xc315ad['uniform1uiv'](this['addr'],_0x2aca22);}function _0x40ded9(_0x349e30,_0x157f18){_0x349e30['uniform2uiv'](this['addr'],_0x157f18);}function _0x203288(_0x55f85f,_0x19e4bd){_0x55f85f['uniform3uiv'](this['addr'],_0x19e4bd);}function _0x269ce0(_0x4fa36e,_0x107a1c){_0x4fa36e['uniform4uiv'](this['addr'],_0x107a1c);}function _0x2cc1f6(_0x51d7bd,_0x433f2e,_0x4b2977){const _0x1d083e=this['cache'],_0x56c5c2=_0x433f2e['length'],_0x4b9968=_0x22987b(_0x4b2977,_0x56c5c2);_0x45998e(_0x1d083e,_0x4b9968)||(_0x51d7bd['uniform1iv'](this['addr'],_0x4b9968),_0x396dda(_0x1d083e,_0x4b9968));for(let _0x4f576b=0x0;_0x4f576b!==_0x56c5c2;++_0x4f576b)_0x4b2977['setTexture2D'](_0x433f2e[_0x4f576b]||_0x35b412,_0x4b9968[_0x4f576b]);}function _0x324643(_0x501076,_0x51e932,_0x132d95){const _0x4f204e=this['cache'],_0xa3d3ef=_0x51e932['length'],_0x4ed79c=_0x22987b(_0x132d95,_0xa3d3ef);_0x45998e(_0x4f204e,_0x4ed79c)||(_0x501076['uniform1iv'](this['addr'],_0x4ed79c),_0x396dda(_0x4f204e,_0x4ed79c));for(let _0xd5b1a4=0x0;_0xd5b1a4!==_0xa3d3ef;++_0xd5b1a4)_0x132d95['setTexture3D'](_0x51e932[_0xd5b1a4]||_0x3dafa4,_0x4ed79c[_0xd5b1a4]);}function _0x521e93(_0x31a7f3,_0x536bf7,_0x11aec7){const _0x5b86eb=this['cache'],_0x2b09f9=_0x536bf7['length'],_0x109ddb=_0x22987b(_0x11aec7,_0x2b09f9);_0x45998e(_0x5b86eb,_0x109ddb)||(_0x31a7f3['uniform1iv'](this['addr'],_0x109ddb),_0x396dda(_0x5b86eb,_0x109ddb));for(let _0x462ea7=0x0;_0x462ea7!==_0x2b09f9;++_0x462ea7)_0x11aec7['setTextureCube'](_0x536bf7[_0x462ea7]||_0x57561b,_0x109ddb[_0x462ea7]);}function _0x24e0ff(_0x460bcf,_0x19e798,_0x4fd89e){const _0x3a0b31=this['cache'],_0x59e344=_0x19e798['length'],_0x39a515=_0x22987b(_0x4fd89e,_0x59e344);_0x45998e(_0x3a0b31,_0x39a515)||(_0x460bcf['uniform1iv'](this['addr'],_0x39a515),_0x396dda(_0x3a0b31,_0x39a515));for(let _0x64e1e9=0x0;_0x64e1e9!==_0x59e344;++_0x64e1e9)_0x4fd89e['setTexture2DArray'](_0x19e798[_0x64e1e9]||_0x246361,_0x39a515[_0x64e1e9]);}class _0x5cca78{constructor(_0x25d045,_0x321272,_0x19eb24){this['id']=_0x25d045,this['addr']=_0x19eb24,this['cache']=[],this['type']=_0x321272['type'],this['setValue']=function(_0x34d2ac){switch(_0x34d2ac){case 0x1406:return _0x4ca9ba;case 0x8b50:return _0x367288;case 0x8b51:return _0xa6e784;case 0x8b52:return _0x557cf0;case 0x8b5a:return _0x13b627;case 0x8b5b:return _0x20da3a;case 0x8b5c:return _0x57ef1b;case 0x1404:case 0x8b56:return _0x33311c;case 0x8b53:case 0x8b57:return _0x3e3af0;case 0x8b54:case 0x8b58:return _0x430674;case 0x8b55:case 0x8b59:return _0x12eaa1;case 0x1405:return _0x50d521;case 0x8dc6:return _0x5b8a04;case 0x8dc7:return _0x33ffd3;case 0x8dc8:return _0x1a5077;case 0x8b5e:case 0x8d66:case 0x8dca:case 0x8dd2:case 0x8b62:return _0x532cf9;case 0x8b5f:case 0x8dcb:case 0x8dd3:return _0x3a6d5c;case 0x8b60:case 0x8dcc:case 0x8dd4:case 0x8dc5:return _0x127d8a;case 0x8dc1:case 0x8dcf:case 0x8dd7:case 0x8dc4:return _0x195ecc;}}(_0x321272['type']);}}class _0x4aa9c7{constructor(_0x20e689,_0x1865b9,_0x4516db){this['id']=_0x20e689,this['addr']=_0x4516db,this['cache']=[],this['type']=_0x1865b9['type'],this['size']=_0x1865b9['size'],this['setValue']=function(_0x51c3b4){switch(_0x51c3b4){case 0x1406:return _0x521a47;case 0x8b50:return _0x98c1c;case 0x8b51:return _0x462cd3;case 0x8b52:return _0x37d0fb;case 0x8b5a:return _0xa47357;case 0x8b5b:return _0x11e8c;case 0x8b5c:return _0x52bae1;case 0x1404:case 0x8b56:return _0x1e4c78;case 0x8b53:case 0x8b57:return _0x2b72c1;case 0x8b54:case 0x8b58:return _0x4d30b8;case 0x8b55:case 0x8b59:return _0x19c0c5;case 0x1405:return _0x38b5bc;case 0x8dc6:return _0x40ded9;case 0x8dc7:return _0x203288;case 0x8dc8:return _0x269ce0;case 0x8b5e:case 0x8d66:case 0x8dca:case 0x8dd2:case 0x8b62:return _0x2cc1f6;case 0x8b5f:case 0x8dcb:case 0x8dd3:return _0x324643;case 0x8b60:case 0x8dcc:case 0x8dd4:case 0x8dc5:return _0x521e93;case 0x8dc1:case 0x8dcf:case 0x8dd7:case 0x8dc4:return _0x24e0ff;}}(_0x1865b9['type']);}}class _0x2329c8{constructor(_0x263e90){this['id']=_0x263e90,this['seq']=[],this['map']={};}['setValue'](_0x59f997,_0x9d9420,_0x1e5c7e){const _0x38500f=this['seq'];for(let _0x497bf8=0x0,_0xf9ce11=_0x38500f['length'];_0x497bf8!==_0xf9ce11;++_0x497bf8){const _0x1e997c=_0x38500f[_0x497bf8];_0x1e997c['setValue'](_0x59f997,_0x9d9420[_0x1e997c['id']],_0x1e5c7e);}}}const _0xed1dca=/(\w+)(\])?(\[|\.)?/g;function _0x541550(_0x4c0be0,_0x4d7535){_0x4c0be0['seq']['push'](_0x4d7535),_0x4c0be0['map'][_0x4d7535['id']]=_0x4d7535;}function _0x48096a(_0x4260b0,_0xc6556d,_0x179cb5){const _0x51b9cc=_0x4260b0['name'],_0x2619d8=_0x51b9cc['length'];for(_0xed1dca['lastIndex']=0x0;;){const _0x123773=_0xed1dca['exec'](_0x51b9cc),_0x37e8c5=_0xed1dca['lastIndex'];let _0x410e4d=_0x123773[0x1];const _0xdf9249=']'===_0x123773[0x2],_0x37537b=_0x123773[0x3];if(_0xdf9249&&(_0x410e4d|=0x0),void 0x0===_0x37537b||'['===_0x37537b&&_0x37e8c5+0x2===_0x2619d8){_0x541550(_0x179cb5,void 0x0===_0x37537b?new _0x5cca78(_0x410e4d,_0x4260b0,_0xc6556d):new _0x4aa9c7(_0x410e4d,_0x4260b0,_0xc6556d));break;}{let _0x28e47b=_0x179cb5['map'][_0x410e4d];void 0x0===_0x28e47b&&(_0x28e47b=new _0x2329c8(_0x410e4d),_0x541550(_0x179cb5,_0x28e47b)),_0x179cb5=_0x28e47b;}}}class _0x524198{constructor(_0x4a64fc,_0x92b881){this['seq']=[],this['map']={};const _0x4e41d3=_0x4a64fc['getProgramParameter'](_0x92b881,_0x4a64fc['ACTIVE_UNIFORMS']);for(let _0x1483d7=0x0;_0x1483d7<_0x4e41d3;++_0x1483d7){const _0x1f11e0=_0x4a64fc['getActiveUniform'](_0x92b881,_0x1483d7);_0x48096a(_0x1f11e0,_0x4a64fc['getUniformLocation'](_0x92b881,_0x1f11e0['name']),this);}}['setValue'](_0x1b6865,_0x348e89,_0xf9b7b2,_0x48c3a8){const _0x27bf61=this['map'][_0x348e89];void 0x0!==_0x27bf61&&_0x27bf61['setValue'](_0x1b6865,_0xf9b7b2,_0x48c3a8);}['setOptional'](_0xda7772,_0x16c317,_0x26bfcc){const _0x389cba=_0x16c317[_0x26bfcc];void 0x0!==_0x389cba&&this['setValue'](_0xda7772,_0x26bfcc,_0x389cba);}static['upload'](_0x32a949,_0x5a3b57,_0xe3756e,_0xa1d75){for(let _0x172e63=0x0,_0x51288d=_0x5a3b57['length'];_0x172e63!==_0x51288d;++_0x172e63){const _0x1609f4=_0x5a3b57[_0x172e63],_0x17252a=_0xe3756e[_0x1609f4['id']];!0x1!==_0x17252a['needsUpdate']&&_0x1609f4['setValue'](_0x32a949,_0x17252a['value'],_0xa1d75);}}static['seqWithValue'](_0x119a2a,_0x5b9308){const _0x212608=[];for(let _0x4a1354=0x0,_0x37eb30=_0x119a2a['length'];_0x4a1354!==_0x37eb30;++_0x4a1354){const _0x1bc864=_0x119a2a[_0x4a1354];_0x1bc864['id']in _0x5b9308&&_0x212608['push'](_0x1bc864);}return _0x212608;}}function _0x5cab91(_0x50a960,_0x6e6907,_0x44f05a){const _0x17d061=_0x50a960['createShader'](_0x6e6907);return _0x50a960['shaderSource'](_0x17d061,_0x44f05a),_0x50a960['compileShader'](_0x17d061),_0x17d061;}const _0x4aca9b=0x91b1;let _0x9ec88b=0x0;const _0x301da1=new _0xfde85b['dwI']();function _0x1dbb12(_0xf18a56,_0x5c1aa7,_0x4b3826){const _0x43640b=_0xf18a56['getShaderParameter'](_0x5c1aa7,_0xf18a56['COMPILE_STATUS']),_0x4f0d0f=_0xf18a56['getShaderInfoLog'](_0x5c1aa7)['trim']();if(_0x43640b&&''===_0x4f0d0f)return'';const _0x89aa24=/ERROR: 0:(\d+)/['exec'](_0x4f0d0f);if(_0x89aa24){const _0x272d0e=parseInt(_0x89aa24[0x1]);return _0x4b3826['toUpperCase']()+'\x0a\x0a'+_0x4f0d0f+'\x0a\x0a'+function(_0x210478,_0x39c4d6){const _0x1cddba=_0x210478['split']('\x0a'),_0x55b65c=[],_0x772e51=Math['max'](_0x39c4d6-0x6,0x0),_0x456009=Math['min'](_0x39c4d6+0x6,_0x1cddba['length']);for(let _0x292448=_0x772e51;_0x292448<_0x456009;_0x292448++){const _0xa7d281=_0x292448+0x1;_0x55b65c['push']((_0xa7d281===_0x39c4d6?'>':'\x20')+'\x20'+_0xa7d281+':\x20'+_0x1cddba[_0x292448]);}return _0x55b65c['join']('\x0a');}(_0xf18a56['getShaderSource'](_0x5c1aa7),_0x272d0e);}return _0x4f0d0f;}function _0x2daaf6(_0x1983d1,_0x5f5a66){const _0x51bf6b=function(_0x602cd8){_0xfde85b['ppV']['_getMatrix'](_0x301da1,_0xfde85b['ppV']['workingColorSpace'],_0x602cd8);const _0x4b1ec1='mat3(\x20'+_0x301da1['elements']['map'](_0x3fe9b3=>_0x3fe9b3['toFixed'](0x4))+'\x20)';switch(_0xfde85b['ppV']['getTransfer'](_0x602cd8)){case _0xfde85b['VxR']:return[_0x4b1ec1,'LinearTransferOETF'];case _0xfde85b['KLL']:return[_0x4b1ec1,'sRGBTransferOETF'];default:return console['warn']('THREE.WebGLProgram:\x20Unsupported\x20color\x20space:\x20',_0x602cd8),[_0x4b1ec1,'LinearTransferOETF'];}}(_0x5f5a66);return['vec4\x20'+_0x1983d1+'(\x20vec4\x20value\x20)\x20{','\x09return\x20'+_0x51bf6b[0x1]+'(\x20vec4(\x20value.rgb\x20*\x20'+_0x51bf6b[0x0]+',\x20value.a\x20)\x20);','}']['join']('\x0a');}function _0x306cf7(_0x4883d9,_0x943ca0){let _0x296ba7;switch(_0x943ca0){case _0xfde85b['kyO']:_0x296ba7='Linear';break;case _0xfde85b['Mjd']:_0x296ba7='Reinhard';break;case _0xfde85b['nNL']:_0x296ba7='Cineon';break;case _0xfde85b['FV']:_0x296ba7='ACESFilmic';break;case _0xfde85b['LAk']:_0x296ba7='AgX';break;case _0xfde85b['aJ8']:_0x296ba7='Neutral';break;case _0xfde85b['g7M']:_0x296ba7='Custom';break;default:console['warn']('THREE.WebGLProgram:\x20Unsupported\x20toneMapping:',_0x943ca0),_0x296ba7='Linear';}return'vec3\x20'+_0x4883d9+'(\x20vec3\x20color\x20)\x20{\x20return\x20'+_0x296ba7+'ToneMapping(\x20color\x20);\x20}';}const _0x10a7d2=new _0xfde85b['Pq0']();function _0x1e4901(){return _0xfde85b['ppV']['getLuminanceCoefficients'](_0x10a7d2),['float\x20luminance(\x20const\x20in\x20vec3\x20rgb\x20)\x20{','\x09const\x20vec3\x20weights\x20=\x20vec3(\x20'+_0x10a7d2['x']['toFixed'](0x4)+',\x20'+_0x10a7d2['y']['toFixed'](0x4)+',\x20'+_0x10a7d2['z']['toFixed'](0x4)+'\x20);','\x09return\x20dot(\x20weights,\x20rgb\x20);','}']['join']('\x0a');}function _0x555d2c(_0x546896){return''!==_0x546896;}function _0x3f5336(_0xc12f66,_0x5b9727){const _0x164fa9=_0x5b9727['numSpotLightShadows']+_0x5b9727['numSpotLightMaps']-_0x5b9727['numSpotLightShadowsWithMaps'];return _0xc12f66['replace'](/NUM_DIR_LIGHTS/g,_0x5b9727['numDirLights'])['replace'](/NUM_SPOT_LIGHTS/g,_0x5b9727['numSpotLights'])['replace'](/NUM_SPOT_LIGHT_MAPS/g,_0x5b9727['numSpotLightMaps'])['replace'](/NUM_SPOT_LIGHT_COORDS/g,_0x164fa9)['replace'](/NUM_RECT_AREA_LIGHTS/g,_0x5b9727['numRectAreaLights'])['replace'](/NUM_POINT_LIGHTS/g,_0x5b9727['numPointLights'])['replace'](/NUM_HEMI_LIGHTS/g,_0x5b9727['numHemiLights'])['replace'](/NUM_DIR_LIGHT_SHADOWS/g,_0x5b9727['numDirLightShadows'])['replace'](/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,_0x5b9727['numSpotLightShadowsWithMaps'])['replace'](/NUM_SPOT_LIGHT_SHADOWS/g,_0x5b9727['numSpotLightShadows'])['replace'](/NUM_POINT_LIGHT_SHADOWS/g,_0x5b9727['numPointLightShadows']);}function _0x2c1687(_0x10b67d,_0xa5586f){return _0x10b67d['replace'](/NUM_CLIPPING_PLANES/g,_0xa5586f['numClippingPlanes'])['replace'](/UNION_CLIPPING_PLANES/g,_0xa5586f['numClippingPlanes']-_0xa5586f['numClipIntersection']);}const _0xc7a2ab=/^[ \t]*#include +<([\w\d./]+)>/gm;function _0x9dbc33(_0x47eb50){return _0x47eb50['replace'](_0xc7a2ab,_0x5e8657);}const _0x2f7f49=new Map();function _0x5e8657(_0x23f17d,_0x152b61){let _0x2d7b7b=_0x4b63ee[_0x152b61];if(void 0x0===_0x2d7b7b){const _0x2284a8=_0x2f7f49['get'](_0x152b61);if(void 0x0===_0x2284a8)throw new Error('Can\x20not\x20resolve\x20#include\x20<'+_0x152b61+'>');_0x2d7b7b=_0x4b63ee[_0x2284a8],console['warn']('THREE.WebGLRenderer:\x20Shader\x20chunk\x20\x22%s\x22\x20has\x20been\x20deprecated.\x20Use\x20\x22%s\x22\x20instead.',_0x152b61,_0x2284a8);}return _0x9dbc33(_0x2d7b7b);}const _0x58aa88=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function _0x15228a(_0x221554){return _0x221554['replace'](_0x58aa88,_0x149e3d);}function _0x149e3d(_0x380e17,_0x38ca52,_0x13eda4,_0x4b0c56){let _0x230c6b='';for(let _0xc151d=parseInt(_0x38ca52);_0xc151d<parseInt(_0x13eda4);_0xc151d++)_0x230c6b+=_0x4b0c56['replace'](/\[\s*i\s*\]/g,'[\x20'+_0xc151d+'\x20]')['replace'](/UNROLLED_LOOP_INDEX/g,_0xc151d);return _0x230c6b;}function _0x5664(_0x24f463){let _0x48074b='precision\x20'+_0x24f463['precision']+'\x20float;\x0a\x09precision\x20'+_0x24f463['precision']+'\x20int;\x0a\x09precision\x20'+_0x24f463['precision']+'\x20sampler2D;\x0a\x09precision\x20'+_0x24f463['precision']+'\x20samplerCube;\x0a\x09precision\x20'+_0x24f463['precision']+'\x20sampler3D;\x0a\x09precision\x20'+_0x24f463['precision']+'\x20sampler2DArray;\x0a\x09precision\x20'+_0x24f463['precision']+'\x20sampler2DShadow;\x0a\x09precision\x20'+_0x24f463['precision']+'\x20samplerCubeShadow;\x0a\x09precision\x20'+_0x24f463['precision']+'\x20sampler2DArrayShadow;\x0a\x09precision\x20'+_0x24f463['precision']+'\x20isampler2D;\x0a\x09precision\x20'+_0x24f463['precision']+'\x20isampler3D;\x0a\x09precision\x20'+_0x24f463['precision']+'\x20isamplerCube;\x0a\x09precision\x20'+_0x24f463['precision']+'\x20isampler2DArray;\x0a\x09precision\x20'+_0x24f463['precision']+'\x20usampler2D;\x0a\x09precision\x20'+_0x24f463['precision']+'\x20usampler3D;\x0a\x09precision\x20'+_0x24f463['precision']+'\x20usamplerCube;\x0a\x09precision\x20'+_0x24f463['precision']+'\x20usampler2DArray;\x0a\x09';return'highp'===_0x24f463['precision']?_0x48074b+='\x0a#define\x20HIGH_PRECISION':'mediump'===_0x24f463['precision']?_0x48074b+='\x0a#define\x20MEDIUM_PRECISION':'lowp'===_0x24f463['precision']&&(_0x48074b+='\x0a#define\x20LOW_PRECISION'),_0x48074b;}function _0x2575cf(_0x924ef,_0x421f7f,_0x348256,_0x88fe87){const _0x21402b=_0x924ef['getContext'](),_0x2a1cf3=_0x348256['defines'];let _0x4482c5=_0x348256['vertexShader'],_0x655764=_0x348256['fragmentShader'];const _0x4ecbcd=function(_0x23b37e){let _0x51157='SHADOWMAP_TYPE_BASIC';return _0x23b37e['shadowMapType']===_0xfde85b['QP0']?_0x51157='SHADOWMAP_TYPE_PCF':_0x23b37e['shadowMapType']===_0xfde85b['Wk7']?_0x51157='SHADOWMAP_TYPE_PCF_SOFT':_0x23b37e['shadowMapType']===_0xfde85b['RyA']&&(_0x51157='SHADOWMAP_TYPE_VSM'),_0x51157;}(_0x348256),_0x5e88fe=function(_0x1f583a){let _0x1874a1='ENVMAP_TYPE_CUBE';if(_0x1f583a['envMap'])switch(_0x1f583a['envMapMode']){case _0xfde85b['hy7']:case _0xfde85b['xFO']:_0x1874a1='ENVMAP_TYPE_CUBE';break;case _0xfde85b['Om']:_0x1874a1='ENVMAP_TYPE_CUBE_UV';}return _0x1874a1;}(_0x348256),_0x46b081=function(_0x5b3099){let _0x3d526c='ENVMAP_MODE_REFLECTION';return _0x5b3099['envMap']&&_0x5b3099['envMapMode']===_0xfde85b['xFO']&&(_0x3d526c='ENVMAP_MODE_REFRACTION'),_0x3d526c;}(_0x348256),_0x25c32c=function(_0xa975fb){let _0x3c82a1='ENVMAP_BLENDING_NONE';if(_0xa975fb['envMap'])switch(_0xa975fb['combine']){case _0xfde85b['caT']:_0x3c82a1='ENVMAP_BLENDING_MULTIPLY';break;case _0xfde85b['KRh']:_0x3c82a1='ENVMAP_BLENDING_MIX';break;case _0xfde85b['XrR']:_0x3c82a1='ENVMAP_BLENDING_ADD';}return _0x3c82a1;}(_0x348256),_0x525eb7=function(_0x3fb75d){const _0x2a99e5=_0x3fb75d['envMapCubeUVHeight'];if(null===_0x2a99e5)return null;const _0x232c38=Math['log2'](_0x2a99e5)-0x2,_0x52db9f=0x1/_0x2a99e5;return{'texelWidth':0x1/(0x3*Math['max'](Math['pow'](0x2,_0x232c38),0x70)),'texelHeight':_0x52db9f,'maxMip':_0x232c38};}(_0x348256),_0x25cdfc=function(_0x16e5f7){return[_0x16e5f7['extensionClipCullDistance']?'#extension\x20GL_ANGLE_clip_cull_distance\x20:\x20require':'',_0x16e5f7['extensionMultiDraw']?'#extension\x20GL_ANGLE_multi_draw\x20:\x20require':'']['filter'](_0x555d2c)['join']('\x0a');}(_0x348256),_0x41aed1=function(_0x25e4f6){const _0x5f0b84=[];for(const _0x35e9e5 in _0x25e4f6){const _0x2571b9=_0x25e4f6[_0x35e9e5];!0x1!==_0x2571b9&&_0x5f0b84['push']('#define\x20'+_0x35e9e5+'\x20'+_0x2571b9);}return _0x5f0b84['join']('\x0a');}(_0x2a1cf3),_0x822afd=_0x21402b['createProgram']();let _0x2b25ea,_0x683f0d,_0x14619e=_0x348256['glslVersion']?'#version\x20'+_0x348256['glslVersion']+'\x0a':'';_0x348256['isRawShaderMaterial']?(_0x2b25ea=['#define\x20SHADER_TYPE\x20'+_0x348256['shaderType'],'#define\x20SHADER_NAME\x20'+_0x348256['shaderName'],_0x41aed1]['filter'](_0x555d2c)['join']('\x0a'),_0x2b25ea['length']>0x0&&(_0x2b25ea+='\x0a'),_0x683f0d=['#define\x20SHADER_TYPE\x20'+_0x348256['shaderType'],'#define\x20SHADER_NAME\x20'+_0x348256['shaderName'],_0x41aed1]['filter'](_0x555d2c)['join']('\x0a'),_0x683f0d['length']>0x0&&(_0x683f0d+='\x0a')):(_0x2b25ea=[_0x5664(_0x348256),'#define\x20SHADER_TYPE\x20'+_0x348256['shaderType'],'#define\x20SHADER_NAME\x20'+_0x348256['shaderName'],_0x41aed1,_0x348256['extensionClipCullDistance']?'#define\x20USE_CLIP_DISTANCE':'',_0x348256['batching']?'#define\x20USE_BATCHING':'',_0x348256['batchingColor']?'#define\x20USE_BATCHING_COLOR':'',_0x348256['instancing']?'#define\x20USE_INSTANCING':'',_0x348256['instancingColor']?'#define\x20USE_INSTANCING_COLOR':'',_0x348256['instancingMorph']?'#define\x20USE_INSTANCING_MORPH':'',_0x348256['useFog']&&_0x348256['fog']?'#define\x20USE_FOG':'',_0x348256['useFog']&&_0x348256['fogExp2']?'#define\x20FOG_EXP2':'',_0x348256['map']?'#define\x20USE_MAP':'',_0x348256['envMap']?'#define\x20USE_ENVMAP':'',_0x348256['envMap']?'#define\x20'+_0x46b081:'',_0x348256['lightMap']?'#define\x20USE_LIGHTMAP':'',_0x348256['aoMap']?'#define\x20USE_AOMAP':'',_0x348256['bumpMap']?'#define\x20USE_BUMPMAP':'',_0x348256['normalMap']?'#define\x20USE_NORMALMAP':'',_0x348256['normalMapObjectSpace']?'#define\x20USE_NORMALMAP_OBJECTSPACE':'',_0x348256['normalMapTangentSpace']?'#define\x20USE_NORMALMAP_TANGENTSPACE':'',_0x348256['displacementMap']?'#define\x20USE_DISPLACEMENTMAP':'',_0x348256['emissiveMap']?'#define\x20USE_EMISSIVEMAP':'',_0x348256['anisotropy']?'#define\x20USE_ANISOTROPY':'',_0x348256['anisotropyMap']?'#define\x20USE_ANISOTROPYMAP':'',_0x348256['clearcoatMap']?'#define\x20USE_CLEARCOATMAP':'',_0x348256['clearcoatRoughnessMap']?'#define\x20USE_CLEARCOAT_ROUGHNESSMAP':'',_0x348256['clearcoatNormalMap']?'#define\x20USE_CLEARCOAT_NORMALMAP':'',_0x348256['iridescenceMap']?'#define\x20USE_IRIDESCENCEMAP':'',_0x348256['iridescenceThicknessMap']?'#define\x20USE_IRIDESCENCE_THICKNESSMAP':'',_0x348256['specularMap']?'#define\x20USE_SPECULARMAP':'',_0x348256['specularColorMap']?'#define\x20USE_SPECULAR_COLORMAP':'',_0x348256['specularIntensityMap']?'#define\x20USE_SPECULAR_INTENSITYMAP':'',_0x348256['roughnessMap']?'#define\x20USE_ROUGHNESSMAP':'',_0x348256['metalnessMap']?'#define\x20USE_METALNESSMAP':'',_0x348256['alphaMap']?'#define\x20USE_ALPHAMAP':'',_0x348256['alphaHash']?'#define\x20USE_ALPHAHASH':'',_0x348256['transmission']?'#define\x20USE_TRANSMISSION':'',_0x348256['transmissionMap']?'#define\x20USE_TRANSMISSIONMAP':'',_0x348256['thicknessMap']?'#define\x20USE_THICKNESSMAP':'',_0x348256['sheenColorMap']?'#define\x20USE_SHEEN_COLORMAP':'',_0x348256['sheenRoughnessMap']?'#define\x20USE_SHEEN_ROUGHNESSMAP':'',_0x348256['mapUv']?'#define\x20MAP_UV\x20'+_0x348256['mapUv']:'',_0x348256['alphaMapUv']?'#define\x20ALPHAMAP_UV\x20'+_0x348256['alphaMapUv']:'',_0x348256['lightMapUv']?'#define\x20LIGHTMAP_UV\x20'+_0x348256['lightMapUv']:'',_0x348256['aoMapUv']?'#define\x20AOMAP_UV\x20'+_0x348256['aoMapUv']:'',_0x348256['emissiveMapUv']?'#define\x20EMISSIVEMAP_UV\x20'+_0x348256['emissiveMapUv']:'',_0x348256['bumpMapUv']?'#define\x20BUMPMAP_UV\x20'+_0x348256['bumpMapUv']:'',_0x348256['normalMapUv']?'#define\x20NORMALMAP_UV\x20'+_0x348256['normalMapUv']:'',_0x348256['displacementMapUv']?'#define\x20DISPLACEMENTMAP_UV\x20'+_0x348256['displacementMapUv']:'',_0x348256['metalnessMapUv']?'#define\x20METALNESSMAP_UV\x20'+_0x348256['metalnessMapUv']:'',_0x348256['roughnessMapUv']?'#define\x20ROUGHNESSMAP_UV\x20'+_0x348256['roughnessMapUv']:'',_0x348256['anisotropyMapUv']?'#define\x20ANISOTROPYMAP_UV\x20'+_0x348256['anisotropyMapUv']:'',_0x348256['clearcoatMapUv']?'#define\x20CLEARCOATMAP_UV\x20'+_0x348256['clearcoatMapUv']:'',_0x348256['clearcoatNormalMapUv']?'#define\x20CLEARCOAT_NORMALMAP_UV\x20'+_0x348256['clearcoatNormalMapUv']:'',_0x348256['clearcoatRoughnessMapUv']?'#define\x20CLEARCOAT_ROUGHNESSMAP_UV\x20'+_0x348256['clearcoatRoughnessMapUv']:'',_0x348256['iridescenceMapUv']?'#define\x20IRIDESCENCEMAP_UV\x20'+_0x348256['iridescenceMapUv']:'',_0x348256['iridescenceThicknessMapUv']?'#define\x20IRIDESCENCE_THICKNESSMAP_UV\x20'+_0x348256['iridescenceThicknessMapUv']:'',_0x348256['sheenColorMapUv']?'#define\x20SHEEN_COLORMAP_UV\x20'+_0x348256['sheenColorMapUv']:'',_0x348256['sheenRoughnessMapUv']?'#define\x20SHEEN_ROUGHNESSMAP_UV\x20'+_0x348256['sheenRoughnessMapUv']:'',_0x348256['specularMapUv']?'#define\x20SPECULARMAP_UV\x20'+_0x348256['specularMapUv']:'',_0x348256['specularColorMapUv']?'#define\x20SPECULAR_COLORMAP_UV\x20'+_0x348256['specularColorMapUv']:'',_0x348256['specularIntensityMapUv']?'#define\x20SPECULAR_INTENSITYMAP_UV\x20'+_0x348256['specularIntensityMapUv']:'',_0x348256['transmissionMapUv']?'#define\x20TRANSMISSIONMAP_UV\x20'+_0x348256['transmissionMapUv']:'',_0x348256['thicknessMapUv']?'#define\x20THICKNESSMAP_UV\x20'+_0x348256['thicknessMapUv']:'',_0x348256['vertexTangents']&&!0x1===_0x348256['flatShading']?'#define\x20USE_TANGENT':'',_0x348256['vertexColors']?'#define\x20USE_COLOR':'',_0x348256['vertexAlphas']?'#define\x20USE_COLOR_ALPHA':'',_0x348256['vertexUv1s']?'#define\x20USE_UV1':'',_0x348256['vertexUv2s']?'#define\x20USE_UV2':'',_0x348256['vertexUv3s']?'#define\x20USE_UV3':'',_0x348256['pointsUvs']?'#define\x20USE_POINTS_UV':'',_0x348256['flatShading']?'#define\x20FLAT_SHADED':'',_0x348256['skinning']?'#define\x20USE_SKINNING':'',_0x348256['morphTargets']?'#define\x20USE_MORPHTARGETS':'',_0x348256['morphNormals']&&!0x1===_0x348256['flatShading']?'#define\x20USE_MORPHNORMALS':'',_0x348256['morphColors']?'#define\x20USE_MORPHCOLORS':'',_0x348256['morphTargetsCount']>0x0?'#define\x20MORPHTARGETS_TEXTURE_STRIDE\x20'+_0x348256['morphTextureStride']:'',_0x348256['morphTargetsCount']>0x0?'#define\x20MORPHTARGETS_COUNT\x20'+_0x348256['morphTargetsCount']:'',_0x348256['doubleSided']?'#define\x20DOUBLE_SIDED':'',_0x348256['flipSided']?'#define\x20FLIP_SIDED':'',_0x348256['shadowMapEnabled']?'#define\x20USE_SHADOWMAP':'',_0x348256['shadowMapEnabled']?'#define\x20'+_0x4ecbcd:'',_0x348256['sizeAttenuation']?'#define\x20USE_SIZEATTENUATION':'',_0x348256['numLightProbes']>0x0?'#define\x20USE_LIGHT_PROBES':'',_0x348256['logarithmicDepthBuffer']?'#define\x20USE_LOGDEPTHBUF':'',_0x348256['reverseDepthBuffer']?'#define\x20USE_REVERSEDEPTHBUF':'','uniform\x20mat4\x20modelMatrix;','uniform\x20mat4\x20modelViewMatrix;','uniform\x20mat4\x20projectionMatrix;','uniform\x20mat4\x20viewMatrix;','uniform\x20mat3\x20normalMatrix;','uniform\x20vec3\x20cameraPosition;','uniform\x20bool\x20isOrthographic;','#ifdef\x20USE_INSTANCING','\x09attribute\x20mat4\x20instanceMatrix;','#endif','#ifdef\x20USE_INSTANCING_COLOR','\x09attribute\x20vec3\x20instanceColor;','#endif','#ifdef\x20USE_INSTANCING_MORPH','\x09uniform\x20sampler2D\x20morphTexture;','#endif','attribute\x20vec3\x20position;','attribute\x20vec3\x20normal;','attribute\x20vec2\x20uv;','#ifdef\x20USE_UV1','\x09attribute\x20vec2\x20uv1;','#endif','#ifdef\x20USE_UV2','\x09attribute\x20vec2\x20uv2;','#endif','#ifdef\x20USE_UV3','\x09attribute\x20vec2\x20uv3;','#endif','#ifdef\x20USE_TANGENT','\x09attribute\x20vec4\x20tangent;','#endif','#if\x20defined(\x20USE_COLOR_ALPHA\x20)','\x09attribute\x20vec4\x20color;','#elif\x20defined(\x20USE_COLOR\x20)','\x09attribute\x20vec3\x20color;','#endif','#ifdef\x20USE_SKINNING','\x09attribute\x20vec4\x20skinIndex;','\x09attribute\x20vec4\x20skinWeight;','#endif','\x0a']['filter'](_0x555d2c)['join']('\x0a'),_0x683f0d=[_0x5664(_0x348256),'#define\x20SHADER_TYPE\x20'+_0x348256['shaderType'],'#define\x20SHADER_NAME\x20'+_0x348256['shaderName'],_0x41aed1,_0x348256['useFog']&&_0x348256['fog']?'#define\x20USE_FOG':'',_0x348256['useFog']&&_0x348256['fogExp2']?'#define\x20FOG_EXP2':'',_0x348256['alphaToCoverage']?'#define\x20ALPHA_TO_COVERAGE':'',_0x348256['map']?'#define\x20USE_MAP':'',_0x348256['matcap']?'#define\x20USE_MATCAP':'',_0x348256['envMap']?'#define\x20USE_ENVMAP':'',_0x348256['envMap']?'#define\x20'+_0x5e88fe:'',_0x348256['envMap']?'#define\x20'+_0x46b081:'',_0x348256['envMap']?'#define\x20'+_0x25c32c:'',_0x525eb7?'#define\x20CUBEUV_TEXEL_WIDTH\x20'+_0x525eb7['texelWidth']:'',_0x525eb7?'#define\x20CUBEUV_TEXEL_HEIGHT\x20'+_0x525eb7['texelHeight']:'',_0x525eb7?'#define\x20CUBEUV_MAX_MIP\x20'+_0x525eb7['maxMip']+'.0':'',_0x348256['lightMap']?'#define\x20USE_LIGHTMAP':'',_0x348256['aoMap']?'#define\x20USE_AOMAP':'',_0x348256['bumpMap']?'#define\x20USE_BUMPMAP':'',_0x348256['normalMap']?'#define\x20USE_NORMALMAP':'',_0x348256['normalMapObjectSpace']?'#define\x20USE_NORMALMAP_OBJECTSPACE':'',_0x348256['normalMapTangentSpace']?'#define\x20USE_NORMALMAP_TANGENTSPACE':'',_0x348256['emissiveMap']?'#define\x20USE_EMISSIVEMAP':'',_0x348256['anisotropy']?'#define\x20USE_ANISOTROPY':'',_0x348256['anisotropyMap']?'#define\x20USE_ANISOTROPYMAP':'',_0x348256['clearcoat']?'#define\x20USE_CLEARCOAT':'',_0x348256['clearcoatMap']?'#define\x20USE_CLEARCOATMAP':'',_0x348256['clearcoatRoughnessMap']?'#define\x20USE_CLEARCOAT_ROUGHNESSMAP':'',_0x348256['clearcoatNormalMap']?'#define\x20USE_CLEARCOAT_NORMALMAP':'',_0x348256['dispersion']?'#define\x20USE_DISPERSION':'',_0x348256['iridescence']?'#define\x20USE_IRIDESCENCE':'',_0x348256['iridescenceMap']?'#define\x20USE_IRIDESCENCEMAP':'',_0x348256['iridescenceThicknessMap']?'#define\x20USE_IRIDESCENCE_THICKNESSMAP':'',_0x348256['specularMap']?'#define\x20USE_SPECULARMAP':'',_0x348256['specularColorMap']?'#define\x20USE_SPECULAR_COLORMAP':'',_0x348256['specularIntensityMap']?'#define\x20USE_SPECULAR_INTENSITYMAP':'',_0x348256['roughnessMap']?'#define\x20USE_ROUGHNESSMAP':'',_0x348256['metalnessMap']?'#define\x20USE_METALNESSMAP':'',_0x348256['alphaMap']?'#define\x20USE_ALPHAMAP':'',_0x348256['alphaTest']?'#define\x20USE_ALPHATEST':'',_0x348256['alphaHash']?'#define\x20USE_ALPHAHASH':'',_0x348256['sheen']?'#define\x20USE_SHEEN':'',_0x348256['sheenColorMap']?'#define\x20USE_SHEEN_COLORMAP':'',_0x348256['sheenRoughnessMap']?'#define\x20USE_SHEEN_ROUGHNESSMAP':'',_0x348256['transmission']?'#define\x20USE_TRANSMISSION':'',_0x348256['transmissionMap']?'#define\x20USE_TRANSMISSIONMAP':'',_0x348256['thicknessMap']?'#define\x20USE_THICKNESSMAP':'',_0x348256['vertexTangents']&&!0x1===_0x348256['flatShading']?'#define\x20USE_TANGENT':'',_0x348256['vertexColors']||_0x348256['instancingColor']||_0x348256['batchingColor']?'#define\x20USE_COLOR':'',_0x348256['vertexAlphas']?'#define\x20USE_COLOR_ALPHA':'',_0x348256['vertexUv1s']?'#define\x20USE_UV1':'',_0x348256['vertexUv2s']?'#define\x20USE_UV2':'',_0x348256['vertexUv3s']?'#define\x20USE_UV3':'',_0x348256['pointsUvs']?'#define\x20USE_POINTS_UV':'',_0x348256['gradientMap']?'#define\x20USE_GRADIENTMAP':'',_0x348256['flatShading']?'#define\x20FLAT_SHADED':'',_0x348256['doubleSided']?'#define\x20DOUBLE_SIDED':'',_0x348256['flipSided']?'#define\x20FLIP_SIDED':'',_0x348256['shadowMapEnabled']?'#define\x20USE_SHADOWMAP':'',_0x348256['shadowMapEnabled']?'#define\x20'+_0x4ecbcd:'',_0x348256['premultipliedAlpha']?'#define\x20PREMULTIPLIED_ALPHA':'',_0x348256['numLightProbes']>0x0?'#define\x20USE_LIGHT_PROBES':'',_0x348256['decodeVideoTexture']?'#define\x20DECODE_VIDEO_TEXTURE':'',_0x348256['decodeVideoTextureEmissive']?'#define\x20DECODE_VIDEO_TEXTURE_EMISSIVE':'',_0x348256['logarithmicDepthBuffer']?'#define\x20USE_LOGDEPTHBUF':'',_0x348256['reverseDepthBuffer']?'#define\x20USE_REVERSEDEPTHBUF':'','uniform\x20mat4\x20viewMatrix;','uniform\x20vec3\x20cameraPosition;','uniform\x20bool\x20isOrthographic;',_0x348256['toneMapping']!==_0xfde85b['y_p']?'#define\x20TONE_MAPPING':'',_0x348256['toneMapping']!==_0xfde85b['y_p']?_0x4b63ee['tonemapping_pars_fragment']:'',_0x348256['toneMapping']!==_0xfde85b['y_p']?_0x306cf7('toneMapping',_0x348256['toneMapping']):'',_0x348256['dithering']?'#define\x20DITHERING':'',_0x348256['opaque']?'#define\x20OPAQUE':'',_0x4b63ee['colorspace_pars_fragment'],_0x2daaf6('linearToOutputTexel',_0x348256['outputColorSpace']),_0x1e4901(),_0x348256['useDepthPacking']?'#define\x20DEPTH_PACKING\x20'+_0x348256['depthPacking']:'','\x0a']['filter'](_0x555d2c)['join']('\x0a')),_0x4482c5=_0x9dbc33(_0x4482c5),_0x4482c5=_0x3f5336(_0x4482c5,_0x348256),_0x4482c5=_0x2c1687(_0x4482c5,_0x348256),_0x655764=_0x9dbc33(_0x655764),_0x655764=_0x3f5336(_0x655764,_0x348256),_0x655764=_0x2c1687(_0x655764,_0x348256),_0x4482c5=_0x15228a(_0x4482c5),_0x655764=_0x15228a(_0x655764),!0x0!==_0x348256['isRawShaderMaterial']&&(_0x14619e='#version\x20300\x20es\x0a',_0x2b25ea=[_0x25cdfc,'#define\x20attribute\x20in','#define\x20varying\x20out','#define\x20texture2D\x20texture']['join']('\x0a')+'\x0a'+_0x2b25ea,_0x683f0d=['#define\x20varying\x20in',_0x348256['glslVersion']===_0xfde85b['Wdf']?'':'layout(location\x20=\x200)\x20out\x20highp\x20vec4\x20pc_fragColor;',_0x348256['glslVersion']===_0xfde85b['Wdf']?'':'#define\x20gl_FragColor\x20pc_fragColor','#define\x20gl_FragDepthEXT\x20gl_FragDepth','#define\x20texture2D\x20texture','#define\x20textureCube\x20texture','#define\x20texture2DProj\x20textureProj','#define\x20texture2DLodEXT\x20textureLod','#define\x20texture2DProjLodEXT\x20textureProjLod','#define\x20textureCubeLodEXT\x20textureLod','#define\x20texture2DGradEXT\x20textureGrad','#define\x20texture2DProjGradEXT\x20textureProjGrad','#define\x20textureCubeGradEXT\x20textureGrad']['join']('\x0a')+'\x0a'+_0x683f0d);const _0x5b626d=_0x14619e+_0x2b25ea+_0x4482c5,_0x5cf4bb=_0x14619e+_0x683f0d+_0x655764,_0x2175a3=_0x5cab91(_0x21402b,_0x21402b['VERTEX_SHADER'],_0x5b626d),_0x398d1e=_0x5cab91(_0x21402b,_0x21402b['FRAGMENT_SHADER'],_0x5cf4bb);function _0x9ac085(_0x566d4f){if(_0x924ef['debug']['checkShaderErrors']){const _0xfebc24=_0x21402b['getProgramInfoLog'](_0x822afd)['trim'](),_0x55e050=_0x21402b['getShaderInfoLog'](_0x2175a3)['trim'](),_0x503936=_0x21402b['getShaderInfoLog'](_0x398d1e)['trim']();let _0x23af00=!0x0,_0x11aa55=!0x0;if(!0x1===_0x21402b['getProgramParameter'](_0x822afd,_0x21402b['LINK_STATUS'])){if(_0x23af00=!0x1,'function'==typeof _0x924ef['debug']['onShaderError'])_0x924ef['debug']['onShaderError'](_0x21402b,_0x822afd,_0x2175a3,_0x398d1e);else{const _0x2a122b=_0x1dbb12(_0x21402b,_0x2175a3,'vertex'),_0x23e83c=_0x1dbb12(_0x21402b,_0x398d1e,'fragment');console['error']('THREE.WebGLProgram:\x20Shader\x20Error\x20'+_0x21402b['getError']()+'\x20-\x20VALIDATE_STATUS\x20'+_0x21402b['getProgramParameter'](_0x822afd,_0x21402b['VALIDATE_STATUS'])+'\x0a\x0aMaterial\x20Name:\x20'+_0x566d4f['name']+'\x0aMaterial\x20Type:\x20'+_0x566d4f['type']+'\x0a\x0aProgram\x20Info\x20Log:\x20'+_0xfebc24+'\x0a'+_0x2a122b+'\x0a'+_0x23e83c);}}else''!==_0xfebc24?console['warn']('THREE.WebGLProgram:\x20Program\x20Info\x20Log:',_0xfebc24):''!==_0x55e050&&''!==_0x503936||(_0x11aa55=!0x1);_0x11aa55&&(_0x566d4f['diagnostics']={'runnable':_0x23af00,'programLog':_0xfebc24,'vertexShader':{'log':_0x55e050,'prefix':_0x2b25ea},'fragmentShader':{'log':_0x503936,'prefix':_0x683f0d}});}_0x21402b['deleteShader'](_0x2175a3),_0x21402b['deleteShader'](_0x398d1e),_0x590604=new _0x524198(_0x21402b,_0x822afd),_0x5a5547=function(_0x443b61,_0x9e269e){const _0xa7b169={},_0x27d451=_0x443b61['getProgramParameter'](_0x9e269e,_0x443b61['ACTIVE_ATTRIBUTES']);for(let _0x2d67c6=0x0;_0x2d67c6<_0x27d451;_0x2d67c6++){const _0x44ce5b=_0x443b61['getActiveAttrib'](_0x9e269e,_0x2d67c6),_0x859333=_0x44ce5b['name'];let _0x15f36d=0x1;_0x44ce5b['type']===_0x443b61['FLOAT_MAT2']&&(_0x15f36d=0x2),_0x44ce5b['type']===_0x443b61['FLOAT_MAT3']&&(_0x15f36d=0x3),_0x44ce5b['type']===_0x443b61['FLOAT_MAT4']&&(_0x15f36d=0x4),_0xa7b169[_0x859333]={'type':_0x44ce5b['type'],'location':_0x443b61['getAttribLocation'](_0x9e269e,_0x859333),'locationSize':_0x15f36d};}return _0xa7b169;}(_0x21402b,_0x822afd);}let _0x590604,_0x5a5547;_0x21402b['attachShader'](_0x822afd,_0x2175a3),_0x21402b['attachShader'](_0x822afd,_0x398d1e),void 0x0!==_0x348256['index0AttributeName']?_0x21402b['bindAttribLocation'](_0x822afd,0x0,_0x348256['index0AttributeName']):!0x0===_0x348256['morphTargets']&&_0x21402b['bindAttribLocation'](_0x822afd,0x0,'position'),_0x21402b['linkProgram'](_0x822afd),this['getUniforms']=function(){return void 0x0===_0x590604&&_0x9ac085(this),_0x590604;},this['getAttributes']=function(){return void 0x0===_0x5a5547&&_0x9ac085(this),_0x5a5547;};let _0x2ad7e4=!0x1===_0x348256['rendererExtensionParallelShaderCompile'];return this['isReady']=function(){return!0x1===_0x2ad7e4&&(_0x2ad7e4=_0x21402b['getProgramParameter'](_0x822afd,_0x4aca9b)),_0x2ad7e4;},this['destroy']=function(){_0x88fe87['releaseStatesOfProgram'](this),_0x21402b['deleteProgram'](_0x822afd),this['program']=void 0x0;},this['type']=_0x348256['shaderType'],this['name']=_0x348256['shaderName'],this['id']=_0x9ec88b++,this['cacheKey']=_0x421f7f,this['usedTimes']=0x1,this['program']=_0x822afd,this['vertexShader']=_0x2175a3,this['fragmentShader']=_0x398d1e,this;}let _0x418577=0x0;class _0x325e8a{constructor(){this['shaderCache']=new Map(),this['materialCache']=new Map();}['update'](_0x76b970){const _0x209801=_0x76b970['vertexShader'],_0x188a9b=_0x76b970['fragmentShader'],_0x42a9cd=this['_getShaderStage'](_0x209801),_0x2dbfe8=this['_getShaderStage'](_0x188a9b),_0x593983=this['_getShaderCacheForMaterial'](_0x76b970);return!0x1===_0x593983['has'](_0x42a9cd)&&(_0x593983['add'](_0x42a9cd),_0x42a9cd['usedTimes']++),!0x1===_0x593983['has'](_0x2dbfe8)&&(_0x593983['add'](_0x2dbfe8),_0x2dbfe8['usedTimes']++),this;}['remove'](_0x1e7a1a){const _0x55a29e=this['materialCache']['get'](_0x1e7a1a);for(const _0x41e17b of _0x55a29e)_0x41e17b['usedTimes']--,0x0===_0x41e17b['usedTimes']&&this['shaderCache']['delete'](_0x41e17b['code']);return this['materialCache']['delete'](_0x1e7a1a),this;}['getVertexShaderID'](_0x40b035){return this['_getShaderStage'](_0x40b035['vertexShader'])['id'];}['getFragmentShaderID'](_0x73d549){return this['_getShaderStage'](_0x73d549['fragmentShader'])['id'];}['dispose'](){this['shaderCache']['clear'](),this['materialCache']['clear']();}['_getShaderCacheForMaterial'](_0x5526f6){const _0x402e9e=this['materialCache'];let _0xf77243=_0x402e9e['get'](_0x5526f6);return void 0x0===_0xf77243&&(_0xf77243=new Set(),_0x402e9e['set'](_0x5526f6,_0xf77243)),_0xf77243;}['_getShaderStage'](_0x1806ab){const _0x551351=this['shaderCache'];let _0x3b7f15=_0x551351['get'](_0x1806ab);return void 0x0===_0x3b7f15&&(_0x3b7f15=new _0x36b3d5(_0x1806ab),_0x551351['set'](_0x1806ab,_0x3b7f15)),_0x3b7f15;}}class _0x36b3d5{constructor(_0x486fa6){this['id']=_0x418577++,this['code']=_0x486fa6,this['usedTimes']=0x0;}}function _0x4c2d4d(_0x4ec309,_0x2a2ddd,_0x45f439,_0x286e1f,_0x32e2bb,_0x2f36e2,_0x328db3){const _0x13b307=new _0xfde85b['zgK'](),_0x50f847=new _0x325e8a(),_0x436d15=new Set(),_0x3a932b=[],_0x444b24=_0x32e2bb['logarithmicDepthBuffer'],_0x388414=_0x32e2bb['vertexTextures'];let _0x9f2c25=_0x32e2bb['precision'];const _0x19b1ce={'MeshDepthMaterial':'depth','MeshDistanceMaterial':'distanceRGBA','MeshNormalMaterial':'normal','MeshBasicMaterial':'basic','MeshLambertMaterial':'lambert','MeshPhongMaterial':'phong','MeshToonMaterial':'toon','MeshStandardMaterial':'physical','MeshPhysicalMaterial':'physical','MeshMatcapMaterial':'matcap','LineBasicMaterial':'basic','LineDashedMaterial':'dashed','PointsMaterial':'points','ShadowMaterial':'shadow','SpriteMaterial':'sprite'};function _0xda8845(_0x597887){return _0x436d15['add'](_0x597887),0x0===_0x597887?'uv':'uv'+_0x597887;}return{'getParameters':function(_0x3c8f81,_0xe3d90f,_0x7399d3,_0x4bc7a9,_0x5b2ec0){const _0x173186=_0x4bc7a9['fog'],_0x22f273=_0x5b2ec0['geometry'],_0x475489=_0x3c8f81['isMeshStandardMaterial']?_0x4bc7a9['environment']:null,_0x449d71=(_0x3c8f81['isMeshStandardMaterial']?_0x45f439:_0x2a2ddd)['get'](_0x3c8f81['envMap']||_0x475489),_0x81af1b=_0x449d71&&_0x449d71['mapping']===_0xfde85b['Om']?_0x449d71['image']['height']:null,_0x74227a=_0x19b1ce[_0x3c8f81['type']];null!==_0x3c8f81['precision']&&(_0x9f2c25=_0x32e2bb['getMaxPrecision'](_0x3c8f81['precision']),_0x9f2c25!==_0x3c8f81['precision']&&console['warn']('THREE.WebGLProgram.getParameters:',_0x3c8f81['precision'],'not\x20supported,\x20using',_0x9f2c25,'instead.'));const _0x7252e6=_0x22f273['morphAttributes']['position']||_0x22f273['morphAttributes']['normal']||_0x22f273['morphAttributes']['color'],_0x43c928=void 0x0!==_0x7252e6?_0x7252e6['length']:0x0;let _0x46f734,_0x54ccf3,_0x469469,_0x1f1f8a,_0x40aad3=0x0;if(void 0x0!==_0x22f273['morphAttributes']['position']&&(_0x40aad3=0x1),void 0x0!==_0x22f273['morphAttributes']['normal']&&(_0x40aad3=0x2),void 0x0!==_0x22f273['morphAttributes']['color']&&(_0x40aad3=0x3),_0x74227a){const _0x55edf7=_0x31bbd9[_0x74227a];_0x46f734=_0x55edf7['vertexShader'],_0x54ccf3=_0x55edf7['fragmentShader'];}else _0x46f734=_0x3c8f81['vertexShader'],_0x54ccf3=_0x3c8f81['fragmentShader'],_0x50f847['update'](_0x3c8f81),_0x469469=_0x50f847['getVertexShaderID'](_0x3c8f81),_0x1f1f8a=_0x50f847['getFragmentShaderID'](_0x3c8f81);const _0x4ad710=_0x4ec309['getRenderTarget'](),_0x183c44=_0x4ec309['state']['buffers']['depth']['getReversed'](),_0x2176fc=!0x0===_0x5b2ec0['isInstancedMesh'],_0x2369dd=!0x0===_0x5b2ec0['isBatchedMesh'],_0x400a64=!!_0x3c8f81['map'],_0x154be7=!!_0x3c8f81['matcap'],_0xaaf784=!!_0x449d71,_0xd55fb7=!!_0x3c8f81['aoMap'],_0x25d6d7=!!_0x3c8f81['lightMap'],_0x3481bb=!!_0x3c8f81['bumpMap'],_0x2e2217=!!_0x3c8f81['normalMap'],_0x44fdf2=!!_0x3c8f81['displacementMap'],_0x449ec8=!!_0x3c8f81['emissiveMap'],_0x534585=!!_0x3c8f81['metalnessMap'],_0x35d235=!!_0x3c8f81['roughnessMap'],_0x477857=_0x3c8f81['anisotropy']>0x0,_0xf632fc=_0x3c8f81['clearcoat']>0x0,_0x1f57b5=_0x3c8f81['dispersion']>0x0,_0x48cac9=_0x3c8f81['iridescence']>0x0,_0x20516b=_0x3c8f81['sheen']>0x0,_0x7d3679=_0x3c8f81['transmission']>0x0,_0x1ae1d0=_0x477857&&!!_0x3c8f81['anisotropyMap'],_0x5a290a=_0xf632fc&&!!_0x3c8f81['clearcoatMap'],_0x322931=_0xf632fc&&!!_0x3c8f81['clearcoatNormalMap'],_0x254652=_0xf632fc&&!!_0x3c8f81['clearcoatRoughnessMap'],_0x16c51d=_0x48cac9&&!!_0x3c8f81['iridescenceMap'],_0x3cd77f=_0x48cac9&&!!_0x3c8f81['iridescenceThicknessMap'],_0x1decdb=_0x20516b&&!!_0x3c8f81['sheenColorMap'],_0x5dad03=_0x20516b&&!!_0x3c8f81['sheenRoughnessMap'],_0x3e105b=!!_0x3c8f81['specularMap'],_0xe02366=!!_0x3c8f81['specularColorMap'],_0x47a2a3=!!_0x3c8f81['specularIntensityMap'],_0x343250=_0x7d3679&&!!_0x3c8f81['transmissionMap'],_0x1bab7a=_0x7d3679&&!!_0x3c8f81['thicknessMap'],_0x1f2553=!!_0x3c8f81['gradientMap'],_0x43f442=!!_0x3c8f81['alphaMap'],_0x2e556c=_0x3c8f81['alphaTest']>0x0,_0x1ed163=!!_0x3c8f81['alphaHash'],_0x419307=!!_0x3c8f81['extensions'];let _0x2d0062=_0xfde85b['y_p'];_0x3c8f81['toneMapped']&&(null!==_0x4ad710&&!0x0!==_0x4ad710['isXRRenderTarget']||(_0x2d0062=_0x4ec309['toneMapping']));const _0x26a127={'shaderID':_0x74227a,'shaderType':_0x3c8f81['type'],'shaderName':_0x3c8f81['name'],'vertexShader':_0x46f734,'fragmentShader':_0x54ccf3,'defines':_0x3c8f81['defines'],'customVertexShaderID':_0x469469,'customFragmentShaderID':_0x1f1f8a,'isRawShaderMaterial':!0x0===_0x3c8f81['isRawShaderMaterial'],'glslVersion':_0x3c8f81['glslVersion'],'precision':_0x9f2c25,'batching':_0x2369dd,'batchingColor':_0x2369dd&&null!==_0x5b2ec0['_colorsTexture'],'instancing':_0x2176fc,'instancingColor':_0x2176fc&&null!==_0x5b2ec0['instanceColor'],'instancingMorph':_0x2176fc&&null!==_0x5b2ec0['morphTexture'],'supportsVertexTextures':_0x388414,'outputColorSpace':null===_0x4ad710?_0x4ec309['outputColorSpace']:!0x0===_0x4ad710['isXRRenderTarget']?_0x4ad710['texture']['colorSpace']:_0xfde85b['Zr2'],'alphaToCoverage':!!_0x3c8f81['alphaToCoverage'],'map':_0x400a64,'matcap':_0x154be7,'envMap':_0xaaf784,'envMapMode':_0xaaf784&&_0x449d71['mapping'],'envMapCubeUVHeight':_0x81af1b,'aoMap':_0xd55fb7,'lightMap':_0x25d6d7,'bumpMap':_0x3481bb,'normalMap':_0x2e2217,'displacementMap':_0x388414&&_0x44fdf2,'emissiveMap':_0x449ec8,'normalMapObjectSpace':_0x2e2217&&_0x3c8f81['normalMapType']===_0xfde85b['vyJ'],'normalMapTangentSpace':_0x2e2217&&_0x3c8f81['normalMapType']===_0xfde85b['bI3'],'metalnessMap':_0x534585,'roughnessMap':_0x35d235,'anisotropy':_0x477857,'anisotropyMap':_0x1ae1d0,'clearcoat':_0xf632fc,'clearcoatMap':_0x5a290a,'clearcoatNormalMap':_0x322931,'clearcoatRoughnessMap':_0x254652,'dispersion':_0x1f57b5,'iridescence':_0x48cac9,'iridescenceMap':_0x16c51d,'iridescenceThicknessMap':_0x3cd77f,'sheen':_0x20516b,'sheenColorMap':_0x1decdb,'sheenRoughnessMap':_0x5dad03,'specularMap':_0x3e105b,'specularColorMap':_0xe02366,'specularIntensityMap':_0x47a2a3,'transmission':_0x7d3679,'transmissionMap':_0x343250,'thicknessMap':_0x1bab7a,'gradientMap':_0x1f2553,'opaque':!0x1===_0x3c8f81['transparent']&&_0x3c8f81['blending']===_0xfde85b['NTi']&&!0x1===_0x3c8f81['alphaToCoverage'],'alphaMap':_0x43f442,'alphaTest':_0x2e556c,'alphaHash':_0x1ed163,'combine':_0x3c8f81['combine'],'mapUv':_0x400a64&&_0xda8845(_0x3c8f81['map']['channel']),'aoMapUv':_0xd55fb7&&_0xda8845(_0x3c8f81['aoMap']['channel']),'lightMapUv':_0x25d6d7&&_0xda8845(_0x3c8f81['lightMap']['channel']),'bumpMapUv':_0x3481bb&&_0xda8845(_0x3c8f81['bumpMap']['channel']),'normalMapUv':_0x2e2217&&_0xda8845(_0x3c8f81['normalMap']['channel']),'displacementMapUv':_0x44fdf2&&_0xda8845(_0x3c8f81['displacementMap']['channel']),'emissiveMapUv':_0x449ec8&&_0xda8845(_0x3c8f81['emissiveMap']['channel']),'metalnessMapUv':_0x534585&&_0xda8845(_0x3c8f81['metalnessMap']['channel']),'roughnessMapUv':_0x35d235&&_0xda8845(_0x3c8f81['roughnessMap']['channel']),'anisotropyMapUv':_0x1ae1d0&&_0xda8845(_0x3c8f81['anisotropyMap']['channel']),'clearcoatMapUv':_0x5a290a&&_0xda8845(_0x3c8f81['clearcoatMap']['channel']),'clearcoatNormalMapUv':_0x322931&&_0xda8845(_0x3c8f81['clearcoatNormalMap']['channel']),'clearcoatRoughnessMapUv':_0x254652&&_0xda8845(_0x3c8f81['clearcoatRoughnessMap']['channel']),'iridescenceMapUv':_0x16c51d&&_0xda8845(_0x3c8f81['iridescenceMap']['channel']),'iridescenceThicknessMapUv':_0x3cd77f&&_0xda8845(_0x3c8f81['iridescenceThicknessMap']['channel']),'sheenColorMapUv':_0x1decdb&&_0xda8845(_0x3c8f81['sheenColorMap']['channel']),'sheenRoughnessMapUv':_0x5dad03&&_0xda8845(_0x3c8f81['sheenRoughnessMap']['channel']),'specularMapUv':_0x3e105b&&_0xda8845(_0x3c8f81['specularMap']['channel']),'specularColorMapUv':_0xe02366&&_0xda8845(_0x3c8f81['specularColorMap']['channel']),'specularIntensityMapUv':_0x47a2a3&&_0xda8845(_0x3c8f81['specularIntensityMap']['channel']),'transmissionMapUv':_0x343250&&_0xda8845(_0x3c8f81['transmissionMap']['channel']),'thicknessMapUv':_0x1bab7a&&_0xda8845(_0x3c8f81['thicknessMap']['channel']),'alphaMapUv':_0x43f442&&_0xda8845(_0x3c8f81['alphaMap']['channel']),'vertexTangents':!!_0x22f273['attributes']['tangent']&&(_0x2e2217||_0x477857),'vertexColors':_0x3c8f81['vertexColors'],'vertexAlphas':!0x0===_0x3c8f81['vertexColors']&&!!_0x22f273['attributes']['color']&&0x4===_0x22f273['attributes']['color']['itemSize'],'pointsUvs':!0x0===_0x5b2ec0['isPoints']&&!!_0x22f273['attributes']['uv']&&(_0x400a64||_0x43f442),'fog':!!_0x173186,'useFog':!0x0===_0x3c8f81['fog'],'fogExp2':!!_0x173186&&_0x173186['isFogExp2'],'flatShading':!0x0===_0x3c8f81['flatShading'],'sizeAttenuation':!0x0===_0x3c8f81['sizeAttenuation'],'logarithmicDepthBuffer':_0x444b24,'reverseDepthBuffer':_0x183c44,'skinning':!0x0===_0x5b2ec0['isSkinnedMesh'],'morphTargets':void 0x0!==_0x22f273['morphAttributes']['position'],'morphNormals':void 0x0!==_0x22f273['morphAttributes']['normal'],'morphColors':void 0x0!==_0x22f273['morphAttributes']['color'],'morphTargetsCount':_0x43c928,'morphTextureStride':_0x40aad3,'numDirLights':_0xe3d90f['directional']['length'],'numPointLights':_0xe3d90f['point']['length'],'numSpotLights':_0xe3d90f['spot']['length'],'numSpotLightMaps':_0xe3d90f['spotLightMap']['length'],'numRectAreaLights':_0xe3d90f['rectArea']['length'],'numHemiLights':_0xe3d90f['hemi']['length'],'numDirLightShadows':_0xe3d90f['directionalShadowMap']['length'],'numPointLightShadows':_0xe3d90f['pointShadowMap']['length'],'numSpotLightShadows':_0xe3d90f['spotShadowMap']['length'],'numSpotLightShadowsWithMaps':_0xe3d90f['numSpotLightShadowsWithMaps'],'numLightProbes':_0xe3d90f['numLightProbes'],'numClippingPlanes':_0x328db3['numPlanes'],'numClipIntersection':_0x328db3['numIntersection'],'dithering':_0x3c8f81['dithering'],'shadowMapEnabled':_0x4ec309['shadowMap']['enabled']&&_0x7399d3['length']>0x0,'shadowMapType':_0x4ec309['shadowMap']['type'],'toneMapping':_0x2d0062,'decodeVideoTexture':_0x400a64&&!0x0===_0x3c8f81['map']['isVideoTexture']&&_0xfde85b['ppV']['getTransfer'](_0x3c8f81['map']['colorSpace'])===_0xfde85b['KLL'],'decodeVideoTextureEmissive':_0x449ec8&&!0x0===_0x3c8f81['emissiveMap']['isVideoTexture']&&_0xfde85b['ppV']['getTransfer'](_0x3c8f81['emissiveMap']['colorSpace'])===_0xfde85b['KLL'],'premultipliedAlpha':_0x3c8f81['premultipliedAlpha'],'doubleSided':_0x3c8f81['side']===_0xfde85b['$EB'],'flipSided':_0x3c8f81['side']===_0xfde85b['hsX'],'useDepthPacking':_0x3c8f81['depthPacking']>=0x0,'depthPacking':_0x3c8f81['depthPacking']||0x0,'index0AttributeName':_0x3c8f81['index0AttributeName'],'extensionClipCullDistance':_0x419307&&!0x0===_0x3c8f81['extensions']['clipCullDistance']&&_0x286e1f['has']('WEBGL_clip_cull_distance'),'extensionMultiDraw':(_0x419307&&!0x0===_0x3c8f81['extensions']['multiDraw']||_0x2369dd)&&_0x286e1f['has']('WEBGL_multi_draw'),'rendererExtensionParallelShaderCompile':_0x286e1f['has']('KHR_parallel_shader_compile'),'customProgramCacheKey':_0x3c8f81['customProgramCacheKey']()};return _0x26a127['vertexUv1s']=_0x436d15['has'](0x1),_0x26a127['vertexUv2s']=_0x436d15['has'](0x2),_0x26a127['vertexUv3s']=_0x436d15['has'](0x3),_0x436d15['clear'](),_0x26a127;},'getProgramCacheKey':function(_0x3d84ff){const _0x1b26bb=[];if(_0x3d84ff['shaderID']?_0x1b26bb['push'](_0x3d84ff['shaderID']):(_0x1b26bb['push'](_0x3d84ff['customVertexShaderID']),_0x1b26bb['push'](_0x3d84ff['customFragmentShaderID'])),void 0x0!==_0x3d84ff['defines']){for(const _0x2a212d in _0x3d84ff['defines'])_0x1b26bb['push'](_0x2a212d),_0x1b26bb['push'](_0x3d84ff['defines'][_0x2a212d]);}return!0x1===_0x3d84ff['isRawShaderMaterial']&&(!function(_0x3b6fd6,_0x490d1d){_0x3b6fd6['push'](_0x490d1d['precision']),_0x3b6fd6['push'](_0x490d1d['outputColorSpace']),_0x3b6fd6['push'](_0x490d1d['envMapMode']),_0x3b6fd6['push'](_0x490d1d['envMapCubeUVHeight']),_0x3b6fd6['push'](_0x490d1d['mapUv']),_0x3b6fd6['push'](_0x490d1d['alphaMapUv']),_0x3b6fd6['push'](_0x490d1d['lightMapUv']),_0x3b6fd6['push'](_0x490d1d['aoMapUv']),_0x3b6fd6['push'](_0x490d1d['bumpMapUv']),_0x3b6fd6['push'](_0x490d1d['normalMapUv']),_0x3b6fd6['push'](_0x490d1d['displacementMapUv']),_0x3b6fd6['push'](_0x490d1d['emissiveMapUv']),_0x3b6fd6['push'](_0x490d1d['metalnessMapUv']),_0x3b6fd6['push'](_0x490d1d['roughnessMapUv']),_0x3b6fd6['push'](_0x490d1d['anisotropyMapUv']),_0x3b6fd6['push'](_0x490d1d['clearcoatMapUv']),_0x3b6fd6['push'](_0x490d1d['clearcoatNormalMapUv']),_0x3b6fd6['push'](_0x490d1d['clearcoatRoughnessMapUv']),_0x3b6fd6['push'](_0x490d1d['iridescenceMapUv']),_0x3b6fd6['push'](_0x490d1d['iridescenceThicknessMapUv']),_0x3b6fd6['push'](_0x490d1d['sheenColorMapUv']),_0x3b6fd6['push'](_0x490d1d['sheenRoughnessMapUv']),_0x3b6fd6['push'](_0x490d1d['specularMapUv']),_0x3b6fd6['push'](_0x490d1d['specularColorMapUv']),_0x3b6fd6['push'](_0x490d1d['specularIntensityMapUv']),_0x3b6fd6['push'](_0x490d1d['transmissionMapUv']),_0x3b6fd6['push'](_0x490d1d['thicknessMapUv']),_0x3b6fd6['push'](_0x490d1d['combine']),_0x3b6fd6['push'](_0x490d1d['fogExp2']),_0x3b6fd6['push'](_0x490d1d['sizeAttenuation']),_0x3b6fd6['push'](_0x490d1d['morphTargetsCount']),_0x3b6fd6['push'](_0x490d1d['morphAttributeCount']),_0x3b6fd6['push'](_0x490d1d['numDirLights']),_0x3b6fd6['push'](_0x490d1d['numPointLights']),_0x3b6fd6['push'](_0x490d1d['numSpotLights']),_0x3b6fd6['push'](_0x490d1d['numSpotLightMaps']),_0x3b6fd6['push'](_0x490d1d['numHemiLights']),_0x3b6fd6['push'](_0x490d1d['numRectAreaLights']),_0x3b6fd6['push'](_0x490d1d['numDirLightShadows']),_0x3b6fd6['push'](_0x490d1d['numPointLightShadows']),_0x3b6fd6['push'](_0x490d1d['numSpotLightShadows']),_0x3b6fd6['push'](_0x490d1d['numSpotLightShadowsWithMaps']),_0x3b6fd6['push'](_0x490d1d['numLightProbes']),_0x3b6fd6['push'](_0x490d1d['shadowMapType']),_0x3b6fd6['push'](_0x490d1d['toneMapping']),_0x3b6fd6['push'](_0x490d1d['numClippingPlanes']),_0x3b6fd6['push'](_0x490d1d['numClipIntersection']),_0x3b6fd6['push'](_0x490d1d['depthPacking']);}(_0x1b26bb,_0x3d84ff),function(_0x3be44b,_0x4d5631){_0x13b307['disableAll'](),_0x4d5631['supportsVertexTextures']&&_0x13b307['enable'](0x0),_0x4d5631['instancing']&&_0x13b307['enable'](0x1),_0x4d5631['instancingColor']&&_0x13b307['enable'](0x2),_0x4d5631['instancingMorph']&&_0x13b307['enable'](0x3),_0x4d5631['matcap']&&_0x13b307['enable'](0x4),_0x4d5631['envMap']&&_0x13b307['enable'](0x5),_0x4d5631['normalMapObjectSpace']&&_0x13b307['enable'](0x6),_0x4d5631['normalMapTangentSpace']&&_0x13b307['enable'](0x7),_0x4d5631['clearcoat']&&_0x13b307['enable'](0x8),_0x4d5631['iridescence']&&_0x13b307['enable'](0x9),_0x4d5631['alphaTest']&&_0x13b307['enable'](0xa),_0x4d5631['vertexColors']&&_0x13b307['enable'](0xb),_0x4d5631['vertexAlphas']&&_0x13b307['enable'](0xc),_0x4d5631['vertexUv1s']&&_0x13b307['enable'](0xd),_0x4d5631['vertexUv2s']&&_0x13b307['enable'](0xe),_0x4d5631['vertexUv3s']&&_0x13b307['enable'](0xf),_0x4d5631['vertexTangents']&&_0x13b307['enable'](0x10),_0x4d5631['anisotropy']&&_0x13b307['enable'](0x11),_0x4d5631['alphaHash']&&_0x13b307['enable'](0x12),_0x4d5631['batching']&&_0x13b307['enable'](0x13),_0x4d5631['dispersion']&&_0x13b307['enable'](0x14),_0x4d5631['batchingColor']&&_0x13b307['enable'](0x15),(_0x3be44b['push'](_0x13b307['mask']),_0x13b307['disableAll'](),_0x4d5631['fog']&&_0x13b307['enable'](0x0)),_0x4d5631['useFog']&&_0x13b307['enable'](0x1),_0x4d5631['flatShading']&&_0x13b307['enable'](0x2),_0x4d5631['logarithmicDepthBuffer']&&_0x13b307['enable'](0x3),_0x4d5631['reverseDepthBuffer']&&_0x13b307['enable'](0x4),_0x4d5631['skinning']&&_0x13b307['enable'](0x5),_0x4d5631['morphTargets']&&_0x13b307['enable'](0x6),_0x4d5631['morphNormals']&&_0x13b307['enable'](0x7),_0x4d5631['morphColors']&&_0x13b307['enable'](0x8),_0x4d5631['premultipliedAlpha']&&_0x13b307['enable'](0x9),_0x4d5631['shadowMapEnabled']&&_0x13b307['enable'](0xa),_0x4d5631['doubleSided']&&_0x13b307['enable'](0xb),_0x4d5631['flipSided']&&_0x13b307['enable'](0xc),_0x4d5631['useDepthPacking']&&_0x13b307['enable'](0xd),_0x4d5631['dithering']&&_0x13b307['enable'](0xe),_0x4d5631['transmission']&&_0x13b307['enable'](0xf),_0x4d5631['sheen']&&_0x13b307['enable'](0x10),_0x4d5631['opaque']&&_0x13b307['enable'](0x11),_0x4d5631['pointsUvs']&&_0x13b307['enable'](0x12),_0x4d5631['decodeVideoTexture']&&_0x13b307['enable'](0x13),_0x4d5631['decodeVideoTextureEmissive']&&_0x13b307['enable'](0x14),_0x4d5631['alphaToCoverage']&&_0x13b307['enable'](0x15),_0x3be44b['push'](_0x13b307['mask']);}(_0x1b26bb,_0x3d84ff),_0x1b26bb['push'](_0x4ec309['outputColorSpace'])),_0x1b26bb['push'](_0x3d84ff['customProgramCacheKey']),_0x1b26bb['join']();},'getUniforms':function(_0x53e517){const _0x9d5f0f=_0x19b1ce[_0x53e517['type']];let _0x5c08cc;if(_0x9d5f0f){const _0x22d1f5=_0x31bbd9[_0x9d5f0f];_0x5c08cc=_0xfde85b['LlO']['clone'](_0x22d1f5['uniforms']);}else _0x5c08cc=_0x53e517['uniforms'];return _0x5c08cc;},'acquireProgram':function(_0x4ed617,_0x2511a6){let _0x23b678;for(let _0x4d18bd=0x0,_0x37e16f=_0x3a932b['length'];_0x4d18bd<_0x37e16f;_0x4d18bd++){const _0x222a11=_0x3a932b[_0x4d18bd];if(_0x222a11['cacheKey']===_0x2511a6){_0x23b678=_0x222a11,++_0x23b678['usedTimes'];break;}}return void 0x0===_0x23b678&&(_0x23b678=new _0x2575cf(_0x4ec309,_0x2511a6,_0x4ed617,_0x2f36e2),_0x3a932b['push'](_0x23b678)),_0x23b678;},'releaseProgram':function(_0x5a8e5d){if(0x0==--_0x5a8e5d['usedTimes']){const _0x523f50=_0x3a932b['indexOf'](_0x5a8e5d);_0x3a932b[_0x523f50]=_0x3a932b[_0x3a932b['length']-0x1],_0x3a932b['pop'](),_0x5a8e5d['destroy']();}},'releaseShaderCache':function(_0x25f766){_0x50f847['remove'](_0x25f766);},'programs':_0x3a932b,'dispose':function(){_0x50f847['dispose']();}};}function _0x1273a9(){let _0x2175cd=new WeakMap();return{'has':function(_0x366a72){return _0x2175cd['has'](_0x366a72);},'get':function(_0x55a567){let _0x21ef54=_0x2175cd['get'](_0x55a567);return void 0x0===_0x21ef54&&(_0x21ef54={},_0x2175cd['set'](_0x55a567,_0x21ef54)),_0x21ef54;},'remove':function(_0x1e22b2){_0x2175cd['delete'](_0x1e22b2);},'update':function(_0xb8c93b,_0x5d35fd,_0x20a7ce){_0x2175cd['get'](_0xb8c93b)[_0x5d35fd]=_0x20a7ce;},'dispose':function(){_0x2175cd=new WeakMap();}};}function _0x51bd58(_0x1b687f,_0x11ed98){return _0x1b687f['groupOrder']!==_0x11ed98['groupOrder']?_0x1b687f['groupOrder']-_0x11ed98['groupOrder']:_0x1b687f['renderOrder']!==_0x11ed98['renderOrder']?_0x1b687f['renderOrder']-_0x11ed98['renderOrder']:_0x1b687f['material']['id']!==_0x11ed98['material']['id']?_0x1b687f['material']['id']-_0x11ed98['material']['id']:_0x1b687f['z']!==_0x11ed98['z']?_0x1b687f['z']-_0x11ed98['z']:_0x1b687f['id']-_0x11ed98['id'];}function _0x4e3bcd(_0x2b8cbd,_0xc613bb){return _0x2b8cbd['groupOrder']!==_0xc613bb['groupOrder']?_0x2b8cbd['groupOrder']-_0xc613bb['groupOrder']:_0x2b8cbd['renderOrder']!==_0xc613bb['renderOrder']?_0x2b8cbd['renderOrder']-_0xc613bb['renderOrder']:_0x2b8cbd['z']!==_0xc613bb['z']?_0xc613bb['z']-_0x2b8cbd['z']:_0x2b8cbd['id']-_0xc613bb['id'];}function _0x1c8f10(){const _0x361eec=[];let _0x3a15b7=0x0;const _0x5dd956=[],_0x59dc63=[],_0x456e8e=[];function _0x36b4f3(_0x5ae606,_0x3d8b58,_0x294774,_0x38ff3a,_0x4c08ed,_0x3b9021){let _0x512888=_0x361eec[_0x3a15b7];return void 0x0===_0x512888?(_0x512888={'id':_0x5ae606['id'],'object':_0x5ae606,'geometry':_0x3d8b58,'material':_0x294774,'groupOrder':_0x38ff3a,'renderOrder':_0x5ae606['renderOrder'],'z':_0x4c08ed,'group':_0x3b9021},_0x361eec[_0x3a15b7]=_0x512888):(_0x512888['id']=_0x5ae606['id'],_0x512888['object']=_0x5ae606,_0x512888['geometry']=_0x3d8b58,_0x512888['material']=_0x294774,_0x512888['groupOrder']=_0x38ff3a,_0x512888['renderOrder']=_0x5ae606['renderOrder'],_0x512888['z']=_0x4c08ed,_0x512888['group']=_0x3b9021),_0x3a15b7++,_0x512888;}return{'opaque':_0x5dd956,'transmissive':_0x59dc63,'transparent':_0x456e8e,'init':function(){_0x3a15b7=0x0,_0x5dd956['length']=0x0,_0x59dc63['length']=0x0,_0x456e8e['length']=0x0;},'push':function(_0x4599c1,_0x1dd588,_0x210425,_0x172842,_0xbd1065,_0x5246a4){const _0x149add=_0x36b4f3(_0x4599c1,_0x1dd588,_0x210425,_0x172842,_0xbd1065,_0x5246a4);_0x210425['transmission']>0x0?_0x59dc63['push'](_0x149add):!0x0===_0x210425['transparent']?_0x456e8e['push'](_0x149add):_0x5dd956['push'](_0x149add);},'unshift':function(_0x4e54c5,_0x533264,_0x4e1b7c,_0x119317,_0x2a6fb2,_0x2e87a2){const _0x499fc9=_0x36b4f3(_0x4e54c5,_0x533264,_0x4e1b7c,_0x119317,_0x2a6fb2,_0x2e87a2);_0x4e1b7c['transmission']>0x0?_0x59dc63['unshift'](_0x499fc9):!0x0===_0x4e1b7c['transparent']?_0x456e8e['unshift'](_0x499fc9):_0x5dd956['unshift'](_0x499fc9);},'finish':function(){for(let _0x8752f8=_0x3a15b7,_0x36078b=_0x361eec['length'];_0x8752f8<_0x36078b;_0x8752f8++){const _0x56b5cc=_0x361eec[_0x8752f8];if(null===_0x56b5cc['id'])break;_0x56b5cc['id']=null,_0x56b5cc['object']=null,_0x56b5cc['geometry']=null,_0x56b5cc['material']=null,_0x56b5cc['group']=null;}},'sort':function(_0x5242ef,_0x2bdd1d){_0x5dd956['length']>0x1&&_0x5dd956['sort'](_0x5242ef||_0x51bd58),_0x59dc63['length']>0x1&&_0x59dc63['sort'](_0x2bdd1d||_0x4e3bcd),_0x456e8e['length']>0x1&&_0x456e8e['sort'](_0x2bdd1d||_0x4e3bcd);}};}function _0x3e773a(){let _0x752393=new WeakMap();return{'get':function(_0x146332,_0x8ecfb9){const _0x28b8aa=_0x752393['get'](_0x146332);let _0x3e9a2a;return void 0x0===_0x28b8aa?(_0x3e9a2a=new _0x1c8f10(),_0x752393['set'](_0x146332,[_0x3e9a2a])):_0x8ecfb9>=_0x28b8aa['length']?(_0x3e9a2a=new _0x1c8f10(),_0x28b8aa['push'](_0x3e9a2a)):_0x3e9a2a=_0x28b8aa[_0x8ecfb9],_0x3e9a2a;},'dispose':function(){_0x752393=new WeakMap();}};}function _0x5e5489(){const _0x3033b9={};return{'get':function(_0x16fb39){if(void 0x0!==_0x3033b9[_0x16fb39['id']])return _0x3033b9[_0x16fb39['id']];let _0x4b9c81;switch(_0x16fb39['type']){case'DirectionalLight':_0x4b9c81={'direction':new _0xfde85b['Pq0'](),'color':new _0xfde85b['Q1f']()};break;case'SpotLight':_0x4b9c81={'position':new _0xfde85b['Pq0'](),'direction':new _0xfde85b['Pq0'](),'color':new _0xfde85b['Q1f'](),'distance':0x0,'coneCos':0x0,'penumbraCos':0x0,'decay':0x0};break;case'PointLight':_0x4b9c81={'position':new _0xfde85b['Pq0'](),'color':new _0xfde85b['Q1f'](),'distance':0x0,'decay':0x0};break;case'HemisphereLight':_0x4b9c81={'direction':new _0xfde85b['Pq0'](),'skyColor':new _0xfde85b['Q1f'](),'groundColor':new _0xfde85b['Q1f']()};break;case'RectAreaLight':_0x4b9c81={'color':new _0xfde85b['Q1f'](),'position':new _0xfde85b['Pq0'](),'halfWidth':new _0xfde85b['Pq0'](),'halfHeight':new _0xfde85b['Pq0']()};}return _0x3033b9[_0x16fb39['id']]=_0x4b9c81,_0x4b9c81;}};}let _0x436fcf=0x0;function _0x25c371(_0x4431b7,_0x3a3958){return(_0x3a3958['castShadow']?0x2:0x0)-(_0x4431b7['castShadow']?0x2:0x0)+(_0x3a3958['map']?0x1:0x0)-(_0x4431b7['map']?0x1:0x0);}function _0x2cd88c(_0x4a3818){const _0x27f729=new _0x5e5489(),_0x34908f=(function(){const _0x51b168={};return{'get':function(_0x4a68d1){if(void 0x0!==_0x51b168[_0x4a68d1['id']])return _0x51b168[_0x4a68d1['id']];let _0x15b505;switch(_0x4a68d1['type']){case'DirectionalLight':case'SpotLight':_0x15b505={'shadowIntensity':0x1,'shadowBias':0x0,'shadowNormalBias':0x0,'shadowRadius':0x1,'shadowMapSize':new _0xfde85b['I9Y']()};break;case'PointLight':_0x15b505={'shadowIntensity':0x1,'shadowBias':0x0,'shadowNormalBias':0x0,'shadowRadius':0x1,'shadowMapSize':new _0xfde85b['I9Y'](),'shadowCameraNear':0x1,'shadowCameraFar':0x3e8};}return _0x51b168[_0x4a68d1['id']]=_0x15b505,_0x15b505;}};}()),_0x5c66b8={'version':0x0,'hash':{'directionalLength':-0x1,'pointLength':-0x1,'spotLength':-0x1,'rectAreaLength':-0x1,'hemiLength':-0x1,'numDirectionalShadows':-0x1,'numPointShadows':-0x1,'numSpotShadows':-0x1,'numSpotMaps':-0x1,'numLightProbes':-0x1},'ambient':[0x0,0x0,0x0],'probe':[],'directional':[],'directionalShadow':[],'directionalShadowMap':[],'directionalShadowMatrix':[],'spot':[],'spotLightMap':[],'spotShadow':[],'spotShadowMap':[],'spotLightMatrix':[],'rectArea':[],'rectAreaLTC1':null,'rectAreaLTC2':null,'point':[],'pointShadow':[],'pointShadowMap':[],'pointShadowMatrix':[],'hemi':[],'numSpotLightShadowsWithMaps':0x0,'numLightProbes':0x0};for(let _0x1c3b58=0x0;_0x1c3b58<0x9;_0x1c3b58++)_0x5c66b8['probe']['push'](new _0xfde85b['Pq0']());const _0x374f09=new _0xfde85b['Pq0'](),_0x220ecf=new _0xfde85b['kn4'](),_0x1f5e72=new _0xfde85b['kn4']();return{'setup':function(_0x594208){let _0x236ab7=0x0,_0x2103c6=0x0,_0x38aeec=0x0;for(let _0x5473ac=0x0;_0x5473ac<0x9;_0x5473ac++)_0x5c66b8['probe'][_0x5473ac]['set'](0x0,0x0,0x0);let _0x3f18d5=0x0,_0x100e78=0x0,_0x72a81f=0x0,_0x71259b=0x0,_0x136b3c=0x0,_0x29e6fb=0x0,_0x5b5bc5=0x0,_0x544fc2=0x0,_0x3cb6f0=0x0,_0x42aedf=0x0,_0x1e2a33=0x0;_0x594208['sort'](_0x25c371);for(let _0x3266b3=0x0,_0x3c84b4=_0x594208['length'];_0x3266b3<_0x3c84b4;_0x3266b3++){const _0x184e53=_0x594208[_0x3266b3],_0x1a3f37=_0x184e53['color'],_0x2252b1=_0x184e53['intensity'],_0x46f4f0=_0x184e53['distance'],_0x114a57=_0x184e53['shadow']&&_0x184e53['shadow']['map']?_0x184e53['shadow']['map']['texture']:null;if(_0x184e53['isAmbientLight'])_0x236ab7+=_0x1a3f37['r']*_0x2252b1,_0x2103c6+=_0x1a3f37['g']*_0x2252b1,_0x38aeec+=_0x1a3f37['b']*_0x2252b1;else{if(_0x184e53['isLightProbe']){for(let _0xd8e36a=0x0;_0xd8e36a<0x9;_0xd8e36a++)_0x5c66b8['probe'][_0xd8e36a]['addScaledVector'](_0x184e53['sh']['coefficients'][_0xd8e36a],_0x2252b1);_0x1e2a33++;}else{if(_0x184e53['isDirectionalLight']){const _0xc8a842=_0x27f729['get'](_0x184e53);if(_0xc8a842['color']['copy'](_0x184e53['color'])['multiplyScalar'](_0x184e53['intensity']),_0x184e53['castShadow']){const _0x394958=_0x184e53['shadow'],_0x47a7ec=_0x34908f['get'](_0x184e53);_0x47a7ec['shadowIntensity']=_0x394958['intensity'],_0x47a7ec['shadowBias']=_0x394958['bias'],_0x47a7ec['shadowNormalBias']=_0x394958['normalBias'],_0x47a7ec['shadowRadius']=_0x394958['radius'],_0x47a7ec['shadowMapSize']=_0x394958['mapSize'],_0x5c66b8['directionalShadow'][_0x3f18d5]=_0x47a7ec,_0x5c66b8['directionalShadowMap'][_0x3f18d5]=_0x114a57,_0x5c66b8['directionalShadowMatrix'][_0x3f18d5]=_0x184e53['shadow']['matrix'],_0x29e6fb++;}_0x5c66b8['directional'][_0x3f18d5]=_0xc8a842,_0x3f18d5++;}else{if(_0x184e53['isSpotLight']){const _0x44d92d=_0x27f729['get'](_0x184e53);_0x44d92d['position']['setFromMatrixPosition'](_0x184e53['matrixWorld']),_0x44d92d['color']['copy'](_0x1a3f37)['multiplyScalar'](_0x2252b1),_0x44d92d['distance']=_0x46f4f0,_0x44d92d['coneCos']=Math['cos'](_0x184e53['angle']),_0x44d92d['penumbraCos']=Math['cos'](_0x184e53['angle']*(0x1-_0x184e53['penumbra'])),_0x44d92d['decay']=_0x184e53['decay'],_0x5c66b8['spot'][_0x72a81f]=_0x44d92d;const _0x43308c=_0x184e53['shadow'];if(_0x184e53['map']&&(_0x5c66b8['spotLightMap'][_0x3cb6f0]=_0x184e53['map'],_0x3cb6f0++,_0x43308c['updateMatrices'](_0x184e53),_0x184e53['castShadow']&&_0x42aedf++),_0x5c66b8['spotLightMatrix'][_0x72a81f]=_0x43308c['matrix'],_0x184e53['castShadow']){const _0x3d46c0=_0x34908f['get'](_0x184e53);_0x3d46c0['shadowIntensity']=_0x43308c['intensity'],_0x3d46c0['shadowBias']=_0x43308c['bias'],_0x3d46c0['shadowNormalBias']=_0x43308c['normalBias'],_0x3d46c0['shadowRadius']=_0x43308c['radius'],_0x3d46c0['shadowMapSize']=_0x43308c['mapSize'],_0x5c66b8['spotShadow'][_0x72a81f]=_0x3d46c0,_0x5c66b8['spotShadowMap'][_0x72a81f]=_0x114a57,_0x544fc2++;}_0x72a81f++;}else{if(_0x184e53['isRectAreaLight']){const _0x391236=_0x27f729['get'](_0x184e53);_0x391236['color']['copy'](_0x1a3f37)['multiplyScalar'](_0x2252b1),_0x391236['halfWidth']['set'](0.5*_0x184e53['width'],0x0,0x0),_0x391236['halfHeight']['set'](0x0,0.5*_0x184e53['height'],0x0),_0x5c66b8['rectArea'][_0x71259b]=_0x391236,_0x71259b++;}else{if(_0x184e53['isPointLight']){const _0x42648f=_0x27f729['get'](_0x184e53);if(_0x42648f['color']['copy'](_0x184e53['color'])['multiplyScalar'](_0x184e53['intensity']),_0x42648f['distance']=_0x184e53['distance'],_0x42648f['decay']=_0x184e53['decay'],_0x184e53['castShadow']){const _0x3bc934=_0x184e53['shadow'],_0x455a4b=_0x34908f['get'](_0x184e53);_0x455a4b['shadowIntensity']=_0x3bc934['intensity'],_0x455a4b['shadowBias']=_0x3bc934['bias'],_0x455a4b['shadowNormalBias']=_0x3bc934['normalBias'],_0x455a4b['shadowRadius']=_0x3bc934['radius'],_0x455a4b['shadowMapSize']=_0x3bc934['mapSize'],_0x455a4b['shadowCameraNear']=_0x3bc934['camera']['near'],_0x455a4b['shadowCameraFar']=_0x3bc934['camera']['far'],_0x5c66b8['pointShadow'][_0x100e78]=_0x455a4b,_0x5c66b8['pointShadowMap'][_0x100e78]=_0x114a57,_0x5c66b8['pointShadowMatrix'][_0x100e78]=_0x184e53['shadow']['matrix'],_0x5b5bc5++;}_0x5c66b8['point'][_0x100e78]=_0x42648f,_0x100e78++;}else{if(_0x184e53['isHemisphereLight']){const _0x142987=_0x27f729['get'](_0x184e53);_0x142987['skyColor']['copy'](_0x184e53['color'])['multiplyScalar'](_0x2252b1),_0x142987['groundColor']['copy'](_0x184e53['groundColor'])['multiplyScalar'](_0x2252b1),_0x5c66b8['hemi'][_0x136b3c]=_0x142987,_0x136b3c++;}}}}}}}}_0x71259b>0x0&&(!0x0===_0x4a3818['has']('OES_texture_float_linear')?(_0x5c66b8['rectAreaLTC1']=_0x4259d7['LTC_FLOAT_1'],_0x5c66b8['rectAreaLTC2']=_0x4259d7['LTC_FLOAT_2']):(_0x5c66b8['rectAreaLTC1']=_0x4259d7['LTC_HALF_1'],_0x5c66b8['rectAreaLTC2']=_0x4259d7['LTC_HALF_2'])),_0x5c66b8['ambient'][0x0]=_0x236ab7,_0x5c66b8['ambient'][0x1]=_0x2103c6,_0x5c66b8['ambient'][0x2]=_0x38aeec;const _0x4aa7c2=_0x5c66b8['hash'];_0x4aa7c2['directionalLength']===_0x3f18d5&&_0x4aa7c2['pointLength']===_0x100e78&&_0x4aa7c2['spotLength']===_0x72a81f&&_0x4aa7c2['rectAreaLength']===_0x71259b&&_0x4aa7c2['hemiLength']===_0x136b3c&&_0x4aa7c2['numDirectionalShadows']===_0x29e6fb&&_0x4aa7c2['numPointShadows']===_0x5b5bc5&&_0x4aa7c2['numSpotShadows']===_0x544fc2&&_0x4aa7c2['numSpotMaps']===_0x3cb6f0&&_0x4aa7c2['numLightProbes']===_0x1e2a33||(_0x5c66b8['directional']['length']=_0x3f18d5,_0x5c66b8['spot']['length']=_0x72a81f,_0x5c66b8['rectArea']['length']=_0x71259b,_0x5c66b8['point']['length']=_0x100e78,_0x5c66b8['hemi']['length']=_0x136b3c,_0x5c66b8['directionalShadow']['length']=_0x29e6fb,_0x5c66b8['directionalShadowMap']['length']=_0x29e6fb,_0x5c66b8['pointShadow']['length']=_0x5b5bc5,_0x5c66b8['pointShadowMap']['length']=_0x5b5bc5,_0x5c66b8['spotShadow']['length']=_0x544fc2,_0x5c66b8['spotShadowMap']['length']=_0x544fc2,_0x5c66b8['directionalShadowMatrix']['length']=_0x29e6fb,_0x5c66b8['pointShadowMatrix']['length']=_0x5b5bc5,_0x5c66b8['spotLightMatrix']['length']=_0x544fc2+_0x3cb6f0-_0x42aedf,_0x5c66b8['spotLightMap']['length']=_0x3cb6f0,_0x5c66b8['numSpotLightShadowsWithMaps']=_0x42aedf,_0x5c66b8['numLightProbes']=_0x1e2a33,_0x4aa7c2['directionalLength']=_0x3f18d5,_0x4aa7c2['pointLength']=_0x100e78,_0x4aa7c2['spotLength']=_0x72a81f,_0x4aa7c2['rectAreaLength']=_0x71259b,_0x4aa7c2['hemiLength']=_0x136b3c,_0x4aa7c2['numDirectionalShadows']=_0x29e6fb,_0x4aa7c2['numPointShadows']=_0x5b5bc5,_0x4aa7c2['numSpotShadows']=_0x544fc2,_0x4aa7c2['numSpotMaps']=_0x3cb6f0,_0x4aa7c2['numLightProbes']=_0x1e2a33,_0x5c66b8['version']=_0x436fcf++);},'setupView':function(_0x4aca2a,_0xbe06b9){let _0x288ef9=0x0,_0x101be3=0x0,_0x696531=0x0,_0x3111be=0x0,_0x16293c=0x0;const _0x75dbb5=_0xbe06b9['matrixWorldInverse'];for(let _0x2e30c9=0x0,_0x3bd73b=_0x4aca2a['length'];_0x2e30c9<_0x3bd73b;_0x2e30c9++){const _0x4b66a9=_0x4aca2a[_0x2e30c9];if(_0x4b66a9['isDirectionalLight']){const _0x1e92f5=_0x5c66b8['directional'][_0x288ef9];_0x1e92f5['direction']['setFromMatrixPosition'](_0x4b66a9['matrixWorld']),_0x374f09['setFromMatrixPosition'](_0x4b66a9['target']['matrixWorld']),_0x1e92f5['direction']['sub'](_0x374f09),_0x1e92f5['direction']['transformDirection'](_0x75dbb5),_0x288ef9++;}else{if(_0x4b66a9['isSpotLight']){const _0x1baf2e=_0x5c66b8['spot'][_0x696531];_0x1baf2e['position']['setFromMatrixPosition'](_0x4b66a9['matrixWorld']),_0x1baf2e['position']['applyMatrix4'](_0x75dbb5),_0x1baf2e['direction']['setFromMatrixPosition'](_0x4b66a9['matrixWorld']),_0x374f09['setFromMatrixPosition'](_0x4b66a9['target']['matrixWorld']),_0x1baf2e['direction']['sub'](_0x374f09),_0x1baf2e['direction']['transformDirection'](_0x75dbb5),_0x696531++;}else{if(_0x4b66a9['isRectAreaLight']){const _0x3f7c04=_0x5c66b8['rectArea'][_0x3111be];_0x3f7c04['position']['setFromMatrixPosition'](_0x4b66a9['matrixWorld']),_0x3f7c04['position']['applyMatrix4'](_0x75dbb5),_0x1f5e72['identity'](),_0x220ecf['copy'](_0x4b66a9['matrixWorld']),_0x220ecf['premultiply'](_0x75dbb5),_0x1f5e72['extractRotation'](_0x220ecf),_0x3f7c04['halfWidth']['set'](0.5*_0x4b66a9['width'],0x0,0x0),_0x3f7c04['halfHeight']['set'](0x0,0.5*_0x4b66a9['height'],0x0),_0x3f7c04['halfWidth']['applyMatrix4'](_0x1f5e72),_0x3f7c04['halfHeight']['applyMatrix4'](_0x1f5e72),_0x3111be++;}else{if(_0x4b66a9['isPointLight']){const _0xc087fc=_0x5c66b8['point'][_0x101be3];_0xc087fc['position']['setFromMatrixPosition'](_0x4b66a9['matrixWorld']),_0xc087fc['position']['applyMatrix4'](_0x75dbb5),_0x101be3++;}else{if(_0x4b66a9['isHemisphereLight']){const _0x5c24c2=_0x5c66b8['hemi'][_0x16293c];_0x5c24c2['direction']['setFromMatrixPosition'](_0x4b66a9['matrixWorld']),_0x5c24c2['direction']['transformDirection'](_0x75dbb5),_0x16293c++;}}}}}}},'state':_0x5c66b8};}function _0x2af426(_0x537bd8){const _0x1d6207=new _0x2cd88c(_0x537bd8),_0x13f10a=[],_0x2fb68a=[],_0x4eb3f4={'lightsArray':_0x13f10a,'shadowsArray':_0x2fb68a,'camera':null,'lights':_0x1d6207,'transmissionRenderTarget':{}};return{'init':function(_0x390d49){_0x4eb3f4['camera']=_0x390d49,_0x13f10a['length']=0x0,_0x2fb68a['length']=0x0;},'state':_0x4eb3f4,'setupLights':function(){_0x1d6207['setup'](_0x13f10a);},'setupLightsView':function(_0x4f85f1){_0x1d6207['setupView'](_0x13f10a,_0x4f85f1);},'pushLight':function(_0x1f3ae8){_0x13f10a['push'](_0x1f3ae8);},'pushShadow':function(_0x37327e){_0x2fb68a['push'](_0x37327e);}};}function _0x35b66d(_0x593a1f){let _0x2bab39=new WeakMap();return{'get':function(_0xcbf233,_0x3bf516=0x0){const _0x4c81f9=_0x2bab39['get'](_0xcbf233);let _0x1186f8;return void 0x0===_0x4c81f9?(_0x1186f8=new _0x2af426(_0x593a1f),_0x2bab39['set'](_0xcbf233,[_0x1186f8])):_0x3bf516>=_0x4c81f9['length']?(_0x1186f8=new _0x2af426(_0x593a1f),_0x4c81f9['push'](_0x1186f8)):_0x1186f8=_0x4c81f9[_0x3bf516],_0x1186f8;},'dispose':function(){_0x2bab39=new WeakMap();}};}function _0x3339be(_0x7d5744,_0x4ac801,_0x2815d6){let _0x5f3f2f=new _0xfde85b['PPD']();const _0x429eb6=new _0xfde85b['I9Y'](),_0x2bb1a8=new _0xfde85b['I9Y'](),_0x4f7eed=new _0xfde85b['IUQ'](),_0x4dd43c=new _0xfde85b['CSG']({'depthPacking':_0xfde85b['N5j']}),_0x34bb13=new _0xfde85b['aVO'](),_0x19bef9={},_0x4ec36b=_0x2815d6['maxTextureSize'],_0x5584e1={[_0xfde85b['hB5']]:_0xfde85b['hsX'],[_0xfde85b['hsX']]:_0xfde85b['hB5'],[_0xfde85b['$EB']]:_0xfde85b['$EB']},_0x1288c4=new _0xfde85b['BKk']({'defines':{'VSM_SAMPLES':0x8},'uniforms':{'shadow_pass':{'value':null},'resolution':{'value':new _0xfde85b['I9Y']()},'radius':{'value':0x4}},'vertexShader':'void\x20main()\x20{\x0a\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a}','fragmentShader':'uniform\x20sampler2D\x20shadow_pass;\x0auniform\x20vec2\x20resolution;\x0auniform\x20float\x20radius;\x0a#include\x20<packing>\x0avoid\x20main()\x20{\x0a\x09const\x20float\x20samples\x20=\x20float(\x20VSM_SAMPLES\x20);\x0a\x09float\x20mean\x20=\x200.0;\x0a\x09float\x20squared_mean\x20=\x200.0;\x0a\x09float\x20uvStride\x20=\x20samples\x20<=\x201.0\x20?\x200.0\x20:\x202.0\x20/\x20(\x20samples\x20-\x201.0\x20);\x0a\x09float\x20uvStart\x20=\x20samples\x20<=\x201.0\x20?\x200.0\x20:\x20-\x201.0;\x0a\x09for\x20(\x20float\x20i\x20=\x200.0;\x20i\x20<\x20samples;\x20i\x20++\x20)\x20{\x0a\x09\x09float\x20uvOffset\x20=\x20uvStart\x20+\x20i\x20*\x20uvStride;\x0a\x09\x09#ifdef\x20HORIZONTAL_PASS\x0a\x09\x09\x09vec2\x20distribution\x20=\x20unpackRGBATo2Half(\x20texture2D(\x20shadow_pass,\x20(\x20gl_FragCoord.xy\x20+\x20vec2(\x20uvOffset,\x200.0\x20)\x20*\x20radius\x20)\x20/\x20resolution\x20)\x20);\x0a\x09\x09\x09mean\x20+=\x20distribution.x;\x0a\x09\x09\x09squared_mean\x20+=\x20distribution.y\x20*\x20distribution.y\x20+\x20distribution.x\x20*\x20distribution.x;\x0a\x09\x09#else\x0a\x09\x09\x09float\x20depth\x20=\x20unpackRGBAToDepth(\x20texture2D(\x20shadow_pass,\x20(\x20gl_FragCoord.xy\x20+\x20vec2(\x200.0,\x20uvOffset\x20)\x20*\x20radius\x20)\x20/\x20resolution\x20)\x20);\x0a\x09\x09\x09mean\x20+=\x20depth;\x0a\x09\x09\x09squared_mean\x20+=\x20depth\x20*\x20depth;\x0a\x09\x09#endif\x0a\x09}\x0a\x09mean\x20=\x20mean\x20/\x20samples;\x0a\x09squared_mean\x20=\x20squared_mean\x20/\x20samples;\x0a\x09float\x20std_dev\x20=\x20sqrt(\x20squared_mean\x20-\x20mean\x20*\x20mean\x20);\x0a\x09gl_FragColor\x20=\x20pack2HalfToRGBA(\x20vec2(\x20mean,\x20std_dev\x20)\x20);\x0a}'}),_0x569bf8=_0x1288c4['clone']();_0x569bf8['defines']['HORIZONTAL_PASS']=0x1;const _0x42b8a3=new _0xfde85b['LoY']();_0x42b8a3['setAttribute']('position',new _0xfde85b['THS'](new Float32Array([-0x1,-0x1,0.5,0x3,-0x1,0.5,-0x1,0x3,0.5]),0x3));const _0x13b4d1=new _0xfde85b['eaF'](_0x42b8a3,_0x1288c4),_0x1a983c=this;this['enabled']=!0x1,this['autoUpdate']=!0x0,this['needsUpdate']=!0x1,this['type']=_0xfde85b['QP0'];let _0x4c3334=this['type'];function _0x29ca7d(_0x152ffd,_0x82735f){const _0x24f2a0=_0x4ac801['update'](_0x13b4d1);_0x1288c4['defines']['VSM_SAMPLES']!==_0x152ffd['blurSamples']&&(_0x1288c4['defines']['VSM_SAMPLES']=_0x152ffd['blurSamples'],_0x569bf8['defines']['VSM_SAMPLES']=_0x152ffd['blurSamples'],_0x1288c4['needsUpdate']=!0x0,_0x569bf8['needsUpdate']=!0x0),null===_0x152ffd['mapPass']&&(_0x152ffd['mapPass']=new _0xfde85b['nWS'](_0x429eb6['x'],_0x429eb6['y'])),_0x1288c4['uniforms']['shadow_pass']['value']=_0x152ffd['map']['texture'],_0x1288c4['uniforms']['resolution']['value']=_0x152ffd['mapSize'],_0x1288c4['uniforms']['radius']['value']=_0x152ffd['radius'],_0x7d5744['setRenderTarget'](_0x152ffd['mapPass']),_0x7d5744['clear'](),_0x7d5744['renderBufferDirect'](_0x82735f,null,_0x24f2a0,_0x1288c4,_0x13b4d1,null),_0x569bf8['uniforms']['shadow_pass']['value']=_0x152ffd['mapPass']['texture'],_0x569bf8['uniforms']['resolution']['value']=_0x152ffd['mapSize'],_0x569bf8['uniforms']['radius']['value']=_0x152ffd['radius'],_0x7d5744['setRenderTarget'](_0x152ffd['map']),_0x7d5744['clear'](),_0x7d5744['renderBufferDirect'](_0x82735f,null,_0x24f2a0,_0x569bf8,_0x13b4d1,null);}function _0x52b39e(_0xd87f44,_0x5b01f9,_0x3d2fa2,_0x1d3386){let _0x3fa6c7=null;const _0x519c29=!0x0===_0x3d2fa2['isPointLight']?_0xd87f44['customDistanceMaterial']:_0xd87f44['customDepthMaterial'];if(void 0x0!==_0x519c29)_0x3fa6c7=_0x519c29;else{if(_0x3fa6c7=!0x0===_0x3d2fa2['isPointLight']?_0x34bb13:_0x4dd43c,_0x7d5744['localClippingEnabled']&&!0x0===_0x5b01f9['clipShadows']&&Array['isArray'](_0x5b01f9['clippingPlanes'])&&0x0!==_0x5b01f9['clippingPlanes']['length']||_0x5b01f9['displacementMap']&&0x0!==_0x5b01f9['displacementScale']||_0x5b01f9['alphaMap']&&_0x5b01f9['alphaTest']>0x0||_0x5b01f9['map']&&_0x5b01f9['alphaTest']>0x0){const _0x14d36b=_0x3fa6c7['uuid'],_0x5f45c8=_0x5b01f9['uuid'];let _0x3d701a=_0x19bef9[_0x14d36b];void 0x0===_0x3d701a&&(_0x3d701a={},_0x19bef9[_0x14d36b]=_0x3d701a);let _0x20e24b=_0x3d701a[_0x5f45c8];void 0x0===_0x20e24b&&(_0x20e24b=_0x3fa6c7['clone'](),_0x3d701a[_0x5f45c8]=_0x20e24b,_0x5b01f9['addEventListener']('dispose',_0xd6948a)),_0x3fa6c7=_0x20e24b;}}return(_0x3fa6c7['visible']=_0x5b01f9['visible'],_0x3fa6c7['wireframe']=_0x5b01f9['wireframe'],_0x1d3386===_0xfde85b['RyA']?_0x3fa6c7['side']=null!==_0x5b01f9['shadowSide']?_0x5b01f9['shadowSide']:_0x5b01f9['side']:_0x3fa6c7['side']=null!==_0x5b01f9['shadowSide']?_0x5b01f9['shadowSide']:_0x5584e1[_0x5b01f9['side']],_0x3fa6c7['alphaMap']=_0x5b01f9['alphaMap'],_0x3fa6c7['alphaTest']=_0x5b01f9['alphaTest'],_0x3fa6c7['map']=_0x5b01f9['map'],_0x3fa6c7['clipShadows']=_0x5b01f9['clipShadows'],_0x3fa6c7['clippingPlanes']=_0x5b01f9['clippingPlanes'],_0x3fa6c7['clipIntersection']=_0x5b01f9['clipIntersection'],_0x3fa6c7['displacementMap']=_0x5b01f9['displacementMap'],_0x3fa6c7['displacementScale']=_0x5b01f9['displacementScale'],_0x3fa6c7['displacementBias']=_0x5b01f9['displacementBias'],_0x3fa6c7['wireframeLinewidth']=_0x5b01f9['wireframeLinewidth'],_0x3fa6c7['linewidth']=_0x5b01f9['linewidth'],!0x0===_0x3d2fa2['isPointLight']&&!0x0===_0x3fa6c7['isMeshDistanceMaterial'])&&(_0x7d5744['properties']['get'](_0x3fa6c7)['light']=_0x3d2fa2),_0x3fa6c7;}function _0x5b3528(_0x3ef704,_0x28e963,_0xe239b1,_0x28cd88,_0x691359){if(!0x1===_0x3ef704['visible'])return;if(_0x3ef704['layers']['test'](_0x28e963['layers'])&&(_0x3ef704['isMesh']||_0x3ef704['isLine']||_0x3ef704['isPoints'])&&(_0x3ef704['castShadow']||_0x3ef704['receiveShadow']&&_0x691359===_0xfde85b['RyA'])&&(!_0x3ef704['frustumCulled']||_0x5f3f2f['intersectsObject'](_0x3ef704))){_0x3ef704['modelViewMatrix']['multiplyMatrices'](_0xe239b1['matrixWorldInverse'],_0x3ef704['matrixWorld']);const _0xf8e6ca=_0x4ac801['update'](_0x3ef704),_0x45a947=_0x3ef704['material'];if(Array['isArray'](_0x45a947)){const _0x3b5808=_0xf8e6ca['groups'];for(let _0x330014=0x0,_0x520458=_0x3b5808['length'];_0x330014<_0x520458;_0x330014++){const _0x1ad614=_0x3b5808[_0x330014],_0x175cdc=_0x45a947[_0x1ad614['materialIndex']];if(_0x175cdc&&_0x175cdc['visible']){const _0x430970=_0x52b39e(_0x3ef704,_0x175cdc,_0x28cd88,_0x691359);_0x3ef704['onBeforeShadow'](_0x7d5744,_0x3ef704,_0x28e963,_0xe239b1,_0xf8e6ca,_0x430970,_0x1ad614),_0x7d5744['renderBufferDirect'](_0xe239b1,null,_0xf8e6ca,_0x430970,_0x3ef704,_0x1ad614),_0x3ef704['onAfterShadow'](_0x7d5744,_0x3ef704,_0x28e963,_0xe239b1,_0xf8e6ca,_0x430970,_0x1ad614);}}}else{if(_0x45a947['visible']){const _0x28af7a=_0x52b39e(_0x3ef704,_0x45a947,_0x28cd88,_0x691359);_0x3ef704['onBeforeShadow'](_0x7d5744,_0x3ef704,_0x28e963,_0xe239b1,_0xf8e6ca,_0x28af7a,null),_0x7d5744['renderBufferDirect'](_0xe239b1,null,_0xf8e6ca,_0x28af7a,_0x3ef704,null),_0x3ef704['onAfterShadow'](_0x7d5744,_0x3ef704,_0x28e963,_0xe239b1,_0xf8e6ca,_0x28af7a,null);}}}const _0xdb0795=_0x3ef704['children'];for(let _0x3c50f6=0x0,_0x3e65e0=_0xdb0795['length'];_0x3c50f6<_0x3e65e0;_0x3c50f6++)_0x5b3528(_0xdb0795[_0x3c50f6],_0x28e963,_0xe239b1,_0x28cd88,_0x691359);}function _0xd6948a(_0x2ddd80){_0x2ddd80['target']['removeEventListener']('dispose',_0xd6948a);for(const _0x500e87 in _0x19bef9){const _0xb5be6f=_0x19bef9[_0x500e87],_0x29c463=_0x2ddd80['target']['uuid'];_0x29c463 in _0xb5be6f&&(_0xb5be6f[_0x29c463]['dispose'](),delete _0xb5be6f[_0x29c463]);}}this['render']=function(_0x45a3a5,_0x5e5cee,_0x337e57){if(!0x1===_0x1a983c['enabled'])return;if(!0x1===_0x1a983c['autoUpdate']&&!0x1===_0x1a983c['needsUpdate'])return;if(0x0===_0x45a3a5['length'])return;const _0x5f35c5=_0x7d5744['getRenderTarget'](),_0x39726b=_0x7d5744['getActiveCubeFace'](),_0x321090=_0x7d5744['getActiveMipmapLevel'](),_0xc2d87=_0x7d5744['state'];_0xc2d87['setBlending'](_0xfde85b['XIg']),_0xc2d87['buffers']['color']['setClear'](0x1,0x1,0x1,0x1),_0xc2d87['buffers']['depth']['setTest'](!0x0),_0xc2d87['setScissorTest'](!0x1);const _0x2252d1=_0x4c3334!==_0xfde85b['RyA']&&this['type']===_0xfde85b['RyA'],_0x7a0060=_0x4c3334===_0xfde85b['RyA']&&this['type']!==_0xfde85b['RyA'];for(let _0x1e1b71=0x0,_0x3f6c0d=_0x45a3a5['length'];_0x1e1b71<_0x3f6c0d;_0x1e1b71++){const _0x142abe=_0x45a3a5[_0x1e1b71],_0x550760=_0x142abe['shadow'];if(void 0x0===_0x550760){console['warn']('THREE.WebGLShadowMap:',_0x142abe,'has\x20no\x20shadow.');continue;}if(!0x1===_0x550760['autoUpdate']&&!0x1===_0x550760['needsUpdate'])continue;_0x429eb6['copy'](_0x550760['mapSize']);const _0x5471b4=_0x550760['getFrameExtents']();if(_0x429eb6['multiply'](_0x5471b4),_0x2bb1a8['copy'](_0x550760['mapSize']),(_0x429eb6['x']>_0x4ec36b||_0x429eb6['y']>_0x4ec36b)&&(_0x429eb6['x']>_0x4ec36b&&(_0x2bb1a8['x']=Math['floor'](_0x4ec36b/_0x5471b4['x']),_0x429eb6['x']=_0x2bb1a8['x']*_0x5471b4['x'],_0x550760['mapSize']['x']=_0x2bb1a8['x']),_0x429eb6['y']>_0x4ec36b&&(_0x2bb1a8['y']=Math['floor'](_0x4ec36b/_0x5471b4['y']),_0x429eb6['y']=_0x2bb1a8['y']*_0x5471b4['y'],_0x550760['mapSize']['y']=_0x2bb1a8['y'])),null===_0x550760['map']||!0x0===_0x2252d1||!0x0===_0x7a0060){const _0x2f20c3=this['type']!==_0xfde85b['RyA']?{'minFilter':_0xfde85b['hxR'],'magFilter':_0xfde85b['hxR']}:{};null!==_0x550760['map']&&_0x550760['map']['dispose'](),_0x550760['map']=new _0xfde85b['nWS'](_0x429eb6['x'],_0x429eb6['y'],_0x2f20c3),_0x550760['map']['texture']['name']=_0x142abe['name']+'.shadowMap',_0x550760['camera']['updateProjectionMatrix']();}_0x7d5744['setRenderTarget'](_0x550760['map']),_0x7d5744['clear']();const _0xd8c4f5=_0x550760['getViewportCount']();for(let _0x2cdc0a=0x0;_0x2cdc0a<_0xd8c4f5;_0x2cdc0a++){const _0xd09089=_0x550760['getViewport'](_0x2cdc0a);_0x4f7eed['set'](_0x2bb1a8['x']*_0xd09089['x'],_0x2bb1a8['y']*_0xd09089['y'],_0x2bb1a8['x']*_0xd09089['z'],_0x2bb1a8['y']*_0xd09089['w']),_0xc2d87['viewport'](_0x4f7eed),_0x550760['updateMatrices'](_0x142abe,_0x2cdc0a),_0x5f3f2f=_0x550760['getFrustum'](),_0x5b3528(_0x5e5cee,_0x337e57,_0x550760['camera'],_0x142abe,this['type']);}!0x0!==_0x550760['isPointLightShadow']&&this['type']===_0xfde85b['RyA']&&_0x29ca7d(_0x550760,_0x337e57),_0x550760['needsUpdate']=!0x1;}_0x4c3334=this['type'],_0x1a983c['needsUpdate']=!0x1,_0x7d5744['setRenderTarget'](_0x5f35c5,_0x39726b,_0x321090);};}const _0x19c294={[_0xfde85b['eHc']]:_0xfde85b['lGu'],[_0xfde85b['brA']]:_0xfde85b['K52'],[_0xfde85b['U3G']]:_0xfde85b['bw0'],[_0xfde85b['xSv']]:_0xfde85b['Gwm'],[_0xfde85b['lGu']]:_0xfde85b['eHc'],[_0xfde85b['K52']]:_0xfde85b['brA'],[_0xfde85b['bw0']]:_0xfde85b['U3G'],[_0xfde85b['Gwm']]:_0xfde85b['xSv']};function _0x18f31d(_0xdffd8d,_0x5dc8d9){const _0x42a0a6=new function(){let _0x56e094=!0x1;const _0xd7b5b4=new _0xfde85b['IUQ']();let _0x492750=null;const _0x42da8f=new _0xfde85b['IUQ'](0x0,0x0,0x0,0x0);return{'setMask':function(_0x1988d6){_0x492750===_0x1988d6||_0x56e094||(_0xdffd8d['colorMask'](_0x1988d6,_0x1988d6,_0x1988d6,_0x1988d6),_0x492750=_0x1988d6);},'setLocked':function(_0x211f86){_0x56e094=_0x211f86;},'setClear':function(_0x5f032a,_0x237865,_0x154686,_0x913b8c,_0x25308){!0x0===_0x25308&&(_0x5f032a*=_0x913b8c,_0x237865*=_0x913b8c,_0x154686*=_0x913b8c),_0xd7b5b4['set'](_0x5f032a,_0x237865,_0x154686,_0x913b8c),!0x1===_0x42da8f['equals'](_0xd7b5b4)&&(_0xdffd8d['clearColor'](_0x5f032a,_0x237865,_0x154686,_0x913b8c),_0x42da8f['copy'](_0xd7b5b4));},'reset':function(){_0x56e094=!0x1,_0x492750=null,_0x42da8f['set'](-0x1,0x0,0x0,0x0);}};}(),_0x4d292f=new function(){let _0x60f57b=!0x1,_0x38d89f=!0x1,_0x41106d=null,_0x4c6802=null,_0x17dcea=null;return{'setReversed':function(_0x499447){if(_0x38d89f!==_0x499447){const _0x2519fb=_0x5dc8d9['get']('EXT_clip_control');_0x38d89f?_0x2519fb['clipControlEXT'](_0x2519fb['LOWER_LEFT_EXT'],_0x2519fb['ZERO_TO_ONE_EXT']):_0x2519fb['clipControlEXT'](_0x2519fb['LOWER_LEFT_EXT'],_0x2519fb['NEGATIVE_ONE_TO_ONE_EXT']);const _0x598a82=_0x17dcea;_0x17dcea=null,this['setClear'](_0x598a82);}_0x38d89f=_0x499447;},'getReversed':function(){return _0x38d89f;},'setTest':function(_0x57d130){_0x57d130?_0x10b4e8(_0xdffd8d['DEPTH_TEST']):_0x455e14(_0xdffd8d['DEPTH_TEST']);},'setMask':function(_0x1d2725){_0x41106d===_0x1d2725||_0x60f57b||(_0xdffd8d['depthMask'](_0x1d2725),_0x41106d=_0x1d2725);},'setFunc':function(_0x2eb061){if(_0x38d89f&&(_0x2eb061=_0x19c294[_0x2eb061]),_0x4c6802!==_0x2eb061){switch(_0x2eb061){case _0xfde85b['eHc']:_0xdffd8d['depthFunc'](_0xdffd8d['NEVER']);break;case _0xfde85b['lGu']:_0xdffd8d['depthFunc'](_0xdffd8d['ALWAYS']);break;case _0xfde85b['brA']:_0xdffd8d['depthFunc'](_0xdffd8d['LESS']);break;case _0xfde85b['xSv']:_0xdffd8d['depthFunc'](_0xdffd8d['LEQUAL']);break;case _0xfde85b['U3G']:_0xdffd8d['depthFunc'](_0xdffd8d['EQUAL']);break;case _0xfde85b['Gwm']:_0xdffd8d['depthFunc'](_0xdffd8d['GEQUAL']);break;case _0xfde85b['K52']:_0xdffd8d['depthFunc'](_0xdffd8d['GREATER']);break;case _0xfde85b['bw0']:_0xdffd8d['depthFunc'](_0xdffd8d['NOTEQUAL']);break;default:_0xdffd8d['depthFunc'](_0xdffd8d['LEQUAL']);}_0x4c6802=_0x2eb061;}},'setLocked':function(_0x51555b){_0x60f57b=_0x51555b;},'setClear':function(_0x41cbe8){_0x17dcea!==_0x41cbe8&&(_0x38d89f&&(_0x41cbe8=0x1-_0x41cbe8),_0xdffd8d['clearDepth'](_0x41cbe8),_0x17dcea=_0x41cbe8);},'reset':function(){_0x60f57b=!0x1,_0x41106d=null,_0x4c6802=null,_0x17dcea=null,_0x38d89f=!0x1;}};}(),_0x56b6d5=new function(){let _0x19920b=!0x1,_0x5afcd9=null,_0x4e2646=null,_0x4c2bd7=null,_0xbd84ce=null,_0x1a82c0=null,_0x4b1fa6=null,_0x414cdc=null,_0x4351b2=null;return{'setTest':function(_0x2769be){_0x19920b||(_0x2769be?_0x10b4e8(_0xdffd8d['STENCIL_TEST']):_0x455e14(_0xdffd8d['STENCIL_TEST']));},'setMask':function(_0x1124e5){_0x5afcd9===_0x1124e5||_0x19920b||(_0xdffd8d['stencilMask'](_0x1124e5),_0x5afcd9=_0x1124e5);},'setFunc':function(_0x1b34f1,_0x48c9a9,_0x3e1c46){_0x4e2646===_0x1b34f1&&_0x4c2bd7===_0x48c9a9&&_0xbd84ce===_0x3e1c46||(_0xdffd8d['stencilFunc'](_0x1b34f1,_0x48c9a9,_0x3e1c46),_0x4e2646=_0x1b34f1,_0x4c2bd7=_0x48c9a9,_0xbd84ce=_0x3e1c46);},'setOp':function(_0x2b831f,_0x3b4cff,_0x1e1cc7){_0x1a82c0===_0x2b831f&&_0x4b1fa6===_0x3b4cff&&_0x414cdc===_0x1e1cc7||(_0xdffd8d['stencilOp'](_0x2b831f,_0x3b4cff,_0x1e1cc7),_0x1a82c0=_0x2b831f,_0x4b1fa6=_0x3b4cff,_0x414cdc=_0x1e1cc7);},'setLocked':function(_0x2204b2){_0x19920b=_0x2204b2;},'setClear':function(_0x4350df){_0x4351b2!==_0x4350df&&(_0xdffd8d['clearStencil'](_0x4350df),_0x4351b2=_0x4350df);},'reset':function(){_0x19920b=!0x1,_0x5afcd9=null,_0x4e2646=null,_0x4c2bd7=null,_0xbd84ce=null,_0x1a82c0=null,_0x4b1fa6=null,_0x414cdc=null,_0x4351b2=null;}};}(),_0x548e50=new WeakMap(),_0x102b3f=new WeakMap();let _0x558ae9={},_0x8be50b={},_0x1f4079=new WeakMap(),_0x4f94d5=[],_0x12803c=null,_0xfaa418=!0x1,_0x1bfedb=null,_0x5be8aa=null,_0x1f71a5=null,_0x3b5f38=null,_0x1bb06f=null,_0x345529=null,_0x227435=null,_0x176fd8=new _0xfde85b['Q1f'](0x0,0x0,0x0),_0x30a68d=0x0,_0x5b24f1=!0x1,_0x393627=null,_0x46270c=null,_0x32b55d=null,_0x5b123b=null,_0x5e9d5a=null;const _0x3c7c8c=_0xdffd8d['getParameter'](_0xdffd8d['MAX_COMBINED_TEXTURE_IMAGE_UNITS']);let _0x34718f=!0x1,_0x40172c=0x0;const _0xb7ca15=_0xdffd8d['getParameter'](_0xdffd8d['VERSION']);-0x1!==_0xb7ca15['indexOf']('WebGL')?(_0x40172c=parseFloat(/^WebGL (\d)/['exec'](_0xb7ca15)[0x1]),_0x34718f=_0x40172c>=0x1):-0x1!==_0xb7ca15['indexOf']('OpenGL\x20ES')&&(_0x40172c=parseFloat(/^OpenGL ES (\d)/['exec'](_0xb7ca15)[0x1]),_0x34718f=_0x40172c>=0x2);let _0x3e52b0=null,_0x5189b9={};const _0x4a6c5f=_0xdffd8d['getParameter'](_0xdffd8d['SCISSOR_BOX']),_0x12f042=_0xdffd8d['getParameter'](_0xdffd8d['VIEWPORT']),_0xd04057=new _0xfde85b['IUQ']()['fromArray'](_0x4a6c5f),_0x19bb8e=new _0xfde85b['IUQ']()['fromArray'](_0x12f042);function _0x2b1061(_0x309034,_0x3d0587,_0x4cb29c,_0x4ff86f){const _0x2dd6be=new Uint8Array(0x4),_0x2156cc=_0xdffd8d['createTexture']();_0xdffd8d['bindTexture'](_0x309034,_0x2156cc),_0xdffd8d['texParameteri'](_0x309034,_0xdffd8d['TEXTURE_MIN_FILTER'],_0xdffd8d['NEAREST']),_0xdffd8d['texParameteri'](_0x309034,_0xdffd8d['TEXTURE_MAG_FILTER'],_0xdffd8d['NEAREST']);for(let _0x2a7a87=0x0;_0x2a7a87<_0x4cb29c;_0x2a7a87++)_0x309034===_0xdffd8d['TEXTURE_3D']||_0x309034===_0xdffd8d['TEXTURE_2D_ARRAY']?_0xdffd8d['texImage3D'](_0x3d0587,0x0,_0xdffd8d['RGBA'],0x1,0x1,_0x4ff86f,0x0,_0xdffd8d['RGBA'],_0xdffd8d['UNSIGNED_BYTE'],_0x2dd6be):_0xdffd8d['texImage2D'](_0x3d0587+_0x2a7a87,0x0,_0xdffd8d['RGBA'],0x1,0x1,0x0,_0xdffd8d['RGBA'],_0xdffd8d['UNSIGNED_BYTE'],_0x2dd6be);return _0x2156cc;}const _0x5077c0={};function _0x10b4e8(_0x541e2f){!0x0!==_0x558ae9[_0x541e2f]&&(_0xdffd8d['enable'](_0x541e2f),_0x558ae9[_0x541e2f]=!0x0);}function _0x455e14(_0x461914){!0x1!==_0x558ae9[_0x461914]&&(_0xdffd8d['disable'](_0x461914),_0x558ae9[_0x461914]=!0x1);}_0x5077c0[_0xdffd8d['TEXTURE_2D']]=_0x2b1061(_0xdffd8d['TEXTURE_2D'],_0xdffd8d['TEXTURE_2D'],0x1),_0x5077c0[_0xdffd8d['TEXTURE_CUBE_MAP']]=_0x2b1061(_0xdffd8d['TEXTURE_CUBE_MAP'],_0xdffd8d['TEXTURE_CUBE_MAP_POSITIVE_X'],0x6),_0x5077c0[_0xdffd8d['TEXTURE_2D_ARRAY']]=_0x2b1061(_0xdffd8d['TEXTURE_2D_ARRAY'],_0xdffd8d['TEXTURE_2D_ARRAY'],0x1,0x1),_0x5077c0[_0xdffd8d['TEXTURE_3D']]=_0x2b1061(_0xdffd8d['TEXTURE_3D'],_0xdffd8d['TEXTURE_3D'],0x1,0x1),_0x42a0a6['setClear'](0x0,0x0,0x0,0x1),_0x4d292f['setClear'](0x1),_0x56b6d5['setClear'](0x0),_0x10b4e8(_0xdffd8d['DEPTH_TEST']),_0x4d292f['setFunc'](_0xfde85b['xSv']),_0x560750(!0x1),_0x37ad44(_0xfde85b['Vb5']),_0x10b4e8(_0xdffd8d['CULL_FACE']),_0x22149a(_0xfde85b['XIg']);const _0x4020f5={[_0xfde85b['gO9']]:_0xdffd8d['FUNC_ADD'],[_0xfde85b['FXf']]:_0xdffd8d['FUNC_SUBTRACT'],[_0xfde85b['nST']]:_0xdffd8d['FUNC_REVERSE_SUBTRACT']};_0x4020f5[_0xfde85b['znC']]=_0xdffd8d['MIN'],_0x4020f5[_0xfde85b['$ei']]=_0xdffd8d['MAX'];const _0x3e48cc={[_0xfde85b['ojh']]:_0xdffd8d['ZERO'],[_0xfde85b['qad']]:_0xdffd8d['ONE'],[_0xfde85b['f4X']]:_0xdffd8d['SRC_COLOR'],[_0xfde85b['ie2']]:_0xdffd8d['SRC_ALPHA'],[_0xfde85b['hgQ']]:_0xdffd8d['SRC_ALPHA_SATURATE'],[_0xfde85b['wn6']]:_0xdffd8d['DST_COLOR'],[_0xfde85b['hdd']]:_0xdffd8d['DST_ALPHA'],[_0xfde85b['LiQ']]:_0xdffd8d['ONE_MINUS_SRC_COLOR'],[_0xfde85b['OuU']]:_0xdffd8d['ONE_MINUS_SRC_ALPHA'],[_0xfde85b['aEY']]:_0xdffd8d['ONE_MINUS_DST_COLOR'],[_0xfde85b['Nt7']]:_0xdffd8d['ONE_MINUS_DST_ALPHA'],[_0xfde85b['RrE']]:_0xdffd8d['CONSTANT_COLOR'],[_0xfde85b['$Yl']]:_0xdffd8d['ONE_MINUS_CONSTANT_COLOR'],[_0xfde85b['e0p']]:_0xdffd8d['CONSTANT_ALPHA'],[_0xfde85b['ov9']]:_0xdffd8d['ONE_MINUS_CONSTANT_ALPHA']};function _0x22149a(_0x35b28c,_0x54d7f3,_0x50c635,_0x1d4af4,_0x5501f2,_0x1276fb,_0x536709,_0x10f0f8,_0x59bf46,_0x222cc0){if(_0x35b28c!==_0xfde85b['XIg']){if(!0x1===_0xfaa418&&(_0x10b4e8(_0xdffd8d['BLEND']),_0xfaa418=!0x0),_0x35b28c===_0xfde85b['bCz'])_0x5501f2=_0x5501f2||_0x54d7f3,_0x1276fb=_0x1276fb||_0x50c635,_0x536709=_0x536709||_0x1d4af4,_0x54d7f3===_0x5be8aa&&_0x5501f2===_0x1bb06f||(_0xdffd8d['blendEquationSeparate'](_0x4020f5[_0x54d7f3],_0x4020f5[_0x5501f2]),_0x5be8aa=_0x54d7f3,_0x1bb06f=_0x5501f2),_0x50c635===_0x1f71a5&&_0x1d4af4===_0x3b5f38&&_0x1276fb===_0x345529&&_0x536709===_0x227435||(_0xdffd8d['blendFuncSeparate'](_0x3e48cc[_0x50c635],_0x3e48cc[_0x1d4af4],_0x3e48cc[_0x1276fb],_0x3e48cc[_0x536709]),_0x1f71a5=_0x50c635,_0x3b5f38=_0x1d4af4,_0x345529=_0x1276fb,_0x227435=_0x536709),!0x1!==_0x10f0f8['equals'](_0x176fd8)&&_0x59bf46===_0x30a68d||(_0xdffd8d['blendColor'](_0x10f0f8['r'],_0x10f0f8['g'],_0x10f0f8['b'],_0x59bf46),_0x176fd8['copy'](_0x10f0f8),_0x30a68d=_0x59bf46),_0x1bfedb=_0x35b28c,_0x5b24f1=!0x1;else{if(_0x35b28c!==_0x1bfedb||_0x222cc0!==_0x5b24f1){if(_0x5be8aa===_0xfde85b['gO9']&&_0x1bb06f===_0xfde85b['gO9']||(_0xdffd8d['blendEquation'](_0xdffd8d['FUNC_ADD']),_0x5be8aa=_0xfde85b['gO9'],_0x1bb06f=_0xfde85b['gO9']),_0x222cc0)switch(_0x35b28c){case _0xfde85b['NTi']:_0xdffd8d['blendFuncSeparate'](_0xdffd8d['ONE'],_0xdffd8d['ONE_MINUS_SRC_ALPHA'],_0xdffd8d['ONE'],_0xdffd8d['ONE_MINUS_SRC_ALPHA']);break;case _0xfde85b['EZo']:_0xdffd8d['blendFunc'](_0xdffd8d['ONE'],_0xdffd8d['ONE']);break;case _0xfde85b['Kwu']:_0xdffd8d['blendFuncSeparate'](_0xdffd8d['ZERO'],_0xdffd8d['ONE_MINUS_SRC_COLOR'],_0xdffd8d['ZERO'],_0xdffd8d['ONE']);break;case _0xfde85b['EdD']:_0xdffd8d['blendFuncSeparate'](_0xdffd8d['ZERO'],_0xdffd8d['SRC_COLOR'],_0xdffd8d['ZERO'],_0xdffd8d['SRC_ALPHA']);break;default:console['error']('THREE.WebGLState:\x20Invalid\x20blending:\x20',_0x35b28c);}else switch(_0x35b28c){case _0xfde85b['NTi']:_0xdffd8d['blendFuncSeparate'](_0xdffd8d['SRC_ALPHA'],_0xdffd8d['ONE_MINUS_SRC_ALPHA'],_0xdffd8d['ONE'],_0xdffd8d['ONE_MINUS_SRC_ALPHA']);break;case _0xfde85b['EZo']:_0xdffd8d['blendFunc'](_0xdffd8d['SRC_ALPHA'],_0xdffd8d['ONE']);break;case _0xfde85b['Kwu']:_0xdffd8d['blendFuncSeparate'](_0xdffd8d['ZERO'],_0xdffd8d['ONE_MINUS_SRC_COLOR'],_0xdffd8d['ZERO'],_0xdffd8d['ONE']);break;case _0xfde85b['EdD']:_0xdffd8d['blendFunc'](_0xdffd8d['ZERO'],_0xdffd8d['SRC_COLOR']);break;default:console['error']('THREE.WebGLState:\x20Invalid\x20blending:\x20',_0x35b28c);}_0x1f71a5=null,_0x3b5f38=null,_0x345529=null,_0x227435=null,_0x176fd8['set'](0x0,0x0,0x0),_0x30a68d=0x0,_0x1bfedb=_0x35b28c,_0x5b24f1=_0x222cc0;}}}else!0x0===_0xfaa418&&(_0x455e14(_0xdffd8d['BLEND']),_0xfaa418=!0x1);}function _0x560750(_0x18340a){_0x393627!==_0x18340a&&(_0x18340a?_0xdffd8d['frontFace'](_0xdffd8d['CW']):_0xdffd8d['frontFace'](_0xdffd8d['CCW']),_0x393627=_0x18340a);}function _0x37ad44(_0x5bcc29){_0x5bcc29!==_0xfde85b['WNZ']?(_0x10b4e8(_0xdffd8d['CULL_FACE']),_0x5bcc29!==_0x46270c&&(_0x5bcc29===_0xfde85b['Vb5']?_0xdffd8d['cullFace'](_0xdffd8d['BACK']):_0x5bcc29===_0xfde85b['Jnc']?_0xdffd8d['cullFace'](_0xdffd8d['FRONT']):_0xdffd8d['cullFace'](_0xdffd8d['FRONT_AND_BACK']))):_0x455e14(_0xdffd8d['CULL_FACE']),_0x46270c=_0x5bcc29;}function _0xc88df1(_0x50d5d2,_0x36dc45,_0x47739a){_0x50d5d2?(_0x10b4e8(_0xdffd8d['POLYGON_OFFSET_FILL']),_0x5b123b===_0x36dc45&&_0x5e9d5a===_0x47739a||(_0xdffd8d['polygonOffset'](_0x36dc45,_0x47739a),_0x5b123b=_0x36dc45,_0x5e9d5a=_0x47739a)):_0x455e14(_0xdffd8d['POLYGON_OFFSET_FILL']);}return{'buffers':{'color':_0x42a0a6,'depth':_0x4d292f,'stencil':_0x56b6d5},'enable':_0x10b4e8,'disable':_0x455e14,'bindFramebuffer':function(_0x303456,_0x2fe705){return _0x8be50b[_0x303456]!==_0x2fe705&&(_0xdffd8d['bindFramebuffer'](_0x303456,_0x2fe705),_0x8be50b[_0x303456]=_0x2fe705,_0x303456===_0xdffd8d['DRAW_FRAMEBUFFER']&&(_0x8be50b[_0xdffd8d['FRAMEBUFFER']]=_0x2fe705),_0x303456===_0xdffd8d['FRAMEBUFFER']&&(_0x8be50b[_0xdffd8d['DRAW_FRAMEBUFFER']]=_0x2fe705),!0x0);},'drawBuffers':function(_0x129124,_0x36b3e2){let _0x4b2869=_0x4f94d5,_0x47a0a7=!0x1;if(_0x129124){_0x4b2869=_0x1f4079['get'](_0x36b3e2),void 0x0===_0x4b2869&&(_0x4b2869=[],_0x1f4079['set'](_0x36b3e2,_0x4b2869));const _0x2e66a3=_0x129124['textures'];if(_0x4b2869['length']!==_0x2e66a3['length']||_0x4b2869[0x0]!==_0xdffd8d['COLOR_ATTACHMENT0']){for(let _0x1fdbfc=0x0,_0x843ad2=_0x2e66a3['length'];_0x1fdbfc<_0x843ad2;_0x1fdbfc++)_0x4b2869[_0x1fdbfc]=_0xdffd8d['COLOR_ATTACHMENT0']+_0x1fdbfc;_0x4b2869['length']=_0x2e66a3['length'],_0x47a0a7=!0x0;}}else _0x4b2869[0x0]!==_0xdffd8d['BACK']&&(_0x4b2869[0x0]=_0xdffd8d['BACK'],_0x47a0a7=!0x0);_0x47a0a7&&_0xdffd8d['drawBuffers'](_0x4b2869);},'useProgram':function(_0x4bb917){return _0x12803c!==_0x4bb917&&(_0xdffd8d['useProgram'](_0x4bb917),_0x12803c=_0x4bb917,!0x0);},'setBlending':_0x22149a,'setMaterial':function(_0x41e2d4,_0x924a7f){_0x41e2d4['side']===_0xfde85b['$EB']?_0x455e14(_0xdffd8d['CULL_FACE']):_0x10b4e8(_0xdffd8d['CULL_FACE']);let _0x7446c4=_0x41e2d4['side']===_0xfde85b['hsX'];_0x924a7f&&(_0x7446c4=!_0x7446c4),_0x560750(_0x7446c4),_0x41e2d4['blending']===_0xfde85b['NTi']&&!0x1===_0x41e2d4['transparent']?_0x22149a(_0xfde85b['XIg']):_0x22149a(_0x41e2d4['blending'],_0x41e2d4['blendEquation'],_0x41e2d4['blendSrc'],_0x41e2d4['blendDst'],_0x41e2d4['blendEquationAlpha'],_0x41e2d4['blendSrcAlpha'],_0x41e2d4['blendDstAlpha'],_0x41e2d4['blendColor'],_0x41e2d4['blendAlpha'],_0x41e2d4['premultipliedAlpha']),_0x4d292f['setFunc'](_0x41e2d4['depthFunc']),_0x4d292f['setTest'](_0x41e2d4['depthTest']),_0x4d292f['setMask'](_0x41e2d4['depthWrite']),_0x42a0a6['setMask'](_0x41e2d4['colorWrite']);const _0x550958=_0x41e2d4['stencilWrite'];_0x56b6d5['setTest'](_0x550958),_0x550958&&(_0x56b6d5['setMask'](_0x41e2d4['stencilWriteMask']),_0x56b6d5['setFunc'](_0x41e2d4['stencilFunc'],_0x41e2d4['stencilRef'],_0x41e2d4['stencilFuncMask']),_0x56b6d5['setOp'](_0x41e2d4['stencilFail'],_0x41e2d4['stencilZFail'],_0x41e2d4['stencilZPass'])),_0xc88df1(_0x41e2d4['polygonOffset'],_0x41e2d4['polygonOffsetFactor'],_0x41e2d4['polygonOffsetUnits']),!0x0===_0x41e2d4['alphaToCoverage']?_0x10b4e8(_0xdffd8d['SAMPLE_ALPHA_TO_COVERAGE']):_0x455e14(_0xdffd8d['SAMPLE_ALPHA_TO_COVERAGE']);},'setFlipSided':_0x560750,'setCullFace':_0x37ad44,'setLineWidth':function(_0x491ace){_0x491ace!==_0x32b55d&&(_0x34718f&&_0xdffd8d['lineWidth'](_0x491ace),_0x32b55d=_0x491ace);},'setPolygonOffset':_0xc88df1,'setScissorTest':function(_0x25627b){_0x25627b?_0x10b4e8(_0xdffd8d['SCISSOR_TEST']):_0x455e14(_0xdffd8d['SCISSOR_TEST']);},'activeTexture':function(_0x571576){void 0x0===_0x571576&&(_0x571576=_0xdffd8d['TEXTURE0']+_0x3c7c8c-0x1),_0x3e52b0!==_0x571576&&(_0xdffd8d['activeTexture'](_0x571576),_0x3e52b0=_0x571576);},'bindTexture':function(_0x1f25fc,_0x2253a7,_0x34ef1d){void 0x0===_0x34ef1d&&(_0x34ef1d=null===_0x3e52b0?_0xdffd8d['TEXTURE0']+_0x3c7c8c-0x1:_0x3e52b0);let _0x59d105=_0x5189b9[_0x34ef1d];void 0x0===_0x59d105&&(_0x59d105={'type':void 0x0,'texture':void 0x0},_0x5189b9[_0x34ef1d]=_0x59d105),_0x59d105['type']===_0x1f25fc&&_0x59d105['texture']===_0x2253a7||(_0x3e52b0!==_0x34ef1d&&(_0xdffd8d['activeTexture'](_0x34ef1d),_0x3e52b0=_0x34ef1d),_0xdffd8d['bindTexture'](_0x1f25fc,_0x2253a7||_0x5077c0[_0x1f25fc]),_0x59d105['type']=_0x1f25fc,_0x59d105['texture']=_0x2253a7);},'unbindTexture':function(){const _0x5c5ba4=_0x5189b9[_0x3e52b0];void 0x0!==_0x5c5ba4&&void 0x0!==_0x5c5ba4['type']&&(_0xdffd8d['bindTexture'](_0x5c5ba4['type'],null),_0x5c5ba4['type']=void 0x0,_0x5c5ba4['texture']=void 0x0);},'compressedTexImage2D':function(){try{_0xdffd8d['compressedTexImage2D']['apply'](_0xdffd8d,arguments);}catch(_0x27c3c1){console['error']('THREE.WebGLState:',_0x27c3c1);}},'compressedTexImage3D':function(){try{_0xdffd8d['compressedTexImage3D']['apply'](_0xdffd8d,arguments);}catch(_0x3fecef){console['error']('THREE.WebGLState:',_0x3fecef);}},'texImage2D':function(){try{_0xdffd8d['texImage2D']['apply'](_0xdffd8d,arguments);}catch(_0x8b1de3){console['error']('THREE.WebGLState:',_0x8b1de3);}},'texImage3D':function(){try{_0xdffd8d['texImage3D']['apply'](_0xdffd8d,arguments);}catch(_0x4f08f4){console['error']('THREE.WebGLState:',_0x4f08f4);}},'updateUBOMapping':function(_0x44136d,_0x271a93){let _0x32550b=_0x102b3f['get'](_0x271a93);void 0x0===_0x32550b&&(_0x32550b=new WeakMap(),_0x102b3f['set'](_0x271a93,_0x32550b));let _0x5d5c33=_0x32550b['get'](_0x44136d);void 0x0===_0x5d5c33&&(_0x5d5c33=_0xdffd8d['getUniformBlockIndex'](_0x271a93,_0x44136d['name']),_0x32550b['set'](_0x44136d,_0x5d5c33));},'uniformBlockBinding':function(_0x43474f,_0x4b2902){const _0x24a44a=_0x102b3f['get'](_0x4b2902)['get'](_0x43474f);_0x548e50['get'](_0x4b2902)!==_0x24a44a&&(_0xdffd8d['uniformBlockBinding'](_0x4b2902,_0x24a44a,_0x43474f['__bindingPointIndex']),_0x548e50['set'](_0x4b2902,_0x24a44a));},'texStorage2D':function(){try{_0xdffd8d['texStorage2D']['apply'](_0xdffd8d,arguments);}catch(_0x1f9764){console['error']('THREE.WebGLState:',_0x1f9764);}},'texStorage3D':function(){try{_0xdffd8d['texStorage3D']['apply'](_0xdffd8d,arguments);}catch(_0x2ad0b1){console['error']('THREE.WebGLState:',_0x2ad0b1);}},'texSubImage2D':function(){try{_0xdffd8d['texSubImage2D']['apply'](_0xdffd8d,arguments);}catch(_0x4630b7){console['error']('THREE.WebGLState:',_0x4630b7);}},'texSubImage3D':function(){try{_0xdffd8d['texSubImage3D']['apply'](_0xdffd8d,arguments);}catch(_0x3c9e93){console['error']('THREE.WebGLState:',_0x3c9e93);}},'compressedTexSubImage2D':function(){try{_0xdffd8d['compressedTexSubImage2D']['apply'](_0xdffd8d,arguments);}catch(_0x28d7bf){console['error']('THREE.WebGLState:',_0x28d7bf);}},'compressedTexSubImage3D':function(){try{_0xdffd8d['compressedTexSubImage3D']['apply'](_0xdffd8d,arguments);}catch(_0x413860){console['error']('THREE.WebGLState:',_0x413860);}},'scissor':function(_0x1b9cbe){!0x1===_0xd04057['equals'](_0x1b9cbe)&&(_0xdffd8d['scissor'](_0x1b9cbe['x'],_0x1b9cbe['y'],_0x1b9cbe['z'],_0x1b9cbe['w']),_0xd04057['copy'](_0x1b9cbe));},'viewport':function(_0xd24e7d){!0x1===_0x19bb8e['equals'](_0xd24e7d)&&(_0xdffd8d['viewport'](_0xd24e7d['x'],_0xd24e7d['y'],_0xd24e7d['z'],_0xd24e7d['w']),_0x19bb8e['copy'](_0xd24e7d));},'reset':function(){_0xdffd8d['disable'](_0xdffd8d['BLEND']),_0xdffd8d['disable'](_0xdffd8d['CULL_FACE']),_0xdffd8d['disable'](_0xdffd8d['DEPTH_TEST']),_0xdffd8d['disable'](_0xdffd8d['POLYGON_OFFSET_FILL']),_0xdffd8d['disable'](_0xdffd8d['SCISSOR_TEST']),_0xdffd8d['disable'](_0xdffd8d['STENCIL_TEST']),_0xdffd8d['disable'](_0xdffd8d['SAMPLE_ALPHA_TO_COVERAGE']),_0xdffd8d['blendEquation'](_0xdffd8d['FUNC_ADD']),_0xdffd8d['blendFunc'](_0xdffd8d['ONE'],_0xdffd8d['ZERO']),_0xdffd8d['blendFuncSeparate'](_0xdffd8d['ONE'],_0xdffd8d['ZERO'],_0xdffd8d['ONE'],_0xdffd8d['ZERO']),_0xdffd8d['blendColor'](0x0,0x0,0x0,0x0),_0xdffd8d['colorMask'](!0x0,!0x0,!0x0,!0x0),_0xdffd8d['clearColor'](0x0,0x0,0x0,0x0),_0xdffd8d['depthMask'](!0x0),_0xdffd8d['depthFunc'](_0xdffd8d['LESS']),_0x4d292f['setReversed'](!0x1),_0xdffd8d['clearDepth'](0x1),_0xdffd8d['stencilMask'](0xffffffff),_0xdffd8d['stencilFunc'](_0xdffd8d['ALWAYS'],0x0,0xffffffff),_0xdffd8d['stencilOp'](_0xdffd8d['KEEP'],_0xdffd8d['KEEP'],_0xdffd8d['KEEP']),_0xdffd8d['clearStencil'](0x0),_0xdffd8d['cullFace'](_0xdffd8d['BACK']),_0xdffd8d['frontFace'](_0xdffd8d['CCW']),_0xdffd8d['polygonOffset'](0x0,0x0),_0xdffd8d['activeTexture'](_0xdffd8d['TEXTURE0']),_0xdffd8d['bindFramebuffer'](_0xdffd8d['FRAMEBUFFER'],null),_0xdffd8d['bindFramebuffer'](_0xdffd8d['DRAW_FRAMEBUFFER'],null),_0xdffd8d['bindFramebuffer'](_0xdffd8d['READ_FRAMEBUFFER'],null),_0xdffd8d['useProgram'](null),_0xdffd8d['lineWidth'](0x1),_0xdffd8d['scissor'](0x0,0x0,_0xdffd8d['canvas']['width'],_0xdffd8d['canvas']['height']),_0xdffd8d['viewport'](0x0,0x0,_0xdffd8d['canvas']['width'],_0xdffd8d['canvas']['height']),_0x558ae9={},_0x3e52b0=null,_0x5189b9={},_0x8be50b={},_0x1f4079=new WeakMap(),_0x4f94d5=[],_0x12803c=null,_0xfaa418=!0x1,_0x1bfedb=null,_0x5be8aa=null,_0x1f71a5=null,_0x3b5f38=null,_0x1bb06f=null,_0x345529=null,_0x227435=null,_0x176fd8=new _0xfde85b['Q1f'](0x0,0x0,0x0),_0x30a68d=0x0,_0x5b24f1=!0x1,_0x393627=null,_0x46270c=null,_0x32b55d=null,_0x5b123b=null,_0x5e9d5a=null,_0xd04057['set'](0x0,0x0,_0xdffd8d['canvas']['width'],_0xdffd8d['canvas']['height']),_0x19bb8e['set'](0x0,0x0,_0xdffd8d['canvas']['width'],_0xdffd8d['canvas']['height']),_0x42a0a6['reset'](),_0x4d292f['reset'](),_0x56b6d5['reset']();}};}function _0x23d40c(_0xc74991,_0x13902c,_0x114914,_0x27694d,_0xe5ba3c,_0x333351,_0xc0272c){const _0x59035d=_0x13902c['has']('WEBGL_multisampled_render_to_texture')?_0x13902c['get']('WEBGL_multisampled_render_to_texture'):null,_0x73ff89='undefined'!=typeof navigator&&/OculusBrowser/g['test'](navigator['userAgent']),_0x34e4ad=new _0xfde85b['I9Y'](),_0x4bb009=new WeakMap();let _0x331b7d;const _0x1668d4=new WeakMap();let _0x1fed26=!0x1;try{_0x1fed26='undefined'!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(0x1,0x1)['getContext']('2d');}catch(_0x201ef1){}function _0x2d8a80(_0x37a1e2,_0x4d9f54){return _0x1fed26?new OffscreenCanvas(_0x37a1e2,_0x4d9f54):(0x0,_0xfde85b['qq$'])('canvas');}function _0x9702b1(_0x3cf06b,_0x40d7b0,_0x3164ce){let _0x4f407f=0x1;const _0x176f74=_0x6edc05(_0x3cf06b);if((_0x176f74['width']>_0x3164ce||_0x176f74['height']>_0x3164ce)&&(_0x4f407f=_0x3164ce/Math['max'](_0x176f74['width'],_0x176f74['height'])),_0x4f407f<0x1){if('undefined'!=typeof HTMLImageElement&&_0x3cf06b instanceof HTMLImageElement||'undefined'!=typeof HTMLCanvasElement&&_0x3cf06b instanceof HTMLCanvasElement||'undefined'!=typeof ImageBitmap&&_0x3cf06b instanceof ImageBitmap||'undefined'!=typeof VideoFrame&&_0x3cf06b instanceof VideoFrame){const _0x23e1ab=Math['floor'](_0x4f407f*_0x176f74['width']),_0x4e87f2=Math['floor'](_0x4f407f*_0x176f74['height']);void 0x0===_0x331b7d&&(_0x331b7d=_0x2d8a80(_0x23e1ab,_0x4e87f2));const _0x284ed0=_0x40d7b0?_0x2d8a80(_0x23e1ab,_0x4e87f2):_0x331b7d;return _0x284ed0['width']=_0x23e1ab,_0x284ed0['height']=_0x4e87f2,(_0x284ed0['getContext']('2d')['drawImage'](_0x3cf06b,0x0,0x0,_0x23e1ab,_0x4e87f2),console['warn']('THREE.WebGLRenderer:\x20Texture\x20has\x20been\x20resized\x20from\x20('+_0x176f74['width']+'x'+_0x176f74['height']+')\x20to\x20('+_0x23e1ab+'x'+_0x4e87f2+').'),_0x284ed0);}return'data'in _0x3cf06b&&console['warn']('THREE.WebGLRenderer:\x20Image\x20in\x20DataTexture\x20is\x20too\x20big\x20('+_0x176f74['width']+'x'+_0x176f74['height']+').'),_0x3cf06b;}return _0x3cf06b;}function _0x4b3c74(_0x5b89a3){return _0x5b89a3['generateMipmaps'];}function _0x4def90(_0x5d661d){_0xc74991['generateMipmap'](_0x5d661d);}function _0xb52ec5(_0x37aa27){return _0x37aa27['isWebGLCubeRenderTarget']?_0xc74991['TEXTURE_CUBE_MAP']:_0x37aa27['isWebGL3DRenderTarget']?_0xc74991['TEXTURE_3D']:_0x37aa27['isWebGLArrayRenderTarget']||_0x37aa27['isCompressedArrayTexture']?_0xc74991['TEXTURE_2D_ARRAY']:_0xc74991['TEXTURE_2D'];}function _0x27bb94(_0x5f3989,_0x2193c9,_0x4cbd78,_0xfd5e5d,_0x271e34=!0x1){if(null!==_0x5f3989){if(void 0x0!==_0xc74991[_0x5f3989])return _0xc74991[_0x5f3989];console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20use\x20non-existing\x20WebGL\x20internal\x20format\x20\x27'+_0x5f3989+'\x27');}let _0x272835=_0x2193c9;if(_0x2193c9===_0xc74991['RED']&&(_0x4cbd78===_0xc74991['FLOAT']&&(_0x272835=_0xc74991['R32F']),_0x4cbd78===_0xc74991['HALF_FLOAT']&&(_0x272835=_0xc74991['R16F']),_0x4cbd78===_0xc74991['UNSIGNED_BYTE']&&(_0x272835=_0xc74991['R8'])),_0x2193c9===_0xc74991['RED_INTEGER']&&(_0x4cbd78===_0xc74991['UNSIGNED_BYTE']&&(_0x272835=_0xc74991['R8UI']),_0x4cbd78===_0xc74991['UNSIGNED_SHORT']&&(_0x272835=_0xc74991['R16UI']),_0x4cbd78===_0xc74991['UNSIGNED_INT']&&(_0x272835=_0xc74991['R32UI']),_0x4cbd78===_0xc74991['BYTE']&&(_0x272835=_0xc74991['R8I']),_0x4cbd78===_0xc74991['SHORT']&&(_0x272835=_0xc74991['R16I']),_0x4cbd78===_0xc74991['INT']&&(_0x272835=_0xc74991['R32I'])),_0x2193c9===_0xc74991['RG']&&(_0x4cbd78===_0xc74991['FLOAT']&&(_0x272835=_0xc74991['RG32F']),_0x4cbd78===_0xc74991['HALF_FLOAT']&&(_0x272835=_0xc74991['RG16F']),_0x4cbd78===_0xc74991['UNSIGNED_BYTE']&&(_0x272835=_0xc74991['RG8'])),_0x2193c9===_0xc74991['RG_INTEGER']&&(_0x4cbd78===_0xc74991['UNSIGNED_BYTE']&&(_0x272835=_0xc74991['RG8UI']),_0x4cbd78===_0xc74991['UNSIGNED_SHORT']&&(_0x272835=_0xc74991['RG16UI']),_0x4cbd78===_0xc74991['UNSIGNED_INT']&&(_0x272835=_0xc74991['RG32UI']),_0x4cbd78===_0xc74991['BYTE']&&(_0x272835=_0xc74991['RG8I']),_0x4cbd78===_0xc74991['SHORT']&&(_0x272835=_0xc74991['RG16I']),_0x4cbd78===_0xc74991['INT']&&(_0x272835=_0xc74991['RG32I'])),_0x2193c9===_0xc74991['RGB_INTEGER']&&(_0x4cbd78===_0xc74991['UNSIGNED_BYTE']&&(_0x272835=_0xc74991['RGB8UI']),_0x4cbd78===_0xc74991['UNSIGNED_SHORT']&&(_0x272835=_0xc74991['RGB16UI']),_0x4cbd78===_0xc74991['UNSIGNED_INT']&&(_0x272835=_0xc74991['RGB32UI']),_0x4cbd78===_0xc74991['BYTE']&&(_0x272835=_0xc74991['RGB8I']),_0x4cbd78===_0xc74991['SHORT']&&(_0x272835=_0xc74991['RGB16I']),_0x4cbd78===_0xc74991['INT']&&(_0x272835=_0xc74991['RGB32I'])),_0x2193c9===_0xc74991['RGBA_INTEGER']&&(_0x4cbd78===_0xc74991['UNSIGNED_BYTE']&&(_0x272835=_0xc74991['RGBA8UI']),_0x4cbd78===_0xc74991['UNSIGNED_SHORT']&&(_0x272835=_0xc74991['RGBA16UI']),_0x4cbd78===_0xc74991['UNSIGNED_INT']&&(_0x272835=_0xc74991['RGBA32UI']),_0x4cbd78===_0xc74991['BYTE']&&(_0x272835=_0xc74991['RGBA8I']),_0x4cbd78===_0xc74991['SHORT']&&(_0x272835=_0xc74991['RGBA16I']),_0x4cbd78===_0xc74991['INT']&&(_0x272835=_0xc74991['RGBA32I'])),_0x2193c9===_0xc74991['RGB']&&_0x4cbd78===_0xc74991['UNSIGNED_INT_5_9_9_9_REV']&&(_0x272835=_0xc74991['RGB9_E5']),_0x2193c9===_0xc74991['RGBA']){const _0x405330=_0x271e34?_0xfde85b['VxR']:_0xfde85b['ppV']['getTransfer'](_0xfd5e5d);_0x4cbd78===_0xc74991['FLOAT']&&(_0x272835=_0xc74991['RGBA32F']),_0x4cbd78===_0xc74991['HALF_FLOAT']&&(_0x272835=_0xc74991['RGBA16F']),_0x4cbd78===_0xc74991['UNSIGNED_BYTE']&&(_0x272835=_0x405330===_0xfde85b['KLL']?_0xc74991['SRGB8_ALPHA8']:_0xc74991['RGBA8']),_0x4cbd78===_0xc74991['UNSIGNED_SHORT_4_4_4_4']&&(_0x272835=_0xc74991['RGBA4']),_0x4cbd78===_0xc74991['UNSIGNED_SHORT_5_5_5_1']&&(_0x272835=_0xc74991['RGB5_A1']);}return _0x272835!==_0xc74991['R16F']&&_0x272835!==_0xc74991['R32F']&&_0x272835!==_0xc74991['RG16F']&&_0x272835!==_0xc74991['RG32F']&&_0x272835!==_0xc74991['RGBA16F']&&_0x272835!==_0xc74991['RGBA32F']||_0x13902c['get']('EXT_color_buffer_float'),_0x272835;}function _0x582b7e(_0x223d24,_0x2d8278){let _0x4bea4c;return _0x223d24?null===_0x2d8278||_0x2d8278===_0xfde85b['bkx']||_0x2d8278===_0xfde85b['V3x']?_0x4bea4c=_0xc74991['DEPTH24_STENCIL8']:_0x2d8278===_0xfde85b['RQf']?_0x4bea4c=_0xc74991['DEPTH32F_STENCIL8']:_0x2d8278===_0xfde85b['cHt']&&(_0x4bea4c=_0xc74991['DEPTH24_STENCIL8'],console['warn']('DepthTexture:\x2016\x20bit\x20depth\x20attachment\x20is\x20not\x20supported\x20with\x20stencil.\x20Using\x2024-bit\x20attachment.')):null===_0x2d8278||_0x2d8278===_0xfde85b['bkx']||_0x2d8278===_0xfde85b['V3x']?_0x4bea4c=_0xc74991['DEPTH_COMPONENT24']:_0x2d8278===_0xfde85b['RQf']?_0x4bea4c=_0xc74991['DEPTH_COMPONENT32F']:_0x2d8278===_0xfde85b['cHt']&&(_0x4bea4c=_0xc74991['DEPTH_COMPONENT16']),_0x4bea4c;}function _0x50e0eb(_0xad7139,_0x2ca3cd){return!0x0===_0x4b3c74(_0xad7139)||_0xad7139['isFramebufferTexture']&&_0xad7139['minFilter']!==_0xfde85b['hxR']&&_0xad7139['minFilter']!==_0xfde85b['k6q']?Math['log2'](Math['max'](_0x2ca3cd['width'],_0x2ca3cd['height']))+0x1:void 0x0!==_0xad7139['mipmaps']&&_0xad7139['mipmaps']['length']>0x0?_0xad7139['mipmaps']['length']:_0xad7139['isCompressedTexture']&&Array['isArray'](_0xad7139['image'])?_0x2ca3cd['mipmaps']['length']:0x1;}function _0x2cd51a(_0x382393){const _0x3dad72=_0x382393['target'];_0x3dad72['removeEventListener']('dispose',_0x2cd51a),function(_0x2b8df3){const _0x5afb3d=_0x27694d['get'](_0x2b8df3);if(void 0x0===_0x5afb3d['__webglInit'])return;const _0x34cc90=_0x2b8df3['source'],_0x19e868=_0x1668d4['get'](_0x34cc90);if(_0x19e868){const _0x10a794=_0x19e868[_0x5afb3d['__cacheKey']];_0x10a794['usedTimes']--,0x0===_0x10a794['usedTimes']&&_0x11219b(_0x2b8df3),0x0===Object['keys'](_0x19e868)['length']&&_0x1668d4['delete'](_0x34cc90);}_0x27694d['remove'](_0x2b8df3);}(_0x3dad72),_0x3dad72['isVideoTexture']&&_0x4bb009['delete'](_0x3dad72);}function _0x28efc4(_0xb9e158){const _0x5a6eca=_0xb9e158['target'];_0x5a6eca['removeEventListener']('dispose',_0x28efc4),function(_0x56dfa7){const _0x34b5cb=_0x27694d['get'](_0x56dfa7);_0x56dfa7['depthTexture']&&(_0x56dfa7['depthTexture']['dispose'](),_0x27694d['remove'](_0x56dfa7['depthTexture']));if(_0x56dfa7['isWebGLCubeRenderTarget'])for(let _0x26100e=0x0;_0x26100e<0x6;_0x26100e++){if(Array['isArray'](_0x34b5cb['__webglFramebuffer'][_0x26100e])){for(let _0x440595=0x0;_0x440595<_0x34b5cb['__webglFramebuffer'][_0x26100e]['length'];_0x440595++)_0xc74991['deleteFramebuffer'](_0x34b5cb['__webglFramebuffer'][_0x26100e][_0x440595]);}else _0xc74991['deleteFramebuffer'](_0x34b5cb['__webglFramebuffer'][_0x26100e]);_0x34b5cb['__webglDepthbuffer']&&_0xc74991['deleteRenderbuffer'](_0x34b5cb['__webglDepthbuffer'][_0x26100e]);}else{if(Array['isArray'](_0x34b5cb['__webglFramebuffer'])){for(let _0x5c11f6=0x0;_0x5c11f6<_0x34b5cb['__webglFramebuffer']['length'];_0x5c11f6++)_0xc74991['deleteFramebuffer'](_0x34b5cb['__webglFramebuffer'][_0x5c11f6]);}else _0xc74991['deleteFramebuffer'](_0x34b5cb['__webglFramebuffer']);if(_0x34b5cb['__webglDepthbuffer']&&_0xc74991['deleteRenderbuffer'](_0x34b5cb['__webglDepthbuffer']),_0x34b5cb['__webglMultisampledFramebuffer']&&_0xc74991['deleteFramebuffer'](_0x34b5cb['__webglMultisampledFramebuffer']),_0x34b5cb['__webglColorRenderbuffer']){for(let _0x292bea=0x0;_0x292bea<_0x34b5cb['__webglColorRenderbuffer']['length'];_0x292bea++)_0x34b5cb['__webglColorRenderbuffer'][_0x292bea]&&_0xc74991['deleteRenderbuffer'](_0x34b5cb['__webglColorRenderbuffer'][_0x292bea]);}_0x34b5cb['__webglDepthRenderbuffer']&&_0xc74991['deleteRenderbuffer'](_0x34b5cb['__webglDepthRenderbuffer']);}const _0x35332e=_0x56dfa7['textures'];for(let _0x1c1135=0x0,_0x3d611e=_0x35332e['length'];_0x1c1135<_0x3d611e;_0x1c1135++){const _0x53dfaa=_0x27694d['get'](_0x35332e[_0x1c1135]);_0x53dfaa['__webglTexture']&&(_0xc74991['deleteTexture'](_0x53dfaa['__webglTexture']),_0xc0272c['memory']['textures']--),_0x27694d['remove'](_0x35332e[_0x1c1135]);}_0x27694d['remove'](_0x56dfa7);}(_0x5a6eca);}function _0x11219b(_0x2768c3){const _0x433aa3=_0x27694d['get'](_0x2768c3);_0xc74991['deleteTexture'](_0x433aa3['__webglTexture']);const _0x101bfa=_0x2768c3['source'];delete _0x1668d4['get'](_0x101bfa)[_0x433aa3['__cacheKey']],_0xc0272c['memory']['textures']--;}let _0x311c0d=0x0;function _0x4c4bf0(_0x4cb89a,_0x261659){const _0x3472e4=_0x27694d['get'](_0x4cb89a);if(_0x4cb89a['isVideoTexture']&&function(_0x1b7ca9){const _0x5311e2=_0xc0272c['render']['frame'];_0x4bb009['get'](_0x1b7ca9)!==_0x5311e2&&(_0x4bb009['set'](_0x1b7ca9,_0x5311e2),_0x1b7ca9['update']());}(_0x4cb89a),!0x1===_0x4cb89a['isRenderTargetTexture']&&_0x4cb89a['version']>0x0&&_0x3472e4['__version']!==_0x4cb89a['version']){const _0x4f5627=_0x4cb89a['image'];if(null===_0x4f5627)console['warn']('THREE.WebGLRenderer:\x20Texture\x20marked\x20for\x20update\x20but\x20no\x20image\x20data\x20found.');else{if(!0x1!==_0x4f5627['complete'])return void _0xa45c18(_0x3472e4,_0x4cb89a,_0x261659);console['warn']('THREE.WebGLRenderer:\x20Texture\x20marked\x20for\x20update\x20but\x20image\x20is\x20incomplete');}}_0x114914['bindTexture'](_0xc74991['TEXTURE_2D'],_0x3472e4['__webglTexture'],_0xc74991['TEXTURE0']+_0x261659);}const _0x545dee={[_0xfde85b['GJx']]:_0xc74991['REPEAT'],[_0xfde85b['ghU']]:_0xc74991['CLAMP_TO_EDGE'],[_0xfde85b['kTW']]:_0xc74991['MIRRORED_REPEAT']},_0x584a05={[_0xfde85b['hxR']]:_0xc74991['NEAREST'],[_0xfde85b['pHI']]:_0xc74991['NEAREST_MIPMAP_NEAREST'],[_0xfde85b['Cfg']]:_0xc74991['NEAREST_MIPMAP_LINEAR'],[_0xfde85b['k6q']]:_0xc74991['LINEAR'],[_0xfde85b['kRr']]:_0xc74991['LINEAR_MIPMAP_NEAREST'],[_0xfde85b['$_I']]:_0xc74991['LINEAR_MIPMAP_LINEAR']},_0x5db157={[_0xfde85b['amv']]:_0xc74991['NEVER'],[_0xfde85b['FFZ']]:_0xc74991['ALWAYS'],[_0xfde85b['vim']]:_0xc74991['LESS'],[_0xfde85b['TiK']]:_0xc74991['LEQUAL'],[_0xfde85b['kO0']]:_0xc74991['EQUAL'],[_0xfde85b['gWB']]:_0xc74991['GEQUAL'],[_0xfde85b['eoi']]:_0xc74991['GREATER'],[_0xfde85b['jzd']]:_0xc74991['NOTEQUAL']};function _0x15734c(_0x53232e,_0x236682){if(_0x236682['type']!==_0xfde85b['RQf']||!0x1!==_0x13902c['has']('OES_texture_float_linear')||_0x236682['magFilter']!==_0xfde85b['k6q']&&_0x236682['magFilter']!==_0xfde85b['kRr']&&_0x236682['magFilter']!==_0xfde85b['Cfg']&&_0x236682['magFilter']!==_0xfde85b['$_I']&&_0x236682['minFilter']!==_0xfde85b['k6q']&&_0x236682['minFilter']!==_0xfde85b['kRr']&&_0x236682['minFilter']!==_0xfde85b['Cfg']&&_0x236682['minFilter']!==_0xfde85b['$_I']||console['warn']('THREE.WebGLRenderer:\x20Unable\x20to\x20use\x20linear\x20filtering\x20with\x20floating\x20point\x20textures.\x20OES_texture_float_linear\x20not\x20supported\x20on\x20this\x20device.'),_0xc74991['texParameteri'](_0x53232e,_0xc74991['TEXTURE_WRAP_S'],_0x545dee[_0x236682['wrapS']]),_0xc74991['texParameteri'](_0x53232e,_0xc74991['TEXTURE_WRAP_T'],_0x545dee[_0x236682['wrapT']]),_0x53232e!==_0xc74991['TEXTURE_3D']&&_0x53232e!==_0xc74991['TEXTURE_2D_ARRAY']||_0xc74991['texParameteri'](_0x53232e,_0xc74991['TEXTURE_WRAP_R'],_0x545dee[_0x236682['wrapR']]),_0xc74991['texParameteri'](_0x53232e,_0xc74991['TEXTURE_MAG_FILTER'],_0x584a05[_0x236682['magFilter']]),_0xc74991['texParameteri'](_0x53232e,_0xc74991['TEXTURE_MIN_FILTER'],_0x584a05[_0x236682['minFilter']]),_0x236682['compareFunction']&&(_0xc74991['texParameteri'](_0x53232e,_0xc74991['TEXTURE_COMPARE_MODE'],_0xc74991['COMPARE_REF_TO_TEXTURE']),_0xc74991['texParameteri'](_0x53232e,_0xc74991['TEXTURE_COMPARE_FUNC'],_0x5db157[_0x236682['compareFunction']])),!0x0===_0x13902c['has']('EXT_texture_filter_anisotropic')){if(_0x236682['magFilter']===_0xfde85b['hxR'])return;if(_0x236682['minFilter']!==_0xfde85b['Cfg']&&_0x236682['minFilter']!==_0xfde85b['$_I'])return;if(_0x236682['type']===_0xfde85b['RQf']&&!0x1===_0x13902c['has']('OES_texture_float_linear'))return;if(_0x236682['anisotropy']>0x1||_0x27694d['get'](_0x236682)['__currentAnisotropy']){const _0x540ff6=_0x13902c['get']('EXT_texture_filter_anisotropic');_0xc74991['texParameterf'](_0x53232e,_0x540ff6['TEXTURE_MAX_ANISOTROPY_EXT'],Math['min'](_0x236682['anisotropy'],_0xe5ba3c['getMaxAnisotropy']())),_0x27694d['get'](_0x236682)['__currentAnisotropy']=_0x236682['anisotropy'];}}}function _0x5decb1(_0x164822,_0xfb495b){let _0x2edd3a=!0x1;void 0x0===_0x164822['__webglInit']&&(_0x164822['__webglInit']=!0x0,_0xfb495b['addEventListener']('dispose',_0x2cd51a));const _0xbc6f50=_0xfb495b['source'];let _0x5ec08b=_0x1668d4['get'](_0xbc6f50);void 0x0===_0x5ec08b&&(_0x5ec08b={},_0x1668d4['set'](_0xbc6f50,_0x5ec08b));const _0x26de35=function(_0x53ad4f){const _0x2013f4=[];return _0x2013f4['push'](_0x53ad4f['wrapS']),_0x2013f4['push'](_0x53ad4f['wrapT']),_0x2013f4['push'](_0x53ad4f['wrapR']||0x0),_0x2013f4['push'](_0x53ad4f['magFilter']),_0x2013f4['push'](_0x53ad4f['minFilter']),_0x2013f4['push'](_0x53ad4f['anisotropy']),_0x2013f4['push'](_0x53ad4f['internalFormat']),_0x2013f4['push'](_0x53ad4f['format']),_0x2013f4['push'](_0x53ad4f['type']),_0x2013f4['push'](_0x53ad4f['generateMipmaps']),_0x2013f4['push'](_0x53ad4f['premultiplyAlpha']),_0x2013f4['push'](_0x53ad4f['flipY']),_0x2013f4['push'](_0x53ad4f['unpackAlignment']),_0x2013f4['push'](_0x53ad4f['colorSpace']),_0x2013f4['join']();}(_0xfb495b);if(_0x26de35!==_0x164822['__cacheKey']){void 0x0===_0x5ec08b[_0x26de35]&&(_0x5ec08b[_0x26de35]={'texture':_0xc74991['createTexture'](),'usedTimes':0x0},_0xc0272c['memory']['textures']++,_0x2edd3a=!0x0),_0x5ec08b[_0x26de35]['usedTimes']++;const _0x13d4cc=_0x5ec08b[_0x164822['__cacheKey']];void 0x0!==_0x13d4cc&&(_0x5ec08b[_0x164822['__cacheKey']]['usedTimes']--,0x0===_0x13d4cc['usedTimes']&&_0x11219b(_0xfb495b)),_0x164822['__cacheKey']=_0x26de35,_0x164822['__webglTexture']=_0x5ec08b[_0x26de35]['texture'];}return _0x2edd3a;}function _0xa45c18(_0xc055a,_0x336856,_0x459734){let _0x54fbff=_0xc74991['TEXTURE_2D'];(_0x336856['isDataArrayTexture']||_0x336856['isCompressedArrayTexture'])&&(_0x54fbff=_0xc74991['TEXTURE_2D_ARRAY']),_0x336856['isData3DTexture']&&(_0x54fbff=_0xc74991['TEXTURE_3D']);const _0x187d89=_0x5decb1(_0xc055a,_0x336856),_0x2a6a11=_0x336856['source'];_0x114914['bindTexture'](_0x54fbff,_0xc055a['__webglTexture'],_0xc74991['TEXTURE0']+_0x459734);const _0x5a8010=_0x27694d['get'](_0x2a6a11);if(_0x2a6a11['version']!==_0x5a8010['__version']||!0x0===_0x187d89){_0x114914['activeTexture'](_0xc74991['TEXTURE0']+_0x459734);const _0x5beb96=_0xfde85b['ppV']['getPrimaries'](_0xfde85b['ppV']['workingColorSpace']),_0x4f569a=_0x336856['colorSpace']===_0xfde85b['jf0']?null:_0xfde85b['ppV']['getPrimaries'](_0x336856['colorSpace']),_0xa2d581=_0x336856['colorSpace']===_0xfde85b['jf0']||_0x5beb96===_0x4f569a?_0xc74991['NONE']:_0xc74991['BROWSER_DEFAULT_WEBGL'];_0xc74991['pixelStorei'](_0xc74991['UNPACK_FLIP_Y_WEBGL'],_0x336856['flipY']),_0xc74991['pixelStorei'](_0xc74991['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x336856['premultiplyAlpha']),_0xc74991['pixelStorei'](_0xc74991['UNPACK_ALIGNMENT'],_0x336856['unpackAlignment']),_0xc74991['pixelStorei'](_0xc74991['UNPACK_COLORSPACE_CONVERSION_WEBGL'],_0xa2d581);let _0x2bb61a=_0x9702b1(_0x336856['image'],!0x1,_0xe5ba3c['maxTextureSize']);_0x2bb61a=_0x4b609c(_0x336856,_0x2bb61a);const _0x39c4ea=_0x333351['convert'](_0x336856['format'],_0x336856['colorSpace']),_0x3ce35e=_0x333351['convert'](_0x336856['type']);let _0x10b2bf,_0x26b716=_0x27bb94(_0x336856['internalFormat'],_0x39c4ea,_0x3ce35e,_0x336856['colorSpace'],_0x336856['isVideoTexture']);_0x15734c(_0x54fbff,_0x336856);const _0x24729b=_0x336856['mipmaps'],_0x276182=!0x0!==_0x336856['isVideoTexture'],_0x470e6e=void 0x0===_0x5a8010['__version']||!0x0===_0x187d89,_0x3612f7=_0x2a6a11['dataReady'],_0x321a1d=_0x50e0eb(_0x336856,_0x2bb61a);if(_0x336856['isDepthTexture'])_0x26b716=_0x582b7e(_0x336856['format']===_0xfde85b['dcC'],_0x336856['type']),_0x470e6e&&(_0x276182?_0x114914['texStorage2D'](_0xc74991['TEXTURE_2D'],0x1,_0x26b716,_0x2bb61a['width'],_0x2bb61a['height']):_0x114914['texImage2D'](_0xc74991['TEXTURE_2D'],0x0,_0x26b716,_0x2bb61a['width'],_0x2bb61a['height'],0x0,_0x39c4ea,_0x3ce35e,null));else{if(_0x336856['isDataTexture']){if(_0x24729b['length']>0x0){_0x276182&&_0x470e6e&&_0x114914['texStorage2D'](_0xc74991['TEXTURE_2D'],_0x321a1d,_0x26b716,_0x24729b[0x0]['width'],_0x24729b[0x0]['height']);for(let _0x529e78=0x0,_0x473f1b=_0x24729b['length'];_0x529e78<_0x473f1b;_0x529e78++)_0x10b2bf=_0x24729b[_0x529e78],_0x276182?_0x3612f7&&_0x114914['texSubImage2D'](_0xc74991['TEXTURE_2D'],_0x529e78,0x0,0x0,_0x10b2bf['width'],_0x10b2bf['height'],_0x39c4ea,_0x3ce35e,_0x10b2bf['data']):_0x114914['texImage2D'](_0xc74991['TEXTURE_2D'],_0x529e78,_0x26b716,_0x10b2bf['width'],_0x10b2bf['height'],0x0,_0x39c4ea,_0x3ce35e,_0x10b2bf['data']);_0x336856['generateMipmaps']=!0x1;}else _0x276182?(_0x470e6e&&_0x114914['texStorage2D'](_0xc74991['TEXTURE_2D'],_0x321a1d,_0x26b716,_0x2bb61a['width'],_0x2bb61a['height']),_0x3612f7&&_0x114914['texSubImage2D'](_0xc74991['TEXTURE_2D'],0x0,0x0,0x0,_0x2bb61a['width'],_0x2bb61a['height'],_0x39c4ea,_0x3ce35e,_0x2bb61a['data'])):_0x114914['texImage2D'](_0xc74991['TEXTURE_2D'],0x0,_0x26b716,_0x2bb61a['width'],_0x2bb61a['height'],0x0,_0x39c4ea,_0x3ce35e,_0x2bb61a['data']);}else{if(_0x336856['isCompressedTexture']){if(_0x336856['isCompressedArrayTexture']){_0x276182&&_0x470e6e&&_0x114914['texStorage3D'](_0xc74991['TEXTURE_2D_ARRAY'],_0x321a1d,_0x26b716,_0x24729b[0x0]['width'],_0x24729b[0x0]['height'],_0x2bb61a['depth']);for(let _0x59cc51=0x0,_0x2e2fa4=_0x24729b['length'];_0x59cc51<_0x2e2fa4;_0x59cc51++)if(_0x10b2bf=_0x24729b[_0x59cc51],_0x336856['format']!==_0xfde85b['GWd']){if(null!==_0x39c4ea){if(_0x276182){if(_0x3612f7){if(_0x336856['layerUpdates']['size']>0x0){const _0x18be84=(0x0,_0xfde85b['Nex'])(_0x10b2bf['width'],_0x10b2bf['height'],_0x336856['format'],_0x336856['type']);for(const _0x5229cd of _0x336856['layerUpdates']){const _0x1289e7=_0x10b2bf['data']['subarray'](_0x5229cd*_0x18be84/_0x10b2bf['data']['BYTES_PER_ELEMENT'],(_0x5229cd+0x1)*_0x18be84/_0x10b2bf['data']['BYTES_PER_ELEMENT']);_0x114914['compressedTexSubImage3D'](_0xc74991['TEXTURE_2D_ARRAY'],_0x59cc51,0x0,0x0,_0x5229cd,_0x10b2bf['width'],_0x10b2bf['height'],0x1,_0x39c4ea,_0x1289e7);}_0x336856['clearLayerUpdates']();}else _0x114914['compressedTexSubImage3D'](_0xc74991['TEXTURE_2D_ARRAY'],_0x59cc51,0x0,0x0,0x0,_0x10b2bf['width'],_0x10b2bf['height'],_0x2bb61a['depth'],_0x39c4ea,_0x10b2bf['data']);}}else _0x114914['compressedTexImage3D'](_0xc74991['TEXTURE_2D_ARRAY'],_0x59cc51,_0x26b716,_0x10b2bf['width'],_0x10b2bf['height'],_0x2bb61a['depth'],0x0,_0x10b2bf['data'],0x0,0x0);}else console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.uploadTexture()');}else _0x276182?_0x3612f7&&_0x114914['texSubImage3D'](_0xc74991['TEXTURE_2D_ARRAY'],_0x59cc51,0x0,0x0,0x0,_0x10b2bf['width'],_0x10b2bf['height'],_0x2bb61a['depth'],_0x39c4ea,_0x3ce35e,_0x10b2bf['data']):_0x114914['texImage3D'](_0xc74991['TEXTURE_2D_ARRAY'],_0x59cc51,_0x26b716,_0x10b2bf['width'],_0x10b2bf['height'],_0x2bb61a['depth'],0x0,_0x39c4ea,_0x3ce35e,_0x10b2bf['data']);}else{_0x276182&&_0x470e6e&&_0x114914['texStorage2D'](_0xc74991['TEXTURE_2D'],_0x321a1d,_0x26b716,_0x24729b[0x0]['width'],_0x24729b[0x0]['height']);for(let _0x33f73c=0x0,_0x16dbc0=_0x24729b['length'];_0x33f73c<_0x16dbc0;_0x33f73c++)_0x10b2bf=_0x24729b[_0x33f73c],_0x336856['format']!==_0xfde85b['GWd']?null!==_0x39c4ea?_0x276182?_0x3612f7&&_0x114914['compressedTexSubImage2D'](_0xc74991['TEXTURE_2D'],_0x33f73c,0x0,0x0,_0x10b2bf['width'],_0x10b2bf['height'],_0x39c4ea,_0x10b2bf['data']):_0x114914['compressedTexImage2D'](_0xc74991['TEXTURE_2D'],_0x33f73c,_0x26b716,_0x10b2bf['width'],_0x10b2bf['height'],0x0,_0x10b2bf['data']):console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.uploadTexture()'):_0x276182?_0x3612f7&&_0x114914['texSubImage2D'](_0xc74991['TEXTURE_2D'],_0x33f73c,0x0,0x0,_0x10b2bf['width'],_0x10b2bf['height'],_0x39c4ea,_0x3ce35e,_0x10b2bf['data']):_0x114914['texImage2D'](_0xc74991['TEXTURE_2D'],_0x33f73c,_0x26b716,_0x10b2bf['width'],_0x10b2bf['height'],0x0,_0x39c4ea,_0x3ce35e,_0x10b2bf['data']);}}else{if(_0x336856['isDataArrayTexture']){if(_0x276182){if(_0x470e6e&&_0x114914['texStorage3D'](_0xc74991['TEXTURE_2D_ARRAY'],_0x321a1d,_0x26b716,_0x2bb61a['width'],_0x2bb61a['height'],_0x2bb61a['depth']),_0x3612f7){if(_0x336856['layerUpdates']['size']>0x0){const _0x44df84=(0x0,_0xfde85b['Nex'])(_0x2bb61a['width'],_0x2bb61a['height'],_0x336856['format'],_0x336856['type']);for(const _0x548f9a of _0x336856['layerUpdates']){const _0x458493=_0x2bb61a['data']['subarray'](_0x548f9a*_0x44df84/_0x2bb61a['data']['BYTES_PER_ELEMENT'],(_0x548f9a+0x1)*_0x44df84/_0x2bb61a['data']['BYTES_PER_ELEMENT']);_0x114914['texSubImage3D'](_0xc74991['TEXTURE_2D_ARRAY'],0x0,0x0,0x0,_0x548f9a,_0x2bb61a['width'],_0x2bb61a['height'],0x1,_0x39c4ea,_0x3ce35e,_0x458493);}_0x336856['clearLayerUpdates']();}else _0x114914['texSubImage3D'](_0xc74991['TEXTURE_2D_ARRAY'],0x0,0x0,0x0,0x0,_0x2bb61a['width'],_0x2bb61a['height'],_0x2bb61a['depth'],_0x39c4ea,_0x3ce35e,_0x2bb61a['data']);}}else _0x114914['texImage3D'](_0xc74991['TEXTURE_2D_ARRAY'],0x0,_0x26b716,_0x2bb61a['width'],_0x2bb61a['height'],_0x2bb61a['depth'],0x0,_0x39c4ea,_0x3ce35e,_0x2bb61a['data']);}else{if(_0x336856['isData3DTexture'])_0x276182?(_0x470e6e&&_0x114914['texStorage3D'](_0xc74991['TEXTURE_3D'],_0x321a1d,_0x26b716,_0x2bb61a['width'],_0x2bb61a['height'],_0x2bb61a['depth']),_0x3612f7&&_0x114914['texSubImage3D'](_0xc74991['TEXTURE_3D'],0x0,0x0,0x0,0x0,_0x2bb61a['width'],_0x2bb61a['height'],_0x2bb61a['depth'],_0x39c4ea,_0x3ce35e,_0x2bb61a['data'])):_0x114914['texImage3D'](_0xc74991['TEXTURE_3D'],0x0,_0x26b716,_0x2bb61a['width'],_0x2bb61a['height'],_0x2bb61a['depth'],0x0,_0x39c4ea,_0x3ce35e,_0x2bb61a['data']);else{if(_0x336856['isFramebufferTexture']){if(_0x470e6e){if(_0x276182)_0x114914['texStorage2D'](_0xc74991['TEXTURE_2D'],_0x321a1d,_0x26b716,_0x2bb61a['width'],_0x2bb61a['height']);else{let _0x342849=_0x2bb61a['width'],_0x528759=_0x2bb61a['height'];for(let _0x337547=0x0;_0x337547<_0x321a1d;_0x337547++)_0x114914['texImage2D'](_0xc74991['TEXTURE_2D'],_0x337547,_0x26b716,_0x342849,_0x528759,0x0,_0x39c4ea,_0x3ce35e,null),_0x342849>>=0x1,_0x528759>>=0x1;}}}else{if(_0x24729b['length']>0x0){if(_0x276182&&_0x470e6e){const _0x3b4f8a=_0x6edc05(_0x24729b[0x0]);_0x114914['texStorage2D'](_0xc74991['TEXTURE_2D'],_0x321a1d,_0x26b716,_0x3b4f8a['width'],_0x3b4f8a['height']);}for(let _0xc48020=0x0,_0x18e55a=_0x24729b['length'];_0xc48020<_0x18e55a;_0xc48020++)_0x10b2bf=_0x24729b[_0xc48020],_0x276182?_0x3612f7&&_0x114914['texSubImage2D'](_0xc74991['TEXTURE_2D'],_0xc48020,0x0,0x0,_0x39c4ea,_0x3ce35e,_0x10b2bf):_0x114914['texImage2D'](_0xc74991['TEXTURE_2D'],_0xc48020,_0x26b716,_0x39c4ea,_0x3ce35e,_0x10b2bf);_0x336856['generateMipmaps']=!0x1;}else{if(_0x276182){if(_0x470e6e){const _0x47e687=_0x6edc05(_0x2bb61a);_0x114914['texStorage2D'](_0xc74991['TEXTURE_2D'],_0x321a1d,_0x26b716,_0x47e687['width'],_0x47e687['height']);}_0x3612f7&&_0x114914['texSubImage2D'](_0xc74991['TEXTURE_2D'],0x0,0x0,0x0,_0x39c4ea,_0x3ce35e,_0x2bb61a);}else _0x114914['texImage2D'](_0xc74991['TEXTURE_2D'],0x0,_0x26b716,_0x39c4ea,_0x3ce35e,_0x2bb61a);}}}}}}}_0x4b3c74(_0x336856)&&_0x4def90(_0x54fbff),_0x5a8010['__version']=_0x2a6a11['version'],_0x336856['onUpdate']&&_0x336856['onUpdate'](_0x336856);}_0xc055a['__version']=_0x336856['version'];}function _0x57366d(_0x1dac48,_0x2ffdf1,_0x105045,_0x36f534,_0x432a23,_0x2431e8){const _0x3b535e=_0x333351['convert'](_0x105045['format'],_0x105045['colorSpace']),_0x49669c=_0x333351['convert'](_0x105045['type']),_0x43e532=_0x27bb94(_0x105045['internalFormat'],_0x3b535e,_0x49669c,_0x105045['colorSpace']),_0x2499f9=_0x27694d['get'](_0x2ffdf1),_0x4b1867=_0x27694d['get'](_0x105045);if(_0x4b1867['__renderTarget']=_0x2ffdf1,!_0x2499f9['__hasExternalTextures']){const _0x33b645=Math['max'](0x1,_0x2ffdf1['width']>>_0x2431e8),_0x3f7ba4=Math['max'](0x1,_0x2ffdf1['height']>>_0x2431e8);_0x432a23===_0xc74991['TEXTURE_3D']||_0x432a23===_0xc74991['TEXTURE_2D_ARRAY']?_0x114914['texImage3D'](_0x432a23,_0x2431e8,_0x43e532,_0x33b645,_0x3f7ba4,_0x2ffdf1['depth'],0x0,_0x3b535e,_0x49669c,null):_0x114914['texImage2D'](_0x432a23,_0x2431e8,_0x43e532,_0x33b645,_0x3f7ba4,0x0,_0x3b535e,_0x49669c,null);}_0x114914['bindFramebuffer'](_0xc74991['FRAMEBUFFER'],_0x1dac48),_0x225d0f(_0x2ffdf1)?_0x59035d['framebufferTexture2DMultisampleEXT'](_0xc74991['FRAMEBUFFER'],_0x36f534,_0x432a23,_0x4b1867['__webglTexture'],0x0,_0xc57186(_0x2ffdf1)):(_0x432a23===_0xc74991['TEXTURE_2D']||_0x432a23>=_0xc74991['TEXTURE_CUBE_MAP_POSITIVE_X']&&_0x432a23<=_0xc74991['TEXTURE_CUBE_MAP_NEGATIVE_Z'])&&_0xc74991['framebufferTexture2D'](_0xc74991['FRAMEBUFFER'],_0x36f534,_0x432a23,_0x4b1867['__webglTexture'],_0x2431e8),_0x114914['bindFramebuffer'](_0xc74991['FRAMEBUFFER'],null);}function _0x18496f(_0x1b70aa,_0x3d27d5,_0x324cb0){if(_0xc74991['bindRenderbuffer'](_0xc74991['RENDERBUFFER'],_0x1b70aa),_0x3d27d5['depthBuffer']){const _0x1436f6=_0x3d27d5['depthTexture'],_0x41e75b=_0x1436f6&&_0x1436f6['isDepthTexture']?_0x1436f6['type']:null,_0xbe5566=_0x582b7e(_0x3d27d5['stencilBuffer'],_0x41e75b),_0x5b6e68=_0x3d27d5['stencilBuffer']?_0xc74991['DEPTH_STENCIL_ATTACHMENT']:_0xc74991['DEPTH_ATTACHMENT'],_0x44f725=_0xc57186(_0x3d27d5);_0x225d0f(_0x3d27d5)?_0x59035d['renderbufferStorageMultisampleEXT'](_0xc74991['RENDERBUFFER'],_0x44f725,_0xbe5566,_0x3d27d5['width'],_0x3d27d5['height']):_0x324cb0?_0xc74991['renderbufferStorageMultisample'](_0xc74991['RENDERBUFFER'],_0x44f725,_0xbe5566,_0x3d27d5['width'],_0x3d27d5['height']):_0xc74991['renderbufferStorage'](_0xc74991['RENDERBUFFER'],_0xbe5566,_0x3d27d5['width'],_0x3d27d5['height']),_0xc74991['framebufferRenderbuffer'](_0xc74991['FRAMEBUFFER'],_0x5b6e68,_0xc74991['RENDERBUFFER'],_0x1b70aa);}else{const _0xe9e7c8=_0x3d27d5['textures'];for(let _0x1fbd22=0x0;_0x1fbd22<_0xe9e7c8['length'];_0x1fbd22++){const _0x42458e=_0xe9e7c8[_0x1fbd22],_0x1a82a2=_0x333351['convert'](_0x42458e['format'],_0x42458e['colorSpace']),_0x2ef9a0=_0x333351['convert'](_0x42458e['type']),_0x15e1f0=_0x27bb94(_0x42458e['internalFormat'],_0x1a82a2,_0x2ef9a0,_0x42458e['colorSpace']),_0x107a7e=_0xc57186(_0x3d27d5);_0x324cb0&&!0x1===_0x225d0f(_0x3d27d5)?_0xc74991['renderbufferStorageMultisample'](_0xc74991['RENDERBUFFER'],_0x107a7e,_0x15e1f0,_0x3d27d5['width'],_0x3d27d5['height']):_0x225d0f(_0x3d27d5)?_0x59035d['renderbufferStorageMultisampleEXT'](_0xc74991['RENDERBUFFER'],_0x107a7e,_0x15e1f0,_0x3d27d5['width'],_0x3d27d5['height']):_0xc74991['renderbufferStorage'](_0xc74991['RENDERBUFFER'],_0x15e1f0,_0x3d27d5['width'],_0x3d27d5['height']);}}_0xc74991['bindRenderbuffer'](_0xc74991['RENDERBUFFER'],null);}function _0x358afa(_0x54dd03){const _0x4a77ab=_0x27694d['get'](_0x54dd03),_0x11c4af=!0x0===_0x54dd03['isWebGLCubeRenderTarget'];if(_0x4a77ab['__boundDepthTexture']!==_0x54dd03['depthTexture']){const _0x2380eb=_0x54dd03['depthTexture'];if(_0x4a77ab['__depthDisposeCallback']&&_0x4a77ab['__depthDisposeCallback'](),_0x2380eb){const _0x18d666=()=>{delete _0x4a77ab['__boundDepthTexture'],delete _0x4a77ab['__depthDisposeCallback'],_0x2380eb['removeEventListener']('dispose',_0x18d666);};_0x2380eb['addEventListener']('dispose',_0x18d666),_0x4a77ab['__depthDisposeCallback']=_0x18d666;}_0x4a77ab['__boundDepthTexture']=_0x2380eb;}if(_0x54dd03['depthTexture']&&!_0x4a77ab['__autoAllocateDepthBuffer']){if(_0x11c4af)throw new Error('target.depthTexture\x20not\x20supported\x20in\x20Cube\x20render\x20targets');!function(_0x2f85cd,_0x367975){if(_0x367975&&_0x367975['isWebGLCubeRenderTarget'])throw new Error('Depth\x20Texture\x20with\x20cube\x20render\x20targets\x20is\x20not\x20supported');if(_0x114914['bindFramebuffer'](_0xc74991['FRAMEBUFFER'],_0x2f85cd),!_0x367975['depthTexture']||!_0x367975['depthTexture']['isDepthTexture'])throw new Error('renderTarget.depthTexture\x20must\x20be\x20an\x20instance\x20of\x20THREE.DepthTexture');const _0x53d2a9=_0x27694d['get'](_0x367975['depthTexture']);_0x53d2a9['__renderTarget']=_0x367975,_0x53d2a9['__webglTexture']&&_0x367975['depthTexture']['image']['width']===_0x367975['width']&&_0x367975['depthTexture']['image']['height']===_0x367975['height']||(_0x367975['depthTexture']['image']['width']=_0x367975['width'],_0x367975['depthTexture']['image']['height']=_0x367975['height'],_0x367975['depthTexture']['needsUpdate']=!0x0),_0x4c4bf0(_0x367975['depthTexture'],0x0);const _0x12810d=_0x53d2a9['__webglTexture'],_0x1a7618=_0xc57186(_0x367975);if(_0x367975['depthTexture']['format']===_0xfde85b['zdS'])_0x225d0f(_0x367975)?_0x59035d['framebufferTexture2DMultisampleEXT'](_0xc74991['FRAMEBUFFER'],_0xc74991['DEPTH_ATTACHMENT'],_0xc74991['TEXTURE_2D'],_0x12810d,0x0,_0x1a7618):_0xc74991['framebufferTexture2D'](_0xc74991['FRAMEBUFFER'],_0xc74991['DEPTH_ATTACHMENT'],_0xc74991['TEXTURE_2D'],_0x12810d,0x0);else{if(_0x367975['depthTexture']['format']!==_0xfde85b['dcC'])throw new Error('Unknown\x20depthTexture\x20format');_0x225d0f(_0x367975)?_0x59035d['framebufferTexture2DMultisampleEXT'](_0xc74991['FRAMEBUFFER'],_0xc74991['DEPTH_STENCIL_ATTACHMENT'],_0xc74991['TEXTURE_2D'],_0x12810d,0x0,_0x1a7618):_0xc74991['framebufferTexture2D'](_0xc74991['FRAMEBUFFER'],_0xc74991['DEPTH_STENCIL_ATTACHMENT'],_0xc74991['TEXTURE_2D'],_0x12810d,0x0);}}(_0x4a77ab['__webglFramebuffer'],_0x54dd03);}else{if(_0x11c4af){_0x4a77ab['__webglDepthbuffer']=[];for(let _0x1eb3a9=0x0;_0x1eb3a9<0x6;_0x1eb3a9++)if(_0x114914['bindFramebuffer'](_0xc74991['FRAMEBUFFER'],_0x4a77ab['__webglFramebuffer'][_0x1eb3a9]),void 0x0===_0x4a77ab['__webglDepthbuffer'][_0x1eb3a9])_0x4a77ab['__webglDepthbuffer'][_0x1eb3a9]=_0xc74991['createRenderbuffer'](),_0x18496f(_0x4a77ab['__webglDepthbuffer'][_0x1eb3a9],_0x54dd03,!0x1);else{const _0x1a5829=_0x54dd03['stencilBuffer']?_0xc74991['DEPTH_STENCIL_ATTACHMENT']:_0xc74991['DEPTH_ATTACHMENT'],_0x337a90=_0x4a77ab['__webglDepthbuffer'][_0x1eb3a9];_0xc74991['bindRenderbuffer'](_0xc74991['RENDERBUFFER'],_0x337a90),_0xc74991['framebufferRenderbuffer'](_0xc74991['FRAMEBUFFER'],_0x1a5829,_0xc74991['RENDERBUFFER'],_0x337a90);}}else{if(_0x114914['bindFramebuffer'](_0xc74991['FRAMEBUFFER'],_0x4a77ab['__webglFramebuffer']),void 0x0===_0x4a77ab['__webglDepthbuffer'])_0x4a77ab['__webglDepthbuffer']=_0xc74991['createRenderbuffer'](),_0x18496f(_0x4a77ab['__webglDepthbuffer'],_0x54dd03,!0x1);else{const _0x1ca999=_0x54dd03['stencilBuffer']?_0xc74991['DEPTH_STENCIL_ATTACHMENT']:_0xc74991['DEPTH_ATTACHMENT'],_0x456132=_0x4a77ab['__webglDepthbuffer'];_0xc74991['bindRenderbuffer'](_0xc74991['RENDERBUFFER'],_0x456132),_0xc74991['framebufferRenderbuffer'](_0xc74991['FRAMEBUFFER'],_0x1ca999,_0xc74991['RENDERBUFFER'],_0x456132);}}}_0x114914['bindFramebuffer'](_0xc74991['FRAMEBUFFER'],null);}const _0x3d7dbf=[],_0x478c8f=[];function _0xc57186(_0x411d0e){return Math['min'](_0xe5ba3c['maxSamples'],_0x411d0e['samples']);}function _0x225d0f(_0x258de6){const _0x2281cf=_0x27694d['get'](_0x258de6);return _0x258de6['samples']>0x0&&!0x0===_0x13902c['has']('WEBGL_multisampled_render_to_texture')&&!0x1!==_0x2281cf['__useRenderToTexture'];}function _0x4b609c(_0x531f4b,_0x61d1fc){const _0x21c85b=_0x531f4b['colorSpace'],_0x2e8af8=_0x531f4b['format'],_0x407ba4=_0x531f4b['type'];return!0x0===_0x531f4b['isCompressedTexture']||!0x0===_0x531f4b['isVideoTexture']||_0x21c85b!==_0xfde85b['Zr2']&&_0x21c85b!==_0xfde85b['jf0']&&(_0xfde85b['ppV']['getTransfer'](_0x21c85b)===_0xfde85b['KLL']?_0x2e8af8===_0xfde85b['GWd']&&_0x407ba4===_0xfde85b['OUM']||console['warn']('THREE.WebGLTextures:\x20sRGB\x20encoded\x20textures\x20have\x20to\x20use\x20RGBAFormat\x20and\x20UnsignedByteType.'):console['error']('THREE.WebGLTextures:\x20Unsupported\x20texture\x20color\x20space:',_0x21c85b)),_0x61d1fc;}function _0x6edc05(_0x3cab5e){return'undefined'!=typeof HTMLImageElement&&_0x3cab5e instanceof HTMLImageElement?(_0x34e4ad['width']=_0x3cab5e['naturalWidth']||_0x3cab5e['width'],_0x34e4ad['height']=_0x3cab5e['naturalHeight']||_0x3cab5e['height']):'undefined'!=typeof VideoFrame&&_0x3cab5e instanceof VideoFrame?(_0x34e4ad['width']=_0x3cab5e['displayWidth'],_0x34e4ad['height']=_0x3cab5e['displayHeight']):(_0x34e4ad['width']=_0x3cab5e['width'],_0x34e4ad['height']=_0x3cab5e['height']),_0x34e4ad;}this['allocateTextureUnit']=function(){const _0x42fe9c=_0x311c0d;return _0x42fe9c>=_0xe5ba3c['maxTextures']&&console['warn']('THREE.WebGLTextures:\x20Trying\x20to\x20use\x20'+_0x42fe9c+'\x20texture\x20units\x20while\x20this\x20GPU\x20supports\x20only\x20'+_0xe5ba3c['maxTextures']),_0x311c0d+=0x1,_0x42fe9c;},this['resetTextureUnits']=function(){_0x311c0d=0x0;},this['setTexture2D']=_0x4c4bf0,this['setTexture2DArray']=function(_0x4acef4,_0x87da5f){const _0x21781c=_0x27694d['get'](_0x4acef4);_0x4acef4['version']>0x0&&_0x21781c['__version']!==_0x4acef4['version']?_0xa45c18(_0x21781c,_0x4acef4,_0x87da5f):_0x114914['bindTexture'](_0xc74991['TEXTURE_2D_ARRAY'],_0x21781c['__webglTexture'],_0xc74991['TEXTURE0']+_0x87da5f);},this['setTexture3D']=function(_0x1cfbdb,_0x6a78a1){const _0x409133=_0x27694d['get'](_0x1cfbdb);_0x1cfbdb['version']>0x0&&_0x409133['__version']!==_0x1cfbdb['version']?_0xa45c18(_0x409133,_0x1cfbdb,_0x6a78a1):_0x114914['bindTexture'](_0xc74991['TEXTURE_3D'],_0x409133['__webglTexture'],_0xc74991['TEXTURE0']+_0x6a78a1);},this['setTextureCube']=function(_0x5e7823,_0x92f535){const _0x5ea90e=_0x27694d['get'](_0x5e7823);_0x5e7823['version']>0x0&&_0x5ea90e['__version']!==_0x5e7823['version']?function(_0x1edab7,_0x51dc64,_0x500970){if(0x6!==_0x51dc64['image']['length'])return;const _0x3a8aa6=_0x5decb1(_0x1edab7,_0x51dc64),_0x1ccd75=_0x51dc64['source'];_0x114914['bindTexture'](_0xc74991['TEXTURE_CUBE_MAP'],_0x1edab7['__webglTexture'],_0xc74991['TEXTURE0']+_0x500970);const _0x411de4=_0x27694d['get'](_0x1ccd75);if(_0x1ccd75['version']!==_0x411de4['__version']||!0x0===_0x3a8aa6){_0x114914['activeTexture'](_0xc74991['TEXTURE0']+_0x500970);const _0x1a682d=_0xfde85b['ppV']['getPrimaries'](_0xfde85b['ppV']['workingColorSpace']),_0x3acecf=_0x51dc64['colorSpace']===_0xfde85b['jf0']?null:_0xfde85b['ppV']['getPrimaries'](_0x51dc64['colorSpace']),_0x4535ec=_0x51dc64['colorSpace']===_0xfde85b['jf0']||_0x1a682d===_0x3acecf?_0xc74991['NONE']:_0xc74991['BROWSER_DEFAULT_WEBGL'];_0xc74991['pixelStorei'](_0xc74991['UNPACK_FLIP_Y_WEBGL'],_0x51dc64['flipY']),_0xc74991['pixelStorei'](_0xc74991['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x51dc64['premultiplyAlpha']),_0xc74991['pixelStorei'](_0xc74991['UNPACK_ALIGNMENT'],_0x51dc64['unpackAlignment']),_0xc74991['pixelStorei'](_0xc74991['UNPACK_COLORSPACE_CONVERSION_WEBGL'],_0x4535ec);const _0x4ff6f9=_0x51dc64['isCompressedTexture']||_0x51dc64['image'][0x0]['isCompressedTexture'],_0x2303e3=_0x51dc64['image'][0x0]&&_0x51dc64['image'][0x0]['isDataTexture'],_0x304329=[];for(let _0x1f2728=0x0;_0x1f2728<0x6;_0x1f2728++)_0x304329[_0x1f2728]=_0x4ff6f9||_0x2303e3?_0x2303e3?_0x51dc64['image'][_0x1f2728]['image']:_0x51dc64['image'][_0x1f2728]:_0x9702b1(_0x51dc64['image'][_0x1f2728],!0x0,_0xe5ba3c['maxCubemapSize']),_0x304329[_0x1f2728]=_0x4b609c(_0x51dc64,_0x304329[_0x1f2728]);const _0x3c489c=_0x304329[0x0],_0x19aa99=_0x333351['convert'](_0x51dc64['format'],_0x51dc64['colorSpace']),_0x48b355=_0x333351['convert'](_0x51dc64['type']),_0x2d1cfa=_0x27bb94(_0x51dc64['internalFormat'],_0x19aa99,_0x48b355,_0x51dc64['colorSpace']),_0x167d87=!0x0!==_0x51dc64['isVideoTexture'],_0x5883be=void 0x0===_0x411de4['__version']||!0x0===_0x3a8aa6,_0x3f3c7e=_0x1ccd75['dataReady'];let _0x270089,_0x2a5948=_0x50e0eb(_0x51dc64,_0x3c489c);if(_0x15734c(_0xc74991['TEXTURE_CUBE_MAP'],_0x51dc64),_0x4ff6f9){_0x167d87&&_0x5883be&&_0x114914['texStorage2D'](_0xc74991['TEXTURE_CUBE_MAP'],_0x2a5948,_0x2d1cfa,_0x3c489c['width'],_0x3c489c['height']);for(let _0x1fb200=0x0;_0x1fb200<0x6;_0x1fb200++){_0x270089=_0x304329[_0x1fb200]['mipmaps'];for(let _0x2182b6=0x0;_0x2182b6<_0x270089['length'];_0x2182b6++){const _0x2346c8=_0x270089[_0x2182b6];_0x51dc64['format']!==_0xfde85b['GWd']?null!==_0x19aa99?_0x167d87?_0x3f3c7e&&_0x114914['compressedTexSubImage2D'](_0xc74991['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x1fb200,_0x2182b6,0x0,0x0,_0x2346c8['width'],_0x2346c8['height'],_0x19aa99,_0x2346c8['data']):_0x114914['compressedTexImage2D'](_0xc74991['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x1fb200,_0x2182b6,_0x2d1cfa,_0x2346c8['width'],_0x2346c8['height'],0x0,_0x2346c8['data']):console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.setTextureCube()'):_0x167d87?_0x3f3c7e&&_0x114914['texSubImage2D'](_0xc74991['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x1fb200,_0x2182b6,0x0,0x0,_0x2346c8['width'],_0x2346c8['height'],_0x19aa99,_0x48b355,_0x2346c8['data']):_0x114914['texImage2D'](_0xc74991['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x1fb200,_0x2182b6,_0x2d1cfa,_0x2346c8['width'],_0x2346c8['height'],0x0,_0x19aa99,_0x48b355,_0x2346c8['data']);}}}else{if(_0x270089=_0x51dc64['mipmaps'],_0x167d87&&_0x5883be){_0x270089['length']>0x0&&_0x2a5948++;const _0x36de34=_0x6edc05(_0x304329[0x0]);_0x114914['texStorage2D'](_0xc74991['TEXTURE_CUBE_MAP'],_0x2a5948,_0x2d1cfa,_0x36de34['width'],_0x36de34['height']);}for(let _0x357724=0x0;_0x357724<0x6;_0x357724++)if(_0x2303e3){_0x167d87?_0x3f3c7e&&_0x114914['texSubImage2D'](_0xc74991['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x357724,0x0,0x0,0x0,_0x304329[_0x357724]['width'],_0x304329[_0x357724]['height'],_0x19aa99,_0x48b355,_0x304329[_0x357724]['data']):_0x114914['texImage2D'](_0xc74991['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x357724,0x0,_0x2d1cfa,_0x304329[_0x357724]['width'],_0x304329[_0x357724]['height'],0x0,_0x19aa99,_0x48b355,_0x304329[_0x357724]['data']);for(let _0x34137e=0x0;_0x34137e<_0x270089['length'];_0x34137e++){const _0x12ad46=_0x270089[_0x34137e]['image'][_0x357724]['image'];_0x167d87?_0x3f3c7e&&_0x114914['texSubImage2D'](_0xc74991['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x357724,_0x34137e+0x1,0x0,0x0,_0x12ad46['width'],_0x12ad46['height'],_0x19aa99,_0x48b355,_0x12ad46['data']):_0x114914['texImage2D'](_0xc74991['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x357724,_0x34137e+0x1,_0x2d1cfa,_0x12ad46['width'],_0x12ad46['height'],0x0,_0x19aa99,_0x48b355,_0x12ad46['data']);}}else{_0x167d87?_0x3f3c7e&&_0x114914['texSubImage2D'](_0xc74991['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x357724,0x0,0x0,0x0,_0x19aa99,_0x48b355,_0x304329[_0x357724]):_0x114914['texImage2D'](_0xc74991['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x357724,0x0,_0x2d1cfa,_0x19aa99,_0x48b355,_0x304329[_0x357724]);for(let _0x4ade23=0x0;_0x4ade23<_0x270089['length'];_0x4ade23++){const _0x23520e=_0x270089[_0x4ade23];_0x167d87?_0x3f3c7e&&_0x114914['texSubImage2D'](_0xc74991['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x357724,_0x4ade23+0x1,0x0,0x0,_0x19aa99,_0x48b355,_0x23520e['image'][_0x357724]):_0x114914['texImage2D'](_0xc74991['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x357724,_0x4ade23+0x1,_0x2d1cfa,_0x19aa99,_0x48b355,_0x23520e['image'][_0x357724]);}}}_0x4b3c74(_0x51dc64)&&_0x4def90(_0xc74991['TEXTURE_CUBE_MAP']),_0x411de4['__version']=_0x1ccd75['version'],_0x51dc64['onUpdate']&&_0x51dc64['onUpdate'](_0x51dc64);}_0x1edab7['__version']=_0x51dc64['version'];}(_0x5ea90e,_0x5e7823,_0x92f535):_0x114914['bindTexture'](_0xc74991['TEXTURE_CUBE_MAP'],_0x5ea90e['__webglTexture'],_0xc74991['TEXTURE0']+_0x92f535);},this['rebindTextures']=function(_0x4ecfe6,_0x3f2859,_0x19eeb5){const _0x5218f7=_0x27694d['get'](_0x4ecfe6);void 0x0!==_0x3f2859&&_0x57366d(_0x5218f7['__webglFramebuffer'],_0x4ecfe6,_0x4ecfe6['texture'],_0xc74991['COLOR_ATTACHMENT0'],_0xc74991['TEXTURE_2D'],0x0),void 0x0!==_0x19eeb5&&_0x358afa(_0x4ecfe6);},this['setupRenderTarget']=function(_0x26e492){const _0x42ee6a=_0x26e492['texture'],_0x9f34cc=_0x27694d['get'](_0x26e492),_0x236b95=_0x27694d['get'](_0x42ee6a);_0x26e492['addEventListener']('dispose',_0x28efc4);const _0x28afc2=_0x26e492['textures'],_0x39c469=!0x0===_0x26e492['isWebGLCubeRenderTarget'],_0x58443e=_0x28afc2['length']>0x1;if(_0x58443e||(void 0x0===_0x236b95['__webglTexture']&&(_0x236b95['__webglTexture']=_0xc74991['createTexture']()),_0x236b95['__version']=_0x42ee6a['version'],_0xc0272c['memory']['textures']++),_0x39c469){_0x9f34cc['__webglFramebuffer']=[];for(let _0x3e8a90=0x0;_0x3e8a90<0x6;_0x3e8a90++)if(_0x42ee6a['mipmaps']&&_0x42ee6a['mipmaps']['length']>0x0){_0x9f34cc['__webglFramebuffer'][_0x3e8a90]=[];for(let _0x383c91=0x0;_0x383c91<_0x42ee6a['mipmaps']['length'];_0x383c91++)_0x9f34cc['__webglFramebuffer'][_0x3e8a90][_0x383c91]=_0xc74991['createFramebuffer']();}else _0x9f34cc['__webglFramebuffer'][_0x3e8a90]=_0xc74991['createFramebuffer']();}else{if(_0x42ee6a['mipmaps']&&_0x42ee6a['mipmaps']['length']>0x0){_0x9f34cc['__webglFramebuffer']=[];for(let _0x167103=0x0;_0x167103<_0x42ee6a['mipmaps']['length'];_0x167103++)_0x9f34cc['__webglFramebuffer'][_0x167103]=_0xc74991['createFramebuffer']();}else _0x9f34cc['__webglFramebuffer']=_0xc74991['createFramebuffer']();if(_0x58443e)for(let _0x1d0017=0x0,_0x89c2de=_0x28afc2['length'];_0x1d0017<_0x89c2de;_0x1d0017++){const _0x5a5c60=_0x27694d['get'](_0x28afc2[_0x1d0017]);void 0x0===_0x5a5c60['__webglTexture']&&(_0x5a5c60['__webglTexture']=_0xc74991['createTexture'](),_0xc0272c['memory']['textures']++);}if(_0x26e492['samples']>0x0&&!0x1===_0x225d0f(_0x26e492)){_0x9f34cc['__webglMultisampledFramebuffer']=_0xc74991['createFramebuffer'](),_0x9f34cc['__webglColorRenderbuffer']=[],_0x114914['bindFramebuffer'](_0xc74991['FRAMEBUFFER'],_0x9f34cc['__webglMultisampledFramebuffer']);for(let _0xa13375=0x0;_0xa13375<_0x28afc2['length'];_0xa13375++){const _0x5cc088=_0x28afc2[_0xa13375];_0x9f34cc['__webglColorRenderbuffer'][_0xa13375]=_0xc74991['createRenderbuffer'](),_0xc74991['bindRenderbuffer'](_0xc74991['RENDERBUFFER'],_0x9f34cc['__webglColorRenderbuffer'][_0xa13375]);const _0x5566c8=_0x333351['convert'](_0x5cc088['format'],_0x5cc088['colorSpace']),_0x3cd62d=_0x333351['convert'](_0x5cc088['type']),_0x5e39bf=_0x27bb94(_0x5cc088['internalFormat'],_0x5566c8,_0x3cd62d,_0x5cc088['colorSpace'],!0x0===_0x26e492['isXRRenderTarget']),_0x429910=_0xc57186(_0x26e492);_0xc74991['renderbufferStorageMultisample'](_0xc74991['RENDERBUFFER'],_0x429910,_0x5e39bf,_0x26e492['width'],_0x26e492['height']),_0xc74991['framebufferRenderbuffer'](_0xc74991['FRAMEBUFFER'],_0xc74991['COLOR_ATTACHMENT0']+_0xa13375,_0xc74991['RENDERBUFFER'],_0x9f34cc['__webglColorRenderbuffer'][_0xa13375]);}_0xc74991['bindRenderbuffer'](_0xc74991['RENDERBUFFER'],null),_0x26e492['depthBuffer']&&(_0x9f34cc['__webglDepthRenderbuffer']=_0xc74991['createRenderbuffer'](),_0x18496f(_0x9f34cc['__webglDepthRenderbuffer'],_0x26e492,!0x0)),_0x114914['bindFramebuffer'](_0xc74991['FRAMEBUFFER'],null);}}if(_0x39c469){_0x114914['bindTexture'](_0xc74991['TEXTURE_CUBE_MAP'],_0x236b95['__webglTexture']),_0x15734c(_0xc74991['TEXTURE_CUBE_MAP'],_0x42ee6a);for(let _0x5b9bc0=0x0;_0x5b9bc0<0x6;_0x5b9bc0++)if(_0x42ee6a['mipmaps']&&_0x42ee6a['mipmaps']['length']>0x0){for(let _0x4e7c51=0x0;_0x4e7c51<_0x42ee6a['mipmaps']['length'];_0x4e7c51++)_0x57366d(_0x9f34cc['__webglFramebuffer'][_0x5b9bc0][_0x4e7c51],_0x26e492,_0x42ee6a,_0xc74991['COLOR_ATTACHMENT0'],_0xc74991['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5b9bc0,_0x4e7c51);}else _0x57366d(_0x9f34cc['__webglFramebuffer'][_0x5b9bc0],_0x26e492,_0x42ee6a,_0xc74991['COLOR_ATTACHMENT0'],_0xc74991['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5b9bc0,0x0);_0x4b3c74(_0x42ee6a)&&_0x4def90(_0xc74991['TEXTURE_CUBE_MAP']),_0x114914['unbindTexture']();}else{if(_0x58443e){for(let _0x2e1a3b=0x0,_0x4c9a80=_0x28afc2['length'];_0x2e1a3b<_0x4c9a80;_0x2e1a3b++){const _0x59834a=_0x28afc2[_0x2e1a3b],_0x44074f=_0x27694d['get'](_0x59834a);_0x114914['bindTexture'](_0xc74991['TEXTURE_2D'],_0x44074f['__webglTexture']),_0x15734c(_0xc74991['TEXTURE_2D'],_0x59834a),_0x57366d(_0x9f34cc['__webglFramebuffer'],_0x26e492,_0x59834a,_0xc74991['COLOR_ATTACHMENT0']+_0x2e1a3b,_0xc74991['TEXTURE_2D'],0x0),_0x4b3c74(_0x59834a)&&_0x4def90(_0xc74991['TEXTURE_2D']);}_0x114914['unbindTexture']();}else{let _0x2aa9d6=_0xc74991['TEXTURE_2D'];if((_0x26e492['isWebGL3DRenderTarget']||_0x26e492['isWebGLArrayRenderTarget'])&&(_0x2aa9d6=_0x26e492['isWebGL3DRenderTarget']?_0xc74991['TEXTURE_3D']:_0xc74991['TEXTURE_2D_ARRAY']),_0x114914['bindTexture'](_0x2aa9d6,_0x236b95['__webglTexture']),_0x15734c(_0x2aa9d6,_0x42ee6a),_0x42ee6a['mipmaps']&&_0x42ee6a['mipmaps']['length']>0x0){for(let _0x1b0552=0x0;_0x1b0552<_0x42ee6a['mipmaps']['length'];_0x1b0552++)_0x57366d(_0x9f34cc['__webglFramebuffer'][_0x1b0552],_0x26e492,_0x42ee6a,_0xc74991['COLOR_ATTACHMENT0'],_0x2aa9d6,_0x1b0552);}else _0x57366d(_0x9f34cc['__webglFramebuffer'],_0x26e492,_0x42ee6a,_0xc74991['COLOR_ATTACHMENT0'],_0x2aa9d6,0x0);_0x4b3c74(_0x42ee6a)&&_0x4def90(_0x2aa9d6),_0x114914['unbindTexture']();}}_0x26e492['depthBuffer']&&_0x358afa(_0x26e492);},this['updateRenderTargetMipmap']=function(_0x496e28){const _0x3a5606=_0x496e28['textures'];for(let _0x30c94b=0x0,_0x102a49=_0x3a5606['length'];_0x30c94b<_0x102a49;_0x30c94b++){const _0x462ec6=_0x3a5606[_0x30c94b];if(_0x4b3c74(_0x462ec6)){const _0x2ed433=_0xb52ec5(_0x496e28),_0x383b4b=_0x27694d['get'](_0x462ec6)['__webglTexture'];_0x114914['bindTexture'](_0x2ed433,_0x383b4b),_0x4def90(_0x2ed433),_0x114914['unbindTexture']();}}},this['updateMultisampleRenderTarget']=function(_0x4a9e20){if(_0x4a9e20['samples']>0x0){if(!0x1===_0x225d0f(_0x4a9e20)){const _0x26ee1b=_0x4a9e20['textures'],_0x4e931a=_0x4a9e20['width'],_0x4d8784=_0x4a9e20['height'];let _0x55658a=_0xc74991['COLOR_BUFFER_BIT'];const _0x5ada39=_0x4a9e20['stencilBuffer']?_0xc74991['DEPTH_STENCIL_ATTACHMENT']:_0xc74991['DEPTH_ATTACHMENT'],_0x574bf9=_0x27694d['get'](_0x4a9e20),_0x1eea2a=_0x26ee1b['length']>0x1;if(_0x1eea2a){for(let _0x45d156=0x0;_0x45d156<_0x26ee1b['length'];_0x45d156++)_0x114914['bindFramebuffer'](_0xc74991['FRAMEBUFFER'],_0x574bf9['__webglMultisampledFramebuffer']),_0xc74991['framebufferRenderbuffer'](_0xc74991['FRAMEBUFFER'],_0xc74991['COLOR_ATTACHMENT0']+_0x45d156,_0xc74991['RENDERBUFFER'],null),_0x114914['bindFramebuffer'](_0xc74991['FRAMEBUFFER'],_0x574bf9['__webglFramebuffer']),_0xc74991['framebufferTexture2D'](_0xc74991['DRAW_FRAMEBUFFER'],_0xc74991['COLOR_ATTACHMENT0']+_0x45d156,_0xc74991['TEXTURE_2D'],null,0x0);}_0x114914['bindFramebuffer'](_0xc74991['READ_FRAMEBUFFER'],_0x574bf9['__webglMultisampledFramebuffer']),_0x114914['bindFramebuffer'](_0xc74991['DRAW_FRAMEBUFFER'],_0x574bf9['__webglFramebuffer']);for(let _0xf336a8=0x0;_0xf336a8<_0x26ee1b['length'];_0xf336a8++){if(_0x4a9e20['resolveDepthBuffer']&&(_0x4a9e20['depthBuffer']&&(_0x55658a|=_0xc74991['DEPTH_BUFFER_BIT']),_0x4a9e20['stencilBuffer']&&_0x4a9e20['resolveStencilBuffer']&&(_0x55658a|=_0xc74991['STENCIL_BUFFER_BIT'])),_0x1eea2a){_0xc74991['framebufferRenderbuffer'](_0xc74991['READ_FRAMEBUFFER'],_0xc74991['COLOR_ATTACHMENT0'],_0xc74991['RENDERBUFFER'],_0x574bf9['__webglColorRenderbuffer'][_0xf336a8]);const _0x3dd8bd=_0x27694d['get'](_0x26ee1b[_0xf336a8])['__webglTexture'];_0xc74991['framebufferTexture2D'](_0xc74991['DRAW_FRAMEBUFFER'],_0xc74991['COLOR_ATTACHMENT0'],_0xc74991['TEXTURE_2D'],_0x3dd8bd,0x0);}_0xc74991['blitFramebuffer'](0x0,0x0,_0x4e931a,_0x4d8784,0x0,0x0,_0x4e931a,_0x4d8784,_0x55658a,_0xc74991['NEAREST']),!0x0===_0x73ff89&&(_0x3d7dbf['length']=0x0,_0x478c8f['length']=0x0,_0x3d7dbf['push'](_0xc74991['COLOR_ATTACHMENT0']+_0xf336a8),_0x4a9e20['depthBuffer']&&!0x1===_0x4a9e20['resolveDepthBuffer']&&(_0x3d7dbf['push'](_0x5ada39),_0x478c8f['push'](_0x5ada39),_0xc74991['invalidateFramebuffer'](_0xc74991['DRAW_FRAMEBUFFER'],_0x478c8f)),_0xc74991['invalidateFramebuffer'](_0xc74991['READ_FRAMEBUFFER'],_0x3d7dbf));}if(_0x114914['bindFramebuffer'](_0xc74991['READ_FRAMEBUFFER'],null),_0x114914['bindFramebuffer'](_0xc74991['DRAW_FRAMEBUFFER'],null),_0x1eea2a)for(let _0x3eb479=0x0;_0x3eb479<_0x26ee1b['length'];_0x3eb479++){_0x114914['bindFramebuffer'](_0xc74991['FRAMEBUFFER'],_0x574bf9['__webglMultisampledFramebuffer']),_0xc74991['framebufferRenderbuffer'](_0xc74991['FRAMEBUFFER'],_0xc74991['COLOR_ATTACHMENT0']+_0x3eb479,_0xc74991['RENDERBUFFER'],_0x574bf9['__webglColorRenderbuffer'][_0x3eb479]);const _0x5e8e69=_0x27694d['get'](_0x26ee1b[_0x3eb479])['__webglTexture'];_0x114914['bindFramebuffer'](_0xc74991['FRAMEBUFFER'],_0x574bf9['__webglFramebuffer']),_0xc74991['framebufferTexture2D'](_0xc74991['DRAW_FRAMEBUFFER'],_0xc74991['COLOR_ATTACHMENT0']+_0x3eb479,_0xc74991['TEXTURE_2D'],_0x5e8e69,0x0);}_0x114914['bindFramebuffer'](_0xc74991['DRAW_FRAMEBUFFER'],_0x574bf9['__webglMultisampledFramebuffer']);}else{if(_0x4a9e20['depthBuffer']&&!0x1===_0x4a9e20['resolveDepthBuffer']&&_0x73ff89){const _0x33a3fc=_0x4a9e20['stencilBuffer']?_0xc74991['DEPTH_STENCIL_ATTACHMENT']:_0xc74991['DEPTH_ATTACHMENT'];_0xc74991['invalidateFramebuffer'](_0xc74991['DRAW_FRAMEBUFFER'],[_0x33a3fc]);}}}},this['setupDepthRenderbuffer']=_0x358afa,this['setupFrameBufferTexture']=_0x57366d,this['useMultisampledRTT']=_0x225d0f;}function _0x47e18b(_0x2ef379,_0x51fbb4){return{'convert':function(_0x4e66e3,_0x22f6a4=_0xfde85b['jf0']){let _0x16a0a4;const _0x21ebb3=_0xfde85b['ppV']['getTransfer'](_0x22f6a4);if(_0x4e66e3===_0xfde85b['OUM'])return _0x2ef379['UNSIGNED_BYTE'];if(_0x4e66e3===_0xfde85b['Wew'])return _0x2ef379['UNSIGNED_SHORT_4_4_4_4'];if(_0x4e66e3===_0xfde85b['gJ2'])return _0x2ef379['UNSIGNED_SHORT_5_5_5_1'];if(_0x4e66e3===_0xfde85b['Dmk'])return _0x2ef379['UNSIGNED_INT_5_9_9_9_REV'];if(_0x4e66e3===_0xfde85b['tJf'])return _0x2ef379['BYTE'];if(_0x4e66e3===_0xfde85b['fBL'])return _0x2ef379['SHORT'];if(_0x4e66e3===_0xfde85b['cHt'])return _0x2ef379['UNSIGNED_SHORT'];if(_0x4e66e3===_0xfde85b['Yuy'])return _0x2ef379['INT'];if(_0x4e66e3===_0xfde85b['bkx'])return _0x2ef379['UNSIGNED_INT'];if(_0x4e66e3===_0xfde85b['RQf'])return _0x2ef379['FLOAT'];if(_0x4e66e3===_0xfde85b['ix0'])return _0x2ef379['HALF_FLOAT'];if(_0x4e66e3===_0xfde85b['wrO'])return _0x2ef379['ALPHA'];if(_0x4e66e3===_0xfde85b['HIg'])return _0x2ef379['RGB'];if(_0x4e66e3===_0xfde85b['GWd'])return _0x2ef379['RGBA'];if(_0x4e66e3===_0xfde85b['Kzv'])return _0x2ef379['LUMINANCE'];if(_0x4e66e3===_0xfde85b['CMB'])return _0x2ef379['LUMINANCE_ALPHA'];if(_0x4e66e3===_0xfde85b['zdS'])return _0x2ef379['DEPTH_COMPONENT'];if(_0x4e66e3===_0xfde85b['dcC'])return _0x2ef379['DEPTH_STENCIL'];if(_0x4e66e3===_0xfde85b['VT0'])return _0x2ef379['RED'];if(_0x4e66e3===_0xfde85b['ZQM'])return _0x2ef379['RED_INTEGER'];if(_0x4e66e3===_0xfde85b['paN'])return _0x2ef379['RG'];if(_0x4e66e3===_0xfde85b['TkQ'])return _0x2ef379['RG_INTEGER'];if(_0x4e66e3===_0xfde85b['c90'])return _0x2ef379['RGBA_INTEGER'];if(_0x4e66e3===_0xfde85b['IE4']||_0x4e66e3===_0xfde85b['Nz6']||_0x4e66e3===_0xfde85b['jR7']||_0x4e66e3===_0xfde85b['BXX']){if(_0x21ebb3===_0xfde85b['KLL']){if(_0x16a0a4=_0x51fbb4['get']('WEBGL_compressed_texture_s3tc_srgb'),null===_0x16a0a4)return null;if(_0x4e66e3===_0xfde85b['IE4'])return _0x16a0a4['COMPRESSED_SRGB_S3TC_DXT1_EXT'];if(_0x4e66e3===_0xfde85b['Nz6'])return _0x16a0a4['COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT'];if(_0x4e66e3===_0xfde85b['jR7'])return _0x16a0a4['COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT'];if(_0x4e66e3===_0xfde85b['BXX'])return _0x16a0a4['COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT'];}else{if(_0x16a0a4=_0x51fbb4['get']('WEBGL_compressed_texture_s3tc'),null===_0x16a0a4)return null;if(_0x4e66e3===_0xfde85b['IE4'])return _0x16a0a4['COMPRESSED_RGB_S3TC_DXT1_EXT'];if(_0x4e66e3===_0xfde85b['Nz6'])return _0x16a0a4['COMPRESSED_RGBA_S3TC_DXT1_EXT'];if(_0x4e66e3===_0xfde85b['jR7'])return _0x16a0a4['COMPRESSED_RGBA_S3TC_DXT3_EXT'];if(_0x4e66e3===_0xfde85b['BXX'])return _0x16a0a4['COMPRESSED_RGBA_S3TC_DXT5_EXT'];}}if(_0x4e66e3===_0xfde85b['k6Q']||_0x4e66e3===_0xfde85b['kTp']||_0x4e66e3===_0xfde85b['HXV']||_0x4e66e3===_0xfde85b['pBf']){if(_0x16a0a4=_0x51fbb4['get']('WEBGL_compressed_texture_pvrtc'),null===_0x16a0a4)return null;if(_0x4e66e3===_0xfde85b['k6Q'])return _0x16a0a4['COMPRESSED_RGB_PVRTC_4BPPV1_IMG'];if(_0x4e66e3===_0xfde85b['kTp'])return _0x16a0a4['COMPRESSED_RGB_PVRTC_2BPPV1_IMG'];if(_0x4e66e3===_0xfde85b['HXV'])return _0x16a0a4['COMPRESSED_RGBA_PVRTC_4BPPV1_IMG'];if(_0x4e66e3===_0xfde85b['pBf'])return _0x16a0a4['COMPRESSED_RGBA_PVRTC_2BPPV1_IMG'];}if(_0x4e66e3===_0xfde85b['CVz']||_0x4e66e3===_0xfde85b['Riy']||_0x4e66e3===_0xfde85b['KDk']){if(_0x16a0a4=_0x51fbb4['get']('WEBGL_compressed_texture_etc'),null===_0x16a0a4)return null;if(_0x4e66e3===_0xfde85b['CVz']||_0x4e66e3===_0xfde85b['Riy'])return _0x21ebb3===_0xfde85b['KLL']?_0x16a0a4['COMPRESSED_SRGB8_ETC2']:_0x16a0a4['COMPRESSED_RGB8_ETC2'];if(_0x4e66e3===_0xfde85b['KDk'])return _0x21ebb3===_0xfde85b['KLL']?_0x16a0a4['COMPRESSED_SRGB8_ALPHA8_ETC2_EAC']:_0x16a0a4['COMPRESSED_RGBA8_ETC2_EAC'];}if(_0x4e66e3===_0xfde85b['qa3']||_0x4e66e3===_0xfde85b['B_h']||_0x4e66e3===_0xfde85b['czI']||_0x4e66e3===_0xfde85b['rSH']||_0x4e66e3===_0xfde85b['Qrf']||_0x4e66e3===_0xfde85b['psI']||_0x4e66e3===_0xfde85b['a5J']||_0x4e66e3===_0xfde85b['_QJ']||_0x4e66e3===_0xfde85b['uB5']||_0x4e66e3===_0xfde85b['lyL']||_0x4e66e3===_0xfde85b['bC7']||_0x4e66e3===_0xfde85b['y3Z']||_0x4e66e3===_0xfde85b['ojs']||_0x4e66e3===_0xfde85b['S$4']){if(_0x16a0a4=_0x51fbb4['get']('WEBGL_compressed_texture_astc'),null===_0x16a0a4)return null;if(_0x4e66e3===_0xfde85b['qa3'])return _0x21ebb3===_0xfde85b['KLL']?_0x16a0a4['COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR']:_0x16a0a4['COMPRESSED_RGBA_ASTC_4x4_KHR'];if(_0x4e66e3===_0xfde85b['B_h'])return _0x21ebb3===_0xfde85b['KLL']?_0x16a0a4['COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR']:_0x16a0a4['COMPRESSED_RGBA_ASTC_5x4_KHR'];if(_0x4e66e3===_0xfde85b['czI'])return _0x21ebb3===_0xfde85b['KLL']?_0x16a0a4['COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR']:_0x16a0a4['COMPRESSED_RGBA_ASTC_5x5_KHR'];if(_0x4e66e3===_0xfde85b['rSH'])return _0x21ebb3===_0xfde85b['KLL']?_0x16a0a4['COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR']:_0x16a0a4['COMPRESSED_RGBA_ASTC_6x5_KHR'];if(_0x4e66e3===_0xfde85b['Qrf'])return _0x21ebb3===_0xfde85b['KLL']?_0x16a0a4['COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR']:_0x16a0a4['COMPRESSED_RGBA_ASTC_6x6_KHR'];if(_0x4e66e3===_0xfde85b['psI'])return _0x21ebb3===_0xfde85b['KLL']?_0x16a0a4['COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR']:_0x16a0a4['COMPRESSED_RGBA_ASTC_8x5_KHR'];if(_0x4e66e3===_0xfde85b['a5J'])return _0x21ebb3===_0xfde85b['KLL']?_0x16a0a4['COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR']:_0x16a0a4['COMPRESSED_RGBA_ASTC_8x6_KHR'];if(_0x4e66e3===_0xfde85b['_QJ'])return _0x21ebb3===_0xfde85b['KLL']?_0x16a0a4['COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR']:_0x16a0a4['COMPRESSED_RGBA_ASTC_8x8_KHR'];if(_0x4e66e3===_0xfde85b['uB5'])return _0x21ebb3===_0xfde85b['KLL']?_0x16a0a4['COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR']:_0x16a0a4['COMPRESSED_RGBA_ASTC_10x5_KHR'];if(_0x4e66e3===_0xfde85b['lyL'])return _0x21ebb3===_0xfde85b['KLL']?_0x16a0a4['COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR']:_0x16a0a4['COMPRESSED_RGBA_ASTC_10x6_KHR'];if(_0x4e66e3===_0xfde85b['bC7'])return _0x21ebb3===_0xfde85b['KLL']?_0x16a0a4['COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR']:_0x16a0a4['COMPRESSED_RGBA_ASTC_10x8_KHR'];if(_0x4e66e3===_0xfde85b['y3Z'])return _0x21ebb3===_0xfde85b['KLL']?_0x16a0a4['COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR']:_0x16a0a4['COMPRESSED_RGBA_ASTC_10x10_KHR'];if(_0x4e66e3===_0xfde85b['ojs'])return _0x21ebb3===_0xfde85b['KLL']?_0x16a0a4['COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR']:_0x16a0a4['COMPRESSED_RGBA_ASTC_12x10_KHR'];if(_0x4e66e3===_0xfde85b['S$4'])return _0x21ebb3===_0xfde85b['KLL']?_0x16a0a4['COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR']:_0x16a0a4['COMPRESSED_RGBA_ASTC_12x12_KHR'];}if(_0x4e66e3===_0xfde85b['Fn']||_0x4e66e3===_0xfde85b['H23']||_0x4e66e3===_0xfde85b['W9U']){if(_0x16a0a4=_0x51fbb4['get']('EXT_texture_compression_bptc'),null===_0x16a0a4)return null;if(_0x4e66e3===_0xfde85b['Fn'])return _0x21ebb3===_0xfde85b['KLL']?_0x16a0a4['COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT']:_0x16a0a4['COMPRESSED_RGBA_BPTC_UNORM_EXT'];if(_0x4e66e3===_0xfde85b['H23'])return _0x16a0a4['COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT'];if(_0x4e66e3===_0xfde85b['W9U'])return _0x16a0a4['COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT'];}if(_0x4e66e3===_0xfde85b['Kef']||_0x4e66e3===_0xfde85b['XG_']||_0x4e66e3===_0xfde85b['HO_']||_0x4e66e3===_0xfde85b['CWW']){if(_0x16a0a4=_0x51fbb4['get']('EXT_texture_compression_rgtc'),null===_0x16a0a4)return null;if(_0x4e66e3===_0xfde85b['Fn'])return _0x16a0a4['COMPRESSED_RED_RGTC1_EXT'];if(_0x4e66e3===_0xfde85b['XG_'])return _0x16a0a4['COMPRESSED_SIGNED_RED_RGTC1_EXT'];if(_0x4e66e3===_0xfde85b['HO_'])return _0x16a0a4['COMPRESSED_RED_GREEN_RGTC2_EXT'];if(_0x4e66e3===_0xfde85b['CWW'])return _0x16a0a4['COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT'];}return _0x4e66e3===_0xfde85b['V3x']?_0x2ef379['UNSIGNED_INT_24_8']:void 0x0!==_0x2ef379[_0x4e66e3]?_0x2ef379[_0x4e66e3]:null;}};}const _0xc985ba={'type':'move'};class _0xd64b1{constructor(){this['_targetRay']=null,this['_grip']=null,this['_hand']=null;}['getHandSpace'](){return null===this['_hand']&&(this['_hand']=new _0xfde85b['YJl'](),this['_hand']['matrixAutoUpdate']=!0x1,this['_hand']['visible']=!0x1,this['_hand']['joints']={},this['_hand']['inputState']={'pinching':!0x1}),this['_hand'];}['getTargetRaySpace'](){return null===this['_targetRay']&&(this['_targetRay']=new _0xfde85b['YJl'](),this['_targetRay']['matrixAutoUpdate']=!0x1,this['_targetRay']['visible']=!0x1,this['_targetRay']['hasLinearVelocity']=!0x1,this['_targetRay']['linearVelocity']=new _0xfde85b['Pq0'](),this['_targetRay']['hasAngularVelocity']=!0x1,this['_targetRay']['angularVelocity']=new _0xfde85b['Pq0']()),this['_targetRay'];}['getGripSpace'](){return null===this['_grip']&&(this['_grip']=new _0xfde85b['YJl'](),this['_grip']['matrixAutoUpdate']=!0x1,this['_grip']['visible']=!0x1,this['_grip']['hasLinearVelocity']=!0x1,this['_grip']['linearVelocity']=new _0xfde85b['Pq0'](),this['_grip']['hasAngularVelocity']=!0x1,this['_grip']['angularVelocity']=new _0xfde85b['Pq0']()),this['_grip'];}['dispatchEvent'](_0x22cc1d){return null!==this['_targetRay']&&this['_targetRay']['dispatchEvent'](_0x22cc1d),null!==this['_grip']&&this['_grip']['dispatchEvent'](_0x22cc1d),null!==this['_hand']&&this['_hand']['dispatchEvent'](_0x22cc1d),this;}['connect'](_0x1f6210){if(_0x1f6210&&_0x1f6210['hand']){const _0x5c7d6e=this['_hand'];if(_0x5c7d6e){for(const _0x125a7e of _0x1f6210['hand']['values']())this['_getHandJoint'](_0x5c7d6e,_0x125a7e);}}return this['dispatchEvent']({'type':'connected','data':_0x1f6210}),this;}['disconnect'](_0x3e0cf5){return this['dispatchEvent']({'type':'disconnected','data':_0x3e0cf5}),null!==this['_targetRay']&&(this['_targetRay']['visible']=!0x1),null!==this['_grip']&&(this['_grip']['visible']=!0x1),null!==this['_hand']&&(this['_hand']['visible']=!0x1),this;}['update'](_0x45880d,_0x1c69ed,_0x97b558){let _0x5cc9cc=null,_0x799715=null,_0x2c7e48=null;const _0x158c61=this['_targetRay'],_0x174790=this['_grip'],_0x32cf40=this['_hand'];if(_0x45880d&&'visible-blurred'!==_0x1c69ed['session']['visibilityState']){if(_0x32cf40&&_0x45880d['hand']){_0x2c7e48=!0x0;for(const _0x4c13e2 of _0x45880d['hand']['values']()){const _0x178336=_0x1c69ed['getJointPose'](_0x4c13e2,_0x97b558),_0x4c4631=this['_getHandJoint'](_0x32cf40,_0x4c13e2);null!==_0x178336&&(_0x4c4631['matrix']['fromArray'](_0x178336['transform']['matrix']),_0x4c4631['matrix']['decompose'](_0x4c4631['position'],_0x4c4631['rotation'],_0x4c4631['scale']),_0x4c4631['matrixWorldNeedsUpdate']=!0x0,_0x4c4631['jointRadius']=_0x178336['radius']),_0x4c4631['visible']=null!==_0x178336;}const _0x16152f=_0x32cf40['joints']['index-finger-tip'],_0x3e15e2=_0x32cf40['joints']['thumb-tip'],_0x47efc7=_0x16152f['position']['distanceTo'](_0x3e15e2['position']),_0x3a0834=0.02,_0x73e2b2=0.005;_0x32cf40['inputState']['pinching']&&_0x47efc7>_0x3a0834+_0x73e2b2?(_0x32cf40['inputState']['pinching']=!0x1,this['dispatchEvent']({'type':'pinchend','handedness':_0x45880d['handedness'],'target':this})):!_0x32cf40['inputState']['pinching']&&_0x47efc7<=_0x3a0834-_0x73e2b2&&(_0x32cf40['inputState']['pinching']=!0x0,this['dispatchEvent']({'type':'pinchstart','handedness':_0x45880d['handedness'],'target':this}));}else null!==_0x174790&&_0x45880d['gripSpace']&&(_0x799715=_0x1c69ed['getPose'](_0x45880d['gripSpace'],_0x97b558),null!==_0x799715&&(_0x174790['matrix']['fromArray'](_0x799715['transform']['matrix']),_0x174790['matrix']['decompose'](_0x174790['position'],_0x174790['rotation'],_0x174790['scale']),_0x174790['matrixWorldNeedsUpdate']=!0x0,_0x799715['linearVelocity']?(_0x174790['hasLinearVelocity']=!0x0,_0x174790['linearVelocity']['copy'](_0x799715['linearVelocity'])):_0x174790['hasLinearVelocity']=!0x1,_0x799715['angularVelocity']?(_0x174790['hasAngularVelocity']=!0x0,_0x174790['angularVelocity']['copy'](_0x799715['angularVelocity'])):_0x174790['hasAngularVelocity']=!0x1));null!==_0x158c61&&(_0x5cc9cc=_0x1c69ed['getPose'](_0x45880d['targetRaySpace'],_0x97b558),null===_0x5cc9cc&&null!==_0x799715&&(_0x5cc9cc=_0x799715),null!==_0x5cc9cc&&(_0x158c61['matrix']['fromArray'](_0x5cc9cc['transform']['matrix']),_0x158c61['matrix']['decompose'](_0x158c61['position'],_0x158c61['rotation'],_0x158c61['scale']),_0x158c61['matrixWorldNeedsUpdate']=!0x0,_0x5cc9cc['linearVelocity']?(_0x158c61['hasLinearVelocity']=!0x0,_0x158c61['linearVelocity']['copy'](_0x5cc9cc['linearVelocity'])):_0x158c61['hasLinearVelocity']=!0x1,_0x5cc9cc['angularVelocity']?(_0x158c61['hasAngularVelocity']=!0x0,_0x158c61['angularVelocity']['copy'](_0x5cc9cc['angularVelocity'])):_0x158c61['hasAngularVelocity']=!0x1,this['dispatchEvent'](_0xc985ba)));}return null!==_0x158c61&&(_0x158c61['visible']=null!==_0x5cc9cc),null!==_0x174790&&(_0x174790['visible']=null!==_0x799715),null!==_0x32cf40&&(_0x32cf40['visible']=null!==_0x2c7e48),this;}['_getHandJoint'](_0x3358c7,_0x3981a1){if(void 0x0===_0x3358c7['joints'][_0x3981a1['jointName']]){const _0x53c669=new _0xfde85b['YJl']();_0x53c669['matrixAutoUpdate']=!0x1,_0x53c669['visible']=!0x1,_0x3358c7['joints'][_0x3981a1['jointName']]=_0x53c669,_0x3358c7['add'](_0x53c669);}return _0x3358c7['joints'][_0x3981a1['jointName']];}}class _0x5588ed{constructor(){this['texture']=null,this['mesh']=null,this['depthNear']=0x0,this['depthFar']=0x0;}['init'](_0x2bf311,_0x3f8087,_0x59027e){if(null===this['texture']){const _0x2f1391=new _0xfde85b['gPd']();_0x2bf311['properties']['get'](_0x2f1391)['__webglTexture']=_0x3f8087['texture'],_0x3f8087['depthNear']===_0x59027e['depthNear']&&_0x3f8087['depthFar']===_0x59027e['depthFar']||(this['depthNear']=_0x3f8087['depthNear'],this['depthFar']=_0x3f8087['depthFar']),this['texture']=_0x2f1391;}}['getMesh'](_0x526b3a){if(null!==this['texture']&&null===this['mesh']){const _0x362da5=_0x526b3a['cameras'][0x0]['viewport'],_0xdb088a=new _0xfde85b['BKk']({'vertexShader':'\x0avoid\x20main()\x20{\x0a\x0a\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x0a}','fragmentShader':'\x0auniform\x20sampler2DArray\x20depthColor;\x0auniform\x20float\x20depthWidth;\x0auniform\x20float\x20depthHeight;\x0a\x0avoid\x20main()\x20{\x0a\x0a\x09vec2\x20coord\x20=\x20vec2(\x20gl_FragCoord.x\x20/\x20depthWidth,\x20gl_FragCoord.y\x20/\x20depthHeight\x20);\x0a\x0a\x09if\x20(\x20coord.x\x20>=\x201.0\x20)\x20{\x0a\x0a\x09\x09gl_FragDepth\x20=\x20texture(\x20depthColor,\x20vec3(\x20coord.x\x20-\x201.0,\x20coord.y,\x201\x20)\x20).r;\x0a\x0a\x09}\x20else\x20{\x0a\x0a\x09\x09gl_FragDepth\x20=\x20texture(\x20depthColor,\x20vec3(\x20coord.x,\x20coord.y,\x200\x20)\x20).r;\x0a\x0a\x09}\x0a\x0a}','uniforms':{'depthColor':{'value':this['texture']},'depthWidth':{'value':_0x362da5['z']},'depthHeight':{'value':_0x362da5['w']}}});this['mesh']=new _0xfde85b['eaF'](new _0xfde85b['bdM'](0x14,0x14),_0xdb088a);}return this['mesh'];}['reset'](){this['texture']=null,this['mesh']=null;}['getDepthTexture'](){return this['texture'];}}class _0xf1291 extends _0xfde85b['Qev']{constructor(_0x875921,_0x51badf){super();const _0xd87429=this;let _0x38770a=null,_0x3ea6be=0x1,_0x3625f9=null,_0x20d925='local-floor',_0xb0bc6b=0x1,_0x137a32=null,_0xf048a=null,_0x566917=null,_0x4cf0f2=null,_0x95c66f=null,_0x1201ec=null;const _0x5874b4=new _0x5588ed(),_0x3944ab=_0x51badf['getContextAttributes']();let _0x10fd06=null,_0x1b29c0=null;const _0x1a729d=[],_0x4f5e0b=[],_0x4a7471=new _0xfde85b['I9Y']();let _0x4b0aed=null;const _0x36bc01=new _0xfde85b['ubm']();_0x36bc01['viewport']=new _0xfde85b['IUQ']();const _0x55d0c7=new _0xfde85b['ubm']();_0x55d0c7['viewport']=new _0xfde85b['IUQ']();const _0x477cf2=[_0x36bc01,_0x55d0c7],_0x4a858e=new _0xfde85b['nZQ']();let _0x1a0761=null,_0x52d6ad=null;function _0x3e6ed0(_0xa663d4){const _0x3607a4=_0x4f5e0b['indexOf'](_0xa663d4['inputSource']);if(-0x1===_0x3607a4)return;const _0xdc0860=_0x1a729d[_0x3607a4];void 0x0!==_0xdc0860&&(_0xdc0860['update'](_0xa663d4['inputSource'],_0xa663d4['frame'],_0x137a32||_0x3625f9),_0xdc0860['dispatchEvent']({'type':_0xa663d4['type'],'data':_0xa663d4['inputSource']}));}function _0x4123be(){_0x38770a['removeEventListener']('select',_0x3e6ed0),_0x38770a['removeEventListener']('selectstart',_0x3e6ed0),_0x38770a['removeEventListener']('selectend',_0x3e6ed0),_0x38770a['removeEventListener']('squeeze',_0x3e6ed0),_0x38770a['removeEventListener']('squeezestart',_0x3e6ed0),_0x38770a['removeEventListener']('squeezeend',_0x3e6ed0),_0x38770a['removeEventListener']('end',_0x4123be),_0x38770a['removeEventListener']('inputsourceschange',_0x23ed21);for(let _0x5b1571=0x0;_0x5b1571<_0x1a729d['length'];_0x5b1571++){const _0x281993=_0x4f5e0b[_0x5b1571];null!==_0x281993&&(_0x4f5e0b[_0x5b1571]=null,_0x1a729d[_0x5b1571]['disconnect'](_0x281993));}_0x1a0761=null,_0x52d6ad=null,_0x5874b4['reset'](),_0x875921['setRenderTarget'](_0x10fd06),_0x95c66f=null,_0x4cf0f2=null,_0x566917=null,_0x38770a=null,_0x1b29c0=null,_0x578144['stop'](),_0xd87429['isPresenting']=!0x1,_0x875921['setPixelRatio'](_0x4b0aed),_0x875921['setSize'](_0x4a7471['width'],_0x4a7471['height'],!0x1),_0xd87429['dispatchEvent']({'type':'sessionend'});}function _0x23ed21(_0x3805ba){for(let _0x445c34=0x0;_0x445c34<_0x3805ba['removed']['length'];_0x445c34++){const _0x481d81=_0x3805ba['removed'][_0x445c34],_0x296847=_0x4f5e0b['indexOf'](_0x481d81);_0x296847>=0x0&&(_0x4f5e0b[_0x296847]=null,_0x1a729d[_0x296847]['disconnect'](_0x481d81));}for(let _0x26db81=0x0;_0x26db81<_0x3805ba['added']['length'];_0x26db81++){const _0x384279=_0x3805ba['added'][_0x26db81];let _0x27c43e=_0x4f5e0b['indexOf'](_0x384279);if(-0x1===_0x27c43e){for(let _0x31afe1=0x0;_0x31afe1<_0x1a729d['length'];_0x31afe1++){if(_0x31afe1>=_0x4f5e0b['length']){_0x4f5e0b['push'](_0x384279),_0x27c43e=_0x31afe1;break;}if(null===_0x4f5e0b[_0x31afe1]){_0x4f5e0b[_0x31afe1]=_0x384279,_0x27c43e=_0x31afe1;break;}}if(-0x1===_0x27c43e)break;}const _0x37639b=_0x1a729d[_0x27c43e];_0x37639b&&_0x37639b['connect'](_0x384279);}}this['cameraAutoUpdate']=!0x0,this['enabled']=!0x1,this['isPresenting']=!0x1,this['getController']=function(_0x1399e4){let _0x5437e6=_0x1a729d[_0x1399e4];return void 0x0===_0x5437e6&&(_0x5437e6=new _0xd64b1(),_0x1a729d[_0x1399e4]=_0x5437e6),_0x5437e6['getTargetRaySpace']();},this['getControllerGrip']=function(_0x360a0d){let _0x12bed4=_0x1a729d[_0x360a0d];return void 0x0===_0x12bed4&&(_0x12bed4=new _0xd64b1(),_0x1a729d[_0x360a0d]=_0x12bed4),_0x12bed4['getGripSpace']();},this['getHand']=function(_0x572f){let _0x170e7f=_0x1a729d[_0x572f];return void 0x0===_0x170e7f&&(_0x170e7f=new _0xd64b1(),_0x1a729d[_0x572f]=_0x170e7f),_0x170e7f['getHandSpace']();},this['setFramebufferScaleFactor']=function(_0x2ef20d){_0x3ea6be=_0x2ef20d,!0x0===_0xd87429['isPresenting']&&console['warn']('THREE.WebXRManager:\x20Cannot\x20change\x20framebuffer\x20scale\x20while\x20presenting.');},this['setReferenceSpaceType']=function(_0x40312a){_0x20d925=_0x40312a,!0x0===_0xd87429['isPresenting']&&console['warn']('THREE.WebXRManager:\x20Cannot\x20change\x20reference\x20space\x20type\x20while\x20presenting.');},this['getReferenceSpace']=function(){return _0x137a32||_0x3625f9;},this['setReferenceSpace']=function(_0x555ae7){_0x137a32=_0x555ae7;},this['getBaseLayer']=function(){return null!==_0x4cf0f2?_0x4cf0f2:_0x95c66f;},this['getBinding']=function(){return _0x566917;},this['getFrame']=function(){return _0x1201ec;},this['getSession']=function(){return _0x38770a;},this['setSession']=async function(_0x17cbd5){if(_0x38770a=_0x17cbd5,null!==_0x38770a){_0x10fd06=_0x875921['getRenderTarget'](),_0x38770a['addEventListener']('select',_0x3e6ed0),_0x38770a['addEventListener']('selectstart',_0x3e6ed0),_0x38770a['addEventListener']('selectend',_0x3e6ed0),_0x38770a['addEventListener']('squeeze',_0x3e6ed0),_0x38770a['addEventListener']('squeezestart',_0x3e6ed0),_0x38770a['addEventListener']('squeezeend',_0x3e6ed0),_0x38770a['addEventListener']('end',_0x4123be),_0x38770a['addEventListener']('inputsourceschange',_0x23ed21),!0x0!==_0x3944ab['xrCompatible']&&await _0x51badf['makeXRCompatible'](),_0x4b0aed=_0x875921['getPixelRatio'](),_0x875921['getSize'](_0x4a7471);if(void 0x0!==_0x38770a['enabledFeatures']&&_0x38770a['enabledFeatures']['includes']('layers')){let _0x182e81=null,_0x28854e=null,_0x33d250=null;_0x3944ab['depth']&&(_0x33d250=_0x3944ab['stencil']?_0x51badf['DEPTH24_STENCIL8']:_0x51badf['DEPTH_COMPONENT24'],_0x182e81=_0x3944ab['stencil']?_0xfde85b['dcC']:_0xfde85b['zdS'],_0x28854e=_0x3944ab['stencil']?_0xfde85b['V3x']:_0xfde85b['bkx']);const _0x4f0de7={'colorFormat':_0x51badf['RGBA8'],'depthFormat':_0x33d250,'scaleFactor':_0x3ea6be};_0x566917=new XRWebGLBinding(_0x38770a,_0x51badf),_0x4cf0f2=_0x566917['createProjectionLayer'](_0x4f0de7),_0x38770a['updateRenderState']({'layers':[_0x4cf0f2]}),_0x875921['setPixelRatio'](0x1),_0x875921['setSize'](_0x4cf0f2['textureWidth'],_0x4cf0f2['textureHeight'],!0x1),_0x1b29c0=new _0xfde85b['nWS'](_0x4cf0f2['textureWidth'],_0x4cf0f2['textureHeight'],{'format':_0xfde85b['GWd'],'type':_0xfde85b['OUM'],'depthTexture':new _0xfde85b['VCu'](_0x4cf0f2['textureWidth'],_0x4cf0f2['textureHeight'],_0x28854e,void 0x0,void 0x0,void 0x0,void 0x0,void 0x0,void 0x0,_0x182e81),'stencilBuffer':_0x3944ab['stencil'],'colorSpace':_0x875921['outputColorSpace'],'samples':_0x3944ab['antialias']?0x4:0x0,'resolveDepthBuffer':!0x1===_0x4cf0f2['ignoreDepthValues']});}else{const _0x69943b={'antialias':_0x3944ab['antialias'],'alpha':!0x0,'depth':_0x3944ab['depth'],'stencil':_0x3944ab['stencil'],'framebufferScaleFactor':_0x3ea6be};_0x95c66f=new XRWebGLLayer(_0x38770a,_0x51badf,_0x69943b),_0x38770a['updateRenderState']({'baseLayer':_0x95c66f}),_0x875921['setPixelRatio'](0x1),_0x875921['setSize'](_0x95c66f['framebufferWidth'],_0x95c66f['framebufferHeight'],!0x1),_0x1b29c0=new _0xfde85b['nWS'](_0x95c66f['framebufferWidth'],_0x95c66f['framebufferHeight'],{'format':_0xfde85b['GWd'],'type':_0xfde85b['OUM'],'colorSpace':_0x875921['outputColorSpace'],'stencilBuffer':_0x3944ab['stencil']});}_0x1b29c0['isXRRenderTarget']=!0x0,this['setFoveation'](_0xb0bc6b),_0x137a32=null,_0x3625f9=await _0x38770a['requestReferenceSpace'](_0x20d925),_0x578144['setContext'](_0x38770a),_0x578144['start'](),_0xd87429['isPresenting']=!0x0,_0xd87429['dispatchEvent']({'type':'sessionstart'});}},this['getEnvironmentBlendMode']=function(){if(null!==_0x38770a)return _0x38770a['environmentBlendMode'];},this['getDepthTexture']=function(){return _0x5874b4['getDepthTexture']();};const _0xe2571=new _0xfde85b['Pq0'](),_0x5b3fae=new _0xfde85b['Pq0']();function _0x23dff5(_0x52eea5,_0x286fdb){null===_0x286fdb?_0x52eea5['matrixWorld']['copy'](_0x52eea5['matrix']):_0x52eea5['matrixWorld']['multiplyMatrices'](_0x286fdb['matrixWorld'],_0x52eea5['matrix']),_0x52eea5['matrixWorldInverse']['copy'](_0x52eea5['matrixWorld'])['invert']();}this['updateCamera']=function(_0x3b3629){if(null===_0x38770a)return;let _0x50673f=_0x3b3629['near'],_0x5c21df=_0x3b3629['far'];null!==_0x5874b4['texture']&&(_0x5874b4['depthNear']>0x0&&(_0x50673f=_0x5874b4['depthNear']),_0x5874b4['depthFar']>0x0&&(_0x5c21df=_0x5874b4['depthFar'])),_0x4a858e['near']=_0x55d0c7['near']=_0x36bc01['near']=_0x50673f,_0x4a858e['far']=_0x55d0c7['far']=_0x36bc01['far']=_0x5c21df,_0x1a0761===_0x4a858e['near']&&_0x52d6ad===_0x4a858e['far']||(_0x38770a['updateRenderState']({'depthNear':_0x4a858e['near'],'depthFar':_0x4a858e['far']}),_0x1a0761=_0x4a858e['near'],_0x52d6ad=_0x4a858e['far']),_0x36bc01['layers']['mask']=0x2|_0x3b3629['layers']['mask'],_0x55d0c7['layers']['mask']=0x4|_0x3b3629['layers']['mask'],_0x4a858e['layers']['mask']=_0x36bc01['layers']['mask']|_0x55d0c7['layers']['mask'];const _0x34a304=_0x3b3629['parent'],_0x3009b0=_0x4a858e['cameras'];_0x23dff5(_0x4a858e,_0x34a304);for(let _0x5e87df=0x0;_0x5e87df<_0x3009b0['length'];_0x5e87df++)_0x23dff5(_0x3009b0[_0x5e87df],_0x34a304);0x2===_0x3009b0['length']?function(_0x104b7e,_0x3097b3,_0x42f0b3){_0xe2571['setFromMatrixPosition'](_0x3097b3['matrixWorld']),_0x5b3fae['setFromMatrixPosition'](_0x42f0b3['matrixWorld']);const _0x33b84d=_0xe2571['distanceTo'](_0x5b3fae),_0x2e52cd=_0x3097b3['projectionMatrix']['elements'],_0x56ecd5=_0x42f0b3['projectionMatrix']['elements'],_0x976e1a=_0x2e52cd[0xe]/(_0x2e52cd[0xa]-0x1),_0x27ea50=_0x2e52cd[0xe]/(_0x2e52cd[0xa]+0x1),_0x4c71e6=(_0x2e52cd[0x9]+0x1)/_0x2e52cd[0x5],_0x1dbfe3=(_0x2e52cd[0x9]-0x1)/_0x2e52cd[0x5],_0x5b4889=(_0x2e52cd[0x8]-0x1)/_0x2e52cd[0x0],_0x2f294c=(_0x56ecd5[0x8]+0x1)/_0x56ecd5[0x0],_0x5589ce=_0x976e1a*_0x5b4889,_0x55d481=_0x976e1a*_0x2f294c,_0x19d877=_0x33b84d/(-_0x5b4889+_0x2f294c),_0xef5102=_0x19d877*-_0x5b4889;if(_0x3097b3['matrixWorld']['decompose'](_0x104b7e['position'],_0x104b7e['quaternion'],_0x104b7e['scale']),_0x104b7e['translateX'](_0xef5102),_0x104b7e['translateZ'](_0x19d877),_0x104b7e['matrixWorld']['compose'](_0x104b7e['position'],_0x104b7e['quaternion'],_0x104b7e['scale']),_0x104b7e['matrixWorldInverse']['copy'](_0x104b7e['matrixWorld'])['invert'](),-0x1===_0x2e52cd[0xa])_0x104b7e['projectionMatrix']['copy'](_0x3097b3['projectionMatrix']),_0x104b7e['projectionMatrixInverse']['copy'](_0x3097b3['projectionMatrixInverse']);else{const _0x1142c1=_0x976e1a+_0x19d877,_0x27e6f2=_0x27ea50+_0x19d877,_0x35c092=_0x5589ce-_0xef5102,_0x25db4f=_0x55d481+(_0x33b84d-_0xef5102),_0x273920=_0x4c71e6*_0x27ea50/_0x27e6f2*_0x1142c1,_0x57c91b=_0x1dbfe3*_0x27ea50/_0x27e6f2*_0x1142c1;_0x104b7e['projectionMatrix']['makePerspective'](_0x35c092,_0x25db4f,_0x273920,_0x57c91b,_0x1142c1,_0x27e6f2),_0x104b7e['projectionMatrixInverse']['copy'](_0x104b7e['projectionMatrix'])['invert']();}}(_0x4a858e,_0x36bc01,_0x55d0c7):_0x4a858e['projectionMatrix']['copy'](_0x36bc01['projectionMatrix']),function(_0x4873f0,_0x1df37c,_0x1c80f9){null===_0x1c80f9?_0x4873f0['matrix']['copy'](_0x1df37c['matrixWorld']):(_0x4873f0['matrix']['copy'](_0x1c80f9['matrixWorld']),_0x4873f0['matrix']['invert'](),_0x4873f0['matrix']['multiply'](_0x1df37c['matrixWorld'])),(_0x4873f0['matrix']['decompose'](_0x4873f0['position'],_0x4873f0['quaternion'],_0x4873f0['scale']),_0x4873f0['updateMatrixWorld'](!0x0),_0x4873f0['projectionMatrix']['copy'](_0x1df37c['projectionMatrix']),_0x4873f0['projectionMatrixInverse']['copy'](_0x1df37c['projectionMatrixInverse']),_0x4873f0['isPerspectiveCamera']&&(_0x4873f0['fov']=0x2*_0xfde85b['a55']*Math['atan'](0x1/_0x4873f0['projectionMatrix']['elements'][0x5]),_0x4873f0['zoom']=0x1));}(_0x3b3629,_0x4a858e,_0x34a304);},this['getCamera']=function(){return _0x4a858e;},this['getFoveation']=function(){if(null!==_0x4cf0f2||null!==_0x95c66f)return _0xb0bc6b;},this['setFoveation']=function(_0x207c1a){_0xb0bc6b=_0x207c1a,null!==_0x4cf0f2&&(_0x4cf0f2['fixedFoveation']=_0x207c1a),null!==_0x95c66f&&void 0x0!==_0x95c66f['fixedFoveation']&&(_0x95c66f['fixedFoveation']=_0x207c1a);},this['hasDepthSensing']=function(){return null!==_0x5874b4['texture'];},this['getDepthSensingMesh']=function(){return _0x5874b4['getMesh'](_0x4a858e);};let _0x14298d=null;const _0x578144=new _0x574016();_0x578144['setAnimationLoop'](function(_0x1362b7,_0x3c8515){if(_0xf048a=_0x3c8515['getViewerPose'](_0x137a32||_0x3625f9),_0x1201ec=_0x3c8515,null!==_0xf048a){const _0x2f277b=_0xf048a['views'];null!==_0x95c66f&&(_0x875921['setRenderTargetFramebuffer'](_0x1b29c0,_0x95c66f['framebuffer']),_0x875921['setRenderTarget'](_0x1b29c0));let _0xba632f=!0x1;_0x2f277b['length']!==_0x4a858e['cameras']['length']&&(_0x4a858e['cameras']['length']=0x0,_0xba632f=!0x0);for(let _0x336fb8=0x0;_0x336fb8<_0x2f277b['length'];_0x336fb8++){const _0x3f0f21=_0x2f277b[_0x336fb8];let _0x5858b1=null;if(null!==_0x95c66f)_0x5858b1=_0x95c66f['getViewport'](_0x3f0f21);else{const _0x4fdd9=_0x566917['getViewSubImage'](_0x4cf0f2,_0x3f0f21);_0x5858b1=_0x4fdd9['viewport'],0x0===_0x336fb8&&(_0x875921['setRenderTargetTextures'](_0x1b29c0,_0x4fdd9['colorTexture'],_0x4cf0f2['ignoreDepthValues']?void 0x0:_0x4fdd9['depthStencilTexture']),_0x875921['setRenderTarget'](_0x1b29c0));}let _0x154971=_0x477cf2[_0x336fb8];void 0x0===_0x154971&&(_0x154971=new _0xfde85b['ubm'](),_0x154971['layers']['enable'](_0x336fb8),_0x154971['viewport']=new _0xfde85b['IUQ'](),_0x477cf2[_0x336fb8]=_0x154971),_0x154971['matrix']['fromArray'](_0x3f0f21['transform']['matrix']),_0x154971['matrix']['decompose'](_0x154971['position'],_0x154971['quaternion'],_0x154971['scale']),_0x154971['projectionMatrix']['fromArray'](_0x3f0f21['projectionMatrix']),_0x154971['projectionMatrixInverse']['copy'](_0x154971['projectionMatrix'])['invert'](),_0x154971['viewport']['set'](_0x5858b1['x'],_0x5858b1['y'],_0x5858b1['width'],_0x5858b1['height']),0x0===_0x336fb8&&(_0x4a858e['matrix']['copy'](_0x154971['matrix']),_0x4a858e['matrix']['decompose'](_0x4a858e['position'],_0x4a858e['quaternion'],_0x4a858e['scale'])),!0x0===_0xba632f&&_0x4a858e['cameras']['push'](_0x154971);}const _0x4c5227=_0x38770a['enabledFeatures'];if(_0x4c5227&&_0x4c5227['includes']('depth-sensing')){const _0x311b17=_0x566917['getDepthInformation'](_0x2f277b[0x0]);_0x311b17&&_0x311b17['isValid']&&_0x311b17['texture']&&_0x5874b4['init'](_0x875921,_0x311b17,_0x38770a['renderState']);}}for(let _0x3bdfda=0x0;_0x3bdfda<_0x1a729d['length'];_0x3bdfda++){const _0x18b97c=_0x4f5e0b[_0x3bdfda],_0x3e5822=_0x1a729d[_0x3bdfda];null!==_0x18b97c&&void 0x0!==_0x3e5822&&_0x3e5822['update'](_0x18b97c,_0x3c8515,_0x137a32||_0x3625f9);}_0x14298d&&_0x14298d(_0x1362b7,_0x3c8515),_0x3c8515['detectedPlanes']&&_0xd87429['dispatchEvent']({'type':'planesdetected','data':_0x3c8515}),_0x1201ec=null;}),this['setAnimationLoop']=function(_0x2f73d8){_0x14298d=_0x2f73d8;},this['dispose']=function(){};}}const _0x115a88=new _0xfde85b['O9p'](),_0x442d1f=new _0xfde85b['kn4']();function _0x3ab8f2(_0x27df0f,_0x4076d9){function _0x2bb2b3(_0x351a9d,_0x4cfebc){!0x0===_0x351a9d['matrixAutoUpdate']&&_0x351a9d['updateMatrix'](),_0x4cfebc['value']['copy'](_0x351a9d['matrix']);}function _0x59f06f(_0x527aa6,_0x30b172){_0x527aa6['opacity']['value']=_0x30b172['opacity'],_0x30b172['color']&&_0x527aa6['diffuse']['value']['copy'](_0x30b172['color']),_0x30b172['emissive']&&_0x527aa6['emissive']['value']['copy'](_0x30b172['emissive'])['multiplyScalar'](_0x30b172['emissiveIntensity']),_0x30b172['map']&&(_0x527aa6['map']['value']=_0x30b172['map'],_0x2bb2b3(_0x30b172['map'],_0x527aa6['mapTransform'])),_0x30b172['alphaMap']&&(_0x527aa6['alphaMap']['value']=_0x30b172['alphaMap'],_0x2bb2b3(_0x30b172['alphaMap'],_0x527aa6['alphaMapTransform'])),_0x30b172['bumpMap']&&(_0x527aa6['bumpMap']['value']=_0x30b172['bumpMap'],_0x2bb2b3(_0x30b172['bumpMap'],_0x527aa6['bumpMapTransform']),_0x527aa6['bumpScale']['value']=_0x30b172['bumpScale'],_0x30b172['side']===_0xfde85b['hsX']&&(_0x527aa6['bumpScale']['value']*=-0x1)),_0x30b172['normalMap']&&(_0x527aa6['normalMap']['value']=_0x30b172['normalMap'],_0x2bb2b3(_0x30b172['normalMap'],_0x527aa6['normalMapTransform']),_0x527aa6['normalScale']['value']['copy'](_0x30b172['normalScale']),_0x30b172['side']===_0xfde85b['hsX']&&_0x527aa6['normalScale']['value']['negate']()),_0x30b172['displacementMap']&&(_0x527aa6['displacementMap']['value']=_0x30b172['displacementMap'],_0x2bb2b3(_0x30b172['displacementMap'],_0x527aa6['displacementMapTransform']),_0x527aa6['displacementScale']['value']=_0x30b172['displacementScale'],_0x527aa6['displacementBias']['value']=_0x30b172['displacementBias']),_0x30b172['emissiveMap']&&(_0x527aa6['emissiveMap']['value']=_0x30b172['emissiveMap'],_0x2bb2b3(_0x30b172['emissiveMap'],_0x527aa6['emissiveMapTransform'])),_0x30b172['specularMap']&&(_0x527aa6['specularMap']['value']=_0x30b172['specularMap'],_0x2bb2b3(_0x30b172['specularMap'],_0x527aa6['specularMapTransform'])),_0x30b172['alphaTest']>0x0&&(_0x527aa6['alphaTest']['value']=_0x30b172['alphaTest']);const _0x5a1e5f=_0x4076d9['get'](_0x30b172),_0x3a4aad=_0x5a1e5f['envMap'],_0x566c89=_0x5a1e5f['envMapRotation'];_0x3a4aad&&(_0x527aa6['envMap']['value']=_0x3a4aad,_0x115a88['copy'](_0x566c89),_0x115a88['x']*=-0x1,_0x115a88['y']*=-0x1,_0x115a88['z']*=-0x1,_0x3a4aad['isCubeTexture']&&!0x1===_0x3a4aad['isRenderTargetTexture']&&(_0x115a88['y']*=-0x1,_0x115a88['z']*=-0x1),_0x527aa6['envMapRotation']['value']['setFromMatrix4'](_0x442d1f['makeRotationFromEuler'](_0x115a88)),_0x527aa6['flipEnvMap']['value']=_0x3a4aad['isCubeTexture']&&!0x1===_0x3a4aad['isRenderTargetTexture']?-0x1:0x1,_0x527aa6['reflectivity']['value']=_0x30b172['reflectivity'],_0x527aa6['ior']['value']=_0x30b172['ior'],_0x527aa6['refractionRatio']['value']=_0x30b172['refractionRatio']),_0x30b172['lightMap']&&(_0x527aa6['lightMap']['value']=_0x30b172['lightMap'],_0x527aa6['lightMapIntensity']['value']=_0x30b172['lightMapIntensity'],_0x2bb2b3(_0x30b172['lightMap'],_0x527aa6['lightMapTransform'])),_0x30b172['aoMap']&&(_0x527aa6['aoMap']['value']=_0x30b172['aoMap'],_0x527aa6['aoMapIntensity']['value']=_0x30b172['aoMapIntensity'],_0x2bb2b3(_0x30b172['aoMap'],_0x527aa6['aoMapTransform']));}return{'refreshFogUniforms':function(_0x551af0,_0x55443a){_0x55443a['color']['getRGB'](_0x551af0['fogColor']['value'],(0x0,_0xfde85b['_Ut'])(_0x27df0f)),_0x55443a['isFog']?(_0x551af0['fogNear']['value']=_0x55443a['near'],_0x551af0['fogFar']['value']=_0x55443a['far']):_0x55443a['isFogExp2']&&(_0x551af0['fogDensity']['value']=_0x55443a['density']);},'refreshMaterialUniforms':function(_0x1b664f,_0x83b69,_0x5822ee,_0x110209,_0x5536d3){_0x83b69['isMeshBasicMaterial']||_0x83b69['isMeshLambertMaterial']?_0x59f06f(_0x1b664f,_0x83b69):_0x83b69['isMeshToonMaterial']?(_0x59f06f(_0x1b664f,_0x83b69),function(_0x3335f4,_0x10faf3){_0x10faf3['gradientMap']&&(_0x3335f4['gradientMap']['value']=_0x10faf3['gradientMap']);}(_0x1b664f,_0x83b69)):_0x83b69['isMeshPhongMaterial']?(_0x59f06f(_0x1b664f,_0x83b69),function(_0x16acce,_0x5dbde3){_0x16acce['specular']['value']['copy'](_0x5dbde3['specular']),_0x16acce['shininess']['value']=Math['max'](_0x5dbde3['shininess'],0.0001);}(_0x1b664f,_0x83b69)):_0x83b69['isMeshStandardMaterial']?(_0x59f06f(_0x1b664f,_0x83b69),function(_0x131377,_0x406401){_0x131377['metalness']['value']=_0x406401['metalness'],_0x406401['metalnessMap']&&(_0x131377['metalnessMap']['value']=_0x406401['metalnessMap'],_0x2bb2b3(_0x406401['metalnessMap'],_0x131377['metalnessMapTransform'])),(_0x131377['roughness']['value']=_0x406401['roughness'],_0x406401['roughnessMap']&&(_0x131377['roughnessMap']['value']=_0x406401['roughnessMap'],_0x2bb2b3(_0x406401['roughnessMap'],_0x131377['roughnessMapTransform']))),_0x406401['envMap']&&(_0x131377['envMapIntensity']['value']=_0x406401['envMapIntensity']);}(_0x1b664f,_0x83b69),_0x83b69['isMeshPhysicalMaterial']&&function(_0x64233e,_0x26e40e,_0x36b36d){_0x64233e['ior']['value']=_0x26e40e['ior'],_0x26e40e['sheen']>0x0&&(_0x64233e['sheenColor']['value']['copy'](_0x26e40e['sheenColor'])['multiplyScalar'](_0x26e40e['sheen']),_0x64233e['sheenRoughness']['value']=_0x26e40e['sheenRoughness'],_0x26e40e['sheenColorMap']&&(_0x64233e['sheenColorMap']['value']=_0x26e40e['sheenColorMap'],_0x2bb2b3(_0x26e40e['sheenColorMap'],_0x64233e['sheenColorMapTransform'])),_0x26e40e['sheenRoughnessMap']&&(_0x64233e['sheenRoughnessMap']['value']=_0x26e40e['sheenRoughnessMap'],_0x2bb2b3(_0x26e40e['sheenRoughnessMap'],_0x64233e['sheenRoughnessMapTransform']))),_0x26e40e['clearcoat']>0x0&&(_0x64233e['clearcoat']['value']=_0x26e40e['clearcoat'],_0x64233e['clearcoatRoughness']['value']=_0x26e40e['clearcoatRoughness'],_0x26e40e['clearcoatMap']&&(_0x64233e['clearcoatMap']['value']=_0x26e40e['clearcoatMap'],_0x2bb2b3(_0x26e40e['clearcoatMap'],_0x64233e['clearcoatMapTransform'])),_0x26e40e['clearcoatRoughnessMap']&&(_0x64233e['clearcoatRoughnessMap']['value']=_0x26e40e['clearcoatRoughnessMap'],_0x2bb2b3(_0x26e40e['clearcoatRoughnessMap'],_0x64233e['clearcoatRoughnessMapTransform'])),_0x26e40e['clearcoatNormalMap']&&(_0x64233e['clearcoatNormalMap']['value']=_0x26e40e['clearcoatNormalMap'],_0x2bb2b3(_0x26e40e['clearcoatNormalMap'],_0x64233e['clearcoatNormalMapTransform']),_0x64233e['clearcoatNormalScale']['value']['copy'](_0x26e40e['clearcoatNormalScale']),_0x26e40e['side']===_0xfde85b['hsX']&&_0x64233e['clearcoatNormalScale']['value']['negate']())),_0x26e40e['dispersion']>0x0&&(_0x64233e['dispersion']['value']=_0x26e40e['dispersion']),_0x26e40e['iridescence']>0x0&&(_0x64233e['iridescence']['value']=_0x26e40e['iridescence'],_0x64233e['iridescenceIOR']['value']=_0x26e40e['iridescenceIOR'],_0x64233e['iridescenceThicknessMinimum']['value']=_0x26e40e['iridescenceThicknessRange'][0x0],_0x64233e['iridescenceThicknessMaximum']['value']=_0x26e40e['iridescenceThicknessRange'][0x1],_0x26e40e['iridescenceMap']&&(_0x64233e['iridescenceMap']['value']=_0x26e40e['iridescenceMap'],_0x2bb2b3(_0x26e40e['iridescenceMap'],_0x64233e['iridescenceMapTransform'])),_0x26e40e['iridescenceThicknessMap']&&(_0x64233e['iridescenceThicknessMap']['value']=_0x26e40e['iridescenceThicknessMap'],_0x2bb2b3(_0x26e40e['iridescenceThicknessMap'],_0x64233e['iridescenceThicknessMapTransform']))),_0x26e40e['transmission']>0x0&&(_0x64233e['transmission']['value']=_0x26e40e['transmission'],_0x64233e['transmissionSamplerMap']['value']=_0x36b36d['texture'],_0x64233e['transmissionSamplerSize']['value']['set'](_0x36b36d['width'],_0x36b36d['height']),_0x26e40e['transmissionMap']&&(_0x64233e['transmissionMap']['value']=_0x26e40e['transmissionMap'],_0x2bb2b3(_0x26e40e['transmissionMap'],_0x64233e['transmissionMapTransform'])),_0x64233e['thickness']['value']=_0x26e40e['thickness'],_0x26e40e['thicknessMap']&&(_0x64233e['thicknessMap']['value']=_0x26e40e['thicknessMap'],_0x2bb2b3(_0x26e40e['thicknessMap'],_0x64233e['thicknessMapTransform'])),_0x64233e['attenuationDistance']['value']=_0x26e40e['attenuationDistance'],_0x64233e['attenuationColor']['value']['copy'](_0x26e40e['attenuationColor'])),_0x26e40e['anisotropy']>0x0&&(_0x64233e['anisotropyVector']['value']['set'](_0x26e40e['anisotropy']*Math['cos'](_0x26e40e['anisotropyRotation']),_0x26e40e['anisotropy']*Math['sin'](_0x26e40e['anisotropyRotation'])),_0x26e40e['anisotropyMap']&&(_0x64233e['anisotropyMap']['value']=_0x26e40e['anisotropyMap'],_0x2bb2b3(_0x26e40e['anisotropyMap'],_0x64233e['anisotropyMapTransform']))),(_0x64233e['specularIntensity']['value']=_0x26e40e['specularIntensity'],_0x64233e['specularColor']['value']['copy'](_0x26e40e['specularColor']),_0x26e40e['specularColorMap']&&(_0x64233e['specularColorMap']['value']=_0x26e40e['specularColorMap'],_0x2bb2b3(_0x26e40e['specularColorMap'],_0x64233e['specularColorMapTransform']))),_0x26e40e['specularIntensityMap']&&(_0x64233e['specularIntensityMap']['value']=_0x26e40e['specularIntensityMap'],_0x2bb2b3(_0x26e40e['specularIntensityMap'],_0x64233e['specularIntensityMapTransform']));}(_0x1b664f,_0x83b69,_0x5536d3)):_0x83b69['isMeshMatcapMaterial']?(_0x59f06f(_0x1b664f,_0x83b69),function(_0x1f91d1,_0x13e91e){_0x13e91e['matcap']&&(_0x1f91d1['matcap']['value']=_0x13e91e['matcap']);}(_0x1b664f,_0x83b69)):_0x83b69['isMeshDepthMaterial']?_0x59f06f(_0x1b664f,_0x83b69):_0x83b69['isMeshDistanceMaterial']?(_0x59f06f(_0x1b664f,_0x83b69),function(_0x1c2634,_0x459ae6){const _0x1f1bd5=_0x4076d9['get'](_0x459ae6)['light'];_0x1c2634['referencePosition']['value']['setFromMatrixPosition'](_0x1f1bd5['matrixWorld']),_0x1c2634['nearDistance']['value']=_0x1f1bd5['shadow']['camera']['near'],_0x1c2634['farDistance']['value']=_0x1f1bd5['shadow']['camera']['far'];}(_0x1b664f,_0x83b69)):_0x83b69['isMeshNormalMaterial']?_0x59f06f(_0x1b664f,_0x83b69):_0x83b69['isLineBasicMaterial']?(function(_0x4adbab,_0x4c61a1){_0x4adbab['diffuse']['value']['copy'](_0x4c61a1['color']),_0x4adbab['opacity']['value']=_0x4c61a1['opacity'],_0x4c61a1['map']&&(_0x4adbab['map']['value']=_0x4c61a1['map'],_0x2bb2b3(_0x4c61a1['map'],_0x4adbab['mapTransform']));}(_0x1b664f,_0x83b69),_0x83b69['isLineDashedMaterial']&&function(_0x2f65e0,_0x42b671){_0x2f65e0['dashSize']['value']=_0x42b671['dashSize'],_0x2f65e0['totalSize']['value']=_0x42b671['dashSize']+_0x42b671['gapSize'],_0x2f65e0['scale']['value']=_0x42b671['scale'];}(_0x1b664f,_0x83b69)):_0x83b69['isPointsMaterial']?function(_0xac598,_0x28eaba,_0x1de139,_0x3b6c80){_0xac598['diffuse']['value']['copy'](_0x28eaba['color']),_0xac598['opacity']['value']=_0x28eaba['opacity'],_0xac598['size']['value']=_0x28eaba['size']*_0x1de139,_0xac598['scale']['value']=0.5*_0x3b6c80,_0x28eaba['map']&&(_0xac598['map']['value']=_0x28eaba['map'],_0x2bb2b3(_0x28eaba['map'],_0xac598['uvTransform'])),_0x28eaba['alphaMap']&&(_0xac598['alphaMap']['value']=_0x28eaba['alphaMap'],_0x2bb2b3(_0x28eaba['alphaMap'],_0xac598['alphaMapTransform'])),_0x28eaba['alphaTest']>0x0&&(_0xac598['alphaTest']['value']=_0x28eaba['alphaTest']);}(_0x1b664f,_0x83b69,_0x5822ee,_0x110209):_0x83b69['isSpriteMaterial']?function(_0x58c811,_0x166bd2){_0x58c811['diffuse']['value']['copy'](_0x166bd2['color']),_0x58c811['opacity']['value']=_0x166bd2['opacity'],_0x58c811['rotation']['value']=_0x166bd2['rotation'],_0x166bd2['map']&&(_0x58c811['map']['value']=_0x166bd2['map'],_0x2bb2b3(_0x166bd2['map'],_0x58c811['mapTransform'])),_0x166bd2['alphaMap']&&(_0x58c811['alphaMap']['value']=_0x166bd2['alphaMap'],_0x2bb2b3(_0x166bd2['alphaMap'],_0x58c811['alphaMapTransform'])),_0x166bd2['alphaTest']>0x0&&(_0x58c811['alphaTest']['value']=_0x166bd2['alphaTest']);}(_0x1b664f,_0x83b69):_0x83b69['isShadowMaterial']?(_0x1b664f['color']['value']['copy'](_0x83b69['color']),_0x1b664f['opacity']['value']=_0x83b69['opacity']):_0x83b69['isShaderMaterial']&&(_0x83b69['uniformsNeedUpdate']=!0x1);}};}function _0xd73a5f(_0x48cddf,_0x5d06ae,_0x40cd97,_0x4aff01){let _0x25c3bb={},_0x31246={},_0x58602b=[];const _0x2f5b22=_0x48cddf['getParameter'](_0x48cddf['MAX_UNIFORM_BUFFER_BINDINGS']);function _0x11b275(_0x1c3fa1,_0x465657,_0x20902e,_0x265030){const _0x2b90bf=_0x1c3fa1['value'],_0x336829=_0x465657+'_'+_0x20902e;if(void 0x0===_0x265030[_0x336829])return _0x265030[_0x336829]='number'==typeof _0x2b90bf||'boolean'==typeof _0x2b90bf?_0x2b90bf:_0x2b90bf['clone'](),!0x0;{const _0x1f6387=_0x265030[_0x336829];if('number'==typeof _0x2b90bf||'boolean'==typeof _0x2b90bf){if(_0x1f6387!==_0x2b90bf)return _0x265030[_0x336829]=_0x2b90bf,!0x0;}else{if(!0x1===_0x1f6387['equals'](_0x2b90bf))return _0x1f6387['copy'](_0x2b90bf),!0x0;}}return!0x1;}function _0x3b68e5(_0xa05dfd){const _0x7dfa50={'boundary':0x0,'storage':0x0};return'number'==typeof _0xa05dfd||'boolean'==typeof _0xa05dfd?(_0x7dfa50['boundary']=0x4,_0x7dfa50['storage']=0x4):_0xa05dfd['isVector2']?(_0x7dfa50['boundary']=0x8,_0x7dfa50['storage']=0x8):_0xa05dfd['isVector3']||_0xa05dfd['isColor']?(_0x7dfa50['boundary']=0x10,_0x7dfa50['storage']=0xc):_0xa05dfd['isVector4']?(_0x7dfa50['boundary']=0x10,_0x7dfa50['storage']=0x10):_0xa05dfd['isMatrix3']?(_0x7dfa50['boundary']=0x30,_0x7dfa50['storage']=0x30):_0xa05dfd['isMatrix4']?(_0x7dfa50['boundary']=0x40,_0x7dfa50['storage']=0x40):_0xa05dfd['isTexture']?console['warn']('THREE.WebGLRenderer:\x20Texture\x20samplers\x20can\x20not\x20be\x20part\x20of\x20an\x20uniforms\x20group.'):console['warn']('THREE.WebGLRenderer:\x20Unsupported\x20uniform\x20value\x20type.',_0xa05dfd),_0x7dfa50;}function _0x39584f(_0x24c8fe){const _0x1f5615=_0x24c8fe['target'];_0x1f5615['removeEventListener']('dispose',_0x39584f);const _0x14c2fb=_0x58602b['indexOf'](_0x1f5615['__bindingPointIndex']);_0x58602b['splice'](_0x14c2fb,0x1),_0x48cddf['deleteBuffer'](_0x25c3bb[_0x1f5615['id']]),delete _0x25c3bb[_0x1f5615['id']],delete _0x31246[_0x1f5615['id']];}return{'bind':function(_0x59b371,_0x5adca0){const _0x1dece1=_0x5adca0['program'];_0x4aff01['uniformBlockBinding'](_0x59b371,_0x1dece1);},'update':function(_0x3e928e,_0xa08e7f){let _0x2d8c88=_0x25c3bb[_0x3e928e['id']];void 0x0===_0x2d8c88&&(!function(_0x3df2ab){const _0x230b64=_0x3df2ab['uniforms'];let _0x332544=0x0;const _0x5338f7=0x10;for(let _0x118f67=0x0,_0x54d704=_0x230b64['length'];_0x118f67<_0x54d704;_0x118f67++){const _0x357585=Array['isArray'](_0x230b64[_0x118f67])?_0x230b64[_0x118f67]:[_0x230b64[_0x118f67]];for(let _0x32e74d=0x0,_0x129952=_0x357585['length'];_0x32e74d<_0x129952;_0x32e74d++){const _0x4ee94d=_0x357585[_0x32e74d],_0x31e335=Array['isArray'](_0x4ee94d['value'])?_0x4ee94d['value']:[_0x4ee94d['value']];for(let _0x39b221=0x0,_0x5521b9=_0x31e335['length'];_0x39b221<_0x5521b9;_0x39b221++){const _0x430389=_0x3b68e5(_0x31e335[_0x39b221]),_0x5a4e50=_0x332544%_0x5338f7,_0x1ea7d3=_0x5a4e50%_0x430389['boundary'],_0x58ae8f=_0x5a4e50+_0x1ea7d3;_0x332544+=_0x1ea7d3,0x0!==_0x58ae8f&&_0x5338f7-_0x58ae8f<_0x430389['storage']&&(_0x332544+=_0x5338f7-_0x58ae8f),_0x4ee94d['__data']=new Float32Array(_0x430389['storage']/Float32Array['BYTES_PER_ELEMENT']),_0x4ee94d['__offset']=_0x332544,_0x332544+=_0x430389['storage'];}}}const _0x3854e4=_0x332544%_0x5338f7;_0x3854e4>0x0&&(_0x332544+=_0x5338f7-_0x3854e4),(_0x3df2ab['__size']=_0x332544,_0x3df2ab['__cache']={});}(_0x3e928e),_0x2d8c88=function(_0x25b5fb){const _0x3e5dec=(function(){for(let _0x2083c4=0x0;_0x2083c4<_0x2f5b22;_0x2083c4++)if(-0x1===_0x58602b['indexOf'](_0x2083c4))return _0x58602b['push'](_0x2083c4),_0x2083c4;return console['error']('THREE.WebGLRenderer:\x20Maximum\x20number\x20of\x20simultaneously\x20usable\x20uniforms\x20groups\x20reached.'),0x0;}());_0x25b5fb['__bindingPointIndex']=_0x3e5dec;const _0x3cc085=_0x48cddf['createBuffer'](),_0x29f03a=_0x25b5fb['__size'],_0x4e3d3a=_0x25b5fb['usage'];return _0x48cddf['bindBuffer'](_0x48cddf['UNIFORM_BUFFER'],_0x3cc085),_0x48cddf['bufferData'](_0x48cddf['UNIFORM_BUFFER'],_0x29f03a,_0x4e3d3a),_0x48cddf['bindBuffer'](_0x48cddf['UNIFORM_BUFFER'],null),_0x48cddf['bindBufferBase'](_0x48cddf['UNIFORM_BUFFER'],_0x3e5dec,_0x3cc085),_0x3cc085;}(_0x3e928e),_0x25c3bb[_0x3e928e['id']]=_0x2d8c88,_0x3e928e['addEventListener']('dispose',_0x39584f));const _0x1a7b43=_0xa08e7f['program'];_0x4aff01['updateUBOMapping'](_0x3e928e,_0x1a7b43);const _0x1a163e=_0x5d06ae['render']['frame'];_0x31246[_0x3e928e['id']]!==_0x1a163e&&(!function(_0x37bb57){const _0x3028b0=_0x25c3bb[_0x37bb57['id']],_0x5a8f22=_0x37bb57['uniforms'],_0x51e696=_0x37bb57['__cache'];_0x48cddf['bindBuffer'](_0x48cddf['UNIFORM_BUFFER'],_0x3028b0);for(let _0x18c1ee=0x0,_0x2de51e=_0x5a8f22['length'];_0x18c1ee<_0x2de51e;_0x18c1ee++){const _0x49053b=Array['isArray'](_0x5a8f22[_0x18c1ee])?_0x5a8f22[_0x18c1ee]:[_0x5a8f22[_0x18c1ee]];for(let _0x462715=0x0,_0x534202=_0x49053b['length'];_0x462715<_0x534202;_0x462715++){const _0x2ce479=_0x49053b[_0x462715];if(!0x0===_0x11b275(_0x2ce479,_0x18c1ee,_0x462715,_0x51e696)){const _0x1fb051=_0x2ce479['__offset'],_0x5d9a6b=Array['isArray'](_0x2ce479['value'])?_0x2ce479['value']:[_0x2ce479['value']];let _0x43b4a7=0x0;for(let _0x33412c=0x0;_0x33412c<_0x5d9a6b['length'];_0x33412c++){const _0xc77a5c=_0x5d9a6b[_0x33412c],_0x5642f1=_0x3b68e5(_0xc77a5c);'number'==typeof _0xc77a5c||'boolean'==typeof _0xc77a5c?(_0x2ce479['__data'][0x0]=_0xc77a5c,_0x48cddf['bufferSubData'](_0x48cddf['UNIFORM_BUFFER'],_0x1fb051+_0x43b4a7,_0x2ce479['__data'])):_0xc77a5c['isMatrix3']?(_0x2ce479['__data'][0x0]=_0xc77a5c['elements'][0x0],_0x2ce479['__data'][0x1]=_0xc77a5c['elements'][0x1],_0x2ce479['__data'][0x2]=_0xc77a5c['elements'][0x2],_0x2ce479['__data'][0x3]=0x0,_0x2ce479['__data'][0x4]=_0xc77a5c['elements'][0x3],_0x2ce479['__data'][0x5]=_0xc77a5c['elements'][0x4],_0x2ce479['__data'][0x6]=_0xc77a5c['elements'][0x5],_0x2ce479['__data'][0x7]=0x0,_0x2ce479['__data'][0x8]=_0xc77a5c['elements'][0x6],_0x2ce479['__data'][0x9]=_0xc77a5c['elements'][0x7],_0x2ce479['__data'][0xa]=_0xc77a5c['elements'][0x8],_0x2ce479['__data'][0xb]=0x0):(_0xc77a5c['toArray'](_0x2ce479['__data'],_0x43b4a7),_0x43b4a7+=_0x5642f1['storage']/Float32Array['BYTES_PER_ELEMENT']);}_0x48cddf['bufferSubData'](_0x48cddf['UNIFORM_BUFFER'],_0x1fb051,_0x2ce479['__data']);}}}_0x48cddf['bindBuffer'](_0x48cddf['UNIFORM_BUFFER'],null);}(_0x3e928e),_0x31246[_0x3e928e['id']]=_0x1a163e);},'dispose':function(){for(const _0x81fa14 in _0x25c3bb)_0x48cddf['deleteBuffer'](_0x25c3bb[_0x81fa14]);_0x58602b=[],_0x25c3bb={},_0x31246={};}};}class _0x3a3124{constructor(_0x180db0={}){const {canvas:_0xcc7fa2=(0x0,_0xfde85b['lPF'])(),context:_0x4355ba=null,depth:_0x1ebdb1=!0x0,stencil:_0x190870=!0x1,alpha:_0x53dd66=!0x1,antialias:_0x1376b3=!0x1,premultipliedAlpha:_0x9ece3d=!0x0,preserveDrawingBuffer:_0x52e1d8=!0x1,powerPreference:_0x383f88='default',failIfMajorPerformanceCaveat:_0x46f65e=!0x1,reverseDepthBuffer:_0x46dc8e=!0x1}=_0x180db0;let _0x4e3a0e;if(this['isWebGLRenderer']=!0x0,null!==_0x4355ba){if('undefined'!=typeof WebGLRenderingContext&&_0x4355ba instanceof WebGLRenderingContext)throw new Error('THREE.WebGLRenderer:\x20WebGL\x201\x20is\x20not\x20supported\x20since\x20r163.');_0x4e3a0e=_0x4355ba['getContextAttributes']()['alpha'];}else _0x4e3a0e=_0x53dd66;const _0x39ade3=new Uint32Array(0x4),_0x406d13=new Int32Array(0x4);let _0x59fca6=null,_0x250498=null;const _0x4c3296=[],_0x621028=[];this['domElement']=_0xcc7fa2,this['debug']={'checkShaderErrors':!0x0,'onShaderError':null},this['autoClear']=!0x0,this['autoClearColor']=!0x0,this['autoClearDepth']=!0x0,this['autoClearStencil']=!0x0,this['sortObjects']=!0x0,this['clippingPlanes']=[],this['localClippingEnabled']=!0x1,this['_outputColorSpace']=_0xfde85b['er$'],this['toneMapping']=_0xfde85b['y_p'],this['toneMappingExposure']=0x1;const _0x42ea2b=this;let _0x4b276d=!0x1,_0x2b9734=0x0,_0x32a911=0x0,_0x494269=null,_0x5d84db=-0x1,_0x1d312e=null;const _0x496611=new _0xfde85b['IUQ'](),_0x38584a=new _0xfde85b['IUQ']();let _0x1246c0=null;const _0x3a0430=new _0xfde85b['Q1f'](0x0);let _0xf7f3d5=0x0,_0x4172c2=_0xcc7fa2['width'],_0x3a14ce=_0xcc7fa2['height'],_0x5619ce=0x1,_0x52915b=null,_0x5a07bc=null;const _0x12b4ab=new _0xfde85b['IUQ'](0x0,0x0,_0x4172c2,_0x3a14ce),_0x51f4ab=new _0xfde85b['IUQ'](0x0,0x0,_0x4172c2,_0x3a14ce);let _0x2d7539=!0x1;const _0x2fd99d=new _0xfde85b['PPD']();let _0x5998e0=!0x1,_0x1ef712=!0x1;this['transmissionResolutionScale']=0x1;const _0x33eee2=new _0xfde85b['kn4'](),_0x4c06ff=new _0xfde85b['kn4'](),_0x399a65=new _0xfde85b['Pq0'](),_0x4f76b4=new _0xfde85b['IUQ'](),_0x2a65e9={'background':null,'fog':null,'environment':null,'overrideMaterial':null,'isScene':!0x0};let _0x14a6d6=!0x1;function _0x3a2502(){return null===_0x494269?_0x5619ce:0x1;}let _0x812e08,_0x1c3243,_0x7f813c,_0x5b5cfe,_0x3b60a0,_0x17132c,_0x18efba,_0x520cb6,_0x39d24a,_0x297c23,_0x203657,_0x1f1529,_0x12f2aa,_0x5bca04,_0x5dfe24,_0x20e0cb,_0x57a6d4,_0x62359b,_0x489a60,_0x5dbf3b,_0x22b524,_0x1d0388,_0x3499cb,_0x597b91,_0x57c30d=_0x4355ba;function _0x5edbe7(_0x4e6b27,_0xffdd71){return _0xcc7fa2['getContext'](_0x4e6b27,_0xffdd71);}try{const _0x276f0e={'alpha':!0x0,'depth':_0x1ebdb1,'stencil':_0x190870,'antialias':_0x1376b3,'premultipliedAlpha':_0x9ece3d,'preserveDrawingBuffer':_0x52e1d8,'powerPreference':_0x383f88,'failIfMajorPerformanceCaveat':_0x46f65e};if('setAttribute'in _0xcc7fa2&&_0xcc7fa2['setAttribute']('data-engine','three.js\x20r'+_0xfde85b['sPf']),_0xcc7fa2['addEventListener']('webglcontextlost',_0x4a4b23,!0x1),_0xcc7fa2['addEventListener']('webglcontextrestored',_0x1e25d2,!0x1),_0xcc7fa2['addEventListener']('webglcontextcreationerror',_0x507553,!0x1),null===_0x57c30d){const _0x5e2ff4='webgl2';if(_0x57c30d=_0x5edbe7(_0x5e2ff4,_0x276f0e),null===_0x57c30d)throw _0x5edbe7(_0x5e2ff4)?new Error('Error\x20creating\x20WebGL\x20context\x20with\x20your\x20selected\x20attributes.'):new Error('Error\x20creating\x20WebGL\x20context.');}}catch(_0x11b7cd){throw console['error']('THREE.WebGLRenderer:\x20'+_0x11b7cd['message']),_0x11b7cd;}function _0x30c2c1(){_0x812e08=new _0x198443(_0x57c30d),_0x812e08['init'](),_0x1d0388=new _0x47e18b(_0x57c30d,_0x812e08),_0x1c3243=new _0x3b3739(_0x57c30d,_0x812e08,_0x180db0,_0x1d0388),_0x7f813c=new _0x18f31d(_0x57c30d,_0x812e08),_0x1c3243['reverseDepthBuffer']&&_0x46dc8e&&_0x7f813c['buffers']['depth']['setReversed'](!0x0),_0x5b5cfe=new _0x43c494(_0x57c30d),_0x3b60a0=new _0x1273a9(),_0x17132c=new _0x23d40c(_0x57c30d,_0x812e08,_0x7f813c,_0x3b60a0,_0x1c3243,_0x1d0388,_0x5b5cfe),_0x18efba=new _0x1e50ed(_0x42ea2b),_0x520cb6=new _0x54a3c4(_0x42ea2b),_0x39d24a=new _0x2801bf(_0x57c30d),_0x3499cb=new _0x1319b9(_0x57c30d,_0x39d24a),_0x297c23=new _0x458cd7(_0x57c30d,_0x39d24a,_0x5b5cfe,_0x3499cb),_0x203657=new _0x3b93a8(_0x57c30d,_0x297c23,_0x39d24a,_0x5b5cfe),_0x489a60=new _0x5b3cf0(_0x57c30d,_0x1c3243,_0x17132c),_0x20e0cb=new _0x14e981(_0x3b60a0),_0x1f1529=new _0x4c2d4d(_0x42ea2b,_0x18efba,_0x520cb6,_0x812e08,_0x1c3243,_0x3499cb,_0x20e0cb),_0x12f2aa=new _0x3ab8f2(_0x42ea2b,_0x3b60a0),_0x5bca04=new _0x3e773a(),_0x5dfe24=new _0x35b66d(_0x812e08),_0x62359b=new _0x2a0fb6(_0x42ea2b,_0x18efba,_0x520cb6,_0x7f813c,_0x203657,_0x4e3a0e,_0x9ece3d),_0x57a6d4=new _0x3339be(_0x42ea2b,_0x203657,_0x1c3243),_0x597b91=new _0xd73a5f(_0x57c30d,_0x5b5cfe,_0x1c3243,_0x7f813c),_0x5dbf3b=new _0x1b0472(_0x57c30d,_0x812e08,_0x5b5cfe),_0x22b524=new _0x3b1f45(_0x57c30d,_0x812e08,_0x5b5cfe),_0x5b5cfe['programs']=_0x1f1529['programs'],_0x42ea2b['capabilities']=_0x1c3243,_0x42ea2b['extensions']=_0x812e08,_0x42ea2b['properties']=_0x3b60a0,_0x42ea2b['renderLists']=_0x5bca04,_0x42ea2b['shadowMap']=_0x57a6d4,_0x42ea2b['state']=_0x7f813c,_0x42ea2b['info']=_0x5b5cfe;}_0x30c2c1();const _0x222cdf=new _0xf1291(_0x42ea2b,_0x57c30d);function _0x4a4b23(_0x21073d){_0x21073d['preventDefault'](),console['log']('THREE.WebGLRenderer:\x20Context\x20Lost.'),_0x4b276d=!0x0;}function _0x1e25d2(){console['log']('THREE.WebGLRenderer:\x20Context\x20Restored.'),_0x4b276d=!0x1;const _0x4a37a0=_0x5b5cfe['autoReset'],_0x58f59f=_0x57a6d4['enabled'],_0x1b6f1f=_0x57a6d4['autoUpdate'],_0x3efbd6=_0x57a6d4['needsUpdate'],_0x1635f3=_0x57a6d4['type'];_0x30c2c1(),_0x5b5cfe['autoReset']=_0x4a37a0,_0x57a6d4['enabled']=_0x58f59f,_0x57a6d4['autoUpdate']=_0x1b6f1f,_0x57a6d4['needsUpdate']=_0x3efbd6,_0x57a6d4['type']=_0x1635f3;}function _0x507553(_0x4d5ccd){console['error']('THREE.WebGLRenderer:\x20A\x20WebGL\x20context\x20could\x20not\x20be\x20created.\x20Reason:\x20',_0x4d5ccd['statusMessage']);}function _0x25f020(_0x1d111c){const _0x18c251=_0x1d111c['target'];_0x18c251['removeEventListener']('dispose',_0x25f020),function(_0x401919){(function(_0x10410d){const _0xc8e28a=_0x3b60a0['get'](_0x10410d)['programs'];void 0x0!==_0xc8e28a&&(_0xc8e28a['forEach'](function(_0x585a85){_0x1f1529['releaseProgram'](_0x585a85);}),_0x10410d['isShaderMaterial']&&_0x1f1529['releaseShaderCache'](_0x10410d));}(_0x401919),_0x3b60a0['remove'](_0x401919));}(_0x18c251);}function _0x4cf847(_0x56f34a,_0x40c976,_0x4c6387){!0x0===_0x56f34a['transparent']&&_0x56f34a['side']===_0xfde85b['$EB']&&!0x1===_0x56f34a['forceSinglePass']?(_0x56f34a['side']=_0xfde85b['hsX'],_0x56f34a['needsUpdate']=!0x0,_0x2ddd52(_0x56f34a,_0x40c976,_0x4c6387),_0x56f34a['side']=_0xfde85b['hB5'],_0x56f34a['needsUpdate']=!0x0,_0x2ddd52(_0x56f34a,_0x40c976,_0x4c6387),_0x56f34a['side']=_0xfde85b['$EB']):_0x2ddd52(_0x56f34a,_0x40c976,_0x4c6387);}this['xr']=_0x222cdf,this['getContext']=function(){return _0x57c30d;},this['getContextAttributes']=function(){return _0x57c30d['getContextAttributes']();},this['forceContextLoss']=function(){const _0x100da8=_0x812e08['get']('WEBGL_lose_context');_0x100da8&&_0x100da8['loseContext']();},this['forceContextRestore']=function(){const _0x156d5e=_0x812e08['get']('WEBGL_lose_context');_0x156d5e&&_0x156d5e['restoreContext']();},this['getPixelRatio']=function(){return _0x5619ce;},this['setPixelRatio']=function(_0x269839){void 0x0!==_0x269839&&(_0x5619ce=_0x269839,this['setSize'](_0x4172c2,_0x3a14ce,!0x1));},this['getSize']=function(_0x391293){return _0x391293['set'](_0x4172c2,_0x3a14ce);},this['setSize']=function(_0x10374a,_0x5cf8a9,_0x5fc716=!0x0){_0x222cdf['isPresenting']?console['warn']('THREE.WebGLRenderer:\x20Can\x27t\x20change\x20size\x20while\x20VR\x20device\x20is\x20presenting.'):(_0x4172c2=_0x10374a,_0x3a14ce=_0x5cf8a9,_0xcc7fa2['width']=Math['floor'](_0x10374a*_0x5619ce),_0xcc7fa2['height']=Math['floor'](_0x5cf8a9*_0x5619ce),!0x0===_0x5fc716&&(_0xcc7fa2['style']['width']=_0x10374a+'px',_0xcc7fa2['style']['height']=_0x5cf8a9+'px'),this['setViewport'](0x0,0x0,_0x10374a,_0x5cf8a9));},this['getDrawingBufferSize']=function(_0x4c0e79){return _0x4c0e79['set'](_0x4172c2*_0x5619ce,_0x3a14ce*_0x5619ce)['floor']();},this['setDrawingBufferSize']=function(_0x1ddfb4,_0x1ade5a,_0x30565c){_0x4172c2=_0x1ddfb4,_0x3a14ce=_0x1ade5a,_0x5619ce=_0x30565c,_0xcc7fa2['width']=Math['floor'](_0x1ddfb4*_0x30565c),_0xcc7fa2['height']=Math['floor'](_0x1ade5a*_0x30565c),this['setViewport'](0x0,0x0,_0x1ddfb4,_0x1ade5a);},this['getCurrentViewport']=function(_0x2e5162){return _0x2e5162['copy'](_0x496611);},this['getViewport']=function(_0x28158a){return _0x28158a['copy'](_0x12b4ab);},this['setViewport']=function(_0x4d3320,_0x55647e,_0x5c0a0e,_0x162080){_0x4d3320['isVector4']?_0x12b4ab['set'](_0x4d3320['x'],_0x4d3320['y'],_0x4d3320['z'],_0x4d3320['w']):_0x12b4ab['set'](_0x4d3320,_0x55647e,_0x5c0a0e,_0x162080),_0x7f813c['viewport'](_0x496611['copy'](_0x12b4ab)['multiplyScalar'](_0x5619ce)['round']());},this['getScissor']=function(_0x7ba970){return _0x7ba970['copy'](_0x51f4ab);},this['setScissor']=function(_0x16374e,_0x574f33,_0x53b985,_0x1aebf2){_0x16374e['isVector4']?_0x51f4ab['set'](_0x16374e['x'],_0x16374e['y'],_0x16374e['z'],_0x16374e['w']):_0x51f4ab['set'](_0x16374e,_0x574f33,_0x53b985,_0x1aebf2),_0x7f813c['scissor'](_0x38584a['copy'](_0x51f4ab)['multiplyScalar'](_0x5619ce)['round']());},this['getScissorTest']=function(){return _0x2d7539;},this['setScissorTest']=function(_0x40318e){_0x7f813c['setScissorTest'](_0x2d7539=_0x40318e);},this['setOpaqueSort']=function(_0x185e80){_0x52915b=_0x185e80;},this['setTransparentSort']=function(_0x4de824){_0x5a07bc=_0x4de824;},this['getClearColor']=function(_0x2c0962){return _0x2c0962['copy'](_0x62359b['getClearColor']());},this['setClearColor']=function(){_0x62359b['setClearColor']['apply'](_0x62359b,arguments);},this['getClearAlpha']=function(){return _0x62359b['getClearAlpha']();},this['setClearAlpha']=function(){_0x62359b['setClearAlpha']['apply'](_0x62359b,arguments);},this['clear']=function(_0x16d60d=!0x0,_0x10cb1d=!0x0,_0x4f98c8=!0x0){let _0x26aa04=0x0;if(_0x16d60d){let _0x1bd989=!0x1;if(null!==_0x494269){const _0x2d2c40=_0x494269['texture']['format'];_0x1bd989=_0x2d2c40===_0xfde85b['c90']||_0x2d2c40===_0xfde85b['TkQ']||_0x2d2c40===_0xfde85b['ZQM'];}if(_0x1bd989){const _0x526b7f=_0x494269['texture']['type'],_0x36793b=_0x526b7f===_0xfde85b['OUM']||_0x526b7f===_0xfde85b['bkx']||_0x526b7f===_0xfde85b['cHt']||_0x526b7f===_0xfde85b['V3x']||_0x526b7f===_0xfde85b['Wew']||_0x526b7f===_0xfde85b['gJ2'],_0x3c14e5=_0x62359b['getClearColor'](),_0x2a7e14=_0x62359b['getClearAlpha'](),_0x3660c1=_0x3c14e5['r'],_0xa2d994=_0x3c14e5['g'],_0x161fff=_0x3c14e5['b'];_0x36793b?(_0x39ade3[0x0]=_0x3660c1,_0x39ade3[0x1]=_0xa2d994,_0x39ade3[0x2]=_0x161fff,_0x39ade3[0x3]=_0x2a7e14,_0x57c30d['clearBufferuiv'](_0x57c30d['COLOR'],0x0,_0x39ade3)):(_0x406d13[0x0]=_0x3660c1,_0x406d13[0x1]=_0xa2d994,_0x406d13[0x2]=_0x161fff,_0x406d13[0x3]=_0x2a7e14,_0x57c30d['clearBufferiv'](_0x57c30d['COLOR'],0x0,_0x406d13));}else _0x26aa04|=_0x57c30d['COLOR_BUFFER_BIT'];}_0x10cb1d&&(_0x26aa04|=_0x57c30d['DEPTH_BUFFER_BIT']),_0x4f98c8&&(_0x26aa04|=_0x57c30d['STENCIL_BUFFER_BIT'],this['state']['buffers']['stencil']['setMask'](0xffffffff)),_0x57c30d['clear'](_0x26aa04);},this['clearColor']=function(){this['clear'](!0x0,!0x1,!0x1);},this['clearDepth']=function(){this['clear'](!0x1,!0x0,!0x1);},this['clearStencil']=function(){this['clear'](!0x1,!0x1,!0x0);},this['dispose']=function(){_0xcc7fa2['removeEventListener']('webglcontextlost',_0x4a4b23,!0x1),_0xcc7fa2['removeEventListener']('webglcontextrestored',_0x1e25d2,!0x1),_0xcc7fa2['removeEventListener']('webglcontextcreationerror',_0x507553,!0x1),_0x62359b['dispose'](),_0x5bca04['dispose'](),_0x5dfe24['dispose'](),_0x3b60a0['dispose'](),_0x18efba['dispose'](),_0x520cb6['dispose'](),_0x203657['dispose'](),_0x3499cb['dispose'](),_0x597b91['dispose'](),_0x1f1529['dispose'](),_0x222cdf['dispose'](),_0x222cdf['removeEventListener']('sessionstart',_0x16c0ad),_0x222cdf['removeEventListener']('sessionend',_0x320997),_0x49889f['stop']();},this['renderBufferDirect']=function(_0x31c810,_0x5ee7cf,_0x59cdad,_0x4316f9,_0x52b644,_0x24fefd){null===_0x5ee7cf&&(_0x5ee7cf=_0x2a65e9);const _0x2f27a7=_0x52b644['isMesh']&&_0x52b644['matrixWorld']['determinant']()<0x0,_0x3cc2bd=function(_0x115a14,_0x4077ff,_0x39b873,_0x594aec,_0x569b78){!0x0!==_0x4077ff['isScene']&&(_0x4077ff=_0x2a65e9),_0x17132c['resetTextureUnits']();const _0x49de25=_0x4077ff['fog'],_0x5b55af=_0x594aec['isMeshStandardMaterial']?_0x4077ff['environment']:null,_0x1af9f3=null===_0x494269?_0x42ea2b['outputColorSpace']:!0x0===_0x494269['isXRRenderTarget']?_0x494269['texture']['colorSpace']:_0xfde85b['Zr2'],_0x4b4a35=(_0x594aec['isMeshStandardMaterial']?_0x520cb6:_0x18efba)['get'](_0x594aec['envMap']||_0x5b55af),_0x36f234=!0x0===_0x594aec['vertexColors']&&!!_0x39b873['attributes']['color']&&0x4===_0x39b873['attributes']['color']['itemSize'],_0x5d548d=!!_0x39b873['attributes']['tangent']&&(!!_0x594aec['normalMap']||_0x594aec['anisotropy']>0x0),_0xb45f78=!!_0x39b873['morphAttributes']['position'],_0x281511=!!_0x39b873['morphAttributes']['normal'],_0x5ec8a3=!!_0x39b873['morphAttributes']['color'];let _0x447b64=_0xfde85b['y_p'];_0x594aec['toneMapped']&&(null!==_0x494269&&!0x0!==_0x494269['isXRRenderTarget']||(_0x447b64=_0x42ea2b['toneMapping']));const _0x5e1b2c=_0x39b873['morphAttributes']['position']||_0x39b873['morphAttributes']['normal']||_0x39b873['morphAttributes']['color'],_0xe2e899=void 0x0!==_0x5e1b2c?_0x5e1b2c['length']:0x0,_0x3f7d24=_0x3b60a0['get'](_0x594aec),_0x51cc76=_0x250498['state']['lights'];if(!0x0===_0x5998e0&&(!0x0===_0x1ef712||_0x115a14!==_0x1d312e)){const _0x4acaac=_0x115a14===_0x1d312e&&_0x594aec['id']===_0x5d84db;_0x20e0cb['setState'](_0x594aec,_0x115a14,_0x4acaac);}let _0x42fc84=!0x1;_0x594aec['version']===_0x3f7d24['__version']?_0x3f7d24['needsLights']&&_0x3f7d24['lightsStateVersion']!==_0x51cc76['state']['version']||_0x3f7d24['outputColorSpace']!==_0x1af9f3||_0x569b78['isBatchedMesh']&&!0x1===_0x3f7d24['batching']?_0x42fc84=!0x0:_0x569b78['isBatchedMesh']||!0x0!==_0x3f7d24['batching']?_0x569b78['isBatchedMesh']&&!0x0===_0x3f7d24['batchingColor']&&null===_0x569b78['colorTexture']||_0x569b78['isBatchedMesh']&&!0x1===_0x3f7d24['batchingColor']&&null!==_0x569b78['colorTexture']||_0x569b78['isInstancedMesh']&&!0x1===_0x3f7d24['instancing']?_0x42fc84=!0x0:_0x569b78['isInstancedMesh']||!0x0!==_0x3f7d24['instancing']?_0x569b78['isSkinnedMesh']&&!0x1===_0x3f7d24['skinning']?_0x42fc84=!0x0:_0x569b78['isSkinnedMesh']||!0x0!==_0x3f7d24['skinning']?_0x569b78['isInstancedMesh']&&!0x0===_0x3f7d24['instancingColor']&&null===_0x569b78['instanceColor']||_0x569b78['isInstancedMesh']&&!0x1===_0x3f7d24['instancingColor']&&null!==_0x569b78['instanceColor']||_0x569b78['isInstancedMesh']&&!0x0===_0x3f7d24['instancingMorph']&&null===_0x569b78['morphTexture']||_0x569b78['isInstancedMesh']&&!0x1===_0x3f7d24['instancingMorph']&&null!==_0x569b78['morphTexture']||_0x3f7d24['envMap']!==_0x4b4a35||!0x0===_0x594aec['fog']&&_0x3f7d24['fog']!==_0x49de25?_0x42fc84=!0x0:void 0x0===_0x3f7d24['numClippingPlanes']||_0x3f7d24['numClippingPlanes']===_0x20e0cb['numPlanes']&&_0x3f7d24['numIntersection']===_0x20e0cb['numIntersection']?(_0x3f7d24['vertexAlphas']!==_0x36f234||_0x3f7d24['vertexTangents']!==_0x5d548d||_0x3f7d24['morphTargets']!==_0xb45f78||_0x3f7d24['morphNormals']!==_0x281511||_0x3f7d24['morphColors']!==_0x5ec8a3||_0x3f7d24['toneMapping']!==_0x447b64||_0x3f7d24['morphTargetsCount']!==_0xe2e899)&&(_0x42fc84=!0x0):_0x42fc84=!0x0:_0x42fc84=!0x0:_0x42fc84=!0x0:_0x42fc84=!0x0:(_0x42fc84=!0x0,_0x3f7d24['__version']=_0x594aec['version']);let _0x28201e=_0x3f7d24['currentProgram'];!0x0===_0x42fc84&&(_0x28201e=_0x2ddd52(_0x594aec,_0x4077ff,_0x569b78));let _0x4f27f1=!0x1,_0x50d7e1=!0x1,_0x46d6cf=!0x1;const _0x6551a0=_0x28201e['getUniforms'](),_0x249e22=_0x3f7d24['uniforms'];_0x7f813c['useProgram'](_0x28201e['program'])&&(_0x4f27f1=!0x0,_0x50d7e1=!0x0,_0x46d6cf=!0x0),_0x594aec['id']!==_0x5d84db&&(_0x5d84db=_0x594aec['id'],_0x50d7e1=!0x0);if(_0x4f27f1||_0x1d312e!==_0x115a14){_0x7f813c['buffers']['depth']['getReversed']()?(_0x33eee2['copy'](_0x115a14['projectionMatrix']),(0x0,_0xfde85b['xiE'])(_0x33eee2),(0x0,_0xfde85b['Mmk'])(_0x33eee2),_0x6551a0['setValue'](_0x57c30d,'projectionMatrix',_0x33eee2)):_0x6551a0['setValue'](_0x57c30d,'projectionMatrix',_0x115a14['projectionMatrix']),_0x6551a0['setValue'](_0x57c30d,'viewMatrix',_0x115a14['matrixWorldInverse']);const _0x2bfdd6=_0x6551a0['map']['cameraPosition'];void 0x0!==_0x2bfdd6&&_0x2bfdd6['setValue'](_0x57c30d,_0x399a65['setFromMatrixPosition'](_0x115a14['matrixWorld'])),_0x1c3243['logarithmicDepthBuffer']&&_0x6551a0['setValue'](_0x57c30d,'logDepthBufFC',0x2/(Math['log'](_0x115a14['far']+0x1)/Math['LN2'])),(_0x594aec['isMeshPhongMaterial']||_0x594aec['isMeshToonMaterial']||_0x594aec['isMeshLambertMaterial']||_0x594aec['isMeshBasicMaterial']||_0x594aec['isMeshStandardMaterial']||_0x594aec['isShaderMaterial'])&&_0x6551a0['setValue'](_0x57c30d,'isOrthographic',!0x0===_0x115a14['isOrthographicCamera']),_0x1d312e!==_0x115a14&&(_0x1d312e=_0x115a14,_0x50d7e1=!0x0,_0x46d6cf=!0x0);}if(_0x569b78['isSkinnedMesh']){_0x6551a0['setOptional'](_0x57c30d,_0x569b78,'bindMatrix'),_0x6551a0['setOptional'](_0x57c30d,_0x569b78,'bindMatrixInverse');const _0x18ea01=_0x569b78['skeleton'];_0x18ea01&&(null===_0x18ea01['boneTexture']&&_0x18ea01['computeBoneTexture'](),_0x6551a0['setValue'](_0x57c30d,'boneTexture',_0x18ea01['boneTexture'],_0x17132c));}_0x569b78['isBatchedMesh']&&(_0x6551a0['setOptional'](_0x57c30d,_0x569b78,'batchingTexture'),_0x6551a0['setValue'](_0x57c30d,'batchingTexture',_0x569b78['_matricesTexture'],_0x17132c),_0x6551a0['setOptional'](_0x57c30d,_0x569b78,'batchingIdTexture'),_0x6551a0['setValue'](_0x57c30d,'batchingIdTexture',_0x569b78['_indirectTexture'],_0x17132c),_0x6551a0['setOptional'](_0x57c30d,_0x569b78,'batchingColorTexture'),null!==_0x569b78['_colorsTexture']&&_0x6551a0['setValue'](_0x57c30d,'batchingColorTexture',_0x569b78['_colorsTexture'],_0x17132c));const _0x391508=_0x39b873['morphAttributes'];void 0x0===_0x391508['position']&&void 0x0===_0x391508['normal']&&void 0x0===_0x391508['color']||_0x489a60['update'](_0x569b78,_0x39b873,_0x28201e),(_0x50d7e1||_0x3f7d24['receiveShadow']!==_0x569b78['receiveShadow'])&&(_0x3f7d24['receiveShadow']=_0x569b78['receiveShadow'],_0x6551a0['setValue'](_0x57c30d,'receiveShadow',_0x569b78['receiveShadow'])),_0x594aec['isMeshGouraudMaterial']&&null!==_0x594aec['envMap']&&(_0x249e22['envMap']['value']=_0x4b4a35,_0x249e22['flipEnvMap']['value']=_0x4b4a35['isCubeTexture']&&!0x1===_0x4b4a35['isRenderTargetTexture']?-0x1:0x1),_0x594aec['isMeshStandardMaterial']&&null===_0x594aec['envMap']&&null!==_0x4077ff['environment']&&(_0x249e22['envMapIntensity']['value']=_0x4077ff['environmentIntensity']),_0x50d7e1&&(_0x6551a0['setValue'](_0x57c30d,'toneMappingExposure',_0x42ea2b['toneMappingExposure']),_0x3f7d24['needsLights']&&(_0x18fb8d=_0x46d6cf,(_0x55d7ec=_0x249e22)['ambientLightColor']['needsUpdate']=_0x18fb8d,_0x55d7ec['lightProbe']['needsUpdate']=_0x18fb8d,_0x55d7ec['directionalLights']['needsUpdate']=_0x18fb8d,_0x55d7ec['directionalLightShadows']['needsUpdate']=_0x18fb8d,_0x55d7ec['pointLights']['needsUpdate']=_0x18fb8d,_0x55d7ec['pointLightShadows']['needsUpdate']=_0x18fb8d,_0x55d7ec['spotLights']['needsUpdate']=_0x18fb8d,_0x55d7ec['spotLightShadows']['needsUpdate']=_0x18fb8d,_0x55d7ec['rectAreaLights']['needsUpdate']=_0x18fb8d,_0x55d7ec['hemisphereLights']['needsUpdate']=_0x18fb8d),_0x49de25&&!0x0===_0x594aec['fog']&&_0x12f2aa['refreshFogUniforms'](_0x249e22,_0x49de25),_0x12f2aa['refreshMaterialUniforms'](_0x249e22,_0x594aec,_0x5619ce,_0x3a14ce,_0x250498['state']['transmissionRenderTarget'][_0x115a14['id']]),_0x524198['upload'](_0x57c30d,_0x32a07a(_0x3f7d24),_0x249e22,_0x17132c));var _0x55d7ec,_0x18fb8d;_0x594aec['isShaderMaterial']&&!0x0===_0x594aec['uniformsNeedUpdate']&&(_0x524198['upload'](_0x57c30d,_0x32a07a(_0x3f7d24),_0x249e22,_0x17132c),_0x594aec['uniformsNeedUpdate']=!0x1),_0x594aec['isSpriteMaterial']&&_0x6551a0['setValue'](_0x57c30d,'center',_0x569b78['center']);if(_0x6551a0['setValue'](_0x57c30d,'modelViewMatrix',_0x569b78['modelViewMatrix']),_0x6551a0['setValue'](_0x57c30d,'normalMatrix',_0x569b78['normalMatrix']),_0x6551a0['setValue'](_0x57c30d,'modelMatrix',_0x569b78['matrixWorld']),_0x594aec['isShaderMaterial']||_0x594aec['isRawShaderMaterial']){const _0x173511=_0x594aec['uniformsGroups'];for(let _0x3fc64f=0x0,_0x152404=_0x173511['length'];_0x3fc64f<_0x152404;_0x3fc64f++){const _0x260b09=_0x173511[_0x3fc64f];_0x597b91['update'](_0x260b09,_0x28201e),_0x597b91['bind'](_0x260b09,_0x28201e);}}return _0x28201e;}(_0x31c810,_0x5ee7cf,_0x59cdad,_0x4316f9,_0x52b644);_0x7f813c['setMaterial'](_0x4316f9,_0x2f27a7);let _0x22cf8c=_0x59cdad['index'],_0x614bb3=0x1;if(!0x0===_0x4316f9['wireframe']){if(_0x22cf8c=_0x297c23['getWireframeAttribute'](_0x59cdad),void 0x0===_0x22cf8c)return;_0x614bb3=0x2;}const _0x1706e1=_0x59cdad['drawRange'],_0x5cffb4=_0x59cdad['attributes']['position'];let _0x3e101b=_0x1706e1['start']*_0x614bb3,_0xd4c452=(_0x1706e1['start']+_0x1706e1['count'])*_0x614bb3;null!==_0x24fefd&&(_0x3e101b=Math['max'](_0x3e101b,_0x24fefd['start']*_0x614bb3),_0xd4c452=Math['min'](_0xd4c452,(_0x24fefd['start']+_0x24fefd['count'])*_0x614bb3)),null!==_0x22cf8c?(_0x3e101b=Math['max'](_0x3e101b,0x0),_0xd4c452=Math['min'](_0xd4c452,_0x22cf8c['count'])):null!=_0x5cffb4&&(_0x3e101b=Math['max'](_0x3e101b,0x0),_0xd4c452=Math['min'](_0xd4c452,_0x5cffb4['count']));const _0x32f8a2=_0xd4c452-_0x3e101b;if(_0x32f8a2<0x0||_0x32f8a2===0x1/0x0)return;let _0x45d46f;_0x3499cb['setup'](_0x52b644,_0x4316f9,_0x3cc2bd,_0x59cdad,_0x22cf8c);let _0xac5ef8=_0x5dbf3b;if(null!==_0x22cf8c&&(_0x45d46f=_0x39d24a['get'](_0x22cf8c),_0xac5ef8=_0x22b524,_0xac5ef8['setIndex'](_0x45d46f)),_0x52b644['isMesh'])!0x0===_0x4316f9['wireframe']?(_0x7f813c['setLineWidth'](_0x4316f9['wireframeLinewidth']*_0x3a2502()),_0xac5ef8['setMode'](_0x57c30d['LINES'])):_0xac5ef8['setMode'](_0x57c30d['TRIANGLES']);else{if(_0x52b644['isLine']){let _0xe9f634=_0x4316f9['linewidth'];void 0x0===_0xe9f634&&(_0xe9f634=0x1),_0x7f813c['setLineWidth'](_0xe9f634*_0x3a2502()),_0x52b644['isLineSegments']?_0xac5ef8['setMode'](_0x57c30d['LINES']):_0x52b644['isLineLoop']?_0xac5ef8['setMode'](_0x57c30d['LINE_LOOP']):_0xac5ef8['setMode'](_0x57c30d['LINE_STRIP']);}else _0x52b644['isPoints']?_0xac5ef8['setMode'](_0x57c30d['POINTS']):_0x52b644['isSprite']&&_0xac5ef8['setMode'](_0x57c30d['TRIANGLES']);}if(_0x52b644['isBatchedMesh']){if(null!==_0x52b644['_multiDrawInstances'])_0xac5ef8['renderMultiDrawInstances'](_0x52b644['_multiDrawStarts'],_0x52b644['_multiDrawCounts'],_0x52b644['_multiDrawCount'],_0x52b644['_multiDrawInstances']);else{if(_0x812e08['get']('WEBGL_multi_draw'))_0xac5ef8['renderMultiDraw'](_0x52b644['_multiDrawStarts'],_0x52b644['_multiDrawCounts'],_0x52b644['_multiDrawCount']);else{const _0x425763=_0x52b644['_multiDrawStarts'],_0x39fdb2=_0x52b644['_multiDrawCounts'],_0x2c6785=_0x52b644['_multiDrawCount'],_0x302948=_0x22cf8c?_0x39d24a['get'](_0x22cf8c)['bytesPerElement']:0x1,_0x293adf=_0x3b60a0['get'](_0x4316f9)['currentProgram']['getUniforms']();for(let _0x3800fe=0x0;_0x3800fe<_0x2c6785;_0x3800fe++)_0x293adf['setValue'](_0x57c30d,'_gl_DrawID',_0x3800fe),_0xac5ef8['render'](_0x425763[_0x3800fe]/_0x302948,_0x39fdb2[_0x3800fe]);}}}else{if(_0x52b644['isInstancedMesh'])_0xac5ef8['renderInstances'](_0x3e101b,_0x32f8a2,_0x52b644['count']);else{if(_0x59cdad['isInstancedBufferGeometry']){const _0x2f328a=void 0x0!==_0x59cdad['_maxInstanceCount']?_0x59cdad['_maxInstanceCount']:0x1/0x0,_0x130c79=Math['min'](_0x59cdad['instanceCount'],_0x2f328a);_0xac5ef8['renderInstances'](_0x3e101b,_0x32f8a2,_0x130c79);}else _0xac5ef8['render'](_0x3e101b,_0x32f8a2);}}},this['compile']=function(_0x13fb84,_0x221530,_0x678676=null){null===_0x678676&&(_0x678676=_0x13fb84),_0x250498=_0x5dfe24['get'](_0x678676),_0x250498['init'](_0x221530),_0x621028['push'](_0x250498),_0x678676['traverseVisible'](function(_0x59910f){_0x59910f['isLight']&&_0x59910f['layers']['test'](_0x221530['layers'])&&(_0x250498['pushLight'](_0x59910f),_0x59910f['castShadow']&&_0x250498['pushShadow'](_0x59910f));}),_0x13fb84!==_0x678676&&_0x13fb84['traverseVisible'](function(_0x4db2f4){_0x4db2f4['isLight']&&_0x4db2f4['layers']['test'](_0x221530['layers'])&&(_0x250498['pushLight'](_0x4db2f4),_0x4db2f4['castShadow']&&_0x250498['pushShadow'](_0x4db2f4));}),_0x250498['setupLights']();const _0x13fe2e=new Set();return _0x13fb84['traverse'](function(_0x41ded1){if(!(_0x41ded1['isMesh']||_0x41ded1['isPoints']||_0x41ded1['isLine']||_0x41ded1['isSprite']))return;const _0x25cebb=_0x41ded1['material'];if(_0x25cebb){if(Array['isArray'](_0x25cebb))for(let _0x40b3e3=0x0;_0x40b3e3<_0x25cebb['length'];_0x40b3e3++){const _0x571985=_0x25cebb[_0x40b3e3];_0x4cf847(_0x571985,_0x678676,_0x41ded1),_0x13fe2e['add'](_0x571985);}else _0x4cf847(_0x25cebb,_0x678676,_0x41ded1),_0x13fe2e['add'](_0x25cebb);}}),_0x621028['pop'](),_0x250498=null,_0x13fe2e;},this['compileAsync']=function(_0x57f485,_0x29c892,_0x91f79a=null){const _0x3ede30=this['compile'](_0x57f485,_0x29c892,_0x91f79a);return new Promise(_0x15c324=>{function _0x56941d(){_0x3ede30['forEach'](function(_0x24fce8){_0x3b60a0['get'](_0x24fce8)['currentProgram']['isReady']()&&_0x3ede30['delete'](_0x24fce8);}),0x0!==_0x3ede30['size']?setTimeout(_0x56941d,0xa):_0x15c324(_0x57f485);}null!==_0x812e08['get']('KHR_parallel_shader_compile')?_0x56941d():setTimeout(_0x56941d,0xa);});};let _0x50a181=null;function _0x16c0ad(){_0x49889f['stop']();}function _0x320997(){_0x49889f['start']();}const _0x49889f=new _0x574016();function _0x179c21(_0x15b87f,_0x1dd6dc,_0xcf13d7,_0x594d40){if(!0x1===_0x15b87f['visible'])return;if(_0x15b87f['layers']['test'](_0x1dd6dc['layers'])){if(_0x15b87f['isGroup'])_0xcf13d7=_0x15b87f['renderOrder'];else{if(_0x15b87f['isLOD'])!0x0===_0x15b87f['autoUpdate']&&_0x15b87f['update'](_0x1dd6dc);else{if(_0x15b87f['isLight'])_0x250498['pushLight'](_0x15b87f),_0x15b87f['castShadow']&&_0x250498['pushShadow'](_0x15b87f);else{if(_0x15b87f['isSprite']){if(!_0x15b87f['frustumCulled']||_0x2fd99d['intersectsSprite'](_0x15b87f)){_0x594d40&&_0x4f76b4['setFromMatrixPosition'](_0x15b87f['matrixWorld'])['applyMatrix4'](_0x4c06ff);const _0x4caae6=_0x203657['update'](_0x15b87f),_0x39b1e5=_0x15b87f['material'];_0x39b1e5['visible']&&_0x59fca6['push'](_0x15b87f,_0x4caae6,_0x39b1e5,_0xcf13d7,_0x4f76b4['z'],null);}}else{if((_0x15b87f['isMesh']||_0x15b87f['isLine']||_0x15b87f['isPoints'])&&(!_0x15b87f['frustumCulled']||_0x2fd99d['intersectsObject'](_0x15b87f))){const _0x40fea7=_0x203657['update'](_0x15b87f),_0x354c76=_0x15b87f['material'];if(_0x594d40&&(void 0x0!==_0x15b87f['boundingSphere']?(null===_0x15b87f['boundingSphere']&&_0x15b87f['computeBoundingSphere'](),_0x4f76b4['copy'](_0x15b87f['boundingSphere']['center'])):(null===_0x40fea7['boundingSphere']&&_0x40fea7['computeBoundingSphere'](),_0x4f76b4['copy'](_0x40fea7['boundingSphere']['center'])),_0x4f76b4['applyMatrix4'](_0x15b87f['matrixWorld'])['applyMatrix4'](_0x4c06ff)),Array['isArray'](_0x354c76)){const _0x59b7dc=_0x40fea7['groups'];for(let _0xdae6d8=0x0,_0x40f5b2=_0x59b7dc['length'];_0xdae6d8<_0x40f5b2;_0xdae6d8++){const _0x316f00=_0x59b7dc[_0xdae6d8],_0x2e957f=_0x354c76[_0x316f00['materialIndex']];_0x2e957f&&_0x2e957f['visible']&&_0x59fca6['push'](_0x15b87f,_0x40fea7,_0x2e957f,_0xcf13d7,_0x4f76b4['z'],_0x316f00);}}else _0x354c76['visible']&&_0x59fca6['push'](_0x15b87f,_0x40fea7,_0x354c76,_0xcf13d7,_0x4f76b4['z'],null);}}}}}}const _0xc4faaa=_0x15b87f['children'];for(let _0x129fb2=0x0,_0x190745=_0xc4faaa['length'];_0x129fb2<_0x190745;_0x129fb2++)_0x179c21(_0xc4faaa[_0x129fb2],_0x1dd6dc,_0xcf13d7,_0x594d40);}function _0x4f734a(_0x2d721d,_0x1d9fdf,_0x46f6a5,_0x23ee88){const _0x113a7b=_0x2d721d['opaque'],_0x516c52=_0x2d721d['transmissive'],_0x21ab65=_0x2d721d['transparent'];_0x250498['setupLightsView'](_0x46f6a5),!0x0===_0x5998e0&&_0x20e0cb['setGlobalState'](_0x42ea2b['clippingPlanes'],_0x46f6a5),_0x23ee88&&_0x7f813c['viewport'](_0x496611['copy'](_0x23ee88)),_0x113a7b['length']>0x0&&_0x50a9ac(_0x113a7b,_0x1d9fdf,_0x46f6a5),_0x516c52['length']>0x0&&_0x50a9ac(_0x516c52,_0x1d9fdf,_0x46f6a5),_0x21ab65['length']>0x0&&_0x50a9ac(_0x21ab65,_0x1d9fdf,_0x46f6a5),_0x7f813c['buffers']['depth']['setTest'](!0x0),_0x7f813c['buffers']['depth']['setMask'](!0x0),_0x7f813c['buffers']['color']['setMask'](!0x0),_0x7f813c['setPolygonOffset'](!0x1);}function _0xd8c9a6(_0xab81c8,_0xa6bde5,_0x31ddd8,_0x4ecfe0){if(null!==(!0x0===_0x31ddd8['isScene']?_0x31ddd8['overrideMaterial']:null))return;void 0x0===_0x250498['state']['transmissionRenderTarget'][_0x4ecfe0['id']]&&(_0x250498['state']['transmissionRenderTarget'][_0x4ecfe0['id']]=new _0xfde85b['nWS'](0x1,0x1,{'generateMipmaps':!0x0,'type':_0x812e08['has']('EXT_color_buffer_half_float')||_0x812e08['has']('EXT_color_buffer_float')?_0xfde85b['ix0']:_0xfde85b['OUM'],'minFilter':_0xfde85b['$_I'],'samples':0x4,'stencilBuffer':_0x190870,'resolveDepthBuffer':!0x1,'resolveStencilBuffer':!0x1,'colorSpace':_0xfde85b['ppV']['workingColorSpace']}));const _0xbbb24c=_0x250498['state']['transmissionRenderTarget'][_0x4ecfe0['id']],_0x4cf241=_0x4ecfe0['viewport']||_0x496611;_0xbbb24c['setSize'](_0x4cf241['z']*_0x42ea2b['transmissionResolutionScale'],_0x4cf241['w']*_0x42ea2b['transmissionResolutionScale']);const _0x45bd2e=_0x42ea2b['getRenderTarget']();_0x42ea2b['setRenderTarget'](_0xbbb24c),_0x42ea2b['getClearColor'](_0x3a0430),_0xf7f3d5=_0x42ea2b['getClearAlpha'](),_0xf7f3d5<0x1&&_0x42ea2b['setClearColor'](0xffffff,0.5),_0x42ea2b['clear'](),_0x14a6d6&&_0x62359b['render'](_0x31ddd8);const _0x37310d=_0x42ea2b['toneMapping'];_0x42ea2b['toneMapping']=_0xfde85b['y_p'];const _0xe878c5=_0x4ecfe0['viewport'];if(void 0x0!==_0x4ecfe0['viewport']&&(_0x4ecfe0['viewport']=void 0x0),_0x250498['setupLightsView'](_0x4ecfe0),!0x0===_0x5998e0&&_0x20e0cb['setGlobalState'](_0x42ea2b['clippingPlanes'],_0x4ecfe0),_0x50a9ac(_0xab81c8,_0x31ddd8,_0x4ecfe0),_0x17132c['updateMultisampleRenderTarget'](_0xbbb24c),_0x17132c['updateRenderTargetMipmap'](_0xbbb24c),!0x1===_0x812e08['has']('WEBGL_multisampled_render_to_texture')){let _0x29bf82=!0x1;for(let _0x4911b1=0x0,_0x3b062a=_0xa6bde5['length'];_0x4911b1<_0x3b062a;_0x4911b1++){const _0x3362cd=_0xa6bde5[_0x4911b1],_0x5ede79=_0x3362cd['object'],_0x156f7e=_0x3362cd['geometry'],_0x2bfeb9=_0x3362cd['material'],_0x32aa61=_0x3362cd['group'];if(_0x2bfeb9['side']===_0xfde85b['$EB']&&_0x5ede79['layers']['test'](_0x4ecfe0['layers'])){const _0xcf9ed7=_0x2bfeb9['side'];_0x2bfeb9['side']=_0xfde85b['hsX'],_0x2bfeb9['needsUpdate']=!0x0,_0x1d52e6(_0x5ede79,_0x31ddd8,_0x4ecfe0,_0x156f7e,_0x2bfeb9,_0x32aa61),_0x2bfeb9['side']=_0xcf9ed7,_0x2bfeb9['needsUpdate']=!0x0,_0x29bf82=!0x0;}}!0x0===_0x29bf82&&(_0x17132c['updateMultisampleRenderTarget'](_0xbbb24c),_0x17132c['updateRenderTargetMipmap'](_0xbbb24c));}_0x42ea2b['setRenderTarget'](_0x45bd2e),_0x42ea2b['setClearColor'](_0x3a0430,_0xf7f3d5),void 0x0!==_0xe878c5&&(_0x4ecfe0['viewport']=_0xe878c5),_0x42ea2b['toneMapping']=_0x37310d;}function _0x50a9ac(_0x4fff75,_0x2b3c51,_0x5979fe){const _0x5eb2e9=!0x0===_0x2b3c51['isScene']?_0x2b3c51['overrideMaterial']:null;for(let _0x206931=0x0,_0x2ff361=_0x4fff75['length'];_0x206931<_0x2ff361;_0x206931++){const _0x5b8413=_0x4fff75[_0x206931],_0x5cb18e=_0x5b8413['object'],_0x7e744c=_0x5b8413['geometry'],_0x2c3663=null===_0x5eb2e9?_0x5b8413['material']:_0x5eb2e9,_0x51eaa0=_0x5b8413['group'];_0x5cb18e['layers']['test'](_0x5979fe['layers'])&&_0x1d52e6(_0x5cb18e,_0x2b3c51,_0x5979fe,_0x7e744c,_0x2c3663,_0x51eaa0);}}function _0x1d52e6(_0x1cb26b,_0x46eea2,_0x3079e7,_0x5c4f3c,_0x4eb4dc,_0x581216){_0x1cb26b['onBeforeRender'](_0x42ea2b,_0x46eea2,_0x3079e7,_0x5c4f3c,_0x4eb4dc,_0x581216),_0x1cb26b['modelViewMatrix']['multiplyMatrices'](_0x3079e7['matrixWorldInverse'],_0x1cb26b['matrixWorld']),_0x1cb26b['normalMatrix']['getNormalMatrix'](_0x1cb26b['modelViewMatrix']),_0x4eb4dc['onBeforeRender'](_0x42ea2b,_0x46eea2,_0x3079e7,_0x5c4f3c,_0x1cb26b,_0x581216),!0x0===_0x4eb4dc['transparent']&&_0x4eb4dc['side']===_0xfde85b['$EB']&&!0x1===_0x4eb4dc['forceSinglePass']?(_0x4eb4dc['side']=_0xfde85b['hsX'],_0x4eb4dc['needsUpdate']=!0x0,_0x42ea2b['renderBufferDirect'](_0x3079e7,_0x46eea2,_0x5c4f3c,_0x4eb4dc,_0x1cb26b,_0x581216),_0x4eb4dc['side']=_0xfde85b['hB5'],_0x4eb4dc['needsUpdate']=!0x0,_0x42ea2b['renderBufferDirect'](_0x3079e7,_0x46eea2,_0x5c4f3c,_0x4eb4dc,_0x1cb26b,_0x581216),_0x4eb4dc['side']=_0xfde85b['$EB']):_0x42ea2b['renderBufferDirect'](_0x3079e7,_0x46eea2,_0x5c4f3c,_0x4eb4dc,_0x1cb26b,_0x581216),_0x1cb26b['onAfterRender'](_0x42ea2b,_0x46eea2,_0x3079e7,_0x5c4f3c,_0x4eb4dc,_0x581216);}function _0x2ddd52(_0x4c40b7,_0x37141b,_0x165883){!0x0!==_0x37141b['isScene']&&(_0x37141b=_0x2a65e9);const _0x258c59=_0x3b60a0['get'](_0x4c40b7),_0x555287=_0x250498['state']['lights'],_0x297fc1=_0x250498['state']['shadowsArray'],_0x444246=_0x555287['state']['version'],_0x3dc52b=_0x1f1529['getParameters'](_0x4c40b7,_0x555287['state'],_0x297fc1,_0x37141b,_0x165883),_0x56bb5b=_0x1f1529['getProgramCacheKey'](_0x3dc52b);let _0x180325=_0x258c59['programs'];_0x258c59['environment']=_0x4c40b7['isMeshStandardMaterial']?_0x37141b['environment']:null,_0x258c59['fog']=_0x37141b['fog'],_0x258c59['envMap']=(_0x4c40b7['isMeshStandardMaterial']?_0x520cb6:_0x18efba)['get'](_0x4c40b7['envMap']||_0x258c59['environment']),_0x258c59['envMapRotation']=null!==_0x258c59['environment']&&null===_0x4c40b7['envMap']?_0x37141b['environmentRotation']:_0x4c40b7['envMapRotation'],void 0x0===_0x180325&&(_0x4c40b7['addEventListener']('dispose',_0x25f020),_0x180325=new Map(),_0x258c59['programs']=_0x180325);let _0x3ce7c7=_0x180325['get'](_0x56bb5b);if(void 0x0!==_0x3ce7c7){if(_0x258c59['currentProgram']===_0x3ce7c7&&_0x258c59['lightsStateVersion']===_0x444246)return _0x3ba9de(_0x4c40b7,_0x3dc52b),_0x3ce7c7;}else _0x3dc52b['uniforms']=_0x1f1529['getUniforms'](_0x4c40b7),_0x4c40b7['onBeforeCompile'](_0x3dc52b,_0x42ea2b),_0x3ce7c7=_0x1f1529['acquireProgram'](_0x3dc52b,_0x56bb5b),_0x180325['set'](_0x56bb5b,_0x3ce7c7),_0x258c59['uniforms']=_0x3dc52b['uniforms'];const _0xf768f6=_0x258c59['uniforms'];return(_0x4c40b7['isShaderMaterial']||_0x4c40b7['isRawShaderMaterial'])&&!0x0!==_0x4c40b7['clipping']||(_0xf768f6['clippingPlanes']=_0x20e0cb['uniform']),_0x3ba9de(_0x4c40b7,_0x3dc52b),_0x258c59['needsLights']=function(_0x4124c4){return _0x4124c4['isMeshLambertMaterial']||_0x4124c4['isMeshToonMaterial']||_0x4124c4['isMeshPhongMaterial']||_0x4124c4['isMeshStandardMaterial']||_0x4124c4['isShadowMaterial']||_0x4124c4['isShaderMaterial']&&!0x0===_0x4124c4['lights'];}(_0x4c40b7),_0x258c59['lightsStateVersion']=_0x444246,_0x258c59['needsLights']&&(_0xf768f6['ambientLightColor']['value']=_0x555287['state']['ambient'],_0xf768f6['lightProbe']['value']=_0x555287['state']['probe'],_0xf768f6['directionalLights']['value']=_0x555287['state']['directional'],_0xf768f6['directionalLightShadows']['value']=_0x555287['state']['directionalShadow'],_0xf768f6['spotLights']['value']=_0x555287['state']['spot'],_0xf768f6['spotLightShadows']['value']=_0x555287['state']['spotShadow'],_0xf768f6['rectAreaLights']['value']=_0x555287['state']['rectArea'],_0xf768f6['ltc_1']['value']=_0x555287['state']['rectAreaLTC1'],_0xf768f6['ltc_2']['value']=_0x555287['state']['rectAreaLTC2'],_0xf768f6['pointLights']['value']=_0x555287['state']['point'],_0xf768f6['pointLightShadows']['value']=_0x555287['state']['pointShadow'],_0xf768f6['hemisphereLights']['value']=_0x555287['state']['hemi'],_0xf768f6['directionalShadowMap']['value']=_0x555287['state']['directionalShadowMap'],_0xf768f6['directionalShadowMatrix']['value']=_0x555287['state']['directionalShadowMatrix'],_0xf768f6['spotShadowMap']['value']=_0x555287['state']['spotShadowMap'],_0xf768f6['spotLightMatrix']['value']=_0x555287['state']['spotLightMatrix'],_0xf768f6['spotLightMap']['value']=_0x555287['state']['spotLightMap'],_0xf768f6['pointShadowMap']['value']=_0x555287['state']['pointShadowMap'],_0xf768f6['pointShadowMatrix']['value']=_0x555287['state']['pointShadowMatrix']),_0x258c59['currentProgram']=_0x3ce7c7,_0x258c59['uniformsList']=null,_0x3ce7c7;}function _0x32a07a(_0x120050){if(null===_0x120050['uniformsList']){const _0x3830d8=_0x120050['currentProgram']['getUniforms']();_0x120050['uniformsList']=_0x524198['seqWithValue'](_0x3830d8['seq'],_0x120050['uniforms']);}return _0x120050['uniformsList'];}function _0x3ba9de(_0x1e0c84,_0x2d1370){const _0x41b2ce=_0x3b60a0['get'](_0x1e0c84);_0x41b2ce['outputColorSpace']=_0x2d1370['outputColorSpace'],_0x41b2ce['batching']=_0x2d1370['batching'],_0x41b2ce['batchingColor']=_0x2d1370['batchingColor'],_0x41b2ce['instancing']=_0x2d1370['instancing'],_0x41b2ce['instancingColor']=_0x2d1370['instancingColor'],_0x41b2ce['instancingMorph']=_0x2d1370['instancingMorph'],_0x41b2ce['skinning']=_0x2d1370['skinning'],_0x41b2ce['morphTargets']=_0x2d1370['morphTargets'],_0x41b2ce['morphNormals']=_0x2d1370['morphNormals'],_0x41b2ce['morphColors']=_0x2d1370['morphColors'],_0x41b2ce['morphTargetsCount']=_0x2d1370['morphTargetsCount'],_0x41b2ce['numClippingPlanes']=_0x2d1370['numClippingPlanes'],_0x41b2ce['numIntersection']=_0x2d1370['numClipIntersection'],_0x41b2ce['vertexAlphas']=_0x2d1370['vertexAlphas'],_0x41b2ce['vertexTangents']=_0x2d1370['vertexTangents'],_0x41b2ce['toneMapping']=_0x2d1370['toneMapping'];}_0x49889f['setAnimationLoop'](function(_0x3ecd4a){_0x50a181&&_0x50a181(_0x3ecd4a);}),'undefined'!=typeof self&&_0x49889f['setContext'](self),this['setAnimationLoop']=function(_0x94d452){_0x50a181=_0x94d452,_0x222cdf['setAnimationLoop'](_0x94d452),null===_0x94d452?_0x49889f['stop']():_0x49889f['start']();},_0x222cdf['addEventListener']('sessionstart',_0x16c0ad),_0x222cdf['addEventListener']('sessionend',_0x320997),this['render']=function(_0x3f3887,_0x2e3b25){if(void 0x0!==_0x2e3b25&&!0x0!==_0x2e3b25['isCamera'])return void console['error']('THREE.WebGLRenderer.render:\x20camera\x20is\x20not\x20an\x20instance\x20of\x20THREE.Camera.');if(!0x0===_0x4b276d)return;if(!0x0===_0x3f3887['matrixWorldAutoUpdate']&&_0x3f3887['updateMatrixWorld'](),null===_0x2e3b25['parent']&&!0x0===_0x2e3b25['matrixWorldAutoUpdate']&&_0x2e3b25['updateMatrixWorld'](),!0x0===_0x222cdf['enabled']&&!0x0===_0x222cdf['isPresenting']&&(!0x0===_0x222cdf['cameraAutoUpdate']&&_0x222cdf['updateCamera'](_0x2e3b25),_0x2e3b25=_0x222cdf['getCamera']()),!0x0===_0x3f3887['isScene']&&_0x3f3887['onBeforeRender'](_0x42ea2b,_0x3f3887,_0x2e3b25,_0x494269),_0x250498=_0x5dfe24['get'](_0x3f3887,_0x621028['length']),_0x250498['init'](_0x2e3b25),_0x621028['push'](_0x250498),_0x4c06ff['multiplyMatrices'](_0x2e3b25['projectionMatrix'],_0x2e3b25['matrixWorldInverse']),_0x2fd99d['setFromProjectionMatrix'](_0x4c06ff),_0x1ef712=this['localClippingEnabled'],_0x5998e0=_0x20e0cb['init'](this['clippingPlanes'],_0x1ef712),_0x59fca6=_0x5bca04['get'](_0x3f3887,_0x4c3296['length']),_0x59fca6['init'](),_0x4c3296['push'](_0x59fca6),!0x0===_0x222cdf['enabled']&&!0x0===_0x222cdf['isPresenting']){const _0x2292ab=_0x42ea2b['xr']['getDepthSensingMesh']();null!==_0x2292ab&&_0x179c21(_0x2292ab,_0x2e3b25,-0x1/0x0,_0x42ea2b['sortObjects']);}_0x179c21(_0x3f3887,_0x2e3b25,0x0,_0x42ea2b['sortObjects']),_0x59fca6['finish'](),!0x0===_0x42ea2b['sortObjects']&&_0x59fca6['sort'](_0x52915b,_0x5a07bc),_0x14a6d6=!0x1===_0x222cdf['enabled']||!0x1===_0x222cdf['isPresenting']||!0x1===_0x222cdf['hasDepthSensing'](),_0x14a6d6&&_0x62359b['addToRenderList'](_0x59fca6,_0x3f3887),this['info']['render']['frame']++,!0x0===_0x5998e0&&_0x20e0cb['beginShadows']();const _0x3b01c7=_0x250498['state']['shadowsArray'];_0x57a6d4['render'](_0x3b01c7,_0x3f3887,_0x2e3b25),!0x0===_0x5998e0&&_0x20e0cb['endShadows'](),!0x0===this['info']['autoReset']&&this['info']['reset']();const _0x422bb1=_0x59fca6['opaque'],_0x23098a=_0x59fca6['transmissive'];if(_0x250498['setupLights'](),_0x2e3b25['isArrayCamera']){const _0x3ccd48=_0x2e3b25['cameras'];if(_0x23098a['length']>0x0)for(let _0x5d5f5b=0x0,_0x3e773d=_0x3ccd48['length'];_0x5d5f5b<_0x3e773d;_0x5d5f5b++){_0xd8c9a6(_0x422bb1,_0x23098a,_0x3f3887,_0x3ccd48[_0x5d5f5b]);}_0x14a6d6&&_0x62359b['render'](_0x3f3887);for(let _0x5a682f=0x0,_0x33427b=_0x3ccd48['length'];_0x5a682f<_0x33427b;_0x5a682f++){const _0x4da834=_0x3ccd48[_0x5a682f];_0x4f734a(_0x59fca6,_0x3f3887,_0x4da834,_0x4da834['viewport']);}}else _0x23098a['length']>0x0&&_0xd8c9a6(_0x422bb1,_0x23098a,_0x3f3887,_0x2e3b25),_0x14a6d6&&_0x62359b['render'](_0x3f3887),_0x4f734a(_0x59fca6,_0x3f3887,_0x2e3b25);null!==_0x494269&&0x0===_0x32a911&&(_0x17132c['updateMultisampleRenderTarget'](_0x494269),_0x17132c['updateRenderTargetMipmap'](_0x494269)),!0x0===_0x3f3887['isScene']&&_0x3f3887['onAfterRender'](_0x42ea2b,_0x3f3887,_0x2e3b25),_0x3499cb['resetDefaultState'](),_0x5d84db=-0x1,_0x1d312e=null,_0x621028['pop'](),_0x621028['length']>0x0?(_0x250498=_0x621028[_0x621028['length']-0x1],!0x0===_0x5998e0&&_0x20e0cb['setGlobalState'](_0x42ea2b['clippingPlanes'],_0x250498['state']['camera'])):_0x250498=null,_0x4c3296['pop'](),_0x59fca6=_0x4c3296['length']>0x0?_0x4c3296[_0x4c3296['length']-0x1]:null;},this['getActiveCubeFace']=function(){return _0x2b9734;},this['getActiveMipmapLevel']=function(){return _0x32a911;},this['getRenderTarget']=function(){return _0x494269;},this['setRenderTargetTextures']=function(_0x308f8f,_0x3a025c,_0x3ceed8){_0x3b60a0['get'](_0x308f8f['texture'])['__webglTexture']=_0x3a025c,_0x3b60a0['get'](_0x308f8f['depthTexture'])['__webglTexture']=_0x3ceed8;const _0x151f4d=_0x3b60a0['get'](_0x308f8f);_0x151f4d['__hasExternalTextures']=!0x0,_0x151f4d['__autoAllocateDepthBuffer']=void 0x0===_0x3ceed8,_0x151f4d['__autoAllocateDepthBuffer']||!0x0===_0x812e08['has']('WEBGL_multisampled_render_to_texture')&&(console['warn']('THREE.WebGLRenderer:\x20Render-to-texture\x20extension\x20was\x20disabled\x20because\x20an\x20external\x20texture\x20was\x20provided'),_0x151f4d['__useRenderToTexture']=!0x1);},this['setRenderTargetFramebuffer']=function(_0x4c1452,_0x303b45){const _0x392bf8=_0x3b60a0['get'](_0x4c1452);_0x392bf8['__webglFramebuffer']=_0x303b45,_0x392bf8['__useDefaultFramebuffer']=void 0x0===_0x303b45;};const _0x9e0e6f=_0x57c30d['createFramebuffer']();this['setRenderTarget']=function(_0x40bb5f,_0x2c9962=0x0,_0x585d8a=0x0){_0x494269=_0x40bb5f,_0x2b9734=_0x2c9962,_0x32a911=_0x585d8a;let _0xaf48db=!0x0,_0xe0e7ea=null,_0x365ee9=!0x1,_0x3e8453=!0x1;if(_0x40bb5f){const _0x92dee9=_0x3b60a0['get'](_0x40bb5f);if(void 0x0!==_0x92dee9['__useDefaultFramebuffer'])_0x7f813c['bindFramebuffer'](_0x57c30d['FRAMEBUFFER'],null),_0xaf48db=!0x1;else{if(void 0x0===_0x92dee9['__webglFramebuffer'])_0x17132c['setupRenderTarget'](_0x40bb5f);else{if(_0x92dee9['__hasExternalTextures'])_0x17132c['rebindTextures'](_0x40bb5f,_0x3b60a0['get'](_0x40bb5f['texture'])['__webglTexture'],_0x3b60a0['get'](_0x40bb5f['depthTexture'])['__webglTexture']);else{if(_0x40bb5f['depthBuffer']){const _0x440a8a=_0x40bb5f['depthTexture'];if(_0x92dee9['__boundDepthTexture']!==_0x440a8a){if(null!==_0x440a8a&&_0x3b60a0['has'](_0x440a8a)&&(_0x40bb5f['width']!==_0x440a8a['image']['width']||_0x40bb5f['height']!==_0x440a8a['image']['height']))throw new Error('WebGLRenderTarget:\x20Attached\x20DepthTexture\x20is\x20initialized\x20to\x20the\x20incorrect\x20size.');_0x17132c['setupDepthRenderbuffer'](_0x40bb5f);}}}}}const _0x30a3ee=_0x40bb5f['texture'];(_0x30a3ee['isData3DTexture']||_0x30a3ee['isDataArrayTexture']||_0x30a3ee['isCompressedArrayTexture'])&&(_0x3e8453=!0x0);const _0x5d268a=_0x3b60a0['get'](_0x40bb5f)['__webglFramebuffer'];_0x40bb5f['isWebGLCubeRenderTarget']?(_0xe0e7ea=Array['isArray'](_0x5d268a[_0x2c9962])?_0x5d268a[_0x2c9962][_0x585d8a]:_0x5d268a[_0x2c9962],_0x365ee9=!0x0):_0xe0e7ea=_0x40bb5f['samples']>0x0&&!0x1===_0x17132c['useMultisampledRTT'](_0x40bb5f)?_0x3b60a0['get'](_0x40bb5f)['__webglMultisampledFramebuffer']:Array['isArray'](_0x5d268a)?_0x5d268a[_0x585d8a]:_0x5d268a,_0x496611['copy'](_0x40bb5f['viewport']),_0x38584a['copy'](_0x40bb5f['scissor']),_0x1246c0=_0x40bb5f['scissorTest'];}else _0x496611['copy'](_0x12b4ab)['multiplyScalar'](_0x5619ce)['floor'](),_0x38584a['copy'](_0x51f4ab)['multiplyScalar'](_0x5619ce)['floor'](),_0x1246c0=_0x2d7539;0x0!==_0x585d8a&&(_0xe0e7ea=_0x9e0e6f);if(_0x7f813c['bindFramebuffer'](_0x57c30d['FRAMEBUFFER'],_0xe0e7ea)&&_0xaf48db&&_0x7f813c['drawBuffers'](_0x40bb5f,_0xe0e7ea),_0x7f813c['viewport'](_0x496611),_0x7f813c['scissor'](_0x38584a),_0x7f813c['setScissorTest'](_0x1246c0),_0x365ee9){const _0x345570=_0x3b60a0['get'](_0x40bb5f['texture']);_0x57c30d['framebufferTexture2D'](_0x57c30d['FRAMEBUFFER'],_0x57c30d['COLOR_ATTACHMENT0'],_0x57c30d['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x2c9962,_0x345570['__webglTexture'],_0x585d8a);}else{if(_0x3e8453){const _0x2116d0=_0x3b60a0['get'](_0x40bb5f['texture']),_0x3ff1e3=_0x2c9962;_0x57c30d['framebufferTextureLayer'](_0x57c30d['FRAMEBUFFER'],_0x57c30d['COLOR_ATTACHMENT0'],_0x2116d0['__webglTexture'],_0x585d8a,_0x3ff1e3);}else{if(null!==_0x40bb5f&&0x0!==_0x585d8a){const _0x3ba9a0=_0x3b60a0['get'](_0x40bb5f['texture']);_0x57c30d['framebufferTexture2D'](_0x57c30d['FRAMEBUFFER'],_0x57c30d['COLOR_ATTACHMENT0'],_0x57c30d['TEXTURE_2D'],_0x3ba9a0['__webglTexture'],_0x585d8a);}}}_0x5d84db=-0x1;},this['readRenderTargetPixels']=function(_0x352d20,_0x22ceaa,_0x4a09f7,_0x185ed8,_0x249e8a,_0x22da2a,_0x2b0d1d){if(!_0x352d20||!_0x352d20['isWebGLRenderTarget'])return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20THREE.WebGLRenderTarget.');let _0x25deec=_0x3b60a0['get'](_0x352d20)['__webglFramebuffer'];if(_0x352d20['isWebGLCubeRenderTarget']&&void 0x0!==_0x2b0d1d&&(_0x25deec=_0x25deec[_0x2b0d1d]),_0x25deec){_0x7f813c['bindFramebuffer'](_0x57c30d['FRAMEBUFFER'],_0x25deec);try{const _0x22db47=_0x352d20['texture'],_0x4b6277=_0x22db47['format'],_0xc05afe=_0x22db47['type'];if(!_0x1c3243['textureFormatReadable'](_0x4b6277))return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20in\x20RGBA\x20or\x20implementation\x20defined\x20format.');if(!_0x1c3243['textureTypeReadable'](_0xc05afe))return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20in\x20UnsignedByteType\x20or\x20implementation\x20defined\x20type.');_0x22ceaa>=0x0&&_0x22ceaa<=_0x352d20['width']-_0x185ed8&&_0x4a09f7>=0x0&&_0x4a09f7<=_0x352d20['height']-_0x249e8a&&_0x57c30d['readPixels'](_0x22ceaa,_0x4a09f7,_0x185ed8,_0x249e8a,_0x1d0388['convert'](_0x4b6277),_0x1d0388['convert'](_0xc05afe),_0x22da2a);}finally{const _0x53d893=null!==_0x494269?_0x3b60a0['get'](_0x494269)['__webglFramebuffer']:null;_0x7f813c['bindFramebuffer'](_0x57c30d['FRAMEBUFFER'],_0x53d893);}}},this['readRenderTargetPixelsAsync']=async function(_0x44eab1,_0x151ce3,_0x180ad3,_0x276397,_0x24d1f2,_0x387ed7,_0x166964){if(!_0x44eab1||!_0x44eab1['isWebGLRenderTarget'])throw new Error('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20THREE.WebGLRenderTarget.');let _0x81f4b=_0x3b60a0['get'](_0x44eab1)['__webglFramebuffer'];if(_0x44eab1['isWebGLCubeRenderTarget']&&void 0x0!==_0x166964&&(_0x81f4b=_0x81f4b[_0x166964]),_0x81f4b){const _0x312108=_0x44eab1['texture'],_0xe49a2a=_0x312108['format'],_0x2b0604=_0x312108['type'];if(!_0x1c3243['textureFormatReadable'](_0xe49a2a))throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20renderTarget\x20is\x20not\x20in\x20RGBA\x20or\x20implementation\x20defined\x20format.');if(!_0x1c3243['textureTypeReadable'](_0x2b0604))throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20renderTarget\x20is\x20not\x20in\x20UnsignedByteType\x20or\x20implementation\x20defined\x20type.');if(_0x151ce3>=0x0&&_0x151ce3<=_0x44eab1['width']-_0x276397&&_0x180ad3>=0x0&&_0x180ad3<=_0x44eab1['height']-_0x24d1f2){_0x7f813c['bindFramebuffer'](_0x57c30d['FRAMEBUFFER'],_0x81f4b);const _0x5c0bf8=_0x57c30d['createBuffer']();_0x57c30d['bindBuffer'](_0x57c30d['PIXEL_PACK_BUFFER'],_0x5c0bf8),_0x57c30d['bufferData'](_0x57c30d['PIXEL_PACK_BUFFER'],_0x387ed7['byteLength'],_0x57c30d['STREAM_READ']),_0x57c30d['readPixels'](_0x151ce3,_0x180ad3,_0x276397,_0x24d1f2,_0x1d0388['convert'](_0xe49a2a),_0x1d0388['convert'](_0x2b0604),0x0);const _0x3d7151=null!==_0x494269?_0x3b60a0['get'](_0x494269)['__webglFramebuffer']:null;_0x7f813c['bindFramebuffer'](_0x57c30d['FRAMEBUFFER'],_0x3d7151);const _0x4439e6=_0x57c30d['fenceSync'](_0x57c30d['SYNC_GPU_COMMANDS_COMPLETE'],0x0);return _0x57c30d['flush'](),await(0x0,_0xfde85b['jej'])(_0x57c30d,_0x4439e6,0x4),_0x57c30d['bindBuffer'](_0x57c30d['PIXEL_PACK_BUFFER'],_0x5c0bf8),_0x57c30d['getBufferSubData'](_0x57c30d['PIXEL_PACK_BUFFER'],0x0,_0x387ed7),_0x57c30d['deleteBuffer'](_0x5c0bf8),_0x57c30d['deleteSync'](_0x4439e6),_0x387ed7;}throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20requested\x20read\x20bounds\x20are\x20out\x20of\x20range.');}},this['copyFramebufferToTexture']=function(_0x10d952,_0x533f30=null,_0x195d96=0x0){!0x0!==_0x10d952['isTexture']&&((0x0,_0xfde85b['mcG'])('WebGLRenderer:\x20copyFramebufferToTexture\x20function\x20signature\x20has\x20changed.'),_0x533f30=arguments[0x0]||null,_0x10d952=arguments[0x1]);const _0x3a774b=Math['pow'](0x2,-_0x195d96),_0x87ab9b=Math['floor'](_0x10d952['image']['width']*_0x3a774b),_0x15428a=Math['floor'](_0x10d952['image']['height']*_0x3a774b),_0x34d3b5=null!==_0x533f30?_0x533f30['x']:0x0,_0x510833=null!==_0x533f30?_0x533f30['y']:0x0;_0x17132c['setTexture2D'](_0x10d952,0x0),_0x57c30d['copyTexSubImage2D'](_0x57c30d['TEXTURE_2D'],_0x195d96,0x0,0x0,_0x34d3b5,_0x510833,_0x87ab9b,_0x15428a),_0x7f813c['unbindTexture']();};const _0xe7a696=_0x57c30d['createFramebuffer'](),_0xefd9ea=_0x57c30d['createFramebuffer']();this['copyTextureToTexture']=function(_0x498ccc,_0x6d034a,_0x3e64e2=null,_0x5430c8=null,_0x3a5386=0x0,_0x19ca2a=null){let _0x8e0c65,_0x5416c7,_0x416d51,_0x1a00c7,_0x3f0385,_0x187744,_0x1733b1,_0x1cf0f3,_0x299473;!0x0!==_0x498ccc['isTexture']&&((0x0,_0xfde85b['mcG'])('WebGLRenderer:\x20copyTextureToTexture\x20function\x20signature\x20has\x20changed.'),_0x5430c8=arguments[0x0]||null,_0x498ccc=arguments[0x1],_0x6d034a=arguments[0x2],_0x19ca2a=arguments[0x3]||0x0,_0x3e64e2=null),null===_0x19ca2a&&(0x0!==_0x3a5386?((0x0,_0xfde85b['mcG'])('WebGLRenderer:\x20copyTextureToTexture\x20function\x20signature\x20has\x20changed\x20to\x20support\x20src\x20and\x20dst\x20mipmap\x20levels.'),_0x19ca2a=_0x3a5386,_0x3a5386=0x0):_0x19ca2a=0x0);const _0x324a78=_0x498ccc['isCompressedTexture']?_0x498ccc['mipmaps'][_0x19ca2a]:_0x498ccc['image'];if(null!==_0x3e64e2)_0x8e0c65=_0x3e64e2['max']['x']-_0x3e64e2['min']['x'],_0x5416c7=_0x3e64e2['max']['y']-_0x3e64e2['min']['y'],_0x416d51=_0x3e64e2['isBox3']?_0x3e64e2['max']['z']-_0x3e64e2['min']['z']:0x1,_0x1a00c7=_0x3e64e2['min']['x'],_0x3f0385=_0x3e64e2['min']['y'],_0x187744=_0x3e64e2['isBox3']?_0x3e64e2['min']['z']:0x0;else{const _0x358f2c=Math['pow'](0x2,-_0x3a5386);_0x8e0c65=Math['floor'](_0x324a78['width']*_0x358f2c),_0x5416c7=Math['floor'](_0x324a78['height']*_0x358f2c),_0x416d51=_0x498ccc['isDataArrayTexture']?_0x324a78['depth']:_0x498ccc['isData3DTexture']?Math['floor'](_0x324a78['depth']*_0x358f2c):0x1,_0x1a00c7=0x0,_0x3f0385=0x0,_0x187744=0x0;}null!==_0x5430c8?(_0x1733b1=_0x5430c8['x'],_0x1cf0f3=_0x5430c8['y'],_0x299473=_0x5430c8['z']):(_0x1733b1=0x0,_0x1cf0f3=0x0,_0x299473=0x0);const _0x5a1f7c=_0x1d0388['convert'](_0x6d034a['format']),_0x3f2f7d=_0x1d0388['convert'](_0x6d034a['type']);let _0x29f97b;_0x6d034a['isData3DTexture']?(_0x17132c['setTexture3D'](_0x6d034a,0x0),_0x29f97b=_0x57c30d['TEXTURE_3D']):_0x6d034a['isDataArrayTexture']||_0x6d034a['isCompressedArrayTexture']?(_0x17132c['setTexture2DArray'](_0x6d034a,0x0),_0x29f97b=_0x57c30d['TEXTURE_2D_ARRAY']):(_0x17132c['setTexture2D'](_0x6d034a,0x0),_0x29f97b=_0x57c30d['TEXTURE_2D']),_0x57c30d['pixelStorei'](_0x57c30d['UNPACK_FLIP_Y_WEBGL'],_0x6d034a['flipY']),_0x57c30d['pixelStorei'](_0x57c30d['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x6d034a['premultiplyAlpha']),_0x57c30d['pixelStorei'](_0x57c30d['UNPACK_ALIGNMENT'],_0x6d034a['unpackAlignment']);const _0x19379c=_0x57c30d['getParameter'](_0x57c30d['UNPACK_ROW_LENGTH']),_0x5aa319=_0x57c30d['getParameter'](_0x57c30d['UNPACK_IMAGE_HEIGHT']),_0x1053f4=_0x57c30d['getParameter'](_0x57c30d['UNPACK_SKIP_PIXELS']),_0x580cf5=_0x57c30d['getParameter'](_0x57c30d['UNPACK_SKIP_ROWS']),_0x39abe2=_0x57c30d['getParameter'](_0x57c30d['UNPACK_SKIP_IMAGES']);_0x57c30d['pixelStorei'](_0x57c30d['UNPACK_ROW_LENGTH'],_0x324a78['width']),_0x57c30d['pixelStorei'](_0x57c30d['UNPACK_IMAGE_HEIGHT'],_0x324a78['height']),_0x57c30d['pixelStorei'](_0x57c30d['UNPACK_SKIP_PIXELS'],_0x1a00c7),_0x57c30d['pixelStorei'](_0x57c30d['UNPACK_SKIP_ROWS'],_0x3f0385),_0x57c30d['pixelStorei'](_0x57c30d['UNPACK_SKIP_IMAGES'],_0x187744);const _0x3e59ed=_0x498ccc['isDataArrayTexture']||_0x498ccc['isData3DTexture'],_0x3c5434=_0x6d034a['isDataArrayTexture']||_0x6d034a['isData3DTexture'];if(_0x498ccc['isDepthTexture']){const _0x47622=_0x3b60a0['get'](_0x498ccc),_0x1c4952=_0x3b60a0['get'](_0x6d034a),_0x2a577f=_0x3b60a0['get'](_0x47622['__renderTarget']),_0xc8f5d7=_0x3b60a0['get'](_0x1c4952['__renderTarget']);_0x7f813c['bindFramebuffer'](_0x57c30d['READ_FRAMEBUFFER'],_0x2a577f['__webglFramebuffer']),_0x7f813c['bindFramebuffer'](_0x57c30d['DRAW_FRAMEBUFFER'],_0xc8f5d7['__webglFramebuffer']);for(let _0x500460=0x0;_0x500460<_0x416d51;_0x500460++)_0x3e59ed&&(_0x57c30d['framebufferTextureLayer'](_0x57c30d['READ_FRAMEBUFFER'],_0x57c30d['COLOR_ATTACHMENT0'],_0x3b60a0['get'](_0x498ccc)['__webglTexture'],_0x3a5386,_0x187744+_0x500460),_0x57c30d['framebufferTextureLayer'](_0x57c30d['DRAW_FRAMEBUFFER'],_0x57c30d['COLOR_ATTACHMENT0'],_0x3b60a0['get'](_0x6d034a)['__webglTexture'],_0x19ca2a,_0x299473+_0x500460)),_0x57c30d['blitFramebuffer'](_0x1a00c7,_0x3f0385,_0x8e0c65,_0x5416c7,_0x1733b1,_0x1cf0f3,_0x8e0c65,_0x5416c7,_0x57c30d['DEPTH_BUFFER_BIT'],_0x57c30d['NEAREST']);_0x7f813c['bindFramebuffer'](_0x57c30d['READ_FRAMEBUFFER'],null),_0x7f813c['bindFramebuffer'](_0x57c30d['DRAW_FRAMEBUFFER'],null);}else{if(0x0!==_0x3a5386||_0x498ccc['isRenderTargetTexture']||_0x3b60a0['has'](_0x498ccc)){const _0x1abf2e=_0x3b60a0['get'](_0x498ccc),_0x44cbb4=_0x3b60a0['get'](_0x6d034a);_0x7f813c['bindFramebuffer'](_0x57c30d['READ_FRAMEBUFFER'],_0xe7a696),_0x7f813c['bindFramebuffer'](_0x57c30d['DRAW_FRAMEBUFFER'],_0xefd9ea);for(let _0x3a2c21=0x0;_0x3a2c21<_0x416d51;_0x3a2c21++)_0x3e59ed?_0x57c30d['framebufferTextureLayer'](_0x57c30d['READ_FRAMEBUFFER'],_0x57c30d['COLOR_ATTACHMENT0'],_0x1abf2e['__webglTexture'],_0x3a5386,_0x187744+_0x3a2c21):_0x57c30d['framebufferTexture2D'](_0x57c30d['READ_FRAMEBUFFER'],_0x57c30d['COLOR_ATTACHMENT0'],_0x57c30d['TEXTURE_2D'],_0x1abf2e['__webglTexture'],_0x3a5386),_0x3c5434?_0x57c30d['framebufferTextureLayer'](_0x57c30d['DRAW_FRAMEBUFFER'],_0x57c30d['COLOR_ATTACHMENT0'],_0x44cbb4['__webglTexture'],_0x19ca2a,_0x299473+_0x3a2c21):_0x57c30d['framebufferTexture2D'](_0x57c30d['DRAW_FRAMEBUFFER'],_0x57c30d['COLOR_ATTACHMENT0'],_0x57c30d['TEXTURE_2D'],_0x44cbb4['__webglTexture'],_0x19ca2a),0x0!==_0x3a5386?_0x57c30d['blitFramebuffer'](_0x1a00c7,_0x3f0385,_0x8e0c65,_0x5416c7,_0x1733b1,_0x1cf0f3,_0x8e0c65,_0x5416c7,_0x57c30d['COLOR_BUFFER_BIT'],_0x57c30d['NEAREST']):_0x3c5434?_0x57c30d['copyTexSubImage3D'](_0x29f97b,_0x19ca2a,_0x1733b1,_0x1cf0f3,_0x299473+_0x3a2c21,_0x1a00c7,_0x3f0385,_0x8e0c65,_0x5416c7):_0x57c30d['copyTexSubImage2D'](_0x29f97b,_0x19ca2a,_0x1733b1,_0x1cf0f3,_0x1a00c7,_0x3f0385,_0x8e0c65,_0x5416c7);_0x7f813c['bindFramebuffer'](_0x57c30d['READ_FRAMEBUFFER'],null),_0x7f813c['bindFramebuffer'](_0x57c30d['DRAW_FRAMEBUFFER'],null);}else _0x3c5434?_0x498ccc['isDataTexture']||_0x498ccc['isData3DTexture']?_0x57c30d['texSubImage3D'](_0x29f97b,_0x19ca2a,_0x1733b1,_0x1cf0f3,_0x299473,_0x8e0c65,_0x5416c7,_0x416d51,_0x5a1f7c,_0x3f2f7d,_0x324a78['data']):_0x6d034a['isCompressedArrayTexture']?_0x57c30d['compressedTexSubImage3D'](_0x29f97b,_0x19ca2a,_0x1733b1,_0x1cf0f3,_0x299473,_0x8e0c65,_0x5416c7,_0x416d51,_0x5a1f7c,_0x324a78['data']):_0x57c30d['texSubImage3D'](_0x29f97b,_0x19ca2a,_0x1733b1,_0x1cf0f3,_0x299473,_0x8e0c65,_0x5416c7,_0x416d51,_0x5a1f7c,_0x3f2f7d,_0x324a78):_0x498ccc['isDataTexture']?_0x57c30d['texSubImage2D'](_0x57c30d['TEXTURE_2D'],_0x19ca2a,_0x1733b1,_0x1cf0f3,_0x8e0c65,_0x5416c7,_0x5a1f7c,_0x3f2f7d,_0x324a78['data']):_0x498ccc['isCompressedTexture']?_0x57c30d['compressedTexSubImage2D'](_0x57c30d['TEXTURE_2D'],_0x19ca2a,_0x1733b1,_0x1cf0f3,_0x324a78['width'],_0x324a78['height'],_0x5a1f7c,_0x324a78['data']):_0x57c30d['texSubImage2D'](_0x57c30d['TEXTURE_2D'],_0x19ca2a,_0x1733b1,_0x1cf0f3,_0x8e0c65,_0x5416c7,_0x5a1f7c,_0x3f2f7d,_0x324a78);}_0x57c30d['pixelStorei'](_0x57c30d['UNPACK_ROW_LENGTH'],_0x19379c),_0x57c30d['pixelStorei'](_0x57c30d['UNPACK_IMAGE_HEIGHT'],_0x5aa319),_0x57c30d['pixelStorei'](_0x57c30d['UNPACK_SKIP_PIXELS'],_0x1053f4),_0x57c30d['pixelStorei'](_0x57c30d['UNPACK_SKIP_ROWS'],_0x580cf5),_0x57c30d['pixelStorei'](_0x57c30d['UNPACK_SKIP_IMAGES'],_0x39abe2),0x0===_0x19ca2a&&_0x6d034a['generateMipmaps']&&_0x57c30d['generateMipmap'](_0x29f97b),_0x7f813c['unbindTexture']();},this['copyTextureToTexture3D']=function(_0x4894ac,_0x5f3532,_0x4e6b4c=null,_0xd6f116=null,_0x225112=0x0){return!0x0!==_0x4894ac['isTexture']&&((0x0,_0xfde85b['mcG'])('WebGLRenderer:\x20copyTextureToTexture3D\x20function\x20signature\x20has\x20changed.'),_0x4e6b4c=arguments[0x0]||null,_0xd6f116=arguments[0x1]||null,_0x4894ac=arguments[0x2],_0x5f3532=arguments[0x3],_0x225112=arguments[0x4]||0x0),(0x0,_0xfde85b['mcG'])('WebGLRenderer:\x20copyTextureToTexture3D\x20function\x20has\x20been\x20deprecated.\x20Use\x20\x22copyTextureToTexture\x22\x20instead.'),this['copyTextureToTexture'](_0x4894ac,_0x5f3532,_0x4e6b4c,_0xd6f116,_0x225112);},this['initRenderTarget']=function(_0x30c1fc){void 0x0===_0x3b60a0['get'](_0x30c1fc)['__webglFramebuffer']&&_0x17132c['setupRenderTarget'](_0x30c1fc);},this['initTexture']=function(_0x4b3258){_0x4b3258['isCubeTexture']?_0x17132c['setTextureCube'](_0x4b3258,0x0):_0x4b3258['isData3DTexture']?_0x17132c['setTexture3D'](_0x4b3258,0x0):_0x4b3258['isDataArrayTexture']||_0x4b3258['isCompressedArrayTexture']?_0x17132c['setTexture2DArray'](_0x4b3258,0x0):_0x17132c['setTexture2D'](_0x4b3258,0x0),_0x7f813c['unbindTexture']();},this['resetState']=function(){_0x2b9734=0x0,_0x32a911=0x0,_0x494269=null,_0x7f813c['reset'](),_0x3499cb['reset']();},'undefined'!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__['dispatchEvent'](new CustomEvent('observe',{'detail':this}));}get['coordinateSystem'](){return _0xfde85b['TdN'];}get['outputColorSpace'](){return this['_outputColorSpace'];}set['outputColorSpace'](_0x41877e){this['_outputColorSpace']=_0x41877e;const _0x1a3efe=this['getContext']();_0x1a3efe['drawingBufferColorspace']=_0xfde85b['ppV']['_getDrawingBufferColorSpace'](_0x41877e),_0x1a3efe['unpackColorSpace']=_0xfde85b['ppV']['_getUnpackColorSpace']();}}}}]);