'use strict';(this['webpackChunkbecomap']=this['webpackChunkbecomap']||[])['push']([[0x282],{0x24dd:(_0x2ac9c6,_0x445e64,_0x2a308e)=>{_0x2a308e['d'](_0x445e64,{'JeP':()=>_0x2235b9,'vxI':()=>_0x2046f9});var _0x42bc67=_0x2a308e(0x133a);function _0x5b234e(){let _0x1f4383=null,_0x50d363=!0x1,_0x1d88ba=null,_0x14636c=null;function _0x372403(_0x41a5e0,_0x37b0f2){_0x1d88ba(_0x41a5e0,_0x37b0f2),_0x14636c=_0x1f4383['requestAnimationFrame'](_0x372403);}return{'start':function(){!0x0!==_0x50d363&&null!==_0x1d88ba&&(_0x14636c=_0x1f4383['requestAnimationFrame'](_0x372403),_0x50d363=!0x0);},'stop':function(){_0x1f4383['cancelAnimationFrame'](_0x14636c),_0x50d363=!0x1;},'setAnimationLoop':function(_0x14ddb4){_0x1d88ba=_0x14ddb4;},'setContext':function(_0x30cf11){_0x1f4383=_0x30cf11;}};}function _0x2f665b(_0x4afae9){const _0x4584ff=new WeakMap();return{'get':function(_0x3a3c71){return _0x3a3c71['isInterleavedBufferAttribute']&&(_0x3a3c71=_0x3a3c71['data']),_0x4584ff['get'](_0x3a3c71);},'remove':function(_0x43b5ec){_0x43b5ec['isInterleavedBufferAttribute']&&(_0x43b5ec=_0x43b5ec['data']);const _0x5448b3=_0x4584ff['get'](_0x43b5ec);_0x5448b3&&(_0x4afae9['deleteBuffer'](_0x5448b3['buffer']),_0x4584ff['delete'](_0x43b5ec));},'update':function(_0x495ceb,_0x1fbffe){if(_0x495ceb['isInterleavedBufferAttribute']&&(_0x495ceb=_0x495ceb['data']),_0x495ceb['isGLBufferAttribute']){const _0x270b87=_0x4584ff['get'](_0x495ceb);return void((!_0x270b87||_0x270b87['version']<_0x495ceb['version'])&&_0x4584ff['set'](_0x495ceb,{'buffer':_0x495ceb['buffer'],'type':_0x495ceb['type'],'bytesPerElement':_0x495ceb['elementSize'],'version':_0x495ceb['version']}));}const _0x26f810=_0x4584ff['get'](_0x495ceb);if(void 0x0===_0x26f810)_0x4584ff['set'](_0x495ceb,function(_0x47eb2d,_0x2a3736){const _0x5b8806=_0x47eb2d['array'],_0x28ae5f=_0x47eb2d['usage'],_0x444950=_0x5b8806['byteLength'],_0xe88034=_0x4afae9['createBuffer']();let _0x1fd25b;if(_0x4afae9['bindBuffer'](_0x2a3736,_0xe88034),_0x4afae9['bufferData'](_0x2a3736,_0x5b8806,_0x28ae5f),_0x47eb2d['onUploadCallback'](),_0x5b8806 instanceof Float32Array)_0x1fd25b=_0x4afae9['FLOAT'];else{if(_0x5b8806 instanceof Uint16Array)_0x1fd25b=_0x47eb2d['isFloat16BufferAttribute']?_0x4afae9['HALF_FLOAT']:_0x4afae9['UNSIGNED_SHORT'];else{if(_0x5b8806 instanceof Int16Array)_0x1fd25b=_0x4afae9['SHORT'];else{if(_0x5b8806 instanceof Uint32Array)_0x1fd25b=_0x4afae9['UNSIGNED_INT'];else{if(_0x5b8806 instanceof Int32Array)_0x1fd25b=_0x4afae9['INT'];else{if(_0x5b8806 instanceof Int8Array)_0x1fd25b=_0x4afae9['BYTE'];else{if(_0x5b8806 instanceof Uint8Array)_0x1fd25b=_0x4afae9['UNSIGNED_BYTE'];else{if(!(_0x5b8806 instanceof Uint8ClampedArray))throw new Error('THREE.WebGLAttributes:\x20Unsupported\x20buffer\x20data\x20format:\x20'+_0x5b8806);_0x1fd25b=_0x4afae9['UNSIGNED_BYTE'];}}}}}}}return{'buffer':_0xe88034,'type':_0x1fd25b,'bytesPerElement':_0x5b8806['BYTES_PER_ELEMENT'],'version':_0x47eb2d['version'],'size':_0x444950};}(_0x495ceb,_0x1fbffe));else{if(_0x26f810['version']<_0x495ceb['version']){if(_0x26f810['size']!==_0x495ceb['array']['byteLength'])throw new Error('THREE.WebGLAttributes:\x20The\x20size\x20of\x20the\x20buffer\x20attribute\x27s\x20array\x20buffer\x20does\x20not\x20match\x20the\x20original\x20size.\x20Resizing\x20buffer\x20attributes\x20is\x20not\x20supported.');!function(_0x336d0f,_0xe1f19,_0x10377f){const _0x49c2ee=_0xe1f19['array'],_0x1077d6=_0xe1f19['updateRanges'];if(_0x4afae9['bindBuffer'](_0x10377f,_0x336d0f),0x0===_0x1077d6['length'])_0x4afae9['bufferSubData'](_0x10377f,0x0,_0x49c2ee);else{_0x1077d6['sort']((_0x23b9fa,_0x4ba969)=>_0x23b9fa['start']-_0x4ba969['start']);let _0x493dc6=0x0;for(let _0x10117e=0x1;_0x10117e<_0x1077d6['length'];_0x10117e++){const _0x506c94=_0x1077d6[_0x493dc6],_0x176f56=_0x1077d6[_0x10117e];_0x176f56['start']<=_0x506c94['start']+_0x506c94['count']+0x1?_0x506c94['count']=Math['max'](_0x506c94['count'],_0x176f56['start']+_0x176f56['count']-_0x506c94['start']):(++_0x493dc6,_0x1077d6[_0x493dc6]=_0x176f56);}_0x1077d6['length']=_0x493dc6+0x1;for(let _0x1b9a1b=0x0,_0x21403a=_0x1077d6['length'];_0x1b9a1b<_0x21403a;_0x1b9a1b++){const _0x174d79=_0x1077d6[_0x1b9a1b];_0x4afae9['bufferSubData'](_0x10377f,_0x174d79['start']*_0x49c2ee['BYTES_PER_ELEMENT'],_0x49c2ee,_0x174d79['start'],_0x174d79['count']);}_0xe1f19['clearUpdateRanges']();}_0xe1f19['onUploadCallback']();}(_0x26f810['buffer'],_0x495ceb,_0x1fbffe),_0x26f810['version']=_0x495ceb['version'];}}}};}const _0x2046f9={'alphahash_fragment':'#ifdef\x20USE_ALPHAHASH\x0a\x09if\x20(\x20diffuseColor.a\x20<\x20getAlphaHashThreshold(\x20vPosition\x20)\x20)\x20discard;\x0a#endif','alphahash_pars_fragment':'#ifdef\x20USE_ALPHAHASH\x0a\x09const\x20float\x20ALPHA_HASH_SCALE\x20=\x200.05;\x0a\x09float\x20hash2D(\x20vec2\x20value\x20)\x20{\x0a\x09\x09return\x20fract(\x201.0e4\x20*\x20sin(\x2017.0\x20*\x20value.x\x20+\x200.1\x20*\x20value.y\x20)\x20*\x20(\x200.1\x20+\x20abs(\x20sin(\x2013.0\x20*\x20value.y\x20+\x20value.x\x20)\x20)\x20)\x20);\x0a\x09}\x0a\x09float\x20hash3D(\x20vec3\x20value\x20)\x20{\x0a\x09\x09return\x20hash2D(\x20vec2(\x20hash2D(\x20value.xy\x20),\x20value.z\x20)\x20);\x0a\x09}\x0a\x09float\x20getAlphaHashThreshold(\x20vec3\x20position\x20)\x20{\x0a\x09\x09float\x20maxDeriv\x20=\x20max(\x0a\x09\x09\x09length(\x20dFdx(\x20position.xyz\x20)\x20),\x0a\x09\x09\x09length(\x20dFdy(\x20position.xyz\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20pixScale\x20=\x201.0\x20/\x20(\x20ALPHA_HASH_SCALE\x20*\x20maxDeriv\x20);\x0a\x09\x09vec2\x20pixScales\x20=\x20vec2(\x0a\x09\x09\x09exp2(\x20floor(\x20log2(\x20pixScale\x20)\x20)\x20),\x0a\x09\x09\x09exp2(\x20ceil(\x20log2(\x20pixScale\x20)\x20)\x20)\x0a\x09\x09);\x0a\x09\x09vec2\x20alpha\x20=\x20vec2(\x0a\x09\x09\x09hash3D(\x20floor(\x20pixScales.x\x20*\x20position.xyz\x20)\x20),\x0a\x09\x09\x09hash3D(\x20floor(\x20pixScales.y\x20*\x20position.xyz\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20lerpFactor\x20=\x20fract(\x20log2(\x20pixScale\x20)\x20);\x0a\x09\x09float\x20x\x20=\x20(\x201.0\x20-\x20lerpFactor\x20)\x20*\x20alpha.x\x20+\x20lerpFactor\x20*\x20alpha.y;\x0a\x09\x09float\x20a\x20=\x20min(\x20lerpFactor,\x201.0\x20-\x20lerpFactor\x20);\x0a\x09\x09vec3\x20cases\x20=\x20vec3(\x0a\x09\x09\x09x\x20*\x20x\x20/\x20(\x202.0\x20*\x20a\x20*\x20(\x201.0\x20-\x20a\x20)\x20),\x0a\x09\x09\x09(\x20x\x20-\x200.5\x20*\x20a\x20)\x20/\x20(\x201.0\x20-\x20a\x20),\x0a\x09\x09\x091.0\x20-\x20(\x20(\x201.0\x20-\x20x\x20)\x20*\x20(\x201.0\x20-\x20x\x20)\x20/\x20(\x202.0\x20*\x20a\x20*\x20(\x201.0\x20-\x20a\x20)\x20)\x20)\x0a\x09\x09);\x0a\x09\x09float\x20threshold\x20=\x20(\x20x\x20<\x20(\x201.0\x20-\x20a\x20)\x20)\x0a\x09\x09\x09?\x20(\x20(\x20x\x20<\x20a\x20)\x20?\x20cases.x\x20:\x20cases.y\x20)\x0a\x09\x09\x09:\x20cases.z;\x0a\x09\x09return\x20clamp(\x20threshold\x20,\x201.0e-6,\x201.0\x20);\x0a\x09}\x0a#endif','alphamap_fragment':'#ifdef\x20USE_ALPHAMAP\x0a\x09diffuseColor.a\x20*=\x20texture2D(\x20alphaMap,\x20vAlphaMapUv\x20).g;\x0a#endif','alphamap_pars_fragment':'#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20sampler2D\x20alphaMap;\x0a#endif','alphatest_fragment':'#ifdef\x20USE_ALPHATEST\x0a\x09#ifdef\x20ALPHA_TO_COVERAGE\x0a\x09diffuseColor.a\x20=\x20smoothstep(\x20alphaTest,\x20alphaTest\x20+\x20fwidth(\x20diffuseColor.a\x20),\x20diffuseColor.a\x20);\x0a\x09if\x20(\x20diffuseColor.a\x20==\x200.0\x20)\x20discard;\x0a\x09#else\x0a\x09if\x20(\x20diffuseColor.a\x20<\x20alphaTest\x20)\x20discard;\x0a\x09#endif\x0a#endif','alphatest_pars_fragment':'#ifdef\x20USE_ALPHATEST\x0a\x09uniform\x20float\x20alphaTest;\x0a#endif','aomap_fragment':'#ifdef\x20USE_AOMAP\x0a\x09float\x20ambientOcclusion\x20=\x20(\x20texture2D(\x20aoMap,\x20vAoMapUv\x20).r\x20-\x201.0\x20)\x20*\x20aoMapIntensity\x20+\x201.0;\x0a\x09reflectedLight.indirectDiffuse\x20*=\x20ambientOcclusion;\x0a\x09#if\x20defined(\x20USE_CLEARCOAT\x20)\x20\x0a\x09\x09clearcoatSpecularIndirect\x20*=\x20ambientOcclusion;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_SHEEN\x20)\x20\x0a\x09\x09sheenSpecularIndirect\x20*=\x20ambientOcclusion;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20STANDARD\x20)\x0a\x09\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20geometryViewDir\x20)\x20);\x0a\x09\x09reflectedLight.indirectSpecular\x20*=\x20computeSpecularOcclusion(\x20dotNV,\x20ambientOcclusion,\x20material.roughness\x20);\x0a\x09#endif\x0a#endif','aomap_pars_fragment':'#ifdef\x20USE_AOMAP\x0a\x09uniform\x20sampler2D\x20aoMap;\x0a\x09uniform\x20float\x20aoMapIntensity;\x0a#endif','batching_pars_vertex':'#ifdef\x20USE_BATCHING\x0a\x09#if\x20!\x20defined(\x20GL_ANGLE_multi_draw\x20)\x0a\x09#define\x20gl_DrawID\x20_gl_DrawID\x0a\x09uniform\x20int\x20_gl_DrawID;\x0a\x09#endif\x0a\x09uniform\x20highp\x20sampler2D\x20batchingTexture;\x0a\x09uniform\x20highp\x20usampler2D\x20batchingIdTexture;\x0a\x09mat4\x20getBatchingMatrix(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20)\x20*\x204;\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09vec4\x20v1\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v2\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x201,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v3\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x202,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v4\x20=\x20texelFetch(\x20batchingTexture,\x20ivec2(\x20x\x20+\x203,\x20y\x20),\x200\x20);\x0a\x09\x09return\x20mat4(\x20v1,\x20v2,\x20v3,\x20v4\x20);\x0a\x09}\x0a\x09float\x20getIndirectIndex(\x20const\x20in\x20int\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingIdTexture,\x200\x20).x;\x0a\x09\x09int\x20x\x20=\x20i\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20i\x20/\x20size;\x0a\x09\x09return\x20float(\x20texelFetch(\x20batchingIdTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20).r\x20);\x0a\x09}\x0a#endif\x0a#ifdef\x20USE_BATCHING_COLOR\x0a\x09uniform\x20sampler2D\x20batchingColorTexture;\x0a\x09vec3\x20getBatchingColor(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20batchingColorTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20);\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09return\x20texelFetch(\x20batchingColorTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20).rgb;\x0a\x09}\x0a#endif','batching_vertex':'#ifdef\x20USE_BATCHING\x0a\x09mat4\x20batchingMatrix\x20=\x20getBatchingMatrix(\x20getIndirectIndex(\x20gl_DrawID\x20)\x20);\x0a#endif','begin_vertex':'vec3\x20transformed\x20=\x20vec3(\x20position\x20);\x0a#ifdef\x20USE_ALPHAHASH\x0a\x09vPosition\x20=\x20vec3(\x20position\x20);\x0a#endif','beginnormal_vertex':'vec3\x20objectNormal\x20=\x20vec3(\x20normal\x20);\x0a#ifdef\x20USE_TANGENT\x0a\x09vec3\x20objectTangent\x20=\x20vec3(\x20tangent.xyz\x20);\x0a#endif','bsdfs':'float\x20G_BlinnPhong_Implicit(\x20)\x20{\x0a\x09return\x200.25;\x0a}\x0afloat\x20D_BlinnPhong(\x20const\x20in\x20float\x20shininess,\x20const\x20in\x20float\x20dotNH\x20)\x20{\x0a\x09return\x20RECIPROCAL_PI\x20*\x20(\x20shininess\x20*\x200.5\x20+\x201.0\x20)\x20*\x20pow(\x20dotNH,\x20shininess\x20);\x0a}\x0avec3\x20BRDF_BlinnPhong(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20shininess\x20)\x20{\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09vec3\x20F\x20=\x20F_Schlick(\x20specularColor,\x201.0,\x20dotVH\x20);\x0a\x09float\x20G\x20=\x20G_BlinnPhong_Implicit(\x20);\x0a\x09float\x20D\x20=\x20D_BlinnPhong(\x20shininess,\x20dotNH\x20);\x0a\x09return\x20F\x20*\x20(\x20G\x20*\x20D\x20);\x0a}\x20//\x20validated','iridescence_fragment':'#ifdef\x20USE_IRIDESCENCE\x0a\x09const\x20mat3\x20XYZ_TO_REC709\x20=\x20mat3(\x0a\x09\x09\x203.2404542,\x20-0.9692660,\x20\x200.0556434,\x0a\x09\x09-1.5371385,\x20\x201.8760108,\x20-0.2040259,\x0a\x09\x09-0.4985314,\x20\x200.0415560,\x20\x201.0572252\x0a\x09);\x0a\x09vec3\x20Fresnel0ToIor(\x20vec3\x20fresnel0\x20)\x20{\x0a\x09\x09vec3\x20sqrtF0\x20=\x20sqrt(\x20fresnel0\x20);\x0a\x09\x09return\x20(\x20vec3(\x201.0\x20)\x20+\x20sqrtF0\x20)\x20/\x20(\x20vec3(\x201.0\x20)\x20-\x20sqrtF0\x20);\x0a\x09}\x0a\x09vec3\x20IorToFresnel0(\x20vec3\x20transmittedIor,\x20float\x20incidentIor\x20)\x20{\x0a\x09\x09return\x20pow2(\x20(\x20transmittedIor\x20-\x20vec3(\x20incidentIor\x20)\x20)\x20/\x20(\x20transmittedIor\x20+\x20vec3(\x20incidentIor\x20)\x20)\x20);\x0a\x09}\x0a\x09float\x20IorToFresnel0(\x20float\x20transmittedIor,\x20float\x20incidentIor\x20)\x20{\x0a\x09\x09return\x20pow2(\x20(\x20transmittedIor\x20-\x20incidentIor\x20)\x20/\x20(\x20transmittedIor\x20+\x20incidentIor\x20));\x0a\x09}\x0a\x09vec3\x20evalSensitivity(\x20float\x20OPD,\x20vec3\x20shift\x20)\x20{\x0a\x09\x09float\x20phase\x20=\x202.0\x20*\x20PI\x20*\x20OPD\x20*\x201.0e-9;\x0a\x09\x09vec3\x20val\x20=\x20vec3(\x205.4856e-13,\x204.4201e-13,\x205.2481e-13\x20);\x0a\x09\x09vec3\x20pos\x20=\x20vec3(\x201.6810e+06,\x201.7953e+06,\x202.2084e+06\x20);\x0a\x09\x09vec3\x20var\x20=\x20vec3(\x204.3278e+09,\x209.3046e+09,\x206.6121e+09\x20);\x0a\x09\x09vec3\x20xyz\x20=\x20val\x20*\x20sqrt(\x202.0\x20*\x20PI\x20*\x20var\x20)\x20*\x20cos(\x20pos\x20*\x20phase\x20+\x20shift\x20)\x20*\x20exp(\x20-\x20pow2(\x20phase\x20)\x20*\x20var\x20);\x0a\x09\x09xyz.x\x20+=\x209.7470e-14\x20*\x20sqrt(\x202.0\x20*\x20PI\x20*\x204.5282e+09\x20)\x20*\x20cos(\x202.2399e+06\x20*\x20phase\x20+\x20shift[\x200\x20]\x20)\x20*\x20exp(\x20-\x204.5282e+09\x20*\x20pow2(\x20phase\x20)\x20);\x0a\x09\x09xyz\x20/=\x201.0685e-7;\x0a\x09\x09vec3\x20rgb\x20=\x20XYZ_TO_REC709\x20*\x20xyz;\x0a\x09\x09return\x20rgb;\x0a\x09}\x0a\x09vec3\x20evalIridescence(\x20float\x20outsideIOR,\x20float\x20eta2,\x20float\x20cosTheta1,\x20float\x20thinFilmThickness,\x20vec3\x20baseF0\x20)\x20{\x0a\x09\x09vec3\x20I;\x0a\x09\x09float\x20iridescenceIOR\x20=\x20mix(\x20outsideIOR,\x20eta2,\x20smoothstep(\x200.0,\x200.03,\x20thinFilmThickness\x20)\x20);\x0a\x09\x09float\x20sinTheta2Sq\x20=\x20pow2(\x20outsideIOR\x20/\x20iridescenceIOR\x20)\x20*\x20(\x201.0\x20-\x20pow2(\x20cosTheta1\x20)\x20);\x0a\x09\x09float\x20cosTheta2Sq\x20=\x201.0\x20-\x20sinTheta2Sq;\x0a\x09\x09if\x20(\x20cosTheta2Sq\x20<\x200.0\x20)\x20{\x0a\x09\x09\x09return\x20vec3(\x201.0\x20);\x0a\x09\x09}\x0a\x09\x09float\x20cosTheta2\x20=\x20sqrt(\x20cosTheta2Sq\x20);\x0a\x09\x09float\x20R0\x20=\x20IorToFresnel0(\x20iridescenceIOR,\x20outsideIOR\x20);\x0a\x09\x09float\x20R12\x20=\x20F_Schlick(\x20R0,\x201.0,\x20cosTheta1\x20);\x0a\x09\x09float\x20T121\x20=\x201.0\x20-\x20R12;\x0a\x09\x09float\x20phi12\x20=\x200.0;\x0a\x09\x09if\x20(\x20iridescenceIOR\x20<\x20outsideIOR\x20)\x20phi12\x20=\x20PI;\x0a\x09\x09float\x20phi21\x20=\x20PI\x20-\x20phi12;\x0a\x09\x09vec3\x20baseIOR\x20=\x20Fresnel0ToIor(\x20clamp(\x20baseF0,\x200.0,\x200.9999\x20)\x20);\x09\x09vec3\x20R1\x20=\x20IorToFresnel0(\x20baseIOR,\x20iridescenceIOR\x20);\x0a\x09\x09vec3\x20R23\x20=\x20F_Schlick(\x20R1,\x201.0,\x20cosTheta2\x20);\x0a\x09\x09vec3\x20phi23\x20=\x20vec3(\x200.0\x20);\x0a\x09\x09if\x20(\x20baseIOR[\x200\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x200\x20]\x20=\x20PI;\x0a\x09\x09if\x20(\x20baseIOR[\x201\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x201\x20]\x20=\x20PI;\x0a\x09\x09if\x20(\x20baseIOR[\x202\x20]\x20<\x20iridescenceIOR\x20)\x20phi23[\x202\x20]\x20=\x20PI;\x0a\x09\x09float\x20OPD\x20=\x202.0\x20*\x20iridescenceIOR\x20*\x20thinFilmThickness\x20*\x20cosTheta2;\x0a\x09\x09vec3\x20phi\x20=\x20vec3(\x20phi21\x20)\x20+\x20phi23;\x0a\x09\x09vec3\x20R123\x20=\x20clamp(\x20R12\x20*\x20R23,\x201e-5,\x200.9999\x20);\x0a\x09\x09vec3\x20r123\x20=\x20sqrt(\x20R123\x20);\x0a\x09\x09vec3\x20Rs\x20=\x20pow2(\x20T121\x20)\x20*\x20R23\x20/\x20(\x20vec3(\x201.0\x20)\x20-\x20R123\x20);\x0a\x09\x09vec3\x20C0\x20=\x20R12\x20+\x20Rs;\x0a\x09\x09I\x20=\x20C0;\x0a\x09\x09vec3\x20Cm\x20=\x20Rs\x20-\x20T121;\x0a\x09\x09for\x20(\x20int\x20m\x20=\x201;\x20m\x20<=\x202;\x20++\x20m\x20)\x20{\x0a\x09\x09\x09Cm\x20*=\x20r123;\x0a\x09\x09\x09vec3\x20Sm\x20=\x202.0\x20*\x20evalSensitivity(\x20float(\x20m\x20)\x20*\x20OPD,\x20float(\x20m\x20)\x20*\x20phi\x20);\x0a\x09\x09\x09I\x20+=\x20Cm\x20*\x20Sm;\x0a\x09\x09}\x0a\x09\x09return\x20max(\x20I,\x20vec3(\x200.0\x20)\x20);\x0a\x09}\x0a#endif','bumpmap_pars_fragment':'#ifdef\x20USE_BUMPMAP\x0a\x09uniform\x20sampler2D\x20bumpMap;\x0a\x09uniform\x20float\x20bumpScale;\x0a\x09vec2\x20dHdxy_fwd()\x20{\x0a\x09\x09vec2\x20dSTdx\x20=\x20dFdx(\x20vBumpMapUv\x20);\x0a\x09\x09vec2\x20dSTdy\x20=\x20dFdy(\x20vBumpMapUv\x20);\x0a\x09\x09float\x20Hll\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20).x;\x0a\x09\x09float\x20dBx\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20+\x20dSTdx\x20).x\x20-\x20Hll;\x0a\x09\x09float\x20dBy\x20=\x20bumpScale\x20*\x20texture2D(\x20bumpMap,\x20vBumpMapUv\x20+\x20dSTdy\x20).x\x20-\x20Hll;\x0a\x09\x09return\x20vec2(\x20dBx,\x20dBy\x20);\x0a\x09}\x0a\x09vec3\x20perturbNormalArb(\x20vec3\x20surf_pos,\x20vec3\x20surf_norm,\x20vec2\x20dHdxy,\x20float\x20faceDirection\x20)\x20{\x0a\x09\x09vec3\x20vSigmaX\x20=\x20normalize(\x20dFdx(\x20surf_pos.xyz\x20)\x20);\x0a\x09\x09vec3\x20vSigmaY\x20=\x20normalize(\x20dFdy(\x20surf_pos.xyz\x20)\x20);\x0a\x09\x09vec3\x20vN\x20=\x20surf_norm;\x0a\x09\x09vec3\x20R1\x20=\x20cross(\x20vSigmaY,\x20vN\x20);\x0a\x09\x09vec3\x20R2\x20=\x20cross(\x20vN,\x20vSigmaX\x20);\x0a\x09\x09float\x20fDet\x20=\x20dot(\x20vSigmaX,\x20R1\x20)\x20*\x20faceDirection;\x0a\x09\x09vec3\x20vGrad\x20=\x20sign(\x20fDet\x20)\x20*\x20(\x20dHdxy.x\x20*\x20R1\x20+\x20dHdxy.y\x20*\x20R2\x20);\x0a\x09\x09return\x20normalize(\x20abs(\x20fDet\x20)\x20*\x20surf_norm\x20-\x20vGrad\x20);\x0a\x09}\x0a#endif','clipping_planes_fragment':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09vec4\x20plane;\x0a\x09#ifdef\x20ALPHA_TO_COVERAGE\x0a\x09\x09float\x20distanceToPlane,\x20distanceGradient;\x0a\x09\x09float\x20clipOpacity\x20=\x201.0;\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20UNION_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09distanceToPlane\x20=\x20-\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20+\x20plane.w;\x0a\x09\x09\x09distanceGradient\x20=\x20fwidth(\x20distanceToPlane\x20)\x20/\x202.0;\x0a\x09\x09\x09clipOpacity\x20*=\x20smoothstep(\x20-\x20distanceGradient,\x20distanceGradient,\x20distanceToPlane\x20);\x0a\x09\x09\x09if\x20(\x20clipOpacity\x20==\x200.0\x20)\x20discard;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09#if\x20UNION_CLIPPING_PLANES\x20<\x20NUM_CLIPPING_PLANES\x0a\x09\x09\x09float\x20unionClipOpacity\x20=\x201.0;\x0a\x09\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x20UNION_CLIPPING_PLANES;\x20i\x20<\x20NUM_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09\x09distanceToPlane\x20=\x20-\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20+\x20plane.w;\x0a\x09\x09\x09\x09distanceGradient\x20=\x20fwidth(\x20distanceToPlane\x20)\x20/\x202.0;\x0a\x09\x09\x09\x09unionClipOpacity\x20*=\x201.0\x20-\x20smoothstep(\x20-\x20distanceGradient,\x20distanceGradient,\x20distanceToPlane\x20);\x0a\x09\x09\x09}\x0a\x09\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09\x09clipOpacity\x20*=\x201.0\x20-\x20unionClipOpacity;\x0a\x09\x09#endif\x0a\x09\x09diffuseColor.a\x20*=\x20clipOpacity;\x0a\x09\x09if\x20(\x20diffuseColor.a\x20==\x200.0\x20)\x20discard;\x0a\x09#else\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20UNION_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09if\x20(\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20>\x20plane.w\x20)\x20discard;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09#if\x20UNION_CLIPPING_PLANES\x20<\x20NUM_CLIPPING_PLANES\x0a\x09\x09\x09bool\x20clipped\x20=\x20true;\x0a\x09\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x20UNION_CLIPPING_PLANES;\x20i\x20<\x20NUM_CLIPPING_PLANES;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09plane\x20=\x20clippingPlanes[\x20i\x20];\x0a\x09\x09\x09\x09clipped\x20=\x20(\x20dot(\x20vClipPosition,\x20plane.xyz\x20)\x20>\x20plane.w\x20)\x20&&\x20clipped;\x0a\x09\x09\x09}\x0a\x09\x09\x09#pragma\x20unroll_loop_end\x0a\x09\x09\x09if\x20(\x20clipped\x20)\x20discard;\x0a\x09\x09#endif\x0a\x09#endif\x0a#endif','clipping_planes_pars_fragment':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09varying\x20vec3\x20vClipPosition;\x0a\x09uniform\x20vec4\x20clippingPlanes[\x20NUM_CLIPPING_PLANES\x20];\x0a#endif','clipping_planes_pars_vertex':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09varying\x20vec3\x20vClipPosition;\x0a#endif','clipping_planes_vertex':'#if\x20NUM_CLIPPING_PLANES\x20>\x200\x0a\x09vClipPosition\x20=\x20-\x20mvPosition.xyz;\x0a#endif','color_fragment':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09diffuseColor\x20*=\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09diffuseColor.rgb\x20*=\x20vColor;\x0a#endif','color_pars_fragment':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09varying\x20vec4\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09varying\x20vec3\x20vColor;\x0a#endif','color_pars_vertex':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09varying\x20vec4\x20vColor;\x0a#elif\x20defined(\x20USE_COLOR\x20)\x20||\x20defined(\x20USE_INSTANCING_COLOR\x20)\x20||\x20defined(\x20USE_BATCHING_COLOR\x20)\x0a\x09varying\x20vec3\x20vColor;\x0a#endif','color_vertex':'#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09vColor\x20=\x20vec4(\x201.0\x20);\x0a#elif\x20defined(\x20USE_COLOR\x20)\x20||\x20defined(\x20USE_INSTANCING_COLOR\x20)\x20||\x20defined(\x20USE_BATCHING_COLOR\x20)\x0a\x09vColor\x20=\x20vec3(\x201.0\x20);\x0a#endif\x0a#ifdef\x20USE_COLOR\x0a\x09vColor\x20*=\x20color;\x0a#endif\x0a#ifdef\x20USE_INSTANCING_COLOR\x0a\x09vColor.xyz\x20*=\x20instanceColor.xyz;\x0a#endif\x0a#ifdef\x20USE_BATCHING_COLOR\x0a\x09vec3\x20batchingColor\x20=\x20getBatchingColor(\x20getIndirectIndex(\x20gl_DrawID\x20)\x20);\x0a\x09vColor.xyz\x20*=\x20batchingColor.xyz;\x0a#endif','common':'#define\x20PI\x203.141592653589793\x0a#define\x20PI2\x206.283185307179586\x0a#define\x20PI_HALF\x201.5707963267948966\x0a#define\x20RECIPROCAL_PI\x200.3183098861837907\x0a#define\x20RECIPROCAL_PI2\x200.15915494309189535\x0a#define\x20EPSILON\x201e-6\x0a#ifndef\x20saturate\x0a#define\x20saturate(\x20a\x20)\x20clamp(\x20a,\x200.0,\x201.0\x20)\x0a#endif\x0a#define\x20whiteComplement(\x20a\x20)\x20(\x201.0\x20-\x20saturate(\x20a\x20)\x20)\x0afloat\x20pow2(\x20const\x20in\x20float\x20x\x20)\x20{\x20return\x20x*x;\x20}\x0avec3\x20pow2(\x20const\x20in\x20vec3\x20x\x20)\x20{\x20return\x20x*x;\x20}\x0afloat\x20pow3(\x20const\x20in\x20float\x20x\x20)\x20{\x20return\x20x*x*x;\x20}\x0afloat\x20pow4(\x20const\x20in\x20float\x20x\x20)\x20{\x20float\x20x2\x20=\x20x*x;\x20return\x20x2*x2;\x20}\x0afloat\x20max3(\x20const\x20in\x20vec3\x20v\x20)\x20{\x20return\x20max(\x20max(\x20v.x,\x20v.y\x20),\x20v.z\x20);\x20}\x0afloat\x20average(\x20const\x20in\x20vec3\x20v\x20)\x20{\x20return\x20dot(\x20v,\x20vec3(\x200.3333333\x20)\x20);\x20}\x0ahighp\x20float\x20rand(\x20const\x20in\x20vec2\x20uv\x20)\x20{\x0a\x09const\x20highp\x20float\x20a\x20=\x2012.9898,\x20b\x20=\x2078.233,\x20c\x20=\x2043758.5453;\x0a\x09highp\x20float\x20dt\x20=\x20dot(\x20uv.xy,\x20vec2(\x20a,b\x20)\x20),\x20sn\x20=\x20mod(\x20dt,\x20PI\x20);\x0a\x09return\x20fract(\x20sin(\x20sn\x20)\x20*\x20c\x20);\x0a}\x0a#ifdef\x20HIGH_PRECISION\x0a\x09float\x20precisionSafeLength(\x20vec3\x20v\x20)\x20{\x20return\x20length(\x20v\x20);\x20}\x0a#else\x0a\x09float\x20precisionSafeLength(\x20vec3\x20v\x20)\x20{\x0a\x09\x09float\x20maxComponent\x20=\x20max3(\x20abs(\x20v\x20)\x20);\x0a\x09\x09return\x20length(\x20v\x20/\x20maxComponent\x20)\x20*\x20maxComponent;\x0a\x09}\x0a#endif\x0astruct\x20IncidentLight\x20{\x0a\x09vec3\x20color;\x0a\x09vec3\x20direction;\x0a\x09bool\x20visible;\x0a};\x0astruct\x20ReflectedLight\x20{\x0a\x09vec3\x20directDiffuse;\x0a\x09vec3\x20directSpecular;\x0a\x09vec3\x20indirectDiffuse;\x0a\x09vec3\x20indirectSpecular;\x0a};\x0a#ifdef\x20USE_ALPHAHASH\x0a\x09varying\x20vec3\x20vPosition;\x0a#endif\x0avec3\x20transformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x09return\x20normalize(\x20(\x20matrix\x20*\x20vec4(\x20dir,\x200.0\x20)\x20).xyz\x20);\x0a}\x0avec3\x20inverseTransformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x09return\x20normalize(\x20(\x20vec4(\x20dir,\x200.0\x20)\x20*\x20matrix\x20).xyz\x20);\x0a}\x0amat3\x20transposeMat3(\x20const\x20in\x20mat3\x20m\x20)\x20{\x0a\x09mat3\x20tmp;\x0a\x09tmp[\x200\x20]\x20=\x20vec3(\x20m[\x200\x20].x,\x20m[\x201\x20].x,\x20m[\x202\x20].x\x20);\x0a\x09tmp[\x201\x20]\x20=\x20vec3(\x20m[\x200\x20].y,\x20m[\x201\x20].y,\x20m[\x202\x20].y\x20);\x0a\x09tmp[\x202\x20]\x20=\x20vec3(\x20m[\x200\x20].z,\x20m[\x201\x20].z,\x20m[\x202\x20].z\x20);\x0a\x09return\x20tmp;\x0a}\x0abool\x20isPerspectiveMatrix(\x20mat4\x20m\x20)\x20{\x0a\x09return\x20m[\x202\x20][\x203\x20]\x20==\x20-\x201.0;\x0a}\x0avec2\x20equirectUv(\x20in\x20vec3\x20dir\x20)\x20{\x0a\x09float\x20u\x20=\x20atan(\x20dir.z,\x20dir.x\x20)\x20*\x20RECIPROCAL_PI2\x20+\x200.5;\x0a\x09float\x20v\x20=\x20asin(\x20clamp(\x20dir.y,\x20-\x201.0,\x201.0\x20)\x20)\x20*\x20RECIPROCAL_PI\x20+\x200.5;\x0a\x09return\x20vec2(\x20u,\x20v\x20);\x0a}\x0avec3\x20BRDF_Lambert(\x20const\x20in\x20vec3\x20diffuseColor\x20)\x20{\x0a\x09return\x20RECIPROCAL_PI\x20*\x20diffuseColor;\x0a}\x0avec3\x20F_Schlick(\x20const\x20in\x20vec3\x20f0,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x09float\x20fresnel\x20=\x20exp2(\x20(\x20-\x205.55473\x20*\x20dotVH\x20-\x206.98316\x20)\x20*\x20dotVH\x20);\x0a\x09return\x20f0\x20*\x20(\x201.0\x20-\x20fresnel\x20)\x20+\x20(\x20f90\x20*\x20fresnel\x20);\x0a}\x0afloat\x20F_Schlick(\x20const\x20in\x20float\x20f0,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x09float\x20fresnel\x20=\x20exp2(\x20(\x20-\x205.55473\x20*\x20dotVH\x20-\x206.98316\x20)\x20*\x20dotVH\x20);\x0a\x09return\x20f0\x20*\x20(\x201.0\x20-\x20fresnel\x20)\x20+\x20(\x20f90\x20*\x20fresnel\x20);\x0a}\x20//\x20validated','cube_uv_reflection_fragment':'#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09#define\x20cubeUV_minMipLevel\x204.0\x0a\x09#define\x20cubeUV_minTileSize\x2016.0\x0a\x09float\x20getFace(\x20vec3\x20direction\x20)\x20{\x0a\x09\x09vec3\x20absDirection\x20=\x20abs(\x20direction\x20);\x0a\x09\x09float\x20face\x20=\x20-\x201.0;\x0a\x09\x09if\x20(\x20absDirection.x\x20>\x20absDirection.z\x20)\x20{\x0a\x09\x09\x09if\x20(\x20absDirection.x\x20>\x20absDirection.y\x20)\x0a\x09\x09\x09\x09face\x20=\x20direction.x\x20>\x200.0\x20?\x200.0\x20:\x203.0;\x0a\x09\x09\x09else\x0a\x09\x09\x09\x09face\x20=\x20direction.y\x20>\x200.0\x20?\x201.0\x20:\x204.0;\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09if\x20(\x20absDirection.z\x20>\x20absDirection.y\x20)\x0a\x09\x09\x09\x09face\x20=\x20direction.z\x20>\x200.0\x20?\x202.0\x20:\x205.0;\x0a\x09\x09\x09else\x0a\x09\x09\x09\x09face\x20=\x20direction.y\x20>\x200.0\x20?\x201.0\x20:\x204.0;\x0a\x09\x09}\x0a\x09\x09return\x20face;\x0a\x09}\x0a\x09vec2\x20getUV(\x20vec3\x20direction,\x20float\x20face\x20)\x20{\x0a\x09\x09vec2\x20uv;\x0a\x09\x09if\x20(\x20face\x20==\x200.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20direction.z,\x20direction.y\x20)\x20/\x20abs(\x20direction.x\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x201.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20-\x20direction.z\x20)\x20/\x20abs(\x20direction.y\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x202.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20direction.y\x20)\x20/\x20abs(\x20direction.z\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x203.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.z,\x20direction.y\x20)\x20/\x20abs(\x20direction.x\x20);\x0a\x09\x09}\x20else\x20if\x20(\x20face\x20==\x204.0\x20)\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20-\x20direction.x,\x20direction.z\x20)\x20/\x20abs(\x20direction.y\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09uv\x20=\x20vec2(\x20direction.x,\x20direction.y\x20)\x20/\x20abs(\x20direction.z\x20);\x0a\x09\x09}\x0a\x09\x09return\x200.5\x20*\x20(\x20uv\x20+\x201.0\x20);\x0a\x09}\x0a\x09vec3\x20bilinearCubeUV(\x20sampler2D\x20envMap,\x20vec3\x20direction,\x20float\x20mipInt\x20)\x20{\x0a\x09\x09float\x20face\x20=\x20getFace(\x20direction\x20);\x0a\x09\x09float\x20filterInt\x20=\x20max(\x20cubeUV_minMipLevel\x20-\x20mipInt,\x200.0\x20);\x0a\x09\x09mipInt\x20=\x20max(\x20mipInt,\x20cubeUV_minMipLevel\x20);\x0a\x09\x09float\x20faceSize\x20=\x20exp2(\x20mipInt\x20);\x0a\x09\x09highp\x20vec2\x20uv\x20=\x20getUV(\x20direction,\x20face\x20)\x20*\x20(\x20faceSize\x20-\x202.0\x20)\x20+\x201.0;\x0a\x09\x09if\x20(\x20face\x20>\x202.0\x20)\x20{\x0a\x09\x09\x09uv.y\x20+=\x20faceSize;\x0a\x09\x09\x09face\x20-=\x203.0;\x0a\x09\x09}\x0a\x09\x09uv.x\x20+=\x20face\x20*\x20faceSize;\x0a\x09\x09uv.x\x20+=\x20filterInt\x20*\x203.0\x20*\x20cubeUV_minTileSize;\x0a\x09\x09uv.y\x20+=\x204.0\x20*\x20(\x20exp2(\x20CUBEUV_MAX_MIP\x20)\x20-\x20faceSize\x20);\x0a\x09\x09uv.x\x20*=\x20CUBEUV_TEXEL_WIDTH;\x0a\x09\x09uv.y\x20*=\x20CUBEUV_TEXEL_HEIGHT;\x0a\x09\x09#ifdef\x20texture2DGradEXT\x0a\x09\x09\x09return\x20texture2DGradEXT(\x20envMap,\x20uv,\x20vec2(\x200.0\x20),\x20vec2(\x200.0\x20)\x20).rgb;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20texture2D(\x20envMap,\x20uv\x20).rgb;\x0a\x09\x09#endif\x0a\x09}\x0a\x09#define\x20cubeUV_r0\x201.0\x0a\x09#define\x20cubeUV_m0\x20-\x202.0\x0a\x09#define\x20cubeUV_r1\x200.8\x0a\x09#define\x20cubeUV_m1\x20-\x201.0\x0a\x09#define\x20cubeUV_r4\x200.4\x0a\x09#define\x20cubeUV_m4\x202.0\x0a\x09#define\x20cubeUV_r5\x200.305\x0a\x09#define\x20cubeUV_m5\x203.0\x0a\x09#define\x20cubeUV_r6\x200.21\x0a\x09#define\x20cubeUV_m6\x204.0\x0a\x09float\x20roughnessToMip(\x20float\x20roughness\x20)\x20{\x0a\x09\x09float\x20mip\x20=\x200.0;\x0a\x09\x09if\x20(\x20roughness\x20>=\x20cubeUV_r1\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r0\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m1\x20-\x20cubeUV_m0\x20)\x20/\x20(\x20cubeUV_r0\x20-\x20cubeUV_r1\x20)\x20+\x20cubeUV_m0;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r4\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r1\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m4\x20-\x20cubeUV_m1\x20)\x20/\x20(\x20cubeUV_r1\x20-\x20cubeUV_r4\x20)\x20+\x20cubeUV_m1;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r5\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r4\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m5\x20-\x20cubeUV_m4\x20)\x20/\x20(\x20cubeUV_r4\x20-\x20cubeUV_r5\x20)\x20+\x20cubeUV_m4;\x0a\x09\x09}\x20else\x20if\x20(\x20roughness\x20>=\x20cubeUV_r6\x20)\x20{\x0a\x09\x09\x09mip\x20=\x20(\x20cubeUV_r5\x20-\x20roughness\x20)\x20*\x20(\x20cubeUV_m6\x20-\x20cubeUV_m5\x20)\x20/\x20(\x20cubeUV_r5\x20-\x20cubeUV_r6\x20)\x20+\x20cubeUV_m5;\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09mip\x20=\x20-\x202.0\x20*\x20log2(\x201.16\x20*\x20roughness\x20);\x09\x09}\x0a\x09\x09return\x20mip;\x0a\x09}\x0a\x09vec4\x20textureCubeUV(\x20sampler2D\x20envMap,\x20vec3\x20sampleDir,\x20float\x20roughness\x20)\x20{\x0a\x09\x09float\x20mip\x20=\x20clamp(\x20roughnessToMip(\x20roughness\x20),\x20cubeUV_m0,\x20CUBEUV_MAX_MIP\x20);\x0a\x09\x09float\x20mipF\x20=\x20fract(\x20mip\x20);\x0a\x09\x09float\x20mipInt\x20=\x20floor(\x20mip\x20);\x0a\x09\x09vec3\x20color0\x20=\x20bilinearCubeUV(\x20envMap,\x20sampleDir,\x20mipInt\x20);\x0a\x09\x09if\x20(\x20mipF\x20==\x200.0\x20)\x20{\x0a\x09\x09\x09return\x20vec4(\x20color0,\x201.0\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09vec3\x20color1\x20=\x20bilinearCubeUV(\x20envMap,\x20sampleDir,\x20mipInt\x20+\x201.0\x20);\x0a\x09\x09\x09return\x20vec4(\x20mix(\x20color0,\x20color1,\x20mipF\x20),\x201.0\x20);\x0a\x09\x09}\x0a\x09}\x0a#endif','defaultnormal_vertex':'vec3\x20transformedNormal\x20=\x20objectNormal;\x0a#ifdef\x20USE_TANGENT\x0a\x09vec3\x20transformedTangent\x20=\x20objectTangent;\x0a#endif\x0a#ifdef\x20USE_BATCHING\x0a\x09mat3\x20bm\x20=\x20mat3(\x20batchingMatrix\x20);\x0a\x09transformedNormal\x20/=\x20vec3(\x20dot(\x20bm[\x200\x20],\x20bm[\x200\x20]\x20),\x20dot(\x20bm[\x201\x20],\x20bm[\x201\x20]\x20),\x20dot(\x20bm[\x202\x20],\x20bm[\x202\x20]\x20)\x20);\x0a\x09transformedNormal\x20=\x20bm\x20*\x20transformedNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09transformedTangent\x20=\x20bm\x20*\x20transformedTangent;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_INSTANCING\x0a\x09mat3\x20im\x20=\x20mat3(\x20instanceMatrix\x20);\x0a\x09transformedNormal\x20/=\x20vec3(\x20dot(\x20im[\x200\x20],\x20im[\x200\x20]\x20),\x20dot(\x20im[\x201\x20],\x20im[\x201\x20]\x20),\x20dot(\x20im[\x202\x20],\x20im[\x202\x20]\x20)\x20);\x0a\x09transformedNormal\x20=\x20im\x20*\x20transformedNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09transformedTangent\x20=\x20im\x20*\x20transformedTangent;\x0a\x09#endif\x0a#endif\x0atransformedNormal\x20=\x20normalMatrix\x20*\x20transformedNormal;\x0a#ifdef\x20FLIP_SIDED\x0a\x09transformedNormal\x20=\x20-\x20transformedNormal;\x0a#endif\x0a#ifdef\x20USE_TANGENT\x0a\x09transformedTangent\x20=\x20(\x20modelViewMatrix\x20*\x20vec4(\x20transformedTangent,\x200.0\x20)\x20).xyz;\x0a\x09#ifdef\x20FLIP_SIDED\x0a\x09\x09transformedTangent\x20=\x20-\x20transformedTangent;\x0a\x09#endif\x0a#endif','displacementmap_pars_vertex':'#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09uniform\x20sampler2D\x20displacementMap;\x0a\x09uniform\x20float\x20displacementScale;\x0a\x09uniform\x20float\x20displacementBias;\x0a#endif','displacementmap_vertex':'#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09transformed\x20+=\x20normalize(\x20objectNormal\x20)\x20*\x20(\x20texture2D(\x20displacementMap,\x20vDisplacementMapUv\x20).x\x20*\x20displacementScale\x20+\x20displacementBias\x20);\x0a#endif','emissivemap_fragment':'#ifdef\x20USE_EMISSIVEMAP\x0a\x09vec4\x20emissiveColor\x20=\x20texture2D(\x20emissiveMap,\x20vEmissiveMapUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE_EMISSIVE\x0a\x09\x09emissiveColor\x20=\x20sRGBTransferEOTF(\x20emissiveColor\x20);\x0a\x09#endif\x0a\x09totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a#endif','emissivemap_pars_fragment':'#ifdef\x20USE_EMISSIVEMAP\x0a\x09uniform\x20sampler2D\x20emissiveMap;\x0a#endif','colorspace_fragment':'gl_FragColor\x20=\x20linearToOutputTexel(\x20gl_FragColor\x20);','colorspace_pars_fragment':'vec4\x20LinearTransferOETF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20value;\x0a}\x0avec4\x20sRGBTransferEOTF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20vec4(\x20mix(\x20pow(\x20value.rgb\x20*\x200.9478672986\x20+\x20vec3(\x200.0521327014\x20),\x20vec3(\x202.4\x20)\x20),\x20value.rgb\x20*\x200.0773993808,\x20vec3(\x20lessThanEqual(\x20value.rgb,\x20vec3(\x200.04045\x20)\x20)\x20)\x20),\x20value.a\x20);\x0a}\x0avec4\x20sRGBTransferOETF(\x20in\x20vec4\x20value\x20)\x20{\x0a\x09return\x20vec4(\x20mix(\x20pow(\x20value.rgb,\x20vec3(\x200.41666\x20)\x20)\x20*\x201.055\x20-\x20vec3(\x200.055\x20),\x20value.rgb\x20*\x2012.92,\x20vec3(\x20lessThanEqual(\x20value.rgb,\x20vec3(\x200.0031308\x20)\x20)\x20)\x20),\x20value.a\x20);\x0a}','envmap_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09vec3\x20cameraToFrag;\x0a\x09\x09if\x20(\x20isOrthographic\x20)\x20{\x0a\x09\x09\x09cameraToFrag\x20=\x20normalize(\x20vec3(\x20-\x20viewMatrix[\x200\x20][\x202\x20],\x20-\x20viewMatrix[\x201\x20][\x202\x20],\x20-\x20viewMatrix[\x202\x20][\x202\x20]\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09cameraToFrag\x20=\x20normalize(\x20vWorldPosition\x20-\x20cameraPosition\x20);\x0a\x09\x09}\x0a\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09\x09#ifdef\x20ENVMAP_MODE_REFLECTION\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20reflect(\x20cameraToFrag,\x20worldNormal\x20);\x0a\x09\x09#else\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20refract(\x20cameraToFrag,\x20worldNormal,\x20refractionRatio\x20);\x0a\x09\x09#endif\x0a\x09#else\x0a\x09\x09vec3\x20reflectVec\x20=\x20vReflect;\x0a\x09#endif\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09vec4\x20envColor\x20=\x20textureCube(\x20envMap,\x20envMapRotation\x20*\x20vec3(\x20flipEnvMap\x20*\x20reflectVec.x,\x20reflectVec.yz\x20)\x20);\x0a\x09#else\x0a\x09\x09vec4\x20envColor\x20=\x20vec4(\x200.0\x20);\x0a\x09#endif\x0a\x09#ifdef\x20ENVMAP_BLENDING_MULTIPLY\x0a\x09\x09outgoingLight\x20=\x20mix(\x20outgoingLight,\x20outgoingLight\x20*\x20envColor.xyz,\x20specularStrength\x20*\x20reflectivity\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_BLENDING_MIX\x20)\x0a\x09\x09outgoingLight\x20=\x20mix(\x20outgoingLight,\x20envColor.xyz,\x20specularStrength\x20*\x20reflectivity\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_BLENDING_ADD\x20)\x0a\x09\x09outgoingLight\x20+=\x20envColor.xyz\x20*\x20specularStrength\x20*\x20reflectivity;\x0a\x09#endif\x0a#endif','envmap_common_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09uniform\x20float\x20envMapIntensity;\x0a\x09uniform\x20float\x20flipEnvMap;\x0a\x09uniform\x20mat3\x20envMapRotation;\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x09#else\x0a\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x09#endif\x0a\x09\x0a#endif','envmap_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09uniform\x20float\x20reflectivity;\x0a\x09#if\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP\x20)\x20||\x20defined(\x20PHONG\x20)\x20||\x20defined(\x20LAMBERT\x20)\x0a\x09\x09#define\x20ENV_WORLDPOS\x0a\x09#endif\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09varying\x20vec3\x20vWorldPosition;\x0a\x09\x09uniform\x20float\x20refractionRatio;\x0a\x09#else\x0a\x09\x09varying\x20vec3\x20vReflect;\x0a\x09#endif\x0a#endif','envmap_pars_vertex':'#ifdef\x20USE_ENVMAP\x0a\x09#if\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP\x20)\x20||\x20defined(\x20PHONG\x20)\x20||\x20defined(\x20LAMBERT\x20)\x0a\x09\x09#define\x20ENV_WORLDPOS\x0a\x09#endif\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09\x0a\x09\x09varying\x20vec3\x20vWorldPosition;\x0a\x09#else\x0a\x09\x09varying\x20vec3\x20vReflect;\x0a\x09\x09uniform\x20float\x20refractionRatio;\x0a\x09#endif\x0a#endif','envmap_physical_pars_fragment':'#ifdef\x20USE_ENVMAP\x0a\x09vec3\x20getIBLIrradiance(\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09\x09\x09vec4\x20envMapColor\x20=\x20textureCubeUV(\x20envMap,\x20envMapRotation\x20*\x20worldNormal,\x201.0\x20);\x0a\x09\x09\x09return\x20PI\x20*\x20envMapColor.rgb\x20*\x20envMapIntensity;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09#endif\x0a\x09}\x0a\x09vec3\x20getIBLRadiance(\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09vec3\x20reflectVec\x20=\x20reflect(\x20-\x20viewDir,\x20normal\x20);\x0a\x09\x09\x09reflectVec\x20=\x20normalize(\x20mix(\x20reflectVec,\x20normal,\x20roughness\x20*\x20roughness)\x20);\x0a\x09\x09\x09reflectVec\x20=\x20inverseTransformDirection(\x20reflectVec,\x20viewMatrix\x20);\x0a\x09\x09\x09vec4\x20envMapColor\x20=\x20textureCubeUV(\x20envMap,\x20envMapRotation\x20*\x20reflectVec,\x20roughness\x20);\x0a\x09\x09\x09return\x20envMapColor.rgb\x20*\x20envMapIntensity;\x0a\x09\x09#else\x0a\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09#endif\x0a\x09}\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09vec3\x20getIBLAnisotropyRadiance(\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20vec3\x20bitangent,\x20const\x20in\x20float\x20anisotropy\x20)\x20{\x0a\x09\x09\x09#ifdef\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09\x09vec3\x20bentNormal\x20=\x20cross(\x20bitangent,\x20viewDir\x20);\x0a\x09\x09\x09\x09bentNormal\x20=\x20normalize(\x20cross(\x20bentNormal,\x20bitangent\x20)\x20);\x0a\x09\x09\x09\x09bentNormal\x20=\x20normalize(\x20mix(\x20bentNormal,\x20normal,\x20pow2(\x20pow2(\x201.0\x20-\x20anisotropy\x20*\x20(\x201.0\x20-\x20roughness\x20)\x20)\x20)\x20)\x20);\x0a\x09\x09\x09\x09return\x20getIBLRadiance(\x20viewDir,\x20bentNormal,\x20roughness\x20);\x0a\x09\x09\x09#else\x0a\x09\x09\x09\x09return\x20vec3(\x200.0\x20);\x0a\x09\x09\x09#endif\x0a\x09\x09}\x0a\x09#endif\x0a#endif','envmap_vertex':'#ifdef\x20USE_ENVMAP\x0a\x09#ifdef\x20ENV_WORLDPOS\x0a\x09\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a\x09#else\x0a\x09\x09vec3\x20cameraToVertex;\x0a\x09\x09if\x20(\x20isOrthographic\x20)\x20{\x0a\x09\x09\x09cameraToVertex\x20=\x20normalize(\x20vec3(\x20-\x20viewMatrix[\x200\x20][\x202\x20],\x20-\x20viewMatrix[\x201\x20][\x202\x20],\x20-\x20viewMatrix[\x202\x20][\x202\x20]\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09cameraToVertex\x20=\x20normalize(\x20worldPosition.xyz\x20-\x20cameraPosition\x20);\x0a\x09\x09}\x0a\x09\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20transformedNormal,\x20viewMatrix\x20);\x0a\x09\x09#ifdef\x20ENVMAP_MODE_REFLECTION\x0a\x09\x09\x09vReflect\x20=\x20reflect(\x20cameraToVertex,\x20worldNormal\x20);\x0a\x09\x09#else\x0a\x09\x09\x09vReflect\x20=\x20refract(\x20cameraToVertex,\x20worldNormal,\x20refractionRatio\x20);\x0a\x09\x09#endif\x0a\x09#endif\x0a#endif','fog_vertex':'#ifdef\x20USE_FOG\x0a\x09vFogDepth\x20=\x20-\x20mvPosition.z;\x0a#endif','fog_pars_vertex':'#ifdef\x20USE_FOG\x0a\x09varying\x20float\x20vFogDepth;\x0a#endif','fog_fragment':'#ifdef\x20USE_FOG\x0a\x09#ifdef\x20FOG_EXP2\x0a\x09\x09float\x20fogFactor\x20=\x201.0\x20-\x20exp(\x20-\x20fogDensity\x20*\x20fogDensity\x20*\x20vFogDepth\x20*\x20vFogDepth\x20);\x0a\x09#else\x0a\x09\x09float\x20fogFactor\x20=\x20smoothstep(\x20fogNear,\x20fogFar,\x20vFogDepth\x20);\x0a\x09#endif\x0a\x09gl_FragColor.rgb\x20=\x20mix(\x20gl_FragColor.rgb,\x20fogColor,\x20fogFactor\x20);\x0a#endif','fog_pars_fragment':'#ifdef\x20USE_FOG\x0a\x09uniform\x20vec3\x20fogColor;\x0a\x09varying\x20float\x20vFogDepth;\x0a\x09#ifdef\x20FOG_EXP2\x0a\x09\x09uniform\x20float\x20fogDensity;\x0a\x09#else\x0a\x09\x09uniform\x20float\x20fogNear;\x0a\x09\x09uniform\x20float\x20fogFar;\x0a\x09#endif\x0a#endif','gradientmap_pars_fragment':'#ifdef\x20USE_GRADIENTMAP\x0a\x09uniform\x20sampler2D\x20gradientMap;\x0a#endif\x0avec3\x20getGradientIrradiance(\x20vec3\x20normal,\x20vec3\x20lightDirection\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20dot(\x20normal,\x20lightDirection\x20);\x0a\x09vec2\x20coord\x20=\x20vec2(\x20dotNL\x20*\x200.5\x20+\x200.5,\x200.0\x20);\x0a\x09#ifdef\x20USE_GRADIENTMAP\x0a\x09\x09return\x20vec3(\x20texture2D(\x20gradientMap,\x20coord\x20).r\x20);\x0a\x09#else\x0a\x09\x09vec2\x20fw\x20=\x20fwidth(\x20coord\x20)\x20*\x200.5;\x0a\x09\x09return\x20mix(\x20vec3(\x200.7\x20),\x20vec3(\x201.0\x20),\x20smoothstep(\x200.7\x20-\x20fw.x,\x200.7\x20+\x20fw.x,\x20coord.x\x20)\x20);\x0a\x09#endif\x0a}','lightmap_pars_fragment':'#ifdef\x20USE_LIGHTMAP\x0a\x09uniform\x20sampler2D\x20lightMap;\x0a\x09uniform\x20float\x20lightMapIntensity;\x0a#endif','lights_lambert_fragment':'LambertMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;\x0amaterial.specularStrength\x20=\x20specularStrength;','lights_lambert_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20LambertMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09float\x20specularStrength;\x0a};\x0avoid\x20RE_Direct_Lambert(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20LambertMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Lambert(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20LambertMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Lambert\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Lambert','lights_pars_begin':'uniform\x20bool\x20receiveShadow;\x0auniform\x20vec3\x20ambientLightColor;\x0a#if\x20defined(\x20USE_LIGHT_PROBES\x20)\x0a\x09uniform\x20vec3\x20lightProbe[\x209\x20];\x0a#endif\x0avec3\x20shGetIrradianceAt(\x20in\x20vec3\x20normal,\x20in\x20vec3\x20shCoefficients[\x209\x20]\x20)\x20{\x0a\x09float\x20x\x20=\x20normal.x,\x20y\x20=\x20normal.y,\x20z\x20=\x20normal.z;\x0a\x09vec3\x20result\x20=\x20shCoefficients[\x200\x20]\x20*\x200.886227;\x0a\x09result\x20+=\x20shCoefficients[\x201\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20y;\x0a\x09result\x20+=\x20shCoefficients[\x202\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x203\x20]\x20*\x202.0\x20*\x200.511664\x20*\x20x;\x0a\x09result\x20+=\x20shCoefficients[\x204\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20x\x20*\x20y;\x0a\x09result\x20+=\x20shCoefficients[\x205\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20y\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x206\x20]\x20*\x20(\x200.743125\x20*\x20z\x20*\x20z\x20-\x200.247708\x20);\x0a\x09result\x20+=\x20shCoefficients[\x207\x20]\x20*\x202.0\x20*\x200.429043\x20*\x20x\x20*\x20z;\x0a\x09result\x20+=\x20shCoefficients[\x208\x20]\x20*\x200.429043\x20*\x20(\x20x\x20*\x20x\x20-\x20y\x20*\x20y\x20);\x0a\x09return\x20result;\x0a}\x0avec3\x20getLightProbeIrradiance(\x20const\x20in\x20vec3\x20lightProbe[\x209\x20],\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09vec3\x20worldNormal\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09vec3\x20irradiance\x20=\x20shGetIrradianceAt(\x20worldNormal,\x20lightProbe\x20);\x0a\x09return\x20irradiance;\x0a}\x0avec3\x20getAmbientLightIrradiance(\x20const\x20in\x20vec3\x20ambientLightColor\x20)\x20{\x0a\x09vec3\x20irradiance\x20=\x20ambientLightColor;\x0a\x09return\x20irradiance;\x0a}\x0afloat\x20getDistanceAttenuation(\x20const\x20in\x20float\x20lightDistance,\x20const\x20in\x20float\x20cutoffDistance,\x20const\x20in\x20float\x20decayExponent\x20)\x20{\x0a\x09float\x20distanceFalloff\x20=\x201.0\x20/\x20max(\x20pow(\x20lightDistance,\x20decayExponent\x20),\x200.01\x20);\x0a\x09if\x20(\x20cutoffDistance\x20>\x200.0\x20)\x20{\x0a\x09\x09distanceFalloff\x20*=\x20pow2(\x20saturate(\x201.0\x20-\x20pow4(\x20lightDistance\x20/\x20cutoffDistance\x20)\x20)\x20);\x0a\x09}\x0a\x09return\x20distanceFalloff;\x0a}\x0afloat\x20getSpotAttenuation(\x20const\x20in\x20float\x20coneCosine,\x20const\x20in\x20float\x20penumbraCosine,\x20const\x20in\x20float\x20angleCosine\x20)\x20{\x0a\x09return\x20smoothstep(\x20coneCosine,\x20penumbraCosine,\x20angleCosine\x20);\x0a}\x0a#if\x20NUM_DIR_LIGHTS\x20>\x200\x0a\x09struct\x20DirectionalLight\x20{\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20color;\x0a\x09};\x0a\x09uniform\x20DirectionalLight\x20directionalLights[\x20NUM_DIR_LIGHTS\x20];\x0a\x09void\x20getDirectionalLightInfo(\x20const\x20in\x20DirectionalLight\x20directionalLight,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09light.color\x20=\x20directionalLight.color;\x0a\x09\x09light.direction\x20=\x20directionalLight.direction;\x0a\x09\x09light.visible\x20=\x20true;\x0a\x09}\x0a#endif\x0a#if\x20NUM_POINT_LIGHTS\x20>\x200\x0a\x09struct\x20PointLight\x20{\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20color;\x0a\x09\x09float\x20distance;\x0a\x09\x09float\x20decay;\x0a\x09};\x0a\x09uniform\x20PointLight\x20pointLights[\x20NUM_POINT_LIGHTS\x20];\x0a\x09void\x20getPointLightInfo(\x20const\x20in\x20PointLight\x20pointLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09vec3\x20lVector\x20=\x20pointLight.position\x20-\x20geometryPosition;\x0a\x09\x09light.direction\x20=\x20normalize(\x20lVector\x20);\x0a\x09\x09float\x20lightDistance\x20=\x20length(\x20lVector\x20);\x0a\x09\x09light.color\x20=\x20pointLight.color;\x0a\x09\x09light.color\x20*=\x20getDistanceAttenuation(\x20lightDistance,\x20pointLight.distance,\x20pointLight.decay\x20);\x0a\x09\x09light.visible\x20=\x20(\x20light.color\x20!=\x20vec3(\x200.0\x20)\x20);\x0a\x09}\x0a#endif\x0a#if\x20NUM_SPOT_LIGHTS\x20>\x200\x0a\x09struct\x20SpotLight\x20{\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20color;\x0a\x09\x09float\x20distance;\x0a\x09\x09float\x20decay;\x0a\x09\x09float\x20coneCos;\x0a\x09\x09float\x20penumbraCos;\x0a\x09};\x0a\x09uniform\x20SpotLight\x20spotLights[\x20NUM_SPOT_LIGHTS\x20];\x0a\x09void\x20getSpotLightInfo(\x20const\x20in\x20SpotLight\x20spotLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20out\x20IncidentLight\x20light\x20)\x20{\x0a\x09\x09vec3\x20lVector\x20=\x20spotLight.position\x20-\x20geometryPosition;\x0a\x09\x09light.direction\x20=\x20normalize(\x20lVector\x20);\x0a\x09\x09float\x20angleCos\x20=\x20dot(\x20light.direction,\x20spotLight.direction\x20);\x0a\x09\x09float\x20spotAttenuation\x20=\x20getSpotAttenuation(\x20spotLight.coneCos,\x20spotLight.penumbraCos,\x20angleCos\x20);\x0a\x09\x09if\x20(\x20spotAttenuation\x20>\x200.0\x20)\x20{\x0a\x09\x09\x09float\x20lightDistance\x20=\x20length(\x20lVector\x20);\x0a\x09\x09\x09light.color\x20=\x20spotLight.color\x20*\x20spotAttenuation;\x0a\x09\x09\x09light.color\x20*=\x20getDistanceAttenuation(\x20lightDistance,\x20spotLight.distance,\x20spotLight.decay\x20);\x0a\x09\x09\x09light.visible\x20=\x20(\x20light.color\x20!=\x20vec3(\x200.0\x20)\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09light.color\x20=\x20vec3(\x200.0\x20);\x0a\x09\x09\x09light.visible\x20=\x20false;\x0a\x09\x09}\x0a\x09}\x0a#endif\x0a#if\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x0a\x09struct\x20RectAreaLight\x20{\x0a\x09\x09vec3\x20color;\x0a\x09\x09vec3\x20position;\x0a\x09\x09vec3\x20halfWidth;\x0a\x09\x09vec3\x20halfHeight;\x0a\x09};\x0a\x09uniform\x20sampler2D\x20ltc_1;\x09uniform\x20sampler2D\x20ltc_2;\x0a\x09uniform\x20RectAreaLight\x20rectAreaLights[\x20NUM_RECT_AREA_LIGHTS\x20];\x0a#endif\x0a#if\x20NUM_HEMI_LIGHTS\x20>\x200\x0a\x09struct\x20HemisphereLight\x20{\x0a\x09\x09vec3\x20direction;\x0a\x09\x09vec3\x20skyColor;\x0a\x09\x09vec3\x20groundColor;\x0a\x09};\x0a\x09uniform\x20HemisphereLight\x20hemisphereLights[\x20NUM_HEMI_LIGHTS\x20];\x0a\x09vec3\x20getHemisphereLightIrradiance(\x20const\x20in\x20HemisphereLight\x20hemiLight,\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09\x09float\x20dotNL\x20=\x20dot(\x20normal,\x20hemiLight.direction\x20);\x0a\x09\x09float\x20hemiDiffuseWeight\x20=\x200.5\x20*\x20dotNL\x20+\x200.5;\x0a\x09\x09vec3\x20irradiance\x20=\x20mix(\x20hemiLight.groundColor,\x20hemiLight.skyColor,\x20hemiDiffuseWeight\x20);\x0a\x09\x09return\x20irradiance;\x0a\x09}\x0a#endif','lights_toon_fragment':'ToonMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;','lights_toon_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20ToonMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a};\x0avoid\x20RE_Direct_Toon(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20ToonMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09vec3\x20irradiance\x20=\x20getGradientIrradiance(\x20geometryNormal,\x20directLight.direction\x20)\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Toon(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20ToonMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Toon\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Toon','lights_phong_fragment':'BlinnPhongMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb;\x0amaterial.specularColor\x20=\x20specular;\x0amaterial.specularShininess\x20=\x20shininess;\x0amaterial.specularStrength\x20=\x20specularStrength;','lights_phong_pars_fragment':'varying\x20vec3\x20vViewPosition;\x0astruct\x20BlinnPhongMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09vec3\x20specularColor;\x0a\x09float\x20specularShininess;\x0a\x09float\x20specularStrength;\x0a};\x0avoid\x20RE_Direct_BlinnPhong(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20BlinnPhongMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a\x09reflectedLight.directSpecular\x20+=\x20irradiance\x20*\x20BRDF_BlinnPhong(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material.specularColor,\x20material.specularShininess\x20)\x20*\x20material.specularStrength;\x0a}\x0avoid\x20RE_IndirectDiffuse_BlinnPhong(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20BlinnPhongMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_BlinnPhong\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_BlinnPhong','lights_physical_fragment':'PhysicalMaterial\x20material;\x0amaterial.diffuseColor\x20=\x20diffuseColor.rgb\x20*\x20(\x201.0\x20-\x20metalnessFactor\x20);\x0avec3\x20dxy\x20=\x20max(\x20abs(\x20dFdx(\x20nonPerturbedNormal\x20)\x20),\x20abs(\x20dFdy(\x20nonPerturbedNormal\x20)\x20)\x20);\x0afloat\x20geometryRoughness\x20=\x20max(\x20max(\x20dxy.x,\x20dxy.y\x20),\x20dxy.z\x20);\x0amaterial.roughness\x20=\x20max(\x20roughnessFactor,\x200.0525\x20);material.roughness\x20+=\x20geometryRoughness;\x0amaterial.roughness\x20=\x20min(\x20material.roughness,\x201.0\x20);\x0a#ifdef\x20IOR\x0a\x09material.ior\x20=\x20ior;\x0a\x09#ifdef\x20USE_SPECULAR\x0a\x09\x09float\x20specularIntensityFactor\x20=\x20specularIntensity;\x0a\x09\x09vec3\x20specularColorFactor\x20=\x20specularColor;\x0a\x09\x09#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09\x09\x09specularColorFactor\x20*=\x20texture2D(\x20specularColorMap,\x20vSpecularColorMapUv\x20).rgb;\x0a\x09\x09#endif\x0a\x09\x09#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09\x09\x09specularIntensityFactor\x20*=\x20texture2D(\x20specularIntensityMap,\x20vSpecularIntensityMapUv\x20).a;\x0a\x09\x09#endif\x0a\x09\x09material.specularF90\x20=\x20mix(\x20specularIntensityFactor,\x201.0,\x20metalnessFactor\x20);\x0a\x09#else\x0a\x09\x09float\x20specularIntensityFactor\x20=\x201.0;\x0a\x09\x09vec3\x20specularColorFactor\x20=\x20vec3(\x201.0\x20);\x0a\x09\x09material.specularF90\x20=\x201.0;\x0a\x09#endif\x0a\x09material.specularColor\x20=\x20mix(\x20min(\x20pow2(\x20(\x20material.ior\x20-\x201.0\x20)\x20/\x20(\x20material.ior\x20+\x201.0\x20)\x20)\x20*\x20specularColorFactor,\x20vec3(\x201.0\x20)\x20)\x20*\x20specularIntensityFactor,\x20diffuseColor.rgb,\x20metalnessFactor\x20);\x0a#else\x0a\x09material.specularColor\x20=\x20mix(\x20vec3(\x200.04\x20),\x20diffuseColor.rgb,\x20metalnessFactor\x20);\x0a\x09material.specularF90\x20=\x201.0;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09material.clearcoat\x20=\x20clearcoat;\x0a\x09material.clearcoatRoughness\x20=\x20clearcoatRoughness;\x0a\x09material.clearcoatF0\x20=\x20vec3(\x200.04\x20);\x0a\x09material.clearcoatF90\x20=\x201.0;\x0a\x09#ifdef\x20USE_CLEARCOATMAP\x0a\x09\x09material.clearcoat\x20*=\x20texture2D(\x20clearcoatMap,\x20vClearcoatMapUv\x20).x;\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09\x09material.clearcoatRoughness\x20*=\x20texture2D(\x20clearcoatRoughnessMap,\x20vClearcoatRoughnessMapUv\x20).y;\x0a\x09#endif\x0a\x09material.clearcoat\x20=\x20saturate(\x20material.clearcoat\x20);\x09material.clearcoatRoughness\x20=\x20max(\x20material.clearcoatRoughness,\x200.0525\x20);\x0a\x09material.clearcoatRoughness\x20+=\x20geometryRoughness;\x0a\x09material.clearcoatRoughness\x20=\x20min(\x20material.clearcoatRoughness,\x201.0\x20);\x0a#endif\x0a#ifdef\x20USE_DISPERSION\x0a\x09material.dispersion\x20=\x20dispersion;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09material.iridescence\x20=\x20iridescence;\x0a\x09material.iridescenceIOR\x20=\x20iridescenceIOR;\x0a\x09#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09\x09material.iridescence\x20*=\x20texture2D(\x20iridescenceMap,\x20vIridescenceMapUv\x20).r;\x0a\x09#endif\x0a\x09#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09\x09material.iridescenceThickness\x20=\x20(iridescenceThicknessMaximum\x20-\x20iridescenceThicknessMinimum)\x20*\x20texture2D(\x20iridescenceThicknessMap,\x20vIridescenceThicknessMapUv\x20).g\x20+\x20iridescenceThicknessMinimum;\x0a\x09#else\x0a\x09\x09material.iridescenceThickness\x20=\x20iridescenceThicknessMaximum;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_SHEEN\x0a\x09material.sheenColor\x20=\x20sheenColor;\x0a\x09#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09\x09material.sheenColor\x20*=\x20texture2D(\x20sheenColorMap,\x20vSheenColorMapUv\x20).rgb;\x0a\x09#endif\x0a\x09material.sheenRoughness\x20=\x20clamp(\x20sheenRoughness,\x200.07,\x201.0\x20);\x0a\x09#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09\x09material.sheenRoughness\x20*=\x20texture2D(\x20sheenRoughnessMap,\x20vSheenRoughnessMapUv\x20).a;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09#ifdef\x20USE_ANISOTROPYMAP\x0a\x09\x09mat2\x20anisotropyMat\x20=\x20mat2(\x20anisotropyVector.x,\x20anisotropyVector.y,\x20-\x20anisotropyVector.y,\x20anisotropyVector.x\x20);\x0a\x09\x09vec3\x20anisotropyPolar\x20=\x20texture2D(\x20anisotropyMap,\x20vAnisotropyMapUv\x20).rgb;\x0a\x09\x09vec2\x20anisotropyV\x20=\x20anisotropyMat\x20*\x20normalize(\x202.0\x20*\x20anisotropyPolar.rg\x20-\x20vec2(\x201.0\x20)\x20)\x20*\x20anisotropyPolar.b;\x0a\x09#else\x0a\x09\x09vec2\x20anisotropyV\x20=\x20anisotropyVector;\x0a\x09#endif\x0a\x09material.anisotropy\x20=\x20length(\x20anisotropyV\x20);\x0a\x09if(\x20material.anisotropy\x20==\x200.0\x20)\x20{\x0a\x09\x09anisotropyV\x20=\x20vec2(\x201.0,\x200.0\x20);\x0a\x09}\x20else\x20{\x0a\x09\x09anisotropyV\x20/=\x20material.anisotropy;\x0a\x09\x09material.anisotropy\x20=\x20saturate(\x20material.anisotropy\x20);\x0a\x09}\x0a\x09material.alphaT\x20=\x20mix(\x20pow2(\x20material.roughness\x20),\x201.0,\x20pow2(\x20material.anisotropy\x20)\x20);\x0a\x09material.anisotropyT\x20=\x20tbn[\x200\x20]\x20*\x20anisotropyV.x\x20+\x20tbn[\x201\x20]\x20*\x20anisotropyV.y;\x0a\x09material.anisotropyB\x20=\x20tbn[\x201\x20]\x20*\x20anisotropyV.x\x20-\x20tbn[\x200\x20]\x20*\x20anisotropyV.y;\x0a#endif','lights_physical_pars_fragment':'struct\x20PhysicalMaterial\x20{\x0a\x09vec3\x20diffuseColor;\x0a\x09float\x20roughness;\x0a\x09vec3\x20specularColor;\x0a\x09float\x20specularF90;\x0a\x09float\x20dispersion;\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20clearcoat;\x0a\x09\x09float\x20clearcoatRoughness;\x0a\x09\x09vec3\x20clearcoatF0;\x0a\x09\x09float\x20clearcoatF90;\x0a\x09#endif\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09float\x20iridescence;\x0a\x09\x09float\x20iridescenceIOR;\x0a\x09\x09float\x20iridescenceThickness;\x0a\x09\x09vec3\x20iridescenceFresnel;\x0a\x09\x09vec3\x20iridescenceF0;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09vec3\x20sheenColor;\x0a\x09\x09float\x20sheenRoughness;\x0a\x09#endif\x0a\x09#ifdef\x20IOR\x0a\x09\x09float\x20ior;\x0a\x09#endif\x0a\x09#ifdef\x20USE_TRANSMISSION\x0a\x09\x09float\x20transmission;\x0a\x09\x09float\x20transmissionAlpha;\x0a\x09\x09float\x20thickness;\x0a\x09\x09float\x20attenuationDistance;\x0a\x09\x09vec3\x20attenuationColor;\x0a\x09#endif\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09float\x20anisotropy;\x0a\x09\x09float\x20alphaT;\x0a\x09\x09vec3\x20anisotropyT;\x0a\x09\x09vec3\x20anisotropyB;\x0a\x09#endif\x0a};\x0avec3\x20clearcoatSpecularDirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20clearcoatSpecularIndirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20sheenSpecularDirect\x20=\x20vec3(\x200.0\x20);\x0avec3\x20sheenSpecularIndirect\x20=\x20vec3(0.0\x20);\x0avec3\x20Schlick_to_F0(\x20const\x20in\x20vec3\x20f,\x20const\x20in\x20float\x20f90,\x20const\x20in\x20float\x20dotVH\x20)\x20{\x0a\x20\x20\x20\x20float\x20x\x20=\x20clamp(\x201.0\x20-\x20dotVH,\x200.0,\x201.0\x20);\x0a\x20\x20\x20\x20float\x20x2\x20=\x20x\x20*\x20x;\x0a\x20\x20\x20\x20float\x20x5\x20=\x20clamp(\x20x\x20*\x20x2\x20*\x20x2,\x200.0,\x200.9999\x20);\x0a\x20\x20\x20\x20return\x20(\x20f\x20-\x20vec3(\x20f90\x20)\x20*\x20x5\x20)\x20/\x20(\x201.0\x20-\x20x5\x20);\x0a}\x0afloat\x20V_GGX_SmithCorrelated(\x20const\x20in\x20float\x20alpha,\x20const\x20in\x20float\x20dotNL,\x20const\x20in\x20float\x20dotNV\x20)\x20{\x0a\x09float\x20a2\x20=\x20pow2(\x20alpha\x20);\x0a\x09float\x20gv\x20=\x20dotNL\x20*\x20sqrt(\x20a2\x20+\x20(\x201.0\x20-\x20a2\x20)\x20*\x20pow2(\x20dotNV\x20)\x20);\x0a\x09float\x20gl\x20=\x20dotNV\x20*\x20sqrt(\x20a2\x20+\x20(\x201.0\x20-\x20a2\x20)\x20*\x20pow2(\x20dotNL\x20)\x20);\x0a\x09return\x200.5\x20/\x20max(\x20gv\x20+\x20gl,\x20EPSILON\x20);\x0a}\x0afloat\x20D_GGX(\x20const\x20in\x20float\x20alpha,\x20const\x20in\x20float\x20dotNH\x20)\x20{\x0a\x09float\x20a2\x20=\x20pow2(\x20alpha\x20);\x0a\x09float\x20denom\x20=\x20pow2(\x20dotNH\x20)\x20*\x20(\x20a2\x20-\x201.0\x20)\x20+\x201.0;\x0a\x09return\x20RECIPROCAL_PI\x20*\x20a2\x20/\x20pow2(\x20denom\x20);\x0a}\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09float\x20V_GGX_SmithCorrelated_Anisotropic(\x20const\x20in\x20float\x20alphaT,\x20const\x20in\x20float\x20alphaB,\x20const\x20in\x20float\x20dotTV,\x20const\x20in\x20float\x20dotBV,\x20const\x20in\x20float\x20dotTL,\x20const\x20in\x20float\x20dotBL,\x20const\x20in\x20float\x20dotNV,\x20const\x20in\x20float\x20dotNL\x20)\x20{\x0a\x09\x09float\x20gv\x20=\x20dotNL\x20*\x20length(\x20vec3(\x20alphaT\x20*\x20dotTV,\x20alphaB\x20*\x20dotBV,\x20dotNV\x20)\x20);\x0a\x09\x09float\x20gl\x20=\x20dotNV\x20*\x20length(\x20vec3(\x20alphaT\x20*\x20dotTL,\x20alphaB\x20*\x20dotBL,\x20dotNL\x20)\x20);\x0a\x09\x09float\x20v\x20=\x200.5\x20/\x20(\x20gv\x20+\x20gl\x20);\x0a\x09\x09return\x20saturate(v);\x0a\x09}\x0a\x09float\x20D_GGX_Anisotropic(\x20const\x20in\x20float\x20alphaT,\x20const\x20in\x20float\x20alphaB,\x20const\x20in\x20float\x20dotNH,\x20const\x20in\x20float\x20dotTH,\x20const\x20in\x20float\x20dotBH\x20)\x20{\x0a\x09\x09float\x20a2\x20=\x20alphaT\x20*\x20alphaB;\x0a\x09\x09highp\x20vec3\x20v\x20=\x20vec3(\x20alphaB\x20*\x20dotTH,\x20alphaT\x20*\x20dotBH,\x20a2\x20*\x20dotNH\x20);\x0a\x09\x09highp\x20float\x20v2\x20=\x20dot(\x20v,\x20v\x20);\x0a\x09\x09float\x20w2\x20=\x20a2\x20/\x20v2;\x0a\x09\x09return\x20RECIPROCAL_PI\x20*\x20a2\x20*\x20pow2\x20(\x20w2\x20);\x0a\x09}\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09vec3\x20BRDF_GGX_Clearcoat(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20PhysicalMaterial\x20material)\x20{\x0a\x09\x09vec3\x20f0\x20=\x20material.clearcoatF0;\x0a\x09\x09float\x20f90\x20=\x20material.clearcoatF90;\x0a\x09\x09float\x20roughness\x20=\x20material.clearcoatRoughness;\x0a\x09\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09\x09vec3\x20F\x20=\x20F_Schlick(\x20f0,\x20f90,\x20dotVH\x20);\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated(\x20alpha,\x20dotNL,\x20dotNV\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX(\x20alpha,\x20dotNH\x20);\x0a\x09\x09return\x20F\x20*\x20(\x20V\x20*\x20D\x20);\x0a\x09}\x0a#endif\x0avec3\x20BRDF_GGX(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20PhysicalMaterial\x20material\x20)\x20{\x0a\x09vec3\x20f0\x20=\x20material.specularColor;\x0a\x09float\x20f90\x20=\x20material.specularF90;\x0a\x09float\x20roughness\x20=\x20material.roughness;\x0a\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20dotVH\x20=\x20saturate(\x20dot(\x20viewDir,\x20halfDir\x20)\x20);\x0a\x09vec3\x20F\x20=\x20F_Schlick(\x20f0,\x20f90,\x20dotVH\x20);\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09F\x20=\x20mix(\x20F,\x20material.iridescenceFresnel,\x20material.iridescence\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09float\x20dotTL\x20=\x20dot(\x20material.anisotropyT,\x20lightDir\x20);\x0a\x09\x09float\x20dotTV\x20=\x20dot(\x20material.anisotropyT,\x20viewDir\x20);\x0a\x09\x09float\x20dotTH\x20=\x20dot(\x20material.anisotropyT,\x20halfDir\x20);\x0a\x09\x09float\x20dotBL\x20=\x20dot(\x20material.anisotropyB,\x20lightDir\x20);\x0a\x09\x09float\x20dotBV\x20=\x20dot(\x20material.anisotropyB,\x20viewDir\x20);\x0a\x09\x09float\x20dotBH\x20=\x20dot(\x20material.anisotropyB,\x20halfDir\x20);\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated_Anisotropic(\x20material.alphaT,\x20alpha,\x20dotTV,\x20dotBV,\x20dotTL,\x20dotBL,\x20dotNV,\x20dotNL\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX_Anisotropic(\x20material.alphaT,\x20alpha,\x20dotNH,\x20dotTH,\x20dotBH\x20);\x0a\x09#else\x0a\x09\x09float\x20V\x20=\x20V_GGX_SmithCorrelated(\x20alpha,\x20dotNL,\x20dotNV\x20);\x0a\x09\x09float\x20D\x20=\x20D_GGX(\x20alpha,\x20dotNH\x20);\x0a\x09#endif\x0a\x09return\x20F\x20*\x20(\x20V\x20*\x20D\x20);\x0a}\x0avec2\x20LTC_Uv(\x20const\x20in\x20vec3\x20N,\x20const\x20in\x20vec3\x20V,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09const\x20float\x20LUT_SIZE\x20=\x2064.0;\x0a\x09const\x20float\x20LUT_SCALE\x20=\x20(\x20LUT_SIZE\x20-\x201.0\x20)\x20/\x20LUT_SIZE;\x0a\x09const\x20float\x20LUT_BIAS\x20=\x200.5\x20/\x20LUT_SIZE;\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20N,\x20V\x20)\x20);\x0a\x09vec2\x20uv\x20=\x20vec2(\x20roughness,\x20sqrt(\x201.0\x20-\x20dotNV\x20)\x20);\x0a\x09uv\x20=\x20uv\x20*\x20LUT_SCALE\x20+\x20LUT_BIAS;\x0a\x09return\x20uv;\x0a}\x0afloat\x20LTC_ClippedSphereFormFactor(\x20const\x20in\x20vec3\x20f\x20)\x20{\x0a\x09float\x20l\x20=\x20length(\x20f\x20);\x0a\x09return\x20max(\x20(\x20l\x20*\x20l\x20+\x20f.z\x20)\x20/\x20(\x20l\x20+\x201.0\x20),\x200.0\x20);\x0a}\x0avec3\x20LTC_EdgeVectorFormFactor(\x20const\x20in\x20vec3\x20v1,\x20const\x20in\x20vec3\x20v2\x20)\x20{\x0a\x09float\x20x\x20=\x20dot(\x20v1,\x20v2\x20);\x0a\x09float\x20y\x20=\x20abs(\x20x\x20);\x0a\x09float\x20a\x20=\x200.8543985\x20+\x20(\x200.4965155\x20+\x200.0145206\x20*\x20y\x20)\x20*\x20y;\x0a\x09float\x20b\x20=\x203.4175940\x20+\x20(\x204.1616724\x20+\x20y\x20)\x20*\x20y;\x0a\x09float\x20v\x20=\x20a\x20/\x20b;\x0a\x09float\x20theta_sintheta\x20=\x20(\x20x\x20>\x200.0\x20)\x20?\x20v\x20:\x200.5\x20*\x20inversesqrt(\x20max(\x201.0\x20-\x20x\x20*\x20x,\x201e-7\x20)\x20)\x20-\x20v;\x0a\x09return\x20cross(\x20v1,\x20v2\x20)\x20*\x20theta_sintheta;\x0a}\x0avec3\x20LTC_Evaluate(\x20const\x20in\x20vec3\x20N,\x20const\x20in\x20vec3\x20V,\x20const\x20in\x20vec3\x20P,\x20const\x20in\x20mat3\x20mInv,\x20const\x20in\x20vec3\x20rectCoords[\x204\x20]\x20)\x20{\x0a\x09vec3\x20v1\x20=\x20rectCoords[\x201\x20]\x20-\x20rectCoords[\x200\x20];\x0a\x09vec3\x20v2\x20=\x20rectCoords[\x203\x20]\x20-\x20rectCoords[\x200\x20];\x0a\x09vec3\x20lightNormal\x20=\x20cross(\x20v1,\x20v2\x20);\x0a\x09if(\x20dot(\x20lightNormal,\x20P\x20-\x20rectCoords[\x200\x20]\x20)\x20<\x200.0\x20)\x20return\x20vec3(\x200.0\x20);\x0a\x09vec3\x20T1,\x20T2;\x0a\x09T1\x20=\x20normalize(\x20V\x20-\x20N\x20*\x20dot(\x20V,\x20N\x20)\x20);\x0a\x09T2\x20=\x20-\x20cross(\x20N,\x20T1\x20);\x0a\x09mat3\x20mat\x20=\x20mInv\x20*\x20transposeMat3(\x20mat3(\x20T1,\x20T2,\x20N\x20)\x20);\x0a\x09vec3\x20coords[\x204\x20];\x0a\x09coords[\x200\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x200\x20]\x20-\x20P\x20);\x0a\x09coords[\x201\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x201\x20]\x20-\x20P\x20);\x0a\x09coords[\x202\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x202\x20]\x20-\x20P\x20);\x0a\x09coords[\x203\x20]\x20=\x20mat\x20*\x20(\x20rectCoords[\x203\x20]\x20-\x20P\x20);\x0a\x09coords[\x200\x20]\x20=\x20normalize(\x20coords[\x200\x20]\x20);\x0a\x09coords[\x201\x20]\x20=\x20normalize(\x20coords[\x201\x20]\x20);\x0a\x09coords[\x202\x20]\x20=\x20normalize(\x20coords[\x202\x20]\x20);\x0a\x09coords[\x203\x20]\x20=\x20normalize(\x20coords[\x203\x20]\x20);\x0a\x09vec3\x20vectorFormFactor\x20=\x20vec3(\x200.0\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x200\x20],\x20coords[\x201\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x201\x20],\x20coords[\x202\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x202\x20],\x20coords[\x203\x20]\x20);\x0a\x09vectorFormFactor\x20+=\x20LTC_EdgeVectorFormFactor(\x20coords[\x203\x20],\x20coords[\x200\x20]\x20);\x0a\x09float\x20result\x20=\x20LTC_ClippedSphereFormFactor(\x20vectorFormFactor\x20);\x0a\x09return\x20vec3(\x20result\x20);\x0a}\x0a#if\x20defined(\x20USE_SHEEN\x20)\x0afloat\x20D_Charlie(\x20float\x20roughness,\x20float\x20dotNH\x20)\x20{\x0a\x09float\x20alpha\x20=\x20pow2(\x20roughness\x20);\x0a\x09float\x20invAlpha\x20=\x201.0\x20/\x20alpha;\x0a\x09float\x20cos2h\x20=\x20dotNH\x20*\x20dotNH;\x0a\x09float\x20sin2h\x20=\x20max(\x201.0\x20-\x20cos2h,\x200.0078125\x20);\x0a\x09return\x20(\x202.0\x20+\x20invAlpha\x20)\x20*\x20pow(\x20sin2h,\x20invAlpha\x20*\x200.5\x20)\x20/\x20(\x202.0\x20*\x20PI\x20);\x0a}\x0afloat\x20V_Neubelt(\x20float\x20dotNV,\x20float\x20dotNL\x20)\x20{\x0a\x09return\x20saturate(\x201.0\x20/\x20(\x204.0\x20*\x20(\x20dotNL\x20+\x20dotNV\x20-\x20dotNL\x20*\x20dotNV\x20)\x20)\x20);\x0a}\x0avec3\x20BRDF_Sheen(\x20const\x20in\x20vec3\x20lightDir,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20normal,\x20vec3\x20sheenColor,\x20const\x20in\x20float\x20sheenRoughness\x20)\x20{\x0a\x09vec3\x20halfDir\x20=\x20normalize(\x20lightDir\x20+\x20viewDir\x20);\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20normal,\x20lightDir\x20)\x20);\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20dotNH\x20=\x20saturate(\x20dot(\x20normal,\x20halfDir\x20)\x20);\x0a\x09float\x20D\x20=\x20D_Charlie(\x20sheenRoughness,\x20dotNH\x20);\x0a\x09float\x20V\x20=\x20V_Neubelt(\x20dotNV,\x20dotNL\x20);\x0a\x09return\x20sheenColor\x20*\x20(\x20D\x20*\x20V\x20);\x0a}\x0a#endif\x0afloat\x20IBLSheenBRDF(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09float\x20r2\x20=\x20roughness\x20*\x20roughness;\x0a\x09float\x20a\x20=\x20roughness\x20<\x200.25\x20?\x20-339.2\x20*\x20r2\x20+\x20161.4\x20*\x20roughness\x20-\x2025.9\x20:\x20-8.48\x20*\x20r2\x20+\x2014.3\x20*\x20roughness\x20-\x209.95;\x0a\x09float\x20b\x20=\x20roughness\x20<\x200.25\x20?\x2044.0\x20*\x20r2\x20-\x2023.7\x20*\x20roughness\x20+\x203.26\x20:\x201.97\x20*\x20r2\x20-\x203.27\x20*\x20roughness\x20+\x200.72;\x0a\x09float\x20DG\x20=\x20exp(\x20a\x20*\x20dotNV\x20+\x20b\x20)\x20+\x20(\x20roughness\x20<\x200.25\x20?\x200.0\x20:\x200.1\x20*\x20(\x20roughness\x20-\x200.25\x20)\x20);\x0a\x09return\x20saturate(\x20DG\x20*\x20RECIPROCAL_PI\x20);\x0a}\x0avec2\x20DFGApprox(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09float\x20dotNV\x20=\x20saturate(\x20dot(\x20normal,\x20viewDir\x20)\x20);\x0a\x09const\x20vec4\x20c0\x20=\x20vec4(\x20-\x201,\x20-\x200.0275,\x20-\x200.572,\x200.022\x20);\x0a\x09const\x20vec4\x20c1\x20=\x20vec4(\x201,\x200.0425,\x201.04,\x20-\x200.04\x20);\x0a\x09vec4\x20r\x20=\x20roughness\x20*\x20c0\x20+\x20c1;\x0a\x09float\x20a004\x20=\x20min(\x20r.x\x20*\x20r.x,\x20exp2(\x20-\x209.28\x20*\x20dotNV\x20)\x20)\x20*\x20r.x\x20+\x20r.y;\x0a\x09vec2\x20fab\x20=\x20vec2(\x20-\x201.04,\x201.04\x20)\x20*\x20a004\x20+\x20r.zw;\x0a\x09return\x20fab;\x0a}\x0avec3\x20EnvironmentBRDF(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09vec2\x20fab\x20=\x20DFGApprox(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09return\x20specularColor\x20*\x20fab.x\x20+\x20specularF90\x20*\x20fab.y;\x0a}\x0a#ifdef\x20USE_IRIDESCENCE\x0avoid\x20computeMultiscatteringIridescence(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20iridescence,\x20const\x20in\x20vec3\x20iridescenceF0,\x20const\x20in\x20float\x20roughness,\x20inout\x20vec3\x20singleScatter,\x20inout\x20vec3\x20multiScatter\x20)\x20{\x0a#else\x0avoid\x20computeMultiscattering(\x20const\x20in\x20vec3\x20normal,\x20const\x20in\x20vec3\x20viewDir,\x20const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20float\x20roughness,\x20inout\x20vec3\x20singleScatter,\x20inout\x20vec3\x20multiScatter\x20)\x20{\x0a#endif\x0a\x09vec2\x20fab\x20=\x20DFGApprox(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09vec3\x20Fr\x20=\x20mix(\x20specularColor,\x20iridescenceF0,\x20iridescence\x20);\x0a\x09#else\x0a\x09\x09vec3\x20Fr\x20=\x20specularColor;\x0a\x09#endif\x0a\x09vec3\x20FssEss\x20=\x20Fr\x20*\x20fab.x\x20+\x20specularF90\x20*\x20fab.y;\x0a\x09float\x20Ess\x20=\x20fab.x\x20+\x20fab.y;\x0a\x09float\x20Ems\x20=\x201.0\x20-\x20Ess;\x0a\x09vec3\x20Favg\x20=\x20Fr\x20+\x20(\x201.0\x20-\x20Fr\x20)\x20*\x200.047619;\x09vec3\x20Fms\x20=\x20FssEss\x20*\x20Favg\x20/\x20(\x201.0\x20-\x20Ems\x20*\x20Favg\x20);\x0a\x09singleScatter\x20+=\x20FssEss;\x0a\x09multiScatter\x20+=\x20Fms\x20*\x20Ems;\x0a}\x0a#if\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x0a\x09void\x20RE_Direct_RectArea_Physical(\x20const\x20in\x20RectAreaLight\x20rectAreaLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09\x09vec3\x20normal\x20=\x20geometryNormal;\x0a\x09\x09vec3\x20viewDir\x20=\x20geometryViewDir;\x0a\x09\x09vec3\x20position\x20=\x20geometryPosition;\x0a\x09\x09vec3\x20lightPos\x20=\x20rectAreaLight.position;\x0a\x09\x09vec3\x20halfWidth\x20=\x20rectAreaLight.halfWidth;\x0a\x09\x09vec3\x20halfHeight\x20=\x20rectAreaLight.halfHeight;\x0a\x09\x09vec3\x20lightColor\x20=\x20rectAreaLight.color;\x0a\x09\x09float\x20roughness\x20=\x20material.roughness;\x0a\x09\x09vec3\x20rectCoords[\x204\x20];\x0a\x09\x09rectCoords[\x200\x20]\x20=\x20lightPos\x20+\x20halfWidth\x20-\x20halfHeight;\x09\x09rectCoords[\x201\x20]\x20=\x20lightPos\x20-\x20halfWidth\x20-\x20halfHeight;\x0a\x09\x09rectCoords[\x202\x20]\x20=\x20lightPos\x20-\x20halfWidth\x20+\x20halfHeight;\x0a\x09\x09rectCoords[\x203\x20]\x20=\x20lightPos\x20+\x20halfWidth\x20+\x20halfHeight;\x0a\x09\x09vec2\x20uv\x20=\x20LTC_Uv(\x20normal,\x20viewDir,\x20roughness\x20);\x0a\x09\x09vec4\x20t1\x20=\x20texture2D(\x20ltc_1,\x20uv\x20);\x0a\x09\x09vec4\x20t2\x20=\x20texture2D(\x20ltc_2,\x20uv\x20);\x0a\x09\x09mat3\x20mInv\x20=\x20mat3(\x0a\x09\x09\x09vec3(\x20t1.x,\x200,\x20t1.y\x20),\x0a\x09\x09\x09vec3(\x20\x20\x20\x200,\x201,\x20\x20\x20\x200\x20),\x0a\x09\x09\x09vec3(\x20t1.z,\x200,\x20t1.w\x20)\x0a\x09\x09);\x0a\x09\x09vec3\x20fresnel\x20=\x20(\x20material.specularColor\x20*\x20t2.x\x20+\x20(\x20vec3(\x201.0\x20)\x20-\x20material.specularColor\x20)\x20*\x20t2.y\x20);\x0a\x09\x09reflectedLight.directSpecular\x20+=\x20lightColor\x20*\x20fresnel\x20*\x20LTC_Evaluate(\x20normal,\x20viewDir,\x20position,\x20mInv,\x20rectCoords\x20);\x0a\x09\x09reflectedLight.directDiffuse\x20+=\x20lightColor\x20*\x20material.diffuseColor\x20*\x20LTC_Evaluate(\x20normal,\x20viewDir,\x20position,\x20mat3(\x201.0\x20),\x20rectCoords\x20);\x0a\x09}\x0a#endif\x0avoid\x20RE_Direct_Physical(\x20const\x20in\x20IncidentLight\x20directLight,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09float\x20dotNL\x20=\x20saturate(\x20dot(\x20geometryNormal,\x20directLight.direction\x20)\x20);\x0a\x09vec3\x20irradiance\x20=\x20dotNL\x20*\x20directLight.color;\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20dotNLcc\x20=\x20saturate(\x20dot(\x20geometryClearcoatNormal,\x20directLight.direction\x20)\x20);\x0a\x09\x09vec3\x20ccIrradiance\x20=\x20dotNLcc\x20*\x20directLight.color;\x0a\x09\x09clearcoatSpecularDirect\x20+=\x20ccIrradiance\x20*\x20BRDF_GGX_Clearcoat(\x20directLight.direction,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09sheenSpecularDirect\x20+=\x20irradiance\x20*\x20BRDF_Sheen(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material.sheenColor,\x20material.sheenRoughness\x20);\x0a\x09#endif\x0a\x09reflectedLight.directSpecular\x20+=\x20irradiance\x20*\x20BRDF_GGX(\x20directLight.direction,\x20geometryViewDir,\x20geometryNormal,\x20material\x20);\x0a\x09reflectedLight.directDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectDiffuse_Physical(\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight\x20)\x20{\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20irradiance\x20*\x20BRDF_Lambert(\x20material.diffuseColor\x20);\x0a}\x0avoid\x20RE_IndirectSpecular_Physical(\x20const\x20in\x20vec3\x20radiance,\x20const\x20in\x20vec3\x20irradiance,\x20const\x20in\x20vec3\x20clearcoatRadiance,\x20const\x20in\x20vec3\x20geometryPosition,\x20const\x20in\x20vec3\x20geometryNormal,\x20const\x20in\x20vec3\x20geometryViewDir,\x20const\x20in\x20vec3\x20geometryClearcoatNormal,\x20const\x20in\x20PhysicalMaterial\x20material,\x20inout\x20ReflectedLight\x20reflectedLight)\x20{\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09clearcoatSpecularIndirect\x20+=\x20clearcoatRadiance\x20*\x20EnvironmentBRDF(\x20geometryClearcoatNormal,\x20geometryViewDir,\x20material.clearcoatF0,\x20material.clearcoatF90,\x20material.clearcoatRoughness\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09sheenSpecularIndirect\x20+=\x20irradiance\x20*\x20material.sheenColor\x20*\x20IBLSheenBRDF(\x20geometryNormal,\x20geometryViewDir,\x20material.sheenRoughness\x20);\x0a\x09#endif\x0a\x09vec3\x20singleScattering\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20multiScattering\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20cosineWeightedIrradiance\x20=\x20irradiance\x20*\x20RECIPROCAL_PI;\x0a\x09#ifdef\x20USE_IRIDESCENCE\x0a\x09\x09computeMultiscatteringIridescence(\x20geometryNormal,\x20geometryViewDir,\x20material.specularColor,\x20material.specularF90,\x20material.iridescence,\x20material.iridescenceFresnel,\x20material.roughness,\x20singleScattering,\x20multiScattering\x20);\x0a\x09#else\x0a\x09\x09computeMultiscattering(\x20geometryNormal,\x20geometryViewDir,\x20material.specularColor,\x20material.specularF90,\x20material.roughness,\x20singleScattering,\x20multiScattering\x20);\x0a\x09#endif\x0a\x09vec3\x20totalScattering\x20=\x20singleScattering\x20+\x20multiScattering;\x0a\x09vec3\x20diffuse\x20=\x20material.diffuseColor\x20*\x20(\x201.0\x20-\x20max(\x20max(\x20totalScattering.r,\x20totalScattering.g\x20),\x20totalScattering.b\x20)\x20);\x0a\x09reflectedLight.indirectSpecular\x20+=\x20radiance\x20*\x20singleScattering;\x0a\x09reflectedLight.indirectSpecular\x20+=\x20multiScattering\x20*\x20cosineWeightedIrradiance;\x0a\x09reflectedLight.indirectDiffuse\x20+=\x20diffuse\x20*\x20cosineWeightedIrradiance;\x0a}\x0a#define\x20RE_Direct\x09\x09\x09\x09RE_Direct_Physical\x0a#define\x20RE_Direct_RectArea\x09\x09RE_Direct_RectArea_Physical\x0a#define\x20RE_IndirectDiffuse\x09\x09RE_IndirectDiffuse_Physical\x0a#define\x20RE_IndirectSpecular\x09\x09RE_IndirectSpecular_Physical\x0afloat\x20computeSpecularOcclusion(\x20const\x20in\x20float\x20dotNV,\x20const\x20in\x20float\x20ambientOcclusion,\x20const\x20in\x20float\x20roughness\x20)\x20{\x0a\x09return\x20saturate(\x20pow(\x20dotNV\x20+\x20ambientOcclusion,\x20exp2(\x20-\x2016.0\x20*\x20roughness\x20-\x201.0\x20)\x20)\x20-\x201.0\x20+\x20ambientOcclusion\x20);\x0a}','lights_fragment_begin':'\x0avec3\x20geometryPosition\x20=\x20-\x20vViewPosition;\x0avec3\x20geometryNormal\x20=\x20normal;\x0avec3\x20geometryViewDir\x20=\x20(\x20isOrthographic\x20)\x20?\x20vec3(\x200,\x200,\x201\x20)\x20:\x20normalize(\x20vViewPosition\x20);\x0avec3\x20geometryClearcoatNormal\x20=\x20vec3(\x200.0\x20);\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09geometryClearcoatNormal\x20=\x20clearcoatNormal;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09float\x20dotNVi\x20=\x20saturate(\x20dot(\x20normal,\x20geometryViewDir\x20)\x20);\x0a\x09if\x20(\x20material.iridescenceThickness\x20==\x200.0\x20)\x20{\x0a\x09\x09material.iridescence\x20=\x200.0;\x0a\x09}\x20else\x20{\x0a\x09\x09material.iridescence\x20=\x20saturate(\x20material.iridescence\x20);\x0a\x09}\x0a\x09if\x20(\x20material.iridescence\x20>\x200.0\x20)\x20{\x0a\x09\x09material.iridescenceFresnel\x20=\x20evalIridescence(\x201.0,\x20material.iridescenceIOR,\x20dotNVi,\x20material.iridescenceThickness,\x20material.specularColor\x20);\x0a\x09\x09material.iridescenceF0\x20=\x20Schlick_to_F0(\x20material.iridescenceFresnel,\x201.0,\x20dotNVi\x20);\x0a\x09}\x0a#endif\x0aIncidentLight\x20directLight;\x0a#if\x20(\x20NUM_POINT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09PointLight\x20pointLight;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09PointLightShadow\x20pointLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09pointLight\x20=\x20pointLights[\x20i\x20];\x0a\x09\x09getPointLightInfo(\x20pointLight,\x20geometryPosition,\x20directLight\x20);\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_POINT_LIGHT_SHADOWS\x20)\x0a\x09\x09pointLightShadow\x20=\x20pointLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLightShadow.shadowMapSize,\x20pointLightShadow.shadowIntensity,\x20pointLightShadow.shadowBias,\x20pointLightShadow.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLightShadow.shadowCameraNear,\x20pointLightShadow.shadowCameraFar\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_SPOT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09SpotLight\x20spotLight;\x0a\x09vec4\x20spotColor;\x0a\x09vec3\x20spotLightCoord;\x0a\x09bool\x20inSpotLightMap;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09SpotLightShadow\x20spotLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09spotLight\x20=\x20spotLights[\x20i\x20];\x0a\x09\x09getSpotLightInfo(\x20spotLight,\x20geometryPosition,\x20directLight\x20);\x0a\x09\x09#if\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS\x20)\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20UNROLLED_LOOP_INDEX\x0a\x09\x09#elif\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20NUM_SPOT_LIGHT_MAPS\x0a\x09\x09#else\x0a\x09\x09#define\x20SPOT_LIGHT_MAP_INDEX\x20(\x20UNROLLED_LOOP_INDEX\x20-\x20NUM_SPOT_LIGHT_SHADOWS\x20+\x20NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS\x20)\x0a\x09\x09#endif\x0a\x09\x09#if\x20(\x20SPOT_LIGHT_MAP_INDEX\x20<\x20NUM_SPOT_LIGHT_MAPS\x20)\x0a\x09\x09\x09spotLightCoord\x20=\x20vSpotLightCoord[\x20i\x20].xyz\x20/\x20vSpotLightCoord[\x20i\x20].w;\x0a\x09\x09\x09inSpotLightMap\x20=\x20all(\x20lessThan(\x20abs(\x20spotLightCoord\x20*\x202.\x20-\x201.\x20),\x20vec3(\x201.0\x20)\x20)\x20);\x0a\x09\x09\x09spotColor\x20=\x20texture2D(\x20spotLightMap[\x20SPOT_LIGHT_MAP_INDEX\x20],\x20spotLightCoord.xy\x20);\x0a\x09\x09\x09directLight.color\x20=\x20inSpotLightMap\x20?\x20directLight.color\x20*\x20spotColor.rgb\x20:\x20directLight.color;\x0a\x09\x09#endif\x0a\x09\x09#undef\x20SPOT_LIGHT_MAP_INDEX\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09spotLightShadow\x20=\x20spotLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLightShadow.shadowMapSize,\x20spotLightShadow.shadowIntensity,\x20spotLightShadow.shadowBias,\x20spotLightShadow.shadowRadius,\x20vSpotLightCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_DIR_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x09DirectionalLight\x20directionalLight;\x0a\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09DirectionalLightShadow\x20directionalLightShadow;\x0a\x09#endif\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09directionalLight\x20=\x20directionalLights[\x20i\x20];\x0a\x09\x09getDirectionalLightInfo(\x20directionalLight,\x20directLight\x20);\x0a\x09\x09#if\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_DIR_LIGHT_SHADOWS\x20)\x0a\x09\x09directionalLightShadow\x20=\x20directionalLightShadows[\x20i\x20];\x0a\x09\x09directLight.color\x20*=\x20(\x20directLight.visible\x20&&\x20receiveShadow\x20)\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLightShadow.shadowMapSize,\x20directionalLightShadow.shadowIntensity,\x20directionalLightShadow.shadowBias,\x20directionalLightShadow.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09\x09#endif\x0a\x09\x09RE_Direct(\x20directLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20(\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct_RectArea\x20)\x0a\x09RectAreaLight\x20rectAreaLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_RECT_AREA_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09rectAreaLight\x20=\x20rectAreaLights[\x20i\x20];\x0a\x09\x09RE_Direct_RectArea(\x20rectAreaLight,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif\x0a#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09vec3\x20iblIrradiance\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20irradiance\x20=\x20getAmbientLightIrradiance(\x20ambientLightColor\x20);\x0a\x09#if\x20defined(\x20USE_LIGHT_PROBES\x20)\x0a\x09\x09irradiance\x20+=\x20getLightProbeIrradiance(\x20lightProbe,\x20geometryNormal\x20);\x0a\x09#endif\x0a\x09#if\x20(\x20NUM_HEMI_LIGHTS\x20>\x200\x20)\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_HEMI_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09irradiance\x20+=\x20getHemisphereLightIrradiance(\x20hemisphereLights[\x20i\x20],\x20geometryNormal\x20);\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09vec3\x20radiance\x20=\x20vec3(\x200.0\x20);\x0a\x09vec3\x20clearcoatRadiance\x20=\x20vec3(\x200.0\x20);\x0a#endif','lights_fragment_maps':'#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09#ifdef\x20USE_LIGHTMAP\x0a\x09\x09vec4\x20lightMapTexel\x20=\x20texture2D(\x20lightMap,\x20vLightMapUv\x20);\x0a\x09\x09vec3\x20lightMapIrradiance\x20=\x20lightMapTexel.rgb\x20*\x20lightMapIntensity;\x0a\x09\x09irradiance\x20+=\x20lightMapIrradiance;\x0a\x09#endif\x0a\x09#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20STANDARD\x20)\x20&&\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09\x09iblIrradiance\x20+=\x20getIBLIrradiance(\x20geometryNormal\x20);\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20USE_ENVMAP\x20)\x20&&\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09#ifdef\x20USE_ANISOTROPY\x0a\x09\x09radiance\x20+=\x20getIBLAnisotropyRadiance(\x20geometryViewDir,\x20geometryNormal,\x20material.roughness,\x20material.anisotropyB,\x20material.anisotropy\x20);\x0a\x09#else\x0a\x09\x09radiance\x20+=\x20getIBLRadiance(\x20geometryViewDir,\x20geometryNormal,\x20material.roughness\x20);\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09clearcoatRadiance\x20+=\x20getIBLRadiance(\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material.clearcoatRoughness\x20);\x0a\x09#endif\x0a#endif','lights_fragment_end':'#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x09RE_IndirectDiffuse(\x20irradiance,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a#endif\x0a#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x09RE_IndirectSpecular(\x20radiance,\x20iblIrradiance,\x20clearcoatRadiance,\x20geometryPosition,\x20geometryNormal,\x20geometryViewDir,\x20geometryClearcoatNormal,\x20material,\x20reflectedLight\x20);\x0a#endif','logdepthbuf_fragment':'#if\x20defined(\x20USE_LOGDEPTHBUF\x20)\x0a\x09gl_FragDepth\x20=\x20vIsPerspective\x20==\x200.0\x20?\x20gl_FragCoord.z\x20:\x20log2(\x20vFragDepth\x20)\x20*\x20logDepthBufFC\x20*\x200.5;\x0a#endif','logdepthbuf_pars_fragment':'#if\x20defined(\x20USE_LOGDEPTHBUF\x20)\x0a\x09uniform\x20float\x20logDepthBufFC;\x0a\x09varying\x20float\x20vFragDepth;\x0a\x09varying\x20float\x20vIsPerspective;\x0a#endif','logdepthbuf_pars_vertex':'#ifdef\x20USE_LOGDEPTHBUF\x0a\x09varying\x20float\x20vFragDepth;\x0a\x09varying\x20float\x20vIsPerspective;\x0a#endif','logdepthbuf_vertex':'#ifdef\x20USE_LOGDEPTHBUF\x0a\x09vFragDepth\x20=\x201.0\x20+\x20gl_Position.w;\x0a\x09vIsPerspective\x20=\x20float(\x20isPerspectiveMatrix(\x20projectionMatrix\x20)\x20);\x0a#endif','map_fragment':'#ifdef\x20USE_MAP\x0a\x09vec4\x20sampledDiffuseColor\x20=\x20texture2D(\x20map,\x20vMapUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE\x0a\x09\x09sampledDiffuseColor\x20=\x20sRGBTransferEOTF(\x20sampledDiffuseColor\x20);\x0a\x09#endif\x0a\x09diffuseColor\x20*=\x20sampledDiffuseColor;\x0a#endif','map_pars_fragment':'#ifdef\x20USE_MAP\x0a\x09uniform\x20sampler2D\x20map;\x0a#endif','map_particle_fragment':'#if\x20defined(\x20USE_MAP\x20)\x20||\x20defined(\x20USE_ALPHAMAP\x20)\x0a\x09#if\x20defined(\x20USE_POINTS_UV\x20)\x0a\x09\x09vec2\x20uv\x20=\x20vUv;\x0a\x09#else\x0a\x09\x09vec2\x20uv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20gl_PointCoord.x,\x201.0\x20-\x20gl_PointCoord.y,\x201\x20)\x20).xy;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09diffuseColor\x20*=\x20texture2D(\x20map,\x20uv\x20);\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09diffuseColor.a\x20*=\x20texture2D(\x20alphaMap,\x20uv\x20).g;\x0a#endif','map_particle_pars_fragment':'#if\x20defined(\x20USE_POINTS_UV\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#else\x0a\x09#if\x20defined(\x20USE_MAP\x20)\x20||\x20defined(\x20USE_ALPHAMAP\x20)\x0a\x09\x09uniform\x20mat3\x20uvTransform;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09uniform\x20sampler2D\x20map;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20sampler2D\x20alphaMap;\x0a#endif','metalnessmap_fragment':'float\x20metalnessFactor\x20=\x20metalness;\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09vec4\x20texelMetalness\x20=\x20texture2D(\x20metalnessMap,\x20vMetalnessMapUv\x20);\x0a\x09metalnessFactor\x20*=\x20texelMetalness.b;\x0a#endif','metalnessmap_pars_fragment':'#ifdef\x20USE_METALNESSMAP\x0a\x09uniform\x20sampler2D\x20metalnessMap;\x0a#endif','morphinstance_vertex':'#ifdef\x20USE_INSTANCING_MORPH\x0a\x09float\x20morphTargetInfluences[\x20MORPHTARGETS_COUNT\x20];\x0a\x09float\x20morphTargetBaseInfluence\x20=\x20texelFetch(\x20morphTexture,\x20ivec2(\x200,\x20gl_InstanceID\x20),\x200\x20).r;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09morphTargetInfluences[i]\x20=\x20\x20texelFetch(\x20morphTexture,\x20ivec2(\x20i\x20+\x201,\x20gl_InstanceID\x20),\x200\x20).r;\x0a\x09}\x0a#endif','morphcolor_vertex':'#if\x20defined(\x20USE_MORPHCOLORS\x20)\x0a\x09vColor\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09#if\x20defined(\x20USE_COLOR_ALPHA\x20)\x0a\x09\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20vColor\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x202\x20)\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09\x09#elif\x20defined(\x20USE_COLOR\x20)\x0a\x09\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20vColor\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x202\x20).rgb\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09\x09#endif\x0a\x09}\x0a#endif','morphnormal_vertex':'#ifdef\x20USE_MORPHNORMALS\x0a\x09objectNormal\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20objectNormal\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x201\x20).xyz\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09}\x0a#endif','morphtarget_pars_vertex':'#ifdef\x20USE_MORPHTARGETS\x0a\x09#ifndef\x20USE_INSTANCING_MORPH\x0a\x09\x09uniform\x20float\x20morphTargetBaseInfluence;\x0a\x09\x09uniform\x20float\x20morphTargetInfluences[\x20MORPHTARGETS_COUNT\x20];\x0a\x09#endif\x0a\x09uniform\x20sampler2DArray\x20morphTargetsTexture;\x0a\x09uniform\x20ivec2\x20morphTargetsTextureSize;\x0a\x09vec4\x20getMorph(\x20const\x20in\x20int\x20vertexIndex,\x20const\x20in\x20int\x20morphTargetIndex,\x20const\x20in\x20int\x20offset\x20)\x20{\x0a\x09\x09int\x20texelIndex\x20=\x20vertexIndex\x20*\x20MORPHTARGETS_TEXTURE_STRIDE\x20+\x20offset;\x0a\x09\x09int\x20y\x20=\x20texelIndex\x20/\x20morphTargetsTextureSize.x;\x0a\x09\x09int\x20x\x20=\x20texelIndex\x20-\x20y\x20*\x20morphTargetsTextureSize.x;\x0a\x09\x09ivec3\x20morphUV\x20=\x20ivec3(\x20x,\x20y,\x20morphTargetIndex\x20);\x0a\x09\x09return\x20texelFetch(\x20morphTargetsTexture,\x20morphUV,\x200\x20);\x0a\x09}\x0a#endif','morphtarget_vertex':'#ifdef\x20USE_MORPHTARGETS\x0a\x09transformed\x20*=\x20morphTargetBaseInfluence;\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20MORPHTARGETS_COUNT;\x20i\x20++\x20)\x20{\x0a\x09\x09if\x20(\x20morphTargetInfluences[\x20i\x20]\x20!=\x200.0\x20)\x20transformed\x20+=\x20getMorph(\x20gl_VertexID,\x20i,\x200\x20).xyz\x20*\x20morphTargetInfluences[\x20i\x20];\x0a\x09}\x0a#endif','normal_fragment_begin':'float\x20faceDirection\x20=\x20gl_FrontFacing\x20?\x201.0\x20:\x20-\x201.0;\x0a#ifdef\x20FLAT_SHADED\x0a\x09vec3\x20fdx\x20=\x20dFdx(\x20vViewPosition\x20);\x0a\x09vec3\x20fdy\x20=\x20dFdy(\x20vViewPosition\x20);\x0a\x09vec3\x20normal\x20=\x20normalize(\x20cross(\x20fdx,\x20fdy\x20)\x20);\x0a#else\x0a\x09vec3\x20normal\x20=\x20normalize(\x20vNormal\x20);\x0a\x09#ifdef\x20DOUBLE_SIDED\x0a\x09\x09normal\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0a#if\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x20||\x20defined(\x20USE_CLEARCOAT_NORMALMAP\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09mat3\x20tbn\x20=\x20mat3(\x20normalize(\x20vTangent\x20),\x20normalize(\x20vBitangent\x20),\x20normal\x20);\x0a\x09#else\x0a\x09\x09mat3\x20tbn\x20=\x20getTangentFrame(\x20-\x20vViewPosition,\x20normal,\x0a\x09\x09#if\x20defined(\x20USE_NORMALMAP\x20)\x0a\x09\x09\x09vNormalMapUv\x0a\x09\x09#elif\x20defined(\x20USE_CLEARCOAT_NORMALMAP\x20)\x0a\x09\x09\x09vClearcoatNormalMapUv\x0a\x09\x09#else\x0a\x09\x09\x09vUv\x0a\x09\x09#endif\x0a\x09\x09);\x0a\x09#endif\x0a\x09#if\x20defined(\x20DOUBLE_SIDED\x20)\x20&&\x20!\x20defined(\x20FLAT_SHADED\x20)\x0a\x09\x09tbn[0]\x20*=\x20faceDirection;\x0a\x09\x09tbn[1]\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09mat3\x20tbn2\x20=\x20mat3(\x20normalize(\x20vTangent\x20),\x20normalize(\x20vBitangent\x20),\x20normal\x20);\x0a\x09#else\x0a\x09\x09mat3\x20tbn2\x20=\x20getTangentFrame(\x20-\x20vViewPosition,\x20normal,\x20vClearcoatNormalMapUv\x20);\x0a\x09#endif\x0a\x09#if\x20defined(\x20DOUBLE_SIDED\x20)\x20&&\x20!\x20defined(\x20FLAT_SHADED\x20)\x0a\x09\x09tbn2[0]\x20*=\x20faceDirection;\x0a\x09\x09tbn2[1]\x20*=\x20faceDirection;\x0a\x09#endif\x0a#endif\x0avec3\x20nonPerturbedNormal\x20=\x20normal;','normal_fragment_maps':'#ifdef\x20USE_NORMALMAP_OBJECTSPACE\x0a\x09normal\x20=\x20texture2D(\x20normalMap,\x20vNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09#ifdef\x20FLIP_SIDED\x0a\x09\x09normal\x20=\x20-\x20normal;\x0a\x09#endif\x0a\x09#ifdef\x20DOUBLE_SIDED\x0a\x09\x09normal\x20=\x20normal\x20*\x20faceDirection;\x0a\x09#endif\x0a\x09normal\x20=\x20normalize(\x20normalMatrix\x20*\x20normal\x20);\x0a#elif\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09vec3\x20mapN\x20=\x20texture2D(\x20normalMap,\x20vNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09mapN.xy\x20*=\x20normalScale;\x0a\x09normal\x20=\x20normalize(\x20tbn\x20*\x20mapN\x20);\x0a#elif\x20defined(\x20USE_BUMPMAP\x20)\x0a\x09normal\x20=\x20perturbNormalArb(\x20-\x20vViewPosition,\x20normal,\x20dHdxy_fwd(),\x20faceDirection\x20);\x0a#endif','normal_pars_fragment':'#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09varying\x20vec3\x20vTangent;\x0a\x09\x09varying\x20vec3\x20vBitangent;\x0a\x09#endif\x0a#endif','normal_pars_vertex':'#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09varying\x20vec3\x20vTangent;\x0a\x09\x09varying\x20vec3\x20vBitangent;\x0a\x09#endif\x0a#endif','normal_vertex':'#ifndef\x20FLAT_SHADED\x0a\x09vNormal\x20=\x20normalize(\x20transformedNormal\x20);\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09vTangent\x20=\x20normalize(\x20transformedTangent\x20);\x0a\x09\x09vBitangent\x20=\x20normalize(\x20cross(\x20vNormal,\x20vTangent\x20)\x20*\x20tangent.w\x20);\x0a\x09#endif\x0a#endif','normalmap_pars_fragment':'#ifdef\x20USE_NORMALMAP\x0a\x09uniform\x20sampler2D\x20normalMap;\x0a\x09uniform\x20vec2\x20normalScale;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP_OBJECTSPACE\x0a\x09uniform\x20mat3\x20normalMatrix;\x0a#endif\x0a#if\x20!\x20defined\x20(\x20USE_TANGENT\x20)\x20&&\x20(\x20defined\x20(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x20||\x20defined\x20(\x20USE_CLEARCOAT_NORMALMAP\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x20)\x0a\x09mat3\x20getTangentFrame(\x20vec3\x20eye_pos,\x20vec3\x20surf_norm,\x20vec2\x20uv\x20)\x20{\x0a\x09\x09vec3\x20q0\x20=\x20dFdx(\x20eye_pos.xyz\x20);\x0a\x09\x09vec3\x20q1\x20=\x20dFdy(\x20eye_pos.xyz\x20);\x0a\x09\x09vec2\x20st0\x20=\x20dFdx(\x20uv.st\x20);\x0a\x09\x09vec2\x20st1\x20=\x20dFdy(\x20uv.st\x20);\x0a\x09\x09vec3\x20N\x20=\x20surf_norm;\x0a\x09\x09vec3\x20q1perp\x20=\x20cross(\x20q1,\x20N\x20);\x0a\x09\x09vec3\x20q0perp\x20=\x20cross(\x20N,\x20q0\x20);\x0a\x09\x09vec3\x20T\x20=\x20q1perp\x20*\x20st0.x\x20+\x20q0perp\x20*\x20st1.x;\x0a\x09\x09vec3\x20B\x20=\x20q1perp\x20*\x20st0.y\x20+\x20q0perp\x20*\x20st1.y;\x0a\x09\x09float\x20det\x20=\x20max(\x20dot(\x20T,\x20T\x20),\x20dot(\x20B,\x20B\x20)\x20);\x0a\x09\x09float\x20scale\x20=\x20(\x20det\x20==\x200.0\x20)\x20?\x200.0\x20:\x20inversesqrt(\x20det\x20);\x0a\x09\x09return\x20mat3(\x20T\x20*\x20scale,\x20B\x20*\x20scale,\x20N\x20);\x0a\x09}\x0a#endif','clearcoat_normal_fragment_begin':'#ifdef\x20USE_CLEARCOAT\x0a\x09vec3\x20clearcoatNormal\x20=\x20nonPerturbedNormal;\x0a#endif','clearcoat_normal_fragment_maps':'#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09vec3\x20clearcoatMapN\x20=\x20texture2D(\x20clearcoatNormalMap,\x20vClearcoatNormalMapUv\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x09clearcoatMapN.xy\x20*=\x20clearcoatNormalScale;\x0a\x09clearcoatNormal\x20=\x20normalize(\x20tbn2\x20*\x20clearcoatMapN\x20);\x0a#endif','clearcoat_pars_fragment':'#ifdef\x20USE_CLEARCOATMAP\x0a\x09uniform\x20sampler2D\x20clearcoatMap;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09uniform\x20sampler2D\x20clearcoatNormalMap;\x0a\x09uniform\x20vec2\x20clearcoatNormalScale;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09uniform\x20sampler2D\x20clearcoatRoughnessMap;\x0a#endif','iridescence_pars_fragment':'#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09uniform\x20sampler2D\x20iridescenceMap;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09uniform\x20sampler2D\x20iridescenceThicknessMap;\x0a#endif','opaque_fragment':'#ifdef\x20OPAQUE\x0adiffuseColor.a\x20=\x201.0;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSION\x0adiffuseColor.a\x20*=\x20material.transmissionAlpha;\x0a#endif\x0agl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);','packing':'vec3\x20packNormalToRGB(\x20const\x20in\x20vec3\x20normal\x20)\x20{\x0a\x09return\x20normalize(\x20normal\x20)\x20*\x200.5\x20+\x200.5;\x0a}\x0avec3\x20unpackRGBToNormal(\x20const\x20in\x20vec3\x20rgb\x20)\x20{\x0a\x09return\x202.0\x20*\x20rgb.xyz\x20-\x201.0;\x0a}\x0aconst\x20float\x20PackUpscale\x20=\x20256.\x20/\x20255.;const\x20float\x20UnpackDownscale\x20=\x20255.\x20/\x20256.;const\x20float\x20ShiftRight8\x20=\x201.\x20/\x20256.;\x0aconst\x20float\x20Inv255\x20=\x201.\x20/\x20255.;\x0aconst\x20vec4\x20PackFactors\x20=\x20vec4(\x201.0,\x20256.0,\x20256.0\x20*\x20256.0,\x20256.0\x20*\x20256.0\x20*\x20256.0\x20);\x0aconst\x20vec2\x20UnpackFactors2\x20=\x20vec2(\x20UnpackDownscale,\x201.0\x20/\x20PackFactors.g\x20);\x0aconst\x20vec3\x20UnpackFactors3\x20=\x20vec3(\x20UnpackDownscale\x20/\x20PackFactors.rg,\x201.0\x20/\x20PackFactors.b\x20);\x0aconst\x20vec4\x20UnpackFactors4\x20=\x20vec4(\x20UnpackDownscale\x20/\x20PackFactors.rgb,\x201.0\x20/\x20PackFactors.a\x20);\x0avec4\x20packDepthToRGBA(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec4(\x200.,\x200.,\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec4(\x201.,\x201.,\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20af\x20=\x20modf(\x20v\x20*\x20PackFactors.a,\x20vuf\x20);\x0a\x09float\x20bf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09float\x20gf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09return\x20vec4(\x20vuf\x20*\x20Inv255,\x20gf\x20*\x20PackUpscale,\x20bf\x20*\x20PackUpscale,\x20af\x20);\x0a}\x0avec3\x20packDepthToRGB(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec3(\x200.,\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec3(\x201.,\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20bf\x20=\x20modf(\x20v\x20*\x20PackFactors.b,\x20vuf\x20);\x0a\x09float\x20gf\x20=\x20modf(\x20vuf\x20*\x20ShiftRight8,\x20vuf\x20);\x0a\x09return\x20vec3(\x20vuf\x20*\x20Inv255,\x20gf\x20*\x20PackUpscale,\x20bf\x20);\x0a}\x0avec2\x20packDepthToRG(\x20const\x20in\x20float\x20v\x20)\x20{\x0a\x09if(\x20v\x20<=\x200.0\x20)\x0a\x09\x09return\x20vec2(\x200.,\x200.\x20);\x0a\x09if(\x20v\x20>=\x201.0\x20)\x0a\x09\x09return\x20vec2(\x201.,\x201.\x20);\x0a\x09float\x20vuf;\x0a\x09float\x20gf\x20=\x20modf(\x20v\x20*\x20256.,\x20vuf\x20);\x0a\x09return\x20vec2(\x20vuf\x20*\x20Inv255,\x20gf\x20);\x0a}\x0afloat\x20unpackRGBAToDepth(\x20const\x20in\x20vec4\x20v\x20)\x20{\x0a\x09return\x20dot(\x20v,\x20UnpackFactors4\x20);\x0a}\x0afloat\x20unpackRGBToDepth(\x20const\x20in\x20vec3\x20v\x20)\x20{\x0a\x09return\x20dot(\x20v,\x20UnpackFactors3\x20);\x0a}\x0afloat\x20unpackRGToDepth(\x20const\x20in\x20vec2\x20v\x20)\x20{\x0a\x09return\x20v.r\x20*\x20UnpackFactors2.r\x20+\x20v.g\x20*\x20UnpackFactors2.g;\x0a}\x0avec4\x20pack2HalfToRGBA(\x20const\x20in\x20vec2\x20v\x20)\x20{\x0a\x09vec4\x20r\x20=\x20vec4(\x20v.x,\x20fract(\x20v.x\x20*\x20255.0\x20),\x20v.y,\x20fract(\x20v.y\x20*\x20255.0\x20)\x20);\x0a\x09return\x20vec4(\x20r.x\x20-\x20r.y\x20/\x20255.0,\x20r.y,\x20r.z\x20-\x20r.w\x20/\x20255.0,\x20r.w\x20);\x0a}\x0avec2\x20unpackRGBATo2Half(\x20const\x20in\x20vec4\x20v\x20)\x20{\x0a\x09return\x20vec2(\x20v.x\x20+\x20(\x20v.y\x20/\x20255.0\x20),\x20v.z\x20+\x20(\x20v.w\x20/\x20255.0\x20)\x20);\x0a}\x0afloat\x20viewZToOrthographicDepth(\x20const\x20in\x20float\x20viewZ,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20viewZ\x20+\x20near\x20)\x20/\x20(\x20near\x20-\x20far\x20);\x0a}\x0afloat\x20orthographicDepthToViewZ(\x20const\x20in\x20float\x20depth,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20depth\x20*\x20(\x20near\x20-\x20far\x20)\x20-\x20near;\x0a}\x0afloat\x20viewZToPerspectiveDepth(\x20const\x20in\x20float\x20viewZ,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20(\x20near\x20+\x20viewZ\x20)\x20*\x20far\x20)\x20/\x20(\x20(\x20far\x20-\x20near\x20)\x20*\x20viewZ\x20);\x0a}\x0afloat\x20perspectiveDepthToViewZ(\x20const\x20in\x20float\x20depth,\x20const\x20in\x20float\x20near,\x20const\x20in\x20float\x20far\x20)\x20{\x0a\x09return\x20(\x20near\x20*\x20far\x20)\x20/\x20(\x20(\x20far\x20-\x20near\x20)\x20*\x20depth\x20-\x20far\x20);\x0a}','premultiplied_alpha_fragment':'#ifdef\x20PREMULTIPLIED_ALPHA\x0a\x09gl_FragColor.rgb\x20*=\x20gl_FragColor.a;\x0a#endif','project_vertex':'vec4\x20mvPosition\x20=\x20vec4(\x20transformed,\x201.0\x20);\x0a#ifdef\x20USE_BATCHING\x0a\x09mvPosition\x20=\x20batchingMatrix\x20*\x20mvPosition;\x0a#endif\x0a#ifdef\x20USE_INSTANCING\x0a\x09mvPosition\x20=\x20instanceMatrix\x20*\x20mvPosition;\x0a#endif\x0amvPosition\x20=\x20modelViewMatrix\x20*\x20mvPosition;\x0agl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;','dithering_fragment':'#ifdef\x20DITHERING\x0a\x09gl_FragColor.rgb\x20=\x20dithering(\x20gl_FragColor.rgb\x20);\x0a#endif','dithering_pars_fragment':'#ifdef\x20DITHERING\x0a\x09vec3\x20dithering(\x20vec3\x20color\x20)\x20{\x0a\x09\x09float\x20grid_position\x20=\x20rand(\x20gl_FragCoord.xy\x20);\x0a\x09\x09vec3\x20dither_shift_RGB\x20=\x20vec3(\x200.25\x20/\x20255.0,\x20-0.25\x20/\x20255.0,\x200.25\x20/\x20255.0\x20);\x0a\x09\x09dither_shift_RGB\x20=\x20mix(\x202.0\x20*\x20dither_shift_RGB,\x20-2.0\x20*\x20dither_shift_RGB,\x20grid_position\x20);\x0a\x09\x09return\x20color\x20+\x20dither_shift_RGB;\x0a\x09}\x0a#endif','roughnessmap_fragment':'float\x20roughnessFactor\x20=\x20roughness;\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09vec4\x20texelRoughness\x20=\x20texture2D(\x20roughnessMap,\x20vRoughnessMapUv\x20);\x0a\x09roughnessFactor\x20*=\x20texelRoughness.g;\x0a#endif','roughnessmap_pars_fragment':'#ifdef\x20USE_ROUGHNESSMAP\x0a\x09uniform\x20sampler2D\x20roughnessMap;\x0a#endif','shadowmap_pars_fragment':'#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09varying\x20vec4\x20vSpotLightCoord[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a#endif\x0a#if\x20NUM_SPOT_LIGHT_MAPS\x20>\x200\x0a\x09uniform\x20sampler2D\x20spotLightMap[\x20NUM_SPOT_LIGHT_MAPS\x20];\x0a#endif\x0a#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20directionalShadowMap[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vDirectionalShadowCoord[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20DirectionalLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20DirectionalLightShadow\x20directionalLightShadows[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20spotShadowMap[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20SpotLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20SpotLightShadow\x20spotLightShadows[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20sampler2D\x20pointShadowMap[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vPointShadowCoord[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20PointLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09\x09float\x20shadowCameraNear;\x0a\x09\x09\x09float\x20shadowCameraFar;\x0a\x09\x09};\x0a\x09\x09uniform\x20PointLightShadow\x20pointLightShadows[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09float\x20texture2DCompare(\x20sampler2D\x20depths,\x20vec2\x20uv,\x20float\x20compare\x20)\x20{\x0a\x09\x09return\x20step(\x20compare,\x20unpackRGBAToDepth(\x20texture2D(\x20depths,\x20uv\x20)\x20)\x20);\x0a\x09}\x0a\x09vec2\x20texture2DDistribution(\x20sampler2D\x20shadow,\x20vec2\x20uv\x20)\x20{\x0a\x09\x09return\x20unpackRGBATo2Half(\x20texture2D(\x20shadow,\x20uv\x20)\x20);\x0a\x09}\x0a\x09float\x20VSMShadow\x20(sampler2D\x20shadow,\x20vec2\x20uv,\x20float\x20compare\x20){\x0a\x09\x09float\x20occlusion\x20=\x201.0;\x0a\x09\x09vec2\x20distribution\x20=\x20texture2DDistribution(\x20shadow,\x20uv\x20);\x0a\x09\x09float\x20hard_shadow\x20=\x20step(\x20compare\x20,\x20distribution.x\x20);\x0a\x09\x09if\x20(hard_shadow\x20!=\x201.0\x20)\x20{\x0a\x09\x09\x09float\x20distance\x20=\x20compare\x20-\x20distribution.x\x20;\x0a\x09\x09\x09float\x20variance\x20=\x20max(\x200.00000,\x20distribution.y\x20*\x20distribution.y\x20);\x0a\x09\x09\x09float\x20softness_probability\x20=\x20variance\x20/\x20(variance\x20+\x20distance\x20*\x20distance\x20);\x09\x09\x09softness_probability\x20=\x20clamp(\x20(\x20softness_probability\x20-\x200.3\x20)\x20/\x20(\x200.95\x20-\x200.3\x20),\x200.0,\x201.0\x20);\x09\x09\x09occlusion\x20=\x20clamp(\x20max(\x20hard_shadow,\x20softness_probability\x20),\x200.0,\x201.0\x20);\x0a\x09\x09}\x0a\x09\x09return\x20occlusion;\x0a\x09}\x0a\x09float\x20getShadow(\x20sampler2D\x20shadowMap,\x20vec2\x20shadowMapSize,\x20float\x20shadowIntensity,\x20float\x20shadowBias,\x20float\x20shadowRadius,\x20vec4\x20shadowCoord\x20)\x20{\x0a\x09\x09float\x20shadow\x20=\x201.0;\x0a\x09\x09shadowCoord.xyz\x20/=\x20shadowCoord.w;\x0a\x09\x09shadowCoord.z\x20+=\x20shadowBias;\x0a\x09\x09bool\x20inFrustum\x20=\x20shadowCoord.x\x20>=\x200.0\x20&&\x20shadowCoord.x\x20<=\x201.0\x20&&\x20shadowCoord.y\x20>=\x200.0\x20&&\x20shadowCoord.y\x20<=\x201.0;\x0a\x09\x09bool\x20frustumTest\x20=\x20inFrustum\x20&&\x20shadowCoord.z\x20<=\x201.0;\x0a\x09\x09if\x20(\x20frustumTest\x20)\x20{\x0a\x09\x09#if\x20defined(\x20SHADOWMAP_TYPE_PCF\x20)\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20shadowMapSize;\x0a\x09\x09\x09float\x20dx0\x20=\x20-\x20texelSize.x\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dy0\x20=\x20-\x20texelSize.y\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dx1\x20=\x20+\x20texelSize.x\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dy1\x20=\x20+\x20texelSize.y\x20*\x20shadowRadius;\x0a\x09\x09\x09float\x20dx2\x20=\x20dx0\x20/\x202.0;\x0a\x09\x09\x09float\x20dy2\x20=\x20dy0\x20/\x202.0;\x0a\x09\x09\x09float\x20dx3\x20=\x20dx1\x20/\x202.0;\x0a\x09\x09\x09float\x20dy3\x20=\x20dy1\x20/\x202.0;\x0a\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x20dy0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x20dy2\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx2,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx3,\x20dy3\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx0,\x20dy1\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x200.0,\x20dy1\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20shadowCoord.xy\x20+\x20vec2(\x20dx1,\x20dy1\x20),\x20shadowCoord.z\x20)\x0a\x09\x09\x09)\x20*\x20(\x201.0\x20/\x2017.0\x20);\x0a\x09\x09#elif\x20defined(\x20SHADOWMAP_TYPE_PCF_SOFT\x20)\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20shadowMapSize;\x0a\x09\x09\x09float\x20dx\x20=\x20texelSize.x;\x0a\x09\x09\x09float\x20dy\x20=\x20texelSize.y;\x0a\x09\x09\x09vec2\x20uv\x20=\x20shadowCoord.xy;\x0a\x09\x09\x09vec2\x20f\x20=\x20fract(\x20uv\x20*\x20shadowMapSize\x20+\x200.5\x20);\x0a\x09\x09\x09uv\x20-=\x20f\x20*\x20texelSize;\x0a\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x200.0\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x20dy\x20),\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20uv\x20+\x20texelSize,\x20shadowCoord.z\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x200.0\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x200.0\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.x\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.x\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x200.0,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x20+\x0a\x09\x09\x09\x09mix(\x20mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x20-dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20f.x\x20),\x0a\x09\x09\x09\x09\x09\x20mix(\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x20-dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20texture2DCompare(\x20shadowMap,\x20uv\x20+\x20vec2(\x202.0\x20*\x20dx,\x202.0\x20*\x20dy\x20),\x20shadowCoord.z\x20),\x0a\x09\x09\x09\x09\x09\x09\x20\x20f.x\x20),\x0a\x09\x09\x09\x09\x09\x20f.y\x20)\x0a\x09\x09\x09)\x20*\x20(\x201.0\x20/\x209.0\x20);\x0a\x09\x09#elif\x20defined(\x20SHADOWMAP_TYPE_VSM\x20)\x0a\x09\x09\x09shadow\x20=\x20VSMShadow(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20);\x0a\x09\x09#else\x0a\x09\x09\x09shadow\x20=\x20texture2DCompare(\x20shadowMap,\x20shadowCoord.xy,\x20shadowCoord.z\x20);\x0a\x09\x09#endif\x0a\x09\x09}\x0a\x09\x09return\x20mix(\x201.0,\x20shadow,\x20shadowIntensity\x20);\x0a\x09}\x0a\x09vec2\x20cubeToUV(\x20vec3\x20v,\x20float\x20texelSizeY\x20)\x20{\x0a\x09\x09vec3\x20absV\x20=\x20abs(\x20v\x20);\x0a\x09\x09float\x20scaleToCube\x20=\x201.0\x20/\x20max(\x20absV.x,\x20max(\x20absV.y,\x20absV.z\x20)\x20);\x0a\x09\x09absV\x20*=\x20scaleToCube;\x0a\x09\x09v\x20*=\x20scaleToCube\x20*\x20(\x201.0\x20-\x202.0\x20*\x20texelSizeY\x20);\x0a\x09\x09vec2\x20planar\x20=\x20v.xy;\x0a\x09\x09float\x20almostATexel\x20=\x201.5\x20*\x20texelSizeY;\x0a\x09\x09float\x20almostOne\x20=\x201.0\x20-\x20almostATexel;\x0a\x09\x09if\x20(\x20absV.z\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09if\x20(\x20v.z\x20>\x200.0\x20)\x0a\x09\x09\x09\x09planar.x\x20=\x204.0\x20-\x20v.x;\x0a\x09\x09}\x20else\x20if\x20(\x20absV.x\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09float\x20signX\x20=\x20sign(\x20v.x\x20);\x0a\x09\x09\x09planar.x\x20=\x20v.z\x20*\x20signX\x20+\x202.0\x20*\x20signX;\x0a\x09\x09}\x20else\x20if\x20(\x20absV.y\x20>=\x20almostOne\x20)\x20{\x0a\x09\x09\x09float\x20signY\x20=\x20sign(\x20v.y\x20);\x0a\x09\x09\x09planar.x\x20=\x20v.x\x20+\x202.0\x20*\x20signY\x20+\x202.0;\x0a\x09\x09\x09planar.y\x20=\x20v.z\x20*\x20signY\x20-\x202.0;\x0a\x09\x09}\x0a\x09\x09return\x20vec2(\x200.125,\x200.25\x20)\x20*\x20planar\x20+\x20vec2(\x200.375,\x200.75\x20);\x0a\x09}\x0a\x09float\x20getPointShadow(\x20sampler2D\x20shadowMap,\x20vec2\x20shadowMapSize,\x20float\x20shadowIntensity,\x20float\x20shadowBias,\x20float\x20shadowRadius,\x20vec4\x20shadowCoord,\x20float\x20shadowCameraNear,\x20float\x20shadowCameraFar\x20)\x20{\x0a\x09\x09float\x20shadow\x20=\x201.0;\x0a\x09\x09vec3\x20lightToPosition\x20=\x20shadowCoord.xyz;\x0a\x09\x09\x0a\x09\x09float\x20lightToPositionLength\x20=\x20length(\x20lightToPosition\x20);\x0a\x09\x09if\x20(\x20lightToPositionLength\x20-\x20shadowCameraFar\x20<=\x200.0\x20&&\x20lightToPositionLength\x20-\x20shadowCameraNear\x20>=\x200.0\x20)\x20{\x0a\x09\x09\x09float\x20dp\x20=\x20(\x20lightToPositionLength\x20-\x20shadowCameraNear\x20)\x20/\x20(\x20shadowCameraFar\x20-\x20shadowCameraNear\x20);\x09\x09\x09dp\x20+=\x20shadowBias;\x0a\x09\x09\x09vec3\x20bd3D\x20=\x20normalize(\x20lightToPosition\x20);\x0a\x09\x09\x09vec2\x20texelSize\x20=\x20vec2(\x201.0\x20)\x20/\x20(\x20shadowMapSize\x20*\x20vec2(\x204.0,\x202.0\x20)\x20);\x0a\x09\x09\x09#if\x20defined(\x20SHADOWMAP_TYPE_PCF\x20)\x20||\x20defined(\x20SHADOWMAP_TYPE_PCF_SOFT\x20)\x20||\x20defined(\x20SHADOWMAP_TYPE_VSM\x20)\x0a\x09\x09\x09\x09vec2\x20offset\x20=\x20vec2(\x20-\x201,\x201\x20)\x20*\x20shadowRadius\x20*\x20texelSize.y;\x0a\x09\x09\x09\x09shadow\x20=\x20(\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xyy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yyy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xyx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yyx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xxy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yxy,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.xxx,\x20texelSize.y\x20),\x20dp\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D\x20+\x20offset.yxx,\x20texelSize.y\x20),\x20dp\x20)\x0a\x09\x09\x09\x09)\x20*\x20(\x201.0\x20/\x209.0\x20);\x0a\x09\x09\x09#else\x0a\x09\x09\x09\x09shadow\x20=\x20texture2DCompare(\x20shadowMap,\x20cubeToUV(\x20bd3D,\x20texelSize.y\x20),\x20dp\x20);\x0a\x09\x09\x09#endif\x0a\x09\x09}\x0a\x09\x09return\x20mix(\x201.0,\x20shadow,\x20shadowIntensity\x20);\x0a\x09}\x0a#endif','shadowmap_pars_vertex':'#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09uniform\x20mat4\x20spotLightMatrix[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a\x09varying\x20vec4\x20vSpotLightCoord[\x20NUM_SPOT_LIGHT_COORDS\x20];\x0a#endif\x0a#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20mat4\x20directionalShadowMatrix[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vDirectionalShadowCoord[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20DirectionalLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20DirectionalLightShadow\x20directionalLightShadows[\x20NUM_DIR_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09struct\x20SpotLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09};\x0a\x09\x09uniform\x20SpotLightShadow\x20spotLightShadows[\x20NUM_SPOT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09uniform\x20mat4\x20pointShadowMatrix[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09varying\x20vec4\x20vPointShadowCoord[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09\x09struct\x20PointLightShadow\x20{\x0a\x09\x09\x09float\x20shadowIntensity;\x0a\x09\x09\x09float\x20shadowBias;\x0a\x09\x09\x09float\x20shadowNormalBias;\x0a\x09\x09\x09float\x20shadowRadius;\x0a\x09\x09\x09vec2\x20shadowMapSize;\x0a\x09\x09\x09float\x20shadowCameraNear;\x0a\x09\x09\x09float\x20shadowCameraFar;\x0a\x09\x09};\x0a\x09\x09uniform\x20PointLightShadow\x20pointLightShadows[\x20NUM_POINT_LIGHT_SHADOWS\x20];\x0a\x09#endif\x0a#endif','shadowmap_vertex':'#if\x20(\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20(\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x20||\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x20)\x20)\x20||\x20(\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x20)\x0a\x09vec3\x20shadowWorldNormal\x20=\x20inverseTransformDirection(\x20transformedNormal,\x20viewMatrix\x20);\x0a\x09vec4\x20shadowWorldPosition;\x0a#endif\x0a#if\x20defined(\x20USE_SHADOWMAP\x20)\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09shadowWorldPosition\x20=\x20worldPosition\x20+\x20vec4(\x20shadowWorldNormal\x20*\x20directionalLightShadows[\x20i\x20].shadowNormalBias,\x200\x20);\x0a\x09\x09\x09vDirectionalShadowCoord[\x20i\x20]\x20=\x20directionalShadowMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09\x09#pragma\x20unroll_loop_start\x0a\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09shadowWorldPosition\x20=\x20worldPosition\x20+\x20vec4(\x20shadowWorldNormal\x20*\x20pointLightShadows[\x20i\x20].shadowNormalBias,\x200\x20);\x0a\x09\x09\x09vPointShadowCoord[\x20i\x20]\x20=\x20pointShadowMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09\x09}\x0a\x09\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a#endif\x0a#if\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHT_COORDS;\x20i\x20++\x20)\x20{\x0a\x09\x09shadowWorldPosition\x20=\x20worldPosition;\x0a\x09\x09#if\x20(\x20defined(\x20USE_SHADOWMAP\x20)\x20&&\x20UNROLLED_LOOP_INDEX\x20<\x20NUM_SPOT_LIGHT_SHADOWS\x20)\x0a\x09\x09\x09shadowWorldPosition.xyz\x20+=\x20shadowWorldNormal\x20*\x20spotLightShadows[\x20i\x20].shadowNormalBias;\x0a\x09\x09#endif\x0a\x09\x09vSpotLightCoord[\x20i\x20]\x20=\x20spotLightMatrix[\x20i\x20]\x20*\x20shadowWorldPosition;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a#endif','shadowmask_pars_fragment':'float\x20getShadowMask()\x20{\x0a\x09float\x20shadow\x20=\x201.0;\x0a\x09#ifdef\x20USE_SHADOWMAP\x0a\x09#if\x20NUM_DIR_LIGHT_SHADOWS\x20>\x200\x0a\x09DirectionalLightShadow\x20directionalLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09directionalLight\x20=\x20directionalLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLight.shadowMapSize,\x20directionalLight.shadowIntensity,\x20directionalLight.shadowBias,\x20directionalLight.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_SPOT_LIGHT_SHADOWS\x20>\x200\x0a\x09SpotLightShadow\x20spotLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09spotLight\x20=\x20spotLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLight.shadowMapSize,\x20spotLight.shadowIntensity,\x20spotLight.shadowBias,\x20spotLight.shadowRadius,\x20vSpotLightCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#if\x20NUM_POINT_LIGHT_SHADOWS\x20>\x200\x0a\x09PointLightShadow\x20pointLight;\x0a\x09#pragma\x20unroll_loop_start\x0a\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHT_SHADOWS;\x20i\x20++\x20)\x20{\x0a\x09\x09pointLight\x20=\x20pointLightShadows[\x20i\x20];\x0a\x09\x09shadow\x20*=\x20receiveShadow\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLight.shadowMapSize,\x20pointLight.shadowIntensity,\x20pointLight.shadowBias,\x20pointLight.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLight.shadowCameraNear,\x20pointLight.shadowCameraFar\x20)\x20:\x201.0;\x0a\x09}\x0a\x09#pragma\x20unroll_loop_end\x0a\x09#endif\x0a\x09#endif\x0a\x09return\x20shadow;\x0a}','skinbase_vertex':'#ifdef\x20USE_SKINNING\x0a\x09mat4\x20boneMatX\x20=\x20getBoneMatrix(\x20skinIndex.x\x20);\x0a\x09mat4\x20boneMatY\x20=\x20getBoneMatrix(\x20skinIndex.y\x20);\x0a\x09mat4\x20boneMatZ\x20=\x20getBoneMatrix(\x20skinIndex.z\x20);\x0a\x09mat4\x20boneMatW\x20=\x20getBoneMatrix(\x20skinIndex.w\x20);\x0a#endif','skinning_pars_vertex':'#ifdef\x20USE_SKINNING\x0a\x09uniform\x20mat4\x20bindMatrix;\x0a\x09uniform\x20mat4\x20bindMatrixInverse;\x0a\x09uniform\x20highp\x20sampler2D\x20boneTexture;\x0a\x09mat4\x20getBoneMatrix(\x20const\x20in\x20float\x20i\x20)\x20{\x0a\x09\x09int\x20size\x20=\x20textureSize(\x20boneTexture,\x200\x20).x;\x0a\x09\x09int\x20j\x20=\x20int(\x20i\x20)\x20*\x204;\x0a\x09\x09int\x20x\x20=\x20j\x20%\x20size;\x0a\x09\x09int\x20y\x20=\x20j\x20/\x20size;\x0a\x09\x09vec4\x20v1\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v2\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x201,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v3\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x202,\x20y\x20),\x200\x20);\x0a\x09\x09vec4\x20v4\x20=\x20texelFetch(\x20boneTexture,\x20ivec2(\x20x\x20+\x203,\x20y\x20),\x200\x20);\x0a\x09\x09return\x20mat4(\x20v1,\x20v2,\x20v3,\x20v4\x20);\x0a\x09}\x0a#endif','skinning_vertex':'#ifdef\x20USE_SKINNING\x0a\x09vec4\x20skinVertex\x20=\x20bindMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);\x0a\x09vec4\x20skinned\x20=\x20vec4(\x200.0\x20);\x0a\x09skinned\x20+=\x20boneMatX\x20*\x20skinVertex\x20*\x20skinWeight.x;\x0a\x09skinned\x20+=\x20boneMatY\x20*\x20skinVertex\x20*\x20skinWeight.y;\x0a\x09skinned\x20+=\x20boneMatZ\x20*\x20skinVertex\x20*\x20skinWeight.z;\x0a\x09skinned\x20+=\x20boneMatW\x20*\x20skinVertex\x20*\x20skinWeight.w;\x0a\x09transformed\x20=\x20(\x20bindMatrixInverse\x20*\x20skinned\x20).xyz;\x0a#endif','skinnormal_vertex':'#ifdef\x20USE_SKINNING\x0a\x09mat4\x20skinMatrix\x20=\x20mat4(\x200.0\x20);\x0a\x09skinMatrix\x20+=\x20skinWeight.x\x20*\x20boneMatX;\x0a\x09skinMatrix\x20+=\x20skinWeight.y\x20*\x20boneMatY;\x0a\x09skinMatrix\x20+=\x20skinWeight.z\x20*\x20boneMatZ;\x0a\x09skinMatrix\x20+=\x20skinWeight.w\x20*\x20boneMatW;\x0a\x09skinMatrix\x20=\x20bindMatrixInverse\x20*\x20skinMatrix\x20*\x20bindMatrix;\x0a\x09objectNormal\x20=\x20vec4(\x20skinMatrix\x20*\x20vec4(\x20objectNormal,\x200.0\x20)\x20).xyz;\x0a\x09#ifdef\x20USE_TANGENT\x0a\x09\x09objectTangent\x20=\x20vec4(\x20skinMatrix\x20*\x20vec4(\x20objectTangent,\x200.0\x20)\x20).xyz;\x0a\x09#endif\x0a#endif','specularmap_fragment':'float\x20specularStrength;\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09vec4\x20texelSpecular\x20=\x20texture2D(\x20specularMap,\x20vSpecularMapUv\x20);\x0a\x09specularStrength\x20=\x20texelSpecular.r;\x0a#else\x0a\x09specularStrength\x20=\x201.0;\x0a#endif','specularmap_pars_fragment':'#ifdef\x20USE_SPECULARMAP\x0a\x09uniform\x20sampler2D\x20specularMap;\x0a#endif','tonemapping_fragment':'#if\x20defined(\x20TONE_MAPPING\x20)\x0a\x09gl_FragColor.rgb\x20=\x20toneMapping(\x20gl_FragColor.rgb\x20);\x0a#endif','tonemapping_pars_fragment':'#ifndef\x20saturate\x0a#define\x20saturate(\x20a\x20)\x20clamp(\x20a,\x200.0,\x201.0\x20)\x0a#endif\x0auniform\x20float\x20toneMappingExposure;\x0avec3\x20LinearToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09return\x20saturate(\x20toneMappingExposure\x20*\x20color\x20);\x0a}\x0avec3\x20ReinhardToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09return\x20saturate(\x20color\x20/\x20(\x20vec3(\x201.0\x20)\x20+\x20color\x20)\x20);\x0a}\x0avec3\x20CineonToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09color\x20=\x20max(\x20vec3(\x200.0\x20),\x20color\x20-\x200.004\x20);\x0a\x09return\x20pow(\x20(\x20color\x20*\x20(\x206.2\x20*\x20color\x20+\x200.5\x20)\x20)\x20/\x20(\x20color\x20*\x20(\x206.2\x20*\x20color\x20+\x201.7\x20)\x20+\x200.06\x20),\x20vec3(\x202.2\x20)\x20);\x0a}\x0avec3\x20RRTAndODTFit(\x20vec3\x20v\x20)\x20{\x0a\x09vec3\x20a\x20=\x20v\x20*\x20(\x20v\x20+\x200.0245786\x20)\x20-\x200.000090537;\x0a\x09vec3\x20b\x20=\x20v\x20*\x20(\x200.983729\x20*\x20v\x20+\x200.4329510\x20)\x20+\x200.238081;\x0a\x09return\x20a\x20/\x20b;\x0a}\x0avec3\x20ACESFilmicToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20mat3\x20ACESInputMat\x20=\x20mat3(\x0a\x09\x09vec3(\x200.59719,\x200.07600,\x200.02840\x20),\x09\x09vec3(\x200.35458,\x200.90834,\x200.13383\x20),\x0a\x09\x09vec3(\x200.04823,\x200.01566,\x200.83777\x20)\x0a\x09);\x0a\x09const\x20mat3\x20ACESOutputMat\x20=\x20mat3(\x0a\x09\x09vec3(\x20\x201.60475,\x20-0.10208,\x20-0.00327\x20),\x09\x09vec3(\x20-0.53108,\x20\x201.10813,\x20-0.07276\x20),\x0a\x09\x09vec3(\x20-0.07367,\x20-0.00605,\x20\x201.07602\x20)\x0a\x09);\x0a\x09color\x20*=\x20toneMappingExposure\x20/\x200.6;\x0a\x09color\x20=\x20ACESInputMat\x20*\x20color;\x0a\x09color\x20=\x20RRTAndODTFit(\x20color\x20);\x0a\x09color\x20=\x20ACESOutputMat\x20*\x20color;\x0a\x09return\x20saturate(\x20color\x20);\x0a}\x0aconst\x20mat3\x20LINEAR_REC2020_TO_LINEAR_SRGB\x20=\x20mat3(\x0a\x09vec3(\x201.6605,\x20-\x200.1246,\x20-\x200.0182\x20),\x0a\x09vec3(\x20-\x200.5876,\x201.1329,\x20-\x200.1006\x20),\x0a\x09vec3(\x20-\x200.0728,\x20-\x200.0083,\x201.1187\x20)\x0a);\x0aconst\x20mat3\x20LINEAR_SRGB_TO_LINEAR_REC2020\x20=\x20mat3(\x0a\x09vec3(\x200.6274,\x200.0691,\x200.0164\x20),\x0a\x09vec3(\x200.3293,\x200.9195,\x200.0880\x20),\x0a\x09vec3(\x200.0433,\x200.0113,\x200.8956\x20)\x0a);\x0avec3\x20agxDefaultContrastApprox(\x20vec3\x20x\x20)\x20{\x0a\x09vec3\x20x2\x20=\x20x\x20*\x20x;\x0a\x09vec3\x20x4\x20=\x20x2\x20*\x20x2;\x0a\x09return\x20+\x2015.5\x20*\x20x4\x20*\x20x2\x0a\x09\x09-\x2040.14\x20*\x20x4\x20*\x20x\x0a\x09\x09+\x2031.96\x20*\x20x4\x0a\x09\x09-\x206.868\x20*\x20x2\x20*\x20x\x0a\x09\x09+\x200.4298\x20*\x20x2\x0a\x09\x09+\x200.1191\x20*\x20x\x0a\x09\x09-\x200.00232;\x0a}\x0avec3\x20AgXToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20mat3\x20AgXInsetMatrix\x20=\x20mat3(\x0a\x09\x09vec3(\x200.856627153315983,\x200.137318972929847,\x200.11189821299995\x20),\x0a\x09\x09vec3(\x200.0951212405381588,\x200.761241990602591,\x200.0767994186031903\x20),\x0a\x09\x09vec3(\x200.0482516061458583,\x200.101439036467562,\x200.811302368396859\x20)\x0a\x09);\x0a\x09const\x20mat3\x20AgXOutsetMatrix\x20=\x20mat3(\x0a\x09\x09vec3(\x201.1271005818144368,\x20-\x200.1413297634984383,\x20-\x200.14132976349843826\x20),\x0a\x09\x09vec3(\x20-\x200.11060664309660323,\x201.157823702216272,\x20-\x200.11060664309660294\x20),\x0a\x09\x09vec3(\x20-\x200.016493938717834573,\x20-\x200.016493938717834257,\x201.2519364065950405\x20)\x0a\x09);\x0a\x09const\x20float\x20AgxMinEv\x20=\x20-\x2012.47393;\x09const\x20float\x20AgxMaxEv\x20=\x204.026069;\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09color\x20=\x20LINEAR_SRGB_TO_LINEAR_REC2020\x20*\x20color;\x0a\x09color\x20=\x20AgXInsetMatrix\x20*\x20color;\x0a\x09color\x20=\x20max(\x20color,\x201e-10\x20);\x09color\x20=\x20log2(\x20color\x20);\x0a\x09color\x20=\x20(\x20color\x20-\x20AgxMinEv\x20)\x20/\x20(\x20AgxMaxEv\x20-\x20AgxMinEv\x20);\x0a\x09color\x20=\x20clamp(\x20color,\x200.0,\x201.0\x20);\x0a\x09color\x20=\x20agxDefaultContrastApprox(\x20color\x20);\x0a\x09color\x20=\x20AgXOutsetMatrix\x20*\x20color;\x0a\x09color\x20=\x20pow(\x20max(\x20vec3(\x200.0\x20),\x20color\x20),\x20vec3(\x202.2\x20)\x20);\x0a\x09color\x20=\x20LINEAR_REC2020_TO_LINEAR_SRGB\x20*\x20color;\x0a\x09color\x20=\x20clamp(\x20color,\x200.0,\x201.0\x20);\x0a\x09return\x20color;\x0a}\x0avec3\x20NeutralToneMapping(\x20vec3\x20color\x20)\x20{\x0a\x09const\x20float\x20StartCompression\x20=\x200.8\x20-\x200.04;\x0a\x09const\x20float\x20Desaturation\x20=\x200.15;\x0a\x09color\x20*=\x20toneMappingExposure;\x0a\x09float\x20x\x20=\x20min(\x20color.r,\x20min(\x20color.g,\x20color.b\x20)\x20);\x0a\x09float\x20offset\x20=\x20x\x20<\x200.08\x20?\x20x\x20-\x206.25\x20*\x20x\x20*\x20x\x20:\x200.04;\x0a\x09color\x20-=\x20offset;\x0a\x09float\x20peak\x20=\x20max(\x20color.r,\x20max(\x20color.g,\x20color.b\x20)\x20);\x0a\x09if\x20(\x20peak\x20<\x20StartCompression\x20)\x20return\x20color;\x0a\x09float\x20d\x20=\x201.\x20-\x20StartCompression;\x0a\x09float\x20newPeak\x20=\x201.\x20-\x20d\x20*\x20d\x20/\x20(\x20peak\x20+\x20d\x20-\x20StartCompression\x20);\x0a\x09color\x20*=\x20newPeak\x20/\x20peak;\x0a\x09float\x20g\x20=\x201.\x20-\x201.\x20/\x20(\x20Desaturation\x20*\x20(\x20peak\x20-\x20newPeak\x20)\x20+\x201.\x20);\x0a\x09return\x20mix(\x20color,\x20vec3(\x20newPeak\x20),\x20g\x20);\x0a}\x0avec3\x20CustomToneMapping(\x20vec3\x20color\x20)\x20{\x20return\x20color;\x20}','transmission_fragment':'#ifdef\x20USE_TRANSMISSION\x0a\x09material.transmission\x20=\x20transmission;\x0a\x09material.transmissionAlpha\x20=\x201.0;\x0a\x09material.thickness\x20=\x20thickness;\x0a\x09material.attenuationDistance\x20=\x20attenuationDistance;\x0a\x09material.attenuationColor\x20=\x20attenuationColor;\x0a\x09#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09\x09material.transmission\x20*=\x20texture2D(\x20transmissionMap,\x20vTransmissionMapUv\x20).r;\x0a\x09#endif\x0a\x09#ifdef\x20USE_THICKNESSMAP\x0a\x09\x09material.thickness\x20*=\x20texture2D(\x20thicknessMap,\x20vThicknessMapUv\x20).g;\x0a\x09#endif\x0a\x09vec3\x20pos\x20=\x20vWorldPosition;\x0a\x09vec3\x20v\x20=\x20normalize(\x20cameraPosition\x20-\x20pos\x20);\x0a\x09vec3\x20n\x20=\x20inverseTransformDirection(\x20normal,\x20viewMatrix\x20);\x0a\x09vec4\x20transmitted\x20=\x20getIBLVolumeRefraction(\x0a\x09\x09n,\x20v,\x20material.roughness,\x20material.diffuseColor,\x20material.specularColor,\x20material.specularF90,\x0a\x09\x09pos,\x20modelMatrix,\x20viewMatrix,\x20projectionMatrix,\x20material.dispersion,\x20material.ior,\x20material.thickness,\x0a\x09\x09material.attenuationColor,\x20material.attenuationDistance\x20);\x0a\x09material.transmissionAlpha\x20=\x20mix(\x20material.transmissionAlpha,\x20transmitted.a,\x20material.transmission\x20);\x0a\x09totalDiffuse\x20=\x20mix(\x20totalDiffuse,\x20transmitted.rgb,\x20material.transmission\x20);\x0a#endif','transmission_pars_fragment':'#ifdef\x20USE_TRANSMISSION\x0a\x09uniform\x20float\x20transmission;\x0a\x09uniform\x20float\x20thickness;\x0a\x09uniform\x20float\x20attenuationDistance;\x0a\x09uniform\x20vec3\x20attenuationColor;\x0a\x09#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09\x09uniform\x20sampler2D\x20transmissionMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_THICKNESSMAP\x0a\x09\x09uniform\x20sampler2D\x20thicknessMap;\x0a\x09#endif\x0a\x09uniform\x20vec2\x20transmissionSamplerSize;\x0a\x09uniform\x20sampler2D\x20transmissionSamplerMap;\x0a\x09uniform\x20mat4\x20modelMatrix;\x0a\x09uniform\x20mat4\x20projectionMatrix;\x0a\x09varying\x20vec3\x20vWorldPosition;\x0a\x09float\x20w0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20(\x20a\x20*\x20(\x20-\x20a\x20+\x203.0\x20)\x20-\x203.0\x20)\x20+\x201.0\x20);\x0a\x09}\x0a\x09float\x20w1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20\x20a\x20*\x20(\x203.0\x20*\x20a\x20-\x206.0\x20)\x20+\x204.0\x20);\x0a\x09}\x0a\x09float\x20w2(\x20float\x20a\x20){\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20(\x20a\x20*\x20(\x20-\x203.0\x20*\x20a\x20+\x203.0\x20)\x20+\x203.0\x20)\x20+\x201.0\x20);\x0a\x09}\x0a\x09float\x20w3(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20(\x201.0\x20/\x206.0\x20)\x20*\x20(\x20a\x20*\x20a\x20*\x20a\x20);\x0a\x09}\x0a\x09float\x20g0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20w0(\x20a\x20)\x20+\x20w1(\x20a\x20);\x0a\x09}\x0a\x09float\x20g1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20w2(\x20a\x20)\x20+\x20w3(\x20a\x20);\x0a\x09}\x0a\x09float\x20h0(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x20-\x201.0\x20+\x20w1(\x20a\x20)\x20/\x20(\x20w0(\x20a\x20)\x20+\x20w1(\x20a\x20)\x20);\x0a\x09}\x0a\x09float\x20h1(\x20float\x20a\x20)\x20{\x0a\x09\x09return\x201.0\x20+\x20w3(\x20a\x20)\x20/\x20(\x20w2(\x20a\x20)\x20+\x20w3(\x20a\x20)\x20);\x0a\x09}\x0a\x09vec4\x20bicubic(\x20sampler2D\x20tex,\x20vec2\x20uv,\x20vec4\x20texelSize,\x20float\x20lod\x20)\x20{\x0a\x09\x09uv\x20=\x20uv\x20*\x20texelSize.zw\x20+\x200.5;\x0a\x09\x09vec2\x20iuv\x20=\x20floor(\x20uv\x20);\x0a\x09\x09vec2\x20fuv\x20=\x20fract(\x20uv\x20);\x0a\x09\x09float\x20g0x\x20=\x20g0(\x20fuv.x\x20);\x0a\x09\x09float\x20g1x\x20=\x20g1(\x20fuv.x\x20);\x0a\x09\x09float\x20h0x\x20=\x20h0(\x20fuv.x\x20);\x0a\x09\x09float\x20h1x\x20=\x20h1(\x20fuv.x\x20);\x0a\x09\x09float\x20h0y\x20=\x20h0(\x20fuv.y\x20);\x0a\x09\x09float\x20h1y\x20=\x20h1(\x20fuv.y\x20);\x0a\x09\x09vec2\x20p0\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h0x,\x20iuv.y\x20+\x20h0y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p1\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h1x,\x20iuv.y\x20+\x20h0y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p2\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h0x,\x20iuv.y\x20+\x20h1y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09vec2\x20p3\x20=\x20(\x20vec2(\x20iuv.x\x20+\x20h1x,\x20iuv.y\x20+\x20h1y\x20)\x20-\x200.5\x20)\x20*\x20texelSize.xy;\x0a\x09\x09return\x20g0(\x20fuv.y\x20)\x20*\x20(\x20g0x\x20*\x20textureLod(\x20tex,\x20p0,\x20lod\x20)\x20+\x20g1x\x20*\x20textureLod(\x20tex,\x20p1,\x20lod\x20)\x20)\x20+\x0a\x09\x09\x09g1(\x20fuv.y\x20)\x20*\x20(\x20g0x\x20*\x20textureLod(\x20tex,\x20p2,\x20lod\x20)\x20+\x20g1x\x20*\x20textureLod(\x20tex,\x20p3,\x20lod\x20)\x20);\x0a\x09}\x0a\x09vec4\x20textureBicubic(\x20sampler2D\x20sampler,\x20vec2\x20uv,\x20float\x20lod\x20)\x20{\x0a\x09\x09vec2\x20fLodSize\x20=\x20vec2(\x20textureSize(\x20sampler,\x20int(\x20lod\x20)\x20)\x20);\x0a\x09\x09vec2\x20cLodSize\x20=\x20vec2(\x20textureSize(\x20sampler,\x20int(\x20lod\x20+\x201.0\x20)\x20)\x20);\x0a\x09\x09vec2\x20fLodSizeInv\x20=\x201.0\x20/\x20fLodSize;\x0a\x09\x09vec2\x20cLodSizeInv\x20=\x201.0\x20/\x20cLodSize;\x0a\x09\x09vec4\x20fSample\x20=\x20bicubic(\x20sampler,\x20uv,\x20vec4(\x20fLodSizeInv,\x20fLodSize\x20),\x20floor(\x20lod\x20)\x20);\x0a\x09\x09vec4\x20cSample\x20=\x20bicubic(\x20sampler,\x20uv,\x20vec4(\x20cLodSizeInv,\x20cLodSize\x20),\x20ceil(\x20lod\x20)\x20);\x0a\x09\x09return\x20mix(\x20fSample,\x20cSample,\x20fract(\x20lod\x20)\x20);\x0a\x09}\x0a\x09vec3\x20getVolumeTransmissionRay(\x20const\x20in\x20vec3\x20n,\x20const\x20in\x20vec3\x20v,\x20const\x20in\x20float\x20thickness,\x20const\x20in\x20float\x20ior,\x20const\x20in\x20mat4\x20modelMatrix\x20)\x20{\x0a\x09\x09vec3\x20refractionVector\x20=\x20refract(\x20-\x20v,\x20normalize(\x20n\x20),\x201.0\x20/\x20ior\x20);\x0a\x09\x09vec3\x20modelScale;\x0a\x09\x09modelScale.x\x20=\x20length(\x20vec3(\x20modelMatrix[\x200\x20].xyz\x20)\x20);\x0a\x09\x09modelScale.y\x20=\x20length(\x20vec3(\x20modelMatrix[\x201\x20].xyz\x20)\x20);\x0a\x09\x09modelScale.z\x20=\x20length(\x20vec3(\x20modelMatrix[\x202\x20].xyz\x20)\x20);\x0a\x09\x09return\x20normalize(\x20refractionVector\x20)\x20*\x20thickness\x20*\x20modelScale;\x0a\x09}\x0a\x09float\x20applyIorToRoughness(\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20float\x20ior\x20)\x20{\x0a\x09\x09return\x20roughness\x20*\x20clamp(\x20ior\x20*\x202.0\x20-\x202.0,\x200.0,\x201.0\x20);\x0a\x09}\x0a\x09vec4\x20getTransmissionSample(\x20const\x20in\x20vec2\x20fragCoord,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20float\x20ior\x20)\x20{\x0a\x09\x09float\x20lod\x20=\x20log2(\x20transmissionSamplerSize.x\x20)\x20*\x20applyIorToRoughness(\x20roughness,\x20ior\x20);\x0a\x09\x09return\x20textureBicubic(\x20transmissionSamplerMap,\x20fragCoord.xy,\x20lod\x20);\x0a\x09}\x0a\x09vec3\x20volumeAttenuation(\x20const\x20in\x20float\x20transmissionDistance,\x20const\x20in\x20vec3\x20attenuationColor,\x20const\x20in\x20float\x20attenuationDistance\x20)\x20{\x0a\x09\x09if\x20(\x20isinf(\x20attenuationDistance\x20)\x20)\x20{\x0a\x09\x09\x09return\x20vec3(\x201.0\x20);\x0a\x09\x09}\x20else\x20{\x0a\x09\x09\x09vec3\x20attenuationCoefficient\x20=\x20-log(\x20attenuationColor\x20)\x20/\x20attenuationDistance;\x0a\x09\x09\x09vec3\x20transmittance\x20=\x20exp(\x20-\x20attenuationCoefficient\x20*\x20transmissionDistance\x20);\x09\x09\x09return\x20transmittance;\x0a\x09\x09}\x0a\x09}\x0a\x09vec4\x20getIBLVolumeRefraction(\x20const\x20in\x20vec3\x20n,\x20const\x20in\x20vec3\x20v,\x20const\x20in\x20float\x20roughness,\x20const\x20in\x20vec3\x20diffuseColor,\x0a\x09\x09const\x20in\x20vec3\x20specularColor,\x20const\x20in\x20float\x20specularF90,\x20const\x20in\x20vec3\x20position,\x20const\x20in\x20mat4\x20modelMatrix,\x0a\x09\x09const\x20in\x20mat4\x20viewMatrix,\x20const\x20in\x20mat4\x20projMatrix,\x20const\x20in\x20float\x20dispersion,\x20const\x20in\x20float\x20ior,\x20const\x20in\x20float\x20thickness,\x0a\x09\x09const\x20in\x20vec3\x20attenuationColor,\x20const\x20in\x20float\x20attenuationDistance\x20)\x20{\x0a\x09\x09vec4\x20transmittedLight;\x0a\x09\x09vec3\x20transmittance;\x0a\x09\x09#ifdef\x20USE_DISPERSION\x0a\x09\x09\x09float\x20halfSpread\x20=\x20(\x20ior\x20-\x201.0\x20)\x20*\x200.025\x20*\x20dispersion;\x0a\x09\x09\x09vec3\x20iors\x20=\x20vec3(\x20ior\x20-\x20halfSpread,\x20ior,\x20ior\x20+\x20halfSpread\x20);\x0a\x09\x09\x09for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x203;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09vec3\x20transmissionRay\x20=\x20getVolumeTransmissionRay(\x20n,\x20v,\x20thickness,\x20iors[\x20i\x20],\x20modelMatrix\x20);\x0a\x09\x09\x09\x09vec3\x20refractedRayExit\x20=\x20position\x20+\x20transmissionRay;\x0a\x09\x09\x09\x09vec4\x20ndcPos\x20=\x20projMatrix\x20*\x20viewMatrix\x20*\x20vec4(\x20refractedRayExit,\x201.0\x20);\x0a\x09\x09\x09\x09vec2\x20refractionCoords\x20=\x20ndcPos.xy\x20/\x20ndcPos.w;\x0a\x09\x09\x09\x09refractionCoords\x20+=\x201.0;\x0a\x09\x09\x09\x09refractionCoords\x20/=\x202.0;\x0a\x09\x09\x09\x09vec4\x20transmissionSample\x20=\x20getTransmissionSample(\x20refractionCoords,\x20roughness,\x20iors[\x20i\x20]\x20);\x0a\x09\x09\x09\x09transmittedLight[\x20i\x20]\x20=\x20transmissionSample[\x20i\x20];\x0a\x09\x09\x09\x09transmittedLight.a\x20+=\x20transmissionSample.a;\x0a\x09\x09\x09\x09transmittance[\x20i\x20]\x20=\x20diffuseColor[\x20i\x20]\x20*\x20volumeAttenuation(\x20length(\x20transmissionRay\x20),\x20attenuationColor,\x20attenuationDistance\x20)[\x20i\x20];\x0a\x09\x09\x09}\x0a\x09\x09\x09transmittedLight.a\x20/=\x203.0;\x0a\x09\x09#else\x0a\x09\x09\x09vec3\x20transmissionRay\x20=\x20getVolumeTransmissionRay(\x20n,\x20v,\x20thickness,\x20ior,\x20modelMatrix\x20);\x0a\x09\x09\x09vec3\x20refractedRayExit\x20=\x20position\x20+\x20transmissionRay;\x0a\x09\x09\x09vec4\x20ndcPos\x20=\x20projMatrix\x20*\x20viewMatrix\x20*\x20vec4(\x20refractedRayExit,\x201.0\x20);\x0a\x09\x09\x09vec2\x20refractionCoords\x20=\x20ndcPos.xy\x20/\x20ndcPos.w;\x0a\x09\x09\x09refractionCoords\x20+=\x201.0;\x0a\x09\x09\x09refractionCoords\x20/=\x202.0;\x0a\x09\x09\x09transmittedLight\x20=\x20getTransmissionSample(\x20refractionCoords,\x20roughness,\x20ior\x20);\x0a\x09\x09\x09transmittance\x20=\x20diffuseColor\x20*\x20volumeAttenuation(\x20length(\x20transmissionRay\x20),\x20attenuationColor,\x20attenuationDistance\x20);\x0a\x09\x09#endif\x0a\x09\x09vec3\x20attenuatedColor\x20=\x20transmittance\x20*\x20transmittedLight.rgb;\x0a\x09\x09vec3\x20F\x20=\x20EnvironmentBRDF(\x20n,\x20v,\x20specularColor,\x20specularF90,\x20roughness\x20);\x0a\x09\x09float\x20transmittanceFactor\x20=\x20(\x20transmittance.r\x20+\x20transmittance.g\x20+\x20transmittance.b\x20)\x20/\x203.0;\x0a\x09\x09return\x20vec4(\x20(\x201.0\x20-\x20F\x20)\x20*\x20attenuatedColor,\x201.0\x20-\x20(\x201.0\x20-\x20transmittedLight.a\x20)\x20*\x20transmittanceFactor\x20);\x0a\x09}\x0a#endif','uv_pars_fragment':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09varying\x20vec2\x20vMapUv;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09varying\x20vec2\x20vAlphaMapUv;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09varying\x20vec2\x20vLightMapUv;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09varying\x20vec2\x20vAoMapUv;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09varying\x20vec2\x20vBumpMapUv;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09varying\x20vec2\x20vNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09varying\x20vec2\x20vEmissiveMapUv;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09varying\x20vec2\x20vMetalnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09varying\x20vec2\x20vAnisotropyMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09varying\x20vec2\x20vClearcoatMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09varying\x20vec2\x20vClearcoatNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vClearcoatRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09varying\x20vec2\x20vIridescenceMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09varying\x20vec2\x20vIridescenceThicknessMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09varying\x20vec2\x20vSheenColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09varying\x20vec2\x20vSheenRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09varying\x20vec2\x20vSpecularMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09varying\x20vec2\x20vSpecularColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09varying\x20vec2\x20vSpecularIntensityMapUv;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09uniform\x20mat3\x20transmissionMapTransform;\x0a\x09varying\x20vec2\x20vTransmissionMapUv;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20thicknessMapTransform;\x0a\x09varying\x20vec2\x20vThicknessMapUv;\x0a#endif','uv_pars_vertex':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09varying\x20vec2\x20vUv;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09uniform\x20mat3\x20mapTransform;\x0a\x09varying\x20vec2\x20vMapUv;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09uniform\x20mat3\x20alphaMapTransform;\x0a\x09varying\x20vec2\x20vAlphaMapUv;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09uniform\x20mat3\x20lightMapTransform;\x0a\x09varying\x20vec2\x20vLightMapUv;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09uniform\x20mat3\x20aoMapTransform;\x0a\x09varying\x20vec2\x20vAoMapUv;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09uniform\x20mat3\x20bumpMapTransform;\x0a\x09varying\x20vec2\x20vBumpMapUv;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09uniform\x20mat3\x20normalMapTransform;\x0a\x09varying\x20vec2\x20vNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09uniform\x20mat3\x20displacementMapTransform;\x0a\x09varying\x20vec2\x20vDisplacementMapUv;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09uniform\x20mat3\x20emissiveMapTransform;\x0a\x09varying\x20vec2\x20vEmissiveMapUv;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09uniform\x20mat3\x20metalnessMapTransform;\x0a\x09varying\x20vec2\x20vMetalnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20roughnessMapTransform;\x0a\x09varying\x20vec2\x20vRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09uniform\x20mat3\x20anisotropyMapTransform;\x0a\x09varying\x20vec2\x20vAnisotropyMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09uniform\x20mat3\x20clearcoatMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09uniform\x20mat3\x20clearcoatNormalMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatNormalMapUv;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20clearcoatRoughnessMapTransform;\x0a\x09varying\x20vec2\x20vClearcoatRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09uniform\x20mat3\x20sheenColorMapTransform;\x0a\x09varying\x20vec2\x20vSheenColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09uniform\x20mat3\x20sheenRoughnessMapTransform;\x0a\x09varying\x20vec2\x20vSheenRoughnessMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09uniform\x20mat3\x20iridescenceMapTransform;\x0a\x09varying\x20vec2\x20vIridescenceMapUv;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20iridescenceThicknessMapTransform;\x0a\x09varying\x20vec2\x20vIridescenceThicknessMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09uniform\x20mat3\x20specularMapTransform;\x0a\x09varying\x20vec2\x20vSpecularMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09uniform\x20mat3\x20specularColorMapTransform;\x0a\x09varying\x20vec2\x20vSpecularColorMapUv;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09uniform\x20mat3\x20specularIntensityMapTransform;\x0a\x09varying\x20vec2\x20vSpecularIntensityMapUv;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09uniform\x20mat3\x20transmissionMapTransform;\x0a\x09varying\x20vec2\x20vTransmissionMapUv;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09uniform\x20mat3\x20thicknessMapTransform;\x0a\x09varying\x20vec2\x20vThicknessMapUv;\x0a#endif','uv_vertex':'#if\x20defined(\x20USE_UV\x20)\x20||\x20defined(\x20USE_ANISOTROPY\x20)\x0a\x09vUv\x20=\x20vec3(\x20uv,\x201\x20).xy;\x0a#endif\x0a#ifdef\x20USE_MAP\x0a\x09vMapUv\x20=\x20(\x20mapTransform\x20*\x20vec3(\x20MAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ALPHAMAP\x0a\x09vAlphaMapUv\x20=\x20(\x20alphaMapTransform\x20*\x20vec3(\x20ALPHAMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_LIGHTMAP\x0a\x09vLightMapUv\x20=\x20(\x20lightMapTransform\x20*\x20vec3(\x20LIGHTMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_AOMAP\x0a\x09vAoMapUv\x20=\x20(\x20aoMapTransform\x20*\x20vec3(\x20AOMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_BUMPMAP\x0a\x09vBumpMapUv\x20=\x20(\x20bumpMapTransform\x20*\x20vec3(\x20BUMPMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_NORMALMAP\x0a\x09vNormalMapUv\x20=\x20(\x20normalMapTransform\x20*\x20vec3(\x20NORMALMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09vDisplacementMapUv\x20=\x20(\x20displacementMapTransform\x20*\x20vec3(\x20DISPLACEMENTMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_EMISSIVEMAP\x0a\x09vEmissiveMapUv\x20=\x20(\x20emissiveMapTransform\x20*\x20vec3(\x20EMISSIVEMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_METALNESSMAP\x0a\x09vMetalnessMapUv\x20=\x20(\x20metalnessMapTransform\x20*\x20vec3(\x20METALNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ROUGHNESSMAP\x0a\x09vRoughnessMapUv\x20=\x20(\x20roughnessMapTransform\x20*\x20vec3(\x20ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_ANISOTROPYMAP\x0a\x09vAnisotropyMapUv\x20=\x20(\x20anisotropyMapTransform\x20*\x20vec3(\x20ANISOTROPYMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOATMAP\x0a\x09vClearcoatMapUv\x20=\x20(\x20clearcoatMapTransform\x20*\x20vec3(\x20CLEARCOATMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_NORMALMAP\x0a\x09vClearcoatNormalMapUv\x20=\x20(\x20clearcoatNormalMapTransform\x20*\x20vec3(\x20CLEARCOAT_NORMALMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT_ROUGHNESSMAP\x0a\x09vClearcoatRoughnessMapUv\x20=\x20(\x20clearcoatRoughnessMapTransform\x20*\x20vec3(\x20CLEARCOAT_ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCEMAP\x0a\x09vIridescenceMapUv\x20=\x20(\x20iridescenceMapTransform\x20*\x20vec3(\x20IRIDESCENCEMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE_THICKNESSMAP\x0a\x09vIridescenceThicknessMapUv\x20=\x20(\x20iridescenceThicknessMapTransform\x20*\x20vec3(\x20IRIDESCENCE_THICKNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09vSheenColorMapUv\x20=\x20(\x20sheenColorMapTransform\x20*\x20vec3(\x20SHEEN_COLORMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09vSheenRoughnessMapUv\x20=\x20(\x20sheenRoughnessMapTransform\x20*\x20vec3(\x20SHEEN_ROUGHNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULARMAP\x0a\x09vSpecularMapUv\x20=\x20(\x20specularMapTransform\x20*\x20vec3(\x20SPECULARMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09vSpecularColorMapUv\x20=\x20(\x20specularColorMapTransform\x20*\x20vec3(\x20SPECULAR_COLORMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09vSpecularIntensityMapUv\x20=\x20(\x20specularIntensityMapTransform\x20*\x20vec3(\x20SPECULAR_INTENSITYMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_TRANSMISSIONMAP\x0a\x09vTransmissionMapUv\x20=\x20(\x20transmissionMapTransform\x20*\x20vec3(\x20TRANSMISSIONMAP_UV,\x201\x20)\x20).xy;\x0a#endif\x0a#ifdef\x20USE_THICKNESSMAP\x0a\x09vThicknessMapUv\x20=\x20(\x20thicknessMapTransform\x20*\x20vec3(\x20THICKNESSMAP_UV,\x201\x20)\x20).xy;\x0a#endif','worldpos_vertex':'#if\x20defined(\x20USE_ENVMAP\x20)\x20||\x20defined(\x20DISTANCE\x20)\x20||\x20defined\x20(\x20USE_SHADOWMAP\x20)\x20||\x20defined\x20(\x20USE_TRANSMISSION\x20)\x20||\x20NUM_SPOT_LIGHT_COORDS\x20>\x200\x0a\x09vec4\x20worldPosition\x20=\x20vec4(\x20transformed,\x201.0\x20);\x0a\x09#ifdef\x20USE_BATCHING\x0a\x09\x09worldPosition\x20=\x20batchingMatrix\x20*\x20worldPosition;\x0a\x09#endif\x0a\x09#ifdef\x20USE_INSTANCING\x0a\x09\x09worldPosition\x20=\x20instanceMatrix\x20*\x20worldPosition;\x0a\x09#endif\x0a\x09worldPosition\x20=\x20modelMatrix\x20*\x20worldPosition;\x0a#endif','background_vert':'varying\x20vec2\x20vUv;\x0auniform\x20mat3\x20uvTransform;\x0avoid\x20main()\x20{\x0a\x09vUv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20uv,\x201\x20)\x20).xy;\x0a\x09gl_Position\x20=\x20vec4(\x20position.xy,\x201.0,\x201.0\x20);\x0a}','background_frag':'uniform\x20sampler2D\x20t2D;\x0auniform\x20float\x20backgroundIntensity;\x0avarying\x20vec2\x20vUv;\x0avoid\x20main()\x20{\x0a\x09vec4\x20texColor\x20=\x20texture2D(\x20t2D,\x20vUv\x20);\x0a\x09#ifdef\x20DECODE_VIDEO_TEXTURE\x0a\x09\x09texColor\x20=\x20vec4(\x20mix(\x20pow(\x20texColor.rgb\x20*\x200.9478672986\x20+\x20vec3(\x200.0521327014\x20),\x20vec3(\x202.4\x20)\x20),\x20texColor.rgb\x20*\x200.0773993808,\x20vec3(\x20lessThanEqual(\x20texColor.rgb,\x20vec3(\x200.04045\x20)\x20)\x20)\x20),\x20texColor.w\x20);\x0a\x09#endif\x0a\x09texColor.rgb\x20*=\x20backgroundIntensity;\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','backgroundCube_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_Position.z\x20=\x20gl_Position.w;\x0a}','backgroundCube_frag':'#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09uniform\x20samplerCube\x20envMap;\x0a#elif\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09uniform\x20sampler2D\x20envMap;\x0a#endif\x0auniform\x20float\x20flipEnvMap;\x0auniform\x20float\x20backgroundBlurriness;\x0auniform\x20float\x20backgroundIntensity;\x0auniform\x20mat3\x20backgroundRotation;\x0avarying\x20vec3\x20vWorldDirection;\x0a#include\x20<cube_uv_reflection_fragment>\x0avoid\x20main()\x20{\x0a\x09#ifdef\x20ENVMAP_TYPE_CUBE\x0a\x09\x09vec4\x20texColor\x20=\x20textureCube(\x20envMap,\x20backgroundRotation\x20*\x20vec3(\x20flipEnvMap\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);\x0a\x09#elif\x20defined(\x20ENVMAP_TYPE_CUBE_UV\x20)\x0a\x09\x09vec4\x20texColor\x20=\x20textureCubeUV(\x20envMap,\x20backgroundRotation\x20*\x20vWorldDirection,\x20backgroundBlurriness\x20);\x0a\x09#else\x0a\x09\x09vec4\x20texColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x201.0\x20);\x0a\x09#endif\x0a\x09texColor.rgb\x20*=\x20backgroundIntensity;\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','cube_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_Position.z\x20=\x20gl_Position.w;\x0a}','cube_frag':'uniform\x20samplerCube\x20tCube;\x0auniform\x20float\x20tFlip;\x0auniform\x20float\x20opacity;\x0avarying\x20vec3\x20vWorldDirection;\x0avoid\x20main()\x20{\x0a\x09vec4\x20texColor\x20=\x20textureCube(\x20tCube,\x20vec3(\x20tFlip\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);\x0a\x09gl_FragColor\x20=\x20texColor;\x0a\x09gl_FragColor.a\x20*=\x20opacity;\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','depth_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avarying\x20vec2\x20vHighPrecisionZW;\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vHighPrecisionZW\x20=\x20gl_Position.zw;\x0a}','depth_frag':'#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09uniform\x20float\x20opacity;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avarying\x20vec2\x20vHighPrecisionZW;\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x201.0\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09\x09diffuseColor.a\x20=\x20opacity;\x0a\x09#endif\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09float\x20fragCoordZ\x20=\x200.5\x20*\x20vHighPrecisionZW[0]\x20/\x20vHighPrecisionZW[1]\x20+\x200.5;\x0a\x09#if\x20DEPTH_PACKING\x20==\x203200\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20vec3(\x201.0\x20-\x20fragCoordZ\x20),\x20opacity\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203201\x0a\x09\x09gl_FragColor\x20=\x20packDepthToRGBA(\x20fragCoordZ\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203202\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20packDepthToRGB(\x20fragCoordZ\x20),\x201.0\x20);\x0a\x09#elif\x20DEPTH_PACKING\x20==\x203203\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x20packDepthToRG(\x20fragCoordZ\x20),\x200.0,\x201.0\x20);\x0a\x09#endif\x0a}','distanceRGBA_vert':'#define\x20DISTANCE\x0avarying\x20vec3\x20vWorldPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#ifdef\x20USE_DISPLACEMENTMAP\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a}','distanceRGBA_frag':'#define\x20DISTANCE\x0auniform\x20vec3\x20referencePosition;\x0auniform\x20float\x20nearDistance;\x0auniform\x20float\x20farDistance;\x0avarying\x20vec3\x20vWorldPosition;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main\x20()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x201.0\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09float\x20dist\x20=\x20length(\x20vWorldPosition\x20-\x20referencePosition\x20);\x0a\x09dist\x20=\x20(\x20dist\x20-\x20nearDistance\x20)\x20/\x20(\x20farDistance\x20-\x20nearDistance\x20);\x0a\x09dist\x20=\x20saturate(\x20dist\x20);\x0a\x09gl_FragColor\x20=\x20packDepthToRGBA(\x20dist\x20);\x0a}','equirect_vert':'varying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<project_vertex>\x0a}','equirect_frag':'uniform\x20sampler2D\x20tEquirect;\x0avarying\x20vec3\x20vWorldDirection;\x0a#include\x20<common>\x0avoid\x20main()\x20{\x0a\x09vec3\x20direction\x20=\x20normalize(\x20vWorldDirection\x20);\x0a\x09vec2\x20sampleUV\x20=\x20equirectUv(\x20direction\x20);\x0a\x09gl_FragColor\x20=\x20texture2D(\x20tEquirect,\x20sampleUV\x20);\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a}','linedashed_vert':'uniform\x20float\x20scale;\x0aattribute\x20float\x20lineDistance;\x0avarying\x20float\x20vLineDistance;\x0a#include\x20<common>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09vLineDistance\x20=\x20scale\x20*\x20lineDistance;\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','linedashed_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0auniform\x20float\x20dashSize;\x0auniform\x20float\x20totalSize;\x0avarying\x20float\x20vLineDistance;\x0a#include\x20<common>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09if\x20(\x20mod(\x20vLineDistance,\x20totalSize\x20)\x20>\x20dashSize\x20)\x20{\x0a\x09\x09discard;\x0a\x09}\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a}','meshbasic_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#if\x20defined\x20(\x20USE_ENVMAP\x20)\x20||\x20defined\x20(\x20USE_SKINNING\x20)\x0a\x09\x09#include\x20<beginnormal_vertex>\x0a\x09\x09#include\x20<morphnormal_vertex>\x0a\x09\x09#include\x20<skinbase_vertex>\x0a\x09\x09#include\x20<skinnormal_vertex>\x0a\x09\x09#include\x20<defaultnormal_vertex>\x0a\x09#endif\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshbasic_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#ifndef\x20FLAT_SHADED\x0a\x09varying\x20vec3\x20vNormal;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09#ifdef\x20USE_LIGHTMAP\x0a\x09\x09vec4\x20lightMapTexel\x20=\x20texture2D(\x20lightMap,\x20vLightMapUv\x20);\x0a\x09\x09reflectedLight.indirectDiffuse\x20+=\x20lightMapTexel.rgb\x20*\x20lightMapIntensity\x20*\x20RECIPROCAL_PI;\x0a\x09#else\x0a\x09\x09reflectedLight.indirectDiffuse\x20+=\x20vec3(\x201.0\x20);\x0a\x09#endif\x0a\x09#include\x20<aomap_fragment>\x0a\x09reflectedLight.indirectDiffuse\x20*=\x20diffuseColor.rgb;\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.indirectDiffuse;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshlambert_vert':'#define\x20LAMBERT\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshlambert_frag':'#define\x20LAMBERT\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_lambert_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_lambert_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshmatcap_vert':'#define\x20MATCAP\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a}','meshmatcap_frag':'#define\x20MATCAP\x0auniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0auniform\x20sampler2D\x20matcap;\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09vec3\x20viewDir\x20=\x20normalize(\x20vViewPosition\x20);\x0a\x09vec3\x20x\x20=\x20normalize(\x20vec3(\x20viewDir.z,\x200.0,\x20-\x20viewDir.x\x20)\x20);\x0a\x09vec3\x20y\x20=\x20cross(\x20viewDir,\x20x\x20);\x0a\x09vec2\x20uv\x20=\x20vec2(\x20dot(\x20x,\x20normal\x20),\x20dot(\x20y,\x20normal\x20)\x20)\x20*\x200.495\x20+\x200.5;\x0a\x09#ifdef\x20USE_MATCAP\x0a\x09\x09vec4\x20matcapColor\x20=\x20texture2D(\x20matcap,\x20uv\x20);\x0a\x09#else\x0a\x09\x09vec4\x20matcapColor\x20=\x20vec4(\x20vec3(\x20mix(\x200.2,\x200.8,\x20uv.y\x20)\x20),\x201.0\x20);\x0a\x09#endif\x0a\x09vec3\x20outgoingLight\x20=\x20diffuseColor.rgb\x20*\x20matcapColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshnormal_vert':'#define\x20NORMAL\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09varying\x20vec3\x20vViewPosition;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a#endif\x0a}','meshnormal_frag':'#define\x20NORMAL\x0auniform\x20float\x20opacity;\x0a#if\x20defined(\x20FLAT_SHADED\x20)\x20||\x20defined(\x20USE_BUMPMAP\x20)\x20||\x20defined(\x20USE_NORMALMAP_TANGENTSPACE\x20)\x0a\x09varying\x20vec3\x20vViewPosition;\x0a#endif\x0a#include\x20<packing>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09gl_FragColor\x20=\x20vec4(\x20packNormalToRGB(\x20normal\x20),\x20diffuseColor.a\x20);\x0a\x09#ifdef\x20OPAQUE\x0a\x09\x09gl_FragColor.a\x20=\x201.0;\x0a\x09#endif\x0a}','meshphong_vert':'#define\x20PHONG\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<envmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<envmap_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshphong_frag':'#define\x20PHONG\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20vec3\x20specular;\x0auniform\x20float\x20shininess;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_phong_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_phong_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20reflectedLight.directSpecular\x20+\x20reflectedLight.indirectSpecular\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<envmap_fragment>\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshphysical_vert':'#define\x20STANDARD\x0avarying\x20vec3\x20vViewPosition;\x0a#ifdef\x20USE_TRANSMISSION\x0a\x09varying\x20vec3\x20vWorldPosition;\x0a#endif\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a#ifdef\x20USE_TRANSMISSION\x0a\x09vWorldPosition\x20=\x20worldPosition.xyz;\x0a#endif\x0a}','meshphysical_frag':'#define\x20STANDARD\x0a#ifdef\x20PHYSICAL\x0a\x09#define\x20IOR\x0a\x09#define\x20USE_SPECULAR\x0a#endif\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20roughness;\x0auniform\x20float\x20metalness;\x0auniform\x20float\x20opacity;\x0a#ifdef\x20IOR\x0a\x09uniform\x20float\x20ior;\x0a#endif\x0a#ifdef\x20USE_SPECULAR\x0a\x09uniform\x20float\x20specularIntensity;\x0a\x09uniform\x20vec3\x20specularColor;\x0a\x09#ifdef\x20USE_SPECULAR_COLORMAP\x0a\x09\x09uniform\x20sampler2D\x20specularColorMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SPECULAR_INTENSITYMAP\x0a\x09\x09uniform\x20sampler2D\x20specularIntensityMap;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_CLEARCOAT\x0a\x09uniform\x20float\x20clearcoat;\x0a\x09uniform\x20float\x20clearcoatRoughness;\x0a#endif\x0a#ifdef\x20USE_DISPERSION\x0a\x09uniform\x20float\x20dispersion;\x0a#endif\x0a#ifdef\x20USE_IRIDESCENCE\x0a\x09uniform\x20float\x20iridescence;\x0a\x09uniform\x20float\x20iridescenceIOR;\x0a\x09uniform\x20float\x20iridescenceThicknessMinimum;\x0a\x09uniform\x20float\x20iridescenceThicknessMaximum;\x0a#endif\x0a#ifdef\x20USE_SHEEN\x0a\x09uniform\x20vec3\x20sheenColor;\x0a\x09uniform\x20float\x20sheenRoughness;\x0a\x09#ifdef\x20USE_SHEEN_COLORMAP\x0a\x09\x09uniform\x20sampler2D\x20sheenColorMap;\x0a\x09#endif\x0a\x09#ifdef\x20USE_SHEEN_ROUGHNESSMAP\x0a\x09\x09uniform\x20sampler2D\x20sheenRoughnessMap;\x0a\x09#endif\x0a#endif\x0a#ifdef\x20USE_ANISOTROPY\x0a\x09uniform\x20vec2\x20anisotropyVector;\x0a\x09#ifdef\x20USE_ANISOTROPYMAP\x0a\x09\x09uniform\x20sampler2D\x20anisotropyMap;\x0a\x09#endif\x0a#endif\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<iridescence_fragment>\x0a#include\x20<cube_uv_reflection_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_physical_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_physical_pars_fragment>\x0a#include\x20<transmission_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<clearcoat_pars_fragment>\x0a#include\x20<iridescence_pars_fragment>\x0a#include\x20<roughnessmap_pars_fragment>\x0a#include\x20<metalnessmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<roughnessmap_fragment>\x0a\x09#include\x20<metalnessmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<clearcoat_normal_fragment_begin>\x0a\x09#include\x20<clearcoat_normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_physical_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20totalDiffuse\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse;\x0a\x09vec3\x20totalSpecular\x20=\x20reflectedLight.directSpecular\x20+\x20reflectedLight.indirectSpecular;\x0a\x09#include\x20<transmission_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20totalDiffuse\x20+\x20totalSpecular\x20+\x20totalEmissiveRadiance;\x0a\x09#ifdef\x20USE_SHEEN\x0a\x09\x09float\x20sheenEnergyComp\x20=\x201.0\x20-\x200.157\x20*\x20max3(\x20material.sheenColor\x20);\x0a\x09\x09outgoingLight\x20=\x20outgoingLight\x20*\x20sheenEnergyComp\x20+\x20sheenSpecularDirect\x20+\x20sheenSpecularIndirect;\x0a\x09#endif\x0a\x09#ifdef\x20USE_CLEARCOAT\x0a\x09\x09float\x20dotNVcc\x20=\x20saturate(\x20dot(\x20geometryClearcoatNormal,\x20geometryViewDir\x20)\x20);\x0a\x09\x09vec3\x20Fcc\x20=\x20F_Schlick(\x20material.clearcoatF0,\x20material.clearcoatF90,\x20dotNVcc\x20);\x0a\x09\x09outgoingLight\x20=\x20outgoingLight\x20*\x20(\x201.0\x20-\x20material.clearcoat\x20*\x20Fcc\x20)\x20+\x20(\x20clearcoatSpecularDirect\x20+\x20clearcoatSpecularIndirect\x20)\x20*\x20material.clearcoat;\x0a\x09#endif\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','meshtoon_vert':'#define\x20TOON\x0avarying\x20vec3\x20vViewPosition;\x0a#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<displacementmap_pars_vertex>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<normal_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<normal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<displacementmap_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09vViewPosition\x20=\x20-\x20mvPosition.xyz;\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','meshtoon_frag':'#define\x20TOON\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<gradientmap_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<normal_pars_fragment>\x0a#include\x20<lights_toon_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_toon_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a}','points_vert':'uniform\x20float\x20size;\x0auniform\x20float\x20scale;\x0a#include\x20<common>\x0a#include\x20<color_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0a#ifdef\x20USE_POINTS_UV\x0a\x09varying\x20vec2\x20vUv;\x0a\x09uniform\x20mat3\x20uvTransform;\x0a#endif\x0avoid\x20main()\x20{\x0a\x09#ifdef\x20USE_POINTS_UV\x0a\x09\x09vUv\x20=\x20(\x20uvTransform\x20*\x20vec3(\x20uv,\x201\x20)\x20).xy;\x0a\x09#endif\x0a\x09#include\x20<color_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphcolor_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09gl_PointSize\x20=\x20size;\x0a\x09#ifdef\x20USE_SIZEATTENUATION\x0a\x09\x09bool\x20isPerspective\x20=\x20isPerspectiveMatrix(\x20projectionMatrix\x20);\x0a\x09\x09if\x20(\x20isPerspective\x20)\x20gl_PointSize\x20*=\x20(\x20scale\x20/\x20-\x20mvPosition.z\x20);\x0a\x09#endif\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','points_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<map_particle_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_particle_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a}','shadow_vert':'#include\x20<common>\x0a#include\x20<batching_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<morphtarget_pars_vertex>\x0a#include\x20<skinning_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<shadowmap_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<batching_vertex>\x0a\x09#include\x20<beginnormal_vertex>\x0a\x09#include\x20<morphinstance_vertex>\x0a\x09#include\x20<morphnormal_vertex>\x0a\x09#include\x20<skinbase_vertex>\x0a\x09#include\x20<skinnormal_vertex>\x0a\x09#include\x20<defaultnormal_vertex>\x0a\x09#include\x20<begin_vertex>\x0a\x09#include\x20<morphtarget_vertex>\x0a\x09#include\x20<skinning_vertex>\x0a\x09#include\x20<project_vertex>\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<worldpos_vertex>\x0a\x09#include\x20<shadowmap_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','shadow_frag':'uniform\x20vec3\x20color;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<shadowmask_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09gl_FragColor\x20=\x20vec4(\x20color,\x20opacity\x20*\x20(\x201.0\x20-\x20getShadowMask()\x20)\x20);\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a}','sprite_vert':'uniform\x20float\x20rotation;\x0auniform\x20vec2\x20center;\x0a#include\x20<common>\x0a#include\x20<uv_pars_vertex>\x0a#include\x20<fog_pars_vertex>\x0a#include\x20<logdepthbuf_pars_vertex>\x0a#include\x20<clipping_planes_pars_vertex>\x0avoid\x20main()\x20{\x0a\x09#include\x20<uv_vertex>\x0a\x09vec4\x20mvPosition\x20=\x20modelViewMatrix[\x203\x20];\x0a\x09vec2\x20scale\x20=\x20vec2(\x20length(\x20modelMatrix[\x200\x20].xyz\x20),\x20length(\x20modelMatrix[\x201\x20].xyz\x20)\x20);\x0a\x09#ifndef\x20USE_SIZEATTENUATION\x0a\x09\x09bool\x20isPerspective\x20=\x20isPerspectiveMatrix(\x20projectionMatrix\x20);\x0a\x09\x09if\x20(\x20isPerspective\x20)\x20scale\x20*=\x20-\x20mvPosition.z;\x0a\x09#endif\x0a\x09vec2\x20alignedPosition\x20=\x20(\x20position.xy\x20-\x20(\x20center\x20-\x20vec2(\x200.5\x20)\x20)\x20)\x20*\x20scale;\x0a\x09vec2\x20rotatedPosition;\x0a\x09rotatedPosition.x\x20=\x20cos(\x20rotation\x20)\x20*\x20alignedPosition.x\x20-\x20sin(\x20rotation\x20)\x20*\x20alignedPosition.y;\x0a\x09rotatedPosition.y\x20=\x20sin(\x20rotation\x20)\x20*\x20alignedPosition.x\x20+\x20cos(\x20rotation\x20)\x20*\x20alignedPosition.y;\x0a\x09mvPosition.xy\x20+=\x20rotatedPosition;\x0a\x09gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x09#include\x20<logdepthbuf_vertex>\x0a\x09#include\x20<clipping_planes_vertex>\x0a\x09#include\x20<fog_vertex>\x0a}','sprite_frag':'uniform\x20vec3\x20diffuse;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<alphatest_pars_fragment>\x0a#include\x20<alphahash_pars_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20vec3(\x200.0\x20);\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<alphahash_fragment>\x0a\x09outgoingLight\x20=\x20diffuseColor.rgb;\x0a\x09#include\x20<opaque_fragment>\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<colorspace_fragment>\x0a\x09#include\x20<fog_fragment>\x0a}'},_0x3719fd={'common':{'diffuse':{'value':new _0x42bc67['Q1f'](0xffffff)},'opacity':{'value':0x1},'map':{'value':null},'mapTransform':{'value':new _0x42bc67['dwI']()},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x42bc67['dwI']()},'alphaTest':{'value':0x0}},'specularmap':{'specularMap':{'value':null},'specularMapTransform':{'value':new _0x42bc67['dwI']()}},'envmap':{'envMap':{'value':null},'envMapRotation':{'value':new _0x42bc67['dwI']()},'flipEnvMap':{'value':-0x1},'reflectivity':{'value':0x1},'ior':{'value':1.5},'refractionRatio':{'value':0.98}},'aomap':{'aoMap':{'value':null},'aoMapIntensity':{'value':0x1},'aoMapTransform':{'value':new _0x42bc67['dwI']()}},'lightmap':{'lightMap':{'value':null},'lightMapIntensity':{'value':0x1},'lightMapTransform':{'value':new _0x42bc67['dwI']()}},'bumpmap':{'bumpMap':{'value':null},'bumpMapTransform':{'value':new _0x42bc67['dwI']()},'bumpScale':{'value':0x1}},'normalmap':{'normalMap':{'value':null},'normalMapTransform':{'value':new _0x42bc67['dwI']()},'normalScale':{'value':new _0x42bc67['I9Y'](0x1,0x1)}},'displacementmap':{'displacementMap':{'value':null},'displacementMapTransform':{'value':new _0x42bc67['dwI']()},'displacementScale':{'value':0x1},'displacementBias':{'value':0x0}},'emissivemap':{'emissiveMap':{'value':null},'emissiveMapTransform':{'value':new _0x42bc67['dwI']()}},'metalnessmap':{'metalnessMap':{'value':null},'metalnessMapTransform':{'value':new _0x42bc67['dwI']()}},'roughnessmap':{'roughnessMap':{'value':null},'roughnessMapTransform':{'value':new _0x42bc67['dwI']()}},'gradientmap':{'gradientMap':{'value':null}},'fog':{'fogDensity':{'value':0.00025},'fogNear':{'value':0x1},'fogFar':{'value':0x7d0},'fogColor':{'value':new _0x42bc67['Q1f'](0xffffff)}},'lights':{'ambientLightColor':{'value':[]},'lightProbe':{'value':[]},'directionalLights':{'value':[],'properties':{'direction':{},'color':{}}},'directionalLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{}}},'directionalShadowMap':{'value':[]},'directionalShadowMatrix':{'value':[]},'spotLights':{'value':[],'properties':{'color':{},'position':{},'direction':{},'distance':{},'coneCos':{},'penumbraCos':{},'decay':{}}},'spotLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{}}},'spotLightMap':{'value':[]},'spotShadowMap':{'value':[]},'spotLightMatrix':{'value':[]},'pointLights':{'value':[],'properties':{'color':{},'position':{},'decay':{},'distance':{}}},'pointLightShadows':{'value':[],'properties':{'shadowIntensity':0x1,'shadowBias':{},'shadowNormalBias':{},'shadowRadius':{},'shadowMapSize':{},'shadowCameraNear':{},'shadowCameraFar':{}}},'pointShadowMap':{'value':[]},'pointShadowMatrix':{'value':[]},'hemisphereLights':{'value':[],'properties':{'direction':{},'skyColor':{},'groundColor':{}}},'rectAreaLights':{'value':[],'properties':{'color':{},'position':{},'width':{},'height':{}}},'ltc_1':{'value':null},'ltc_2':{'value':null}},'points':{'diffuse':{'value':new _0x42bc67['Q1f'](0xffffff)},'opacity':{'value':0x1},'size':{'value':0x1},'scale':{'value':0x1},'map':{'value':null},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x42bc67['dwI']()},'alphaTest':{'value':0x0},'uvTransform':{'value':new _0x42bc67['dwI']()}},'sprite':{'diffuse':{'value':new _0x42bc67['Q1f'](0xffffff)},'opacity':{'value':0x1},'center':{'value':new _0x42bc67['I9Y'](0.5,0.5)},'rotation':{'value':0x0},'map':{'value':null},'mapTransform':{'value':new _0x42bc67['dwI']()},'alphaMap':{'value':null},'alphaMapTransform':{'value':new _0x42bc67['dwI']()},'alphaTest':{'value':0x0}}},_0x335e00={'basic':{'uniforms':(0x0,_0x42bc67['Iit'])([_0x3719fd['common'],_0x3719fd['specularmap'],_0x3719fd['envmap'],_0x3719fd['aomap'],_0x3719fd['lightmap'],_0x3719fd['fog']]),'vertexShader':_0x2046f9['meshbasic_vert'],'fragmentShader':_0x2046f9['meshbasic_frag']},'lambert':{'uniforms':(0x0,_0x42bc67['Iit'])([_0x3719fd['common'],_0x3719fd['specularmap'],_0x3719fd['envmap'],_0x3719fd['aomap'],_0x3719fd['lightmap'],_0x3719fd['emissivemap'],_0x3719fd['bumpmap'],_0x3719fd['normalmap'],_0x3719fd['displacementmap'],_0x3719fd['fog'],_0x3719fd['lights'],{'emissive':{'value':new _0x42bc67['Q1f'](0x0)}}]),'vertexShader':_0x2046f9['meshlambert_vert'],'fragmentShader':_0x2046f9['meshlambert_frag']},'phong':{'uniforms':(0x0,_0x42bc67['Iit'])([_0x3719fd['common'],_0x3719fd['specularmap'],_0x3719fd['envmap'],_0x3719fd['aomap'],_0x3719fd['lightmap'],_0x3719fd['emissivemap'],_0x3719fd['bumpmap'],_0x3719fd['normalmap'],_0x3719fd['displacementmap'],_0x3719fd['fog'],_0x3719fd['lights'],{'emissive':{'value':new _0x42bc67['Q1f'](0x0)},'specular':{'value':new _0x42bc67['Q1f'](0x111111)},'shininess':{'value':0x1e}}]),'vertexShader':_0x2046f9['meshphong_vert'],'fragmentShader':_0x2046f9['meshphong_frag']},'standard':{'uniforms':(0x0,_0x42bc67['Iit'])([_0x3719fd['common'],_0x3719fd['envmap'],_0x3719fd['aomap'],_0x3719fd['lightmap'],_0x3719fd['emissivemap'],_0x3719fd['bumpmap'],_0x3719fd['normalmap'],_0x3719fd['displacementmap'],_0x3719fd['roughnessmap'],_0x3719fd['metalnessmap'],_0x3719fd['fog'],_0x3719fd['lights'],{'emissive':{'value':new _0x42bc67['Q1f'](0x0)},'roughness':{'value':0x1},'metalness':{'value':0x0},'envMapIntensity':{'value':0x1}}]),'vertexShader':_0x2046f9['meshphysical_vert'],'fragmentShader':_0x2046f9['meshphysical_frag']},'toon':{'uniforms':(0x0,_0x42bc67['Iit'])([_0x3719fd['common'],_0x3719fd['aomap'],_0x3719fd['lightmap'],_0x3719fd['emissivemap'],_0x3719fd['bumpmap'],_0x3719fd['normalmap'],_0x3719fd['displacementmap'],_0x3719fd['gradientmap'],_0x3719fd['fog'],_0x3719fd['lights'],{'emissive':{'value':new _0x42bc67['Q1f'](0x0)}}]),'vertexShader':_0x2046f9['meshtoon_vert'],'fragmentShader':_0x2046f9['meshtoon_frag']},'matcap':{'uniforms':(0x0,_0x42bc67['Iit'])([_0x3719fd['common'],_0x3719fd['bumpmap'],_0x3719fd['normalmap'],_0x3719fd['displacementmap'],_0x3719fd['fog'],{'matcap':{'value':null}}]),'vertexShader':_0x2046f9['meshmatcap_vert'],'fragmentShader':_0x2046f9['meshmatcap_frag']},'points':{'uniforms':(0x0,_0x42bc67['Iit'])([_0x3719fd['points'],_0x3719fd['fog']]),'vertexShader':_0x2046f9['points_vert'],'fragmentShader':_0x2046f9['points_frag']},'dashed':{'uniforms':(0x0,_0x42bc67['Iit'])([_0x3719fd['common'],_0x3719fd['fog'],{'scale':{'value':0x1},'dashSize':{'value':0x1},'totalSize':{'value':0x2}}]),'vertexShader':_0x2046f9['linedashed_vert'],'fragmentShader':_0x2046f9['linedashed_frag']},'depth':{'uniforms':(0x0,_0x42bc67['Iit'])([_0x3719fd['common'],_0x3719fd['displacementmap']]),'vertexShader':_0x2046f9['depth_vert'],'fragmentShader':_0x2046f9['depth_frag']},'normal':{'uniforms':(0x0,_0x42bc67['Iit'])([_0x3719fd['common'],_0x3719fd['bumpmap'],_0x3719fd['normalmap'],_0x3719fd['displacementmap'],{'opacity':{'value':0x1}}]),'vertexShader':_0x2046f9['meshnormal_vert'],'fragmentShader':_0x2046f9['meshnormal_frag']},'sprite':{'uniforms':(0x0,_0x42bc67['Iit'])([_0x3719fd['sprite'],_0x3719fd['fog']]),'vertexShader':_0x2046f9['sprite_vert'],'fragmentShader':_0x2046f9['sprite_frag']},'background':{'uniforms':{'uvTransform':{'value':new _0x42bc67['dwI']()},'t2D':{'value':null},'backgroundIntensity':{'value':0x1}},'vertexShader':_0x2046f9['background_vert'],'fragmentShader':_0x2046f9['background_frag']},'backgroundCube':{'uniforms':{'envMap':{'value':null},'flipEnvMap':{'value':-0x1},'backgroundBlurriness':{'value':0x0},'backgroundIntensity':{'value':0x1},'backgroundRotation':{'value':new _0x42bc67['dwI']()}},'vertexShader':_0x2046f9['backgroundCube_vert'],'fragmentShader':_0x2046f9['backgroundCube_frag']},'cube':{'uniforms':{'tCube':{'value':null},'tFlip':{'value':-0x1},'opacity':{'value':0x1}},'vertexShader':_0x2046f9['cube_vert'],'fragmentShader':_0x2046f9['cube_frag']},'equirect':{'uniforms':{'tEquirect':{'value':null}},'vertexShader':_0x2046f9['equirect_vert'],'fragmentShader':_0x2046f9['equirect_frag']},'distanceRGBA':{'uniforms':(0x0,_0x42bc67['Iit'])([_0x3719fd['common'],_0x3719fd['displacementmap'],{'referencePosition':{'value':new _0x42bc67['Pq0']()},'nearDistance':{'value':0x1},'farDistance':{'value':0x3e8}}]),'vertexShader':_0x2046f9['distanceRGBA_vert'],'fragmentShader':_0x2046f9['distanceRGBA_frag']},'shadow':{'uniforms':(0x0,_0x42bc67['Iit'])([_0x3719fd['lights'],_0x3719fd['fog'],{'color':{'value':new _0x42bc67['Q1f'](0x0)},'opacity':{'value':0x1}}]),'vertexShader':_0x2046f9['shadow_vert'],'fragmentShader':_0x2046f9['shadow_frag']}};_0x335e00['physical']={'uniforms':(0x0,_0x42bc67['Iit'])([_0x335e00['standard']['uniforms'],{'clearcoat':{'value':0x0},'clearcoatMap':{'value':null},'clearcoatMapTransform':{'value':new _0x42bc67['dwI']()},'clearcoatNormalMap':{'value':null},'clearcoatNormalMapTransform':{'value':new _0x42bc67['dwI']()},'clearcoatNormalScale':{'value':new _0x42bc67['I9Y'](0x1,0x1)},'clearcoatRoughness':{'value':0x0},'clearcoatRoughnessMap':{'value':null},'clearcoatRoughnessMapTransform':{'value':new _0x42bc67['dwI']()},'dispersion':{'value':0x0},'iridescence':{'value':0x0},'iridescenceMap':{'value':null},'iridescenceMapTransform':{'value':new _0x42bc67['dwI']()},'iridescenceIOR':{'value':1.3},'iridescenceThicknessMinimum':{'value':0x64},'iridescenceThicknessMaximum':{'value':0x190},'iridescenceThicknessMap':{'value':null},'iridescenceThicknessMapTransform':{'value':new _0x42bc67['dwI']()},'sheen':{'value':0x0},'sheenColor':{'value':new _0x42bc67['Q1f'](0x0)},'sheenColorMap':{'value':null},'sheenColorMapTransform':{'value':new _0x42bc67['dwI']()},'sheenRoughness':{'value':0x1},'sheenRoughnessMap':{'value':null},'sheenRoughnessMapTransform':{'value':new _0x42bc67['dwI']()},'transmission':{'value':0x0},'transmissionMap':{'value':null},'transmissionMapTransform':{'value':new _0x42bc67['dwI']()},'transmissionSamplerSize':{'value':new _0x42bc67['I9Y']()},'transmissionSamplerMap':{'value':null},'thickness':{'value':0x0},'thicknessMap':{'value':null},'thicknessMapTransform':{'value':new _0x42bc67['dwI']()},'attenuationDistance':{'value':0x0},'attenuationColor':{'value':new _0x42bc67['Q1f'](0x0)},'specularColor':{'value':new _0x42bc67['Q1f'](0x1,0x1,0x1)},'specularColorMap':{'value':null},'specularColorMapTransform':{'value':new _0x42bc67['dwI']()},'specularIntensity':{'value':0x1},'specularIntensityMap':{'value':null},'specularIntensityMapTransform':{'value':new _0x42bc67['dwI']()},'anisotropyVector':{'value':new _0x42bc67['I9Y']()},'anisotropyMap':{'value':null},'anisotropyMapTransform':{'value':new _0x42bc67['dwI']()}}]),'vertexShader':_0x2046f9['meshphysical_vert'],'fragmentShader':_0x2046f9['meshphysical_frag']};const _0x1acbc1={'r':0x0,'b':0x0,'g':0x0},_0x285492=new _0x42bc67['O9p'](),_0x92e4de=new _0x42bc67['kn4']();function _0x572e24(_0xe2c772,_0x182589,_0x1cc18e,_0x412360,_0x51de19,_0x46e983,_0x58b00c){const _0x3bda17=new _0x42bc67['Q1f'](0x0);let _0x52f488,_0xc17f89,_0x3f769b=!0x0===_0x46e983?0x0:0x1,_0x1b2b04=null,_0x5a227f=0x0,_0x3529f7=null;function _0x4d94fe(_0x4f6c35){let _0x4874ed=!0x0===_0x4f6c35['isScene']?_0x4f6c35['background']:null;return _0x4874ed&&_0x4874ed['isTexture']&&(_0x4874ed=(_0x4f6c35['backgroundBlurriness']>0x0?_0x1cc18e:_0x182589)['get'](_0x4874ed)),_0x4874ed;}function _0x2d8a7a(_0x284ff1,_0x58179d){_0x284ff1['getRGB'](_0x1acbc1,(0x0,_0x42bc67['_Ut'])(_0xe2c772)),_0x412360['buffers']['color']['setClear'](_0x1acbc1['r'],_0x1acbc1['g'],_0x1acbc1['b'],_0x58179d,_0x58b00c);}return{'getClearColor':function(){return _0x3bda17;},'setClearColor':function(_0x38bce3,_0x42b12e=0x1){_0x3bda17['set'](_0x38bce3),_0x3f769b=_0x42b12e,_0x2d8a7a(_0x3bda17,_0x3f769b);},'getClearAlpha':function(){return _0x3f769b;},'setClearAlpha':function(_0x23b68d){_0x3f769b=_0x23b68d,_0x2d8a7a(_0x3bda17,_0x3f769b);},'render':function(_0x3210db){let _0x8914ea=!0x1;const _0x378b0a=_0x4d94fe(_0x3210db);null===_0x378b0a?_0x2d8a7a(_0x3bda17,_0x3f769b):_0x378b0a&&_0x378b0a['isColor']&&(_0x2d8a7a(_0x378b0a,0x1),_0x8914ea=!0x0);const _0x2ca0b1=_0xe2c772['xr']['getEnvironmentBlendMode']();'additive'===_0x2ca0b1?_0x412360['buffers']['color']['setClear'](0x0,0x0,0x0,0x1,_0x58b00c):'alpha-blend'===_0x2ca0b1&&_0x412360['buffers']['color']['setClear'](0x0,0x0,0x0,0x0,_0x58b00c),(_0xe2c772['autoClear']||_0x8914ea)&&(_0x412360['buffers']['depth']['setTest'](!0x0),_0x412360['buffers']['depth']['setMask'](!0x0),_0x412360['buffers']['color']['setMask'](!0x0),_0xe2c772['clear'](_0xe2c772['autoClearColor'],_0xe2c772['autoClearDepth'],_0xe2c772['autoClearStencil']));},'addToRenderList':function(_0xd2cf7c,_0x4470e3){const _0x5cac43=_0x4d94fe(_0x4470e3);_0x5cac43&&(_0x5cac43['isCubeTexture']||_0x5cac43['mapping']===_0x42bc67['Om'])?(void 0x0===_0xc17f89&&(_0xc17f89=new _0x42bc67['eaF'](new _0x42bc67['iNn'](0x1,0x1,0x1),new _0x42bc67['BKk']({'name':'BackgroundCubeMaterial','uniforms':(0x0,_0x42bc67['lxW'])(_0x335e00['backgroundCube']['uniforms']),'vertexShader':_0x335e00['backgroundCube']['vertexShader'],'fragmentShader':_0x335e00['backgroundCube']['fragmentShader'],'side':_0x42bc67['hsX'],'depthTest':!0x1,'depthWrite':!0x1,'fog':!0x1})),_0xc17f89['geometry']['deleteAttribute']('normal'),_0xc17f89['geometry']['deleteAttribute']('uv'),_0xc17f89['onBeforeRender']=function(_0x17684f,_0x17c475,_0x34d345){this['matrixWorld']['copyPosition'](_0x34d345['matrixWorld']);},Object['defineProperty'](_0xc17f89['material'],'envMap',{'get':function(){return this['uniforms']['envMap']['value'];}}),_0x51de19['update'](_0xc17f89)),_0x285492['copy'](_0x4470e3['backgroundRotation']),_0x285492['x']*=-0x1,_0x285492['y']*=-0x1,_0x285492['z']*=-0x1,_0x5cac43['isCubeTexture']&&!0x1===_0x5cac43['isRenderTargetTexture']&&(_0x285492['y']*=-0x1,_0x285492['z']*=-0x1),_0xc17f89['material']['uniforms']['envMap']['value']=_0x5cac43,_0xc17f89['material']['uniforms']['flipEnvMap']['value']=_0x5cac43['isCubeTexture']&&!0x1===_0x5cac43['isRenderTargetTexture']?-0x1:0x1,_0xc17f89['material']['uniforms']['backgroundBlurriness']['value']=_0x4470e3['backgroundBlurriness'],_0xc17f89['material']['uniforms']['backgroundIntensity']['value']=_0x4470e3['backgroundIntensity'],_0xc17f89['material']['uniforms']['backgroundRotation']['value']['setFromMatrix4'](_0x92e4de['makeRotationFromEuler'](_0x285492)),_0xc17f89['material']['toneMapped']=_0x42bc67['ppV']['getTransfer'](_0x5cac43['colorSpace'])!==_0x42bc67['KLL'],_0x1b2b04===_0x5cac43&&_0x5a227f===_0x5cac43['version']&&_0x3529f7===_0xe2c772['toneMapping']||(_0xc17f89['material']['needsUpdate']=!0x0,_0x1b2b04=_0x5cac43,_0x5a227f=_0x5cac43['version'],_0x3529f7=_0xe2c772['toneMapping']),_0xc17f89['layers']['enableAll'](),_0xd2cf7c['unshift'](_0xc17f89,_0xc17f89['geometry'],_0xc17f89['material'],0x0,0x0,null)):_0x5cac43&&_0x5cac43['isTexture']&&(void 0x0===_0x52f488&&(_0x52f488=new _0x42bc67['eaF'](new _0x42bc67['bdM'](0x2,0x2),new _0x42bc67['BKk']({'name':'BackgroundMaterial','uniforms':(0x0,_0x42bc67['lxW'])(_0x335e00['background']['uniforms']),'vertexShader':_0x335e00['background']['vertexShader'],'fragmentShader':_0x335e00['background']['fragmentShader'],'side':_0x42bc67['hB5'],'depthTest':!0x1,'depthWrite':!0x1,'fog':!0x1})),_0x52f488['geometry']['deleteAttribute']('normal'),Object['defineProperty'](_0x52f488['material'],'map',{'get':function(){return this['uniforms']['t2D']['value'];}}),_0x51de19['update'](_0x52f488)),_0x52f488['material']['uniforms']['t2D']['value']=_0x5cac43,_0x52f488['material']['uniforms']['backgroundIntensity']['value']=_0x4470e3['backgroundIntensity'],_0x52f488['material']['toneMapped']=_0x42bc67['ppV']['getTransfer'](_0x5cac43['colorSpace'])!==_0x42bc67['KLL'],!0x0===_0x5cac43['matrixAutoUpdate']&&_0x5cac43['updateMatrix'](),_0x52f488['material']['uniforms']['uvTransform']['value']['copy'](_0x5cac43['matrix']),_0x1b2b04===_0x5cac43&&_0x5a227f===_0x5cac43['version']&&_0x3529f7===_0xe2c772['toneMapping']||(_0x52f488['material']['needsUpdate']=!0x0,_0x1b2b04=_0x5cac43,_0x5a227f=_0x5cac43['version'],_0x3529f7=_0xe2c772['toneMapping']),_0x52f488['layers']['enableAll'](),_0xd2cf7c['unshift'](_0x52f488,_0x52f488['geometry'],_0x52f488['material'],0x0,0x0,null));},'dispose':function(){void 0x0!==_0xc17f89&&(_0xc17f89['geometry']['dispose'](),_0xc17f89['material']['dispose']()),void 0x0!==_0x52f488&&(_0x52f488['geometry']['dispose'](),_0x52f488['material']['dispose']());}};}function _0x541fd5(_0x2dab86,_0x5f49c8){const _0xdc0b94=_0x2dab86['getParameter'](_0x2dab86['MAX_VERTEX_ATTRIBS']),_0x2a98c4={},_0x5f0f29=_0x14fe20(null);let _0x1adc86=_0x5f0f29,_0x499c2f=!0x1;function _0x5db764(_0x40de82){return _0x2dab86['bindVertexArray'](_0x40de82);}function _0x4538ff(_0x26b88f){return _0x2dab86['deleteVertexArray'](_0x26b88f);}function _0x14fe20(_0x121fad){const _0x284e7f=[],_0x3213c2=[],_0x33c0b0=[];for(let _0x265723=0x0;_0x265723<_0xdc0b94;_0x265723++)_0x284e7f[_0x265723]=0x0,_0x3213c2[_0x265723]=0x0,_0x33c0b0[_0x265723]=0x0;return{'geometry':null,'program':null,'wireframe':!0x1,'newAttributes':_0x284e7f,'enabledAttributes':_0x3213c2,'attributeDivisors':_0x33c0b0,'object':_0x121fad,'attributes':{},'index':null};}function _0x28780b(){const _0x26556a=_0x1adc86['newAttributes'];for(let _0x764830=0x0,_0x5e3a2e=_0x26556a['length'];_0x764830<_0x5e3a2e;_0x764830++)_0x26556a[_0x764830]=0x0;}function _0x282848(_0x1c6536){_0x1f3185(_0x1c6536,0x0);}function _0x1f3185(_0x457042,_0x3c12ac){const _0x5176c9=_0x1adc86['newAttributes'],_0x2fd058=_0x1adc86['enabledAttributes'],_0x308e50=_0x1adc86['attributeDivisors'];_0x5176c9[_0x457042]=0x1,0x0===_0x2fd058[_0x457042]&&(_0x2dab86['enableVertexAttribArray'](_0x457042),_0x2fd058[_0x457042]=0x1),_0x308e50[_0x457042]!==_0x3c12ac&&(_0x2dab86['vertexAttribDivisor'](_0x457042,_0x3c12ac),_0x308e50[_0x457042]=_0x3c12ac);}function _0x122218(){const _0xb745a0=_0x1adc86['newAttributes'],_0x378c62=_0x1adc86['enabledAttributes'];for(let _0x3ef5df=0x0,_0x299404=_0x378c62['length'];_0x3ef5df<_0x299404;_0x3ef5df++)_0x378c62[_0x3ef5df]!==_0xb745a0[_0x3ef5df]&&(_0x2dab86['disableVertexAttribArray'](_0x3ef5df),_0x378c62[_0x3ef5df]=0x0);}function _0x2b1b08(_0x50d880,_0x462a23,_0x2793c4,_0x28d28c,_0x3be561,_0x2e00c2,_0x591ea3){!0x0===_0x591ea3?_0x2dab86['vertexAttribIPointer'](_0x50d880,_0x462a23,_0x2793c4,_0x3be561,_0x2e00c2):_0x2dab86['vertexAttribPointer'](_0x50d880,_0x462a23,_0x2793c4,_0x28d28c,_0x3be561,_0x2e00c2);}function _0x63f979(){_0x13bf63(),_0x499c2f=!0x0,_0x1adc86!==_0x5f0f29&&(_0x1adc86=_0x5f0f29,_0x5db764(_0x1adc86['object']));}function _0x13bf63(){_0x5f0f29['geometry']=null,_0x5f0f29['program']=null,_0x5f0f29['wireframe']=!0x1;}return{'setup':function(_0x5b9e8a,_0x52dfb9,_0x3e1679,_0x3edbdf,_0x5f3261){let _0x2e52c5=!0x1;const _0x50f930=function(_0x3691ac,_0x3acd84,_0x1568bd){const _0x35b6f2=!0x0===_0x1568bd['wireframe'];let _0x19bfe4=_0x2a98c4[_0x3691ac['id']];void 0x0===_0x19bfe4&&(_0x19bfe4={},_0x2a98c4[_0x3691ac['id']]=_0x19bfe4);let _0x541f29=_0x19bfe4[_0x3acd84['id']];void 0x0===_0x541f29&&(_0x541f29={},_0x19bfe4[_0x3acd84['id']]=_0x541f29);let _0x94d819=_0x541f29[_0x35b6f2];return void 0x0===_0x94d819&&(_0x94d819=_0x14fe20(_0x2dab86['createVertexArray']()),_0x541f29[_0x35b6f2]=_0x94d819),_0x94d819;}(_0x3edbdf,_0x3e1679,_0x52dfb9);_0x1adc86!==_0x50f930&&(_0x1adc86=_0x50f930,_0x5db764(_0x1adc86['object'])),_0x2e52c5=function(_0x530f33,_0x29719e,_0x1ef6e7,_0x254d47){const _0x5b6076=_0x1adc86['attributes'],_0x562ddb=_0x29719e['attributes'];let _0x87435c=0x0;const _0x46e437=_0x1ef6e7['getAttributes']();for(const _0x17aea3 in _0x46e437){if(_0x46e437[_0x17aea3]['location']>=0x0){const _0x2407aa=_0x5b6076[_0x17aea3];let _0x1df4e5=_0x562ddb[_0x17aea3];if(void 0x0===_0x1df4e5&&('instanceMatrix'===_0x17aea3&&_0x530f33['instanceMatrix']&&(_0x1df4e5=_0x530f33['instanceMatrix']),'instanceColor'===_0x17aea3&&_0x530f33['instanceColor']&&(_0x1df4e5=_0x530f33['instanceColor'])),void 0x0===_0x2407aa)return!0x0;if(_0x2407aa['attribute']!==_0x1df4e5)return!0x0;if(_0x1df4e5&&_0x2407aa['data']!==_0x1df4e5['data'])return!0x0;_0x87435c++;}}return _0x1adc86['attributesNum']!==_0x87435c||_0x1adc86['index']!==_0x254d47;}(_0x5b9e8a,_0x3edbdf,_0x3e1679,_0x5f3261),_0x2e52c5&&function(_0x58ea5e,_0x12254f,_0x2cbdbe,_0x9602f2){const _0x35f2a8={},_0x195b51=_0x12254f['attributes'];let _0x5c8f66=0x0;const _0x3a68f=_0x2cbdbe['getAttributes']();for(const _0x4f1886 in _0x3a68f){if(_0x3a68f[_0x4f1886]['location']>=0x0){let _0x1cbae9=_0x195b51[_0x4f1886];void 0x0===_0x1cbae9&&('instanceMatrix'===_0x4f1886&&_0x58ea5e['instanceMatrix']&&(_0x1cbae9=_0x58ea5e['instanceMatrix']),'instanceColor'===_0x4f1886&&_0x58ea5e['instanceColor']&&(_0x1cbae9=_0x58ea5e['instanceColor']));const _0x58178a={};_0x58178a['attribute']=_0x1cbae9,_0x1cbae9&&_0x1cbae9['data']&&(_0x58178a['data']=_0x1cbae9['data']),_0x35f2a8[_0x4f1886]=_0x58178a,_0x5c8f66++;}}_0x1adc86['attributes']=_0x35f2a8,_0x1adc86['attributesNum']=_0x5c8f66,_0x1adc86['index']=_0x9602f2;}(_0x5b9e8a,_0x3edbdf,_0x3e1679,_0x5f3261),null!==_0x5f3261&&_0x5f49c8['update'](_0x5f3261,_0x2dab86['ELEMENT_ARRAY_BUFFER']),(_0x2e52c5||_0x499c2f)&&(_0x499c2f=!0x1,function(_0x26cd4f,_0x419ea8,_0x2004bd,_0x58154a){_0x28780b();const _0x30c639=_0x58154a['attributes'],_0x31f95b=_0x2004bd['getAttributes'](),_0x23a140=_0x419ea8['defaultAttributeValues'];for(const _0x5ce79d in _0x31f95b){const _0x27eead=_0x31f95b[_0x5ce79d];if(_0x27eead['location']>=0x0){let _0x4f30bf=_0x30c639[_0x5ce79d];if(void 0x0===_0x4f30bf&&('instanceMatrix'===_0x5ce79d&&_0x26cd4f['instanceMatrix']&&(_0x4f30bf=_0x26cd4f['instanceMatrix']),'instanceColor'===_0x5ce79d&&_0x26cd4f['instanceColor']&&(_0x4f30bf=_0x26cd4f['instanceColor'])),void 0x0!==_0x4f30bf){const _0xadec50=_0x4f30bf['normalized'],_0x49cfcf=_0x4f30bf['itemSize'],_0x9cb86f=_0x5f49c8['get'](_0x4f30bf);if(void 0x0===_0x9cb86f)continue;const _0x510a25=_0x9cb86f['buffer'],_0x5dfbc7=_0x9cb86f['type'],_0x4c3789=_0x9cb86f['bytesPerElement'],_0x3fe1f2=_0x5dfbc7===_0x2dab86['INT']||_0x5dfbc7===_0x2dab86['UNSIGNED_INT']||_0x4f30bf['gpuType']===_0x42bc67['Yuy'];if(_0x4f30bf['isInterleavedBufferAttribute']){const _0x588c4c=_0x4f30bf['data'],_0x52159b=_0x588c4c['stride'],_0x5d673a=_0x4f30bf['offset'];if(_0x588c4c['isInstancedInterleavedBuffer']){for(let _0x3014ad=0x0;_0x3014ad<_0x27eead['locationSize'];_0x3014ad++)_0x1f3185(_0x27eead['location']+_0x3014ad,_0x588c4c['meshPerAttribute']);!0x0!==_0x26cd4f['isInstancedMesh']&&void 0x0===_0x58154a['_maxInstanceCount']&&(_0x58154a['_maxInstanceCount']=_0x588c4c['meshPerAttribute']*_0x588c4c['count']);}else{for(let _0x194fe1=0x0;_0x194fe1<_0x27eead['locationSize'];_0x194fe1++)_0x282848(_0x27eead['location']+_0x194fe1);}_0x2dab86['bindBuffer'](_0x2dab86['ARRAY_BUFFER'],_0x510a25);for(let _0x50c9a0=0x0;_0x50c9a0<_0x27eead['locationSize'];_0x50c9a0++)_0x2b1b08(_0x27eead['location']+_0x50c9a0,_0x49cfcf/_0x27eead['locationSize'],_0x5dfbc7,_0xadec50,_0x52159b*_0x4c3789,(_0x5d673a+_0x49cfcf/_0x27eead['locationSize']*_0x50c9a0)*_0x4c3789,_0x3fe1f2);}else{if(_0x4f30bf['isInstancedBufferAttribute']){for(let _0x300422=0x0;_0x300422<_0x27eead['locationSize'];_0x300422++)_0x1f3185(_0x27eead['location']+_0x300422,_0x4f30bf['meshPerAttribute']);!0x0!==_0x26cd4f['isInstancedMesh']&&void 0x0===_0x58154a['_maxInstanceCount']&&(_0x58154a['_maxInstanceCount']=_0x4f30bf['meshPerAttribute']*_0x4f30bf['count']);}else{for(let _0x1c6379=0x0;_0x1c6379<_0x27eead['locationSize'];_0x1c6379++)_0x282848(_0x27eead['location']+_0x1c6379);}_0x2dab86['bindBuffer'](_0x2dab86['ARRAY_BUFFER'],_0x510a25);for(let _0xe4bcc3=0x0;_0xe4bcc3<_0x27eead['locationSize'];_0xe4bcc3++)_0x2b1b08(_0x27eead['location']+_0xe4bcc3,_0x49cfcf/_0x27eead['locationSize'],_0x5dfbc7,_0xadec50,_0x49cfcf*_0x4c3789,_0x49cfcf/_0x27eead['locationSize']*_0xe4bcc3*_0x4c3789,_0x3fe1f2);}}else{if(void 0x0!==_0x23a140){const _0xd43e1f=_0x23a140[_0x5ce79d];if(void 0x0!==_0xd43e1f)switch(_0xd43e1f['length']){case 0x2:_0x2dab86['vertexAttrib2fv'](_0x27eead['location'],_0xd43e1f);break;case 0x3:_0x2dab86['vertexAttrib3fv'](_0x27eead['location'],_0xd43e1f);break;case 0x4:_0x2dab86['vertexAttrib4fv'](_0x27eead['location'],_0xd43e1f);break;default:_0x2dab86['vertexAttrib1fv'](_0x27eead['location'],_0xd43e1f);}}}}}_0x122218();}(_0x5b9e8a,_0x52dfb9,_0x3e1679,_0x3edbdf),null!==_0x5f3261&&_0x2dab86['bindBuffer'](_0x2dab86['ELEMENT_ARRAY_BUFFER'],_0x5f49c8['get'](_0x5f3261)['buffer']));},'reset':_0x63f979,'resetDefaultState':_0x13bf63,'dispose':function(){_0x63f979();for(const _0x17f080 in _0x2a98c4){const _0x19c60f=_0x2a98c4[_0x17f080];for(const _0x1697ce in _0x19c60f){const _0x3ea34f=_0x19c60f[_0x1697ce];for(const _0x2e32c6 in _0x3ea34f)_0x4538ff(_0x3ea34f[_0x2e32c6]['object']),delete _0x3ea34f[_0x2e32c6];delete _0x19c60f[_0x1697ce];}delete _0x2a98c4[_0x17f080];}},'releaseStatesOfGeometry':function(_0x403beb){if(void 0x0===_0x2a98c4[_0x403beb['id']])return;const _0x4a3406=_0x2a98c4[_0x403beb['id']];for(const _0x45535f in _0x4a3406){const _0xb971d1=_0x4a3406[_0x45535f];for(const _0x23655a in _0xb971d1)_0x4538ff(_0xb971d1[_0x23655a]['object']),delete _0xb971d1[_0x23655a];delete _0x4a3406[_0x45535f];}delete _0x2a98c4[_0x403beb['id']];},'releaseStatesOfProgram':function(_0x50818e){for(const _0x3db5b7 in _0x2a98c4){const _0x856139=_0x2a98c4[_0x3db5b7];if(void 0x0===_0x856139[_0x50818e['id']])continue;const _0x3f936e=_0x856139[_0x50818e['id']];for(const _0x8a2e63 in _0x3f936e)_0x4538ff(_0x3f936e[_0x8a2e63]['object']),delete _0x3f936e[_0x8a2e63];delete _0x856139[_0x50818e['id']];}},'initAttributes':_0x28780b,'enableAttribute':_0x282848,'disableUnusedAttributes':_0x122218};}function _0x5395d7(_0x4420fe,_0x188373,_0x1e4e76){let _0x2aadd7;function _0x2ec41d(_0x373bc8,_0x52af05,_0x12ce73){0x0!==_0x12ce73&&(_0x4420fe['drawArraysInstanced'](_0x2aadd7,_0x373bc8,_0x52af05,_0x12ce73),_0x1e4e76['update'](_0x52af05,_0x2aadd7,_0x12ce73));}this['setMode']=function(_0x268504){_0x2aadd7=_0x268504;},this['render']=function(_0x26ee33,_0x407c62){_0x4420fe['drawArrays'](_0x2aadd7,_0x26ee33,_0x407c62),_0x1e4e76['update'](_0x407c62,_0x2aadd7,0x1);},this['renderInstances']=_0x2ec41d,this['renderMultiDraw']=function(_0x219dd8,_0x21327f,_0xadbd9){if(0x0===_0xadbd9)return;_0x188373['get']('WEBGL_multi_draw')['multiDrawArraysWEBGL'](_0x2aadd7,_0x219dd8,0x0,_0x21327f,0x0,_0xadbd9);let _0x4fe6d8=0x0;for(let _0x12c8e6=0x0;_0x12c8e6<_0xadbd9;_0x12c8e6++)_0x4fe6d8+=_0x21327f[_0x12c8e6];_0x1e4e76['update'](_0x4fe6d8,_0x2aadd7,0x1);},this['renderMultiDrawInstances']=function(_0x3300df,_0x5ed1c9,_0xb2681e,_0x3392ed){if(0x0===_0xb2681e)return;const _0x3d6c03=_0x188373['get']('WEBGL_multi_draw');if(null===_0x3d6c03){for(let _0x866a37=0x0;_0x866a37<_0x3300df['length'];_0x866a37++)_0x2ec41d(_0x3300df[_0x866a37],_0x5ed1c9[_0x866a37],_0x3392ed[_0x866a37]);}else{_0x3d6c03['multiDrawArraysInstancedWEBGL'](_0x2aadd7,_0x3300df,0x0,_0x5ed1c9,0x0,_0x3392ed,0x0,_0xb2681e);let _0x4afb6b=0x0;for(let _0x2aa4c4=0x0;_0x2aa4c4<_0xb2681e;_0x2aa4c4++)_0x4afb6b+=_0x5ed1c9[_0x2aa4c4]*_0x3392ed[_0x2aa4c4];_0x1e4e76['update'](_0x4afb6b,_0x2aadd7,0x1);}};}function _0x18d993(_0x3e92f1,_0x484f25,_0x151cc9,_0x49648c){let _0x1ccd26;function _0x7fba65(_0x8871c2){if('highp'===_0x8871c2){if(_0x3e92f1['getShaderPrecisionFormat'](_0x3e92f1['VERTEX_SHADER'],_0x3e92f1['HIGH_FLOAT'])['precision']>0x0&&_0x3e92f1['getShaderPrecisionFormat'](_0x3e92f1['FRAGMENT_SHADER'],_0x3e92f1['HIGH_FLOAT'])['precision']>0x0)return'highp';_0x8871c2='mediump';}return'mediump'===_0x8871c2&&_0x3e92f1['getShaderPrecisionFormat'](_0x3e92f1['VERTEX_SHADER'],_0x3e92f1['MEDIUM_FLOAT'])['precision']>0x0&&_0x3e92f1['getShaderPrecisionFormat'](_0x3e92f1['FRAGMENT_SHADER'],_0x3e92f1['MEDIUM_FLOAT'])['precision']>0x0?'mediump':'lowp';}let _0x5a928e=void 0x0!==_0x151cc9['precision']?_0x151cc9['precision']:'highp';const _0x20d968=_0x7fba65(_0x5a928e);_0x20d968!==_0x5a928e&&(console['warn']('THREE.WebGLRenderer:',_0x5a928e,'not\x20supported,\x20using',_0x20d968,'instead.'),_0x5a928e=_0x20d968);const _0x32bd08=!0x0===_0x151cc9['logarithmicDepthBuffer'],_0xffb20f=!0x0===_0x151cc9['reverseDepthBuffer']&&_0x484f25['has']('EXT_clip_control'),_0x16c07b=_0x3e92f1['getParameter'](_0x3e92f1['MAX_TEXTURE_IMAGE_UNITS']),_0x5dff4d=_0x3e92f1['getParameter'](_0x3e92f1['MAX_VERTEX_TEXTURE_IMAGE_UNITS']);return{'isWebGL2':!0x0,'getMaxAnisotropy':function(){if(void 0x0!==_0x1ccd26)return _0x1ccd26;if(!0x0===_0x484f25['has']('EXT_texture_filter_anisotropic')){const _0x2afc8c=_0x484f25['get']('EXT_texture_filter_anisotropic');_0x1ccd26=_0x3e92f1['getParameter'](_0x2afc8c['MAX_TEXTURE_MAX_ANISOTROPY_EXT']);}else _0x1ccd26=0x0;return _0x1ccd26;},'getMaxPrecision':_0x7fba65,'textureFormatReadable':function(_0x40b433){return _0x40b433===_0x42bc67['GWd']||_0x49648c['convert'](_0x40b433)===_0x3e92f1['getParameter'](_0x3e92f1['IMPLEMENTATION_COLOR_READ_FORMAT']);},'textureTypeReadable':function(_0x3523d8){const _0xde0130=_0x3523d8===_0x42bc67['ix0']&&(_0x484f25['has']('EXT_color_buffer_half_float')||_0x484f25['has']('EXT_color_buffer_float'));return!(_0x3523d8!==_0x42bc67['OUM']&&_0x49648c['convert'](_0x3523d8)!==_0x3e92f1['getParameter'](_0x3e92f1['IMPLEMENTATION_COLOR_READ_TYPE'])&&_0x3523d8!==_0x42bc67['RQf']&&!_0xde0130);},'precision':_0x5a928e,'logarithmicDepthBuffer':_0x32bd08,'reverseDepthBuffer':_0xffb20f,'maxTextures':_0x16c07b,'maxVertexTextures':_0x5dff4d,'maxTextureSize':_0x3e92f1['getParameter'](_0x3e92f1['MAX_TEXTURE_SIZE']),'maxCubemapSize':_0x3e92f1['getParameter'](_0x3e92f1['MAX_CUBE_MAP_TEXTURE_SIZE']),'maxAttributes':_0x3e92f1['getParameter'](_0x3e92f1['MAX_VERTEX_ATTRIBS']),'maxVertexUniforms':_0x3e92f1['getParameter'](_0x3e92f1['MAX_VERTEX_UNIFORM_VECTORS']),'maxVaryings':_0x3e92f1['getParameter'](_0x3e92f1['MAX_VARYING_VECTORS']),'maxFragmentUniforms':_0x3e92f1['getParameter'](_0x3e92f1['MAX_FRAGMENT_UNIFORM_VECTORS']),'vertexTextures':_0x5dff4d>0x0,'maxSamples':_0x3e92f1['getParameter'](_0x3e92f1['MAX_SAMPLES'])};}function _0x524d09(_0xdbf1a9){const _0x286311=this;let _0x5d1200=null,_0x37effa=0x0,_0x108342=!0x1,_0x5376a8=!0x1;const _0x321e04=new _0x42bc67['Zcv'](),_0x7570ae=new _0x42bc67['dwI'](),_0x64c22d={'value':null,'needsUpdate':!0x1};function _0x4f3505(_0x1f1a85,_0x5f58eb,_0x4a9775,_0x294a09){const _0x5be003=null!==_0x1f1a85?_0x1f1a85['length']:0x0;let _0x47a533=null;if(0x0!==_0x5be003){if(_0x47a533=_0x64c22d['value'],!0x0!==_0x294a09||null===_0x47a533){const _0x218b15=_0x4a9775+0x4*_0x5be003,_0x38222d=_0x5f58eb['matrixWorldInverse'];_0x7570ae['getNormalMatrix'](_0x38222d),(null===_0x47a533||_0x47a533['length']<_0x218b15)&&(_0x47a533=new Float32Array(_0x218b15));for(let _0x24ff47=0x0,_0x3a4217=_0x4a9775;_0x24ff47!==_0x5be003;++_0x24ff47,_0x3a4217+=0x4)_0x321e04['copy'](_0x1f1a85[_0x24ff47])['applyMatrix4'](_0x38222d,_0x7570ae),_0x321e04['normal']['toArray'](_0x47a533,_0x3a4217),_0x47a533[_0x3a4217+0x3]=_0x321e04['constant'];}_0x64c22d['value']=_0x47a533,_0x64c22d['needsUpdate']=!0x0;}return _0x286311['numPlanes']=_0x5be003,_0x286311['numIntersection']=0x0,_0x47a533;}this['uniform']=_0x64c22d,this['numPlanes']=0x0,this['numIntersection']=0x0,this['init']=function(_0x4fd820,_0xce8e9a){const _0x48f628=0x0!==_0x4fd820['length']||_0xce8e9a||0x0!==_0x37effa||_0x108342;return _0x108342=_0xce8e9a,_0x37effa=_0x4fd820['length'],_0x48f628;},this['beginShadows']=function(){_0x5376a8=!0x0,_0x4f3505(null);},this['endShadows']=function(){_0x5376a8=!0x1;},this['setGlobalState']=function(_0x521bfd,_0x27d7fe){_0x5d1200=_0x4f3505(_0x521bfd,_0x27d7fe,0x0);},this['setState']=function(_0xe94d5c,_0x485a0b,_0xef0fa5){const _0x418982=_0xe94d5c['clippingPlanes'],_0x3bce77=_0xe94d5c['clipIntersection'],_0x4acb48=_0xe94d5c['clipShadows'],_0x1bd745=_0xdbf1a9['get'](_0xe94d5c);if(!_0x108342||null===_0x418982||0x0===_0x418982['length']||_0x5376a8&&!_0x4acb48)_0x5376a8?_0x4f3505(null):(function(){_0x64c22d['value']!==_0x5d1200&&(_0x64c22d['value']=_0x5d1200,_0x64c22d['needsUpdate']=_0x37effa>0x0),(_0x286311['numPlanes']=_0x37effa,_0x286311['numIntersection']=0x0);}());else{const _0x1b9430=_0x5376a8?0x0:_0x37effa,_0x31d055=0x4*_0x1b9430;let _0x57024c=_0x1bd745['clippingState']||null;_0x64c22d['value']=_0x57024c,_0x57024c=_0x4f3505(_0x418982,_0x485a0b,_0x31d055,_0xef0fa5);for(let _0x4f8d9c=0x0;_0x4f8d9c!==_0x31d055;++_0x4f8d9c)_0x57024c[_0x4f8d9c]=_0x5d1200[_0x4f8d9c];_0x1bd745['clippingState']=_0x57024c,this['numIntersection']=_0x3bce77?this['numPlanes']:0x0,this['numPlanes']+=_0x1b9430;}};}function _0x8d0710(_0x277479){let _0x2b4a72=new WeakMap();function _0x386992(_0x40a25e,_0x5a2fc7){return _0x5a2fc7===_0x42bc67['wfO']?_0x40a25e['mapping']=_0x42bc67['hy7']:_0x5a2fc7===_0x42bc67['uV5']&&(_0x40a25e['mapping']=_0x42bc67['xFO']),_0x40a25e;}function _0x576422(_0x1c6638){const _0x5251ed=_0x1c6638['target'];_0x5251ed['removeEventListener']('dispose',_0x576422);const _0x1f9e11=_0x2b4a72['get'](_0x5251ed);void 0x0!==_0x1f9e11&&(_0x2b4a72['delete'](_0x5251ed),_0x1f9e11['dispose']());}return{'get':function(_0x1c9352){if(_0x1c9352&&_0x1c9352['isTexture']){const _0x11e779=_0x1c9352['mapping'];if(_0x11e779===_0x42bc67['wfO']||_0x11e779===_0x42bc67['uV5']){if(_0x2b4a72['has'](_0x1c9352))return _0x386992(_0x2b4a72['get'](_0x1c9352)['texture'],_0x1c9352['mapping']);{const _0x4a6448=_0x1c9352['image'];if(_0x4a6448&&_0x4a6448['height']>0x0){const _0x4fdf7a=new _0x42bc67['o6l'](_0x4a6448['height']);return _0x4fdf7a['fromEquirectangularTexture'](_0x277479,_0x1c9352),_0x2b4a72['set'](_0x1c9352,_0x4fdf7a),_0x1c9352['addEventListener']('dispose',_0x576422),_0x386992(_0x4fdf7a['texture'],_0x1c9352['mapping']);}return null;}}}return _0x1c9352;},'dispose':function(){_0x2b4a72=new WeakMap();}};}const _0x3da1dd=[0.125,0.215,0.35,0.446,0.526,0.582],_0xb2bbe6=0x14,_0x5d0963=new _0x42bc67['qUd'](),_0xaa0cee=new _0x42bc67['Q1f']();let _0x409e37=null,_0x2216de=0x0,_0x194c3e=0x0,_0x8a8258=!0x1;const _0x383315=(0x1+Math['sqrt'](0x5))/0x2,_0x5cd5a8=0x1/_0x383315,_0x49851b=[new _0x42bc67['Pq0'](-_0x383315,_0x5cd5a8,0x0),new _0x42bc67['Pq0'](_0x383315,_0x5cd5a8,0x0),new _0x42bc67['Pq0'](-_0x5cd5a8,0x0,_0x383315),new _0x42bc67['Pq0'](_0x5cd5a8,0x0,_0x383315),new _0x42bc67['Pq0'](0x0,_0x383315,-_0x5cd5a8),new _0x42bc67['Pq0'](0x0,_0x383315,_0x5cd5a8),new _0x42bc67['Pq0'](-0x1,0x1,-0x1),new _0x42bc67['Pq0'](0x1,0x1,-0x1),new _0x42bc67['Pq0'](-0x1,0x1,0x1),new _0x42bc67['Pq0'](0x1,0x1,0x1)];class _0x9c2eeb{constructor(_0x4e0a1e){this['_renderer']=_0x4e0a1e,this['_pingPongRenderTarget']=null,this['_lodMax']=0x0,this['_cubeSize']=0x0,this['_lodPlanes']=[],this['_sizeLods']=[],this['_sigmas']=[],this['_blurMaterial']=null,this['_cubemapMaterial']=null,this['_equirectMaterial']=null,this['_compileMaterial'](this['_blurMaterial']);}['fromScene'](_0x375a72,_0x8638bc=0x0,_0x119fd4=0.1,_0x3b1e62=0x64){_0x409e37=this['_renderer']['getRenderTarget'](),_0x2216de=this['_renderer']['getActiveCubeFace'](),_0x194c3e=this['_renderer']['getActiveMipmapLevel'](),_0x8a8258=this['_renderer']['xr']['enabled'],this['_renderer']['xr']['enabled']=!0x1,this['_setSize'](0x100);const _0x1cc55c=this['_allocateTargets']();return _0x1cc55c['depthBuffer']=!0x0,this['_sceneToCubeUV'](_0x375a72,_0x119fd4,_0x3b1e62,_0x1cc55c),_0x8638bc>0x0&&this['_blur'](_0x1cc55c,0x0,0x0,_0x8638bc),this['_applyPMREM'](_0x1cc55c),this['_cleanup'](_0x1cc55c),_0x1cc55c;}['fromEquirectangular'](_0x231449,_0x4d17a9=null){return this['_fromTexture'](_0x231449,_0x4d17a9);}['fromCubemap'](_0x12bd84,_0x3bfacf=null){return this['_fromTexture'](_0x12bd84,_0x3bfacf);}['compileCubemapShader'](){null===this['_cubemapMaterial']&&(this['_cubemapMaterial']=_0x3a6604(),this['_compileMaterial'](this['_cubemapMaterial']));}['compileEquirectangularShader'](){null===this['_equirectMaterial']&&(this['_equirectMaterial']=_0x3c6432(),this['_compileMaterial'](this['_equirectMaterial']));}['dispose'](){this['_dispose'](),null!==this['_cubemapMaterial']&&this['_cubemapMaterial']['dispose'](),null!==this['_equirectMaterial']&&this['_equirectMaterial']['dispose']();}['_setSize'](_0x22351e){this['_lodMax']=Math['floor'](Math['log2'](_0x22351e)),this['_cubeSize']=Math['pow'](0x2,this['_lodMax']);}['_dispose'](){null!==this['_blurMaterial']&&this['_blurMaterial']['dispose'](),null!==this['_pingPongRenderTarget']&&this['_pingPongRenderTarget']['dispose']();for(let _0x5c0d3c=0x0;_0x5c0d3c<this['_lodPlanes']['length'];_0x5c0d3c++)this['_lodPlanes'][_0x5c0d3c]['dispose']();}['_cleanup'](_0xaa0e2a){this['_renderer']['setRenderTarget'](_0x409e37,_0x2216de,_0x194c3e),this['_renderer']['xr']['enabled']=_0x8a8258,_0xaa0e2a['scissorTest']=!0x1,_0x5a5eaa(_0xaa0e2a,0x0,0x0,_0xaa0e2a['width'],_0xaa0e2a['height']);}['_fromTexture'](_0x4b1fca,_0x376216){_0x4b1fca['mapping']===_0x42bc67['hy7']||_0x4b1fca['mapping']===_0x42bc67['xFO']?this['_setSize'](0x0===_0x4b1fca['image']['length']?0x10:_0x4b1fca['image'][0x0]['width']||_0x4b1fca['image'][0x0]['image']['width']):this['_setSize'](_0x4b1fca['image']['width']/0x4),_0x409e37=this['_renderer']['getRenderTarget'](),_0x2216de=this['_renderer']['getActiveCubeFace'](),_0x194c3e=this['_renderer']['getActiveMipmapLevel'](),_0x8a8258=this['_renderer']['xr']['enabled'],this['_renderer']['xr']['enabled']=!0x1;const _0x573271=_0x376216||this['_allocateTargets']();return this['_textureToCubeUV'](_0x4b1fca,_0x573271),this['_applyPMREM'](_0x573271),this['_cleanup'](_0x573271),_0x573271;}['_allocateTargets'](){const _0x4ee003=0x3*Math['max'](this['_cubeSize'],0x70),_0x112de9=0x4*this['_cubeSize'],_0x7e7ca6={'magFilter':_0x42bc67['k6q'],'minFilter':_0x42bc67['k6q'],'generateMipmaps':!0x1,'type':_0x42bc67['ix0'],'format':_0x42bc67['GWd'],'colorSpace':_0x42bc67['Zr2'],'depthBuffer':!0x1},_0x227137=_0x216de9(_0x4ee003,_0x112de9,_0x7e7ca6);if(null===this['_pingPongRenderTarget']||this['_pingPongRenderTarget']['width']!==_0x4ee003||this['_pingPongRenderTarget']['height']!==_0x112de9){null!==this['_pingPongRenderTarget']&&this['_dispose'](),this['_pingPongRenderTarget']=_0x216de9(_0x4ee003,_0x112de9,_0x7e7ca6);const {_lodMax:_0x151900}=this;({sizeLods:this['_sizeLods'],lodPlanes:this['_lodPlanes'],sigmas:this['_sigmas']}=function(_0x3f9498){const _0x5a90ab=[],_0x50b7a0=[],_0x3631df=[];let _0x1a0b23=_0x3f9498;const _0x386aff=_0x3f9498-0x4+0x1+_0x3da1dd['length'];for(let _0x50e5a4=0x0;_0x50e5a4<_0x386aff;_0x50e5a4++){const _0x453ebb=Math['pow'](0x2,_0x1a0b23);_0x50b7a0['push'](_0x453ebb);let _0x27ea8e=0x1/_0x453ebb;_0x50e5a4>_0x3f9498-0x4?_0x27ea8e=_0x3da1dd[_0x50e5a4-_0x3f9498+0x4-0x1]:0x0===_0x50e5a4&&(_0x27ea8e=0x0),_0x3631df['push'](_0x27ea8e);const _0x29588c=0x1/(_0x453ebb-0x2),_0x447688=-_0x29588c,_0x413268=0x1+_0x29588c,_0x2b7bef=[_0x447688,_0x447688,_0x413268,_0x447688,_0x413268,_0x413268,_0x447688,_0x447688,_0x413268,_0x413268,_0x447688,_0x413268],_0x3bd038=0x6,_0x4b1c41=0x6,_0x31a0cc=0x3,_0x521e36=0x2,_0x9aea63=0x1,_0x585e1c=new Float32Array(_0x31a0cc*_0x4b1c41*_0x3bd038),_0x2cb733=new Float32Array(_0x521e36*_0x4b1c41*_0x3bd038),_0x1997ee=new Float32Array(_0x9aea63*_0x4b1c41*_0x3bd038);for(let _0x555e9b=0x0;_0x555e9b<_0x3bd038;_0x555e9b++){const _0x31135e=_0x555e9b%0x3*0x2/0x3-0x1,_0xe3b89e=_0x555e9b>0x2?0x0:-0x1,_0x1e8d65=[_0x31135e,_0xe3b89e,0x0,_0x31135e+0x2/0x3,_0xe3b89e,0x0,_0x31135e+0x2/0x3,_0xe3b89e+0x1,0x0,_0x31135e,_0xe3b89e,0x0,_0x31135e+0x2/0x3,_0xe3b89e+0x1,0x0,_0x31135e,_0xe3b89e+0x1,0x0];_0x585e1c['set'](_0x1e8d65,_0x31a0cc*_0x4b1c41*_0x555e9b),_0x2cb733['set'](_0x2b7bef,_0x521e36*_0x4b1c41*_0x555e9b);const _0x38c085=[_0x555e9b,_0x555e9b,_0x555e9b,_0x555e9b,_0x555e9b,_0x555e9b];_0x1997ee['set'](_0x38c085,_0x9aea63*_0x4b1c41*_0x555e9b);}const _0x409893=new _0x42bc67['LoY']();_0x409893['setAttribute']('position',new _0x42bc67['THS'](_0x585e1c,_0x31a0cc)),_0x409893['setAttribute']('uv',new _0x42bc67['THS'](_0x2cb733,_0x521e36)),_0x409893['setAttribute']('faceIndex',new _0x42bc67['THS'](_0x1997ee,_0x9aea63)),_0x5a90ab['push'](_0x409893),_0x1a0b23>0x4&&_0x1a0b23--;}return{'lodPlanes':_0x5a90ab,'sizeLods':_0x50b7a0,'sigmas':_0x3631df};}(_0x151900),this['_blurMaterial']=function(_0x4defa5,_0x388a09,_0x4bab03){const _0x5b5048=new Float32Array(_0xb2bbe6),_0x3c7917=new _0x42bc67['Pq0'](0x0,0x1,0x0),_0xb9f52e=new _0x42bc67['BKk']({'name':'SphericalGaussianBlur','defines':{'n':_0xb2bbe6,'CUBEUV_TEXEL_WIDTH':0x1/_0x388a09,'CUBEUV_TEXEL_HEIGHT':0x1/_0x4bab03,'CUBEUV_MAX_MIP':_0x4defa5+'.0'},'uniforms':{'envMap':{'value':null},'samples':{'value':0x1},'weights':{'value':_0x5b5048},'latitudinal':{'value':!0x1},'dTheta':{'value':0x0},'mipInt':{'value':0x0},'poleAxis':{'value':_0x3c7917}},'vertexShader':_0x1c0f56(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x09\x09\x09uniform\x20int\x20samples;\x0a\x09\x09\x09uniform\x20float\x20weights[\x20n\x20];\x0a\x09\x09\x09uniform\x20bool\x20latitudinal;\x0a\x09\x09\x09uniform\x20float\x20dTheta;\x0a\x09\x09\x09uniform\x20float\x20mipInt;\x0a\x09\x09\x09uniform\x20vec3\x20poleAxis;\x0a\x0a\x09\x09\x09#define\x20ENVMAP_TYPE_CUBE_UV\x0a\x09\x09\x09#include\x20<cube_uv_reflection_fragment>\x0a\x0a\x09\x09\x09vec3\x20getSample(\x20float\x20theta,\x20vec3\x20axis\x20)\x20{\x0a\x0a\x09\x09\x09\x09float\x20cosTheta\x20=\x20cos(\x20theta\x20);\x0a\x09\x09\x09\x09//\x20Rodrigues\x27\x20axis-angle\x20rotation\x0a\x09\x09\x09\x09vec3\x20sampleDirection\x20=\x20vOutputDirection\x20*\x20cosTheta\x0a\x09\x09\x09\x09\x09+\x20cross(\x20axis,\x20vOutputDirection\x20)\x20*\x20sin(\x20theta\x20)\x0a\x09\x09\x09\x09\x09+\x20axis\x20*\x20dot(\x20axis,\x20vOutputDirection\x20)\x20*\x20(\x201.0\x20-\x20cosTheta\x20);\x0a\x0a\x09\x09\x09\x09return\x20bilinearCubeUV(\x20envMap,\x20sampleDirection,\x20mipInt\x20);\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20axis\x20=\x20latitudinal\x20?\x20poleAxis\x20:\x20cross(\x20poleAxis,\x20vOutputDirection\x20);\x0a\x0a\x09\x09\x09\x09if\x20(\x20all(\x20equal(\x20axis,\x20vec3(\x200.0\x20)\x20)\x20)\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09axis\x20=\x20vec3(\x20vOutputDirection.z,\x200.0,\x20-\x20vOutputDirection.x\x20);\x0a\x0a\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09axis\x20=\x20normalize(\x20axis\x20);\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(\x200.0,\x200.0,\x200.0,\x201.0\x20);\x0a\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x200\x20]\x20*\x20getSample(\x200.0,\x20axis\x20);\x0a\x0a\x09\x09\x09\x09for\x20(\x20int\x20i\x20=\x201;\x20i\x20<\x20n;\x20i++\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09if\x20(\x20i\x20>=\x20samples\x20)\x20{\x0a\x0a\x09\x09\x09\x09\x09\x09break;\x0a\x0a\x09\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09\x09float\x20theta\x20=\x20dTheta\x20*\x20float(\x20i\x20);\x0a\x09\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x20i\x20]\x20*\x20getSample(\x20-1.0\x20*\x20theta,\x20axis\x20);\x0a\x09\x09\x09\x09\x09gl_FragColor.rgb\x20+=\x20weights[\x20i\x20]\x20*\x20getSample(\x20theta,\x20axis\x20);\x0a\x0a\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x42bc67['XIg'],'depthTest':!0x1,'depthWrite':!0x1});return _0xb9f52e;}(_0x151900,_0x4ee003,_0x112de9));}return _0x227137;}['_compileMaterial'](_0x1175d8){const _0x3c646f=new _0x42bc67['eaF'](this['_lodPlanes'][0x0],_0x1175d8);this['_renderer']['compile'](_0x3c646f,_0x5d0963);}['_sceneToCubeUV'](_0x1ed8fa,_0x558440,_0x21d8e,_0x8b6b71){const _0x572a53=new _0x42bc67['ubm'](0x5a,0x1,_0x558440,_0x21d8e),_0x2933be=[0x1,-0x1,0x1,0x1,0x1,0x1],_0x2ab674=[0x1,0x1,0x1,-0x1,-0x1,-0x1],_0x3a9e16=this['_renderer'],_0x5cd3a7=_0x3a9e16['autoClear'],_0x1f0caf=_0x3a9e16['toneMapping'];_0x3a9e16['getClearColor'](_0xaa0cee),_0x3a9e16['toneMapping']=_0x42bc67['y_p'],_0x3a9e16['autoClear']=!0x1;const _0x5a3d79=new _0x42bc67['V9B']({'name':'PMREM.Background','side':_0x42bc67['hsX'],'depthWrite':!0x1,'depthTest':!0x1}),_0x8f2aba=new _0x42bc67['eaF'](new _0x42bc67['iNn'](),_0x5a3d79);let _0x90267d=!0x1;const _0x30cfd1=_0x1ed8fa['background'];_0x30cfd1?_0x30cfd1['isColor']&&(_0x5a3d79['color']['copy'](_0x30cfd1),_0x1ed8fa['background']=null,_0x90267d=!0x0):(_0x5a3d79['color']['copy'](_0xaa0cee),_0x90267d=!0x0);for(let _0x450612=0x0;_0x450612<0x6;_0x450612++){const _0x42e057=_0x450612%0x3;0x0===_0x42e057?(_0x572a53['up']['set'](0x0,_0x2933be[_0x450612],0x0),_0x572a53['lookAt'](_0x2ab674[_0x450612],0x0,0x0)):0x1===_0x42e057?(_0x572a53['up']['set'](0x0,0x0,_0x2933be[_0x450612]),_0x572a53['lookAt'](0x0,_0x2ab674[_0x450612],0x0)):(_0x572a53['up']['set'](0x0,_0x2933be[_0x450612],0x0),_0x572a53['lookAt'](0x0,0x0,_0x2ab674[_0x450612]));const _0x380c42=this['_cubeSize'];_0x5a5eaa(_0x8b6b71,_0x42e057*_0x380c42,_0x450612>0x2?_0x380c42:0x0,_0x380c42,_0x380c42),_0x3a9e16['setRenderTarget'](_0x8b6b71),_0x90267d&&_0x3a9e16['render'](_0x8f2aba,_0x572a53),_0x3a9e16['render'](_0x1ed8fa,_0x572a53);}_0x8f2aba['geometry']['dispose'](),_0x8f2aba['material']['dispose'](),_0x3a9e16['toneMapping']=_0x1f0caf,_0x3a9e16['autoClear']=_0x5cd3a7,_0x1ed8fa['background']=_0x30cfd1;}['_textureToCubeUV'](_0x483cac,_0x3bfa42){const _0x6405bf=this['_renderer'],_0x43f16b=_0x483cac['mapping']===_0x42bc67['hy7']||_0x483cac['mapping']===_0x42bc67['xFO'];_0x43f16b?(null===this['_cubemapMaterial']&&(this['_cubemapMaterial']=_0x3a6604()),this['_cubemapMaterial']['uniforms']['flipEnvMap']['value']=!0x1===_0x483cac['isRenderTargetTexture']?-0x1:0x1):null===this['_equirectMaterial']&&(this['_equirectMaterial']=_0x3c6432());const _0x1079f4=_0x43f16b?this['_cubemapMaterial']:this['_equirectMaterial'],_0x1aaa5b=new _0x42bc67['eaF'](this['_lodPlanes'][0x0],_0x1079f4);_0x1079f4['uniforms']['envMap']['value']=_0x483cac;const _0x25bdc9=this['_cubeSize'];_0x5a5eaa(_0x3bfa42,0x0,0x0,0x3*_0x25bdc9,0x2*_0x25bdc9),_0x6405bf['setRenderTarget'](_0x3bfa42),_0x6405bf['render'](_0x1aaa5b,_0x5d0963);}['_applyPMREM'](_0xc23914){const _0x36d782=this['_renderer'],_0x2fb74c=_0x36d782['autoClear'];_0x36d782['autoClear']=!0x1;const _0x2fd967=this['_lodPlanes']['length'];for(let _0x140938=0x1;_0x140938<_0x2fd967;_0x140938++){const _0x196d41=Math['sqrt'](this['_sigmas'][_0x140938]*this['_sigmas'][_0x140938]-this['_sigmas'][_0x140938-0x1]*this['_sigmas'][_0x140938-0x1]),_0x4a686f=_0x49851b[(_0x2fd967-_0x140938-0x1)%_0x49851b['length']];this['_blur'](_0xc23914,_0x140938-0x1,_0x140938,_0x196d41,_0x4a686f);}_0x36d782['autoClear']=_0x2fb74c;}['_blur'](_0x12f5db,_0x459637,_0x40c305,_0xc8547,_0x378152){const _0x25ac72=this['_pingPongRenderTarget'];this['_halfBlur'](_0x12f5db,_0x25ac72,_0x459637,_0x40c305,_0xc8547,'latitudinal',_0x378152),this['_halfBlur'](_0x25ac72,_0x12f5db,_0x40c305,_0x40c305,_0xc8547,'longitudinal',_0x378152);}['_halfBlur'](_0x313b91,_0x3bb2fe,_0x1f768d,_0x8b008d,_0x33150a,_0x3a99e1,_0x44d2f6){const _0x3b0a81=this['_renderer'],_0x40e692=this['_blurMaterial'];'latitudinal'!==_0x3a99e1&&'longitudinal'!==_0x3a99e1&&console['error']('blur\x20direction\x20must\x20be\x20either\x20latitudinal\x20or\x20longitudinal!');const _0x459403=new _0x42bc67['eaF'](this['_lodPlanes'][_0x8b008d],_0x40e692),_0x45d6e6=_0x40e692['uniforms'],_0x34aeb6=this['_sizeLods'][_0x1f768d]-0x1,_0x3a7196=isFinite(_0x33150a)?Math['PI']/(0x2*_0x34aeb6):0x2*Math['PI']/0x27,_0x323ed9=_0x33150a/_0x3a7196,_0x3e0a0d=isFinite(_0x33150a)?0x1+Math['floor'](0x3*_0x323ed9):_0xb2bbe6;_0x3e0a0d>_0xb2bbe6&&console['warn']('sigmaRadians,\x20'+_0x33150a+',\x20is\x20too\x20large\x20and\x20will\x20clip,\x20as\x20it\x20requested\x20'+_0x3e0a0d+'\x20samples\x20when\x20the\x20maximum\x20is\x20set\x20to\x2020');const _0x5bb6e6=[];let _0x551d8b=0x0;for(let _0x4cfb7a=0x0;_0x4cfb7a<_0xb2bbe6;++_0x4cfb7a){const _0x5d856e=_0x4cfb7a/_0x323ed9,_0x3f3769=Math['exp'](-_0x5d856e*_0x5d856e/0x2);_0x5bb6e6['push'](_0x3f3769),0x0===_0x4cfb7a?_0x551d8b+=_0x3f3769:_0x4cfb7a<_0x3e0a0d&&(_0x551d8b+=0x2*_0x3f3769);}for(let _0x3ffb6f=0x0;_0x3ffb6f<_0x5bb6e6['length'];_0x3ffb6f++)_0x5bb6e6[_0x3ffb6f]=_0x5bb6e6[_0x3ffb6f]/_0x551d8b;_0x45d6e6['envMap']['value']=_0x313b91['texture'],_0x45d6e6['samples']['value']=_0x3e0a0d,_0x45d6e6['weights']['value']=_0x5bb6e6,_0x45d6e6['latitudinal']['value']='latitudinal'===_0x3a99e1,_0x44d2f6&&(_0x45d6e6['poleAxis']['value']=_0x44d2f6);const {_lodMax:_0x1eeb5a}=this;_0x45d6e6['dTheta']['value']=_0x3a7196,_0x45d6e6['mipInt']['value']=_0x1eeb5a-_0x1f768d;const _0x234bb9=this['_sizeLods'][_0x8b008d];_0x5a5eaa(_0x3bb2fe,0x3*_0x234bb9*(_0x8b008d>_0x1eeb5a-0x4?_0x8b008d-_0x1eeb5a+0x4:0x0),0x4*(this['_cubeSize']-_0x234bb9),0x3*_0x234bb9,0x2*_0x234bb9),_0x3b0a81['setRenderTarget'](_0x3bb2fe),_0x3b0a81['render'](_0x459403,_0x5d0963);}}function _0x216de9(_0x49a974,_0x4a863e,_0x4d0908){const _0xa03301=new _0x42bc67['nWS'](_0x49a974,_0x4a863e,_0x4d0908);return _0xa03301['texture']['mapping']=_0x42bc67['Om'],_0xa03301['texture']['name']='PMREM.cubeUv',_0xa03301['scissorTest']=!0x0,_0xa03301;}function _0x5a5eaa(_0x3b5e17,_0x3a5885,_0x915e5c,_0x4d9eb4,_0x321545){_0x3b5e17['viewport']['set'](_0x3a5885,_0x915e5c,_0x4d9eb4,_0x321545),_0x3b5e17['scissor']['set'](_0x3a5885,_0x915e5c,_0x4d9eb4,_0x321545);}function _0x3c6432(){return new _0x42bc67['BKk']({'name':'EquirectangularToCubeUV','uniforms':{'envMap':{'value':null}},'vertexShader':_0x1c0f56(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20sampler2D\x20envMap;\x0a\x0a\x09\x09\x09#include\x20<common>\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20outputDirection\x20=\x20normalize(\x20vOutputDirection\x20);\x0a\x09\x09\x09\x09vec2\x20uv\x20=\x20equirectUv(\x20outputDirection\x20);\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(\x20texture2D\x20(\x20envMap,\x20uv\x20).rgb,\x201.0\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x42bc67['XIg'],'depthTest':!0x1,'depthWrite':!0x1});}function _0x3a6604(){return new _0x42bc67['BKk']({'name':'CubemapToCubeUV','uniforms':{'envMap':{'value':null},'flipEnvMap':{'value':-0x1}},'vertexShader':_0x1c0f56(),'fragmentShader':'\x0a\x0a\x09\x09\x09precision\x20mediump\x20float;\x0a\x09\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09\x09uniform\x20float\x20flipEnvMap;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20textureCube(\x20envMap,\x20vec3(\x20flipEnvMap\x20*\x20vOutputDirection.x,\x20vOutputDirection.yz\x20)\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09','blending':_0x42bc67['XIg'],'depthTest':!0x1,'depthWrite':!0x1});}function _0x1c0f56(){return'\x0a\x0a\x09\x09precision\x20mediump\x20float;\x0a\x09\x09precision\x20mediump\x20int;\x0a\x0a\x09\x09attribute\x20float\x20faceIndex;\x0a\x0a\x09\x09varying\x20vec3\x20vOutputDirection;\x0a\x0a\x09\x09//\x20RH\x20coordinate\x20system;\x20PMREM\x20face-indexing\x20convention\x0a\x09\x09vec3\x20getDirection(\x20vec2\x20uv,\x20float\x20face\x20)\x20{\x0a\x0a\x09\x09\x09uv\x20=\x202.0\x20*\x20uv\x20-\x201.0;\x0a\x0a\x09\x09\x09vec3\x20direction\x20=\x20vec3(\x20uv,\x201.0\x20);\x0a\x0a\x09\x09\x09if\x20(\x20face\x20==\x200.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.zyx;\x20//\x20(\x201,\x20v,\x20u\x20)\x20pos\x20x\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x201.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.xzy;\x0a\x09\x09\x09\x09direction.xz\x20*=\x20-1.0;\x20//\x20(\x20-u,\x201,\x20-v\x20)\x20pos\x20y\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x202.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction.x\x20*=\x20-1.0;\x20//\x20(\x20-u,\x20v,\x201\x20)\x20pos\x20z\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x203.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.zyx;\x0a\x09\x09\x09\x09direction.xz\x20*=\x20-1.0;\x20//\x20(\x20-1,\x20v,\x20-u\x20)\x20neg\x20x\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x204.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction\x20=\x20direction.xzy;\x0a\x09\x09\x09\x09direction.xy\x20*=\x20-1.0;\x20//\x20(\x20-u,\x20-1,\x20v\x20)\x20neg\x20y\x0a\x0a\x09\x09\x09}\x20else\x20if\x20(\x20face\x20==\x205.0\x20)\x20{\x0a\x0a\x09\x09\x09\x09direction.z\x20*=\x20-1.0;\x20//\x20(\x20u,\x20v,\x20-1\x20)\x20neg\x20z\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09return\x20direction;\x0a\x0a\x09\x09}\x0a\x0a\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09vOutputDirection\x20=\x20getDirection(\x20uv,\x20faceIndex\x20);\x0a\x09\x09\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x0a\x09\x09}\x0a\x09';}function _0x79e95e(_0x5a465b){let _0x2f6e86=new WeakMap(),_0x388957=null;function _0x28a720(_0x8d48dd){const _0x583740=_0x8d48dd['target'];_0x583740['removeEventListener']('dispose',_0x28a720);const _0x16f15d=_0x2f6e86['get'](_0x583740);void 0x0!==_0x16f15d&&(_0x2f6e86['delete'](_0x583740),_0x16f15d['dispose']());}return{'get':function(_0x5ed35c){if(_0x5ed35c&&_0x5ed35c['isTexture']){const _0x4aeb73=_0x5ed35c['mapping'],_0x39d980=_0x4aeb73===_0x42bc67['wfO']||_0x4aeb73===_0x42bc67['uV5'],_0x4e5935=_0x4aeb73===_0x42bc67['hy7']||_0x4aeb73===_0x42bc67['xFO'];if(_0x39d980||_0x4e5935){let _0x44bcd2=_0x2f6e86['get'](_0x5ed35c);const _0x553b19=void 0x0!==_0x44bcd2?_0x44bcd2['texture']['pmremVersion']:0x0;if(_0x5ed35c['isRenderTargetTexture']&&_0x5ed35c['pmremVersion']!==_0x553b19)return null===_0x388957&&(_0x388957=new _0x9c2eeb(_0x5a465b)),_0x44bcd2=_0x39d980?_0x388957['fromEquirectangular'](_0x5ed35c,_0x44bcd2):_0x388957['fromCubemap'](_0x5ed35c,_0x44bcd2),_0x44bcd2['texture']['pmremVersion']=_0x5ed35c['pmremVersion'],_0x2f6e86['set'](_0x5ed35c,_0x44bcd2),_0x44bcd2['texture'];if(void 0x0!==_0x44bcd2)return _0x44bcd2['texture'];{const _0x40f458=_0x5ed35c['image'];return _0x39d980&&_0x40f458&&_0x40f458['height']>0x0||_0x4e5935&&_0x40f458&&function(_0x1ba7b3){let _0x7dcb32=0x0;const _0x17af76=0x6;for(let _0x57d29b=0x0;_0x57d29b<_0x17af76;_0x57d29b++)void 0x0!==_0x1ba7b3[_0x57d29b]&&_0x7dcb32++;return _0x7dcb32===_0x17af76;}(_0x40f458)?(null===_0x388957&&(_0x388957=new _0x9c2eeb(_0x5a465b)),_0x44bcd2=_0x39d980?_0x388957['fromEquirectangular'](_0x5ed35c):_0x388957['fromCubemap'](_0x5ed35c),_0x44bcd2['texture']['pmremVersion']=_0x5ed35c['pmremVersion'],_0x2f6e86['set'](_0x5ed35c,_0x44bcd2),_0x5ed35c['addEventListener']('dispose',_0x28a720),_0x44bcd2['texture']):null;}}}return _0x5ed35c;},'dispose':function(){_0x2f6e86=new WeakMap(),null!==_0x388957&&(_0x388957['dispose'](),_0x388957=null);}};}function _0x215d58(_0x4a6b29){const _0x1b4bb2={};function _0x15b341(_0x41b851){if(void 0x0!==_0x1b4bb2[_0x41b851])return _0x1b4bb2[_0x41b851];let _0x27f314;switch(_0x41b851){case'WEBGL_depth_texture':_0x27f314=_0x4a6b29['getExtension']('WEBGL_depth_texture')||_0x4a6b29['getExtension']('MOZ_WEBGL_depth_texture')||_0x4a6b29['getExtension']('WEBKIT_WEBGL_depth_texture');break;case'EXT_texture_filter_anisotropic':_0x27f314=_0x4a6b29['getExtension']('EXT_texture_filter_anisotropic')||_0x4a6b29['getExtension']('MOZ_EXT_texture_filter_anisotropic')||_0x4a6b29['getExtension']('WEBKIT_EXT_texture_filter_anisotropic');break;case'WEBGL_compressed_texture_s3tc':_0x27f314=_0x4a6b29['getExtension']('WEBGL_compressed_texture_s3tc')||_0x4a6b29['getExtension']('MOZ_WEBGL_compressed_texture_s3tc')||_0x4a6b29['getExtension']('WEBKIT_WEBGL_compressed_texture_s3tc');break;case'WEBGL_compressed_texture_pvrtc':_0x27f314=_0x4a6b29['getExtension']('WEBGL_compressed_texture_pvrtc')||_0x4a6b29['getExtension']('WEBKIT_WEBGL_compressed_texture_pvrtc');break;default:_0x27f314=_0x4a6b29['getExtension'](_0x41b851);}return _0x1b4bb2[_0x41b851]=_0x27f314,_0x27f314;}return{'has':function(_0x4f50e2){return null!==_0x15b341(_0x4f50e2);},'init':function(){_0x15b341('EXT_color_buffer_float'),_0x15b341('WEBGL_clip_cull_distance'),_0x15b341('OES_texture_float_linear'),_0x15b341('EXT_color_buffer_half_float'),_0x15b341('WEBGL_multisampled_render_to_texture'),_0x15b341('WEBGL_render_shared_exponent');},'get':function(_0xc42973){const _0x34d0d3=_0x15b341(_0xc42973);return null===_0x34d0d3&&(0x0,_0x42bc67['mcG'])('THREE.WebGLRenderer:\x20'+_0xc42973+'\x20extension\x20not\x20supported.'),_0x34d0d3;}};}function _0x3ded24(_0x189642,_0x225449,_0x45468e,_0x403dbf){const _0x2c899b={},_0x45b0c4=new WeakMap();function _0x3b0429(_0xd3473f){const _0xaffd26=_0xd3473f['target'];null!==_0xaffd26['index']&&_0x225449['remove'](_0xaffd26['index']);for(const _0x20dc33 in _0xaffd26['attributes'])_0x225449['remove'](_0xaffd26['attributes'][_0x20dc33]);_0xaffd26['removeEventListener']('dispose',_0x3b0429),delete _0x2c899b[_0xaffd26['id']];const _0x3c922c=_0x45b0c4['get'](_0xaffd26);_0x3c922c&&(_0x225449['remove'](_0x3c922c),_0x45b0c4['delete'](_0xaffd26)),_0x403dbf['releaseStatesOfGeometry'](_0xaffd26),!0x0===_0xaffd26['isInstancedBufferGeometry']&&delete _0xaffd26['_maxInstanceCount'],_0x45468e['memory']['geometries']--;}function _0x5eabdd(_0x56fedf){const _0x47ded4=[],_0x193c80=_0x56fedf['index'],_0x3f53d9=_0x56fedf['attributes']['position'];let _0x3707a1=0x0;if(null!==_0x193c80){const _0x569011=_0x193c80['array'];_0x3707a1=_0x193c80['version'];for(let _0x45bb0a=0x0,_0x1e3765=_0x569011['length'];_0x45bb0a<_0x1e3765;_0x45bb0a+=0x3){const _0x554ce4=_0x569011[_0x45bb0a+0x0],_0x54c191=_0x569011[_0x45bb0a+0x1],_0x432318=_0x569011[_0x45bb0a+0x2];_0x47ded4['push'](_0x554ce4,_0x54c191,_0x54c191,_0x432318,_0x432318,_0x554ce4);}}else{if(void 0x0===_0x3f53d9)return;{const _0x540cfc=_0x3f53d9['array'];_0x3707a1=_0x3f53d9['version'];for(let _0x395aad=0x0,_0xbc7a0f=_0x540cfc['length']/0x3-0x1;_0x395aad<_0xbc7a0f;_0x395aad+=0x3){const _0x338b6d=_0x395aad+0x0,_0x24e622=_0x395aad+0x1,_0x56861b=_0x395aad+0x2;_0x47ded4['push'](_0x338b6d,_0x24e622,_0x24e622,_0x56861b,_0x56861b,_0x338b6d);}}}const _0x4b8356=new(((0x0,_0x42bc67['AQS'])(_0x47ded4))?_0x42bc67['MW4']:_0x42bc67['A$4'])(_0x47ded4,0x1);_0x4b8356['version']=_0x3707a1;const _0x359330=_0x45b0c4['get'](_0x56fedf);_0x359330&&_0x225449['remove'](_0x359330),_0x45b0c4['set'](_0x56fedf,_0x4b8356);}return{'get':function(_0x3dc87b,_0x14158e){return!0x0===_0x2c899b[_0x14158e['id']]||(_0x14158e['addEventListener']('dispose',_0x3b0429),_0x2c899b[_0x14158e['id']]=!0x0,_0x45468e['memory']['geometries']++),_0x14158e;},'update':function(_0x41429d){const _0x2c8171=_0x41429d['attributes'];for(const _0x49377c in _0x2c8171)_0x225449['update'](_0x2c8171[_0x49377c],_0x189642['ARRAY_BUFFER']);},'getWireframeAttribute':function(_0x3cbf79){const _0x26afd3=_0x45b0c4['get'](_0x3cbf79);if(_0x26afd3){const _0x509b2f=_0x3cbf79['index'];null!==_0x509b2f&&_0x26afd3['version']<_0x509b2f['version']&&_0x5eabdd(_0x3cbf79);}else _0x5eabdd(_0x3cbf79);return _0x45b0c4['get'](_0x3cbf79);}};}function _0x52a728(_0xcdcabc,_0xb4f691,_0x454935){let _0x309f15,_0x3f5bdb,_0x5a97b5;function _0x77f2f6(_0x9d8f54,_0x3fe300,_0x10ebaf){0x0!==_0x10ebaf&&(_0xcdcabc['drawElementsInstanced'](_0x309f15,_0x3fe300,_0x3f5bdb,_0x9d8f54*_0x5a97b5,_0x10ebaf),_0x454935['update'](_0x3fe300,_0x309f15,_0x10ebaf));}this['setMode']=function(_0xfb0856){_0x309f15=_0xfb0856;},this['setIndex']=function(_0x26a575){_0x3f5bdb=_0x26a575['type'],_0x5a97b5=_0x26a575['bytesPerElement'];},this['render']=function(_0x321977,_0x21cc33){_0xcdcabc['drawElements'](_0x309f15,_0x21cc33,_0x3f5bdb,_0x321977*_0x5a97b5),_0x454935['update'](_0x21cc33,_0x309f15,0x1);},this['renderInstances']=_0x77f2f6,this['renderMultiDraw']=function(_0xe9ecf5,_0x1f3650,_0x517a47){if(0x0===_0x517a47)return;_0xb4f691['get']('WEBGL_multi_draw')['multiDrawElementsWEBGL'](_0x309f15,_0x1f3650,0x0,_0x3f5bdb,_0xe9ecf5,0x0,_0x517a47);let _0x242241=0x0;for(let _0x348e56=0x0;_0x348e56<_0x517a47;_0x348e56++)_0x242241+=_0x1f3650[_0x348e56];_0x454935['update'](_0x242241,_0x309f15,0x1);},this['renderMultiDrawInstances']=function(_0x5cb159,_0x36ab9c,_0x323b41,_0x1cf78c){if(0x0===_0x323b41)return;const _0x73b53b=_0xb4f691['get']('WEBGL_multi_draw');if(null===_0x73b53b){for(let _0x5efb58=0x0;_0x5efb58<_0x5cb159['length'];_0x5efb58++)_0x77f2f6(_0x5cb159[_0x5efb58]/_0x5a97b5,_0x36ab9c[_0x5efb58],_0x1cf78c[_0x5efb58]);}else{_0x73b53b['multiDrawElementsInstancedWEBGL'](_0x309f15,_0x36ab9c,0x0,_0x3f5bdb,_0x5cb159,0x0,_0x1cf78c,0x0,_0x323b41);let _0x4b9e8c=0x0;for(let _0xfb23c1=0x0;_0xfb23c1<_0x323b41;_0xfb23c1++)_0x4b9e8c+=_0x36ab9c[_0xfb23c1]*_0x1cf78c[_0xfb23c1];_0x454935['update'](_0x4b9e8c,_0x309f15,0x1);}};}function _0x3af3bd(_0x55ee4e){const _0x5e2c0d={'frame':0x0,'calls':0x0,'triangles':0x0,'points':0x0,'lines':0x0};return{'memory':{'geometries':0x0,'textures':0x0},'render':_0x5e2c0d,'programs':null,'autoReset':!0x0,'reset':function(){_0x5e2c0d['calls']=0x0,_0x5e2c0d['triangles']=0x0,_0x5e2c0d['points']=0x0,_0x5e2c0d['lines']=0x0;},'update':function(_0xc4660,_0x3b1305,_0x157447){switch(_0x5e2c0d['calls']++,_0x3b1305){case _0x55ee4e['TRIANGLES']:_0x5e2c0d['triangles']+=_0x157447*(_0xc4660/0x3);break;case _0x55ee4e['LINES']:_0x5e2c0d['lines']+=_0x157447*(_0xc4660/0x2);break;case _0x55ee4e['LINE_STRIP']:_0x5e2c0d['lines']+=_0x157447*(_0xc4660-0x1);break;case _0x55ee4e['LINE_LOOP']:_0x5e2c0d['lines']+=_0x157447*_0xc4660;break;case _0x55ee4e['POINTS']:_0x5e2c0d['points']+=_0x157447*_0xc4660;break;default:console['error']('THREE.WebGLInfo:\x20Unknown\x20draw\x20mode:',_0x3b1305);}}};}function _0x1beb5b(_0xee1f79,_0x16d505,_0x3492ed){const _0x714a41=new WeakMap(),_0x2615eb=new _0x42bc67['IUQ']();return{'update':function(_0x3ed605,_0x49d6e2,_0x40b6a8){const _0x1b5a3a=_0x3ed605['morphTargetInfluences'],_0x28fc39=_0x49d6e2['morphAttributes']['position']||_0x49d6e2['morphAttributes']['normal']||_0x49d6e2['morphAttributes']['color'],_0x44408b=void 0x0!==_0x28fc39?_0x28fc39['length']:0x0;let _0x1e8e34=_0x714a41['get'](_0x49d6e2);if(void 0x0===_0x1e8e34||_0x1e8e34['count']!==_0x44408b){void 0x0!==_0x1e8e34&&_0x1e8e34['texture']['dispose']();const _0x31597f=void 0x0!==_0x49d6e2['morphAttributes']['position'],_0x10e7c4=void 0x0!==_0x49d6e2['morphAttributes']['normal'],_0x2a33ba=void 0x0!==_0x49d6e2['morphAttributes']['color'],_0x2c4a95=_0x49d6e2['morphAttributes']['position']||[],_0x21a1f2=_0x49d6e2['morphAttributes']['normal']||[],_0x353ea8=_0x49d6e2['morphAttributes']['color']||[];let _0x1f316f=0x0;!0x0===_0x31597f&&(_0x1f316f=0x1),!0x0===_0x10e7c4&&(_0x1f316f=0x2),!0x0===_0x2a33ba&&(_0x1f316f=0x3);let _0x4eebf0=_0x49d6e2['attributes']['position']['count']*_0x1f316f,_0x525269=0x1;_0x4eebf0>_0x16d505['maxTextureSize']&&(_0x525269=Math['ceil'](_0x4eebf0/_0x16d505['maxTextureSize']),_0x4eebf0=_0x16d505['maxTextureSize']);const _0x3ef34d=new Float32Array(_0x4eebf0*_0x525269*0x4*_0x44408b),_0x32031d=new _0x42bc67['rFo'](_0x3ef34d,_0x4eebf0,_0x525269,_0x44408b);_0x32031d['type']=_0x42bc67['RQf'],_0x32031d['needsUpdate']=!0x0;const _0x28b910=0x4*_0x1f316f;for(let _0x26dcdd=0x0;_0x26dcdd<_0x44408b;_0x26dcdd++){const _0x33f8d4=_0x2c4a95[_0x26dcdd],_0x2db475=_0x21a1f2[_0x26dcdd],_0x2d2591=_0x353ea8[_0x26dcdd],_0x539bb2=_0x4eebf0*_0x525269*0x4*_0x26dcdd;for(let _0x9a0e7a=0x0;_0x9a0e7a<_0x33f8d4['count'];_0x9a0e7a++){const _0x39cccb=_0x9a0e7a*_0x28b910;!0x0===_0x31597f&&(_0x2615eb['fromBufferAttribute'](_0x33f8d4,_0x9a0e7a),_0x3ef34d[_0x539bb2+_0x39cccb+0x0]=_0x2615eb['x'],_0x3ef34d[_0x539bb2+_0x39cccb+0x1]=_0x2615eb['y'],_0x3ef34d[_0x539bb2+_0x39cccb+0x2]=_0x2615eb['z'],_0x3ef34d[_0x539bb2+_0x39cccb+0x3]=0x0),!0x0===_0x10e7c4&&(_0x2615eb['fromBufferAttribute'](_0x2db475,_0x9a0e7a),_0x3ef34d[_0x539bb2+_0x39cccb+0x4]=_0x2615eb['x'],_0x3ef34d[_0x539bb2+_0x39cccb+0x5]=_0x2615eb['y'],_0x3ef34d[_0x539bb2+_0x39cccb+0x6]=_0x2615eb['z'],_0x3ef34d[_0x539bb2+_0x39cccb+0x7]=0x0),!0x0===_0x2a33ba&&(_0x2615eb['fromBufferAttribute'](_0x2d2591,_0x9a0e7a),_0x3ef34d[_0x539bb2+_0x39cccb+0x8]=_0x2615eb['x'],_0x3ef34d[_0x539bb2+_0x39cccb+0x9]=_0x2615eb['y'],_0x3ef34d[_0x539bb2+_0x39cccb+0xa]=_0x2615eb['z'],_0x3ef34d[_0x539bb2+_0x39cccb+0xb]=0x4===_0x2d2591['itemSize']?_0x2615eb['w']:0x1);}}function _0x14ee62(){_0x32031d['dispose'](),_0x714a41['delete'](_0x49d6e2),_0x49d6e2['removeEventListener']('dispose',_0x14ee62);}_0x1e8e34={'count':_0x44408b,'texture':_0x32031d,'size':new _0x42bc67['I9Y'](_0x4eebf0,_0x525269)},_0x714a41['set'](_0x49d6e2,_0x1e8e34),_0x49d6e2['addEventListener']('dispose',_0x14ee62);}if(!0x0===_0x3ed605['isInstancedMesh']&&null!==_0x3ed605['morphTexture'])_0x40b6a8['getUniforms']()['setValue'](_0xee1f79,'morphTexture',_0x3ed605['morphTexture'],_0x3492ed);else{let _0x326a54=0x0;for(let _0x3217f6=0x0;_0x3217f6<_0x1b5a3a['length'];_0x3217f6++)_0x326a54+=_0x1b5a3a[_0x3217f6];const _0x33c932=_0x49d6e2['morphTargetsRelative']?0x1:0x1-_0x326a54;_0x40b6a8['getUniforms']()['setValue'](_0xee1f79,'morphTargetBaseInfluence',_0x33c932),_0x40b6a8['getUniforms']()['setValue'](_0xee1f79,'morphTargetInfluences',_0x1b5a3a);}_0x40b6a8['getUniforms']()['setValue'](_0xee1f79,'morphTargetsTexture',_0x1e8e34['texture'],_0x3492ed),_0x40b6a8['getUniforms']()['setValue'](_0xee1f79,'morphTargetsTextureSize',_0x1e8e34['size']);}};}function _0x2aa68a(_0x150a15,_0x4354f8,_0x101996,_0x3d174f){let _0x43cb04=new WeakMap();function _0x13effe(_0x426cf3){const _0x50a5aa=_0x426cf3['target'];_0x50a5aa['removeEventListener']('dispose',_0x13effe),_0x101996['remove'](_0x50a5aa['instanceMatrix']),null!==_0x50a5aa['instanceColor']&&_0x101996['remove'](_0x50a5aa['instanceColor']);}return{'update':function(_0xf0f215){const _0x161284=_0x3d174f['render']['frame'],_0x63c232=_0xf0f215['geometry'],_0x2b09cd=_0x4354f8['get'](_0xf0f215,_0x63c232);if(_0x43cb04['get'](_0x2b09cd)!==_0x161284&&(_0x4354f8['update'](_0x2b09cd),_0x43cb04['set'](_0x2b09cd,_0x161284)),_0xf0f215['isInstancedMesh']&&(!0x1===_0xf0f215['hasEventListener']('dispose',_0x13effe)&&_0xf0f215['addEventListener']('dispose',_0x13effe),_0x43cb04['get'](_0xf0f215)!==_0x161284&&(_0x101996['update'](_0xf0f215['instanceMatrix'],_0x150a15['ARRAY_BUFFER']),null!==_0xf0f215['instanceColor']&&_0x101996['update'](_0xf0f215['instanceColor'],_0x150a15['ARRAY_BUFFER']),_0x43cb04['set'](_0xf0f215,_0x161284))),_0xf0f215['isSkinnedMesh']){const _0x524f9d=_0xf0f215['skeleton'];_0x43cb04['get'](_0x524f9d)!==_0x161284&&(_0x524f9d['update'](),_0x43cb04['set'](_0x524f9d,_0x161284));}return _0x2b09cd;},'dispose':function(){_0x43cb04=new WeakMap();}};}const _0x9aa5dd=new _0x42bc67['gPd'](),_0x53bea7=new _0x42bc67['VCu'](0x1,0x1),_0x28b4d2=new _0x42bc67['rFo'](),_0x3120af=new _0x42bc67['dYF'](),_0xc4e4fa=new _0x42bc67['b4q'](),_0x445735=[],_0x33ed02=[],_0x917efe=new Float32Array(0x10),_0x29a186=new Float32Array(0x9),_0x36ca98=new Float32Array(0x4);function _0x4826a8(_0xf5344,_0x28fe16,_0x201e05){const _0x32b36e=_0xf5344[0x0];if(_0x32b36e<=0x0||_0x32b36e>0x0)return _0xf5344;const _0x5a054f=_0x28fe16*_0x201e05;let _0x7eff9c=_0x445735[_0x5a054f];if(void 0x0===_0x7eff9c&&(_0x7eff9c=new Float32Array(_0x5a054f),_0x445735[_0x5a054f]=_0x7eff9c),0x0!==_0x28fe16){_0x32b36e['toArray'](_0x7eff9c,0x0);for(let _0x5e2b42=0x1,_0x57629e=0x0;_0x5e2b42!==_0x28fe16;++_0x5e2b42)_0x57629e+=_0x201e05,_0xf5344[_0x5e2b42]['toArray'](_0x7eff9c,_0x57629e);}return _0x7eff9c;}function _0xa2b504(_0x54c2c1,_0x18d445){if(_0x54c2c1['length']!==_0x18d445['length'])return!0x1;for(let _0x6f72b6=0x0,_0x32770=_0x54c2c1['length'];_0x6f72b6<_0x32770;_0x6f72b6++)if(_0x54c2c1[_0x6f72b6]!==_0x18d445[_0x6f72b6])return!0x1;return!0x0;}function _0x3f6192(_0x2719f2,_0xc12650){for(let _0x27cb75=0x0,_0x16f1ba=_0xc12650['length'];_0x27cb75<_0x16f1ba;_0x27cb75++)_0x2719f2[_0x27cb75]=_0xc12650[_0x27cb75];}function _0x2d61e7(_0x1b98c5,_0x76ec7d){let _0x597546=_0x33ed02[_0x76ec7d];void 0x0===_0x597546&&(_0x597546=new Int32Array(_0x76ec7d),_0x33ed02[_0x76ec7d]=_0x597546);for(let _0x486a6d=0x0;_0x486a6d!==_0x76ec7d;++_0x486a6d)_0x597546[_0x486a6d]=_0x1b98c5['allocateTextureUnit']();return _0x597546;}function _0x3c8af6(_0x19c76f,_0x33ac73){const _0x1907c0=this['cache'];_0x1907c0[0x0]!==_0x33ac73&&(_0x19c76f['uniform1f'](this['addr'],_0x33ac73),_0x1907c0[0x0]=_0x33ac73);}function _0x19305a(_0x30783a,_0x4b2ce1){const _0x2cd621=this['cache'];if(void 0x0!==_0x4b2ce1['x'])_0x2cd621[0x0]===_0x4b2ce1['x']&&_0x2cd621[0x1]===_0x4b2ce1['y']||(_0x30783a['uniform2f'](this['addr'],_0x4b2ce1['x'],_0x4b2ce1['y']),_0x2cd621[0x0]=_0x4b2ce1['x'],_0x2cd621[0x1]=_0x4b2ce1['y']);else{if(_0xa2b504(_0x2cd621,_0x4b2ce1))return;_0x30783a['uniform2fv'](this['addr'],_0x4b2ce1),_0x3f6192(_0x2cd621,_0x4b2ce1);}}function _0x5dc0aa(_0x5ec4be,_0xd62bf5){const _0x368958=this['cache'];if(void 0x0!==_0xd62bf5['x'])_0x368958[0x0]===_0xd62bf5['x']&&_0x368958[0x1]===_0xd62bf5['y']&&_0x368958[0x2]===_0xd62bf5['z']||(_0x5ec4be['uniform3f'](this['addr'],_0xd62bf5['x'],_0xd62bf5['y'],_0xd62bf5['z']),_0x368958[0x0]=_0xd62bf5['x'],_0x368958[0x1]=_0xd62bf5['y'],_0x368958[0x2]=_0xd62bf5['z']);else{if(void 0x0!==_0xd62bf5['r'])_0x368958[0x0]===_0xd62bf5['r']&&_0x368958[0x1]===_0xd62bf5['g']&&_0x368958[0x2]===_0xd62bf5['b']||(_0x5ec4be['uniform3f'](this['addr'],_0xd62bf5['r'],_0xd62bf5['g'],_0xd62bf5['b']),_0x368958[0x0]=_0xd62bf5['r'],_0x368958[0x1]=_0xd62bf5['g'],_0x368958[0x2]=_0xd62bf5['b']);else{if(_0xa2b504(_0x368958,_0xd62bf5))return;_0x5ec4be['uniform3fv'](this['addr'],_0xd62bf5),_0x3f6192(_0x368958,_0xd62bf5);}}}function _0x11611e(_0x1df287,_0x329b53){const _0x5065ec=this['cache'];if(void 0x0!==_0x329b53['x'])_0x5065ec[0x0]===_0x329b53['x']&&_0x5065ec[0x1]===_0x329b53['y']&&_0x5065ec[0x2]===_0x329b53['z']&&_0x5065ec[0x3]===_0x329b53['w']||(_0x1df287['uniform4f'](this['addr'],_0x329b53['x'],_0x329b53['y'],_0x329b53['z'],_0x329b53['w']),_0x5065ec[0x0]=_0x329b53['x'],_0x5065ec[0x1]=_0x329b53['y'],_0x5065ec[0x2]=_0x329b53['z'],_0x5065ec[0x3]=_0x329b53['w']);else{if(_0xa2b504(_0x5065ec,_0x329b53))return;_0x1df287['uniform4fv'](this['addr'],_0x329b53),_0x3f6192(_0x5065ec,_0x329b53);}}function _0x4dd70c(_0x38f2aa,_0x2d9b8f){const _0xff256a=this['cache'],_0x21b6f1=_0x2d9b8f['elements'];if(void 0x0===_0x21b6f1){if(_0xa2b504(_0xff256a,_0x2d9b8f))return;_0x38f2aa['uniformMatrix2fv'](this['addr'],!0x1,_0x2d9b8f),_0x3f6192(_0xff256a,_0x2d9b8f);}else{if(_0xa2b504(_0xff256a,_0x21b6f1))return;_0x36ca98['set'](_0x21b6f1),_0x38f2aa['uniformMatrix2fv'](this['addr'],!0x1,_0x36ca98),_0x3f6192(_0xff256a,_0x21b6f1);}}function _0x42204b(_0x48394c,_0x1770c2){const _0x59aca3=this['cache'],_0x577def=_0x1770c2['elements'];if(void 0x0===_0x577def){if(_0xa2b504(_0x59aca3,_0x1770c2))return;_0x48394c['uniformMatrix3fv'](this['addr'],!0x1,_0x1770c2),_0x3f6192(_0x59aca3,_0x1770c2);}else{if(_0xa2b504(_0x59aca3,_0x577def))return;_0x29a186['set'](_0x577def),_0x48394c['uniformMatrix3fv'](this['addr'],!0x1,_0x29a186),_0x3f6192(_0x59aca3,_0x577def);}}function _0x362d8f(_0x1eda18,_0x44036a){const _0x2ffe3e=this['cache'],_0x3975e3=_0x44036a['elements'];if(void 0x0===_0x3975e3){if(_0xa2b504(_0x2ffe3e,_0x44036a))return;_0x1eda18['uniformMatrix4fv'](this['addr'],!0x1,_0x44036a),_0x3f6192(_0x2ffe3e,_0x44036a);}else{if(_0xa2b504(_0x2ffe3e,_0x3975e3))return;_0x917efe['set'](_0x3975e3),_0x1eda18['uniformMatrix4fv'](this['addr'],!0x1,_0x917efe),_0x3f6192(_0x2ffe3e,_0x3975e3);}}function _0x22d346(_0x1eac20,_0x1cc3d8){const _0x5a705a=this['cache'];_0x5a705a[0x0]!==_0x1cc3d8&&(_0x1eac20['uniform1i'](this['addr'],_0x1cc3d8),_0x5a705a[0x0]=_0x1cc3d8);}function _0x36219e(_0x3ac07a,_0xaf2b63){const _0x428b97=this['cache'];if(void 0x0!==_0xaf2b63['x'])_0x428b97[0x0]===_0xaf2b63['x']&&_0x428b97[0x1]===_0xaf2b63['y']||(_0x3ac07a['uniform2i'](this['addr'],_0xaf2b63['x'],_0xaf2b63['y']),_0x428b97[0x0]=_0xaf2b63['x'],_0x428b97[0x1]=_0xaf2b63['y']);else{if(_0xa2b504(_0x428b97,_0xaf2b63))return;_0x3ac07a['uniform2iv'](this['addr'],_0xaf2b63),_0x3f6192(_0x428b97,_0xaf2b63);}}function _0x54bcde(_0x412394,_0x1020fa){const _0x47d0dd=this['cache'];if(void 0x0!==_0x1020fa['x'])_0x47d0dd[0x0]===_0x1020fa['x']&&_0x47d0dd[0x1]===_0x1020fa['y']&&_0x47d0dd[0x2]===_0x1020fa['z']||(_0x412394['uniform3i'](this['addr'],_0x1020fa['x'],_0x1020fa['y'],_0x1020fa['z']),_0x47d0dd[0x0]=_0x1020fa['x'],_0x47d0dd[0x1]=_0x1020fa['y'],_0x47d0dd[0x2]=_0x1020fa['z']);else{if(_0xa2b504(_0x47d0dd,_0x1020fa))return;_0x412394['uniform3iv'](this['addr'],_0x1020fa),_0x3f6192(_0x47d0dd,_0x1020fa);}}function _0x599de4(_0x386932,_0x21f517){const _0xe3e9a=this['cache'];if(void 0x0!==_0x21f517['x'])_0xe3e9a[0x0]===_0x21f517['x']&&_0xe3e9a[0x1]===_0x21f517['y']&&_0xe3e9a[0x2]===_0x21f517['z']&&_0xe3e9a[0x3]===_0x21f517['w']||(_0x386932['uniform4i'](this['addr'],_0x21f517['x'],_0x21f517['y'],_0x21f517['z'],_0x21f517['w']),_0xe3e9a[0x0]=_0x21f517['x'],_0xe3e9a[0x1]=_0x21f517['y'],_0xe3e9a[0x2]=_0x21f517['z'],_0xe3e9a[0x3]=_0x21f517['w']);else{if(_0xa2b504(_0xe3e9a,_0x21f517))return;_0x386932['uniform4iv'](this['addr'],_0x21f517),_0x3f6192(_0xe3e9a,_0x21f517);}}function _0x48e6f7(_0x1a2f49,_0x17e7e3){const _0x2f9c6b=this['cache'];_0x2f9c6b[0x0]!==_0x17e7e3&&(_0x1a2f49['uniform1ui'](this['addr'],_0x17e7e3),_0x2f9c6b[0x0]=_0x17e7e3);}function _0x5b6424(_0x110d12,_0x632375){const _0x2160b2=this['cache'];if(void 0x0!==_0x632375['x'])_0x2160b2[0x0]===_0x632375['x']&&_0x2160b2[0x1]===_0x632375['y']||(_0x110d12['uniform2ui'](this['addr'],_0x632375['x'],_0x632375['y']),_0x2160b2[0x0]=_0x632375['x'],_0x2160b2[0x1]=_0x632375['y']);else{if(_0xa2b504(_0x2160b2,_0x632375))return;_0x110d12['uniform2uiv'](this['addr'],_0x632375),_0x3f6192(_0x2160b2,_0x632375);}}function _0x10d742(_0x227bbf,_0x132cdf){const _0x5e0e8c=this['cache'];if(void 0x0!==_0x132cdf['x'])_0x5e0e8c[0x0]===_0x132cdf['x']&&_0x5e0e8c[0x1]===_0x132cdf['y']&&_0x5e0e8c[0x2]===_0x132cdf['z']||(_0x227bbf['uniform3ui'](this['addr'],_0x132cdf['x'],_0x132cdf['y'],_0x132cdf['z']),_0x5e0e8c[0x0]=_0x132cdf['x'],_0x5e0e8c[0x1]=_0x132cdf['y'],_0x5e0e8c[0x2]=_0x132cdf['z']);else{if(_0xa2b504(_0x5e0e8c,_0x132cdf))return;_0x227bbf['uniform3uiv'](this['addr'],_0x132cdf),_0x3f6192(_0x5e0e8c,_0x132cdf);}}function _0x350413(_0x56333b,_0x583d9d){const _0x2f32c3=this['cache'];if(void 0x0!==_0x583d9d['x'])_0x2f32c3[0x0]===_0x583d9d['x']&&_0x2f32c3[0x1]===_0x583d9d['y']&&_0x2f32c3[0x2]===_0x583d9d['z']&&_0x2f32c3[0x3]===_0x583d9d['w']||(_0x56333b['uniform4ui'](this['addr'],_0x583d9d['x'],_0x583d9d['y'],_0x583d9d['z'],_0x583d9d['w']),_0x2f32c3[0x0]=_0x583d9d['x'],_0x2f32c3[0x1]=_0x583d9d['y'],_0x2f32c3[0x2]=_0x583d9d['z'],_0x2f32c3[0x3]=_0x583d9d['w']);else{if(_0xa2b504(_0x2f32c3,_0x583d9d))return;_0x56333b['uniform4uiv'](this['addr'],_0x583d9d),_0x3f6192(_0x2f32c3,_0x583d9d);}}function _0x13a181(_0x2a38b,_0x564bc0,_0x3db791){const _0x15ecec=this['cache'],_0x51bf8a=_0x3db791['allocateTextureUnit']();let _0x42efaa;_0x15ecec[0x0]!==_0x51bf8a&&(_0x2a38b['uniform1i'](this['addr'],_0x51bf8a),_0x15ecec[0x0]=_0x51bf8a),this['type']===_0x2a38b['SAMPLER_2D_SHADOW']?(_0x53bea7['compareFunction']=_0x42bc67['TiK'],_0x42efaa=_0x53bea7):_0x42efaa=_0x9aa5dd,_0x3db791['setTexture2D'](_0x564bc0||_0x42efaa,_0x51bf8a);}function _0x2ddd2f(_0x2c2233,_0x4879ae,_0x42fb5c){const _0x53b8ad=this['cache'],_0x45d5fc=_0x42fb5c['allocateTextureUnit']();_0x53b8ad[0x0]!==_0x45d5fc&&(_0x2c2233['uniform1i'](this['addr'],_0x45d5fc),_0x53b8ad[0x0]=_0x45d5fc),_0x42fb5c['setTexture3D'](_0x4879ae||_0x3120af,_0x45d5fc);}function _0x190536(_0xe91dd2,_0x56948f,_0x281b1e){const _0x2f15a3=this['cache'],_0xcf58a9=_0x281b1e['allocateTextureUnit']();_0x2f15a3[0x0]!==_0xcf58a9&&(_0xe91dd2['uniform1i'](this['addr'],_0xcf58a9),_0x2f15a3[0x0]=_0xcf58a9),_0x281b1e['setTextureCube'](_0x56948f||_0xc4e4fa,_0xcf58a9);}function _0x53be9a(_0xd643c2,_0x2d8f43,_0xcf02d4){const _0x3ffe20=this['cache'],_0x10a469=_0xcf02d4['allocateTextureUnit']();_0x3ffe20[0x0]!==_0x10a469&&(_0xd643c2['uniform1i'](this['addr'],_0x10a469),_0x3ffe20[0x0]=_0x10a469),_0xcf02d4['setTexture2DArray'](_0x2d8f43||_0x28b4d2,_0x10a469);}function _0x527169(_0x2a50a4,_0x2b226f){_0x2a50a4['uniform1fv'](this['addr'],_0x2b226f);}function _0x142d2e(_0xd46805,_0x361fe5){const _0x16556c=_0x4826a8(_0x361fe5,this['size'],0x2);_0xd46805['uniform2fv'](this['addr'],_0x16556c);}function _0x3ce388(_0x42f355,_0x140d23){const _0x287e79=_0x4826a8(_0x140d23,this['size'],0x3);_0x42f355['uniform3fv'](this['addr'],_0x287e79);}function _0x3de4a7(_0x3fef79,_0x57daba){const _0x3ea930=_0x4826a8(_0x57daba,this['size'],0x4);_0x3fef79['uniform4fv'](this['addr'],_0x3ea930);}function _0x3d885c(_0x23feda,_0x1f0ad4){const _0x1f4700=_0x4826a8(_0x1f0ad4,this['size'],0x4);_0x23feda['uniformMatrix2fv'](this['addr'],!0x1,_0x1f4700);}function _0x533b6d(_0xf3e9fa,_0x20b5a7){const _0x30858a=_0x4826a8(_0x20b5a7,this['size'],0x9);_0xf3e9fa['uniformMatrix3fv'](this['addr'],!0x1,_0x30858a);}function _0x1436bd(_0x2b91cd,_0x5be26d){const _0x39574d=_0x4826a8(_0x5be26d,this['size'],0x10);_0x2b91cd['uniformMatrix4fv'](this['addr'],!0x1,_0x39574d);}function _0x23bbc7(_0x3ad5fc,_0x36a679){_0x3ad5fc['uniform1iv'](this['addr'],_0x36a679);}function _0x33b82b(_0x384307,_0x3fc726){_0x384307['uniform2iv'](this['addr'],_0x3fc726);}function _0x41d830(_0x9eb611,_0x1fd405){_0x9eb611['uniform3iv'](this['addr'],_0x1fd405);}function _0x489b0f(_0x1faf8f,_0x1891b9){_0x1faf8f['uniform4iv'](this['addr'],_0x1891b9);}function _0x28ffe2(_0x2ef4ff,_0x408ed8){_0x2ef4ff['uniform1uiv'](this['addr'],_0x408ed8);}function _0x4aed2d(_0x52c55f,_0x2b452b){_0x52c55f['uniform2uiv'](this['addr'],_0x2b452b);}function _0x14c7fe(_0x5d6802,_0x4d58e3){_0x5d6802['uniform3uiv'](this['addr'],_0x4d58e3);}function _0x3dc1af(_0x1298c1,_0x54524b){_0x1298c1['uniform4uiv'](this['addr'],_0x54524b);}function _0x5a02c2(_0x5b3190,_0xd76188,_0x1aa4a3){const _0x38caca=this['cache'],_0x4a1bb0=_0xd76188['length'],_0x48d108=_0x2d61e7(_0x1aa4a3,_0x4a1bb0);_0xa2b504(_0x38caca,_0x48d108)||(_0x5b3190['uniform1iv'](this['addr'],_0x48d108),_0x3f6192(_0x38caca,_0x48d108));for(let _0x5ae269=0x0;_0x5ae269!==_0x4a1bb0;++_0x5ae269)_0x1aa4a3['setTexture2D'](_0xd76188[_0x5ae269]||_0x9aa5dd,_0x48d108[_0x5ae269]);}function _0x3dddfe(_0x7e06b5,_0x456b55,_0x1c8e5e){const _0x2f72ed=this['cache'],_0x1b19b4=_0x456b55['length'],_0x2b7463=_0x2d61e7(_0x1c8e5e,_0x1b19b4);_0xa2b504(_0x2f72ed,_0x2b7463)||(_0x7e06b5['uniform1iv'](this['addr'],_0x2b7463),_0x3f6192(_0x2f72ed,_0x2b7463));for(let _0x1793fc=0x0;_0x1793fc!==_0x1b19b4;++_0x1793fc)_0x1c8e5e['setTexture3D'](_0x456b55[_0x1793fc]||_0x3120af,_0x2b7463[_0x1793fc]);}function _0x361c87(_0x4a2023,_0x5e5129,_0x2822ef){const _0x576056=this['cache'],_0x29a638=_0x5e5129['length'],_0x54b5d2=_0x2d61e7(_0x2822ef,_0x29a638);_0xa2b504(_0x576056,_0x54b5d2)||(_0x4a2023['uniform1iv'](this['addr'],_0x54b5d2),_0x3f6192(_0x576056,_0x54b5d2));for(let _0x3a76e4=0x0;_0x3a76e4!==_0x29a638;++_0x3a76e4)_0x2822ef['setTextureCube'](_0x5e5129[_0x3a76e4]||_0xc4e4fa,_0x54b5d2[_0x3a76e4]);}function _0x73a354(_0x2ade06,_0x4c6d3f,_0x352596){const _0x48cf5d=this['cache'],_0xd4df93=_0x4c6d3f['length'],_0x2075d1=_0x2d61e7(_0x352596,_0xd4df93);_0xa2b504(_0x48cf5d,_0x2075d1)||(_0x2ade06['uniform1iv'](this['addr'],_0x2075d1),_0x3f6192(_0x48cf5d,_0x2075d1));for(let _0x3ef8c3=0x0;_0x3ef8c3!==_0xd4df93;++_0x3ef8c3)_0x352596['setTexture2DArray'](_0x4c6d3f[_0x3ef8c3]||_0x28b4d2,_0x2075d1[_0x3ef8c3]);}class _0x198cc9{constructor(_0xd6ae82,_0x335957,_0x49776a){this['id']=_0xd6ae82,this['addr']=_0x49776a,this['cache']=[],this['type']=_0x335957['type'],this['setValue']=function(_0x2f096d){switch(_0x2f096d){case 0x1406:return _0x3c8af6;case 0x8b50:return _0x19305a;case 0x8b51:return _0x5dc0aa;case 0x8b52:return _0x11611e;case 0x8b5a:return _0x4dd70c;case 0x8b5b:return _0x42204b;case 0x8b5c:return _0x362d8f;case 0x1404:case 0x8b56:return _0x22d346;case 0x8b53:case 0x8b57:return _0x36219e;case 0x8b54:case 0x8b58:return _0x54bcde;case 0x8b55:case 0x8b59:return _0x599de4;case 0x1405:return _0x48e6f7;case 0x8dc6:return _0x5b6424;case 0x8dc7:return _0x10d742;case 0x8dc8:return _0x350413;case 0x8b5e:case 0x8d66:case 0x8dca:case 0x8dd2:case 0x8b62:return _0x13a181;case 0x8b5f:case 0x8dcb:case 0x8dd3:return _0x2ddd2f;case 0x8b60:case 0x8dcc:case 0x8dd4:case 0x8dc5:return _0x190536;case 0x8dc1:case 0x8dcf:case 0x8dd7:case 0x8dc4:return _0x53be9a;}}(_0x335957['type']);}}class _0x51909b{constructor(_0x5400dc,_0x44d00d,_0x12ac0e){this['id']=_0x5400dc,this['addr']=_0x12ac0e,this['cache']=[],this['type']=_0x44d00d['type'],this['size']=_0x44d00d['size'],this['setValue']=function(_0x3ed749){switch(_0x3ed749){case 0x1406:return _0x527169;case 0x8b50:return _0x142d2e;case 0x8b51:return _0x3ce388;case 0x8b52:return _0x3de4a7;case 0x8b5a:return _0x3d885c;case 0x8b5b:return _0x533b6d;case 0x8b5c:return _0x1436bd;case 0x1404:case 0x8b56:return _0x23bbc7;case 0x8b53:case 0x8b57:return _0x33b82b;case 0x8b54:case 0x8b58:return _0x41d830;case 0x8b55:case 0x8b59:return _0x489b0f;case 0x1405:return _0x28ffe2;case 0x8dc6:return _0x4aed2d;case 0x8dc7:return _0x14c7fe;case 0x8dc8:return _0x3dc1af;case 0x8b5e:case 0x8d66:case 0x8dca:case 0x8dd2:case 0x8b62:return _0x5a02c2;case 0x8b5f:case 0x8dcb:case 0x8dd3:return _0x3dddfe;case 0x8b60:case 0x8dcc:case 0x8dd4:case 0x8dc5:return _0x361c87;case 0x8dc1:case 0x8dcf:case 0x8dd7:case 0x8dc4:return _0x73a354;}}(_0x44d00d['type']);}}class _0x397ba3{constructor(_0x46fd72){this['id']=_0x46fd72,this['seq']=[],this['map']={};}['setValue'](_0x43eb8a,_0x174eef,_0xe7ac27){const _0x3230bf=this['seq'];for(let _0x2fb2e6=0x0,_0x35199d=_0x3230bf['length'];_0x2fb2e6!==_0x35199d;++_0x2fb2e6){const _0x5cd678=_0x3230bf[_0x2fb2e6];_0x5cd678['setValue'](_0x43eb8a,_0x174eef[_0x5cd678['id']],_0xe7ac27);}}}const _0x12f805=/(\w+)(\])?(\[|\.)?/g;function _0x33ecf6(_0x3ab956,_0x56c905){_0x3ab956['seq']['push'](_0x56c905),_0x3ab956['map'][_0x56c905['id']]=_0x56c905;}function _0x187676(_0x3a8ece,_0x21a58a,_0x44a825){const _0x5193fe=_0x3a8ece['name'],_0x36ab40=_0x5193fe['length'];for(_0x12f805['lastIndex']=0x0;;){const _0x305680=_0x12f805['exec'](_0x5193fe),_0x5d3dd3=_0x12f805['lastIndex'];let _0x14b31b=_0x305680[0x1];const _0x3c73ed=']'===_0x305680[0x2],_0x428ca6=_0x305680[0x3];if(_0x3c73ed&&(_0x14b31b|=0x0),void 0x0===_0x428ca6||'['===_0x428ca6&&_0x5d3dd3+0x2===_0x36ab40){_0x33ecf6(_0x44a825,void 0x0===_0x428ca6?new _0x198cc9(_0x14b31b,_0x3a8ece,_0x21a58a):new _0x51909b(_0x14b31b,_0x3a8ece,_0x21a58a));break;}{let _0x42dc13=_0x44a825['map'][_0x14b31b];void 0x0===_0x42dc13&&(_0x42dc13=new _0x397ba3(_0x14b31b),_0x33ecf6(_0x44a825,_0x42dc13)),_0x44a825=_0x42dc13;}}}class _0x57a3f5{constructor(_0x1bb3a7,_0x6884b){this['seq']=[],this['map']={};const _0x6d3275=_0x1bb3a7['getProgramParameter'](_0x6884b,_0x1bb3a7['ACTIVE_UNIFORMS']);for(let _0xf13a66=0x0;_0xf13a66<_0x6d3275;++_0xf13a66){const _0x3661b5=_0x1bb3a7['getActiveUniform'](_0x6884b,_0xf13a66);_0x187676(_0x3661b5,_0x1bb3a7['getUniformLocation'](_0x6884b,_0x3661b5['name']),this);}}['setValue'](_0x2a54e2,_0x5b3826,_0x5bd16d,_0x43e2c0){const _0x7be779=this['map'][_0x5b3826];void 0x0!==_0x7be779&&_0x7be779['setValue'](_0x2a54e2,_0x5bd16d,_0x43e2c0);}['setOptional'](_0x258a8f,_0x81e870,_0x25ba73){const _0x5d5662=_0x81e870[_0x25ba73];void 0x0!==_0x5d5662&&this['setValue'](_0x258a8f,_0x25ba73,_0x5d5662);}static['upload'](_0xecacf4,_0x5f2539,_0x230914,_0x2b5b7b){for(let _0x2909ca=0x0,_0x2cd854=_0x5f2539['length'];_0x2909ca!==_0x2cd854;++_0x2909ca){const _0x40a506=_0x5f2539[_0x2909ca],_0x26f6e8=_0x230914[_0x40a506['id']];!0x1!==_0x26f6e8['needsUpdate']&&_0x40a506['setValue'](_0xecacf4,_0x26f6e8['value'],_0x2b5b7b);}}static['seqWithValue'](_0x4573b1,_0x3aff26){const _0x5028bf=[];for(let _0x4f6d7f=0x0,_0x209a72=_0x4573b1['length'];_0x4f6d7f!==_0x209a72;++_0x4f6d7f){const _0x273009=_0x4573b1[_0x4f6d7f];_0x273009['id']in _0x3aff26&&_0x5028bf['push'](_0x273009);}return _0x5028bf;}}function _0x1285c8(_0x109e15,_0x2835c4,_0x493f9c){const _0x38b72d=_0x109e15['createShader'](_0x2835c4);return _0x109e15['shaderSource'](_0x38b72d,_0x493f9c),_0x109e15['compileShader'](_0x38b72d),_0x38b72d;}const _0x1df890=0x91b1;let _0xf7d04=0x0;const _0x935eb0=new _0x42bc67['dwI']();function _0x3a2f20(_0x2a66c0,_0x3c21cb,_0x522dd6){const _0x1ddc93=_0x2a66c0['getShaderParameter'](_0x3c21cb,_0x2a66c0['COMPILE_STATUS']),_0x110123=_0x2a66c0['getShaderInfoLog'](_0x3c21cb)['trim']();if(_0x1ddc93&&''===_0x110123)return'';const _0x29bffb=/ERROR: 0:(\d+)/['exec'](_0x110123);if(_0x29bffb){const _0x76ebd2=parseInt(_0x29bffb[0x1]);return _0x522dd6['toUpperCase']()+'\x0a\x0a'+_0x110123+'\x0a\x0a'+function(_0x30360e,_0x2a4e63){const _0x301f7c=_0x30360e['split']('\x0a'),_0x5446e6=[],_0x32f232=Math['max'](_0x2a4e63-0x6,0x0),_0x457d79=Math['min'](_0x2a4e63+0x6,_0x301f7c['length']);for(let _0x46af4a=_0x32f232;_0x46af4a<_0x457d79;_0x46af4a++){const _0x28a66d=_0x46af4a+0x1;_0x5446e6['push']((_0x28a66d===_0x2a4e63?'>':'\x20')+'\x20'+_0x28a66d+':\x20'+_0x301f7c[_0x46af4a]);}return _0x5446e6['join']('\x0a');}(_0x2a66c0['getShaderSource'](_0x3c21cb),_0x76ebd2);}return _0x110123;}function _0x177cf8(_0x1b7941,_0x12ad14){const _0x3b06ca=function(_0x15f0a3){_0x42bc67['ppV']['_getMatrix'](_0x935eb0,_0x42bc67['ppV']['workingColorSpace'],_0x15f0a3);const _0x31acb7='mat3(\x20'+_0x935eb0['elements']['map'](_0x46ffbc=>_0x46ffbc['toFixed'](0x4))+'\x20)';switch(_0x42bc67['ppV']['getTransfer'](_0x15f0a3)){case _0x42bc67['VxR']:return[_0x31acb7,'LinearTransferOETF'];case _0x42bc67['KLL']:return[_0x31acb7,'sRGBTransferOETF'];default:return console['warn']('THREE.WebGLProgram:\x20Unsupported\x20color\x20space:\x20',_0x15f0a3),[_0x31acb7,'LinearTransferOETF'];}}(_0x12ad14);return['vec4\x20'+_0x1b7941+'(\x20vec4\x20value\x20)\x20{','\x09return\x20'+_0x3b06ca[0x1]+'(\x20vec4(\x20value.rgb\x20*\x20'+_0x3b06ca[0x0]+',\x20value.a\x20)\x20);','}']['join']('\x0a');}function _0x41c64c(_0x490382,_0x3aa6d0){let _0x48c3ee;switch(_0x3aa6d0){case _0x42bc67['kyO']:_0x48c3ee='Linear';break;case _0x42bc67['Mjd']:_0x48c3ee='Reinhard';break;case _0x42bc67['nNL']:_0x48c3ee='Cineon';break;case _0x42bc67['FV']:_0x48c3ee='ACESFilmic';break;case _0x42bc67['LAk']:_0x48c3ee='AgX';break;case _0x42bc67['aJ8']:_0x48c3ee='Neutral';break;case _0x42bc67['g7M']:_0x48c3ee='Custom';break;default:console['warn']('THREE.WebGLProgram:\x20Unsupported\x20toneMapping:',_0x3aa6d0),_0x48c3ee='Linear';}return'vec3\x20'+_0x490382+'(\x20vec3\x20color\x20)\x20{\x20return\x20'+_0x48c3ee+'ToneMapping(\x20color\x20);\x20}';}const _0x402ff6=new _0x42bc67['Pq0']();function _0x33a635(){return _0x42bc67['ppV']['getLuminanceCoefficients'](_0x402ff6),['float\x20luminance(\x20const\x20in\x20vec3\x20rgb\x20)\x20{','\x09const\x20vec3\x20weights\x20=\x20vec3(\x20'+_0x402ff6['x']['toFixed'](0x4)+',\x20'+_0x402ff6['y']['toFixed'](0x4)+',\x20'+_0x402ff6['z']['toFixed'](0x4)+'\x20);','\x09return\x20dot(\x20weights,\x20rgb\x20);','}']['join']('\x0a');}function _0x3682ef(_0x34cb3a){return''!==_0x34cb3a;}function _0x2f5aef(_0x44ae63,_0x4b157d){const _0x415f96=_0x4b157d['numSpotLightShadows']+_0x4b157d['numSpotLightMaps']-_0x4b157d['numSpotLightShadowsWithMaps'];return _0x44ae63['replace'](/NUM_DIR_LIGHTS/g,_0x4b157d['numDirLights'])['replace'](/NUM_SPOT_LIGHTS/g,_0x4b157d['numSpotLights'])['replace'](/NUM_SPOT_LIGHT_MAPS/g,_0x4b157d['numSpotLightMaps'])['replace'](/NUM_SPOT_LIGHT_COORDS/g,_0x415f96)['replace'](/NUM_RECT_AREA_LIGHTS/g,_0x4b157d['numRectAreaLights'])['replace'](/NUM_POINT_LIGHTS/g,_0x4b157d['numPointLights'])['replace'](/NUM_HEMI_LIGHTS/g,_0x4b157d['numHemiLights'])['replace'](/NUM_DIR_LIGHT_SHADOWS/g,_0x4b157d['numDirLightShadows'])['replace'](/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,_0x4b157d['numSpotLightShadowsWithMaps'])['replace'](/NUM_SPOT_LIGHT_SHADOWS/g,_0x4b157d['numSpotLightShadows'])['replace'](/NUM_POINT_LIGHT_SHADOWS/g,_0x4b157d['numPointLightShadows']);}function _0x49b174(_0x26a506,_0x581d4b){return _0x26a506['replace'](/NUM_CLIPPING_PLANES/g,_0x581d4b['numClippingPlanes'])['replace'](/UNION_CLIPPING_PLANES/g,_0x581d4b['numClippingPlanes']-_0x581d4b['numClipIntersection']);}const _0x14a156=/^[ \t]*#include +<([\w\d./]+)>/gm;function _0x29fc33(_0x24ce7b){return _0x24ce7b['replace'](_0x14a156,_0x1a4674);}const _0x5db581=new Map();function _0x1a4674(_0x2673ee,_0x463826){let _0x452131=_0x2046f9[_0x463826];if(void 0x0===_0x452131){const _0x44e74c=_0x5db581['get'](_0x463826);if(void 0x0===_0x44e74c)throw new Error('Can\x20not\x20resolve\x20#include\x20<'+_0x463826+'>');_0x452131=_0x2046f9[_0x44e74c],console['warn']('THREE.WebGLRenderer:\x20Shader\x20chunk\x20\x22%s\x22\x20has\x20been\x20deprecated.\x20Use\x20\x22%s\x22\x20instead.',_0x463826,_0x44e74c);}return _0x29fc33(_0x452131);}const _0x4ec29d=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function _0xe8e7bb(_0x1266fb){return _0x1266fb['replace'](_0x4ec29d,_0x23bafe);}function _0x23bafe(_0xfde08f,_0x2a1d34,_0x1db1eb,_0x5e08a5){let _0x36e181='';for(let _0x3659b2=parseInt(_0x2a1d34);_0x3659b2<parseInt(_0x1db1eb);_0x3659b2++)_0x36e181+=_0x5e08a5['replace'](/\[\s*i\s*\]/g,'[\x20'+_0x3659b2+'\x20]')['replace'](/UNROLLED_LOOP_INDEX/g,_0x3659b2);return _0x36e181;}function _0x5d5cc1(_0x1980bb){let _0x2b0bef='precision\x20'+_0x1980bb['precision']+'\x20float;\x0a\x09precision\x20'+_0x1980bb['precision']+'\x20int;\x0a\x09precision\x20'+_0x1980bb['precision']+'\x20sampler2D;\x0a\x09precision\x20'+_0x1980bb['precision']+'\x20samplerCube;\x0a\x09precision\x20'+_0x1980bb['precision']+'\x20sampler3D;\x0a\x09precision\x20'+_0x1980bb['precision']+'\x20sampler2DArray;\x0a\x09precision\x20'+_0x1980bb['precision']+'\x20sampler2DShadow;\x0a\x09precision\x20'+_0x1980bb['precision']+'\x20samplerCubeShadow;\x0a\x09precision\x20'+_0x1980bb['precision']+'\x20sampler2DArrayShadow;\x0a\x09precision\x20'+_0x1980bb['precision']+'\x20isampler2D;\x0a\x09precision\x20'+_0x1980bb['precision']+'\x20isampler3D;\x0a\x09precision\x20'+_0x1980bb['precision']+'\x20isamplerCube;\x0a\x09precision\x20'+_0x1980bb['precision']+'\x20isampler2DArray;\x0a\x09precision\x20'+_0x1980bb['precision']+'\x20usampler2D;\x0a\x09precision\x20'+_0x1980bb['precision']+'\x20usampler3D;\x0a\x09precision\x20'+_0x1980bb['precision']+'\x20usamplerCube;\x0a\x09precision\x20'+_0x1980bb['precision']+'\x20usampler2DArray;\x0a\x09';return'highp'===_0x1980bb['precision']?_0x2b0bef+='\x0a#define\x20HIGH_PRECISION':'mediump'===_0x1980bb['precision']?_0x2b0bef+='\x0a#define\x20MEDIUM_PRECISION':'lowp'===_0x1980bb['precision']&&(_0x2b0bef+='\x0a#define\x20LOW_PRECISION'),_0x2b0bef;}function _0x383402(_0x59536b,_0x328536,_0x15cb11,_0xa1be69){const _0x47f9c2=_0x59536b['getContext'](),_0x5ebb23=_0x15cb11['defines'];let _0x3f035d=_0x15cb11['vertexShader'],_0x340824=_0x15cb11['fragmentShader'];const _0x31e5fd=function(_0x3b9664){let _0xbc0de='SHADOWMAP_TYPE_BASIC';return _0x3b9664['shadowMapType']===_0x42bc67['QP0']?_0xbc0de='SHADOWMAP_TYPE_PCF':_0x3b9664['shadowMapType']===_0x42bc67['Wk7']?_0xbc0de='SHADOWMAP_TYPE_PCF_SOFT':_0x3b9664['shadowMapType']===_0x42bc67['RyA']&&(_0xbc0de='SHADOWMAP_TYPE_VSM'),_0xbc0de;}(_0x15cb11),_0x4b695e=function(_0x1f25bd){let _0x4d5cc0='ENVMAP_TYPE_CUBE';if(_0x1f25bd['envMap'])switch(_0x1f25bd['envMapMode']){case _0x42bc67['hy7']:case _0x42bc67['xFO']:_0x4d5cc0='ENVMAP_TYPE_CUBE';break;case _0x42bc67['Om']:_0x4d5cc0='ENVMAP_TYPE_CUBE_UV';}return _0x4d5cc0;}(_0x15cb11),_0x2023c7=function(_0x2dcef3){let _0x49e0f2='ENVMAP_MODE_REFLECTION';return _0x2dcef3['envMap']&&_0x2dcef3['envMapMode']===_0x42bc67['xFO']&&(_0x49e0f2='ENVMAP_MODE_REFRACTION'),_0x49e0f2;}(_0x15cb11),_0x13cb11=function(_0x520fe0){let _0x59c5c3='ENVMAP_BLENDING_NONE';if(_0x520fe0['envMap'])switch(_0x520fe0['combine']){case _0x42bc67['caT']:_0x59c5c3='ENVMAP_BLENDING_MULTIPLY';break;case _0x42bc67['KRh']:_0x59c5c3='ENVMAP_BLENDING_MIX';break;case _0x42bc67['XrR']:_0x59c5c3='ENVMAP_BLENDING_ADD';}return _0x59c5c3;}(_0x15cb11),_0x21c7e8=function(_0xbc17b4){const _0x455c99=_0xbc17b4['envMapCubeUVHeight'];if(null===_0x455c99)return null;const _0x3b793a=Math['log2'](_0x455c99)-0x2,_0x484431=0x1/_0x455c99;return{'texelWidth':0x1/(0x3*Math['max'](Math['pow'](0x2,_0x3b793a),0x70)),'texelHeight':_0x484431,'maxMip':_0x3b793a};}(_0x15cb11),_0x124c4d=function(_0x1998e0){return[_0x1998e0['extensionClipCullDistance']?'#extension\x20GL_ANGLE_clip_cull_distance\x20:\x20require':'',_0x1998e0['extensionMultiDraw']?'#extension\x20GL_ANGLE_multi_draw\x20:\x20require':'']['filter'](_0x3682ef)['join']('\x0a');}(_0x15cb11),_0x2966b3=function(_0x8d8d30){const _0x50b007=[];for(const _0x1060dc in _0x8d8d30){const _0x2dde38=_0x8d8d30[_0x1060dc];!0x1!==_0x2dde38&&_0x50b007['push']('#define\x20'+_0x1060dc+'\x20'+_0x2dde38);}return _0x50b007['join']('\x0a');}(_0x5ebb23),_0x47dec2=_0x47f9c2['createProgram']();let _0x24becd,_0x1d9d8d,_0x42171a=_0x15cb11['glslVersion']?'#version\x20'+_0x15cb11['glslVersion']+'\x0a':'';_0x15cb11['isRawShaderMaterial']?(_0x24becd=['#define\x20SHADER_TYPE\x20'+_0x15cb11['shaderType'],'#define\x20SHADER_NAME\x20'+_0x15cb11['shaderName'],_0x2966b3]['filter'](_0x3682ef)['join']('\x0a'),_0x24becd['length']>0x0&&(_0x24becd+='\x0a'),_0x1d9d8d=['#define\x20SHADER_TYPE\x20'+_0x15cb11['shaderType'],'#define\x20SHADER_NAME\x20'+_0x15cb11['shaderName'],_0x2966b3]['filter'](_0x3682ef)['join']('\x0a'),_0x1d9d8d['length']>0x0&&(_0x1d9d8d+='\x0a')):(_0x24becd=[_0x5d5cc1(_0x15cb11),'#define\x20SHADER_TYPE\x20'+_0x15cb11['shaderType'],'#define\x20SHADER_NAME\x20'+_0x15cb11['shaderName'],_0x2966b3,_0x15cb11['extensionClipCullDistance']?'#define\x20USE_CLIP_DISTANCE':'',_0x15cb11['batching']?'#define\x20USE_BATCHING':'',_0x15cb11['batchingColor']?'#define\x20USE_BATCHING_COLOR':'',_0x15cb11['instancing']?'#define\x20USE_INSTANCING':'',_0x15cb11['instancingColor']?'#define\x20USE_INSTANCING_COLOR':'',_0x15cb11['instancingMorph']?'#define\x20USE_INSTANCING_MORPH':'',_0x15cb11['useFog']&&_0x15cb11['fog']?'#define\x20USE_FOG':'',_0x15cb11['useFog']&&_0x15cb11['fogExp2']?'#define\x20FOG_EXP2':'',_0x15cb11['map']?'#define\x20USE_MAP':'',_0x15cb11['envMap']?'#define\x20USE_ENVMAP':'',_0x15cb11['envMap']?'#define\x20'+_0x2023c7:'',_0x15cb11['lightMap']?'#define\x20USE_LIGHTMAP':'',_0x15cb11['aoMap']?'#define\x20USE_AOMAP':'',_0x15cb11['bumpMap']?'#define\x20USE_BUMPMAP':'',_0x15cb11['normalMap']?'#define\x20USE_NORMALMAP':'',_0x15cb11['normalMapObjectSpace']?'#define\x20USE_NORMALMAP_OBJECTSPACE':'',_0x15cb11['normalMapTangentSpace']?'#define\x20USE_NORMALMAP_TANGENTSPACE':'',_0x15cb11['displacementMap']?'#define\x20USE_DISPLACEMENTMAP':'',_0x15cb11['emissiveMap']?'#define\x20USE_EMISSIVEMAP':'',_0x15cb11['anisotropy']?'#define\x20USE_ANISOTROPY':'',_0x15cb11['anisotropyMap']?'#define\x20USE_ANISOTROPYMAP':'',_0x15cb11['clearcoatMap']?'#define\x20USE_CLEARCOATMAP':'',_0x15cb11['clearcoatRoughnessMap']?'#define\x20USE_CLEARCOAT_ROUGHNESSMAP':'',_0x15cb11['clearcoatNormalMap']?'#define\x20USE_CLEARCOAT_NORMALMAP':'',_0x15cb11['iridescenceMap']?'#define\x20USE_IRIDESCENCEMAP':'',_0x15cb11['iridescenceThicknessMap']?'#define\x20USE_IRIDESCENCE_THICKNESSMAP':'',_0x15cb11['specularMap']?'#define\x20USE_SPECULARMAP':'',_0x15cb11['specularColorMap']?'#define\x20USE_SPECULAR_COLORMAP':'',_0x15cb11['specularIntensityMap']?'#define\x20USE_SPECULAR_INTENSITYMAP':'',_0x15cb11['roughnessMap']?'#define\x20USE_ROUGHNESSMAP':'',_0x15cb11['metalnessMap']?'#define\x20USE_METALNESSMAP':'',_0x15cb11['alphaMap']?'#define\x20USE_ALPHAMAP':'',_0x15cb11['alphaHash']?'#define\x20USE_ALPHAHASH':'',_0x15cb11['transmission']?'#define\x20USE_TRANSMISSION':'',_0x15cb11['transmissionMap']?'#define\x20USE_TRANSMISSIONMAP':'',_0x15cb11['thicknessMap']?'#define\x20USE_THICKNESSMAP':'',_0x15cb11['sheenColorMap']?'#define\x20USE_SHEEN_COLORMAP':'',_0x15cb11['sheenRoughnessMap']?'#define\x20USE_SHEEN_ROUGHNESSMAP':'',_0x15cb11['mapUv']?'#define\x20MAP_UV\x20'+_0x15cb11['mapUv']:'',_0x15cb11['alphaMapUv']?'#define\x20ALPHAMAP_UV\x20'+_0x15cb11['alphaMapUv']:'',_0x15cb11['lightMapUv']?'#define\x20LIGHTMAP_UV\x20'+_0x15cb11['lightMapUv']:'',_0x15cb11['aoMapUv']?'#define\x20AOMAP_UV\x20'+_0x15cb11['aoMapUv']:'',_0x15cb11['emissiveMapUv']?'#define\x20EMISSIVEMAP_UV\x20'+_0x15cb11['emissiveMapUv']:'',_0x15cb11['bumpMapUv']?'#define\x20BUMPMAP_UV\x20'+_0x15cb11['bumpMapUv']:'',_0x15cb11['normalMapUv']?'#define\x20NORMALMAP_UV\x20'+_0x15cb11['normalMapUv']:'',_0x15cb11['displacementMapUv']?'#define\x20DISPLACEMENTMAP_UV\x20'+_0x15cb11['displacementMapUv']:'',_0x15cb11['metalnessMapUv']?'#define\x20METALNESSMAP_UV\x20'+_0x15cb11['metalnessMapUv']:'',_0x15cb11['roughnessMapUv']?'#define\x20ROUGHNESSMAP_UV\x20'+_0x15cb11['roughnessMapUv']:'',_0x15cb11['anisotropyMapUv']?'#define\x20ANISOTROPYMAP_UV\x20'+_0x15cb11['anisotropyMapUv']:'',_0x15cb11['clearcoatMapUv']?'#define\x20CLEARCOATMAP_UV\x20'+_0x15cb11['clearcoatMapUv']:'',_0x15cb11['clearcoatNormalMapUv']?'#define\x20CLEARCOAT_NORMALMAP_UV\x20'+_0x15cb11['clearcoatNormalMapUv']:'',_0x15cb11['clearcoatRoughnessMapUv']?'#define\x20CLEARCOAT_ROUGHNESSMAP_UV\x20'+_0x15cb11['clearcoatRoughnessMapUv']:'',_0x15cb11['iridescenceMapUv']?'#define\x20IRIDESCENCEMAP_UV\x20'+_0x15cb11['iridescenceMapUv']:'',_0x15cb11['iridescenceThicknessMapUv']?'#define\x20IRIDESCENCE_THICKNESSMAP_UV\x20'+_0x15cb11['iridescenceThicknessMapUv']:'',_0x15cb11['sheenColorMapUv']?'#define\x20SHEEN_COLORMAP_UV\x20'+_0x15cb11['sheenColorMapUv']:'',_0x15cb11['sheenRoughnessMapUv']?'#define\x20SHEEN_ROUGHNESSMAP_UV\x20'+_0x15cb11['sheenRoughnessMapUv']:'',_0x15cb11['specularMapUv']?'#define\x20SPECULARMAP_UV\x20'+_0x15cb11['specularMapUv']:'',_0x15cb11['specularColorMapUv']?'#define\x20SPECULAR_COLORMAP_UV\x20'+_0x15cb11['specularColorMapUv']:'',_0x15cb11['specularIntensityMapUv']?'#define\x20SPECULAR_INTENSITYMAP_UV\x20'+_0x15cb11['specularIntensityMapUv']:'',_0x15cb11['transmissionMapUv']?'#define\x20TRANSMISSIONMAP_UV\x20'+_0x15cb11['transmissionMapUv']:'',_0x15cb11['thicknessMapUv']?'#define\x20THICKNESSMAP_UV\x20'+_0x15cb11['thicknessMapUv']:'',_0x15cb11['vertexTangents']&&!0x1===_0x15cb11['flatShading']?'#define\x20USE_TANGENT':'',_0x15cb11['vertexColors']?'#define\x20USE_COLOR':'',_0x15cb11['vertexAlphas']?'#define\x20USE_COLOR_ALPHA':'',_0x15cb11['vertexUv1s']?'#define\x20USE_UV1':'',_0x15cb11['vertexUv2s']?'#define\x20USE_UV2':'',_0x15cb11['vertexUv3s']?'#define\x20USE_UV3':'',_0x15cb11['pointsUvs']?'#define\x20USE_POINTS_UV':'',_0x15cb11['flatShading']?'#define\x20FLAT_SHADED':'',_0x15cb11['skinning']?'#define\x20USE_SKINNING':'',_0x15cb11['morphTargets']?'#define\x20USE_MORPHTARGETS':'',_0x15cb11['morphNormals']&&!0x1===_0x15cb11['flatShading']?'#define\x20USE_MORPHNORMALS':'',_0x15cb11['morphColors']?'#define\x20USE_MORPHCOLORS':'',_0x15cb11['morphTargetsCount']>0x0?'#define\x20MORPHTARGETS_TEXTURE_STRIDE\x20'+_0x15cb11['morphTextureStride']:'',_0x15cb11['morphTargetsCount']>0x0?'#define\x20MORPHTARGETS_COUNT\x20'+_0x15cb11['morphTargetsCount']:'',_0x15cb11['doubleSided']?'#define\x20DOUBLE_SIDED':'',_0x15cb11['flipSided']?'#define\x20FLIP_SIDED':'',_0x15cb11['shadowMapEnabled']?'#define\x20USE_SHADOWMAP':'',_0x15cb11['shadowMapEnabled']?'#define\x20'+_0x31e5fd:'',_0x15cb11['sizeAttenuation']?'#define\x20USE_SIZEATTENUATION':'',_0x15cb11['numLightProbes']>0x0?'#define\x20USE_LIGHT_PROBES':'',_0x15cb11['logarithmicDepthBuffer']?'#define\x20USE_LOGDEPTHBUF':'',_0x15cb11['reverseDepthBuffer']?'#define\x20USE_REVERSEDEPTHBUF':'','uniform\x20mat4\x20modelMatrix;','uniform\x20mat4\x20modelViewMatrix;','uniform\x20mat4\x20projectionMatrix;','uniform\x20mat4\x20viewMatrix;','uniform\x20mat3\x20normalMatrix;','uniform\x20vec3\x20cameraPosition;','uniform\x20bool\x20isOrthographic;','#ifdef\x20USE_INSTANCING','\x09attribute\x20mat4\x20instanceMatrix;','#endif','#ifdef\x20USE_INSTANCING_COLOR','\x09attribute\x20vec3\x20instanceColor;','#endif','#ifdef\x20USE_INSTANCING_MORPH','\x09uniform\x20sampler2D\x20morphTexture;','#endif','attribute\x20vec3\x20position;','attribute\x20vec3\x20normal;','attribute\x20vec2\x20uv;','#ifdef\x20USE_UV1','\x09attribute\x20vec2\x20uv1;','#endif','#ifdef\x20USE_UV2','\x09attribute\x20vec2\x20uv2;','#endif','#ifdef\x20USE_UV3','\x09attribute\x20vec2\x20uv3;','#endif','#ifdef\x20USE_TANGENT','\x09attribute\x20vec4\x20tangent;','#endif','#if\x20defined(\x20USE_COLOR_ALPHA\x20)','\x09attribute\x20vec4\x20color;','#elif\x20defined(\x20USE_COLOR\x20)','\x09attribute\x20vec3\x20color;','#endif','#ifdef\x20USE_SKINNING','\x09attribute\x20vec4\x20skinIndex;','\x09attribute\x20vec4\x20skinWeight;','#endif','\x0a']['filter'](_0x3682ef)['join']('\x0a'),_0x1d9d8d=[_0x5d5cc1(_0x15cb11),'#define\x20SHADER_TYPE\x20'+_0x15cb11['shaderType'],'#define\x20SHADER_NAME\x20'+_0x15cb11['shaderName'],_0x2966b3,_0x15cb11['useFog']&&_0x15cb11['fog']?'#define\x20USE_FOG':'',_0x15cb11['useFog']&&_0x15cb11['fogExp2']?'#define\x20FOG_EXP2':'',_0x15cb11['alphaToCoverage']?'#define\x20ALPHA_TO_COVERAGE':'',_0x15cb11['map']?'#define\x20USE_MAP':'',_0x15cb11['matcap']?'#define\x20USE_MATCAP':'',_0x15cb11['envMap']?'#define\x20USE_ENVMAP':'',_0x15cb11['envMap']?'#define\x20'+_0x4b695e:'',_0x15cb11['envMap']?'#define\x20'+_0x2023c7:'',_0x15cb11['envMap']?'#define\x20'+_0x13cb11:'',_0x21c7e8?'#define\x20CUBEUV_TEXEL_WIDTH\x20'+_0x21c7e8['texelWidth']:'',_0x21c7e8?'#define\x20CUBEUV_TEXEL_HEIGHT\x20'+_0x21c7e8['texelHeight']:'',_0x21c7e8?'#define\x20CUBEUV_MAX_MIP\x20'+_0x21c7e8['maxMip']+'.0':'',_0x15cb11['lightMap']?'#define\x20USE_LIGHTMAP':'',_0x15cb11['aoMap']?'#define\x20USE_AOMAP':'',_0x15cb11['bumpMap']?'#define\x20USE_BUMPMAP':'',_0x15cb11['normalMap']?'#define\x20USE_NORMALMAP':'',_0x15cb11['normalMapObjectSpace']?'#define\x20USE_NORMALMAP_OBJECTSPACE':'',_0x15cb11['normalMapTangentSpace']?'#define\x20USE_NORMALMAP_TANGENTSPACE':'',_0x15cb11['emissiveMap']?'#define\x20USE_EMISSIVEMAP':'',_0x15cb11['anisotropy']?'#define\x20USE_ANISOTROPY':'',_0x15cb11['anisotropyMap']?'#define\x20USE_ANISOTROPYMAP':'',_0x15cb11['clearcoat']?'#define\x20USE_CLEARCOAT':'',_0x15cb11['clearcoatMap']?'#define\x20USE_CLEARCOATMAP':'',_0x15cb11['clearcoatRoughnessMap']?'#define\x20USE_CLEARCOAT_ROUGHNESSMAP':'',_0x15cb11['clearcoatNormalMap']?'#define\x20USE_CLEARCOAT_NORMALMAP':'',_0x15cb11['dispersion']?'#define\x20USE_DISPERSION':'',_0x15cb11['iridescence']?'#define\x20USE_IRIDESCENCE':'',_0x15cb11['iridescenceMap']?'#define\x20USE_IRIDESCENCEMAP':'',_0x15cb11['iridescenceThicknessMap']?'#define\x20USE_IRIDESCENCE_THICKNESSMAP':'',_0x15cb11['specularMap']?'#define\x20USE_SPECULARMAP':'',_0x15cb11['specularColorMap']?'#define\x20USE_SPECULAR_COLORMAP':'',_0x15cb11['specularIntensityMap']?'#define\x20USE_SPECULAR_INTENSITYMAP':'',_0x15cb11['roughnessMap']?'#define\x20USE_ROUGHNESSMAP':'',_0x15cb11['metalnessMap']?'#define\x20USE_METALNESSMAP':'',_0x15cb11['alphaMap']?'#define\x20USE_ALPHAMAP':'',_0x15cb11['alphaTest']?'#define\x20USE_ALPHATEST':'',_0x15cb11['alphaHash']?'#define\x20USE_ALPHAHASH':'',_0x15cb11['sheen']?'#define\x20USE_SHEEN':'',_0x15cb11['sheenColorMap']?'#define\x20USE_SHEEN_COLORMAP':'',_0x15cb11['sheenRoughnessMap']?'#define\x20USE_SHEEN_ROUGHNESSMAP':'',_0x15cb11['transmission']?'#define\x20USE_TRANSMISSION':'',_0x15cb11['transmissionMap']?'#define\x20USE_TRANSMISSIONMAP':'',_0x15cb11['thicknessMap']?'#define\x20USE_THICKNESSMAP':'',_0x15cb11['vertexTangents']&&!0x1===_0x15cb11['flatShading']?'#define\x20USE_TANGENT':'',_0x15cb11['vertexColors']||_0x15cb11['instancingColor']||_0x15cb11['batchingColor']?'#define\x20USE_COLOR':'',_0x15cb11['vertexAlphas']?'#define\x20USE_COLOR_ALPHA':'',_0x15cb11['vertexUv1s']?'#define\x20USE_UV1':'',_0x15cb11['vertexUv2s']?'#define\x20USE_UV2':'',_0x15cb11['vertexUv3s']?'#define\x20USE_UV3':'',_0x15cb11['pointsUvs']?'#define\x20USE_POINTS_UV':'',_0x15cb11['gradientMap']?'#define\x20USE_GRADIENTMAP':'',_0x15cb11['flatShading']?'#define\x20FLAT_SHADED':'',_0x15cb11['doubleSided']?'#define\x20DOUBLE_SIDED':'',_0x15cb11['flipSided']?'#define\x20FLIP_SIDED':'',_0x15cb11['shadowMapEnabled']?'#define\x20USE_SHADOWMAP':'',_0x15cb11['shadowMapEnabled']?'#define\x20'+_0x31e5fd:'',_0x15cb11['premultipliedAlpha']?'#define\x20PREMULTIPLIED_ALPHA':'',_0x15cb11['numLightProbes']>0x0?'#define\x20USE_LIGHT_PROBES':'',_0x15cb11['decodeVideoTexture']?'#define\x20DECODE_VIDEO_TEXTURE':'',_0x15cb11['decodeVideoTextureEmissive']?'#define\x20DECODE_VIDEO_TEXTURE_EMISSIVE':'',_0x15cb11['logarithmicDepthBuffer']?'#define\x20USE_LOGDEPTHBUF':'',_0x15cb11['reverseDepthBuffer']?'#define\x20USE_REVERSEDEPTHBUF':'','uniform\x20mat4\x20viewMatrix;','uniform\x20vec3\x20cameraPosition;','uniform\x20bool\x20isOrthographic;',_0x15cb11['toneMapping']!==_0x42bc67['y_p']?'#define\x20TONE_MAPPING':'',_0x15cb11['toneMapping']!==_0x42bc67['y_p']?_0x2046f9['tonemapping_pars_fragment']:'',_0x15cb11['toneMapping']!==_0x42bc67['y_p']?_0x41c64c('toneMapping',_0x15cb11['toneMapping']):'',_0x15cb11['dithering']?'#define\x20DITHERING':'',_0x15cb11['opaque']?'#define\x20OPAQUE':'',_0x2046f9['colorspace_pars_fragment'],_0x177cf8('linearToOutputTexel',_0x15cb11['outputColorSpace']),_0x33a635(),_0x15cb11['useDepthPacking']?'#define\x20DEPTH_PACKING\x20'+_0x15cb11['depthPacking']:'','\x0a']['filter'](_0x3682ef)['join']('\x0a')),_0x3f035d=_0x29fc33(_0x3f035d),_0x3f035d=_0x2f5aef(_0x3f035d,_0x15cb11),_0x3f035d=_0x49b174(_0x3f035d,_0x15cb11),_0x340824=_0x29fc33(_0x340824),_0x340824=_0x2f5aef(_0x340824,_0x15cb11),_0x340824=_0x49b174(_0x340824,_0x15cb11),_0x3f035d=_0xe8e7bb(_0x3f035d),_0x340824=_0xe8e7bb(_0x340824),!0x0!==_0x15cb11['isRawShaderMaterial']&&(_0x42171a='#version\x20300\x20es\x0a',_0x24becd=[_0x124c4d,'#define\x20attribute\x20in','#define\x20varying\x20out','#define\x20texture2D\x20texture']['join']('\x0a')+'\x0a'+_0x24becd,_0x1d9d8d=['#define\x20varying\x20in',_0x15cb11['glslVersion']===_0x42bc67['Wdf']?'':'layout(location\x20=\x200)\x20out\x20highp\x20vec4\x20pc_fragColor;',_0x15cb11['glslVersion']===_0x42bc67['Wdf']?'':'#define\x20gl_FragColor\x20pc_fragColor','#define\x20gl_FragDepthEXT\x20gl_FragDepth','#define\x20texture2D\x20texture','#define\x20textureCube\x20texture','#define\x20texture2DProj\x20textureProj','#define\x20texture2DLodEXT\x20textureLod','#define\x20texture2DProjLodEXT\x20textureProjLod','#define\x20textureCubeLodEXT\x20textureLod','#define\x20texture2DGradEXT\x20textureGrad','#define\x20texture2DProjGradEXT\x20textureProjGrad','#define\x20textureCubeGradEXT\x20textureGrad']['join']('\x0a')+'\x0a'+_0x1d9d8d);const _0x1ea8bf=_0x42171a+_0x24becd+_0x3f035d,_0x5621a1=_0x42171a+_0x1d9d8d+_0x340824,_0x522d95=_0x1285c8(_0x47f9c2,_0x47f9c2['VERTEX_SHADER'],_0x1ea8bf),_0x280d48=_0x1285c8(_0x47f9c2,_0x47f9c2['FRAGMENT_SHADER'],_0x5621a1);function _0x176b22(_0x27928d){if(_0x59536b['debug']['checkShaderErrors']){const _0x4d6561=_0x47f9c2['getProgramInfoLog'](_0x47dec2)['trim'](),_0x3a831f=_0x47f9c2['getShaderInfoLog'](_0x522d95)['trim'](),_0x3fe375=_0x47f9c2['getShaderInfoLog'](_0x280d48)['trim']();let _0x33a3f7=!0x0,_0x22ebe8=!0x0;if(!0x1===_0x47f9c2['getProgramParameter'](_0x47dec2,_0x47f9c2['LINK_STATUS'])){if(_0x33a3f7=!0x1,'function'==typeof _0x59536b['debug']['onShaderError'])_0x59536b['debug']['onShaderError'](_0x47f9c2,_0x47dec2,_0x522d95,_0x280d48);else{const _0x8e4234=_0x3a2f20(_0x47f9c2,_0x522d95,'vertex'),_0x328f0f=_0x3a2f20(_0x47f9c2,_0x280d48,'fragment');console['error']('THREE.WebGLProgram:\x20Shader\x20Error\x20'+_0x47f9c2['getError']()+'\x20-\x20VALIDATE_STATUS\x20'+_0x47f9c2['getProgramParameter'](_0x47dec2,_0x47f9c2['VALIDATE_STATUS'])+'\x0a\x0aMaterial\x20Name:\x20'+_0x27928d['name']+'\x0aMaterial\x20Type:\x20'+_0x27928d['type']+'\x0a\x0aProgram\x20Info\x20Log:\x20'+_0x4d6561+'\x0a'+_0x8e4234+'\x0a'+_0x328f0f);}}else''!==_0x4d6561?console['warn']('THREE.WebGLProgram:\x20Program\x20Info\x20Log:',_0x4d6561):''!==_0x3a831f&&''!==_0x3fe375||(_0x22ebe8=!0x1);_0x22ebe8&&(_0x27928d['diagnostics']={'runnable':_0x33a3f7,'programLog':_0x4d6561,'vertexShader':{'log':_0x3a831f,'prefix':_0x24becd},'fragmentShader':{'log':_0x3fe375,'prefix':_0x1d9d8d}});}_0x47f9c2['deleteShader'](_0x522d95),_0x47f9c2['deleteShader'](_0x280d48),_0x1fdfc4=new _0x57a3f5(_0x47f9c2,_0x47dec2),_0x5a9eb6=function(_0x5ef5ea,_0x2fbe8d){const _0x29e0a0={},_0x949a45=_0x5ef5ea['getProgramParameter'](_0x2fbe8d,_0x5ef5ea['ACTIVE_ATTRIBUTES']);for(let _0x363681=0x0;_0x363681<_0x949a45;_0x363681++){const _0x9d3eb1=_0x5ef5ea['getActiveAttrib'](_0x2fbe8d,_0x363681),_0x15460e=_0x9d3eb1['name'];let _0x570b01=0x1;_0x9d3eb1['type']===_0x5ef5ea['FLOAT_MAT2']&&(_0x570b01=0x2),_0x9d3eb1['type']===_0x5ef5ea['FLOAT_MAT3']&&(_0x570b01=0x3),_0x9d3eb1['type']===_0x5ef5ea['FLOAT_MAT4']&&(_0x570b01=0x4),_0x29e0a0[_0x15460e]={'type':_0x9d3eb1['type'],'location':_0x5ef5ea['getAttribLocation'](_0x2fbe8d,_0x15460e),'locationSize':_0x570b01};}return _0x29e0a0;}(_0x47f9c2,_0x47dec2);}let _0x1fdfc4,_0x5a9eb6;_0x47f9c2['attachShader'](_0x47dec2,_0x522d95),_0x47f9c2['attachShader'](_0x47dec2,_0x280d48),void 0x0!==_0x15cb11['index0AttributeName']?_0x47f9c2['bindAttribLocation'](_0x47dec2,0x0,_0x15cb11['index0AttributeName']):!0x0===_0x15cb11['morphTargets']&&_0x47f9c2['bindAttribLocation'](_0x47dec2,0x0,'position'),_0x47f9c2['linkProgram'](_0x47dec2),this['getUniforms']=function(){return void 0x0===_0x1fdfc4&&_0x176b22(this),_0x1fdfc4;},this['getAttributes']=function(){return void 0x0===_0x5a9eb6&&_0x176b22(this),_0x5a9eb6;};let _0x462cd1=!0x1===_0x15cb11['rendererExtensionParallelShaderCompile'];return this['isReady']=function(){return!0x1===_0x462cd1&&(_0x462cd1=_0x47f9c2['getProgramParameter'](_0x47dec2,_0x1df890)),_0x462cd1;},this['destroy']=function(){_0xa1be69['releaseStatesOfProgram'](this),_0x47f9c2['deleteProgram'](_0x47dec2),this['program']=void 0x0;},this['type']=_0x15cb11['shaderType'],this['name']=_0x15cb11['shaderName'],this['id']=_0xf7d04++,this['cacheKey']=_0x328536,this['usedTimes']=0x1,this['program']=_0x47dec2,this['vertexShader']=_0x522d95,this['fragmentShader']=_0x280d48,this;}let _0x5034e6=0x0;class _0x2dfcf1{constructor(){this['shaderCache']=new Map(),this['materialCache']=new Map();}['update'](_0x347b65){const _0xd10808=_0x347b65['vertexShader'],_0x30fdf3=_0x347b65['fragmentShader'],_0x209546=this['_getShaderStage'](_0xd10808),_0x3026ae=this['_getShaderStage'](_0x30fdf3),_0xa38513=this['_getShaderCacheForMaterial'](_0x347b65);return!0x1===_0xa38513['has'](_0x209546)&&(_0xa38513['add'](_0x209546),_0x209546['usedTimes']++),!0x1===_0xa38513['has'](_0x3026ae)&&(_0xa38513['add'](_0x3026ae),_0x3026ae['usedTimes']++),this;}['remove'](_0x5d3f02){const _0x4be152=this['materialCache']['get'](_0x5d3f02);for(const _0x24b01e of _0x4be152)_0x24b01e['usedTimes']--,0x0===_0x24b01e['usedTimes']&&this['shaderCache']['delete'](_0x24b01e['code']);return this['materialCache']['delete'](_0x5d3f02),this;}['getVertexShaderID'](_0x21ef98){return this['_getShaderStage'](_0x21ef98['vertexShader'])['id'];}['getFragmentShaderID'](_0x2bba51){return this['_getShaderStage'](_0x2bba51['fragmentShader'])['id'];}['dispose'](){this['shaderCache']['clear'](),this['materialCache']['clear']();}['_getShaderCacheForMaterial'](_0x5397b4){const _0x4fccbd=this['materialCache'];let _0x187e5f=_0x4fccbd['get'](_0x5397b4);return void 0x0===_0x187e5f&&(_0x187e5f=new Set(),_0x4fccbd['set'](_0x5397b4,_0x187e5f)),_0x187e5f;}['_getShaderStage'](_0x385537){const _0x2076a2=this['shaderCache'];let _0x5ec3d5=_0x2076a2['get'](_0x385537);return void 0x0===_0x5ec3d5&&(_0x5ec3d5=new _0x53cfa(_0x385537),_0x2076a2['set'](_0x385537,_0x5ec3d5)),_0x5ec3d5;}}class _0x53cfa{constructor(_0x3453cb){this['id']=_0x5034e6++,this['code']=_0x3453cb,this['usedTimes']=0x0;}}function _0x37ef48(_0x4871c7,_0x5598d7,_0x378540,_0x311371,_0x3c7e90,_0x75ecbc,_0x2ec997){const _0x38efd8=new _0x42bc67['zgK'](),_0x18ba5b=new _0x2dfcf1(),_0x55d10c=new Set(),_0x3f2b51=[],_0x51c5ff=_0x3c7e90['logarithmicDepthBuffer'],_0x2ea1e5=_0x3c7e90['vertexTextures'];let _0x245317=_0x3c7e90['precision'];const _0x45d7ea={'MeshDepthMaterial':'depth','MeshDistanceMaterial':'distanceRGBA','MeshNormalMaterial':'normal','MeshBasicMaterial':'basic','MeshLambertMaterial':'lambert','MeshPhongMaterial':'phong','MeshToonMaterial':'toon','MeshStandardMaterial':'physical','MeshPhysicalMaterial':'physical','MeshMatcapMaterial':'matcap','LineBasicMaterial':'basic','LineDashedMaterial':'dashed','PointsMaterial':'points','ShadowMaterial':'shadow','SpriteMaterial':'sprite'};function _0x335c4d(_0x299077){return _0x55d10c['add'](_0x299077),0x0===_0x299077?'uv':'uv'+_0x299077;}return{'getParameters':function(_0x3b0c5f,_0xc6ebb2,_0xb50dd5,_0x3e7f82,_0x557d08){const _0x118ab9=_0x3e7f82['fog'],_0x5e667a=_0x557d08['geometry'],_0x5ab803=_0x3b0c5f['isMeshStandardMaterial']?_0x3e7f82['environment']:null,_0x454e30=(_0x3b0c5f['isMeshStandardMaterial']?_0x378540:_0x5598d7)['get'](_0x3b0c5f['envMap']||_0x5ab803),_0x4cdd8c=_0x454e30&&_0x454e30['mapping']===_0x42bc67['Om']?_0x454e30['image']['height']:null,_0x512212=_0x45d7ea[_0x3b0c5f['type']];null!==_0x3b0c5f['precision']&&(_0x245317=_0x3c7e90['getMaxPrecision'](_0x3b0c5f['precision']),_0x245317!==_0x3b0c5f['precision']&&console['warn']('THREE.WebGLProgram.getParameters:',_0x3b0c5f['precision'],'not\x20supported,\x20using',_0x245317,'instead.'));const _0x35175d=_0x5e667a['morphAttributes']['position']||_0x5e667a['morphAttributes']['normal']||_0x5e667a['morphAttributes']['color'],_0xa50689=void 0x0!==_0x35175d?_0x35175d['length']:0x0;let _0x38e719,_0x8505bd,_0x5be0c2,_0x52cefa,_0xbb39f1=0x0;if(void 0x0!==_0x5e667a['morphAttributes']['position']&&(_0xbb39f1=0x1),void 0x0!==_0x5e667a['morphAttributes']['normal']&&(_0xbb39f1=0x2),void 0x0!==_0x5e667a['morphAttributes']['color']&&(_0xbb39f1=0x3),_0x512212){const _0x592fc3=_0x335e00[_0x512212];_0x38e719=_0x592fc3['vertexShader'],_0x8505bd=_0x592fc3['fragmentShader'];}else _0x38e719=_0x3b0c5f['vertexShader'],_0x8505bd=_0x3b0c5f['fragmentShader'],_0x18ba5b['update'](_0x3b0c5f),_0x5be0c2=_0x18ba5b['getVertexShaderID'](_0x3b0c5f),_0x52cefa=_0x18ba5b['getFragmentShaderID'](_0x3b0c5f);const _0x4e8744=_0x4871c7['getRenderTarget'](),_0x1fbef2=_0x4871c7['state']['buffers']['depth']['getReversed'](),_0x29ed11=!0x0===_0x557d08['isInstancedMesh'],_0x4b9f9a=!0x0===_0x557d08['isBatchedMesh'],_0x47a104=!!_0x3b0c5f['map'],_0x28cea0=!!_0x3b0c5f['matcap'],_0x9512f=!!_0x454e30,_0x4d6418=!!_0x3b0c5f['aoMap'],_0x443646=!!_0x3b0c5f['lightMap'],_0x3aa750=!!_0x3b0c5f['bumpMap'],_0x219768=!!_0x3b0c5f['normalMap'],_0x1c2a6f=!!_0x3b0c5f['displacementMap'],_0x5510d8=!!_0x3b0c5f['emissiveMap'],_0x4f1b0e=!!_0x3b0c5f['metalnessMap'],_0x1aaf1a=!!_0x3b0c5f['roughnessMap'],_0x2fbc0b=_0x3b0c5f['anisotropy']>0x0,_0x2742bf=_0x3b0c5f['clearcoat']>0x0,_0x590e77=_0x3b0c5f['dispersion']>0x0,_0x41a8b3=_0x3b0c5f['iridescence']>0x0,_0x1c2100=_0x3b0c5f['sheen']>0x0,_0x273ae1=_0x3b0c5f['transmission']>0x0,_0x4b318e=_0x2fbc0b&&!!_0x3b0c5f['anisotropyMap'],_0x285091=_0x2742bf&&!!_0x3b0c5f['clearcoatMap'],_0x2c8511=_0x2742bf&&!!_0x3b0c5f['clearcoatNormalMap'],_0x4a489f=_0x2742bf&&!!_0x3b0c5f['clearcoatRoughnessMap'],_0x4605e1=_0x41a8b3&&!!_0x3b0c5f['iridescenceMap'],_0x10c7f3=_0x41a8b3&&!!_0x3b0c5f['iridescenceThicknessMap'],_0x322cfe=_0x1c2100&&!!_0x3b0c5f['sheenColorMap'],_0x582404=_0x1c2100&&!!_0x3b0c5f['sheenRoughnessMap'],_0x2228a8=!!_0x3b0c5f['specularMap'],_0x1995b5=!!_0x3b0c5f['specularColorMap'],_0x14c42a=!!_0x3b0c5f['specularIntensityMap'],_0x4632ab=_0x273ae1&&!!_0x3b0c5f['transmissionMap'],_0xaefe5a=_0x273ae1&&!!_0x3b0c5f['thicknessMap'],_0x1d824d=!!_0x3b0c5f['gradientMap'],_0xa91b3b=!!_0x3b0c5f['alphaMap'],_0x416339=_0x3b0c5f['alphaTest']>0x0,_0x3dd299=!!_0x3b0c5f['alphaHash'],_0x13a9e2=!!_0x3b0c5f['extensions'];let _0x27fbad=_0x42bc67['y_p'];_0x3b0c5f['toneMapped']&&(null!==_0x4e8744&&!0x0!==_0x4e8744['isXRRenderTarget']||(_0x27fbad=_0x4871c7['toneMapping']));const _0x4f7f3a={'shaderID':_0x512212,'shaderType':_0x3b0c5f['type'],'shaderName':_0x3b0c5f['name'],'vertexShader':_0x38e719,'fragmentShader':_0x8505bd,'defines':_0x3b0c5f['defines'],'customVertexShaderID':_0x5be0c2,'customFragmentShaderID':_0x52cefa,'isRawShaderMaterial':!0x0===_0x3b0c5f['isRawShaderMaterial'],'glslVersion':_0x3b0c5f['glslVersion'],'precision':_0x245317,'batching':_0x4b9f9a,'batchingColor':_0x4b9f9a&&null!==_0x557d08['_colorsTexture'],'instancing':_0x29ed11,'instancingColor':_0x29ed11&&null!==_0x557d08['instanceColor'],'instancingMorph':_0x29ed11&&null!==_0x557d08['morphTexture'],'supportsVertexTextures':_0x2ea1e5,'outputColorSpace':null===_0x4e8744?_0x4871c7['outputColorSpace']:!0x0===_0x4e8744['isXRRenderTarget']?_0x4e8744['texture']['colorSpace']:_0x42bc67['Zr2'],'alphaToCoverage':!!_0x3b0c5f['alphaToCoverage'],'map':_0x47a104,'matcap':_0x28cea0,'envMap':_0x9512f,'envMapMode':_0x9512f&&_0x454e30['mapping'],'envMapCubeUVHeight':_0x4cdd8c,'aoMap':_0x4d6418,'lightMap':_0x443646,'bumpMap':_0x3aa750,'normalMap':_0x219768,'displacementMap':_0x2ea1e5&&_0x1c2a6f,'emissiveMap':_0x5510d8,'normalMapObjectSpace':_0x219768&&_0x3b0c5f['normalMapType']===_0x42bc67['vyJ'],'normalMapTangentSpace':_0x219768&&_0x3b0c5f['normalMapType']===_0x42bc67['bI3'],'metalnessMap':_0x4f1b0e,'roughnessMap':_0x1aaf1a,'anisotropy':_0x2fbc0b,'anisotropyMap':_0x4b318e,'clearcoat':_0x2742bf,'clearcoatMap':_0x285091,'clearcoatNormalMap':_0x2c8511,'clearcoatRoughnessMap':_0x4a489f,'dispersion':_0x590e77,'iridescence':_0x41a8b3,'iridescenceMap':_0x4605e1,'iridescenceThicknessMap':_0x10c7f3,'sheen':_0x1c2100,'sheenColorMap':_0x322cfe,'sheenRoughnessMap':_0x582404,'specularMap':_0x2228a8,'specularColorMap':_0x1995b5,'specularIntensityMap':_0x14c42a,'transmission':_0x273ae1,'transmissionMap':_0x4632ab,'thicknessMap':_0xaefe5a,'gradientMap':_0x1d824d,'opaque':!0x1===_0x3b0c5f['transparent']&&_0x3b0c5f['blending']===_0x42bc67['NTi']&&!0x1===_0x3b0c5f['alphaToCoverage'],'alphaMap':_0xa91b3b,'alphaTest':_0x416339,'alphaHash':_0x3dd299,'combine':_0x3b0c5f['combine'],'mapUv':_0x47a104&&_0x335c4d(_0x3b0c5f['map']['channel']),'aoMapUv':_0x4d6418&&_0x335c4d(_0x3b0c5f['aoMap']['channel']),'lightMapUv':_0x443646&&_0x335c4d(_0x3b0c5f['lightMap']['channel']),'bumpMapUv':_0x3aa750&&_0x335c4d(_0x3b0c5f['bumpMap']['channel']),'normalMapUv':_0x219768&&_0x335c4d(_0x3b0c5f['normalMap']['channel']),'displacementMapUv':_0x1c2a6f&&_0x335c4d(_0x3b0c5f['displacementMap']['channel']),'emissiveMapUv':_0x5510d8&&_0x335c4d(_0x3b0c5f['emissiveMap']['channel']),'metalnessMapUv':_0x4f1b0e&&_0x335c4d(_0x3b0c5f['metalnessMap']['channel']),'roughnessMapUv':_0x1aaf1a&&_0x335c4d(_0x3b0c5f['roughnessMap']['channel']),'anisotropyMapUv':_0x4b318e&&_0x335c4d(_0x3b0c5f['anisotropyMap']['channel']),'clearcoatMapUv':_0x285091&&_0x335c4d(_0x3b0c5f['clearcoatMap']['channel']),'clearcoatNormalMapUv':_0x2c8511&&_0x335c4d(_0x3b0c5f['clearcoatNormalMap']['channel']),'clearcoatRoughnessMapUv':_0x4a489f&&_0x335c4d(_0x3b0c5f['clearcoatRoughnessMap']['channel']),'iridescenceMapUv':_0x4605e1&&_0x335c4d(_0x3b0c5f['iridescenceMap']['channel']),'iridescenceThicknessMapUv':_0x10c7f3&&_0x335c4d(_0x3b0c5f['iridescenceThicknessMap']['channel']),'sheenColorMapUv':_0x322cfe&&_0x335c4d(_0x3b0c5f['sheenColorMap']['channel']),'sheenRoughnessMapUv':_0x582404&&_0x335c4d(_0x3b0c5f['sheenRoughnessMap']['channel']),'specularMapUv':_0x2228a8&&_0x335c4d(_0x3b0c5f['specularMap']['channel']),'specularColorMapUv':_0x1995b5&&_0x335c4d(_0x3b0c5f['specularColorMap']['channel']),'specularIntensityMapUv':_0x14c42a&&_0x335c4d(_0x3b0c5f['specularIntensityMap']['channel']),'transmissionMapUv':_0x4632ab&&_0x335c4d(_0x3b0c5f['transmissionMap']['channel']),'thicknessMapUv':_0xaefe5a&&_0x335c4d(_0x3b0c5f['thicknessMap']['channel']),'alphaMapUv':_0xa91b3b&&_0x335c4d(_0x3b0c5f['alphaMap']['channel']),'vertexTangents':!!_0x5e667a['attributes']['tangent']&&(_0x219768||_0x2fbc0b),'vertexColors':_0x3b0c5f['vertexColors'],'vertexAlphas':!0x0===_0x3b0c5f['vertexColors']&&!!_0x5e667a['attributes']['color']&&0x4===_0x5e667a['attributes']['color']['itemSize'],'pointsUvs':!0x0===_0x557d08['isPoints']&&!!_0x5e667a['attributes']['uv']&&(_0x47a104||_0xa91b3b),'fog':!!_0x118ab9,'useFog':!0x0===_0x3b0c5f['fog'],'fogExp2':!!_0x118ab9&&_0x118ab9['isFogExp2'],'flatShading':!0x0===_0x3b0c5f['flatShading'],'sizeAttenuation':!0x0===_0x3b0c5f['sizeAttenuation'],'logarithmicDepthBuffer':_0x51c5ff,'reverseDepthBuffer':_0x1fbef2,'skinning':!0x0===_0x557d08['isSkinnedMesh'],'morphTargets':void 0x0!==_0x5e667a['morphAttributes']['position'],'morphNormals':void 0x0!==_0x5e667a['morphAttributes']['normal'],'morphColors':void 0x0!==_0x5e667a['morphAttributes']['color'],'morphTargetsCount':_0xa50689,'morphTextureStride':_0xbb39f1,'numDirLights':_0xc6ebb2['directional']['length'],'numPointLights':_0xc6ebb2['point']['length'],'numSpotLights':_0xc6ebb2['spot']['length'],'numSpotLightMaps':_0xc6ebb2['spotLightMap']['length'],'numRectAreaLights':_0xc6ebb2['rectArea']['length'],'numHemiLights':_0xc6ebb2['hemi']['length'],'numDirLightShadows':_0xc6ebb2['directionalShadowMap']['length'],'numPointLightShadows':_0xc6ebb2['pointShadowMap']['length'],'numSpotLightShadows':_0xc6ebb2['spotShadowMap']['length'],'numSpotLightShadowsWithMaps':_0xc6ebb2['numSpotLightShadowsWithMaps'],'numLightProbes':_0xc6ebb2['numLightProbes'],'numClippingPlanes':_0x2ec997['numPlanes'],'numClipIntersection':_0x2ec997['numIntersection'],'dithering':_0x3b0c5f['dithering'],'shadowMapEnabled':_0x4871c7['shadowMap']['enabled']&&_0xb50dd5['length']>0x0,'shadowMapType':_0x4871c7['shadowMap']['type'],'toneMapping':_0x27fbad,'decodeVideoTexture':_0x47a104&&!0x0===_0x3b0c5f['map']['isVideoTexture']&&_0x42bc67['ppV']['getTransfer'](_0x3b0c5f['map']['colorSpace'])===_0x42bc67['KLL'],'decodeVideoTextureEmissive':_0x5510d8&&!0x0===_0x3b0c5f['emissiveMap']['isVideoTexture']&&_0x42bc67['ppV']['getTransfer'](_0x3b0c5f['emissiveMap']['colorSpace'])===_0x42bc67['KLL'],'premultipliedAlpha':_0x3b0c5f['premultipliedAlpha'],'doubleSided':_0x3b0c5f['side']===_0x42bc67['$EB'],'flipSided':_0x3b0c5f['side']===_0x42bc67['hsX'],'useDepthPacking':_0x3b0c5f['depthPacking']>=0x0,'depthPacking':_0x3b0c5f['depthPacking']||0x0,'index0AttributeName':_0x3b0c5f['index0AttributeName'],'extensionClipCullDistance':_0x13a9e2&&!0x0===_0x3b0c5f['extensions']['clipCullDistance']&&_0x311371['has']('WEBGL_clip_cull_distance'),'extensionMultiDraw':(_0x13a9e2&&!0x0===_0x3b0c5f['extensions']['multiDraw']||_0x4b9f9a)&&_0x311371['has']('WEBGL_multi_draw'),'rendererExtensionParallelShaderCompile':_0x311371['has']('KHR_parallel_shader_compile'),'customProgramCacheKey':_0x3b0c5f['customProgramCacheKey']()};return _0x4f7f3a['vertexUv1s']=_0x55d10c['has'](0x1),_0x4f7f3a['vertexUv2s']=_0x55d10c['has'](0x2),_0x4f7f3a['vertexUv3s']=_0x55d10c['has'](0x3),_0x55d10c['clear'](),_0x4f7f3a;},'getProgramCacheKey':function(_0x1dae3a){const _0x121b07=[];if(_0x1dae3a['shaderID']?_0x121b07['push'](_0x1dae3a['shaderID']):(_0x121b07['push'](_0x1dae3a['customVertexShaderID']),_0x121b07['push'](_0x1dae3a['customFragmentShaderID'])),void 0x0!==_0x1dae3a['defines']){for(const _0x27ba77 in _0x1dae3a['defines'])_0x121b07['push'](_0x27ba77),_0x121b07['push'](_0x1dae3a['defines'][_0x27ba77]);}return!0x1===_0x1dae3a['isRawShaderMaterial']&&(!function(_0x146a78,_0x11f56c){_0x146a78['push'](_0x11f56c['precision']),_0x146a78['push'](_0x11f56c['outputColorSpace']),_0x146a78['push'](_0x11f56c['envMapMode']),_0x146a78['push'](_0x11f56c['envMapCubeUVHeight']),_0x146a78['push'](_0x11f56c['mapUv']),_0x146a78['push'](_0x11f56c['alphaMapUv']),_0x146a78['push'](_0x11f56c['lightMapUv']),_0x146a78['push'](_0x11f56c['aoMapUv']),_0x146a78['push'](_0x11f56c['bumpMapUv']),_0x146a78['push'](_0x11f56c['normalMapUv']),_0x146a78['push'](_0x11f56c['displacementMapUv']),_0x146a78['push'](_0x11f56c['emissiveMapUv']),_0x146a78['push'](_0x11f56c['metalnessMapUv']),_0x146a78['push'](_0x11f56c['roughnessMapUv']),_0x146a78['push'](_0x11f56c['anisotropyMapUv']),_0x146a78['push'](_0x11f56c['clearcoatMapUv']),_0x146a78['push'](_0x11f56c['clearcoatNormalMapUv']),_0x146a78['push'](_0x11f56c['clearcoatRoughnessMapUv']),_0x146a78['push'](_0x11f56c['iridescenceMapUv']),_0x146a78['push'](_0x11f56c['iridescenceThicknessMapUv']),_0x146a78['push'](_0x11f56c['sheenColorMapUv']),_0x146a78['push'](_0x11f56c['sheenRoughnessMapUv']),_0x146a78['push'](_0x11f56c['specularMapUv']),_0x146a78['push'](_0x11f56c['specularColorMapUv']),_0x146a78['push'](_0x11f56c['specularIntensityMapUv']),_0x146a78['push'](_0x11f56c['transmissionMapUv']),_0x146a78['push'](_0x11f56c['thicknessMapUv']),_0x146a78['push'](_0x11f56c['combine']),_0x146a78['push'](_0x11f56c['fogExp2']),_0x146a78['push'](_0x11f56c['sizeAttenuation']),_0x146a78['push'](_0x11f56c['morphTargetsCount']),_0x146a78['push'](_0x11f56c['morphAttributeCount']),_0x146a78['push'](_0x11f56c['numDirLights']),_0x146a78['push'](_0x11f56c['numPointLights']),_0x146a78['push'](_0x11f56c['numSpotLights']),_0x146a78['push'](_0x11f56c['numSpotLightMaps']),_0x146a78['push'](_0x11f56c['numHemiLights']),_0x146a78['push'](_0x11f56c['numRectAreaLights']),_0x146a78['push'](_0x11f56c['numDirLightShadows']),_0x146a78['push'](_0x11f56c['numPointLightShadows']),_0x146a78['push'](_0x11f56c['numSpotLightShadows']),_0x146a78['push'](_0x11f56c['numSpotLightShadowsWithMaps']),_0x146a78['push'](_0x11f56c['numLightProbes']),_0x146a78['push'](_0x11f56c['shadowMapType']),_0x146a78['push'](_0x11f56c['toneMapping']),_0x146a78['push'](_0x11f56c['numClippingPlanes']),_0x146a78['push'](_0x11f56c['numClipIntersection']),_0x146a78['push'](_0x11f56c['depthPacking']);}(_0x121b07,_0x1dae3a),function(_0x120868,_0x35cd47){_0x38efd8['disableAll'](),_0x35cd47['supportsVertexTextures']&&_0x38efd8['enable'](0x0),_0x35cd47['instancing']&&_0x38efd8['enable'](0x1),_0x35cd47['instancingColor']&&_0x38efd8['enable'](0x2),_0x35cd47['instancingMorph']&&_0x38efd8['enable'](0x3),_0x35cd47['matcap']&&_0x38efd8['enable'](0x4),_0x35cd47['envMap']&&_0x38efd8['enable'](0x5),_0x35cd47['normalMapObjectSpace']&&_0x38efd8['enable'](0x6),_0x35cd47['normalMapTangentSpace']&&_0x38efd8['enable'](0x7),_0x35cd47['clearcoat']&&_0x38efd8['enable'](0x8),_0x35cd47['iridescence']&&_0x38efd8['enable'](0x9),_0x35cd47['alphaTest']&&_0x38efd8['enable'](0xa),_0x35cd47['vertexColors']&&_0x38efd8['enable'](0xb),_0x35cd47['vertexAlphas']&&_0x38efd8['enable'](0xc),_0x35cd47['vertexUv1s']&&_0x38efd8['enable'](0xd),_0x35cd47['vertexUv2s']&&_0x38efd8['enable'](0xe),_0x35cd47['vertexUv3s']&&_0x38efd8['enable'](0xf),_0x35cd47['vertexTangents']&&_0x38efd8['enable'](0x10),_0x35cd47['anisotropy']&&_0x38efd8['enable'](0x11),_0x35cd47['alphaHash']&&_0x38efd8['enable'](0x12),_0x35cd47['batching']&&_0x38efd8['enable'](0x13),_0x35cd47['dispersion']&&_0x38efd8['enable'](0x14),_0x35cd47['batchingColor']&&_0x38efd8['enable'](0x15),(_0x120868['push'](_0x38efd8['mask']),_0x38efd8['disableAll'](),_0x35cd47['fog']&&_0x38efd8['enable'](0x0)),_0x35cd47['useFog']&&_0x38efd8['enable'](0x1),_0x35cd47['flatShading']&&_0x38efd8['enable'](0x2),_0x35cd47['logarithmicDepthBuffer']&&_0x38efd8['enable'](0x3),_0x35cd47['reverseDepthBuffer']&&_0x38efd8['enable'](0x4),_0x35cd47['skinning']&&_0x38efd8['enable'](0x5),_0x35cd47['morphTargets']&&_0x38efd8['enable'](0x6),_0x35cd47['morphNormals']&&_0x38efd8['enable'](0x7),_0x35cd47['morphColors']&&_0x38efd8['enable'](0x8),_0x35cd47['premultipliedAlpha']&&_0x38efd8['enable'](0x9),_0x35cd47['shadowMapEnabled']&&_0x38efd8['enable'](0xa),_0x35cd47['doubleSided']&&_0x38efd8['enable'](0xb),_0x35cd47['flipSided']&&_0x38efd8['enable'](0xc),_0x35cd47['useDepthPacking']&&_0x38efd8['enable'](0xd),_0x35cd47['dithering']&&_0x38efd8['enable'](0xe),_0x35cd47['transmission']&&_0x38efd8['enable'](0xf),_0x35cd47['sheen']&&_0x38efd8['enable'](0x10),_0x35cd47['opaque']&&_0x38efd8['enable'](0x11),_0x35cd47['pointsUvs']&&_0x38efd8['enable'](0x12),_0x35cd47['decodeVideoTexture']&&_0x38efd8['enable'](0x13),_0x35cd47['decodeVideoTextureEmissive']&&_0x38efd8['enable'](0x14),_0x35cd47['alphaToCoverage']&&_0x38efd8['enable'](0x15),_0x120868['push'](_0x38efd8['mask']);}(_0x121b07,_0x1dae3a),_0x121b07['push'](_0x4871c7['outputColorSpace'])),_0x121b07['push'](_0x1dae3a['customProgramCacheKey']),_0x121b07['join']();},'getUniforms':function(_0x2d07d4){const _0x4a9241=_0x45d7ea[_0x2d07d4['type']];let _0xe16cb2;if(_0x4a9241){const _0x589693=_0x335e00[_0x4a9241];_0xe16cb2=_0x42bc67['LlO']['clone'](_0x589693['uniforms']);}else _0xe16cb2=_0x2d07d4['uniforms'];return _0xe16cb2;},'acquireProgram':function(_0x75366c,_0x618c8e){let _0x4c663e;for(let _0x2de989=0x0,_0xeb2d35=_0x3f2b51['length'];_0x2de989<_0xeb2d35;_0x2de989++){const _0x544a93=_0x3f2b51[_0x2de989];if(_0x544a93['cacheKey']===_0x618c8e){_0x4c663e=_0x544a93,++_0x4c663e['usedTimes'];break;}}return void 0x0===_0x4c663e&&(_0x4c663e=new _0x383402(_0x4871c7,_0x618c8e,_0x75366c,_0x75ecbc),_0x3f2b51['push'](_0x4c663e)),_0x4c663e;},'releaseProgram':function(_0x8cc89d){if(0x0==--_0x8cc89d['usedTimes']){const _0x50d88e=_0x3f2b51['indexOf'](_0x8cc89d);_0x3f2b51[_0x50d88e]=_0x3f2b51[_0x3f2b51['length']-0x1],_0x3f2b51['pop'](),_0x8cc89d['destroy']();}},'releaseShaderCache':function(_0x4487be){_0x18ba5b['remove'](_0x4487be);},'programs':_0x3f2b51,'dispose':function(){_0x18ba5b['dispose']();}};}function _0x4e2e1c(){let _0x2feb4a=new WeakMap();return{'has':function(_0x4f52af){return _0x2feb4a['has'](_0x4f52af);},'get':function(_0x10380d){let _0x4e366d=_0x2feb4a['get'](_0x10380d);return void 0x0===_0x4e366d&&(_0x4e366d={},_0x2feb4a['set'](_0x10380d,_0x4e366d)),_0x4e366d;},'remove':function(_0x553c9d){_0x2feb4a['delete'](_0x553c9d);},'update':function(_0x298429,_0xb9ba89,_0xe9f438){_0x2feb4a['get'](_0x298429)[_0xb9ba89]=_0xe9f438;},'dispose':function(){_0x2feb4a=new WeakMap();}};}function _0x3e1fc3(_0x1cebd5,_0xc1dfc8){return _0x1cebd5['groupOrder']!==_0xc1dfc8['groupOrder']?_0x1cebd5['groupOrder']-_0xc1dfc8['groupOrder']:_0x1cebd5['renderOrder']!==_0xc1dfc8['renderOrder']?_0x1cebd5['renderOrder']-_0xc1dfc8['renderOrder']:_0x1cebd5['material']['id']!==_0xc1dfc8['material']['id']?_0x1cebd5['material']['id']-_0xc1dfc8['material']['id']:_0x1cebd5['z']!==_0xc1dfc8['z']?_0x1cebd5['z']-_0xc1dfc8['z']:_0x1cebd5['id']-_0xc1dfc8['id'];}function _0x858398(_0x590cb1,_0x75f18b){return _0x590cb1['groupOrder']!==_0x75f18b['groupOrder']?_0x590cb1['groupOrder']-_0x75f18b['groupOrder']:_0x590cb1['renderOrder']!==_0x75f18b['renderOrder']?_0x590cb1['renderOrder']-_0x75f18b['renderOrder']:_0x590cb1['z']!==_0x75f18b['z']?_0x75f18b['z']-_0x590cb1['z']:_0x590cb1['id']-_0x75f18b['id'];}function _0x258f28(){const _0x262876=[];let _0x4c9b79=0x0;const _0x29382f=[],_0x12ff6b=[],_0xa6f081=[];function _0x228dfa(_0xb4d1b7,_0x4137fd,_0x3704c5,_0x89210c,_0x426838,_0x2d5fde){let _0x489a4a=_0x262876[_0x4c9b79];return void 0x0===_0x489a4a?(_0x489a4a={'id':_0xb4d1b7['id'],'object':_0xb4d1b7,'geometry':_0x4137fd,'material':_0x3704c5,'groupOrder':_0x89210c,'renderOrder':_0xb4d1b7['renderOrder'],'z':_0x426838,'group':_0x2d5fde},_0x262876[_0x4c9b79]=_0x489a4a):(_0x489a4a['id']=_0xb4d1b7['id'],_0x489a4a['object']=_0xb4d1b7,_0x489a4a['geometry']=_0x4137fd,_0x489a4a['material']=_0x3704c5,_0x489a4a['groupOrder']=_0x89210c,_0x489a4a['renderOrder']=_0xb4d1b7['renderOrder'],_0x489a4a['z']=_0x426838,_0x489a4a['group']=_0x2d5fde),_0x4c9b79++,_0x489a4a;}return{'opaque':_0x29382f,'transmissive':_0x12ff6b,'transparent':_0xa6f081,'init':function(){_0x4c9b79=0x0,_0x29382f['length']=0x0,_0x12ff6b['length']=0x0,_0xa6f081['length']=0x0;},'push':function(_0x301b46,_0x4253ca,_0x1af487,_0x16201d,_0x2f42fb,_0x124b5d){const _0x329bf4=_0x228dfa(_0x301b46,_0x4253ca,_0x1af487,_0x16201d,_0x2f42fb,_0x124b5d);_0x1af487['transmission']>0x0?_0x12ff6b['push'](_0x329bf4):!0x0===_0x1af487['transparent']?_0xa6f081['push'](_0x329bf4):_0x29382f['push'](_0x329bf4);},'unshift':function(_0x507943,_0x248255,_0x2f8296,_0x13f173,_0x3f09f9,_0x54a511){const _0x1aa30c=_0x228dfa(_0x507943,_0x248255,_0x2f8296,_0x13f173,_0x3f09f9,_0x54a511);_0x2f8296['transmission']>0x0?_0x12ff6b['unshift'](_0x1aa30c):!0x0===_0x2f8296['transparent']?_0xa6f081['unshift'](_0x1aa30c):_0x29382f['unshift'](_0x1aa30c);},'finish':function(){for(let _0x76ce16=_0x4c9b79,_0xad311b=_0x262876['length'];_0x76ce16<_0xad311b;_0x76ce16++){const _0x428d1f=_0x262876[_0x76ce16];if(null===_0x428d1f['id'])break;_0x428d1f['id']=null,_0x428d1f['object']=null,_0x428d1f['geometry']=null,_0x428d1f['material']=null,_0x428d1f['group']=null;}},'sort':function(_0x4aa415,_0x2abbbb){_0x29382f['length']>0x1&&_0x29382f['sort'](_0x4aa415||_0x3e1fc3),_0x12ff6b['length']>0x1&&_0x12ff6b['sort'](_0x2abbbb||_0x858398),_0xa6f081['length']>0x1&&_0xa6f081['sort'](_0x2abbbb||_0x858398);}};}function _0x478042(){let _0x1c5517=new WeakMap();return{'get':function(_0x198f42,_0xf86155){const _0x31a1e1=_0x1c5517['get'](_0x198f42);let _0x4b353b;return void 0x0===_0x31a1e1?(_0x4b353b=new _0x258f28(),_0x1c5517['set'](_0x198f42,[_0x4b353b])):_0xf86155>=_0x31a1e1['length']?(_0x4b353b=new _0x258f28(),_0x31a1e1['push'](_0x4b353b)):_0x4b353b=_0x31a1e1[_0xf86155],_0x4b353b;},'dispose':function(){_0x1c5517=new WeakMap();}};}function _0x41583a(){const _0x2188f2={};return{'get':function(_0x37add3){if(void 0x0!==_0x2188f2[_0x37add3['id']])return _0x2188f2[_0x37add3['id']];let _0x92db40;switch(_0x37add3['type']){case'DirectionalLight':_0x92db40={'direction':new _0x42bc67['Pq0'](),'color':new _0x42bc67['Q1f']()};break;case'SpotLight':_0x92db40={'position':new _0x42bc67['Pq0'](),'direction':new _0x42bc67['Pq0'](),'color':new _0x42bc67['Q1f'](),'distance':0x0,'coneCos':0x0,'penumbraCos':0x0,'decay':0x0};break;case'PointLight':_0x92db40={'position':new _0x42bc67['Pq0'](),'color':new _0x42bc67['Q1f'](),'distance':0x0,'decay':0x0};break;case'HemisphereLight':_0x92db40={'direction':new _0x42bc67['Pq0'](),'skyColor':new _0x42bc67['Q1f'](),'groundColor':new _0x42bc67['Q1f']()};break;case'RectAreaLight':_0x92db40={'color':new _0x42bc67['Q1f'](),'position':new _0x42bc67['Pq0'](),'halfWidth':new _0x42bc67['Pq0'](),'halfHeight':new _0x42bc67['Pq0']()};}return _0x2188f2[_0x37add3['id']]=_0x92db40,_0x92db40;}};}let _0x2a9af6=0x0;function _0x268e75(_0x1f008f,_0x4d4236){return(_0x4d4236['castShadow']?0x2:0x0)-(_0x1f008f['castShadow']?0x2:0x0)+(_0x4d4236['map']?0x1:0x0)-(_0x1f008f['map']?0x1:0x0);}function _0x362469(_0x5d9f42){const _0x406026=new _0x41583a(),_0x3b121b=(function(){const _0x4179ad={};return{'get':function(_0x5161fa){if(void 0x0!==_0x4179ad[_0x5161fa['id']])return _0x4179ad[_0x5161fa['id']];let _0x56a9e8;switch(_0x5161fa['type']){case'DirectionalLight':case'SpotLight':_0x56a9e8={'shadowIntensity':0x1,'shadowBias':0x0,'shadowNormalBias':0x0,'shadowRadius':0x1,'shadowMapSize':new _0x42bc67['I9Y']()};break;case'PointLight':_0x56a9e8={'shadowIntensity':0x1,'shadowBias':0x0,'shadowNormalBias':0x0,'shadowRadius':0x1,'shadowMapSize':new _0x42bc67['I9Y'](),'shadowCameraNear':0x1,'shadowCameraFar':0x3e8};}return _0x4179ad[_0x5161fa['id']]=_0x56a9e8,_0x56a9e8;}};}()),_0x45418f={'version':0x0,'hash':{'directionalLength':-0x1,'pointLength':-0x1,'spotLength':-0x1,'rectAreaLength':-0x1,'hemiLength':-0x1,'numDirectionalShadows':-0x1,'numPointShadows':-0x1,'numSpotShadows':-0x1,'numSpotMaps':-0x1,'numLightProbes':-0x1},'ambient':[0x0,0x0,0x0],'probe':[],'directional':[],'directionalShadow':[],'directionalShadowMap':[],'directionalShadowMatrix':[],'spot':[],'spotLightMap':[],'spotShadow':[],'spotShadowMap':[],'spotLightMatrix':[],'rectArea':[],'rectAreaLTC1':null,'rectAreaLTC2':null,'point':[],'pointShadow':[],'pointShadowMap':[],'pointShadowMatrix':[],'hemi':[],'numSpotLightShadowsWithMaps':0x0,'numLightProbes':0x0};for(let _0xc4d78f=0x0;_0xc4d78f<0x9;_0xc4d78f++)_0x45418f['probe']['push'](new _0x42bc67['Pq0']());const _0xe42d55=new _0x42bc67['Pq0'](),_0xfd0bb9=new _0x42bc67['kn4'](),_0x85024b=new _0x42bc67['kn4']();return{'setup':function(_0xe9fc90){let _0x1f1a11=0x0,_0x2d6b91=0x0,_0x4a41cb=0x0;for(let _0x1745c2=0x0;_0x1745c2<0x9;_0x1745c2++)_0x45418f['probe'][_0x1745c2]['set'](0x0,0x0,0x0);let _0x29e6f8=0x0,_0x35355a=0x0,_0x17c973=0x0,_0x454769=0x0,_0xd51d75=0x0,_0x510aa7=0x0,_0x21849d=0x0,_0x1468da=0x0,_0x53fe88=0x0,_0x5af6db=0x0,_0x34ec16=0x0;_0xe9fc90['sort'](_0x268e75);for(let _0x3ab129=0x0,_0x47b5e5=_0xe9fc90['length'];_0x3ab129<_0x47b5e5;_0x3ab129++){const _0x379138=_0xe9fc90[_0x3ab129],_0x3823c7=_0x379138['color'],_0x72f0fc=_0x379138['intensity'],_0x3c7a21=_0x379138['distance'],_0x4f40e6=_0x379138['shadow']&&_0x379138['shadow']['map']?_0x379138['shadow']['map']['texture']:null;if(_0x379138['isAmbientLight'])_0x1f1a11+=_0x3823c7['r']*_0x72f0fc,_0x2d6b91+=_0x3823c7['g']*_0x72f0fc,_0x4a41cb+=_0x3823c7['b']*_0x72f0fc;else{if(_0x379138['isLightProbe']){for(let _0x4c4db9=0x0;_0x4c4db9<0x9;_0x4c4db9++)_0x45418f['probe'][_0x4c4db9]['addScaledVector'](_0x379138['sh']['coefficients'][_0x4c4db9],_0x72f0fc);_0x34ec16++;}else{if(_0x379138['isDirectionalLight']){const _0x48de03=_0x406026['get'](_0x379138);if(_0x48de03['color']['copy'](_0x379138['color'])['multiplyScalar'](_0x379138['intensity']),_0x379138['castShadow']){const _0x5ec4ba=_0x379138['shadow'],_0x58c805=_0x3b121b['get'](_0x379138);_0x58c805['shadowIntensity']=_0x5ec4ba['intensity'],_0x58c805['shadowBias']=_0x5ec4ba['bias'],_0x58c805['shadowNormalBias']=_0x5ec4ba['normalBias'],_0x58c805['shadowRadius']=_0x5ec4ba['radius'],_0x58c805['shadowMapSize']=_0x5ec4ba['mapSize'],_0x45418f['directionalShadow'][_0x29e6f8]=_0x58c805,_0x45418f['directionalShadowMap'][_0x29e6f8]=_0x4f40e6,_0x45418f['directionalShadowMatrix'][_0x29e6f8]=_0x379138['shadow']['matrix'],_0x510aa7++;}_0x45418f['directional'][_0x29e6f8]=_0x48de03,_0x29e6f8++;}else{if(_0x379138['isSpotLight']){const _0x363e54=_0x406026['get'](_0x379138);_0x363e54['position']['setFromMatrixPosition'](_0x379138['matrixWorld']),_0x363e54['color']['copy'](_0x3823c7)['multiplyScalar'](_0x72f0fc),_0x363e54['distance']=_0x3c7a21,_0x363e54['coneCos']=Math['cos'](_0x379138['angle']),_0x363e54['penumbraCos']=Math['cos'](_0x379138['angle']*(0x1-_0x379138['penumbra'])),_0x363e54['decay']=_0x379138['decay'],_0x45418f['spot'][_0x17c973]=_0x363e54;const _0x3dca8b=_0x379138['shadow'];if(_0x379138['map']&&(_0x45418f['spotLightMap'][_0x53fe88]=_0x379138['map'],_0x53fe88++,_0x3dca8b['updateMatrices'](_0x379138),_0x379138['castShadow']&&_0x5af6db++),_0x45418f['spotLightMatrix'][_0x17c973]=_0x3dca8b['matrix'],_0x379138['castShadow']){const _0x43f6bb=_0x3b121b['get'](_0x379138);_0x43f6bb['shadowIntensity']=_0x3dca8b['intensity'],_0x43f6bb['shadowBias']=_0x3dca8b['bias'],_0x43f6bb['shadowNormalBias']=_0x3dca8b['normalBias'],_0x43f6bb['shadowRadius']=_0x3dca8b['radius'],_0x43f6bb['shadowMapSize']=_0x3dca8b['mapSize'],_0x45418f['spotShadow'][_0x17c973]=_0x43f6bb,_0x45418f['spotShadowMap'][_0x17c973]=_0x4f40e6,_0x1468da++;}_0x17c973++;}else{if(_0x379138['isRectAreaLight']){const _0x21abb8=_0x406026['get'](_0x379138);_0x21abb8['color']['copy'](_0x3823c7)['multiplyScalar'](_0x72f0fc),_0x21abb8['halfWidth']['set'](0.5*_0x379138['width'],0x0,0x0),_0x21abb8['halfHeight']['set'](0x0,0.5*_0x379138['height'],0x0),_0x45418f['rectArea'][_0x454769]=_0x21abb8,_0x454769++;}else{if(_0x379138['isPointLight']){const _0x14895b=_0x406026['get'](_0x379138);if(_0x14895b['color']['copy'](_0x379138['color'])['multiplyScalar'](_0x379138['intensity']),_0x14895b['distance']=_0x379138['distance'],_0x14895b['decay']=_0x379138['decay'],_0x379138['castShadow']){const _0x13c6ae=_0x379138['shadow'],_0x4cc08f=_0x3b121b['get'](_0x379138);_0x4cc08f['shadowIntensity']=_0x13c6ae['intensity'],_0x4cc08f['shadowBias']=_0x13c6ae['bias'],_0x4cc08f['shadowNormalBias']=_0x13c6ae['normalBias'],_0x4cc08f['shadowRadius']=_0x13c6ae['radius'],_0x4cc08f['shadowMapSize']=_0x13c6ae['mapSize'],_0x4cc08f['shadowCameraNear']=_0x13c6ae['camera']['near'],_0x4cc08f['shadowCameraFar']=_0x13c6ae['camera']['far'],_0x45418f['pointShadow'][_0x35355a]=_0x4cc08f,_0x45418f['pointShadowMap'][_0x35355a]=_0x4f40e6,_0x45418f['pointShadowMatrix'][_0x35355a]=_0x379138['shadow']['matrix'],_0x21849d++;}_0x45418f['point'][_0x35355a]=_0x14895b,_0x35355a++;}else{if(_0x379138['isHemisphereLight']){const _0x4f58d5=_0x406026['get'](_0x379138);_0x4f58d5['skyColor']['copy'](_0x379138['color'])['multiplyScalar'](_0x72f0fc),_0x4f58d5['groundColor']['copy'](_0x379138['groundColor'])['multiplyScalar'](_0x72f0fc),_0x45418f['hemi'][_0xd51d75]=_0x4f58d5,_0xd51d75++;}}}}}}}}_0x454769>0x0&&(!0x0===_0x5d9f42['has']('OES_texture_float_linear')?(_0x45418f['rectAreaLTC1']=_0x3719fd['LTC_FLOAT_1'],_0x45418f['rectAreaLTC2']=_0x3719fd['LTC_FLOAT_2']):(_0x45418f['rectAreaLTC1']=_0x3719fd['LTC_HALF_1'],_0x45418f['rectAreaLTC2']=_0x3719fd['LTC_HALF_2'])),_0x45418f['ambient'][0x0]=_0x1f1a11,_0x45418f['ambient'][0x1]=_0x2d6b91,_0x45418f['ambient'][0x2]=_0x4a41cb;const _0x34fc8e=_0x45418f['hash'];_0x34fc8e['directionalLength']===_0x29e6f8&&_0x34fc8e['pointLength']===_0x35355a&&_0x34fc8e['spotLength']===_0x17c973&&_0x34fc8e['rectAreaLength']===_0x454769&&_0x34fc8e['hemiLength']===_0xd51d75&&_0x34fc8e['numDirectionalShadows']===_0x510aa7&&_0x34fc8e['numPointShadows']===_0x21849d&&_0x34fc8e['numSpotShadows']===_0x1468da&&_0x34fc8e['numSpotMaps']===_0x53fe88&&_0x34fc8e['numLightProbes']===_0x34ec16||(_0x45418f['directional']['length']=_0x29e6f8,_0x45418f['spot']['length']=_0x17c973,_0x45418f['rectArea']['length']=_0x454769,_0x45418f['point']['length']=_0x35355a,_0x45418f['hemi']['length']=_0xd51d75,_0x45418f['directionalShadow']['length']=_0x510aa7,_0x45418f['directionalShadowMap']['length']=_0x510aa7,_0x45418f['pointShadow']['length']=_0x21849d,_0x45418f['pointShadowMap']['length']=_0x21849d,_0x45418f['spotShadow']['length']=_0x1468da,_0x45418f['spotShadowMap']['length']=_0x1468da,_0x45418f['directionalShadowMatrix']['length']=_0x510aa7,_0x45418f['pointShadowMatrix']['length']=_0x21849d,_0x45418f['spotLightMatrix']['length']=_0x1468da+_0x53fe88-_0x5af6db,_0x45418f['spotLightMap']['length']=_0x53fe88,_0x45418f['numSpotLightShadowsWithMaps']=_0x5af6db,_0x45418f['numLightProbes']=_0x34ec16,_0x34fc8e['directionalLength']=_0x29e6f8,_0x34fc8e['pointLength']=_0x35355a,_0x34fc8e['spotLength']=_0x17c973,_0x34fc8e['rectAreaLength']=_0x454769,_0x34fc8e['hemiLength']=_0xd51d75,_0x34fc8e['numDirectionalShadows']=_0x510aa7,_0x34fc8e['numPointShadows']=_0x21849d,_0x34fc8e['numSpotShadows']=_0x1468da,_0x34fc8e['numSpotMaps']=_0x53fe88,_0x34fc8e['numLightProbes']=_0x34ec16,_0x45418f['version']=_0x2a9af6++);},'setupView':function(_0x53659,_0x44bcc2){let _0x48913b=0x0,_0x73f480=0x0,_0x9790e8=0x0,_0x20254d=0x0,_0x1f22f1=0x0;const _0x3ce173=_0x44bcc2['matrixWorldInverse'];for(let _0x41a327=0x0,_0x3fcd0d=_0x53659['length'];_0x41a327<_0x3fcd0d;_0x41a327++){const _0x1a5ae3=_0x53659[_0x41a327];if(_0x1a5ae3['isDirectionalLight']){const _0x40bab8=_0x45418f['directional'][_0x48913b];_0x40bab8['direction']['setFromMatrixPosition'](_0x1a5ae3['matrixWorld']),_0xe42d55['setFromMatrixPosition'](_0x1a5ae3['target']['matrixWorld']),_0x40bab8['direction']['sub'](_0xe42d55),_0x40bab8['direction']['transformDirection'](_0x3ce173),_0x48913b++;}else{if(_0x1a5ae3['isSpotLight']){const _0x19d978=_0x45418f['spot'][_0x9790e8];_0x19d978['position']['setFromMatrixPosition'](_0x1a5ae3['matrixWorld']),_0x19d978['position']['applyMatrix4'](_0x3ce173),_0x19d978['direction']['setFromMatrixPosition'](_0x1a5ae3['matrixWorld']),_0xe42d55['setFromMatrixPosition'](_0x1a5ae3['target']['matrixWorld']),_0x19d978['direction']['sub'](_0xe42d55),_0x19d978['direction']['transformDirection'](_0x3ce173),_0x9790e8++;}else{if(_0x1a5ae3['isRectAreaLight']){const _0x519645=_0x45418f['rectArea'][_0x20254d];_0x519645['position']['setFromMatrixPosition'](_0x1a5ae3['matrixWorld']),_0x519645['position']['applyMatrix4'](_0x3ce173),_0x85024b['identity'](),_0xfd0bb9['copy'](_0x1a5ae3['matrixWorld']),_0xfd0bb9['premultiply'](_0x3ce173),_0x85024b['extractRotation'](_0xfd0bb9),_0x519645['halfWidth']['set'](0.5*_0x1a5ae3['width'],0x0,0x0),_0x519645['halfHeight']['set'](0x0,0.5*_0x1a5ae3['height'],0x0),_0x519645['halfWidth']['applyMatrix4'](_0x85024b),_0x519645['halfHeight']['applyMatrix4'](_0x85024b),_0x20254d++;}else{if(_0x1a5ae3['isPointLight']){const _0x52c5c1=_0x45418f['point'][_0x73f480];_0x52c5c1['position']['setFromMatrixPosition'](_0x1a5ae3['matrixWorld']),_0x52c5c1['position']['applyMatrix4'](_0x3ce173),_0x73f480++;}else{if(_0x1a5ae3['isHemisphereLight']){const _0x3c7675=_0x45418f['hemi'][_0x1f22f1];_0x3c7675['direction']['setFromMatrixPosition'](_0x1a5ae3['matrixWorld']),_0x3c7675['direction']['transformDirection'](_0x3ce173),_0x1f22f1++;}}}}}}},'state':_0x45418f};}function _0x9d648f(_0x83d898){const _0x59293f=new _0x362469(_0x83d898),_0xc50998=[],_0x462470=[],_0x27845e={'lightsArray':_0xc50998,'shadowsArray':_0x462470,'camera':null,'lights':_0x59293f,'transmissionRenderTarget':{}};return{'init':function(_0x2b5a10){_0x27845e['camera']=_0x2b5a10,_0xc50998['length']=0x0,_0x462470['length']=0x0;},'state':_0x27845e,'setupLights':function(){_0x59293f['setup'](_0xc50998);},'setupLightsView':function(_0x3e1d20){_0x59293f['setupView'](_0xc50998,_0x3e1d20);},'pushLight':function(_0x5ba35f){_0xc50998['push'](_0x5ba35f);},'pushShadow':function(_0xceb60c){_0x462470['push'](_0xceb60c);}};}function _0x556aa0(_0x7f1b04){let _0xc34ef=new WeakMap();return{'get':function(_0x4474e,_0x43bc9e=0x0){const _0x1b8396=_0xc34ef['get'](_0x4474e);let _0x6fb152;return void 0x0===_0x1b8396?(_0x6fb152=new _0x9d648f(_0x7f1b04),_0xc34ef['set'](_0x4474e,[_0x6fb152])):_0x43bc9e>=_0x1b8396['length']?(_0x6fb152=new _0x9d648f(_0x7f1b04),_0x1b8396['push'](_0x6fb152)):_0x6fb152=_0x1b8396[_0x43bc9e],_0x6fb152;},'dispose':function(){_0xc34ef=new WeakMap();}};}function _0x348740(_0x565785,_0x5bfd26,_0x4063b9){let _0x22a7ac=new _0x42bc67['PPD']();const _0x52d2ec=new _0x42bc67['I9Y'](),_0x480dac=new _0x42bc67['I9Y'](),_0x30c119=new _0x42bc67['IUQ'](),_0x34fe07=new _0x42bc67['CSG']({'depthPacking':_0x42bc67['N5j']}),_0x21108e=new _0x42bc67['aVO'](),_0x5d1d1f={},_0xc2d8af=_0x4063b9['maxTextureSize'],_0x4275ae={[_0x42bc67['hB5']]:_0x42bc67['hsX'],[_0x42bc67['hsX']]:_0x42bc67['hB5'],[_0x42bc67['$EB']]:_0x42bc67['$EB']},_0x439381=new _0x42bc67['BKk']({'defines':{'VSM_SAMPLES':0x8},'uniforms':{'shadow_pass':{'value':null},'resolution':{'value':new _0x42bc67['I9Y']()},'radius':{'value':0x4}},'vertexShader':'void\x20main()\x20{\x0a\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a}','fragmentShader':'uniform\x20sampler2D\x20shadow_pass;\x0auniform\x20vec2\x20resolution;\x0auniform\x20float\x20radius;\x0a#include\x20<packing>\x0avoid\x20main()\x20{\x0a\x09const\x20float\x20samples\x20=\x20float(\x20VSM_SAMPLES\x20);\x0a\x09float\x20mean\x20=\x200.0;\x0a\x09float\x20squared_mean\x20=\x200.0;\x0a\x09float\x20uvStride\x20=\x20samples\x20<=\x201.0\x20?\x200.0\x20:\x202.0\x20/\x20(\x20samples\x20-\x201.0\x20);\x0a\x09float\x20uvStart\x20=\x20samples\x20<=\x201.0\x20?\x200.0\x20:\x20-\x201.0;\x0a\x09for\x20(\x20float\x20i\x20=\x200.0;\x20i\x20<\x20samples;\x20i\x20++\x20)\x20{\x0a\x09\x09float\x20uvOffset\x20=\x20uvStart\x20+\x20i\x20*\x20uvStride;\x0a\x09\x09#ifdef\x20HORIZONTAL_PASS\x0a\x09\x09\x09vec2\x20distribution\x20=\x20unpackRGBATo2Half(\x20texture2D(\x20shadow_pass,\x20(\x20gl_FragCoord.xy\x20+\x20vec2(\x20uvOffset,\x200.0\x20)\x20*\x20radius\x20)\x20/\x20resolution\x20)\x20);\x0a\x09\x09\x09mean\x20+=\x20distribution.x;\x0a\x09\x09\x09squared_mean\x20+=\x20distribution.y\x20*\x20distribution.y\x20+\x20distribution.x\x20*\x20distribution.x;\x0a\x09\x09#else\x0a\x09\x09\x09float\x20depth\x20=\x20unpackRGBAToDepth(\x20texture2D(\x20shadow_pass,\x20(\x20gl_FragCoord.xy\x20+\x20vec2(\x200.0,\x20uvOffset\x20)\x20*\x20radius\x20)\x20/\x20resolution\x20)\x20);\x0a\x09\x09\x09mean\x20+=\x20depth;\x0a\x09\x09\x09squared_mean\x20+=\x20depth\x20*\x20depth;\x0a\x09\x09#endif\x0a\x09}\x0a\x09mean\x20=\x20mean\x20/\x20samples;\x0a\x09squared_mean\x20=\x20squared_mean\x20/\x20samples;\x0a\x09float\x20std_dev\x20=\x20sqrt(\x20squared_mean\x20-\x20mean\x20*\x20mean\x20);\x0a\x09gl_FragColor\x20=\x20pack2HalfToRGBA(\x20vec2(\x20mean,\x20std_dev\x20)\x20);\x0a}'}),_0x32bddf=_0x439381['clone']();_0x32bddf['defines']['HORIZONTAL_PASS']=0x1;const _0x253022=new _0x42bc67['LoY']();_0x253022['setAttribute']('position',new _0x42bc67['THS'](new Float32Array([-0x1,-0x1,0.5,0x3,-0x1,0.5,-0x1,0x3,0.5]),0x3));const _0x5eba65=new _0x42bc67['eaF'](_0x253022,_0x439381),_0x3717ed=this;this['enabled']=!0x1,this['autoUpdate']=!0x0,this['needsUpdate']=!0x1,this['type']=_0x42bc67['QP0'];let _0x1c0b73=this['type'];function _0x265dff(_0x474325,_0x2c883d){const _0x360b12=_0x5bfd26['update'](_0x5eba65);_0x439381['defines']['VSM_SAMPLES']!==_0x474325['blurSamples']&&(_0x439381['defines']['VSM_SAMPLES']=_0x474325['blurSamples'],_0x32bddf['defines']['VSM_SAMPLES']=_0x474325['blurSamples'],_0x439381['needsUpdate']=!0x0,_0x32bddf['needsUpdate']=!0x0),null===_0x474325['mapPass']&&(_0x474325['mapPass']=new _0x42bc67['nWS'](_0x52d2ec['x'],_0x52d2ec['y'])),_0x439381['uniforms']['shadow_pass']['value']=_0x474325['map']['texture'],_0x439381['uniforms']['resolution']['value']=_0x474325['mapSize'],_0x439381['uniforms']['radius']['value']=_0x474325['radius'],_0x565785['setRenderTarget'](_0x474325['mapPass']),_0x565785['clear'](),_0x565785['renderBufferDirect'](_0x2c883d,null,_0x360b12,_0x439381,_0x5eba65,null),_0x32bddf['uniforms']['shadow_pass']['value']=_0x474325['mapPass']['texture'],_0x32bddf['uniforms']['resolution']['value']=_0x474325['mapSize'],_0x32bddf['uniforms']['radius']['value']=_0x474325['radius'],_0x565785['setRenderTarget'](_0x474325['map']),_0x565785['clear'](),_0x565785['renderBufferDirect'](_0x2c883d,null,_0x360b12,_0x32bddf,_0x5eba65,null);}function _0x274294(_0x4a60bf,_0x435e5d,_0x3957c4,_0x167687){let _0x5c4730=null;const _0x5c8a3c=!0x0===_0x3957c4['isPointLight']?_0x4a60bf['customDistanceMaterial']:_0x4a60bf['customDepthMaterial'];if(void 0x0!==_0x5c8a3c)_0x5c4730=_0x5c8a3c;else{if(_0x5c4730=!0x0===_0x3957c4['isPointLight']?_0x21108e:_0x34fe07,_0x565785['localClippingEnabled']&&!0x0===_0x435e5d['clipShadows']&&Array['isArray'](_0x435e5d['clippingPlanes'])&&0x0!==_0x435e5d['clippingPlanes']['length']||_0x435e5d['displacementMap']&&0x0!==_0x435e5d['displacementScale']||_0x435e5d['alphaMap']&&_0x435e5d['alphaTest']>0x0||_0x435e5d['map']&&_0x435e5d['alphaTest']>0x0){const _0x4966d8=_0x5c4730['uuid'],_0x21d9a7=_0x435e5d['uuid'];let _0x220099=_0x5d1d1f[_0x4966d8];void 0x0===_0x220099&&(_0x220099={},_0x5d1d1f[_0x4966d8]=_0x220099);let _0x5c46f4=_0x220099[_0x21d9a7];void 0x0===_0x5c46f4&&(_0x5c46f4=_0x5c4730['clone'](),_0x220099[_0x21d9a7]=_0x5c46f4,_0x435e5d['addEventListener']('dispose',_0x242ab7)),_0x5c4730=_0x5c46f4;}}return(_0x5c4730['visible']=_0x435e5d['visible'],_0x5c4730['wireframe']=_0x435e5d['wireframe'],_0x167687===_0x42bc67['RyA']?_0x5c4730['side']=null!==_0x435e5d['shadowSide']?_0x435e5d['shadowSide']:_0x435e5d['side']:_0x5c4730['side']=null!==_0x435e5d['shadowSide']?_0x435e5d['shadowSide']:_0x4275ae[_0x435e5d['side']],_0x5c4730['alphaMap']=_0x435e5d['alphaMap'],_0x5c4730['alphaTest']=_0x435e5d['alphaTest'],_0x5c4730['map']=_0x435e5d['map'],_0x5c4730['clipShadows']=_0x435e5d['clipShadows'],_0x5c4730['clippingPlanes']=_0x435e5d['clippingPlanes'],_0x5c4730['clipIntersection']=_0x435e5d['clipIntersection'],_0x5c4730['displacementMap']=_0x435e5d['displacementMap'],_0x5c4730['displacementScale']=_0x435e5d['displacementScale'],_0x5c4730['displacementBias']=_0x435e5d['displacementBias'],_0x5c4730['wireframeLinewidth']=_0x435e5d['wireframeLinewidth'],_0x5c4730['linewidth']=_0x435e5d['linewidth'],!0x0===_0x3957c4['isPointLight']&&!0x0===_0x5c4730['isMeshDistanceMaterial'])&&(_0x565785['properties']['get'](_0x5c4730)['light']=_0x3957c4),_0x5c4730;}function _0x449699(_0x1829de,_0x3befd9,_0x396a27,_0x2af8ec,_0x35e09c){if(!0x1===_0x1829de['visible'])return;if(_0x1829de['layers']['test'](_0x3befd9['layers'])&&(_0x1829de['isMesh']||_0x1829de['isLine']||_0x1829de['isPoints'])&&(_0x1829de['castShadow']||_0x1829de['receiveShadow']&&_0x35e09c===_0x42bc67['RyA'])&&(!_0x1829de['frustumCulled']||_0x22a7ac['intersectsObject'](_0x1829de))){_0x1829de['modelViewMatrix']['multiplyMatrices'](_0x396a27['matrixWorldInverse'],_0x1829de['matrixWorld']);const _0x17d753=_0x5bfd26['update'](_0x1829de),_0x222122=_0x1829de['material'];if(Array['isArray'](_0x222122)){const _0x2a0f5c=_0x17d753['groups'];for(let _0x3058f0=0x0,_0x31ff60=_0x2a0f5c['length'];_0x3058f0<_0x31ff60;_0x3058f0++){const _0x21b7eb=_0x2a0f5c[_0x3058f0],_0x4e81c6=_0x222122[_0x21b7eb['materialIndex']];if(_0x4e81c6&&_0x4e81c6['visible']){const _0x5ee5b7=_0x274294(_0x1829de,_0x4e81c6,_0x2af8ec,_0x35e09c);_0x1829de['onBeforeShadow'](_0x565785,_0x1829de,_0x3befd9,_0x396a27,_0x17d753,_0x5ee5b7,_0x21b7eb),_0x565785['renderBufferDirect'](_0x396a27,null,_0x17d753,_0x5ee5b7,_0x1829de,_0x21b7eb),_0x1829de['onAfterShadow'](_0x565785,_0x1829de,_0x3befd9,_0x396a27,_0x17d753,_0x5ee5b7,_0x21b7eb);}}}else{if(_0x222122['visible']){const _0x29f165=_0x274294(_0x1829de,_0x222122,_0x2af8ec,_0x35e09c);_0x1829de['onBeforeShadow'](_0x565785,_0x1829de,_0x3befd9,_0x396a27,_0x17d753,_0x29f165,null),_0x565785['renderBufferDirect'](_0x396a27,null,_0x17d753,_0x29f165,_0x1829de,null),_0x1829de['onAfterShadow'](_0x565785,_0x1829de,_0x3befd9,_0x396a27,_0x17d753,_0x29f165,null);}}}const _0xaf8a54=_0x1829de['children'];for(let _0x1eaab4=0x0,_0xb40f49=_0xaf8a54['length'];_0x1eaab4<_0xb40f49;_0x1eaab4++)_0x449699(_0xaf8a54[_0x1eaab4],_0x3befd9,_0x396a27,_0x2af8ec,_0x35e09c);}function _0x242ab7(_0x29d701){_0x29d701['target']['removeEventListener']('dispose',_0x242ab7);for(const _0x3d7669 in _0x5d1d1f){const _0x2419c2=_0x5d1d1f[_0x3d7669],_0x50ccc3=_0x29d701['target']['uuid'];_0x50ccc3 in _0x2419c2&&(_0x2419c2[_0x50ccc3]['dispose'](),delete _0x2419c2[_0x50ccc3]);}}this['render']=function(_0x271449,_0x400c04,_0xb6cd52){if(!0x1===_0x3717ed['enabled'])return;if(!0x1===_0x3717ed['autoUpdate']&&!0x1===_0x3717ed['needsUpdate'])return;if(0x0===_0x271449['length'])return;const _0x482714=_0x565785['getRenderTarget'](),_0x100da1=_0x565785['getActiveCubeFace'](),_0x4b8877=_0x565785['getActiveMipmapLevel'](),_0x2ac0f6=_0x565785['state'];_0x2ac0f6['setBlending'](_0x42bc67['XIg']),_0x2ac0f6['buffers']['color']['setClear'](0x1,0x1,0x1,0x1),_0x2ac0f6['buffers']['depth']['setTest'](!0x0),_0x2ac0f6['setScissorTest'](!0x1);const _0x373293=_0x1c0b73!==_0x42bc67['RyA']&&this['type']===_0x42bc67['RyA'],_0x2eb572=_0x1c0b73===_0x42bc67['RyA']&&this['type']!==_0x42bc67['RyA'];for(let _0x8a37d5=0x0,_0x224c5e=_0x271449['length'];_0x8a37d5<_0x224c5e;_0x8a37d5++){const _0x4d142e=_0x271449[_0x8a37d5],_0x81e474=_0x4d142e['shadow'];if(void 0x0===_0x81e474){console['warn']('THREE.WebGLShadowMap:',_0x4d142e,'has\x20no\x20shadow.');continue;}if(!0x1===_0x81e474['autoUpdate']&&!0x1===_0x81e474['needsUpdate'])continue;_0x52d2ec['copy'](_0x81e474['mapSize']);const _0x1f4f49=_0x81e474['getFrameExtents']();if(_0x52d2ec['multiply'](_0x1f4f49),_0x480dac['copy'](_0x81e474['mapSize']),(_0x52d2ec['x']>_0xc2d8af||_0x52d2ec['y']>_0xc2d8af)&&(_0x52d2ec['x']>_0xc2d8af&&(_0x480dac['x']=Math['floor'](_0xc2d8af/_0x1f4f49['x']),_0x52d2ec['x']=_0x480dac['x']*_0x1f4f49['x'],_0x81e474['mapSize']['x']=_0x480dac['x']),_0x52d2ec['y']>_0xc2d8af&&(_0x480dac['y']=Math['floor'](_0xc2d8af/_0x1f4f49['y']),_0x52d2ec['y']=_0x480dac['y']*_0x1f4f49['y'],_0x81e474['mapSize']['y']=_0x480dac['y'])),null===_0x81e474['map']||!0x0===_0x373293||!0x0===_0x2eb572){const _0x50d3cd=this['type']!==_0x42bc67['RyA']?{'minFilter':_0x42bc67['hxR'],'magFilter':_0x42bc67['hxR']}:{};null!==_0x81e474['map']&&_0x81e474['map']['dispose'](),_0x81e474['map']=new _0x42bc67['nWS'](_0x52d2ec['x'],_0x52d2ec['y'],_0x50d3cd),_0x81e474['map']['texture']['name']=_0x4d142e['name']+'.shadowMap',_0x81e474['camera']['updateProjectionMatrix']();}_0x565785['setRenderTarget'](_0x81e474['map']),_0x565785['clear']();const _0x180727=_0x81e474['getViewportCount']();for(let _0x4fe4e1=0x0;_0x4fe4e1<_0x180727;_0x4fe4e1++){const _0x22fdd0=_0x81e474['getViewport'](_0x4fe4e1);_0x30c119['set'](_0x480dac['x']*_0x22fdd0['x'],_0x480dac['y']*_0x22fdd0['y'],_0x480dac['x']*_0x22fdd0['z'],_0x480dac['y']*_0x22fdd0['w']),_0x2ac0f6['viewport'](_0x30c119),_0x81e474['updateMatrices'](_0x4d142e,_0x4fe4e1),_0x22a7ac=_0x81e474['getFrustum'](),_0x449699(_0x400c04,_0xb6cd52,_0x81e474['camera'],_0x4d142e,this['type']);}!0x0!==_0x81e474['isPointLightShadow']&&this['type']===_0x42bc67['RyA']&&_0x265dff(_0x81e474,_0xb6cd52),_0x81e474['needsUpdate']=!0x1;}_0x1c0b73=this['type'],_0x3717ed['needsUpdate']=!0x1,_0x565785['setRenderTarget'](_0x482714,_0x100da1,_0x4b8877);};}const _0xe8183={[_0x42bc67['eHc']]:_0x42bc67['lGu'],[_0x42bc67['brA']]:_0x42bc67['K52'],[_0x42bc67['U3G']]:_0x42bc67['bw0'],[_0x42bc67['xSv']]:_0x42bc67['Gwm'],[_0x42bc67['lGu']]:_0x42bc67['eHc'],[_0x42bc67['K52']]:_0x42bc67['brA'],[_0x42bc67['bw0']]:_0x42bc67['U3G'],[_0x42bc67['Gwm']]:_0x42bc67['xSv']};function _0x527dc8(_0x3bc44f,_0x462d9e){const _0x10cdbd=new function(){let _0x28d3c0=!0x1;const _0x463f6c=new _0x42bc67['IUQ']();let _0x2ae6b1=null;const _0x2d7832=new _0x42bc67['IUQ'](0x0,0x0,0x0,0x0);return{'setMask':function(_0x1e698a){_0x2ae6b1===_0x1e698a||_0x28d3c0||(_0x3bc44f['colorMask'](_0x1e698a,_0x1e698a,_0x1e698a,_0x1e698a),_0x2ae6b1=_0x1e698a);},'setLocked':function(_0x1e3efe){_0x28d3c0=_0x1e3efe;},'setClear':function(_0xc361d8,_0x248aeb,_0x34d0ec,_0x3fc0b4,_0x42d683){!0x0===_0x42d683&&(_0xc361d8*=_0x3fc0b4,_0x248aeb*=_0x3fc0b4,_0x34d0ec*=_0x3fc0b4),_0x463f6c['set'](_0xc361d8,_0x248aeb,_0x34d0ec,_0x3fc0b4),!0x1===_0x2d7832['equals'](_0x463f6c)&&(_0x3bc44f['clearColor'](_0xc361d8,_0x248aeb,_0x34d0ec,_0x3fc0b4),_0x2d7832['copy'](_0x463f6c));},'reset':function(){_0x28d3c0=!0x1,_0x2ae6b1=null,_0x2d7832['set'](-0x1,0x0,0x0,0x0);}};}(),_0x13fd51=new function(){let _0x2ce377=!0x1,_0x2131df=!0x1,_0x2d279c=null,_0x2f53ec=null,_0x30d45b=null;return{'setReversed':function(_0x59b3d5){if(_0x2131df!==_0x59b3d5){const _0x156e5b=_0x462d9e['get']('EXT_clip_control');_0x2131df?_0x156e5b['clipControlEXT'](_0x156e5b['LOWER_LEFT_EXT'],_0x156e5b['ZERO_TO_ONE_EXT']):_0x156e5b['clipControlEXT'](_0x156e5b['LOWER_LEFT_EXT'],_0x156e5b['NEGATIVE_ONE_TO_ONE_EXT']);const _0x5b2891=_0x30d45b;_0x30d45b=null,this['setClear'](_0x5b2891);}_0x2131df=_0x59b3d5;},'getReversed':function(){return _0x2131df;},'setTest':function(_0x5b16fa){_0x5b16fa?_0x30d29a(_0x3bc44f['DEPTH_TEST']):_0x237188(_0x3bc44f['DEPTH_TEST']);},'setMask':function(_0x3ded44){_0x2d279c===_0x3ded44||_0x2ce377||(_0x3bc44f['depthMask'](_0x3ded44),_0x2d279c=_0x3ded44);},'setFunc':function(_0x471f5f){if(_0x2131df&&(_0x471f5f=_0xe8183[_0x471f5f]),_0x2f53ec!==_0x471f5f){switch(_0x471f5f){case _0x42bc67['eHc']:_0x3bc44f['depthFunc'](_0x3bc44f['NEVER']);break;case _0x42bc67['lGu']:_0x3bc44f['depthFunc'](_0x3bc44f['ALWAYS']);break;case _0x42bc67['brA']:_0x3bc44f['depthFunc'](_0x3bc44f['LESS']);break;case _0x42bc67['xSv']:_0x3bc44f['depthFunc'](_0x3bc44f['LEQUAL']);break;case _0x42bc67['U3G']:_0x3bc44f['depthFunc'](_0x3bc44f['EQUAL']);break;case _0x42bc67['Gwm']:_0x3bc44f['depthFunc'](_0x3bc44f['GEQUAL']);break;case _0x42bc67['K52']:_0x3bc44f['depthFunc'](_0x3bc44f['GREATER']);break;case _0x42bc67['bw0']:_0x3bc44f['depthFunc'](_0x3bc44f['NOTEQUAL']);break;default:_0x3bc44f['depthFunc'](_0x3bc44f['LEQUAL']);}_0x2f53ec=_0x471f5f;}},'setLocked':function(_0x12e7dc){_0x2ce377=_0x12e7dc;},'setClear':function(_0x1cfdc3){_0x30d45b!==_0x1cfdc3&&(_0x2131df&&(_0x1cfdc3=0x1-_0x1cfdc3),_0x3bc44f['clearDepth'](_0x1cfdc3),_0x30d45b=_0x1cfdc3);},'reset':function(){_0x2ce377=!0x1,_0x2d279c=null,_0x2f53ec=null,_0x30d45b=null,_0x2131df=!0x1;}};}(),_0x4baf6f=new function(){let _0x359bbe=!0x1,_0x6f7749=null,_0x5f356b=null,_0x5c68fa=null,_0x30515f=null,_0x744ef9=null,_0x4c3f6f=null,_0x3b65e1=null,_0x5889b8=null;return{'setTest':function(_0x1f4358){_0x359bbe||(_0x1f4358?_0x30d29a(_0x3bc44f['STENCIL_TEST']):_0x237188(_0x3bc44f['STENCIL_TEST']));},'setMask':function(_0x29efb1){_0x6f7749===_0x29efb1||_0x359bbe||(_0x3bc44f['stencilMask'](_0x29efb1),_0x6f7749=_0x29efb1);},'setFunc':function(_0x4c759f,_0x1f644f,_0x1e1567){_0x5f356b===_0x4c759f&&_0x5c68fa===_0x1f644f&&_0x30515f===_0x1e1567||(_0x3bc44f['stencilFunc'](_0x4c759f,_0x1f644f,_0x1e1567),_0x5f356b=_0x4c759f,_0x5c68fa=_0x1f644f,_0x30515f=_0x1e1567);},'setOp':function(_0x4f1e7a,_0x125bfb,_0x5cdebf){_0x744ef9===_0x4f1e7a&&_0x4c3f6f===_0x125bfb&&_0x3b65e1===_0x5cdebf||(_0x3bc44f['stencilOp'](_0x4f1e7a,_0x125bfb,_0x5cdebf),_0x744ef9=_0x4f1e7a,_0x4c3f6f=_0x125bfb,_0x3b65e1=_0x5cdebf);},'setLocked':function(_0x54c958){_0x359bbe=_0x54c958;},'setClear':function(_0x1a02ab){_0x5889b8!==_0x1a02ab&&(_0x3bc44f['clearStencil'](_0x1a02ab),_0x5889b8=_0x1a02ab);},'reset':function(){_0x359bbe=!0x1,_0x6f7749=null,_0x5f356b=null,_0x5c68fa=null,_0x30515f=null,_0x744ef9=null,_0x4c3f6f=null,_0x3b65e1=null,_0x5889b8=null;}};}(),_0x4ef694=new WeakMap(),_0x24298d=new WeakMap();let _0x243d64={},_0x3a3899={},_0x3bc617=new WeakMap(),_0xcdfb45=[],_0x2e3d6f=null,_0x4234e9=!0x1,_0x3d0d9c=null,_0x319693=null,_0x2e4879=null,_0x22646d=null,_0x46120e=null,_0x11525f=null,_0x4a4230=null,_0x247481=new _0x42bc67['Q1f'](0x0,0x0,0x0),_0x5d88e9=0x0,_0x5a58a8=!0x1,_0x5729b3=null,_0x58693a=null,_0x3a8346=null,_0x211614=null,_0xa4e1e4=null;const _0x2deab6=_0x3bc44f['getParameter'](_0x3bc44f['MAX_COMBINED_TEXTURE_IMAGE_UNITS']);let _0x181c4d=!0x1,_0x1be308=0x0;const _0x3efa56=_0x3bc44f['getParameter'](_0x3bc44f['VERSION']);-0x1!==_0x3efa56['indexOf']('WebGL')?(_0x1be308=parseFloat(/^WebGL (\d)/['exec'](_0x3efa56)[0x1]),_0x181c4d=_0x1be308>=0x1):-0x1!==_0x3efa56['indexOf']('OpenGL\x20ES')&&(_0x1be308=parseFloat(/^OpenGL ES (\d)/['exec'](_0x3efa56)[0x1]),_0x181c4d=_0x1be308>=0x2);let _0x238d0a=null,_0x4e8d01={};const _0x526162=_0x3bc44f['getParameter'](_0x3bc44f['SCISSOR_BOX']),_0x10d391=_0x3bc44f['getParameter'](_0x3bc44f['VIEWPORT']),_0x3be53a=new _0x42bc67['IUQ']()['fromArray'](_0x526162),_0x2b6bd3=new _0x42bc67['IUQ']()['fromArray'](_0x10d391);function _0x35e8c3(_0x7416b8,_0x57d84e,_0x542e16,_0xbad7e6){const _0x286262=new Uint8Array(0x4),_0x30c649=_0x3bc44f['createTexture']();_0x3bc44f['bindTexture'](_0x7416b8,_0x30c649),_0x3bc44f['texParameteri'](_0x7416b8,_0x3bc44f['TEXTURE_MIN_FILTER'],_0x3bc44f['NEAREST']),_0x3bc44f['texParameteri'](_0x7416b8,_0x3bc44f['TEXTURE_MAG_FILTER'],_0x3bc44f['NEAREST']);for(let _0x23bdcb=0x0;_0x23bdcb<_0x542e16;_0x23bdcb++)_0x7416b8===_0x3bc44f['TEXTURE_3D']||_0x7416b8===_0x3bc44f['TEXTURE_2D_ARRAY']?_0x3bc44f['texImage3D'](_0x57d84e,0x0,_0x3bc44f['RGBA'],0x1,0x1,_0xbad7e6,0x0,_0x3bc44f['RGBA'],_0x3bc44f['UNSIGNED_BYTE'],_0x286262):_0x3bc44f['texImage2D'](_0x57d84e+_0x23bdcb,0x0,_0x3bc44f['RGBA'],0x1,0x1,0x0,_0x3bc44f['RGBA'],_0x3bc44f['UNSIGNED_BYTE'],_0x286262);return _0x30c649;}const _0x2d49a6={};function _0x30d29a(_0x2593a5){!0x0!==_0x243d64[_0x2593a5]&&(_0x3bc44f['enable'](_0x2593a5),_0x243d64[_0x2593a5]=!0x0);}function _0x237188(_0x45ab10){!0x1!==_0x243d64[_0x45ab10]&&(_0x3bc44f['disable'](_0x45ab10),_0x243d64[_0x45ab10]=!0x1);}_0x2d49a6[_0x3bc44f['TEXTURE_2D']]=_0x35e8c3(_0x3bc44f['TEXTURE_2D'],_0x3bc44f['TEXTURE_2D'],0x1),_0x2d49a6[_0x3bc44f['TEXTURE_CUBE_MAP']]=_0x35e8c3(_0x3bc44f['TEXTURE_CUBE_MAP'],_0x3bc44f['TEXTURE_CUBE_MAP_POSITIVE_X'],0x6),_0x2d49a6[_0x3bc44f['TEXTURE_2D_ARRAY']]=_0x35e8c3(_0x3bc44f['TEXTURE_2D_ARRAY'],_0x3bc44f['TEXTURE_2D_ARRAY'],0x1,0x1),_0x2d49a6[_0x3bc44f['TEXTURE_3D']]=_0x35e8c3(_0x3bc44f['TEXTURE_3D'],_0x3bc44f['TEXTURE_3D'],0x1,0x1),_0x10cdbd['setClear'](0x0,0x0,0x0,0x1),_0x13fd51['setClear'](0x1),_0x4baf6f['setClear'](0x0),_0x30d29a(_0x3bc44f['DEPTH_TEST']),_0x13fd51['setFunc'](_0x42bc67['xSv']),_0xafc0a7(!0x1),_0x537fbc(_0x42bc67['Vb5']),_0x30d29a(_0x3bc44f['CULL_FACE']),_0x128aa6(_0x42bc67['XIg']);const _0x55ef28={[_0x42bc67['gO9']]:_0x3bc44f['FUNC_ADD'],[_0x42bc67['FXf']]:_0x3bc44f['FUNC_SUBTRACT'],[_0x42bc67['nST']]:_0x3bc44f['FUNC_REVERSE_SUBTRACT']};_0x55ef28[_0x42bc67['znC']]=_0x3bc44f['MIN'],_0x55ef28[_0x42bc67['$ei']]=_0x3bc44f['MAX'];const _0x5abd5d={[_0x42bc67['ojh']]:_0x3bc44f['ZERO'],[_0x42bc67['qad']]:_0x3bc44f['ONE'],[_0x42bc67['f4X']]:_0x3bc44f['SRC_COLOR'],[_0x42bc67['ie2']]:_0x3bc44f['SRC_ALPHA'],[_0x42bc67['hgQ']]:_0x3bc44f['SRC_ALPHA_SATURATE'],[_0x42bc67['wn6']]:_0x3bc44f['DST_COLOR'],[_0x42bc67['hdd']]:_0x3bc44f['DST_ALPHA'],[_0x42bc67['LiQ']]:_0x3bc44f['ONE_MINUS_SRC_COLOR'],[_0x42bc67['OuU']]:_0x3bc44f['ONE_MINUS_SRC_ALPHA'],[_0x42bc67['aEY']]:_0x3bc44f['ONE_MINUS_DST_COLOR'],[_0x42bc67['Nt7']]:_0x3bc44f['ONE_MINUS_DST_ALPHA'],[_0x42bc67['RrE']]:_0x3bc44f['CONSTANT_COLOR'],[_0x42bc67['$Yl']]:_0x3bc44f['ONE_MINUS_CONSTANT_COLOR'],[_0x42bc67['e0p']]:_0x3bc44f['CONSTANT_ALPHA'],[_0x42bc67['ov9']]:_0x3bc44f['ONE_MINUS_CONSTANT_ALPHA']};function _0x128aa6(_0x1e546a,_0x13036d,_0x58ccc3,_0x1946af,_0x83bd6,_0xefdf65,_0x40cb32,_0x1699d0,_0x3111aa,_0x4f857c){if(_0x1e546a!==_0x42bc67['XIg']){if(!0x1===_0x4234e9&&(_0x30d29a(_0x3bc44f['BLEND']),_0x4234e9=!0x0),_0x1e546a===_0x42bc67['bCz'])_0x83bd6=_0x83bd6||_0x13036d,_0xefdf65=_0xefdf65||_0x58ccc3,_0x40cb32=_0x40cb32||_0x1946af,_0x13036d===_0x319693&&_0x83bd6===_0x46120e||(_0x3bc44f['blendEquationSeparate'](_0x55ef28[_0x13036d],_0x55ef28[_0x83bd6]),_0x319693=_0x13036d,_0x46120e=_0x83bd6),_0x58ccc3===_0x2e4879&&_0x1946af===_0x22646d&&_0xefdf65===_0x11525f&&_0x40cb32===_0x4a4230||(_0x3bc44f['blendFuncSeparate'](_0x5abd5d[_0x58ccc3],_0x5abd5d[_0x1946af],_0x5abd5d[_0xefdf65],_0x5abd5d[_0x40cb32]),_0x2e4879=_0x58ccc3,_0x22646d=_0x1946af,_0x11525f=_0xefdf65,_0x4a4230=_0x40cb32),!0x1!==_0x1699d0['equals'](_0x247481)&&_0x3111aa===_0x5d88e9||(_0x3bc44f['blendColor'](_0x1699d0['r'],_0x1699d0['g'],_0x1699d0['b'],_0x3111aa),_0x247481['copy'](_0x1699d0),_0x5d88e9=_0x3111aa),_0x3d0d9c=_0x1e546a,_0x5a58a8=!0x1;else{if(_0x1e546a!==_0x3d0d9c||_0x4f857c!==_0x5a58a8){if(_0x319693===_0x42bc67['gO9']&&_0x46120e===_0x42bc67['gO9']||(_0x3bc44f['blendEquation'](_0x3bc44f['FUNC_ADD']),_0x319693=_0x42bc67['gO9'],_0x46120e=_0x42bc67['gO9']),_0x4f857c)switch(_0x1e546a){case _0x42bc67['NTi']:_0x3bc44f['blendFuncSeparate'](_0x3bc44f['ONE'],_0x3bc44f['ONE_MINUS_SRC_ALPHA'],_0x3bc44f['ONE'],_0x3bc44f['ONE_MINUS_SRC_ALPHA']);break;case _0x42bc67['EZo']:_0x3bc44f['blendFunc'](_0x3bc44f['ONE'],_0x3bc44f['ONE']);break;case _0x42bc67['Kwu']:_0x3bc44f['blendFuncSeparate'](_0x3bc44f['ZERO'],_0x3bc44f['ONE_MINUS_SRC_COLOR'],_0x3bc44f['ZERO'],_0x3bc44f['ONE']);break;case _0x42bc67['EdD']:_0x3bc44f['blendFuncSeparate'](_0x3bc44f['ZERO'],_0x3bc44f['SRC_COLOR'],_0x3bc44f['ZERO'],_0x3bc44f['SRC_ALPHA']);break;default:console['error']('THREE.WebGLState:\x20Invalid\x20blending:\x20',_0x1e546a);}else switch(_0x1e546a){case _0x42bc67['NTi']:_0x3bc44f['blendFuncSeparate'](_0x3bc44f['SRC_ALPHA'],_0x3bc44f['ONE_MINUS_SRC_ALPHA'],_0x3bc44f['ONE'],_0x3bc44f['ONE_MINUS_SRC_ALPHA']);break;case _0x42bc67['EZo']:_0x3bc44f['blendFunc'](_0x3bc44f['SRC_ALPHA'],_0x3bc44f['ONE']);break;case _0x42bc67['Kwu']:_0x3bc44f['blendFuncSeparate'](_0x3bc44f['ZERO'],_0x3bc44f['ONE_MINUS_SRC_COLOR'],_0x3bc44f['ZERO'],_0x3bc44f['ONE']);break;case _0x42bc67['EdD']:_0x3bc44f['blendFunc'](_0x3bc44f['ZERO'],_0x3bc44f['SRC_COLOR']);break;default:console['error']('THREE.WebGLState:\x20Invalid\x20blending:\x20',_0x1e546a);}_0x2e4879=null,_0x22646d=null,_0x11525f=null,_0x4a4230=null,_0x247481['set'](0x0,0x0,0x0),_0x5d88e9=0x0,_0x3d0d9c=_0x1e546a,_0x5a58a8=_0x4f857c;}}}else!0x0===_0x4234e9&&(_0x237188(_0x3bc44f['BLEND']),_0x4234e9=!0x1);}function _0xafc0a7(_0x25979d){_0x5729b3!==_0x25979d&&(_0x25979d?_0x3bc44f['frontFace'](_0x3bc44f['CW']):_0x3bc44f['frontFace'](_0x3bc44f['CCW']),_0x5729b3=_0x25979d);}function _0x537fbc(_0x4c2bd6){_0x4c2bd6!==_0x42bc67['WNZ']?(_0x30d29a(_0x3bc44f['CULL_FACE']),_0x4c2bd6!==_0x58693a&&(_0x4c2bd6===_0x42bc67['Vb5']?_0x3bc44f['cullFace'](_0x3bc44f['BACK']):_0x4c2bd6===_0x42bc67['Jnc']?_0x3bc44f['cullFace'](_0x3bc44f['FRONT']):_0x3bc44f['cullFace'](_0x3bc44f['FRONT_AND_BACK']))):_0x237188(_0x3bc44f['CULL_FACE']),_0x58693a=_0x4c2bd6;}function _0xb67597(_0xd8c40,_0x1f89cb,_0x3a0e39){_0xd8c40?(_0x30d29a(_0x3bc44f['POLYGON_OFFSET_FILL']),_0x211614===_0x1f89cb&&_0xa4e1e4===_0x3a0e39||(_0x3bc44f['polygonOffset'](_0x1f89cb,_0x3a0e39),_0x211614=_0x1f89cb,_0xa4e1e4=_0x3a0e39)):_0x237188(_0x3bc44f['POLYGON_OFFSET_FILL']);}return{'buffers':{'color':_0x10cdbd,'depth':_0x13fd51,'stencil':_0x4baf6f},'enable':_0x30d29a,'disable':_0x237188,'bindFramebuffer':function(_0x3d7db2,_0x4b2581){return _0x3a3899[_0x3d7db2]!==_0x4b2581&&(_0x3bc44f['bindFramebuffer'](_0x3d7db2,_0x4b2581),_0x3a3899[_0x3d7db2]=_0x4b2581,_0x3d7db2===_0x3bc44f['DRAW_FRAMEBUFFER']&&(_0x3a3899[_0x3bc44f['FRAMEBUFFER']]=_0x4b2581),_0x3d7db2===_0x3bc44f['FRAMEBUFFER']&&(_0x3a3899[_0x3bc44f['DRAW_FRAMEBUFFER']]=_0x4b2581),!0x0);},'drawBuffers':function(_0xd305c7,_0x46b9cb){let _0x21e381=_0xcdfb45,_0x4e7226=!0x1;if(_0xd305c7){_0x21e381=_0x3bc617['get'](_0x46b9cb),void 0x0===_0x21e381&&(_0x21e381=[],_0x3bc617['set'](_0x46b9cb,_0x21e381));const _0x4ab295=_0xd305c7['textures'];if(_0x21e381['length']!==_0x4ab295['length']||_0x21e381[0x0]!==_0x3bc44f['COLOR_ATTACHMENT0']){for(let _0x19313c=0x0,_0x1d0d9f=_0x4ab295['length'];_0x19313c<_0x1d0d9f;_0x19313c++)_0x21e381[_0x19313c]=_0x3bc44f['COLOR_ATTACHMENT0']+_0x19313c;_0x21e381['length']=_0x4ab295['length'],_0x4e7226=!0x0;}}else _0x21e381[0x0]!==_0x3bc44f['BACK']&&(_0x21e381[0x0]=_0x3bc44f['BACK'],_0x4e7226=!0x0);_0x4e7226&&_0x3bc44f['drawBuffers'](_0x21e381);},'useProgram':function(_0x3c1a4e){return _0x2e3d6f!==_0x3c1a4e&&(_0x3bc44f['useProgram'](_0x3c1a4e),_0x2e3d6f=_0x3c1a4e,!0x0);},'setBlending':_0x128aa6,'setMaterial':function(_0x1db183,_0x41b520){_0x1db183['side']===_0x42bc67['$EB']?_0x237188(_0x3bc44f['CULL_FACE']):_0x30d29a(_0x3bc44f['CULL_FACE']);let _0x45212a=_0x1db183['side']===_0x42bc67['hsX'];_0x41b520&&(_0x45212a=!_0x45212a),_0xafc0a7(_0x45212a),_0x1db183['blending']===_0x42bc67['NTi']&&!0x1===_0x1db183['transparent']?_0x128aa6(_0x42bc67['XIg']):_0x128aa6(_0x1db183['blending'],_0x1db183['blendEquation'],_0x1db183['blendSrc'],_0x1db183['blendDst'],_0x1db183['blendEquationAlpha'],_0x1db183['blendSrcAlpha'],_0x1db183['blendDstAlpha'],_0x1db183['blendColor'],_0x1db183['blendAlpha'],_0x1db183['premultipliedAlpha']),_0x13fd51['setFunc'](_0x1db183['depthFunc']),_0x13fd51['setTest'](_0x1db183['depthTest']),_0x13fd51['setMask'](_0x1db183['depthWrite']),_0x10cdbd['setMask'](_0x1db183['colorWrite']);const _0x1c16bf=_0x1db183['stencilWrite'];_0x4baf6f['setTest'](_0x1c16bf),_0x1c16bf&&(_0x4baf6f['setMask'](_0x1db183['stencilWriteMask']),_0x4baf6f['setFunc'](_0x1db183['stencilFunc'],_0x1db183['stencilRef'],_0x1db183['stencilFuncMask']),_0x4baf6f['setOp'](_0x1db183['stencilFail'],_0x1db183['stencilZFail'],_0x1db183['stencilZPass'])),_0xb67597(_0x1db183['polygonOffset'],_0x1db183['polygonOffsetFactor'],_0x1db183['polygonOffsetUnits']),!0x0===_0x1db183['alphaToCoverage']?_0x30d29a(_0x3bc44f['SAMPLE_ALPHA_TO_COVERAGE']):_0x237188(_0x3bc44f['SAMPLE_ALPHA_TO_COVERAGE']);},'setFlipSided':_0xafc0a7,'setCullFace':_0x537fbc,'setLineWidth':function(_0x14a1f0){_0x14a1f0!==_0x3a8346&&(_0x181c4d&&_0x3bc44f['lineWidth'](_0x14a1f0),_0x3a8346=_0x14a1f0);},'setPolygonOffset':_0xb67597,'setScissorTest':function(_0x3b149d){_0x3b149d?_0x30d29a(_0x3bc44f['SCISSOR_TEST']):_0x237188(_0x3bc44f['SCISSOR_TEST']);},'activeTexture':function(_0x18794d){void 0x0===_0x18794d&&(_0x18794d=_0x3bc44f['TEXTURE0']+_0x2deab6-0x1),_0x238d0a!==_0x18794d&&(_0x3bc44f['activeTexture'](_0x18794d),_0x238d0a=_0x18794d);},'bindTexture':function(_0x2ecbf1,_0x33d9fa,_0x3619cb){void 0x0===_0x3619cb&&(_0x3619cb=null===_0x238d0a?_0x3bc44f['TEXTURE0']+_0x2deab6-0x1:_0x238d0a);let _0x2d7ef8=_0x4e8d01[_0x3619cb];void 0x0===_0x2d7ef8&&(_0x2d7ef8={'type':void 0x0,'texture':void 0x0},_0x4e8d01[_0x3619cb]=_0x2d7ef8),_0x2d7ef8['type']===_0x2ecbf1&&_0x2d7ef8['texture']===_0x33d9fa||(_0x238d0a!==_0x3619cb&&(_0x3bc44f['activeTexture'](_0x3619cb),_0x238d0a=_0x3619cb),_0x3bc44f['bindTexture'](_0x2ecbf1,_0x33d9fa||_0x2d49a6[_0x2ecbf1]),_0x2d7ef8['type']=_0x2ecbf1,_0x2d7ef8['texture']=_0x33d9fa);},'unbindTexture':function(){const _0x5b0e24=_0x4e8d01[_0x238d0a];void 0x0!==_0x5b0e24&&void 0x0!==_0x5b0e24['type']&&(_0x3bc44f['bindTexture'](_0x5b0e24['type'],null),_0x5b0e24['type']=void 0x0,_0x5b0e24['texture']=void 0x0);},'compressedTexImage2D':function(){try{_0x3bc44f['compressedTexImage2D']['apply'](_0x3bc44f,arguments);}catch(_0x228828){console['error']('THREE.WebGLState:',_0x228828);}},'compressedTexImage3D':function(){try{_0x3bc44f['compressedTexImage3D']['apply'](_0x3bc44f,arguments);}catch(_0x336772){console['error']('THREE.WebGLState:',_0x336772);}},'texImage2D':function(){try{_0x3bc44f['texImage2D']['apply'](_0x3bc44f,arguments);}catch(_0x5af3a8){console['error']('THREE.WebGLState:',_0x5af3a8);}},'texImage3D':function(){try{_0x3bc44f['texImage3D']['apply'](_0x3bc44f,arguments);}catch(_0x5cfe95){console['error']('THREE.WebGLState:',_0x5cfe95);}},'updateUBOMapping':function(_0x26c7a5,_0x3d2c0f){let _0x17011f=_0x24298d['get'](_0x3d2c0f);void 0x0===_0x17011f&&(_0x17011f=new WeakMap(),_0x24298d['set'](_0x3d2c0f,_0x17011f));let _0x108023=_0x17011f['get'](_0x26c7a5);void 0x0===_0x108023&&(_0x108023=_0x3bc44f['getUniformBlockIndex'](_0x3d2c0f,_0x26c7a5['name']),_0x17011f['set'](_0x26c7a5,_0x108023));},'uniformBlockBinding':function(_0x5c4e91,_0x3230e1){const _0xcc13a1=_0x24298d['get'](_0x3230e1)['get'](_0x5c4e91);_0x4ef694['get'](_0x3230e1)!==_0xcc13a1&&(_0x3bc44f['uniformBlockBinding'](_0x3230e1,_0xcc13a1,_0x5c4e91['__bindingPointIndex']),_0x4ef694['set'](_0x3230e1,_0xcc13a1));},'texStorage2D':function(){try{_0x3bc44f['texStorage2D']['apply'](_0x3bc44f,arguments);}catch(_0x401872){console['error']('THREE.WebGLState:',_0x401872);}},'texStorage3D':function(){try{_0x3bc44f['texStorage3D']['apply'](_0x3bc44f,arguments);}catch(_0x6db493){console['error']('THREE.WebGLState:',_0x6db493);}},'texSubImage2D':function(){try{_0x3bc44f['texSubImage2D']['apply'](_0x3bc44f,arguments);}catch(_0x53e0c8){console['error']('THREE.WebGLState:',_0x53e0c8);}},'texSubImage3D':function(){try{_0x3bc44f['texSubImage3D']['apply'](_0x3bc44f,arguments);}catch(_0x5a9375){console['error']('THREE.WebGLState:',_0x5a9375);}},'compressedTexSubImage2D':function(){try{_0x3bc44f['compressedTexSubImage2D']['apply'](_0x3bc44f,arguments);}catch(_0x1ff866){console['error']('THREE.WebGLState:',_0x1ff866);}},'compressedTexSubImage3D':function(){try{_0x3bc44f['compressedTexSubImage3D']['apply'](_0x3bc44f,arguments);}catch(_0x495265){console['error']('THREE.WebGLState:',_0x495265);}},'scissor':function(_0x2c7b59){!0x1===_0x3be53a['equals'](_0x2c7b59)&&(_0x3bc44f['scissor'](_0x2c7b59['x'],_0x2c7b59['y'],_0x2c7b59['z'],_0x2c7b59['w']),_0x3be53a['copy'](_0x2c7b59));},'viewport':function(_0x276d44){!0x1===_0x2b6bd3['equals'](_0x276d44)&&(_0x3bc44f['viewport'](_0x276d44['x'],_0x276d44['y'],_0x276d44['z'],_0x276d44['w']),_0x2b6bd3['copy'](_0x276d44));},'reset':function(){_0x3bc44f['disable'](_0x3bc44f['BLEND']),_0x3bc44f['disable'](_0x3bc44f['CULL_FACE']),_0x3bc44f['disable'](_0x3bc44f['DEPTH_TEST']),_0x3bc44f['disable'](_0x3bc44f['POLYGON_OFFSET_FILL']),_0x3bc44f['disable'](_0x3bc44f['SCISSOR_TEST']),_0x3bc44f['disable'](_0x3bc44f['STENCIL_TEST']),_0x3bc44f['disable'](_0x3bc44f['SAMPLE_ALPHA_TO_COVERAGE']),_0x3bc44f['blendEquation'](_0x3bc44f['FUNC_ADD']),_0x3bc44f['blendFunc'](_0x3bc44f['ONE'],_0x3bc44f['ZERO']),_0x3bc44f['blendFuncSeparate'](_0x3bc44f['ONE'],_0x3bc44f['ZERO'],_0x3bc44f['ONE'],_0x3bc44f['ZERO']),_0x3bc44f['blendColor'](0x0,0x0,0x0,0x0),_0x3bc44f['colorMask'](!0x0,!0x0,!0x0,!0x0),_0x3bc44f['clearColor'](0x0,0x0,0x0,0x0),_0x3bc44f['depthMask'](!0x0),_0x3bc44f['depthFunc'](_0x3bc44f['LESS']),_0x13fd51['setReversed'](!0x1),_0x3bc44f['clearDepth'](0x1),_0x3bc44f['stencilMask'](0xffffffff),_0x3bc44f['stencilFunc'](_0x3bc44f['ALWAYS'],0x0,0xffffffff),_0x3bc44f['stencilOp'](_0x3bc44f['KEEP'],_0x3bc44f['KEEP'],_0x3bc44f['KEEP']),_0x3bc44f['clearStencil'](0x0),_0x3bc44f['cullFace'](_0x3bc44f['BACK']),_0x3bc44f['frontFace'](_0x3bc44f['CCW']),_0x3bc44f['polygonOffset'](0x0,0x0),_0x3bc44f['activeTexture'](_0x3bc44f['TEXTURE0']),_0x3bc44f['bindFramebuffer'](_0x3bc44f['FRAMEBUFFER'],null),_0x3bc44f['bindFramebuffer'](_0x3bc44f['DRAW_FRAMEBUFFER'],null),_0x3bc44f['bindFramebuffer'](_0x3bc44f['READ_FRAMEBUFFER'],null),_0x3bc44f['useProgram'](null),_0x3bc44f['lineWidth'](0x1),_0x3bc44f['scissor'](0x0,0x0,_0x3bc44f['canvas']['width'],_0x3bc44f['canvas']['height']),_0x3bc44f['viewport'](0x0,0x0,_0x3bc44f['canvas']['width'],_0x3bc44f['canvas']['height']),_0x243d64={},_0x238d0a=null,_0x4e8d01={},_0x3a3899={},_0x3bc617=new WeakMap(),_0xcdfb45=[],_0x2e3d6f=null,_0x4234e9=!0x1,_0x3d0d9c=null,_0x319693=null,_0x2e4879=null,_0x22646d=null,_0x46120e=null,_0x11525f=null,_0x4a4230=null,_0x247481=new _0x42bc67['Q1f'](0x0,0x0,0x0),_0x5d88e9=0x0,_0x5a58a8=!0x1,_0x5729b3=null,_0x58693a=null,_0x3a8346=null,_0x211614=null,_0xa4e1e4=null,_0x3be53a['set'](0x0,0x0,_0x3bc44f['canvas']['width'],_0x3bc44f['canvas']['height']),_0x2b6bd3['set'](0x0,0x0,_0x3bc44f['canvas']['width'],_0x3bc44f['canvas']['height']),_0x10cdbd['reset'](),_0x13fd51['reset'](),_0x4baf6f['reset']();}};}function _0x74c4fb(_0xde9f0,_0x7535bc,_0x2d8605,_0x59248e,_0x40f4cc,_0x3ddd85,_0x25dd1a){const _0x544e7d=_0x7535bc['has']('WEBGL_multisampled_render_to_texture')?_0x7535bc['get']('WEBGL_multisampled_render_to_texture'):null,_0x1eaae7='undefined'!=typeof navigator&&/OculusBrowser/g['test'](navigator['userAgent']),_0x787b9b=new _0x42bc67['I9Y'](),_0x553542=new WeakMap();let _0x26edd7;const _0x2afd6a=new WeakMap();let _0x47844b=!0x1;try{_0x47844b='undefined'!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(0x1,0x1)['getContext']('2d');}catch(_0x4de278){}function _0x2b01a6(_0x15de55,_0x59cc87){return _0x47844b?new OffscreenCanvas(_0x15de55,_0x59cc87):(0x0,_0x42bc67['qq$'])('canvas');}function _0x5bff18(_0x2503a8,_0x19441e,_0xe35bf6){let _0x18f9ff=0x1;const _0x9caecf=_0x547274(_0x2503a8);if((_0x9caecf['width']>_0xe35bf6||_0x9caecf['height']>_0xe35bf6)&&(_0x18f9ff=_0xe35bf6/Math['max'](_0x9caecf['width'],_0x9caecf['height'])),_0x18f9ff<0x1){if('undefined'!=typeof HTMLImageElement&&_0x2503a8 instanceof HTMLImageElement||'undefined'!=typeof HTMLCanvasElement&&_0x2503a8 instanceof HTMLCanvasElement||'undefined'!=typeof ImageBitmap&&_0x2503a8 instanceof ImageBitmap||'undefined'!=typeof VideoFrame&&_0x2503a8 instanceof VideoFrame){const _0x340ded=Math['floor'](_0x18f9ff*_0x9caecf['width']),_0x1fed21=Math['floor'](_0x18f9ff*_0x9caecf['height']);void 0x0===_0x26edd7&&(_0x26edd7=_0x2b01a6(_0x340ded,_0x1fed21));const _0xd00670=_0x19441e?_0x2b01a6(_0x340ded,_0x1fed21):_0x26edd7;return _0xd00670['width']=_0x340ded,_0xd00670['height']=_0x1fed21,(_0xd00670['getContext']('2d')['drawImage'](_0x2503a8,0x0,0x0,_0x340ded,_0x1fed21),console['warn']('THREE.WebGLRenderer:\x20Texture\x20has\x20been\x20resized\x20from\x20('+_0x9caecf['width']+'x'+_0x9caecf['height']+')\x20to\x20('+_0x340ded+'x'+_0x1fed21+').'),_0xd00670);}return'data'in _0x2503a8&&console['warn']('THREE.WebGLRenderer:\x20Image\x20in\x20DataTexture\x20is\x20too\x20big\x20('+_0x9caecf['width']+'x'+_0x9caecf['height']+').'),_0x2503a8;}return _0x2503a8;}function _0x3e7fdd(_0x40fb7f){return _0x40fb7f['generateMipmaps'];}function _0xf32f7e(_0x3342a4){_0xde9f0['generateMipmap'](_0x3342a4);}function _0x4cf620(_0x5628de){return _0x5628de['isWebGLCubeRenderTarget']?_0xde9f0['TEXTURE_CUBE_MAP']:_0x5628de['isWebGL3DRenderTarget']?_0xde9f0['TEXTURE_3D']:_0x5628de['isWebGLArrayRenderTarget']||_0x5628de['isCompressedArrayTexture']?_0xde9f0['TEXTURE_2D_ARRAY']:_0xde9f0['TEXTURE_2D'];}function _0x1f06a4(_0x913700,_0x17569e,_0x5d9625,_0x428b9e,_0xe6add1=!0x1){if(null!==_0x913700){if(void 0x0!==_0xde9f0[_0x913700])return _0xde9f0[_0x913700];console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20use\x20non-existing\x20WebGL\x20internal\x20format\x20\x27'+_0x913700+'\x27');}let _0x120f04=_0x17569e;if(_0x17569e===_0xde9f0['RED']&&(_0x5d9625===_0xde9f0['FLOAT']&&(_0x120f04=_0xde9f0['R32F']),_0x5d9625===_0xde9f0['HALF_FLOAT']&&(_0x120f04=_0xde9f0['R16F']),_0x5d9625===_0xde9f0['UNSIGNED_BYTE']&&(_0x120f04=_0xde9f0['R8'])),_0x17569e===_0xde9f0['RED_INTEGER']&&(_0x5d9625===_0xde9f0['UNSIGNED_BYTE']&&(_0x120f04=_0xde9f0['R8UI']),_0x5d9625===_0xde9f0['UNSIGNED_SHORT']&&(_0x120f04=_0xde9f0['R16UI']),_0x5d9625===_0xde9f0['UNSIGNED_INT']&&(_0x120f04=_0xde9f0['R32UI']),_0x5d9625===_0xde9f0['BYTE']&&(_0x120f04=_0xde9f0['R8I']),_0x5d9625===_0xde9f0['SHORT']&&(_0x120f04=_0xde9f0['R16I']),_0x5d9625===_0xde9f0['INT']&&(_0x120f04=_0xde9f0['R32I'])),_0x17569e===_0xde9f0['RG']&&(_0x5d9625===_0xde9f0['FLOAT']&&(_0x120f04=_0xde9f0['RG32F']),_0x5d9625===_0xde9f0['HALF_FLOAT']&&(_0x120f04=_0xde9f0['RG16F']),_0x5d9625===_0xde9f0['UNSIGNED_BYTE']&&(_0x120f04=_0xde9f0['RG8'])),_0x17569e===_0xde9f0['RG_INTEGER']&&(_0x5d9625===_0xde9f0['UNSIGNED_BYTE']&&(_0x120f04=_0xde9f0['RG8UI']),_0x5d9625===_0xde9f0['UNSIGNED_SHORT']&&(_0x120f04=_0xde9f0['RG16UI']),_0x5d9625===_0xde9f0['UNSIGNED_INT']&&(_0x120f04=_0xde9f0['RG32UI']),_0x5d9625===_0xde9f0['BYTE']&&(_0x120f04=_0xde9f0['RG8I']),_0x5d9625===_0xde9f0['SHORT']&&(_0x120f04=_0xde9f0['RG16I']),_0x5d9625===_0xde9f0['INT']&&(_0x120f04=_0xde9f0['RG32I'])),_0x17569e===_0xde9f0['RGB_INTEGER']&&(_0x5d9625===_0xde9f0['UNSIGNED_BYTE']&&(_0x120f04=_0xde9f0['RGB8UI']),_0x5d9625===_0xde9f0['UNSIGNED_SHORT']&&(_0x120f04=_0xde9f0['RGB16UI']),_0x5d9625===_0xde9f0['UNSIGNED_INT']&&(_0x120f04=_0xde9f0['RGB32UI']),_0x5d9625===_0xde9f0['BYTE']&&(_0x120f04=_0xde9f0['RGB8I']),_0x5d9625===_0xde9f0['SHORT']&&(_0x120f04=_0xde9f0['RGB16I']),_0x5d9625===_0xde9f0['INT']&&(_0x120f04=_0xde9f0['RGB32I'])),_0x17569e===_0xde9f0['RGBA_INTEGER']&&(_0x5d9625===_0xde9f0['UNSIGNED_BYTE']&&(_0x120f04=_0xde9f0['RGBA8UI']),_0x5d9625===_0xde9f0['UNSIGNED_SHORT']&&(_0x120f04=_0xde9f0['RGBA16UI']),_0x5d9625===_0xde9f0['UNSIGNED_INT']&&(_0x120f04=_0xde9f0['RGBA32UI']),_0x5d9625===_0xde9f0['BYTE']&&(_0x120f04=_0xde9f0['RGBA8I']),_0x5d9625===_0xde9f0['SHORT']&&(_0x120f04=_0xde9f0['RGBA16I']),_0x5d9625===_0xde9f0['INT']&&(_0x120f04=_0xde9f0['RGBA32I'])),_0x17569e===_0xde9f0['RGB']&&_0x5d9625===_0xde9f0['UNSIGNED_INT_5_9_9_9_REV']&&(_0x120f04=_0xde9f0['RGB9_E5']),_0x17569e===_0xde9f0['RGBA']){const _0x21ba1c=_0xe6add1?_0x42bc67['VxR']:_0x42bc67['ppV']['getTransfer'](_0x428b9e);_0x5d9625===_0xde9f0['FLOAT']&&(_0x120f04=_0xde9f0['RGBA32F']),_0x5d9625===_0xde9f0['HALF_FLOAT']&&(_0x120f04=_0xde9f0['RGBA16F']),_0x5d9625===_0xde9f0['UNSIGNED_BYTE']&&(_0x120f04=_0x21ba1c===_0x42bc67['KLL']?_0xde9f0['SRGB8_ALPHA8']:_0xde9f0['RGBA8']),_0x5d9625===_0xde9f0['UNSIGNED_SHORT_4_4_4_4']&&(_0x120f04=_0xde9f0['RGBA4']),_0x5d9625===_0xde9f0['UNSIGNED_SHORT_5_5_5_1']&&(_0x120f04=_0xde9f0['RGB5_A1']);}return _0x120f04!==_0xde9f0['R16F']&&_0x120f04!==_0xde9f0['R32F']&&_0x120f04!==_0xde9f0['RG16F']&&_0x120f04!==_0xde9f0['RG32F']&&_0x120f04!==_0xde9f0['RGBA16F']&&_0x120f04!==_0xde9f0['RGBA32F']||_0x7535bc['get']('EXT_color_buffer_float'),_0x120f04;}function _0x6a87e0(_0x8cc8a6,_0x2302f6){let _0x314005;return _0x8cc8a6?null===_0x2302f6||_0x2302f6===_0x42bc67['bkx']||_0x2302f6===_0x42bc67['V3x']?_0x314005=_0xde9f0['DEPTH24_STENCIL8']:_0x2302f6===_0x42bc67['RQf']?_0x314005=_0xde9f0['DEPTH32F_STENCIL8']:_0x2302f6===_0x42bc67['cHt']&&(_0x314005=_0xde9f0['DEPTH24_STENCIL8'],console['warn']('DepthTexture:\x2016\x20bit\x20depth\x20attachment\x20is\x20not\x20supported\x20with\x20stencil.\x20Using\x2024-bit\x20attachment.')):null===_0x2302f6||_0x2302f6===_0x42bc67['bkx']||_0x2302f6===_0x42bc67['V3x']?_0x314005=_0xde9f0['DEPTH_COMPONENT24']:_0x2302f6===_0x42bc67['RQf']?_0x314005=_0xde9f0['DEPTH_COMPONENT32F']:_0x2302f6===_0x42bc67['cHt']&&(_0x314005=_0xde9f0['DEPTH_COMPONENT16']),_0x314005;}function _0xb9a17e(_0x200310,_0x33e7db){return!0x0===_0x3e7fdd(_0x200310)||_0x200310['isFramebufferTexture']&&_0x200310['minFilter']!==_0x42bc67['hxR']&&_0x200310['minFilter']!==_0x42bc67['k6q']?Math['log2'](Math['max'](_0x33e7db['width'],_0x33e7db['height']))+0x1:void 0x0!==_0x200310['mipmaps']&&_0x200310['mipmaps']['length']>0x0?_0x200310['mipmaps']['length']:_0x200310['isCompressedTexture']&&Array['isArray'](_0x200310['image'])?_0x33e7db['mipmaps']['length']:0x1;}function _0x5e01ba(_0x57b272){const _0x3c098f=_0x57b272['target'];_0x3c098f['removeEventListener']('dispose',_0x5e01ba),function(_0x2cf09b){const _0x2892be=_0x59248e['get'](_0x2cf09b);if(void 0x0===_0x2892be['__webglInit'])return;const _0x260c5a=_0x2cf09b['source'],_0xa43ff8=_0x2afd6a['get'](_0x260c5a);if(_0xa43ff8){const _0x3a8874=_0xa43ff8[_0x2892be['__cacheKey']];_0x3a8874['usedTimes']--,0x0===_0x3a8874['usedTimes']&&_0x2c3a5b(_0x2cf09b),0x0===Object['keys'](_0xa43ff8)['length']&&_0x2afd6a['delete'](_0x260c5a);}_0x59248e['remove'](_0x2cf09b);}(_0x3c098f),_0x3c098f['isVideoTexture']&&_0x553542['delete'](_0x3c098f);}function _0x1c9bd8(_0x5eb891){const _0x107daa=_0x5eb891['target'];_0x107daa['removeEventListener']('dispose',_0x1c9bd8),function(_0x1a39f4){const _0x14d975=_0x59248e['get'](_0x1a39f4);_0x1a39f4['depthTexture']&&(_0x1a39f4['depthTexture']['dispose'](),_0x59248e['remove'](_0x1a39f4['depthTexture']));if(_0x1a39f4['isWebGLCubeRenderTarget'])for(let _0x472322=0x0;_0x472322<0x6;_0x472322++){if(Array['isArray'](_0x14d975['__webglFramebuffer'][_0x472322])){for(let _0x55357c=0x0;_0x55357c<_0x14d975['__webglFramebuffer'][_0x472322]['length'];_0x55357c++)_0xde9f0['deleteFramebuffer'](_0x14d975['__webglFramebuffer'][_0x472322][_0x55357c]);}else _0xde9f0['deleteFramebuffer'](_0x14d975['__webglFramebuffer'][_0x472322]);_0x14d975['__webglDepthbuffer']&&_0xde9f0['deleteRenderbuffer'](_0x14d975['__webglDepthbuffer'][_0x472322]);}else{if(Array['isArray'](_0x14d975['__webglFramebuffer'])){for(let _0x2e4ff4=0x0;_0x2e4ff4<_0x14d975['__webglFramebuffer']['length'];_0x2e4ff4++)_0xde9f0['deleteFramebuffer'](_0x14d975['__webglFramebuffer'][_0x2e4ff4]);}else _0xde9f0['deleteFramebuffer'](_0x14d975['__webglFramebuffer']);if(_0x14d975['__webglDepthbuffer']&&_0xde9f0['deleteRenderbuffer'](_0x14d975['__webglDepthbuffer']),_0x14d975['__webglMultisampledFramebuffer']&&_0xde9f0['deleteFramebuffer'](_0x14d975['__webglMultisampledFramebuffer']),_0x14d975['__webglColorRenderbuffer']){for(let _0x31d22c=0x0;_0x31d22c<_0x14d975['__webglColorRenderbuffer']['length'];_0x31d22c++)_0x14d975['__webglColorRenderbuffer'][_0x31d22c]&&_0xde9f0['deleteRenderbuffer'](_0x14d975['__webglColorRenderbuffer'][_0x31d22c]);}_0x14d975['__webglDepthRenderbuffer']&&_0xde9f0['deleteRenderbuffer'](_0x14d975['__webglDepthRenderbuffer']);}const _0x3e0511=_0x1a39f4['textures'];for(let _0x229ae6=0x0,_0xb6a1d4=_0x3e0511['length'];_0x229ae6<_0xb6a1d4;_0x229ae6++){const _0x38fb26=_0x59248e['get'](_0x3e0511[_0x229ae6]);_0x38fb26['__webglTexture']&&(_0xde9f0['deleteTexture'](_0x38fb26['__webglTexture']),_0x25dd1a['memory']['textures']--),_0x59248e['remove'](_0x3e0511[_0x229ae6]);}_0x59248e['remove'](_0x1a39f4);}(_0x107daa);}function _0x2c3a5b(_0x13807c){const _0x5a42c5=_0x59248e['get'](_0x13807c);_0xde9f0['deleteTexture'](_0x5a42c5['__webglTexture']);const _0x399ad5=_0x13807c['source'];delete _0x2afd6a['get'](_0x399ad5)[_0x5a42c5['__cacheKey']],_0x25dd1a['memory']['textures']--;}let _0x238cfa=0x0;function _0x1967b4(_0x419b41,_0x4920de){const _0x130b71=_0x59248e['get'](_0x419b41);if(_0x419b41['isVideoTexture']&&function(_0x1da9a1){const _0x5bc28f=_0x25dd1a['render']['frame'];_0x553542['get'](_0x1da9a1)!==_0x5bc28f&&(_0x553542['set'](_0x1da9a1,_0x5bc28f),_0x1da9a1['update']());}(_0x419b41),!0x1===_0x419b41['isRenderTargetTexture']&&_0x419b41['version']>0x0&&_0x130b71['__version']!==_0x419b41['version']){const _0x88879d=_0x419b41['image'];if(null===_0x88879d)console['warn']('THREE.WebGLRenderer:\x20Texture\x20marked\x20for\x20update\x20but\x20no\x20image\x20data\x20found.');else{if(!0x1!==_0x88879d['complete'])return void _0x5e6ff3(_0x130b71,_0x419b41,_0x4920de);console['warn']('THREE.WebGLRenderer:\x20Texture\x20marked\x20for\x20update\x20but\x20image\x20is\x20incomplete');}}_0x2d8605['bindTexture'](_0xde9f0['TEXTURE_2D'],_0x130b71['__webglTexture'],_0xde9f0['TEXTURE0']+_0x4920de);}const _0x1006a2={[_0x42bc67['GJx']]:_0xde9f0['REPEAT'],[_0x42bc67['ghU']]:_0xde9f0['CLAMP_TO_EDGE'],[_0x42bc67['kTW']]:_0xde9f0['MIRRORED_REPEAT']},_0x34e55a={[_0x42bc67['hxR']]:_0xde9f0['NEAREST'],[_0x42bc67['pHI']]:_0xde9f0['NEAREST_MIPMAP_NEAREST'],[_0x42bc67['Cfg']]:_0xde9f0['NEAREST_MIPMAP_LINEAR'],[_0x42bc67['k6q']]:_0xde9f0['LINEAR'],[_0x42bc67['kRr']]:_0xde9f0['LINEAR_MIPMAP_NEAREST'],[_0x42bc67['$_I']]:_0xde9f0['LINEAR_MIPMAP_LINEAR']},_0x492ff7={[_0x42bc67['amv']]:_0xde9f0['NEVER'],[_0x42bc67['FFZ']]:_0xde9f0['ALWAYS'],[_0x42bc67['vim']]:_0xde9f0['LESS'],[_0x42bc67['TiK']]:_0xde9f0['LEQUAL'],[_0x42bc67['kO0']]:_0xde9f0['EQUAL'],[_0x42bc67['gWB']]:_0xde9f0['GEQUAL'],[_0x42bc67['eoi']]:_0xde9f0['GREATER'],[_0x42bc67['jzd']]:_0xde9f0['NOTEQUAL']};function _0x4b51a2(_0x1604be,_0x4507af){if(_0x4507af['type']!==_0x42bc67['RQf']||!0x1!==_0x7535bc['has']('OES_texture_float_linear')||_0x4507af['magFilter']!==_0x42bc67['k6q']&&_0x4507af['magFilter']!==_0x42bc67['kRr']&&_0x4507af['magFilter']!==_0x42bc67['Cfg']&&_0x4507af['magFilter']!==_0x42bc67['$_I']&&_0x4507af['minFilter']!==_0x42bc67['k6q']&&_0x4507af['minFilter']!==_0x42bc67['kRr']&&_0x4507af['minFilter']!==_0x42bc67['Cfg']&&_0x4507af['minFilter']!==_0x42bc67['$_I']||console['warn']('THREE.WebGLRenderer:\x20Unable\x20to\x20use\x20linear\x20filtering\x20with\x20floating\x20point\x20textures.\x20OES_texture_float_linear\x20not\x20supported\x20on\x20this\x20device.'),_0xde9f0['texParameteri'](_0x1604be,_0xde9f0['TEXTURE_WRAP_S'],_0x1006a2[_0x4507af['wrapS']]),_0xde9f0['texParameteri'](_0x1604be,_0xde9f0['TEXTURE_WRAP_T'],_0x1006a2[_0x4507af['wrapT']]),_0x1604be!==_0xde9f0['TEXTURE_3D']&&_0x1604be!==_0xde9f0['TEXTURE_2D_ARRAY']||_0xde9f0['texParameteri'](_0x1604be,_0xde9f0['TEXTURE_WRAP_R'],_0x1006a2[_0x4507af['wrapR']]),_0xde9f0['texParameteri'](_0x1604be,_0xde9f0['TEXTURE_MAG_FILTER'],_0x34e55a[_0x4507af['magFilter']]),_0xde9f0['texParameteri'](_0x1604be,_0xde9f0['TEXTURE_MIN_FILTER'],_0x34e55a[_0x4507af['minFilter']]),_0x4507af['compareFunction']&&(_0xde9f0['texParameteri'](_0x1604be,_0xde9f0['TEXTURE_COMPARE_MODE'],_0xde9f0['COMPARE_REF_TO_TEXTURE']),_0xde9f0['texParameteri'](_0x1604be,_0xde9f0['TEXTURE_COMPARE_FUNC'],_0x492ff7[_0x4507af['compareFunction']])),!0x0===_0x7535bc['has']('EXT_texture_filter_anisotropic')){if(_0x4507af['magFilter']===_0x42bc67['hxR'])return;if(_0x4507af['minFilter']!==_0x42bc67['Cfg']&&_0x4507af['minFilter']!==_0x42bc67['$_I'])return;if(_0x4507af['type']===_0x42bc67['RQf']&&!0x1===_0x7535bc['has']('OES_texture_float_linear'))return;if(_0x4507af['anisotropy']>0x1||_0x59248e['get'](_0x4507af)['__currentAnisotropy']){const _0x5a0413=_0x7535bc['get']('EXT_texture_filter_anisotropic');_0xde9f0['texParameterf'](_0x1604be,_0x5a0413['TEXTURE_MAX_ANISOTROPY_EXT'],Math['min'](_0x4507af['anisotropy'],_0x40f4cc['getMaxAnisotropy']())),_0x59248e['get'](_0x4507af)['__currentAnisotropy']=_0x4507af['anisotropy'];}}}function _0x230949(_0x2ce118,_0x245b1a){let _0x2437d4=!0x1;void 0x0===_0x2ce118['__webglInit']&&(_0x2ce118['__webglInit']=!0x0,_0x245b1a['addEventListener']('dispose',_0x5e01ba));const _0x44f861=_0x245b1a['source'];let _0x4ca2fb=_0x2afd6a['get'](_0x44f861);void 0x0===_0x4ca2fb&&(_0x4ca2fb={},_0x2afd6a['set'](_0x44f861,_0x4ca2fb));const _0x4ef032=function(_0xc3c661){const _0x1696be=[];return _0x1696be['push'](_0xc3c661['wrapS']),_0x1696be['push'](_0xc3c661['wrapT']),_0x1696be['push'](_0xc3c661['wrapR']||0x0),_0x1696be['push'](_0xc3c661['magFilter']),_0x1696be['push'](_0xc3c661['minFilter']),_0x1696be['push'](_0xc3c661['anisotropy']),_0x1696be['push'](_0xc3c661['internalFormat']),_0x1696be['push'](_0xc3c661['format']),_0x1696be['push'](_0xc3c661['type']),_0x1696be['push'](_0xc3c661['generateMipmaps']),_0x1696be['push'](_0xc3c661['premultiplyAlpha']),_0x1696be['push'](_0xc3c661['flipY']),_0x1696be['push'](_0xc3c661['unpackAlignment']),_0x1696be['push'](_0xc3c661['colorSpace']),_0x1696be['join']();}(_0x245b1a);if(_0x4ef032!==_0x2ce118['__cacheKey']){void 0x0===_0x4ca2fb[_0x4ef032]&&(_0x4ca2fb[_0x4ef032]={'texture':_0xde9f0['createTexture'](),'usedTimes':0x0},_0x25dd1a['memory']['textures']++,_0x2437d4=!0x0),_0x4ca2fb[_0x4ef032]['usedTimes']++;const _0x33b58a=_0x4ca2fb[_0x2ce118['__cacheKey']];void 0x0!==_0x33b58a&&(_0x4ca2fb[_0x2ce118['__cacheKey']]['usedTimes']--,0x0===_0x33b58a['usedTimes']&&_0x2c3a5b(_0x245b1a)),_0x2ce118['__cacheKey']=_0x4ef032,_0x2ce118['__webglTexture']=_0x4ca2fb[_0x4ef032]['texture'];}return _0x2437d4;}function _0x5e6ff3(_0x305231,_0x786b9c,_0x1a608f){let _0x375cf8=_0xde9f0['TEXTURE_2D'];(_0x786b9c['isDataArrayTexture']||_0x786b9c['isCompressedArrayTexture'])&&(_0x375cf8=_0xde9f0['TEXTURE_2D_ARRAY']),_0x786b9c['isData3DTexture']&&(_0x375cf8=_0xde9f0['TEXTURE_3D']);const _0x4853e8=_0x230949(_0x305231,_0x786b9c),_0x2563cc=_0x786b9c['source'];_0x2d8605['bindTexture'](_0x375cf8,_0x305231['__webglTexture'],_0xde9f0['TEXTURE0']+_0x1a608f);const _0x540c54=_0x59248e['get'](_0x2563cc);if(_0x2563cc['version']!==_0x540c54['__version']||!0x0===_0x4853e8){_0x2d8605['activeTexture'](_0xde9f0['TEXTURE0']+_0x1a608f);const _0x26b76c=_0x42bc67['ppV']['getPrimaries'](_0x42bc67['ppV']['workingColorSpace']),_0x1d18c9=_0x786b9c['colorSpace']===_0x42bc67['jf0']?null:_0x42bc67['ppV']['getPrimaries'](_0x786b9c['colorSpace']),_0x500cc4=_0x786b9c['colorSpace']===_0x42bc67['jf0']||_0x26b76c===_0x1d18c9?_0xde9f0['NONE']:_0xde9f0['BROWSER_DEFAULT_WEBGL'];_0xde9f0['pixelStorei'](_0xde9f0['UNPACK_FLIP_Y_WEBGL'],_0x786b9c['flipY']),_0xde9f0['pixelStorei'](_0xde9f0['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x786b9c['premultiplyAlpha']),_0xde9f0['pixelStorei'](_0xde9f0['UNPACK_ALIGNMENT'],_0x786b9c['unpackAlignment']),_0xde9f0['pixelStorei'](_0xde9f0['UNPACK_COLORSPACE_CONVERSION_WEBGL'],_0x500cc4);let _0x54879f=_0x5bff18(_0x786b9c['image'],!0x1,_0x40f4cc['maxTextureSize']);_0x54879f=_0x2758cb(_0x786b9c,_0x54879f);const _0x11997d=_0x3ddd85['convert'](_0x786b9c['format'],_0x786b9c['colorSpace']),_0x4b47e8=_0x3ddd85['convert'](_0x786b9c['type']);let _0x2ba27e,_0x1b70c8=_0x1f06a4(_0x786b9c['internalFormat'],_0x11997d,_0x4b47e8,_0x786b9c['colorSpace'],_0x786b9c['isVideoTexture']);_0x4b51a2(_0x375cf8,_0x786b9c);const _0x38480c=_0x786b9c['mipmaps'],_0x2dcb0a=!0x0!==_0x786b9c['isVideoTexture'],_0x4eaaed=void 0x0===_0x540c54['__version']||!0x0===_0x4853e8,_0xde70d6=_0x2563cc['dataReady'],_0x4131bf=_0xb9a17e(_0x786b9c,_0x54879f);if(_0x786b9c['isDepthTexture'])_0x1b70c8=_0x6a87e0(_0x786b9c['format']===_0x42bc67['dcC'],_0x786b9c['type']),_0x4eaaed&&(_0x2dcb0a?_0x2d8605['texStorage2D'](_0xde9f0['TEXTURE_2D'],0x1,_0x1b70c8,_0x54879f['width'],_0x54879f['height']):_0x2d8605['texImage2D'](_0xde9f0['TEXTURE_2D'],0x0,_0x1b70c8,_0x54879f['width'],_0x54879f['height'],0x0,_0x11997d,_0x4b47e8,null));else{if(_0x786b9c['isDataTexture']){if(_0x38480c['length']>0x0){_0x2dcb0a&&_0x4eaaed&&_0x2d8605['texStorage2D'](_0xde9f0['TEXTURE_2D'],_0x4131bf,_0x1b70c8,_0x38480c[0x0]['width'],_0x38480c[0x0]['height']);for(let _0x6f20bb=0x0,_0x69fb68=_0x38480c['length'];_0x6f20bb<_0x69fb68;_0x6f20bb++)_0x2ba27e=_0x38480c[_0x6f20bb],_0x2dcb0a?_0xde70d6&&_0x2d8605['texSubImage2D'](_0xde9f0['TEXTURE_2D'],_0x6f20bb,0x0,0x0,_0x2ba27e['width'],_0x2ba27e['height'],_0x11997d,_0x4b47e8,_0x2ba27e['data']):_0x2d8605['texImage2D'](_0xde9f0['TEXTURE_2D'],_0x6f20bb,_0x1b70c8,_0x2ba27e['width'],_0x2ba27e['height'],0x0,_0x11997d,_0x4b47e8,_0x2ba27e['data']);_0x786b9c['generateMipmaps']=!0x1;}else _0x2dcb0a?(_0x4eaaed&&_0x2d8605['texStorage2D'](_0xde9f0['TEXTURE_2D'],_0x4131bf,_0x1b70c8,_0x54879f['width'],_0x54879f['height']),_0xde70d6&&_0x2d8605['texSubImage2D'](_0xde9f0['TEXTURE_2D'],0x0,0x0,0x0,_0x54879f['width'],_0x54879f['height'],_0x11997d,_0x4b47e8,_0x54879f['data'])):_0x2d8605['texImage2D'](_0xde9f0['TEXTURE_2D'],0x0,_0x1b70c8,_0x54879f['width'],_0x54879f['height'],0x0,_0x11997d,_0x4b47e8,_0x54879f['data']);}else{if(_0x786b9c['isCompressedTexture']){if(_0x786b9c['isCompressedArrayTexture']){_0x2dcb0a&&_0x4eaaed&&_0x2d8605['texStorage3D'](_0xde9f0['TEXTURE_2D_ARRAY'],_0x4131bf,_0x1b70c8,_0x38480c[0x0]['width'],_0x38480c[0x0]['height'],_0x54879f['depth']);for(let _0x32ea46=0x0,_0x22cbb4=_0x38480c['length'];_0x32ea46<_0x22cbb4;_0x32ea46++)if(_0x2ba27e=_0x38480c[_0x32ea46],_0x786b9c['format']!==_0x42bc67['GWd']){if(null!==_0x11997d){if(_0x2dcb0a){if(_0xde70d6){if(_0x786b9c['layerUpdates']['size']>0x0){const _0x2b3d74=(0x0,_0x42bc67['Nex'])(_0x2ba27e['width'],_0x2ba27e['height'],_0x786b9c['format'],_0x786b9c['type']);for(const _0x246675 of _0x786b9c['layerUpdates']){const _0x23ce95=_0x2ba27e['data']['subarray'](_0x246675*_0x2b3d74/_0x2ba27e['data']['BYTES_PER_ELEMENT'],(_0x246675+0x1)*_0x2b3d74/_0x2ba27e['data']['BYTES_PER_ELEMENT']);_0x2d8605['compressedTexSubImage3D'](_0xde9f0['TEXTURE_2D_ARRAY'],_0x32ea46,0x0,0x0,_0x246675,_0x2ba27e['width'],_0x2ba27e['height'],0x1,_0x11997d,_0x23ce95);}_0x786b9c['clearLayerUpdates']();}else _0x2d8605['compressedTexSubImage3D'](_0xde9f0['TEXTURE_2D_ARRAY'],_0x32ea46,0x0,0x0,0x0,_0x2ba27e['width'],_0x2ba27e['height'],_0x54879f['depth'],_0x11997d,_0x2ba27e['data']);}}else _0x2d8605['compressedTexImage3D'](_0xde9f0['TEXTURE_2D_ARRAY'],_0x32ea46,_0x1b70c8,_0x2ba27e['width'],_0x2ba27e['height'],_0x54879f['depth'],0x0,_0x2ba27e['data'],0x0,0x0);}else console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.uploadTexture()');}else _0x2dcb0a?_0xde70d6&&_0x2d8605['texSubImage3D'](_0xde9f0['TEXTURE_2D_ARRAY'],_0x32ea46,0x0,0x0,0x0,_0x2ba27e['width'],_0x2ba27e['height'],_0x54879f['depth'],_0x11997d,_0x4b47e8,_0x2ba27e['data']):_0x2d8605['texImage3D'](_0xde9f0['TEXTURE_2D_ARRAY'],_0x32ea46,_0x1b70c8,_0x2ba27e['width'],_0x2ba27e['height'],_0x54879f['depth'],0x0,_0x11997d,_0x4b47e8,_0x2ba27e['data']);}else{_0x2dcb0a&&_0x4eaaed&&_0x2d8605['texStorage2D'](_0xde9f0['TEXTURE_2D'],_0x4131bf,_0x1b70c8,_0x38480c[0x0]['width'],_0x38480c[0x0]['height']);for(let _0x2777e1=0x0,_0x33dd75=_0x38480c['length'];_0x2777e1<_0x33dd75;_0x2777e1++)_0x2ba27e=_0x38480c[_0x2777e1],_0x786b9c['format']!==_0x42bc67['GWd']?null!==_0x11997d?_0x2dcb0a?_0xde70d6&&_0x2d8605['compressedTexSubImage2D'](_0xde9f0['TEXTURE_2D'],_0x2777e1,0x0,0x0,_0x2ba27e['width'],_0x2ba27e['height'],_0x11997d,_0x2ba27e['data']):_0x2d8605['compressedTexImage2D'](_0xde9f0['TEXTURE_2D'],_0x2777e1,_0x1b70c8,_0x2ba27e['width'],_0x2ba27e['height'],0x0,_0x2ba27e['data']):console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.uploadTexture()'):_0x2dcb0a?_0xde70d6&&_0x2d8605['texSubImage2D'](_0xde9f0['TEXTURE_2D'],_0x2777e1,0x0,0x0,_0x2ba27e['width'],_0x2ba27e['height'],_0x11997d,_0x4b47e8,_0x2ba27e['data']):_0x2d8605['texImage2D'](_0xde9f0['TEXTURE_2D'],_0x2777e1,_0x1b70c8,_0x2ba27e['width'],_0x2ba27e['height'],0x0,_0x11997d,_0x4b47e8,_0x2ba27e['data']);}}else{if(_0x786b9c['isDataArrayTexture']){if(_0x2dcb0a){if(_0x4eaaed&&_0x2d8605['texStorage3D'](_0xde9f0['TEXTURE_2D_ARRAY'],_0x4131bf,_0x1b70c8,_0x54879f['width'],_0x54879f['height'],_0x54879f['depth']),_0xde70d6){if(_0x786b9c['layerUpdates']['size']>0x0){const _0x3d1d18=(0x0,_0x42bc67['Nex'])(_0x54879f['width'],_0x54879f['height'],_0x786b9c['format'],_0x786b9c['type']);for(const _0x58f21e of _0x786b9c['layerUpdates']){const _0x18ead1=_0x54879f['data']['subarray'](_0x58f21e*_0x3d1d18/_0x54879f['data']['BYTES_PER_ELEMENT'],(_0x58f21e+0x1)*_0x3d1d18/_0x54879f['data']['BYTES_PER_ELEMENT']);_0x2d8605['texSubImage3D'](_0xde9f0['TEXTURE_2D_ARRAY'],0x0,0x0,0x0,_0x58f21e,_0x54879f['width'],_0x54879f['height'],0x1,_0x11997d,_0x4b47e8,_0x18ead1);}_0x786b9c['clearLayerUpdates']();}else _0x2d8605['texSubImage3D'](_0xde9f0['TEXTURE_2D_ARRAY'],0x0,0x0,0x0,0x0,_0x54879f['width'],_0x54879f['height'],_0x54879f['depth'],_0x11997d,_0x4b47e8,_0x54879f['data']);}}else _0x2d8605['texImage3D'](_0xde9f0['TEXTURE_2D_ARRAY'],0x0,_0x1b70c8,_0x54879f['width'],_0x54879f['height'],_0x54879f['depth'],0x0,_0x11997d,_0x4b47e8,_0x54879f['data']);}else{if(_0x786b9c['isData3DTexture'])_0x2dcb0a?(_0x4eaaed&&_0x2d8605['texStorage3D'](_0xde9f0['TEXTURE_3D'],_0x4131bf,_0x1b70c8,_0x54879f['width'],_0x54879f['height'],_0x54879f['depth']),_0xde70d6&&_0x2d8605['texSubImage3D'](_0xde9f0['TEXTURE_3D'],0x0,0x0,0x0,0x0,_0x54879f['width'],_0x54879f['height'],_0x54879f['depth'],_0x11997d,_0x4b47e8,_0x54879f['data'])):_0x2d8605['texImage3D'](_0xde9f0['TEXTURE_3D'],0x0,_0x1b70c8,_0x54879f['width'],_0x54879f['height'],_0x54879f['depth'],0x0,_0x11997d,_0x4b47e8,_0x54879f['data']);else{if(_0x786b9c['isFramebufferTexture']){if(_0x4eaaed){if(_0x2dcb0a)_0x2d8605['texStorage2D'](_0xde9f0['TEXTURE_2D'],_0x4131bf,_0x1b70c8,_0x54879f['width'],_0x54879f['height']);else{let _0x1dfe85=_0x54879f['width'],_0x7fadb=_0x54879f['height'];for(let _0x1bae1f=0x0;_0x1bae1f<_0x4131bf;_0x1bae1f++)_0x2d8605['texImage2D'](_0xde9f0['TEXTURE_2D'],_0x1bae1f,_0x1b70c8,_0x1dfe85,_0x7fadb,0x0,_0x11997d,_0x4b47e8,null),_0x1dfe85>>=0x1,_0x7fadb>>=0x1;}}}else{if(_0x38480c['length']>0x0){if(_0x2dcb0a&&_0x4eaaed){const _0x56c5ff=_0x547274(_0x38480c[0x0]);_0x2d8605['texStorage2D'](_0xde9f0['TEXTURE_2D'],_0x4131bf,_0x1b70c8,_0x56c5ff['width'],_0x56c5ff['height']);}for(let _0x2df951=0x0,_0x3398d6=_0x38480c['length'];_0x2df951<_0x3398d6;_0x2df951++)_0x2ba27e=_0x38480c[_0x2df951],_0x2dcb0a?_0xde70d6&&_0x2d8605['texSubImage2D'](_0xde9f0['TEXTURE_2D'],_0x2df951,0x0,0x0,_0x11997d,_0x4b47e8,_0x2ba27e):_0x2d8605['texImage2D'](_0xde9f0['TEXTURE_2D'],_0x2df951,_0x1b70c8,_0x11997d,_0x4b47e8,_0x2ba27e);_0x786b9c['generateMipmaps']=!0x1;}else{if(_0x2dcb0a){if(_0x4eaaed){const _0x15baa0=_0x547274(_0x54879f);_0x2d8605['texStorage2D'](_0xde9f0['TEXTURE_2D'],_0x4131bf,_0x1b70c8,_0x15baa0['width'],_0x15baa0['height']);}_0xde70d6&&_0x2d8605['texSubImage2D'](_0xde9f0['TEXTURE_2D'],0x0,0x0,0x0,_0x11997d,_0x4b47e8,_0x54879f);}else _0x2d8605['texImage2D'](_0xde9f0['TEXTURE_2D'],0x0,_0x1b70c8,_0x11997d,_0x4b47e8,_0x54879f);}}}}}}}_0x3e7fdd(_0x786b9c)&&_0xf32f7e(_0x375cf8),_0x540c54['__version']=_0x2563cc['version'],_0x786b9c['onUpdate']&&_0x786b9c['onUpdate'](_0x786b9c);}_0x305231['__version']=_0x786b9c['version'];}function _0x45d939(_0x3075dc,_0x59ba10,_0xdbc6aa,_0x274ebe,_0x5a7693,_0x1c2947){const _0x5a977a=_0x3ddd85['convert'](_0xdbc6aa['format'],_0xdbc6aa['colorSpace']),_0x227e03=_0x3ddd85['convert'](_0xdbc6aa['type']),_0x37ae69=_0x1f06a4(_0xdbc6aa['internalFormat'],_0x5a977a,_0x227e03,_0xdbc6aa['colorSpace']),_0x1012cd=_0x59248e['get'](_0x59ba10),_0x4d7068=_0x59248e['get'](_0xdbc6aa);if(_0x4d7068['__renderTarget']=_0x59ba10,!_0x1012cd['__hasExternalTextures']){const _0x771cf0=Math['max'](0x1,_0x59ba10['width']>>_0x1c2947),_0x409e01=Math['max'](0x1,_0x59ba10['height']>>_0x1c2947);_0x5a7693===_0xde9f0['TEXTURE_3D']||_0x5a7693===_0xde9f0['TEXTURE_2D_ARRAY']?_0x2d8605['texImage3D'](_0x5a7693,_0x1c2947,_0x37ae69,_0x771cf0,_0x409e01,_0x59ba10['depth'],0x0,_0x5a977a,_0x227e03,null):_0x2d8605['texImage2D'](_0x5a7693,_0x1c2947,_0x37ae69,_0x771cf0,_0x409e01,0x0,_0x5a977a,_0x227e03,null);}_0x2d8605['bindFramebuffer'](_0xde9f0['FRAMEBUFFER'],_0x3075dc),_0xc97de9(_0x59ba10)?_0x544e7d['framebufferTexture2DMultisampleEXT'](_0xde9f0['FRAMEBUFFER'],_0x274ebe,_0x5a7693,_0x4d7068['__webglTexture'],0x0,_0x468a1f(_0x59ba10)):(_0x5a7693===_0xde9f0['TEXTURE_2D']||_0x5a7693>=_0xde9f0['TEXTURE_CUBE_MAP_POSITIVE_X']&&_0x5a7693<=_0xde9f0['TEXTURE_CUBE_MAP_NEGATIVE_Z'])&&_0xde9f0['framebufferTexture2D'](_0xde9f0['FRAMEBUFFER'],_0x274ebe,_0x5a7693,_0x4d7068['__webglTexture'],_0x1c2947),_0x2d8605['bindFramebuffer'](_0xde9f0['FRAMEBUFFER'],null);}function _0x39405c(_0x412427,_0x7cf35f,_0x4d5912){if(_0xde9f0['bindRenderbuffer'](_0xde9f0['RENDERBUFFER'],_0x412427),_0x7cf35f['depthBuffer']){const _0x1138db=_0x7cf35f['depthTexture'],_0xbb84e5=_0x1138db&&_0x1138db['isDepthTexture']?_0x1138db['type']:null,_0x4763a0=_0x6a87e0(_0x7cf35f['stencilBuffer'],_0xbb84e5),_0x398951=_0x7cf35f['stencilBuffer']?_0xde9f0['DEPTH_STENCIL_ATTACHMENT']:_0xde9f0['DEPTH_ATTACHMENT'],_0x130fd0=_0x468a1f(_0x7cf35f);_0xc97de9(_0x7cf35f)?_0x544e7d['renderbufferStorageMultisampleEXT'](_0xde9f0['RENDERBUFFER'],_0x130fd0,_0x4763a0,_0x7cf35f['width'],_0x7cf35f['height']):_0x4d5912?_0xde9f0['renderbufferStorageMultisample'](_0xde9f0['RENDERBUFFER'],_0x130fd0,_0x4763a0,_0x7cf35f['width'],_0x7cf35f['height']):_0xde9f0['renderbufferStorage'](_0xde9f0['RENDERBUFFER'],_0x4763a0,_0x7cf35f['width'],_0x7cf35f['height']),_0xde9f0['framebufferRenderbuffer'](_0xde9f0['FRAMEBUFFER'],_0x398951,_0xde9f0['RENDERBUFFER'],_0x412427);}else{const _0x5774ef=_0x7cf35f['textures'];for(let _0x5b2500=0x0;_0x5b2500<_0x5774ef['length'];_0x5b2500++){const _0x446bd2=_0x5774ef[_0x5b2500],_0x1392ff=_0x3ddd85['convert'](_0x446bd2['format'],_0x446bd2['colorSpace']),_0x721fdc=_0x3ddd85['convert'](_0x446bd2['type']),_0x3b1f44=_0x1f06a4(_0x446bd2['internalFormat'],_0x1392ff,_0x721fdc,_0x446bd2['colorSpace']),_0xd99674=_0x468a1f(_0x7cf35f);_0x4d5912&&!0x1===_0xc97de9(_0x7cf35f)?_0xde9f0['renderbufferStorageMultisample'](_0xde9f0['RENDERBUFFER'],_0xd99674,_0x3b1f44,_0x7cf35f['width'],_0x7cf35f['height']):_0xc97de9(_0x7cf35f)?_0x544e7d['renderbufferStorageMultisampleEXT'](_0xde9f0['RENDERBUFFER'],_0xd99674,_0x3b1f44,_0x7cf35f['width'],_0x7cf35f['height']):_0xde9f0['renderbufferStorage'](_0xde9f0['RENDERBUFFER'],_0x3b1f44,_0x7cf35f['width'],_0x7cf35f['height']);}}_0xde9f0['bindRenderbuffer'](_0xde9f0['RENDERBUFFER'],null);}function _0x585205(_0x5c8761){const _0x2d8a48=_0x59248e['get'](_0x5c8761),_0x2cb451=!0x0===_0x5c8761['isWebGLCubeRenderTarget'];if(_0x2d8a48['__boundDepthTexture']!==_0x5c8761['depthTexture']){const _0x51b0d5=_0x5c8761['depthTexture'];if(_0x2d8a48['__depthDisposeCallback']&&_0x2d8a48['__depthDisposeCallback'](),_0x51b0d5){const _0x4813dd=()=>{delete _0x2d8a48['__boundDepthTexture'],delete _0x2d8a48['__depthDisposeCallback'],_0x51b0d5['removeEventListener']('dispose',_0x4813dd);};_0x51b0d5['addEventListener']('dispose',_0x4813dd),_0x2d8a48['__depthDisposeCallback']=_0x4813dd;}_0x2d8a48['__boundDepthTexture']=_0x51b0d5;}if(_0x5c8761['depthTexture']&&!_0x2d8a48['__autoAllocateDepthBuffer']){if(_0x2cb451)throw new Error('target.depthTexture\x20not\x20supported\x20in\x20Cube\x20render\x20targets');!function(_0x4706e4,_0x262740){if(_0x262740&&_0x262740['isWebGLCubeRenderTarget'])throw new Error('Depth\x20Texture\x20with\x20cube\x20render\x20targets\x20is\x20not\x20supported');if(_0x2d8605['bindFramebuffer'](_0xde9f0['FRAMEBUFFER'],_0x4706e4),!_0x262740['depthTexture']||!_0x262740['depthTexture']['isDepthTexture'])throw new Error('renderTarget.depthTexture\x20must\x20be\x20an\x20instance\x20of\x20THREE.DepthTexture');const _0x2e87fc=_0x59248e['get'](_0x262740['depthTexture']);_0x2e87fc['__renderTarget']=_0x262740,_0x2e87fc['__webglTexture']&&_0x262740['depthTexture']['image']['width']===_0x262740['width']&&_0x262740['depthTexture']['image']['height']===_0x262740['height']||(_0x262740['depthTexture']['image']['width']=_0x262740['width'],_0x262740['depthTexture']['image']['height']=_0x262740['height'],_0x262740['depthTexture']['needsUpdate']=!0x0),_0x1967b4(_0x262740['depthTexture'],0x0);const _0x21207c=_0x2e87fc['__webglTexture'],_0x3e93e7=_0x468a1f(_0x262740);if(_0x262740['depthTexture']['format']===_0x42bc67['zdS'])_0xc97de9(_0x262740)?_0x544e7d['framebufferTexture2DMultisampleEXT'](_0xde9f0['FRAMEBUFFER'],_0xde9f0['DEPTH_ATTACHMENT'],_0xde9f0['TEXTURE_2D'],_0x21207c,0x0,_0x3e93e7):_0xde9f0['framebufferTexture2D'](_0xde9f0['FRAMEBUFFER'],_0xde9f0['DEPTH_ATTACHMENT'],_0xde9f0['TEXTURE_2D'],_0x21207c,0x0);else{if(_0x262740['depthTexture']['format']!==_0x42bc67['dcC'])throw new Error('Unknown\x20depthTexture\x20format');_0xc97de9(_0x262740)?_0x544e7d['framebufferTexture2DMultisampleEXT'](_0xde9f0['FRAMEBUFFER'],_0xde9f0['DEPTH_STENCIL_ATTACHMENT'],_0xde9f0['TEXTURE_2D'],_0x21207c,0x0,_0x3e93e7):_0xde9f0['framebufferTexture2D'](_0xde9f0['FRAMEBUFFER'],_0xde9f0['DEPTH_STENCIL_ATTACHMENT'],_0xde9f0['TEXTURE_2D'],_0x21207c,0x0);}}(_0x2d8a48['__webglFramebuffer'],_0x5c8761);}else{if(_0x2cb451){_0x2d8a48['__webglDepthbuffer']=[];for(let _0x18efe4=0x0;_0x18efe4<0x6;_0x18efe4++)if(_0x2d8605['bindFramebuffer'](_0xde9f0['FRAMEBUFFER'],_0x2d8a48['__webglFramebuffer'][_0x18efe4]),void 0x0===_0x2d8a48['__webglDepthbuffer'][_0x18efe4])_0x2d8a48['__webglDepthbuffer'][_0x18efe4]=_0xde9f0['createRenderbuffer'](),_0x39405c(_0x2d8a48['__webglDepthbuffer'][_0x18efe4],_0x5c8761,!0x1);else{const _0xdf8ce7=_0x5c8761['stencilBuffer']?_0xde9f0['DEPTH_STENCIL_ATTACHMENT']:_0xde9f0['DEPTH_ATTACHMENT'],_0x39154b=_0x2d8a48['__webglDepthbuffer'][_0x18efe4];_0xde9f0['bindRenderbuffer'](_0xde9f0['RENDERBUFFER'],_0x39154b),_0xde9f0['framebufferRenderbuffer'](_0xde9f0['FRAMEBUFFER'],_0xdf8ce7,_0xde9f0['RENDERBUFFER'],_0x39154b);}}else{if(_0x2d8605['bindFramebuffer'](_0xde9f0['FRAMEBUFFER'],_0x2d8a48['__webglFramebuffer']),void 0x0===_0x2d8a48['__webglDepthbuffer'])_0x2d8a48['__webglDepthbuffer']=_0xde9f0['createRenderbuffer'](),_0x39405c(_0x2d8a48['__webglDepthbuffer'],_0x5c8761,!0x1);else{const _0x212afb=_0x5c8761['stencilBuffer']?_0xde9f0['DEPTH_STENCIL_ATTACHMENT']:_0xde9f0['DEPTH_ATTACHMENT'],_0x10030c=_0x2d8a48['__webglDepthbuffer'];_0xde9f0['bindRenderbuffer'](_0xde9f0['RENDERBUFFER'],_0x10030c),_0xde9f0['framebufferRenderbuffer'](_0xde9f0['FRAMEBUFFER'],_0x212afb,_0xde9f0['RENDERBUFFER'],_0x10030c);}}}_0x2d8605['bindFramebuffer'](_0xde9f0['FRAMEBUFFER'],null);}const _0x490c8f=[],_0x15bb5a=[];function _0x468a1f(_0x3571eb){return Math['min'](_0x40f4cc['maxSamples'],_0x3571eb['samples']);}function _0xc97de9(_0x1fc1ab){const _0x426cea=_0x59248e['get'](_0x1fc1ab);return _0x1fc1ab['samples']>0x0&&!0x0===_0x7535bc['has']('WEBGL_multisampled_render_to_texture')&&!0x1!==_0x426cea['__useRenderToTexture'];}function _0x2758cb(_0x4a1d8b,_0x1344f5){const _0x2bc727=_0x4a1d8b['colorSpace'],_0x5cde1e=_0x4a1d8b['format'],_0x473949=_0x4a1d8b['type'];return!0x0===_0x4a1d8b['isCompressedTexture']||!0x0===_0x4a1d8b['isVideoTexture']||_0x2bc727!==_0x42bc67['Zr2']&&_0x2bc727!==_0x42bc67['jf0']&&(_0x42bc67['ppV']['getTransfer'](_0x2bc727)===_0x42bc67['KLL']?_0x5cde1e===_0x42bc67['GWd']&&_0x473949===_0x42bc67['OUM']||console['warn']('THREE.WebGLTextures:\x20sRGB\x20encoded\x20textures\x20have\x20to\x20use\x20RGBAFormat\x20and\x20UnsignedByteType.'):console['error']('THREE.WebGLTextures:\x20Unsupported\x20texture\x20color\x20space:',_0x2bc727)),_0x1344f5;}function _0x547274(_0x5a821f){return'undefined'!=typeof HTMLImageElement&&_0x5a821f instanceof HTMLImageElement?(_0x787b9b['width']=_0x5a821f['naturalWidth']||_0x5a821f['width'],_0x787b9b['height']=_0x5a821f['naturalHeight']||_0x5a821f['height']):'undefined'!=typeof VideoFrame&&_0x5a821f instanceof VideoFrame?(_0x787b9b['width']=_0x5a821f['displayWidth'],_0x787b9b['height']=_0x5a821f['displayHeight']):(_0x787b9b['width']=_0x5a821f['width'],_0x787b9b['height']=_0x5a821f['height']),_0x787b9b;}this['allocateTextureUnit']=function(){const _0x2fdac4=_0x238cfa;return _0x2fdac4>=_0x40f4cc['maxTextures']&&console['warn']('THREE.WebGLTextures:\x20Trying\x20to\x20use\x20'+_0x2fdac4+'\x20texture\x20units\x20while\x20this\x20GPU\x20supports\x20only\x20'+_0x40f4cc['maxTextures']),_0x238cfa+=0x1,_0x2fdac4;},this['resetTextureUnits']=function(){_0x238cfa=0x0;},this['setTexture2D']=_0x1967b4,this['setTexture2DArray']=function(_0x21dadd,_0x1aa122){const _0x5e309a=_0x59248e['get'](_0x21dadd);_0x21dadd['version']>0x0&&_0x5e309a['__version']!==_0x21dadd['version']?_0x5e6ff3(_0x5e309a,_0x21dadd,_0x1aa122):_0x2d8605['bindTexture'](_0xde9f0['TEXTURE_2D_ARRAY'],_0x5e309a['__webglTexture'],_0xde9f0['TEXTURE0']+_0x1aa122);},this['setTexture3D']=function(_0x506ea2,_0x2186ab){const _0x1a7c8f=_0x59248e['get'](_0x506ea2);_0x506ea2['version']>0x0&&_0x1a7c8f['__version']!==_0x506ea2['version']?_0x5e6ff3(_0x1a7c8f,_0x506ea2,_0x2186ab):_0x2d8605['bindTexture'](_0xde9f0['TEXTURE_3D'],_0x1a7c8f['__webglTexture'],_0xde9f0['TEXTURE0']+_0x2186ab);},this['setTextureCube']=function(_0x3227de,_0xdea753){const _0xb8b3eb=_0x59248e['get'](_0x3227de);_0x3227de['version']>0x0&&_0xb8b3eb['__version']!==_0x3227de['version']?function(_0x49a663,_0x5deb9d,_0x17ad84){if(0x6!==_0x5deb9d['image']['length'])return;const _0x4b33cd=_0x230949(_0x49a663,_0x5deb9d),_0x10168f=_0x5deb9d['source'];_0x2d8605['bindTexture'](_0xde9f0['TEXTURE_CUBE_MAP'],_0x49a663['__webglTexture'],_0xde9f0['TEXTURE0']+_0x17ad84);const _0x13a050=_0x59248e['get'](_0x10168f);if(_0x10168f['version']!==_0x13a050['__version']||!0x0===_0x4b33cd){_0x2d8605['activeTexture'](_0xde9f0['TEXTURE0']+_0x17ad84);const _0x337819=_0x42bc67['ppV']['getPrimaries'](_0x42bc67['ppV']['workingColorSpace']),_0x411241=_0x5deb9d['colorSpace']===_0x42bc67['jf0']?null:_0x42bc67['ppV']['getPrimaries'](_0x5deb9d['colorSpace']),_0x20eb62=_0x5deb9d['colorSpace']===_0x42bc67['jf0']||_0x337819===_0x411241?_0xde9f0['NONE']:_0xde9f0['BROWSER_DEFAULT_WEBGL'];_0xde9f0['pixelStorei'](_0xde9f0['UNPACK_FLIP_Y_WEBGL'],_0x5deb9d['flipY']),_0xde9f0['pixelStorei'](_0xde9f0['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x5deb9d['premultiplyAlpha']),_0xde9f0['pixelStorei'](_0xde9f0['UNPACK_ALIGNMENT'],_0x5deb9d['unpackAlignment']),_0xde9f0['pixelStorei'](_0xde9f0['UNPACK_COLORSPACE_CONVERSION_WEBGL'],_0x20eb62);const _0x3581c0=_0x5deb9d['isCompressedTexture']||_0x5deb9d['image'][0x0]['isCompressedTexture'],_0x553c29=_0x5deb9d['image'][0x0]&&_0x5deb9d['image'][0x0]['isDataTexture'],_0x4e01f8=[];for(let _0x55293c=0x0;_0x55293c<0x6;_0x55293c++)_0x4e01f8[_0x55293c]=_0x3581c0||_0x553c29?_0x553c29?_0x5deb9d['image'][_0x55293c]['image']:_0x5deb9d['image'][_0x55293c]:_0x5bff18(_0x5deb9d['image'][_0x55293c],!0x0,_0x40f4cc['maxCubemapSize']),_0x4e01f8[_0x55293c]=_0x2758cb(_0x5deb9d,_0x4e01f8[_0x55293c]);const _0x4731af=_0x4e01f8[0x0],_0x467e6f=_0x3ddd85['convert'](_0x5deb9d['format'],_0x5deb9d['colorSpace']),_0x4249d5=_0x3ddd85['convert'](_0x5deb9d['type']),_0x7078d1=_0x1f06a4(_0x5deb9d['internalFormat'],_0x467e6f,_0x4249d5,_0x5deb9d['colorSpace']),_0x73f051=!0x0!==_0x5deb9d['isVideoTexture'],_0x5c96d7=void 0x0===_0x13a050['__version']||!0x0===_0x4b33cd,_0x3f4e94=_0x10168f['dataReady'];let _0x2adc4f,_0x61328a=_0xb9a17e(_0x5deb9d,_0x4731af);if(_0x4b51a2(_0xde9f0['TEXTURE_CUBE_MAP'],_0x5deb9d),_0x3581c0){_0x73f051&&_0x5c96d7&&_0x2d8605['texStorage2D'](_0xde9f0['TEXTURE_CUBE_MAP'],_0x61328a,_0x7078d1,_0x4731af['width'],_0x4731af['height']);for(let _0x3dabef=0x0;_0x3dabef<0x6;_0x3dabef++){_0x2adc4f=_0x4e01f8[_0x3dabef]['mipmaps'];for(let _0x4d153e=0x0;_0x4d153e<_0x2adc4f['length'];_0x4d153e++){const _0x1292a2=_0x2adc4f[_0x4d153e];_0x5deb9d['format']!==_0x42bc67['GWd']?null!==_0x467e6f?_0x73f051?_0x3f4e94&&_0x2d8605['compressedTexSubImage2D'](_0xde9f0['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3dabef,_0x4d153e,0x0,0x0,_0x1292a2['width'],_0x1292a2['height'],_0x467e6f,_0x1292a2['data']):_0x2d8605['compressedTexImage2D'](_0xde9f0['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3dabef,_0x4d153e,_0x7078d1,_0x1292a2['width'],_0x1292a2['height'],0x0,_0x1292a2['data']):console['warn']('THREE.WebGLRenderer:\x20Attempt\x20to\x20load\x20unsupported\x20compressed\x20texture\x20format\x20in\x20.setTextureCube()'):_0x73f051?_0x3f4e94&&_0x2d8605['texSubImage2D'](_0xde9f0['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3dabef,_0x4d153e,0x0,0x0,_0x1292a2['width'],_0x1292a2['height'],_0x467e6f,_0x4249d5,_0x1292a2['data']):_0x2d8605['texImage2D'](_0xde9f0['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x3dabef,_0x4d153e,_0x7078d1,_0x1292a2['width'],_0x1292a2['height'],0x0,_0x467e6f,_0x4249d5,_0x1292a2['data']);}}}else{if(_0x2adc4f=_0x5deb9d['mipmaps'],_0x73f051&&_0x5c96d7){_0x2adc4f['length']>0x0&&_0x61328a++;const _0x564c1d=_0x547274(_0x4e01f8[0x0]);_0x2d8605['texStorage2D'](_0xde9f0['TEXTURE_CUBE_MAP'],_0x61328a,_0x7078d1,_0x564c1d['width'],_0x564c1d['height']);}for(let _0x5c742e=0x0;_0x5c742e<0x6;_0x5c742e++)if(_0x553c29){_0x73f051?_0x3f4e94&&_0x2d8605['texSubImage2D'](_0xde9f0['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5c742e,0x0,0x0,0x0,_0x4e01f8[_0x5c742e]['width'],_0x4e01f8[_0x5c742e]['height'],_0x467e6f,_0x4249d5,_0x4e01f8[_0x5c742e]['data']):_0x2d8605['texImage2D'](_0xde9f0['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5c742e,0x0,_0x7078d1,_0x4e01f8[_0x5c742e]['width'],_0x4e01f8[_0x5c742e]['height'],0x0,_0x467e6f,_0x4249d5,_0x4e01f8[_0x5c742e]['data']);for(let _0x2fa0e0=0x0;_0x2fa0e0<_0x2adc4f['length'];_0x2fa0e0++){const _0x3139ad=_0x2adc4f[_0x2fa0e0]['image'][_0x5c742e]['image'];_0x73f051?_0x3f4e94&&_0x2d8605['texSubImage2D'](_0xde9f0['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5c742e,_0x2fa0e0+0x1,0x0,0x0,_0x3139ad['width'],_0x3139ad['height'],_0x467e6f,_0x4249d5,_0x3139ad['data']):_0x2d8605['texImage2D'](_0xde9f0['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5c742e,_0x2fa0e0+0x1,_0x7078d1,_0x3139ad['width'],_0x3139ad['height'],0x0,_0x467e6f,_0x4249d5,_0x3139ad['data']);}}else{_0x73f051?_0x3f4e94&&_0x2d8605['texSubImage2D'](_0xde9f0['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5c742e,0x0,0x0,0x0,_0x467e6f,_0x4249d5,_0x4e01f8[_0x5c742e]):_0x2d8605['texImage2D'](_0xde9f0['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5c742e,0x0,_0x7078d1,_0x467e6f,_0x4249d5,_0x4e01f8[_0x5c742e]);for(let _0x510903=0x0;_0x510903<_0x2adc4f['length'];_0x510903++){const _0x2a211d=_0x2adc4f[_0x510903];_0x73f051?_0x3f4e94&&_0x2d8605['texSubImage2D'](_0xde9f0['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5c742e,_0x510903+0x1,0x0,0x0,_0x467e6f,_0x4249d5,_0x2a211d['image'][_0x5c742e]):_0x2d8605['texImage2D'](_0xde9f0['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5c742e,_0x510903+0x1,_0x7078d1,_0x467e6f,_0x4249d5,_0x2a211d['image'][_0x5c742e]);}}}_0x3e7fdd(_0x5deb9d)&&_0xf32f7e(_0xde9f0['TEXTURE_CUBE_MAP']),_0x13a050['__version']=_0x10168f['version'],_0x5deb9d['onUpdate']&&_0x5deb9d['onUpdate'](_0x5deb9d);}_0x49a663['__version']=_0x5deb9d['version'];}(_0xb8b3eb,_0x3227de,_0xdea753):_0x2d8605['bindTexture'](_0xde9f0['TEXTURE_CUBE_MAP'],_0xb8b3eb['__webglTexture'],_0xde9f0['TEXTURE0']+_0xdea753);},this['rebindTextures']=function(_0x4fadd8,_0x434247,_0x375e5e){const _0x225f45=_0x59248e['get'](_0x4fadd8);void 0x0!==_0x434247&&_0x45d939(_0x225f45['__webglFramebuffer'],_0x4fadd8,_0x4fadd8['texture'],_0xde9f0['COLOR_ATTACHMENT0'],_0xde9f0['TEXTURE_2D'],0x0),void 0x0!==_0x375e5e&&_0x585205(_0x4fadd8);},this['setupRenderTarget']=function(_0x51f368){const _0xad6861=_0x51f368['texture'],_0x3919bc=_0x59248e['get'](_0x51f368),_0x619b59=_0x59248e['get'](_0xad6861);_0x51f368['addEventListener']('dispose',_0x1c9bd8);const _0x4ef369=_0x51f368['textures'],_0x5c201c=!0x0===_0x51f368['isWebGLCubeRenderTarget'],_0x2fb708=_0x4ef369['length']>0x1;if(_0x2fb708||(void 0x0===_0x619b59['__webglTexture']&&(_0x619b59['__webglTexture']=_0xde9f0['createTexture']()),_0x619b59['__version']=_0xad6861['version'],_0x25dd1a['memory']['textures']++),_0x5c201c){_0x3919bc['__webglFramebuffer']=[];for(let _0xd31ca1=0x0;_0xd31ca1<0x6;_0xd31ca1++)if(_0xad6861['mipmaps']&&_0xad6861['mipmaps']['length']>0x0){_0x3919bc['__webglFramebuffer'][_0xd31ca1]=[];for(let _0x21f1e7=0x0;_0x21f1e7<_0xad6861['mipmaps']['length'];_0x21f1e7++)_0x3919bc['__webglFramebuffer'][_0xd31ca1][_0x21f1e7]=_0xde9f0['createFramebuffer']();}else _0x3919bc['__webglFramebuffer'][_0xd31ca1]=_0xde9f0['createFramebuffer']();}else{if(_0xad6861['mipmaps']&&_0xad6861['mipmaps']['length']>0x0){_0x3919bc['__webglFramebuffer']=[];for(let _0x59e5f6=0x0;_0x59e5f6<_0xad6861['mipmaps']['length'];_0x59e5f6++)_0x3919bc['__webglFramebuffer'][_0x59e5f6]=_0xde9f0['createFramebuffer']();}else _0x3919bc['__webglFramebuffer']=_0xde9f0['createFramebuffer']();if(_0x2fb708)for(let _0x3f7215=0x0,_0x469dc4=_0x4ef369['length'];_0x3f7215<_0x469dc4;_0x3f7215++){const _0xc094ac=_0x59248e['get'](_0x4ef369[_0x3f7215]);void 0x0===_0xc094ac['__webglTexture']&&(_0xc094ac['__webglTexture']=_0xde9f0['createTexture'](),_0x25dd1a['memory']['textures']++);}if(_0x51f368['samples']>0x0&&!0x1===_0xc97de9(_0x51f368)){_0x3919bc['__webglMultisampledFramebuffer']=_0xde9f0['createFramebuffer'](),_0x3919bc['__webglColorRenderbuffer']=[],_0x2d8605['bindFramebuffer'](_0xde9f0['FRAMEBUFFER'],_0x3919bc['__webglMultisampledFramebuffer']);for(let _0x4528f1=0x0;_0x4528f1<_0x4ef369['length'];_0x4528f1++){const _0x3fc6fb=_0x4ef369[_0x4528f1];_0x3919bc['__webglColorRenderbuffer'][_0x4528f1]=_0xde9f0['createRenderbuffer'](),_0xde9f0['bindRenderbuffer'](_0xde9f0['RENDERBUFFER'],_0x3919bc['__webglColorRenderbuffer'][_0x4528f1]);const _0x4f93d5=_0x3ddd85['convert'](_0x3fc6fb['format'],_0x3fc6fb['colorSpace']),_0x5697fd=_0x3ddd85['convert'](_0x3fc6fb['type']),_0x170fa7=_0x1f06a4(_0x3fc6fb['internalFormat'],_0x4f93d5,_0x5697fd,_0x3fc6fb['colorSpace'],!0x0===_0x51f368['isXRRenderTarget']),_0x3930fc=_0x468a1f(_0x51f368);_0xde9f0['renderbufferStorageMultisample'](_0xde9f0['RENDERBUFFER'],_0x3930fc,_0x170fa7,_0x51f368['width'],_0x51f368['height']),_0xde9f0['framebufferRenderbuffer'](_0xde9f0['FRAMEBUFFER'],_0xde9f0['COLOR_ATTACHMENT0']+_0x4528f1,_0xde9f0['RENDERBUFFER'],_0x3919bc['__webglColorRenderbuffer'][_0x4528f1]);}_0xde9f0['bindRenderbuffer'](_0xde9f0['RENDERBUFFER'],null),_0x51f368['depthBuffer']&&(_0x3919bc['__webglDepthRenderbuffer']=_0xde9f0['createRenderbuffer'](),_0x39405c(_0x3919bc['__webglDepthRenderbuffer'],_0x51f368,!0x0)),_0x2d8605['bindFramebuffer'](_0xde9f0['FRAMEBUFFER'],null);}}if(_0x5c201c){_0x2d8605['bindTexture'](_0xde9f0['TEXTURE_CUBE_MAP'],_0x619b59['__webglTexture']),_0x4b51a2(_0xde9f0['TEXTURE_CUBE_MAP'],_0xad6861);for(let _0x10457a=0x0;_0x10457a<0x6;_0x10457a++)if(_0xad6861['mipmaps']&&_0xad6861['mipmaps']['length']>0x0){for(let _0x51f69b=0x0;_0x51f69b<_0xad6861['mipmaps']['length'];_0x51f69b++)_0x45d939(_0x3919bc['__webglFramebuffer'][_0x10457a][_0x51f69b],_0x51f368,_0xad6861,_0xde9f0['COLOR_ATTACHMENT0'],_0xde9f0['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x10457a,_0x51f69b);}else _0x45d939(_0x3919bc['__webglFramebuffer'][_0x10457a],_0x51f368,_0xad6861,_0xde9f0['COLOR_ATTACHMENT0'],_0xde9f0['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x10457a,0x0);_0x3e7fdd(_0xad6861)&&_0xf32f7e(_0xde9f0['TEXTURE_CUBE_MAP']),_0x2d8605['unbindTexture']();}else{if(_0x2fb708){for(let _0x3c85b1=0x0,_0x24062e=_0x4ef369['length'];_0x3c85b1<_0x24062e;_0x3c85b1++){const _0x5da15c=_0x4ef369[_0x3c85b1],_0x10c7de=_0x59248e['get'](_0x5da15c);_0x2d8605['bindTexture'](_0xde9f0['TEXTURE_2D'],_0x10c7de['__webglTexture']),_0x4b51a2(_0xde9f0['TEXTURE_2D'],_0x5da15c),_0x45d939(_0x3919bc['__webglFramebuffer'],_0x51f368,_0x5da15c,_0xde9f0['COLOR_ATTACHMENT0']+_0x3c85b1,_0xde9f0['TEXTURE_2D'],0x0),_0x3e7fdd(_0x5da15c)&&_0xf32f7e(_0xde9f0['TEXTURE_2D']);}_0x2d8605['unbindTexture']();}else{let _0x2a62b3=_0xde9f0['TEXTURE_2D'];if((_0x51f368['isWebGL3DRenderTarget']||_0x51f368['isWebGLArrayRenderTarget'])&&(_0x2a62b3=_0x51f368['isWebGL3DRenderTarget']?_0xde9f0['TEXTURE_3D']:_0xde9f0['TEXTURE_2D_ARRAY']),_0x2d8605['bindTexture'](_0x2a62b3,_0x619b59['__webglTexture']),_0x4b51a2(_0x2a62b3,_0xad6861),_0xad6861['mipmaps']&&_0xad6861['mipmaps']['length']>0x0){for(let _0x3ed78c=0x0;_0x3ed78c<_0xad6861['mipmaps']['length'];_0x3ed78c++)_0x45d939(_0x3919bc['__webglFramebuffer'][_0x3ed78c],_0x51f368,_0xad6861,_0xde9f0['COLOR_ATTACHMENT0'],_0x2a62b3,_0x3ed78c);}else _0x45d939(_0x3919bc['__webglFramebuffer'],_0x51f368,_0xad6861,_0xde9f0['COLOR_ATTACHMENT0'],_0x2a62b3,0x0);_0x3e7fdd(_0xad6861)&&_0xf32f7e(_0x2a62b3),_0x2d8605['unbindTexture']();}}_0x51f368['depthBuffer']&&_0x585205(_0x51f368);},this['updateRenderTargetMipmap']=function(_0x3012c){const _0x5a2bd7=_0x3012c['textures'];for(let _0x2756a3=0x0,_0x1bd29=_0x5a2bd7['length'];_0x2756a3<_0x1bd29;_0x2756a3++){const _0x1ed87e=_0x5a2bd7[_0x2756a3];if(_0x3e7fdd(_0x1ed87e)){const _0x59b5af=_0x4cf620(_0x3012c),_0x569e0c=_0x59248e['get'](_0x1ed87e)['__webglTexture'];_0x2d8605['bindTexture'](_0x59b5af,_0x569e0c),_0xf32f7e(_0x59b5af),_0x2d8605['unbindTexture']();}}},this['updateMultisampleRenderTarget']=function(_0x15cc3b){if(_0x15cc3b['samples']>0x0){if(!0x1===_0xc97de9(_0x15cc3b)){const _0x493031=_0x15cc3b['textures'],_0xdce3a5=_0x15cc3b['width'],_0x54e354=_0x15cc3b['height'];let _0x50a410=_0xde9f0['COLOR_BUFFER_BIT'];const _0x2d0178=_0x15cc3b['stencilBuffer']?_0xde9f0['DEPTH_STENCIL_ATTACHMENT']:_0xde9f0['DEPTH_ATTACHMENT'],_0x2466e6=_0x59248e['get'](_0x15cc3b),_0x2a3140=_0x493031['length']>0x1;if(_0x2a3140){for(let _0xeb921a=0x0;_0xeb921a<_0x493031['length'];_0xeb921a++)_0x2d8605['bindFramebuffer'](_0xde9f0['FRAMEBUFFER'],_0x2466e6['__webglMultisampledFramebuffer']),_0xde9f0['framebufferRenderbuffer'](_0xde9f0['FRAMEBUFFER'],_0xde9f0['COLOR_ATTACHMENT0']+_0xeb921a,_0xde9f0['RENDERBUFFER'],null),_0x2d8605['bindFramebuffer'](_0xde9f0['FRAMEBUFFER'],_0x2466e6['__webglFramebuffer']),_0xde9f0['framebufferTexture2D'](_0xde9f0['DRAW_FRAMEBUFFER'],_0xde9f0['COLOR_ATTACHMENT0']+_0xeb921a,_0xde9f0['TEXTURE_2D'],null,0x0);}_0x2d8605['bindFramebuffer'](_0xde9f0['READ_FRAMEBUFFER'],_0x2466e6['__webglMultisampledFramebuffer']),_0x2d8605['bindFramebuffer'](_0xde9f0['DRAW_FRAMEBUFFER'],_0x2466e6['__webglFramebuffer']);for(let _0x331cca=0x0;_0x331cca<_0x493031['length'];_0x331cca++){if(_0x15cc3b['resolveDepthBuffer']&&(_0x15cc3b['depthBuffer']&&(_0x50a410|=_0xde9f0['DEPTH_BUFFER_BIT']),_0x15cc3b['stencilBuffer']&&_0x15cc3b['resolveStencilBuffer']&&(_0x50a410|=_0xde9f0['STENCIL_BUFFER_BIT'])),_0x2a3140){_0xde9f0['framebufferRenderbuffer'](_0xde9f0['READ_FRAMEBUFFER'],_0xde9f0['COLOR_ATTACHMENT0'],_0xde9f0['RENDERBUFFER'],_0x2466e6['__webglColorRenderbuffer'][_0x331cca]);const _0x429430=_0x59248e['get'](_0x493031[_0x331cca])['__webglTexture'];_0xde9f0['framebufferTexture2D'](_0xde9f0['DRAW_FRAMEBUFFER'],_0xde9f0['COLOR_ATTACHMENT0'],_0xde9f0['TEXTURE_2D'],_0x429430,0x0);}_0xde9f0['blitFramebuffer'](0x0,0x0,_0xdce3a5,_0x54e354,0x0,0x0,_0xdce3a5,_0x54e354,_0x50a410,_0xde9f0['NEAREST']),!0x0===_0x1eaae7&&(_0x490c8f['length']=0x0,_0x15bb5a['length']=0x0,_0x490c8f['push'](_0xde9f0['COLOR_ATTACHMENT0']+_0x331cca),_0x15cc3b['depthBuffer']&&!0x1===_0x15cc3b['resolveDepthBuffer']&&(_0x490c8f['push'](_0x2d0178),_0x15bb5a['push'](_0x2d0178),_0xde9f0['invalidateFramebuffer'](_0xde9f0['DRAW_FRAMEBUFFER'],_0x15bb5a)),_0xde9f0['invalidateFramebuffer'](_0xde9f0['READ_FRAMEBUFFER'],_0x490c8f));}if(_0x2d8605['bindFramebuffer'](_0xde9f0['READ_FRAMEBUFFER'],null),_0x2d8605['bindFramebuffer'](_0xde9f0['DRAW_FRAMEBUFFER'],null),_0x2a3140)for(let _0x21d5ce=0x0;_0x21d5ce<_0x493031['length'];_0x21d5ce++){_0x2d8605['bindFramebuffer'](_0xde9f0['FRAMEBUFFER'],_0x2466e6['__webglMultisampledFramebuffer']),_0xde9f0['framebufferRenderbuffer'](_0xde9f0['FRAMEBUFFER'],_0xde9f0['COLOR_ATTACHMENT0']+_0x21d5ce,_0xde9f0['RENDERBUFFER'],_0x2466e6['__webglColorRenderbuffer'][_0x21d5ce]);const _0x17993e=_0x59248e['get'](_0x493031[_0x21d5ce])['__webglTexture'];_0x2d8605['bindFramebuffer'](_0xde9f0['FRAMEBUFFER'],_0x2466e6['__webglFramebuffer']),_0xde9f0['framebufferTexture2D'](_0xde9f0['DRAW_FRAMEBUFFER'],_0xde9f0['COLOR_ATTACHMENT0']+_0x21d5ce,_0xde9f0['TEXTURE_2D'],_0x17993e,0x0);}_0x2d8605['bindFramebuffer'](_0xde9f0['DRAW_FRAMEBUFFER'],_0x2466e6['__webglMultisampledFramebuffer']);}else{if(_0x15cc3b['depthBuffer']&&!0x1===_0x15cc3b['resolveDepthBuffer']&&_0x1eaae7){const _0x297f4d=_0x15cc3b['stencilBuffer']?_0xde9f0['DEPTH_STENCIL_ATTACHMENT']:_0xde9f0['DEPTH_ATTACHMENT'];_0xde9f0['invalidateFramebuffer'](_0xde9f0['DRAW_FRAMEBUFFER'],[_0x297f4d]);}}}},this['setupDepthRenderbuffer']=_0x585205,this['setupFrameBufferTexture']=_0x45d939,this['useMultisampledRTT']=_0xc97de9;}function _0x41fe64(_0x1a15c0,_0x27b778){return{'convert':function(_0x5a4c08,_0x4f327c=_0x42bc67['jf0']){let _0x36e1a6;const _0x3b2830=_0x42bc67['ppV']['getTransfer'](_0x4f327c);if(_0x5a4c08===_0x42bc67['OUM'])return _0x1a15c0['UNSIGNED_BYTE'];if(_0x5a4c08===_0x42bc67['Wew'])return _0x1a15c0['UNSIGNED_SHORT_4_4_4_4'];if(_0x5a4c08===_0x42bc67['gJ2'])return _0x1a15c0['UNSIGNED_SHORT_5_5_5_1'];if(_0x5a4c08===_0x42bc67['Dmk'])return _0x1a15c0['UNSIGNED_INT_5_9_9_9_REV'];if(_0x5a4c08===_0x42bc67['tJf'])return _0x1a15c0['BYTE'];if(_0x5a4c08===_0x42bc67['fBL'])return _0x1a15c0['SHORT'];if(_0x5a4c08===_0x42bc67['cHt'])return _0x1a15c0['UNSIGNED_SHORT'];if(_0x5a4c08===_0x42bc67['Yuy'])return _0x1a15c0['INT'];if(_0x5a4c08===_0x42bc67['bkx'])return _0x1a15c0['UNSIGNED_INT'];if(_0x5a4c08===_0x42bc67['RQf'])return _0x1a15c0['FLOAT'];if(_0x5a4c08===_0x42bc67['ix0'])return _0x1a15c0['HALF_FLOAT'];if(_0x5a4c08===_0x42bc67['wrO'])return _0x1a15c0['ALPHA'];if(_0x5a4c08===_0x42bc67['HIg'])return _0x1a15c0['RGB'];if(_0x5a4c08===_0x42bc67['GWd'])return _0x1a15c0['RGBA'];if(_0x5a4c08===_0x42bc67['Kzv'])return _0x1a15c0['LUMINANCE'];if(_0x5a4c08===_0x42bc67['CMB'])return _0x1a15c0['LUMINANCE_ALPHA'];if(_0x5a4c08===_0x42bc67['zdS'])return _0x1a15c0['DEPTH_COMPONENT'];if(_0x5a4c08===_0x42bc67['dcC'])return _0x1a15c0['DEPTH_STENCIL'];if(_0x5a4c08===_0x42bc67['VT0'])return _0x1a15c0['RED'];if(_0x5a4c08===_0x42bc67['ZQM'])return _0x1a15c0['RED_INTEGER'];if(_0x5a4c08===_0x42bc67['paN'])return _0x1a15c0['RG'];if(_0x5a4c08===_0x42bc67['TkQ'])return _0x1a15c0['RG_INTEGER'];if(_0x5a4c08===_0x42bc67['c90'])return _0x1a15c0['RGBA_INTEGER'];if(_0x5a4c08===_0x42bc67['IE4']||_0x5a4c08===_0x42bc67['Nz6']||_0x5a4c08===_0x42bc67['jR7']||_0x5a4c08===_0x42bc67['BXX']){if(_0x3b2830===_0x42bc67['KLL']){if(_0x36e1a6=_0x27b778['get']('WEBGL_compressed_texture_s3tc_srgb'),null===_0x36e1a6)return null;if(_0x5a4c08===_0x42bc67['IE4'])return _0x36e1a6['COMPRESSED_SRGB_S3TC_DXT1_EXT'];if(_0x5a4c08===_0x42bc67['Nz6'])return _0x36e1a6['COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT'];if(_0x5a4c08===_0x42bc67['jR7'])return _0x36e1a6['COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT'];if(_0x5a4c08===_0x42bc67['BXX'])return _0x36e1a6['COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT'];}else{if(_0x36e1a6=_0x27b778['get']('WEBGL_compressed_texture_s3tc'),null===_0x36e1a6)return null;if(_0x5a4c08===_0x42bc67['IE4'])return _0x36e1a6['COMPRESSED_RGB_S3TC_DXT1_EXT'];if(_0x5a4c08===_0x42bc67['Nz6'])return _0x36e1a6['COMPRESSED_RGBA_S3TC_DXT1_EXT'];if(_0x5a4c08===_0x42bc67['jR7'])return _0x36e1a6['COMPRESSED_RGBA_S3TC_DXT3_EXT'];if(_0x5a4c08===_0x42bc67['BXX'])return _0x36e1a6['COMPRESSED_RGBA_S3TC_DXT5_EXT'];}}if(_0x5a4c08===_0x42bc67['k6Q']||_0x5a4c08===_0x42bc67['kTp']||_0x5a4c08===_0x42bc67['HXV']||_0x5a4c08===_0x42bc67['pBf']){if(_0x36e1a6=_0x27b778['get']('WEBGL_compressed_texture_pvrtc'),null===_0x36e1a6)return null;if(_0x5a4c08===_0x42bc67['k6Q'])return _0x36e1a6['COMPRESSED_RGB_PVRTC_4BPPV1_IMG'];if(_0x5a4c08===_0x42bc67['kTp'])return _0x36e1a6['COMPRESSED_RGB_PVRTC_2BPPV1_IMG'];if(_0x5a4c08===_0x42bc67['HXV'])return _0x36e1a6['COMPRESSED_RGBA_PVRTC_4BPPV1_IMG'];if(_0x5a4c08===_0x42bc67['pBf'])return _0x36e1a6['COMPRESSED_RGBA_PVRTC_2BPPV1_IMG'];}if(_0x5a4c08===_0x42bc67['CVz']||_0x5a4c08===_0x42bc67['Riy']||_0x5a4c08===_0x42bc67['KDk']){if(_0x36e1a6=_0x27b778['get']('WEBGL_compressed_texture_etc'),null===_0x36e1a6)return null;if(_0x5a4c08===_0x42bc67['CVz']||_0x5a4c08===_0x42bc67['Riy'])return _0x3b2830===_0x42bc67['KLL']?_0x36e1a6['COMPRESSED_SRGB8_ETC2']:_0x36e1a6['COMPRESSED_RGB8_ETC2'];if(_0x5a4c08===_0x42bc67['KDk'])return _0x3b2830===_0x42bc67['KLL']?_0x36e1a6['COMPRESSED_SRGB8_ALPHA8_ETC2_EAC']:_0x36e1a6['COMPRESSED_RGBA8_ETC2_EAC'];}if(_0x5a4c08===_0x42bc67['qa3']||_0x5a4c08===_0x42bc67['B_h']||_0x5a4c08===_0x42bc67['czI']||_0x5a4c08===_0x42bc67['rSH']||_0x5a4c08===_0x42bc67['Qrf']||_0x5a4c08===_0x42bc67['psI']||_0x5a4c08===_0x42bc67['a5J']||_0x5a4c08===_0x42bc67['_QJ']||_0x5a4c08===_0x42bc67['uB5']||_0x5a4c08===_0x42bc67['lyL']||_0x5a4c08===_0x42bc67['bC7']||_0x5a4c08===_0x42bc67['y3Z']||_0x5a4c08===_0x42bc67['ojs']||_0x5a4c08===_0x42bc67['S$4']){if(_0x36e1a6=_0x27b778['get']('WEBGL_compressed_texture_astc'),null===_0x36e1a6)return null;if(_0x5a4c08===_0x42bc67['qa3'])return _0x3b2830===_0x42bc67['KLL']?_0x36e1a6['COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR']:_0x36e1a6['COMPRESSED_RGBA_ASTC_4x4_KHR'];if(_0x5a4c08===_0x42bc67['B_h'])return _0x3b2830===_0x42bc67['KLL']?_0x36e1a6['COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR']:_0x36e1a6['COMPRESSED_RGBA_ASTC_5x4_KHR'];if(_0x5a4c08===_0x42bc67['czI'])return _0x3b2830===_0x42bc67['KLL']?_0x36e1a6['COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR']:_0x36e1a6['COMPRESSED_RGBA_ASTC_5x5_KHR'];if(_0x5a4c08===_0x42bc67['rSH'])return _0x3b2830===_0x42bc67['KLL']?_0x36e1a6['COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR']:_0x36e1a6['COMPRESSED_RGBA_ASTC_6x5_KHR'];if(_0x5a4c08===_0x42bc67['Qrf'])return _0x3b2830===_0x42bc67['KLL']?_0x36e1a6['COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR']:_0x36e1a6['COMPRESSED_RGBA_ASTC_6x6_KHR'];if(_0x5a4c08===_0x42bc67['psI'])return _0x3b2830===_0x42bc67['KLL']?_0x36e1a6['COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR']:_0x36e1a6['COMPRESSED_RGBA_ASTC_8x5_KHR'];if(_0x5a4c08===_0x42bc67['a5J'])return _0x3b2830===_0x42bc67['KLL']?_0x36e1a6['COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR']:_0x36e1a6['COMPRESSED_RGBA_ASTC_8x6_KHR'];if(_0x5a4c08===_0x42bc67['_QJ'])return _0x3b2830===_0x42bc67['KLL']?_0x36e1a6['COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR']:_0x36e1a6['COMPRESSED_RGBA_ASTC_8x8_KHR'];if(_0x5a4c08===_0x42bc67['uB5'])return _0x3b2830===_0x42bc67['KLL']?_0x36e1a6['COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR']:_0x36e1a6['COMPRESSED_RGBA_ASTC_10x5_KHR'];if(_0x5a4c08===_0x42bc67['lyL'])return _0x3b2830===_0x42bc67['KLL']?_0x36e1a6['COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR']:_0x36e1a6['COMPRESSED_RGBA_ASTC_10x6_KHR'];if(_0x5a4c08===_0x42bc67['bC7'])return _0x3b2830===_0x42bc67['KLL']?_0x36e1a6['COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR']:_0x36e1a6['COMPRESSED_RGBA_ASTC_10x8_KHR'];if(_0x5a4c08===_0x42bc67['y3Z'])return _0x3b2830===_0x42bc67['KLL']?_0x36e1a6['COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR']:_0x36e1a6['COMPRESSED_RGBA_ASTC_10x10_KHR'];if(_0x5a4c08===_0x42bc67['ojs'])return _0x3b2830===_0x42bc67['KLL']?_0x36e1a6['COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR']:_0x36e1a6['COMPRESSED_RGBA_ASTC_12x10_KHR'];if(_0x5a4c08===_0x42bc67['S$4'])return _0x3b2830===_0x42bc67['KLL']?_0x36e1a6['COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR']:_0x36e1a6['COMPRESSED_RGBA_ASTC_12x12_KHR'];}if(_0x5a4c08===_0x42bc67['Fn']||_0x5a4c08===_0x42bc67['H23']||_0x5a4c08===_0x42bc67['W9U']){if(_0x36e1a6=_0x27b778['get']('EXT_texture_compression_bptc'),null===_0x36e1a6)return null;if(_0x5a4c08===_0x42bc67['Fn'])return _0x3b2830===_0x42bc67['KLL']?_0x36e1a6['COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT']:_0x36e1a6['COMPRESSED_RGBA_BPTC_UNORM_EXT'];if(_0x5a4c08===_0x42bc67['H23'])return _0x36e1a6['COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT'];if(_0x5a4c08===_0x42bc67['W9U'])return _0x36e1a6['COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT'];}if(_0x5a4c08===_0x42bc67['Kef']||_0x5a4c08===_0x42bc67['XG_']||_0x5a4c08===_0x42bc67['HO_']||_0x5a4c08===_0x42bc67['CWW']){if(_0x36e1a6=_0x27b778['get']('EXT_texture_compression_rgtc'),null===_0x36e1a6)return null;if(_0x5a4c08===_0x42bc67['Fn'])return _0x36e1a6['COMPRESSED_RED_RGTC1_EXT'];if(_0x5a4c08===_0x42bc67['XG_'])return _0x36e1a6['COMPRESSED_SIGNED_RED_RGTC1_EXT'];if(_0x5a4c08===_0x42bc67['HO_'])return _0x36e1a6['COMPRESSED_RED_GREEN_RGTC2_EXT'];if(_0x5a4c08===_0x42bc67['CWW'])return _0x36e1a6['COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT'];}return _0x5a4c08===_0x42bc67['V3x']?_0x1a15c0['UNSIGNED_INT_24_8']:void 0x0!==_0x1a15c0[_0x5a4c08]?_0x1a15c0[_0x5a4c08]:null;}};}const _0x57b114={'type':'move'};class _0x268f94{constructor(){this['_targetRay']=null,this['_grip']=null,this['_hand']=null;}['getHandSpace'](){return null===this['_hand']&&(this['_hand']=new _0x42bc67['YJl'](),this['_hand']['matrixAutoUpdate']=!0x1,this['_hand']['visible']=!0x1,this['_hand']['joints']={},this['_hand']['inputState']={'pinching':!0x1}),this['_hand'];}['getTargetRaySpace'](){return null===this['_targetRay']&&(this['_targetRay']=new _0x42bc67['YJl'](),this['_targetRay']['matrixAutoUpdate']=!0x1,this['_targetRay']['visible']=!0x1,this['_targetRay']['hasLinearVelocity']=!0x1,this['_targetRay']['linearVelocity']=new _0x42bc67['Pq0'](),this['_targetRay']['hasAngularVelocity']=!0x1,this['_targetRay']['angularVelocity']=new _0x42bc67['Pq0']()),this['_targetRay'];}['getGripSpace'](){return null===this['_grip']&&(this['_grip']=new _0x42bc67['YJl'](),this['_grip']['matrixAutoUpdate']=!0x1,this['_grip']['visible']=!0x1,this['_grip']['hasLinearVelocity']=!0x1,this['_grip']['linearVelocity']=new _0x42bc67['Pq0'](),this['_grip']['hasAngularVelocity']=!0x1,this['_grip']['angularVelocity']=new _0x42bc67['Pq0']()),this['_grip'];}['dispatchEvent'](_0x45df11){return null!==this['_targetRay']&&this['_targetRay']['dispatchEvent'](_0x45df11),null!==this['_grip']&&this['_grip']['dispatchEvent'](_0x45df11),null!==this['_hand']&&this['_hand']['dispatchEvent'](_0x45df11),this;}['connect'](_0x173415){if(_0x173415&&_0x173415['hand']){const _0xc07cdf=this['_hand'];if(_0xc07cdf){for(const _0x78fa33 of _0x173415['hand']['values']())this['_getHandJoint'](_0xc07cdf,_0x78fa33);}}return this['dispatchEvent']({'type':'connected','data':_0x173415}),this;}['disconnect'](_0x401876){return this['dispatchEvent']({'type':'disconnected','data':_0x401876}),null!==this['_targetRay']&&(this['_targetRay']['visible']=!0x1),null!==this['_grip']&&(this['_grip']['visible']=!0x1),null!==this['_hand']&&(this['_hand']['visible']=!0x1),this;}['update'](_0x325da9,_0x47c3de,_0x1a798d){let _0x26b1d3=null,_0x22ca4e=null,_0x350a6d=null;const _0x3dd236=this['_targetRay'],_0x268133=this['_grip'],_0x31d413=this['_hand'];if(_0x325da9&&'visible-blurred'!==_0x47c3de['session']['visibilityState']){if(_0x31d413&&_0x325da9['hand']){_0x350a6d=!0x0;for(const _0x7b26d3 of _0x325da9['hand']['values']()){const _0x227268=_0x47c3de['getJointPose'](_0x7b26d3,_0x1a798d),_0x3f58f2=this['_getHandJoint'](_0x31d413,_0x7b26d3);null!==_0x227268&&(_0x3f58f2['matrix']['fromArray'](_0x227268['transform']['matrix']),_0x3f58f2['matrix']['decompose'](_0x3f58f2['position'],_0x3f58f2['rotation'],_0x3f58f2['scale']),_0x3f58f2['matrixWorldNeedsUpdate']=!0x0,_0x3f58f2['jointRadius']=_0x227268['radius']),_0x3f58f2['visible']=null!==_0x227268;}const _0x171843=_0x31d413['joints']['index-finger-tip'],_0x5608db=_0x31d413['joints']['thumb-tip'],_0x47f239=_0x171843['position']['distanceTo'](_0x5608db['position']),_0x43dd86=0.02,_0x45fc76=0.005;_0x31d413['inputState']['pinching']&&_0x47f239>_0x43dd86+_0x45fc76?(_0x31d413['inputState']['pinching']=!0x1,this['dispatchEvent']({'type':'pinchend','handedness':_0x325da9['handedness'],'target':this})):!_0x31d413['inputState']['pinching']&&_0x47f239<=_0x43dd86-_0x45fc76&&(_0x31d413['inputState']['pinching']=!0x0,this['dispatchEvent']({'type':'pinchstart','handedness':_0x325da9['handedness'],'target':this}));}else null!==_0x268133&&_0x325da9['gripSpace']&&(_0x22ca4e=_0x47c3de['getPose'](_0x325da9['gripSpace'],_0x1a798d),null!==_0x22ca4e&&(_0x268133['matrix']['fromArray'](_0x22ca4e['transform']['matrix']),_0x268133['matrix']['decompose'](_0x268133['position'],_0x268133['rotation'],_0x268133['scale']),_0x268133['matrixWorldNeedsUpdate']=!0x0,_0x22ca4e['linearVelocity']?(_0x268133['hasLinearVelocity']=!0x0,_0x268133['linearVelocity']['copy'](_0x22ca4e['linearVelocity'])):_0x268133['hasLinearVelocity']=!0x1,_0x22ca4e['angularVelocity']?(_0x268133['hasAngularVelocity']=!0x0,_0x268133['angularVelocity']['copy'](_0x22ca4e['angularVelocity'])):_0x268133['hasAngularVelocity']=!0x1));null!==_0x3dd236&&(_0x26b1d3=_0x47c3de['getPose'](_0x325da9['targetRaySpace'],_0x1a798d),null===_0x26b1d3&&null!==_0x22ca4e&&(_0x26b1d3=_0x22ca4e),null!==_0x26b1d3&&(_0x3dd236['matrix']['fromArray'](_0x26b1d3['transform']['matrix']),_0x3dd236['matrix']['decompose'](_0x3dd236['position'],_0x3dd236['rotation'],_0x3dd236['scale']),_0x3dd236['matrixWorldNeedsUpdate']=!0x0,_0x26b1d3['linearVelocity']?(_0x3dd236['hasLinearVelocity']=!0x0,_0x3dd236['linearVelocity']['copy'](_0x26b1d3['linearVelocity'])):_0x3dd236['hasLinearVelocity']=!0x1,_0x26b1d3['angularVelocity']?(_0x3dd236['hasAngularVelocity']=!0x0,_0x3dd236['angularVelocity']['copy'](_0x26b1d3['angularVelocity'])):_0x3dd236['hasAngularVelocity']=!0x1,this['dispatchEvent'](_0x57b114)));}return null!==_0x3dd236&&(_0x3dd236['visible']=null!==_0x26b1d3),null!==_0x268133&&(_0x268133['visible']=null!==_0x22ca4e),null!==_0x31d413&&(_0x31d413['visible']=null!==_0x350a6d),this;}['_getHandJoint'](_0x2fac84,_0xa1b39){if(void 0x0===_0x2fac84['joints'][_0xa1b39['jointName']]){const _0xbedab7=new _0x42bc67['YJl']();_0xbedab7['matrixAutoUpdate']=!0x1,_0xbedab7['visible']=!0x1,_0x2fac84['joints'][_0xa1b39['jointName']]=_0xbedab7,_0x2fac84['add'](_0xbedab7);}return _0x2fac84['joints'][_0xa1b39['jointName']];}}class _0x3271c0{constructor(){this['texture']=null,this['mesh']=null,this['depthNear']=0x0,this['depthFar']=0x0;}['init'](_0x4373bd,_0x43d6ca,_0x54d6a5){if(null===this['texture']){const _0x433738=new _0x42bc67['gPd']();_0x4373bd['properties']['get'](_0x433738)['__webglTexture']=_0x43d6ca['texture'],_0x43d6ca['depthNear']===_0x54d6a5['depthNear']&&_0x43d6ca['depthFar']===_0x54d6a5['depthFar']||(this['depthNear']=_0x43d6ca['depthNear'],this['depthFar']=_0x43d6ca['depthFar']),this['texture']=_0x433738;}}['getMesh'](_0x1d4618){if(null!==this['texture']&&null===this['mesh']){const _0x52570e=_0x1d4618['cameras'][0x0]['viewport'],_0xe11d7d=new _0x42bc67['BKk']({'vertexShader':'\x0avoid\x20main()\x20{\x0a\x0a\x09gl_Position\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x0a}','fragmentShader':'\x0auniform\x20sampler2DArray\x20depthColor;\x0auniform\x20float\x20depthWidth;\x0auniform\x20float\x20depthHeight;\x0a\x0avoid\x20main()\x20{\x0a\x0a\x09vec2\x20coord\x20=\x20vec2(\x20gl_FragCoord.x\x20/\x20depthWidth,\x20gl_FragCoord.y\x20/\x20depthHeight\x20);\x0a\x0a\x09if\x20(\x20coord.x\x20>=\x201.0\x20)\x20{\x0a\x0a\x09\x09gl_FragDepth\x20=\x20texture(\x20depthColor,\x20vec3(\x20coord.x\x20-\x201.0,\x20coord.y,\x201\x20)\x20).r;\x0a\x0a\x09}\x20else\x20{\x0a\x0a\x09\x09gl_FragDepth\x20=\x20texture(\x20depthColor,\x20vec3(\x20coord.x,\x20coord.y,\x200\x20)\x20).r;\x0a\x0a\x09}\x0a\x0a}','uniforms':{'depthColor':{'value':this['texture']},'depthWidth':{'value':_0x52570e['z']},'depthHeight':{'value':_0x52570e['w']}}});this['mesh']=new _0x42bc67['eaF'](new _0x42bc67['bdM'](0x14,0x14),_0xe11d7d);}return this['mesh'];}['reset'](){this['texture']=null,this['mesh']=null;}['getDepthTexture'](){return this['texture'];}}class _0x757428 extends _0x42bc67['Qev']{constructor(_0x20ec26,_0x3c020e){super();const _0x5c8834=this;let _0x2aaf92=null,_0x298fa0=0x1,_0x3f7dfd=null,_0x37e972='local-floor',_0x43423d=0x1,_0x37f1a4=null,_0x1c5af4=null,_0x231509=null,_0x4859f3=null,_0x495f18=null,_0x13fdad=null;const _0x535c55=new _0x3271c0(),_0x2779d2=_0x3c020e['getContextAttributes']();let _0x449ef3=null,_0x5cdbaf=null;const _0x4b4aca=[],_0x9014d0=[],_0x215dbf=new _0x42bc67['I9Y']();let _0x3801ef=null;const _0x48a30b=new _0x42bc67['ubm']();_0x48a30b['viewport']=new _0x42bc67['IUQ']();const _0x4a442f=new _0x42bc67['ubm']();_0x4a442f['viewport']=new _0x42bc67['IUQ']();const _0x5253b8=[_0x48a30b,_0x4a442f],_0x47b9fa=new _0x42bc67['nZQ']();let _0xc18958=null,_0x5407a1=null;function _0x56d53f(_0x3b444c){const _0x4b8a2b=_0x9014d0['indexOf'](_0x3b444c['inputSource']);if(-0x1===_0x4b8a2b)return;const _0x125570=_0x4b4aca[_0x4b8a2b];void 0x0!==_0x125570&&(_0x125570['update'](_0x3b444c['inputSource'],_0x3b444c['frame'],_0x37f1a4||_0x3f7dfd),_0x125570['dispatchEvent']({'type':_0x3b444c['type'],'data':_0x3b444c['inputSource']}));}function _0x5bc075(){_0x2aaf92['removeEventListener']('select',_0x56d53f),_0x2aaf92['removeEventListener']('selectstart',_0x56d53f),_0x2aaf92['removeEventListener']('selectend',_0x56d53f),_0x2aaf92['removeEventListener']('squeeze',_0x56d53f),_0x2aaf92['removeEventListener']('squeezestart',_0x56d53f),_0x2aaf92['removeEventListener']('squeezeend',_0x56d53f),_0x2aaf92['removeEventListener']('end',_0x5bc075),_0x2aaf92['removeEventListener']('inputsourceschange',_0x2aa39c);for(let _0x354f5f=0x0;_0x354f5f<_0x4b4aca['length'];_0x354f5f++){const _0x22c024=_0x9014d0[_0x354f5f];null!==_0x22c024&&(_0x9014d0[_0x354f5f]=null,_0x4b4aca[_0x354f5f]['disconnect'](_0x22c024));}_0xc18958=null,_0x5407a1=null,_0x535c55['reset'](),_0x20ec26['setRenderTarget'](_0x449ef3),_0x495f18=null,_0x4859f3=null,_0x231509=null,_0x2aaf92=null,_0x5cdbaf=null,_0x1fd638['stop'](),_0x5c8834['isPresenting']=!0x1,_0x20ec26['setPixelRatio'](_0x3801ef),_0x20ec26['setSize'](_0x215dbf['width'],_0x215dbf['height'],!0x1),_0x5c8834['dispatchEvent']({'type':'sessionend'});}function _0x2aa39c(_0x5a21a2){for(let _0x1904d0=0x0;_0x1904d0<_0x5a21a2['removed']['length'];_0x1904d0++){const _0x5d096e=_0x5a21a2['removed'][_0x1904d0],_0x5342f3=_0x9014d0['indexOf'](_0x5d096e);_0x5342f3>=0x0&&(_0x9014d0[_0x5342f3]=null,_0x4b4aca[_0x5342f3]['disconnect'](_0x5d096e));}for(let _0x3fa742=0x0;_0x3fa742<_0x5a21a2['added']['length'];_0x3fa742++){const _0x5ed6ae=_0x5a21a2['added'][_0x3fa742];let _0x548e21=_0x9014d0['indexOf'](_0x5ed6ae);if(-0x1===_0x548e21){for(let _0x22641c=0x0;_0x22641c<_0x4b4aca['length'];_0x22641c++){if(_0x22641c>=_0x9014d0['length']){_0x9014d0['push'](_0x5ed6ae),_0x548e21=_0x22641c;break;}if(null===_0x9014d0[_0x22641c]){_0x9014d0[_0x22641c]=_0x5ed6ae,_0x548e21=_0x22641c;break;}}if(-0x1===_0x548e21)break;}const _0x523ead=_0x4b4aca[_0x548e21];_0x523ead&&_0x523ead['connect'](_0x5ed6ae);}}this['cameraAutoUpdate']=!0x0,this['enabled']=!0x1,this['isPresenting']=!0x1,this['getController']=function(_0x84774b){let _0x4ffcd2=_0x4b4aca[_0x84774b];return void 0x0===_0x4ffcd2&&(_0x4ffcd2=new _0x268f94(),_0x4b4aca[_0x84774b]=_0x4ffcd2),_0x4ffcd2['getTargetRaySpace']();},this['getControllerGrip']=function(_0x2b2c41){let _0x35863f=_0x4b4aca[_0x2b2c41];return void 0x0===_0x35863f&&(_0x35863f=new _0x268f94(),_0x4b4aca[_0x2b2c41]=_0x35863f),_0x35863f['getGripSpace']();},this['getHand']=function(_0x114770){let _0x104fd4=_0x4b4aca[_0x114770];return void 0x0===_0x104fd4&&(_0x104fd4=new _0x268f94(),_0x4b4aca[_0x114770]=_0x104fd4),_0x104fd4['getHandSpace']();},this['setFramebufferScaleFactor']=function(_0x5077bb){_0x298fa0=_0x5077bb,!0x0===_0x5c8834['isPresenting']&&console['warn']('THREE.WebXRManager:\x20Cannot\x20change\x20framebuffer\x20scale\x20while\x20presenting.');},this['setReferenceSpaceType']=function(_0x42138a){_0x37e972=_0x42138a,!0x0===_0x5c8834['isPresenting']&&console['warn']('THREE.WebXRManager:\x20Cannot\x20change\x20reference\x20space\x20type\x20while\x20presenting.');},this['getReferenceSpace']=function(){return _0x37f1a4||_0x3f7dfd;},this['setReferenceSpace']=function(_0x5f03d3){_0x37f1a4=_0x5f03d3;},this['getBaseLayer']=function(){return null!==_0x4859f3?_0x4859f3:_0x495f18;},this['getBinding']=function(){return _0x231509;},this['getFrame']=function(){return _0x13fdad;},this['getSession']=function(){return _0x2aaf92;},this['setSession']=async function(_0x485c23){if(_0x2aaf92=_0x485c23,null!==_0x2aaf92){_0x449ef3=_0x20ec26['getRenderTarget'](),_0x2aaf92['addEventListener']('select',_0x56d53f),_0x2aaf92['addEventListener']('selectstart',_0x56d53f),_0x2aaf92['addEventListener']('selectend',_0x56d53f),_0x2aaf92['addEventListener']('squeeze',_0x56d53f),_0x2aaf92['addEventListener']('squeezestart',_0x56d53f),_0x2aaf92['addEventListener']('squeezeend',_0x56d53f),_0x2aaf92['addEventListener']('end',_0x5bc075),_0x2aaf92['addEventListener']('inputsourceschange',_0x2aa39c),!0x0!==_0x2779d2['xrCompatible']&&await _0x3c020e['makeXRCompatible'](),_0x3801ef=_0x20ec26['getPixelRatio'](),_0x20ec26['getSize'](_0x215dbf);if(void 0x0!==_0x2aaf92['enabledFeatures']&&_0x2aaf92['enabledFeatures']['includes']('layers')){let _0x462b23=null,_0xd73b26=null,_0x1687ed=null;_0x2779d2['depth']&&(_0x1687ed=_0x2779d2['stencil']?_0x3c020e['DEPTH24_STENCIL8']:_0x3c020e['DEPTH_COMPONENT24'],_0x462b23=_0x2779d2['stencil']?_0x42bc67['dcC']:_0x42bc67['zdS'],_0xd73b26=_0x2779d2['stencil']?_0x42bc67['V3x']:_0x42bc67['bkx']);const _0x427c87={'colorFormat':_0x3c020e['RGBA8'],'depthFormat':_0x1687ed,'scaleFactor':_0x298fa0};_0x231509=new XRWebGLBinding(_0x2aaf92,_0x3c020e),_0x4859f3=_0x231509['createProjectionLayer'](_0x427c87),_0x2aaf92['updateRenderState']({'layers':[_0x4859f3]}),_0x20ec26['setPixelRatio'](0x1),_0x20ec26['setSize'](_0x4859f3['textureWidth'],_0x4859f3['textureHeight'],!0x1),_0x5cdbaf=new _0x42bc67['nWS'](_0x4859f3['textureWidth'],_0x4859f3['textureHeight'],{'format':_0x42bc67['GWd'],'type':_0x42bc67['OUM'],'depthTexture':new _0x42bc67['VCu'](_0x4859f3['textureWidth'],_0x4859f3['textureHeight'],_0xd73b26,void 0x0,void 0x0,void 0x0,void 0x0,void 0x0,void 0x0,_0x462b23),'stencilBuffer':_0x2779d2['stencil'],'colorSpace':_0x20ec26['outputColorSpace'],'samples':_0x2779d2['antialias']?0x4:0x0,'resolveDepthBuffer':!0x1===_0x4859f3['ignoreDepthValues']});}else{const _0x12672f={'antialias':_0x2779d2['antialias'],'alpha':!0x0,'depth':_0x2779d2['depth'],'stencil':_0x2779d2['stencil'],'framebufferScaleFactor':_0x298fa0};_0x495f18=new XRWebGLLayer(_0x2aaf92,_0x3c020e,_0x12672f),_0x2aaf92['updateRenderState']({'baseLayer':_0x495f18}),_0x20ec26['setPixelRatio'](0x1),_0x20ec26['setSize'](_0x495f18['framebufferWidth'],_0x495f18['framebufferHeight'],!0x1),_0x5cdbaf=new _0x42bc67['nWS'](_0x495f18['framebufferWidth'],_0x495f18['framebufferHeight'],{'format':_0x42bc67['GWd'],'type':_0x42bc67['OUM'],'colorSpace':_0x20ec26['outputColorSpace'],'stencilBuffer':_0x2779d2['stencil']});}_0x5cdbaf['isXRRenderTarget']=!0x0,this['setFoveation'](_0x43423d),_0x37f1a4=null,_0x3f7dfd=await _0x2aaf92['requestReferenceSpace'](_0x37e972),_0x1fd638['setContext'](_0x2aaf92),_0x1fd638['start'](),_0x5c8834['isPresenting']=!0x0,_0x5c8834['dispatchEvent']({'type':'sessionstart'});}},this['getEnvironmentBlendMode']=function(){if(null!==_0x2aaf92)return _0x2aaf92['environmentBlendMode'];},this['getDepthTexture']=function(){return _0x535c55['getDepthTexture']();};const _0x4dbd5d=new _0x42bc67['Pq0'](),_0x3bc2a3=new _0x42bc67['Pq0']();function _0x40abe6(_0x56e0b9,_0x2fce0d){null===_0x2fce0d?_0x56e0b9['matrixWorld']['copy'](_0x56e0b9['matrix']):_0x56e0b9['matrixWorld']['multiplyMatrices'](_0x2fce0d['matrixWorld'],_0x56e0b9['matrix']),_0x56e0b9['matrixWorldInverse']['copy'](_0x56e0b9['matrixWorld'])['invert']();}this['updateCamera']=function(_0x10344f){if(null===_0x2aaf92)return;let _0x3deb96=_0x10344f['near'],_0x407469=_0x10344f['far'];null!==_0x535c55['texture']&&(_0x535c55['depthNear']>0x0&&(_0x3deb96=_0x535c55['depthNear']),_0x535c55['depthFar']>0x0&&(_0x407469=_0x535c55['depthFar'])),_0x47b9fa['near']=_0x4a442f['near']=_0x48a30b['near']=_0x3deb96,_0x47b9fa['far']=_0x4a442f['far']=_0x48a30b['far']=_0x407469,_0xc18958===_0x47b9fa['near']&&_0x5407a1===_0x47b9fa['far']||(_0x2aaf92['updateRenderState']({'depthNear':_0x47b9fa['near'],'depthFar':_0x47b9fa['far']}),_0xc18958=_0x47b9fa['near'],_0x5407a1=_0x47b9fa['far']),_0x48a30b['layers']['mask']=0x2|_0x10344f['layers']['mask'],_0x4a442f['layers']['mask']=0x4|_0x10344f['layers']['mask'],_0x47b9fa['layers']['mask']=_0x48a30b['layers']['mask']|_0x4a442f['layers']['mask'];const _0x33df7e=_0x10344f['parent'],_0x57809f=_0x47b9fa['cameras'];_0x40abe6(_0x47b9fa,_0x33df7e);for(let _0x5f08c2=0x0;_0x5f08c2<_0x57809f['length'];_0x5f08c2++)_0x40abe6(_0x57809f[_0x5f08c2],_0x33df7e);0x2===_0x57809f['length']?function(_0x5bcec2,_0x4bfdfe,_0x7b6a39){_0x4dbd5d['setFromMatrixPosition'](_0x4bfdfe['matrixWorld']),_0x3bc2a3['setFromMatrixPosition'](_0x7b6a39['matrixWorld']);const _0x5d76d0=_0x4dbd5d['distanceTo'](_0x3bc2a3),_0xacb41=_0x4bfdfe['projectionMatrix']['elements'],_0x3ccfb1=_0x7b6a39['projectionMatrix']['elements'],_0x221601=_0xacb41[0xe]/(_0xacb41[0xa]-0x1),_0x56d698=_0xacb41[0xe]/(_0xacb41[0xa]+0x1),_0x54629a=(_0xacb41[0x9]+0x1)/_0xacb41[0x5],_0x24ec17=(_0xacb41[0x9]-0x1)/_0xacb41[0x5],_0xccaa97=(_0xacb41[0x8]-0x1)/_0xacb41[0x0],_0x5ee58f=(_0x3ccfb1[0x8]+0x1)/_0x3ccfb1[0x0],_0x5c4edd=_0x221601*_0xccaa97,_0x5c9fd9=_0x221601*_0x5ee58f,_0x38c887=_0x5d76d0/(-_0xccaa97+_0x5ee58f),_0xac9dcb=_0x38c887*-_0xccaa97;if(_0x4bfdfe['matrixWorld']['decompose'](_0x5bcec2['position'],_0x5bcec2['quaternion'],_0x5bcec2['scale']),_0x5bcec2['translateX'](_0xac9dcb),_0x5bcec2['translateZ'](_0x38c887),_0x5bcec2['matrixWorld']['compose'](_0x5bcec2['position'],_0x5bcec2['quaternion'],_0x5bcec2['scale']),_0x5bcec2['matrixWorldInverse']['copy'](_0x5bcec2['matrixWorld'])['invert'](),-0x1===_0xacb41[0xa])_0x5bcec2['projectionMatrix']['copy'](_0x4bfdfe['projectionMatrix']),_0x5bcec2['projectionMatrixInverse']['copy'](_0x4bfdfe['projectionMatrixInverse']);else{const _0x4080a9=_0x221601+_0x38c887,_0x3d2099=_0x56d698+_0x38c887,_0x4762d8=_0x5c4edd-_0xac9dcb,_0x2975b6=_0x5c9fd9+(_0x5d76d0-_0xac9dcb),_0x571f78=_0x54629a*_0x56d698/_0x3d2099*_0x4080a9,_0x57722b=_0x24ec17*_0x56d698/_0x3d2099*_0x4080a9;_0x5bcec2['projectionMatrix']['makePerspective'](_0x4762d8,_0x2975b6,_0x571f78,_0x57722b,_0x4080a9,_0x3d2099),_0x5bcec2['projectionMatrixInverse']['copy'](_0x5bcec2['projectionMatrix'])['invert']();}}(_0x47b9fa,_0x48a30b,_0x4a442f):_0x47b9fa['projectionMatrix']['copy'](_0x48a30b['projectionMatrix']),function(_0x5557f9,_0x4f8a78,_0x55ed6c){null===_0x55ed6c?_0x5557f9['matrix']['copy'](_0x4f8a78['matrixWorld']):(_0x5557f9['matrix']['copy'](_0x55ed6c['matrixWorld']),_0x5557f9['matrix']['invert'](),_0x5557f9['matrix']['multiply'](_0x4f8a78['matrixWorld'])),(_0x5557f9['matrix']['decompose'](_0x5557f9['position'],_0x5557f9['quaternion'],_0x5557f9['scale']),_0x5557f9['updateMatrixWorld'](!0x0),_0x5557f9['projectionMatrix']['copy'](_0x4f8a78['projectionMatrix']),_0x5557f9['projectionMatrixInverse']['copy'](_0x4f8a78['projectionMatrixInverse']),_0x5557f9['isPerspectiveCamera']&&(_0x5557f9['fov']=0x2*_0x42bc67['a55']*Math['atan'](0x1/_0x5557f9['projectionMatrix']['elements'][0x5]),_0x5557f9['zoom']=0x1));}(_0x10344f,_0x47b9fa,_0x33df7e);},this['getCamera']=function(){return _0x47b9fa;},this['getFoveation']=function(){if(null!==_0x4859f3||null!==_0x495f18)return _0x43423d;},this['setFoveation']=function(_0x59866d){_0x43423d=_0x59866d,null!==_0x4859f3&&(_0x4859f3['fixedFoveation']=_0x59866d),null!==_0x495f18&&void 0x0!==_0x495f18['fixedFoveation']&&(_0x495f18['fixedFoveation']=_0x59866d);},this['hasDepthSensing']=function(){return null!==_0x535c55['texture'];},this['getDepthSensingMesh']=function(){return _0x535c55['getMesh'](_0x47b9fa);};let _0x588f14=null;const _0x1fd638=new _0x5b234e();_0x1fd638['setAnimationLoop'](function(_0x9bced7,_0x3bbdb3){if(_0x1c5af4=_0x3bbdb3['getViewerPose'](_0x37f1a4||_0x3f7dfd),_0x13fdad=_0x3bbdb3,null!==_0x1c5af4){const _0x2d60ab=_0x1c5af4['views'];null!==_0x495f18&&(_0x20ec26['setRenderTargetFramebuffer'](_0x5cdbaf,_0x495f18['framebuffer']),_0x20ec26['setRenderTarget'](_0x5cdbaf));let _0x40ae89=!0x1;_0x2d60ab['length']!==_0x47b9fa['cameras']['length']&&(_0x47b9fa['cameras']['length']=0x0,_0x40ae89=!0x0);for(let _0x3d34c9=0x0;_0x3d34c9<_0x2d60ab['length'];_0x3d34c9++){const _0x24b258=_0x2d60ab[_0x3d34c9];let _0x2daad6=null;if(null!==_0x495f18)_0x2daad6=_0x495f18['getViewport'](_0x24b258);else{const _0x370476=_0x231509['getViewSubImage'](_0x4859f3,_0x24b258);_0x2daad6=_0x370476['viewport'],0x0===_0x3d34c9&&(_0x20ec26['setRenderTargetTextures'](_0x5cdbaf,_0x370476['colorTexture'],_0x4859f3['ignoreDepthValues']?void 0x0:_0x370476['depthStencilTexture']),_0x20ec26['setRenderTarget'](_0x5cdbaf));}let _0x669566=_0x5253b8[_0x3d34c9];void 0x0===_0x669566&&(_0x669566=new _0x42bc67['ubm'](),_0x669566['layers']['enable'](_0x3d34c9),_0x669566['viewport']=new _0x42bc67['IUQ'](),_0x5253b8[_0x3d34c9]=_0x669566),_0x669566['matrix']['fromArray'](_0x24b258['transform']['matrix']),_0x669566['matrix']['decompose'](_0x669566['position'],_0x669566['quaternion'],_0x669566['scale']),_0x669566['projectionMatrix']['fromArray'](_0x24b258['projectionMatrix']),_0x669566['projectionMatrixInverse']['copy'](_0x669566['projectionMatrix'])['invert'](),_0x669566['viewport']['set'](_0x2daad6['x'],_0x2daad6['y'],_0x2daad6['width'],_0x2daad6['height']),0x0===_0x3d34c9&&(_0x47b9fa['matrix']['copy'](_0x669566['matrix']),_0x47b9fa['matrix']['decompose'](_0x47b9fa['position'],_0x47b9fa['quaternion'],_0x47b9fa['scale'])),!0x0===_0x40ae89&&_0x47b9fa['cameras']['push'](_0x669566);}const _0x3093a8=_0x2aaf92['enabledFeatures'];if(_0x3093a8&&_0x3093a8['includes']('depth-sensing')){const _0x3b05cf=_0x231509['getDepthInformation'](_0x2d60ab[0x0]);_0x3b05cf&&_0x3b05cf['isValid']&&_0x3b05cf['texture']&&_0x535c55['init'](_0x20ec26,_0x3b05cf,_0x2aaf92['renderState']);}}for(let _0x31868c=0x0;_0x31868c<_0x4b4aca['length'];_0x31868c++){const _0x1b9351=_0x9014d0[_0x31868c],_0x10cc0c=_0x4b4aca[_0x31868c];null!==_0x1b9351&&void 0x0!==_0x10cc0c&&_0x10cc0c['update'](_0x1b9351,_0x3bbdb3,_0x37f1a4||_0x3f7dfd);}_0x588f14&&_0x588f14(_0x9bced7,_0x3bbdb3),_0x3bbdb3['detectedPlanes']&&_0x5c8834['dispatchEvent']({'type':'planesdetected','data':_0x3bbdb3}),_0x13fdad=null;}),this['setAnimationLoop']=function(_0x1117e0){_0x588f14=_0x1117e0;},this['dispose']=function(){};}}const _0xf2a0b2=new _0x42bc67['O9p'](),_0x211240=new _0x42bc67['kn4']();function _0x2ba023(_0x3a1cc9,_0x4727ea){function _0x4b8644(_0x1907b1,_0x4d8fa4){!0x0===_0x1907b1['matrixAutoUpdate']&&_0x1907b1['updateMatrix'](),_0x4d8fa4['value']['copy'](_0x1907b1['matrix']);}function _0x3dca11(_0x10da59,_0x1b598b){_0x10da59['opacity']['value']=_0x1b598b['opacity'],_0x1b598b['color']&&_0x10da59['diffuse']['value']['copy'](_0x1b598b['color']),_0x1b598b['emissive']&&_0x10da59['emissive']['value']['copy'](_0x1b598b['emissive'])['multiplyScalar'](_0x1b598b['emissiveIntensity']),_0x1b598b['map']&&(_0x10da59['map']['value']=_0x1b598b['map'],_0x4b8644(_0x1b598b['map'],_0x10da59['mapTransform'])),_0x1b598b['alphaMap']&&(_0x10da59['alphaMap']['value']=_0x1b598b['alphaMap'],_0x4b8644(_0x1b598b['alphaMap'],_0x10da59['alphaMapTransform'])),_0x1b598b['bumpMap']&&(_0x10da59['bumpMap']['value']=_0x1b598b['bumpMap'],_0x4b8644(_0x1b598b['bumpMap'],_0x10da59['bumpMapTransform']),_0x10da59['bumpScale']['value']=_0x1b598b['bumpScale'],_0x1b598b['side']===_0x42bc67['hsX']&&(_0x10da59['bumpScale']['value']*=-0x1)),_0x1b598b['normalMap']&&(_0x10da59['normalMap']['value']=_0x1b598b['normalMap'],_0x4b8644(_0x1b598b['normalMap'],_0x10da59['normalMapTransform']),_0x10da59['normalScale']['value']['copy'](_0x1b598b['normalScale']),_0x1b598b['side']===_0x42bc67['hsX']&&_0x10da59['normalScale']['value']['negate']()),_0x1b598b['displacementMap']&&(_0x10da59['displacementMap']['value']=_0x1b598b['displacementMap'],_0x4b8644(_0x1b598b['displacementMap'],_0x10da59['displacementMapTransform']),_0x10da59['displacementScale']['value']=_0x1b598b['displacementScale'],_0x10da59['displacementBias']['value']=_0x1b598b['displacementBias']),_0x1b598b['emissiveMap']&&(_0x10da59['emissiveMap']['value']=_0x1b598b['emissiveMap'],_0x4b8644(_0x1b598b['emissiveMap'],_0x10da59['emissiveMapTransform'])),_0x1b598b['specularMap']&&(_0x10da59['specularMap']['value']=_0x1b598b['specularMap'],_0x4b8644(_0x1b598b['specularMap'],_0x10da59['specularMapTransform'])),_0x1b598b['alphaTest']>0x0&&(_0x10da59['alphaTest']['value']=_0x1b598b['alphaTest']);const _0xb3e204=_0x4727ea['get'](_0x1b598b),_0x133608=_0xb3e204['envMap'],_0x38e825=_0xb3e204['envMapRotation'];_0x133608&&(_0x10da59['envMap']['value']=_0x133608,_0xf2a0b2['copy'](_0x38e825),_0xf2a0b2['x']*=-0x1,_0xf2a0b2['y']*=-0x1,_0xf2a0b2['z']*=-0x1,_0x133608['isCubeTexture']&&!0x1===_0x133608['isRenderTargetTexture']&&(_0xf2a0b2['y']*=-0x1,_0xf2a0b2['z']*=-0x1),_0x10da59['envMapRotation']['value']['setFromMatrix4'](_0x211240['makeRotationFromEuler'](_0xf2a0b2)),_0x10da59['flipEnvMap']['value']=_0x133608['isCubeTexture']&&!0x1===_0x133608['isRenderTargetTexture']?-0x1:0x1,_0x10da59['reflectivity']['value']=_0x1b598b['reflectivity'],_0x10da59['ior']['value']=_0x1b598b['ior'],_0x10da59['refractionRatio']['value']=_0x1b598b['refractionRatio']),_0x1b598b['lightMap']&&(_0x10da59['lightMap']['value']=_0x1b598b['lightMap'],_0x10da59['lightMapIntensity']['value']=_0x1b598b['lightMapIntensity'],_0x4b8644(_0x1b598b['lightMap'],_0x10da59['lightMapTransform'])),_0x1b598b['aoMap']&&(_0x10da59['aoMap']['value']=_0x1b598b['aoMap'],_0x10da59['aoMapIntensity']['value']=_0x1b598b['aoMapIntensity'],_0x4b8644(_0x1b598b['aoMap'],_0x10da59['aoMapTransform']));}return{'refreshFogUniforms':function(_0x3c6ca6,_0x49ba96){_0x49ba96['color']['getRGB'](_0x3c6ca6['fogColor']['value'],(0x0,_0x42bc67['_Ut'])(_0x3a1cc9)),_0x49ba96['isFog']?(_0x3c6ca6['fogNear']['value']=_0x49ba96['near'],_0x3c6ca6['fogFar']['value']=_0x49ba96['far']):_0x49ba96['isFogExp2']&&(_0x3c6ca6['fogDensity']['value']=_0x49ba96['density']);},'refreshMaterialUniforms':function(_0x83475a,_0x4b1fb9,_0x454df5,_0x55d922,_0x3d2999){_0x4b1fb9['isMeshBasicMaterial']||_0x4b1fb9['isMeshLambertMaterial']?_0x3dca11(_0x83475a,_0x4b1fb9):_0x4b1fb9['isMeshToonMaterial']?(_0x3dca11(_0x83475a,_0x4b1fb9),function(_0x19cf51,_0xa8ece4){_0xa8ece4['gradientMap']&&(_0x19cf51['gradientMap']['value']=_0xa8ece4['gradientMap']);}(_0x83475a,_0x4b1fb9)):_0x4b1fb9['isMeshPhongMaterial']?(_0x3dca11(_0x83475a,_0x4b1fb9),function(_0x3cd686,_0x20cf10){_0x3cd686['specular']['value']['copy'](_0x20cf10['specular']),_0x3cd686['shininess']['value']=Math['max'](_0x20cf10['shininess'],0.0001);}(_0x83475a,_0x4b1fb9)):_0x4b1fb9['isMeshStandardMaterial']?(_0x3dca11(_0x83475a,_0x4b1fb9),function(_0x384b0f,_0x1c3570){_0x384b0f['metalness']['value']=_0x1c3570['metalness'],_0x1c3570['metalnessMap']&&(_0x384b0f['metalnessMap']['value']=_0x1c3570['metalnessMap'],_0x4b8644(_0x1c3570['metalnessMap'],_0x384b0f['metalnessMapTransform'])),(_0x384b0f['roughness']['value']=_0x1c3570['roughness'],_0x1c3570['roughnessMap']&&(_0x384b0f['roughnessMap']['value']=_0x1c3570['roughnessMap'],_0x4b8644(_0x1c3570['roughnessMap'],_0x384b0f['roughnessMapTransform']))),_0x1c3570['envMap']&&(_0x384b0f['envMapIntensity']['value']=_0x1c3570['envMapIntensity']);}(_0x83475a,_0x4b1fb9),_0x4b1fb9['isMeshPhysicalMaterial']&&function(_0x592a09,_0x5e85b6,_0x5ad9db){_0x592a09['ior']['value']=_0x5e85b6['ior'],_0x5e85b6['sheen']>0x0&&(_0x592a09['sheenColor']['value']['copy'](_0x5e85b6['sheenColor'])['multiplyScalar'](_0x5e85b6['sheen']),_0x592a09['sheenRoughness']['value']=_0x5e85b6['sheenRoughness'],_0x5e85b6['sheenColorMap']&&(_0x592a09['sheenColorMap']['value']=_0x5e85b6['sheenColorMap'],_0x4b8644(_0x5e85b6['sheenColorMap'],_0x592a09['sheenColorMapTransform'])),_0x5e85b6['sheenRoughnessMap']&&(_0x592a09['sheenRoughnessMap']['value']=_0x5e85b6['sheenRoughnessMap'],_0x4b8644(_0x5e85b6['sheenRoughnessMap'],_0x592a09['sheenRoughnessMapTransform']))),_0x5e85b6['clearcoat']>0x0&&(_0x592a09['clearcoat']['value']=_0x5e85b6['clearcoat'],_0x592a09['clearcoatRoughness']['value']=_0x5e85b6['clearcoatRoughness'],_0x5e85b6['clearcoatMap']&&(_0x592a09['clearcoatMap']['value']=_0x5e85b6['clearcoatMap'],_0x4b8644(_0x5e85b6['clearcoatMap'],_0x592a09['clearcoatMapTransform'])),_0x5e85b6['clearcoatRoughnessMap']&&(_0x592a09['clearcoatRoughnessMap']['value']=_0x5e85b6['clearcoatRoughnessMap'],_0x4b8644(_0x5e85b6['clearcoatRoughnessMap'],_0x592a09['clearcoatRoughnessMapTransform'])),_0x5e85b6['clearcoatNormalMap']&&(_0x592a09['clearcoatNormalMap']['value']=_0x5e85b6['clearcoatNormalMap'],_0x4b8644(_0x5e85b6['clearcoatNormalMap'],_0x592a09['clearcoatNormalMapTransform']),_0x592a09['clearcoatNormalScale']['value']['copy'](_0x5e85b6['clearcoatNormalScale']),_0x5e85b6['side']===_0x42bc67['hsX']&&_0x592a09['clearcoatNormalScale']['value']['negate']())),_0x5e85b6['dispersion']>0x0&&(_0x592a09['dispersion']['value']=_0x5e85b6['dispersion']),_0x5e85b6['iridescence']>0x0&&(_0x592a09['iridescence']['value']=_0x5e85b6['iridescence'],_0x592a09['iridescenceIOR']['value']=_0x5e85b6['iridescenceIOR'],_0x592a09['iridescenceThicknessMinimum']['value']=_0x5e85b6['iridescenceThicknessRange'][0x0],_0x592a09['iridescenceThicknessMaximum']['value']=_0x5e85b6['iridescenceThicknessRange'][0x1],_0x5e85b6['iridescenceMap']&&(_0x592a09['iridescenceMap']['value']=_0x5e85b6['iridescenceMap'],_0x4b8644(_0x5e85b6['iridescenceMap'],_0x592a09['iridescenceMapTransform'])),_0x5e85b6['iridescenceThicknessMap']&&(_0x592a09['iridescenceThicknessMap']['value']=_0x5e85b6['iridescenceThicknessMap'],_0x4b8644(_0x5e85b6['iridescenceThicknessMap'],_0x592a09['iridescenceThicknessMapTransform']))),_0x5e85b6['transmission']>0x0&&(_0x592a09['transmission']['value']=_0x5e85b6['transmission'],_0x592a09['transmissionSamplerMap']['value']=_0x5ad9db['texture'],_0x592a09['transmissionSamplerSize']['value']['set'](_0x5ad9db['width'],_0x5ad9db['height']),_0x5e85b6['transmissionMap']&&(_0x592a09['transmissionMap']['value']=_0x5e85b6['transmissionMap'],_0x4b8644(_0x5e85b6['transmissionMap'],_0x592a09['transmissionMapTransform'])),_0x592a09['thickness']['value']=_0x5e85b6['thickness'],_0x5e85b6['thicknessMap']&&(_0x592a09['thicknessMap']['value']=_0x5e85b6['thicknessMap'],_0x4b8644(_0x5e85b6['thicknessMap'],_0x592a09['thicknessMapTransform'])),_0x592a09['attenuationDistance']['value']=_0x5e85b6['attenuationDistance'],_0x592a09['attenuationColor']['value']['copy'](_0x5e85b6['attenuationColor'])),_0x5e85b6['anisotropy']>0x0&&(_0x592a09['anisotropyVector']['value']['set'](_0x5e85b6['anisotropy']*Math['cos'](_0x5e85b6['anisotropyRotation']),_0x5e85b6['anisotropy']*Math['sin'](_0x5e85b6['anisotropyRotation'])),_0x5e85b6['anisotropyMap']&&(_0x592a09['anisotropyMap']['value']=_0x5e85b6['anisotropyMap'],_0x4b8644(_0x5e85b6['anisotropyMap'],_0x592a09['anisotropyMapTransform']))),(_0x592a09['specularIntensity']['value']=_0x5e85b6['specularIntensity'],_0x592a09['specularColor']['value']['copy'](_0x5e85b6['specularColor']),_0x5e85b6['specularColorMap']&&(_0x592a09['specularColorMap']['value']=_0x5e85b6['specularColorMap'],_0x4b8644(_0x5e85b6['specularColorMap'],_0x592a09['specularColorMapTransform']))),_0x5e85b6['specularIntensityMap']&&(_0x592a09['specularIntensityMap']['value']=_0x5e85b6['specularIntensityMap'],_0x4b8644(_0x5e85b6['specularIntensityMap'],_0x592a09['specularIntensityMapTransform']));}(_0x83475a,_0x4b1fb9,_0x3d2999)):_0x4b1fb9['isMeshMatcapMaterial']?(_0x3dca11(_0x83475a,_0x4b1fb9),function(_0x2fceba,_0x1add20){_0x1add20['matcap']&&(_0x2fceba['matcap']['value']=_0x1add20['matcap']);}(_0x83475a,_0x4b1fb9)):_0x4b1fb9['isMeshDepthMaterial']?_0x3dca11(_0x83475a,_0x4b1fb9):_0x4b1fb9['isMeshDistanceMaterial']?(_0x3dca11(_0x83475a,_0x4b1fb9),function(_0x3a8806,_0x5696be){const _0x1f8c14=_0x4727ea['get'](_0x5696be)['light'];_0x3a8806['referencePosition']['value']['setFromMatrixPosition'](_0x1f8c14['matrixWorld']),_0x3a8806['nearDistance']['value']=_0x1f8c14['shadow']['camera']['near'],_0x3a8806['farDistance']['value']=_0x1f8c14['shadow']['camera']['far'];}(_0x83475a,_0x4b1fb9)):_0x4b1fb9['isMeshNormalMaterial']?_0x3dca11(_0x83475a,_0x4b1fb9):_0x4b1fb9['isLineBasicMaterial']?(function(_0x203744,_0x934a30){_0x203744['diffuse']['value']['copy'](_0x934a30['color']),_0x203744['opacity']['value']=_0x934a30['opacity'],_0x934a30['map']&&(_0x203744['map']['value']=_0x934a30['map'],_0x4b8644(_0x934a30['map'],_0x203744['mapTransform']));}(_0x83475a,_0x4b1fb9),_0x4b1fb9['isLineDashedMaterial']&&function(_0x52ce1a,_0x51def0){_0x52ce1a['dashSize']['value']=_0x51def0['dashSize'],_0x52ce1a['totalSize']['value']=_0x51def0['dashSize']+_0x51def0['gapSize'],_0x52ce1a['scale']['value']=_0x51def0['scale'];}(_0x83475a,_0x4b1fb9)):_0x4b1fb9['isPointsMaterial']?function(_0x15a58b,_0x2824b6,_0x120d0c,_0xc83fd8){_0x15a58b['diffuse']['value']['copy'](_0x2824b6['color']),_0x15a58b['opacity']['value']=_0x2824b6['opacity'],_0x15a58b['size']['value']=_0x2824b6['size']*_0x120d0c,_0x15a58b['scale']['value']=0.5*_0xc83fd8,_0x2824b6['map']&&(_0x15a58b['map']['value']=_0x2824b6['map'],_0x4b8644(_0x2824b6['map'],_0x15a58b['uvTransform'])),_0x2824b6['alphaMap']&&(_0x15a58b['alphaMap']['value']=_0x2824b6['alphaMap'],_0x4b8644(_0x2824b6['alphaMap'],_0x15a58b['alphaMapTransform'])),_0x2824b6['alphaTest']>0x0&&(_0x15a58b['alphaTest']['value']=_0x2824b6['alphaTest']);}(_0x83475a,_0x4b1fb9,_0x454df5,_0x55d922):_0x4b1fb9['isSpriteMaterial']?function(_0x5e0e54,_0x2a1efd){_0x5e0e54['diffuse']['value']['copy'](_0x2a1efd['color']),_0x5e0e54['opacity']['value']=_0x2a1efd['opacity'],_0x5e0e54['rotation']['value']=_0x2a1efd['rotation'],_0x2a1efd['map']&&(_0x5e0e54['map']['value']=_0x2a1efd['map'],_0x4b8644(_0x2a1efd['map'],_0x5e0e54['mapTransform'])),_0x2a1efd['alphaMap']&&(_0x5e0e54['alphaMap']['value']=_0x2a1efd['alphaMap'],_0x4b8644(_0x2a1efd['alphaMap'],_0x5e0e54['alphaMapTransform'])),_0x2a1efd['alphaTest']>0x0&&(_0x5e0e54['alphaTest']['value']=_0x2a1efd['alphaTest']);}(_0x83475a,_0x4b1fb9):_0x4b1fb9['isShadowMaterial']?(_0x83475a['color']['value']['copy'](_0x4b1fb9['color']),_0x83475a['opacity']['value']=_0x4b1fb9['opacity']):_0x4b1fb9['isShaderMaterial']&&(_0x4b1fb9['uniformsNeedUpdate']=!0x1);}};}function _0x48d0fc(_0x527af2,_0x23aa21,_0x4c06d3,_0x531911){let _0x47af43={},_0x54f3a1={},_0x53c312=[];const _0x5f5a7f=_0x527af2['getParameter'](_0x527af2['MAX_UNIFORM_BUFFER_BINDINGS']);function _0x6390df(_0x528d2d,_0x3d2758,_0x335fe0,_0xe59745){const _0x11ebe3=_0x528d2d['value'],_0x165c55=_0x3d2758+'_'+_0x335fe0;if(void 0x0===_0xe59745[_0x165c55])return _0xe59745[_0x165c55]='number'==typeof _0x11ebe3||'boolean'==typeof _0x11ebe3?_0x11ebe3:_0x11ebe3['clone'](),!0x0;{const _0x23c85c=_0xe59745[_0x165c55];if('number'==typeof _0x11ebe3||'boolean'==typeof _0x11ebe3){if(_0x23c85c!==_0x11ebe3)return _0xe59745[_0x165c55]=_0x11ebe3,!0x0;}else{if(!0x1===_0x23c85c['equals'](_0x11ebe3))return _0x23c85c['copy'](_0x11ebe3),!0x0;}}return!0x1;}function _0x5411f2(_0x1363e4){const _0x5a4d29={'boundary':0x0,'storage':0x0};return'number'==typeof _0x1363e4||'boolean'==typeof _0x1363e4?(_0x5a4d29['boundary']=0x4,_0x5a4d29['storage']=0x4):_0x1363e4['isVector2']?(_0x5a4d29['boundary']=0x8,_0x5a4d29['storage']=0x8):_0x1363e4['isVector3']||_0x1363e4['isColor']?(_0x5a4d29['boundary']=0x10,_0x5a4d29['storage']=0xc):_0x1363e4['isVector4']?(_0x5a4d29['boundary']=0x10,_0x5a4d29['storage']=0x10):_0x1363e4['isMatrix3']?(_0x5a4d29['boundary']=0x30,_0x5a4d29['storage']=0x30):_0x1363e4['isMatrix4']?(_0x5a4d29['boundary']=0x40,_0x5a4d29['storage']=0x40):_0x1363e4['isTexture']?console['warn']('THREE.WebGLRenderer:\x20Texture\x20samplers\x20can\x20not\x20be\x20part\x20of\x20an\x20uniforms\x20group.'):console['warn']('THREE.WebGLRenderer:\x20Unsupported\x20uniform\x20value\x20type.',_0x1363e4),_0x5a4d29;}function _0x477e58(_0x3bf1f8){const _0x232043=_0x3bf1f8['target'];_0x232043['removeEventListener']('dispose',_0x477e58);const _0x4ad35a=_0x53c312['indexOf'](_0x232043['__bindingPointIndex']);_0x53c312['splice'](_0x4ad35a,0x1),_0x527af2['deleteBuffer'](_0x47af43[_0x232043['id']]),delete _0x47af43[_0x232043['id']],delete _0x54f3a1[_0x232043['id']];}return{'bind':function(_0x1d370b,_0x57eda3){const _0x11ebde=_0x57eda3['program'];_0x531911['uniformBlockBinding'](_0x1d370b,_0x11ebde);},'update':function(_0x26eb2e,_0x31a218){let _0x4f6e1b=_0x47af43[_0x26eb2e['id']];void 0x0===_0x4f6e1b&&(!function(_0x547d13){const _0x1eb117=_0x547d13['uniforms'];let _0x332f31=0x0;const _0x95576f=0x10;for(let _0xe50a6=0x0,_0x2405a1=_0x1eb117['length'];_0xe50a6<_0x2405a1;_0xe50a6++){const _0x59ace1=Array['isArray'](_0x1eb117[_0xe50a6])?_0x1eb117[_0xe50a6]:[_0x1eb117[_0xe50a6]];for(let _0x173960=0x0,_0x5ac01d=_0x59ace1['length'];_0x173960<_0x5ac01d;_0x173960++){const _0x12a4f5=_0x59ace1[_0x173960],_0x9eddd2=Array['isArray'](_0x12a4f5['value'])?_0x12a4f5['value']:[_0x12a4f5['value']];for(let _0x3b0af2=0x0,_0xe0f635=_0x9eddd2['length'];_0x3b0af2<_0xe0f635;_0x3b0af2++){const _0x3d0a51=_0x5411f2(_0x9eddd2[_0x3b0af2]),_0x25ecf9=_0x332f31%_0x95576f,_0x31a664=_0x25ecf9%_0x3d0a51['boundary'],_0x18f557=_0x25ecf9+_0x31a664;_0x332f31+=_0x31a664,0x0!==_0x18f557&&_0x95576f-_0x18f557<_0x3d0a51['storage']&&(_0x332f31+=_0x95576f-_0x18f557),_0x12a4f5['__data']=new Float32Array(_0x3d0a51['storage']/Float32Array['BYTES_PER_ELEMENT']),_0x12a4f5['__offset']=_0x332f31,_0x332f31+=_0x3d0a51['storage'];}}}const _0x332188=_0x332f31%_0x95576f;_0x332188>0x0&&(_0x332f31+=_0x95576f-_0x332188),(_0x547d13['__size']=_0x332f31,_0x547d13['__cache']={});}(_0x26eb2e),_0x4f6e1b=function(_0x5d5112){const _0x497ea7=(function(){for(let _0x583769=0x0;_0x583769<_0x5f5a7f;_0x583769++)if(-0x1===_0x53c312['indexOf'](_0x583769))return _0x53c312['push'](_0x583769),_0x583769;return console['error']('THREE.WebGLRenderer:\x20Maximum\x20number\x20of\x20simultaneously\x20usable\x20uniforms\x20groups\x20reached.'),0x0;}());_0x5d5112['__bindingPointIndex']=_0x497ea7;const _0x4c9550=_0x527af2['createBuffer'](),_0x126bfc=_0x5d5112['__size'],_0xd5b7c8=_0x5d5112['usage'];return _0x527af2['bindBuffer'](_0x527af2['UNIFORM_BUFFER'],_0x4c9550),_0x527af2['bufferData'](_0x527af2['UNIFORM_BUFFER'],_0x126bfc,_0xd5b7c8),_0x527af2['bindBuffer'](_0x527af2['UNIFORM_BUFFER'],null),_0x527af2['bindBufferBase'](_0x527af2['UNIFORM_BUFFER'],_0x497ea7,_0x4c9550),_0x4c9550;}(_0x26eb2e),_0x47af43[_0x26eb2e['id']]=_0x4f6e1b,_0x26eb2e['addEventListener']('dispose',_0x477e58));const _0x580ba6=_0x31a218['program'];_0x531911['updateUBOMapping'](_0x26eb2e,_0x580ba6);const _0x2854ed=_0x23aa21['render']['frame'];_0x54f3a1[_0x26eb2e['id']]!==_0x2854ed&&(!function(_0x470e4a){const _0x323ab2=_0x47af43[_0x470e4a['id']],_0x394e65=_0x470e4a['uniforms'],_0x36411e=_0x470e4a['__cache'];_0x527af2['bindBuffer'](_0x527af2['UNIFORM_BUFFER'],_0x323ab2);for(let _0x13e17b=0x0,_0x3d2abc=_0x394e65['length'];_0x13e17b<_0x3d2abc;_0x13e17b++){const _0x2051ec=Array['isArray'](_0x394e65[_0x13e17b])?_0x394e65[_0x13e17b]:[_0x394e65[_0x13e17b]];for(let _0x155ab8=0x0,_0xd4ff77=_0x2051ec['length'];_0x155ab8<_0xd4ff77;_0x155ab8++){const _0x5ed16e=_0x2051ec[_0x155ab8];if(!0x0===_0x6390df(_0x5ed16e,_0x13e17b,_0x155ab8,_0x36411e)){const _0x13f490=_0x5ed16e['__offset'],_0x3b8b8f=Array['isArray'](_0x5ed16e['value'])?_0x5ed16e['value']:[_0x5ed16e['value']];let _0x362b1c=0x0;for(let _0x5926d1=0x0;_0x5926d1<_0x3b8b8f['length'];_0x5926d1++){const _0x3062f9=_0x3b8b8f[_0x5926d1],_0x1f7762=_0x5411f2(_0x3062f9);'number'==typeof _0x3062f9||'boolean'==typeof _0x3062f9?(_0x5ed16e['__data'][0x0]=_0x3062f9,_0x527af2['bufferSubData'](_0x527af2['UNIFORM_BUFFER'],_0x13f490+_0x362b1c,_0x5ed16e['__data'])):_0x3062f9['isMatrix3']?(_0x5ed16e['__data'][0x0]=_0x3062f9['elements'][0x0],_0x5ed16e['__data'][0x1]=_0x3062f9['elements'][0x1],_0x5ed16e['__data'][0x2]=_0x3062f9['elements'][0x2],_0x5ed16e['__data'][0x3]=0x0,_0x5ed16e['__data'][0x4]=_0x3062f9['elements'][0x3],_0x5ed16e['__data'][0x5]=_0x3062f9['elements'][0x4],_0x5ed16e['__data'][0x6]=_0x3062f9['elements'][0x5],_0x5ed16e['__data'][0x7]=0x0,_0x5ed16e['__data'][0x8]=_0x3062f9['elements'][0x6],_0x5ed16e['__data'][0x9]=_0x3062f9['elements'][0x7],_0x5ed16e['__data'][0xa]=_0x3062f9['elements'][0x8],_0x5ed16e['__data'][0xb]=0x0):(_0x3062f9['toArray'](_0x5ed16e['__data'],_0x362b1c),_0x362b1c+=_0x1f7762['storage']/Float32Array['BYTES_PER_ELEMENT']);}_0x527af2['bufferSubData'](_0x527af2['UNIFORM_BUFFER'],_0x13f490,_0x5ed16e['__data']);}}}_0x527af2['bindBuffer'](_0x527af2['UNIFORM_BUFFER'],null);}(_0x26eb2e),_0x54f3a1[_0x26eb2e['id']]=_0x2854ed);},'dispose':function(){for(const _0x40c5d2 in _0x47af43)_0x527af2['deleteBuffer'](_0x47af43[_0x40c5d2]);_0x53c312=[],_0x47af43={},_0x54f3a1={};}};}class _0x2235b9{constructor(_0x549022={}){const {canvas:_0x2def78=(0x0,_0x42bc67['lPF'])(),context:_0x478ad3=null,depth:_0x1c9d44=!0x0,stencil:_0x2d6102=!0x1,alpha:_0x4f6073=!0x1,antialias:_0x2e8239=!0x1,premultipliedAlpha:_0x4bd59b=!0x0,preserveDrawingBuffer:_0x3e8e36=!0x1,powerPreference:_0x39dbfd='default',failIfMajorPerformanceCaveat:_0x380b28=!0x1,reverseDepthBuffer:_0x5c07e0=!0x1}=_0x549022;let _0x51a9a7;if(this['isWebGLRenderer']=!0x0,null!==_0x478ad3){if('undefined'!=typeof WebGLRenderingContext&&_0x478ad3 instanceof WebGLRenderingContext)throw new Error('THREE.WebGLRenderer:\x20WebGL\x201\x20is\x20not\x20supported\x20since\x20r163.');_0x51a9a7=_0x478ad3['getContextAttributes']()['alpha'];}else _0x51a9a7=_0x4f6073;const _0x5e065e=new Uint32Array(0x4),_0x2b5748=new Int32Array(0x4);let _0x5d68cc=null,_0x5e646c=null;const _0x11fd1e=[],_0x30add6=[];this['domElement']=_0x2def78,this['debug']={'checkShaderErrors':!0x0,'onShaderError':null},this['autoClear']=!0x0,this['autoClearColor']=!0x0,this['autoClearDepth']=!0x0,this['autoClearStencil']=!0x0,this['sortObjects']=!0x0,this['clippingPlanes']=[],this['localClippingEnabled']=!0x1,this['_outputColorSpace']=_0x42bc67['er$'],this['toneMapping']=_0x42bc67['y_p'],this['toneMappingExposure']=0x1;const _0xe4f9d9=this;let _0x226eea=!0x1,_0xa5f54c=0x0,_0x5c6adf=0x0,_0x13e8f2=null,_0x1988c0=-0x1,_0x1c095d=null;const _0x140805=new _0x42bc67['IUQ'](),_0x27b0f6=new _0x42bc67['IUQ']();let _0x293a9c=null;const _0x11034e=new _0x42bc67['Q1f'](0x0);let _0x4c1fb=0x0,_0x42524d=_0x2def78['width'],_0x3c0b80=_0x2def78['height'],_0x4cf03c=0x1,_0x3754c4=null,_0x25cab9=null;const _0x47af7e=new _0x42bc67['IUQ'](0x0,0x0,_0x42524d,_0x3c0b80),_0xe7505b=new _0x42bc67['IUQ'](0x0,0x0,_0x42524d,_0x3c0b80);let _0x10f697=!0x1;const _0x3ff950=new _0x42bc67['PPD']();let _0x3316c2=!0x1,_0x1d7a2c=!0x1;this['transmissionResolutionScale']=0x1;const _0x11dd0e=new _0x42bc67['kn4'](),_0x5d7448=new _0x42bc67['kn4'](),_0x2a44f0=new _0x42bc67['Pq0'](),_0xac29af=new _0x42bc67['IUQ'](),_0x267bf5={'background':null,'fog':null,'environment':null,'overrideMaterial':null,'isScene':!0x0};let _0x55d26f=!0x1;function _0x1a5ea9(){return null===_0x13e8f2?_0x4cf03c:0x1;}let _0xc0ff51,_0x5636a7,_0x1e9b14,_0x101f89,_0x1b9e50,_0x56d234,_0x3580d7,_0x3cdfb4,_0x3070d9,_0x191140,_0x3feb10,_0x1fd48b,_0x10c155,_0xb0044d,_0x4074e0,_0x3397bb,_0x4cb743,_0x19d322,_0x184e9e,_0x417c09,_0x2d8481,_0x594e31,_0x43b38e,_0x5d2167,_0x260515=_0x478ad3;function _0x48274(_0x84e878,_0x1b7704){return _0x2def78['getContext'](_0x84e878,_0x1b7704);}try{const _0x5b7663={'alpha':!0x0,'depth':_0x1c9d44,'stencil':_0x2d6102,'antialias':_0x2e8239,'premultipliedAlpha':_0x4bd59b,'preserveDrawingBuffer':_0x3e8e36,'powerPreference':_0x39dbfd,'failIfMajorPerformanceCaveat':_0x380b28};if('setAttribute'in _0x2def78&&_0x2def78['setAttribute']('data-engine','three.js\x20r'+_0x42bc67['sPf']),_0x2def78['addEventListener']('webglcontextlost',_0x337e45,!0x1),_0x2def78['addEventListener']('webglcontextrestored',_0x282a0d,!0x1),_0x2def78['addEventListener']('webglcontextcreationerror',_0x4619a2,!0x1),null===_0x260515){const _0x350389='webgl2';if(_0x260515=_0x48274(_0x350389,_0x5b7663),null===_0x260515)throw _0x48274(_0x350389)?new Error('Error\x20creating\x20WebGL\x20context\x20with\x20your\x20selected\x20attributes.'):new Error('Error\x20creating\x20WebGL\x20context.');}}catch(_0x2cc946){throw console['error']('THREE.WebGLRenderer:\x20'+_0x2cc946['message']),_0x2cc946;}function _0x186779(){_0xc0ff51=new _0x215d58(_0x260515),_0xc0ff51['init'](),_0x594e31=new _0x41fe64(_0x260515,_0xc0ff51),_0x5636a7=new _0x18d993(_0x260515,_0xc0ff51,_0x549022,_0x594e31),_0x1e9b14=new _0x527dc8(_0x260515,_0xc0ff51),_0x5636a7['reverseDepthBuffer']&&_0x5c07e0&&_0x1e9b14['buffers']['depth']['setReversed'](!0x0),_0x101f89=new _0x3af3bd(_0x260515),_0x1b9e50=new _0x4e2e1c(),_0x56d234=new _0x74c4fb(_0x260515,_0xc0ff51,_0x1e9b14,_0x1b9e50,_0x5636a7,_0x594e31,_0x101f89),_0x3580d7=new _0x8d0710(_0xe4f9d9),_0x3cdfb4=new _0x79e95e(_0xe4f9d9),_0x3070d9=new _0x2f665b(_0x260515),_0x43b38e=new _0x541fd5(_0x260515,_0x3070d9),_0x191140=new _0x3ded24(_0x260515,_0x3070d9,_0x101f89,_0x43b38e),_0x3feb10=new _0x2aa68a(_0x260515,_0x191140,_0x3070d9,_0x101f89),_0x184e9e=new _0x1beb5b(_0x260515,_0x5636a7,_0x56d234),_0x3397bb=new _0x524d09(_0x1b9e50),_0x1fd48b=new _0x37ef48(_0xe4f9d9,_0x3580d7,_0x3cdfb4,_0xc0ff51,_0x5636a7,_0x43b38e,_0x3397bb),_0x10c155=new _0x2ba023(_0xe4f9d9,_0x1b9e50),_0xb0044d=new _0x478042(),_0x4074e0=new _0x556aa0(_0xc0ff51),_0x19d322=new _0x572e24(_0xe4f9d9,_0x3580d7,_0x3cdfb4,_0x1e9b14,_0x3feb10,_0x51a9a7,_0x4bd59b),_0x4cb743=new _0x348740(_0xe4f9d9,_0x3feb10,_0x5636a7),_0x5d2167=new _0x48d0fc(_0x260515,_0x101f89,_0x5636a7,_0x1e9b14),_0x417c09=new _0x5395d7(_0x260515,_0xc0ff51,_0x101f89),_0x2d8481=new _0x52a728(_0x260515,_0xc0ff51,_0x101f89),_0x101f89['programs']=_0x1fd48b['programs'],_0xe4f9d9['capabilities']=_0x5636a7,_0xe4f9d9['extensions']=_0xc0ff51,_0xe4f9d9['properties']=_0x1b9e50,_0xe4f9d9['renderLists']=_0xb0044d,_0xe4f9d9['shadowMap']=_0x4cb743,_0xe4f9d9['state']=_0x1e9b14,_0xe4f9d9['info']=_0x101f89;}_0x186779();const _0x13cb4c=new _0x757428(_0xe4f9d9,_0x260515);function _0x337e45(_0x59c0ca){_0x59c0ca['preventDefault'](),console['log']('THREE.WebGLRenderer:\x20Context\x20Lost.'),_0x226eea=!0x0;}function _0x282a0d(){console['log']('THREE.WebGLRenderer:\x20Context\x20Restored.'),_0x226eea=!0x1;const _0x47c854=_0x101f89['autoReset'],_0x2cd360=_0x4cb743['enabled'],_0x1f21a3=_0x4cb743['autoUpdate'],_0x58f909=_0x4cb743['needsUpdate'],_0x465538=_0x4cb743['type'];_0x186779(),_0x101f89['autoReset']=_0x47c854,_0x4cb743['enabled']=_0x2cd360,_0x4cb743['autoUpdate']=_0x1f21a3,_0x4cb743['needsUpdate']=_0x58f909,_0x4cb743['type']=_0x465538;}function _0x4619a2(_0x504ecd){console['error']('THREE.WebGLRenderer:\x20A\x20WebGL\x20context\x20could\x20not\x20be\x20created.\x20Reason:\x20',_0x504ecd['statusMessage']);}function _0xf922a5(_0x74b3c1){const _0x22b699=_0x74b3c1['target'];_0x22b699['removeEventListener']('dispose',_0xf922a5),function(_0x482541){(function(_0x1b841b){const _0x257640=_0x1b9e50['get'](_0x1b841b)['programs'];void 0x0!==_0x257640&&(_0x257640['forEach'](function(_0x25e6e8){_0x1fd48b['releaseProgram'](_0x25e6e8);}),_0x1b841b['isShaderMaterial']&&_0x1fd48b['releaseShaderCache'](_0x1b841b));}(_0x482541),_0x1b9e50['remove'](_0x482541));}(_0x22b699);}function _0x49dece(_0x2cd4e2,_0x467724,_0x6886c2){!0x0===_0x2cd4e2['transparent']&&_0x2cd4e2['side']===_0x42bc67['$EB']&&!0x1===_0x2cd4e2['forceSinglePass']?(_0x2cd4e2['side']=_0x42bc67['hsX'],_0x2cd4e2['needsUpdate']=!0x0,_0x2fed9a(_0x2cd4e2,_0x467724,_0x6886c2),_0x2cd4e2['side']=_0x42bc67['hB5'],_0x2cd4e2['needsUpdate']=!0x0,_0x2fed9a(_0x2cd4e2,_0x467724,_0x6886c2),_0x2cd4e2['side']=_0x42bc67['$EB']):_0x2fed9a(_0x2cd4e2,_0x467724,_0x6886c2);}this['xr']=_0x13cb4c,this['getContext']=function(){return _0x260515;},this['getContextAttributes']=function(){return _0x260515['getContextAttributes']();},this['forceContextLoss']=function(){const _0x323ed4=_0xc0ff51['get']('WEBGL_lose_context');_0x323ed4&&_0x323ed4['loseContext']();},this['forceContextRestore']=function(){const _0x343321=_0xc0ff51['get']('WEBGL_lose_context');_0x343321&&_0x343321['restoreContext']();},this['getPixelRatio']=function(){return _0x4cf03c;},this['setPixelRatio']=function(_0xe1ca74){void 0x0!==_0xe1ca74&&(_0x4cf03c=_0xe1ca74,this['setSize'](_0x42524d,_0x3c0b80,!0x1));},this['getSize']=function(_0x420fef){return _0x420fef['set'](_0x42524d,_0x3c0b80);},this['setSize']=function(_0x5a41ad,_0x10e872,_0x52dae3=!0x0){_0x13cb4c['isPresenting']?console['warn']('THREE.WebGLRenderer:\x20Can\x27t\x20change\x20size\x20while\x20VR\x20device\x20is\x20presenting.'):(_0x42524d=_0x5a41ad,_0x3c0b80=_0x10e872,_0x2def78['width']=Math['floor'](_0x5a41ad*_0x4cf03c),_0x2def78['height']=Math['floor'](_0x10e872*_0x4cf03c),!0x0===_0x52dae3&&(_0x2def78['style']['width']=_0x5a41ad+'px',_0x2def78['style']['height']=_0x10e872+'px'),this['setViewport'](0x0,0x0,_0x5a41ad,_0x10e872));},this['getDrawingBufferSize']=function(_0x3da6d1){return _0x3da6d1['set'](_0x42524d*_0x4cf03c,_0x3c0b80*_0x4cf03c)['floor']();},this['setDrawingBufferSize']=function(_0x19f83a,_0xcfecd1,_0x27fa31){_0x42524d=_0x19f83a,_0x3c0b80=_0xcfecd1,_0x4cf03c=_0x27fa31,_0x2def78['width']=Math['floor'](_0x19f83a*_0x27fa31),_0x2def78['height']=Math['floor'](_0xcfecd1*_0x27fa31),this['setViewport'](0x0,0x0,_0x19f83a,_0xcfecd1);},this['getCurrentViewport']=function(_0x4875b2){return _0x4875b2['copy'](_0x140805);},this['getViewport']=function(_0x3078a4){return _0x3078a4['copy'](_0x47af7e);},this['setViewport']=function(_0x209bbd,_0x1d233b,_0x19f227,_0x123cfe){_0x209bbd['isVector4']?_0x47af7e['set'](_0x209bbd['x'],_0x209bbd['y'],_0x209bbd['z'],_0x209bbd['w']):_0x47af7e['set'](_0x209bbd,_0x1d233b,_0x19f227,_0x123cfe),_0x1e9b14['viewport'](_0x140805['copy'](_0x47af7e)['multiplyScalar'](_0x4cf03c)['round']());},this['getScissor']=function(_0x586dda){return _0x586dda['copy'](_0xe7505b);},this['setScissor']=function(_0x195459,_0x4ee387,_0x51bfdf,_0x2fe6bf){_0x195459['isVector4']?_0xe7505b['set'](_0x195459['x'],_0x195459['y'],_0x195459['z'],_0x195459['w']):_0xe7505b['set'](_0x195459,_0x4ee387,_0x51bfdf,_0x2fe6bf),_0x1e9b14['scissor'](_0x27b0f6['copy'](_0xe7505b)['multiplyScalar'](_0x4cf03c)['round']());},this['getScissorTest']=function(){return _0x10f697;},this['setScissorTest']=function(_0x5db3f6){_0x1e9b14['setScissorTest'](_0x10f697=_0x5db3f6);},this['setOpaqueSort']=function(_0x3d3db5){_0x3754c4=_0x3d3db5;},this['setTransparentSort']=function(_0x52f7d9){_0x25cab9=_0x52f7d9;},this['getClearColor']=function(_0x3fdde9){return _0x3fdde9['copy'](_0x19d322['getClearColor']());},this['setClearColor']=function(){_0x19d322['setClearColor']['apply'](_0x19d322,arguments);},this['getClearAlpha']=function(){return _0x19d322['getClearAlpha']();},this['setClearAlpha']=function(){_0x19d322['setClearAlpha']['apply'](_0x19d322,arguments);},this['clear']=function(_0x53836a=!0x0,_0x3eb765=!0x0,_0x38ac7a=!0x0){let _0xb67154=0x0;if(_0x53836a){let _0x46fcdd=!0x1;if(null!==_0x13e8f2){const _0x123a11=_0x13e8f2['texture']['format'];_0x46fcdd=_0x123a11===_0x42bc67['c90']||_0x123a11===_0x42bc67['TkQ']||_0x123a11===_0x42bc67['ZQM'];}if(_0x46fcdd){const _0x39b2c0=_0x13e8f2['texture']['type'],_0x49f57a=_0x39b2c0===_0x42bc67['OUM']||_0x39b2c0===_0x42bc67['bkx']||_0x39b2c0===_0x42bc67['cHt']||_0x39b2c0===_0x42bc67['V3x']||_0x39b2c0===_0x42bc67['Wew']||_0x39b2c0===_0x42bc67['gJ2'],_0x237052=_0x19d322['getClearColor'](),_0x2a4f32=_0x19d322['getClearAlpha'](),_0x2c654=_0x237052['r'],_0x57e07e=_0x237052['g'],_0x228c0b=_0x237052['b'];_0x49f57a?(_0x5e065e[0x0]=_0x2c654,_0x5e065e[0x1]=_0x57e07e,_0x5e065e[0x2]=_0x228c0b,_0x5e065e[0x3]=_0x2a4f32,_0x260515['clearBufferuiv'](_0x260515['COLOR'],0x0,_0x5e065e)):(_0x2b5748[0x0]=_0x2c654,_0x2b5748[0x1]=_0x57e07e,_0x2b5748[0x2]=_0x228c0b,_0x2b5748[0x3]=_0x2a4f32,_0x260515['clearBufferiv'](_0x260515['COLOR'],0x0,_0x2b5748));}else _0xb67154|=_0x260515['COLOR_BUFFER_BIT'];}_0x3eb765&&(_0xb67154|=_0x260515['DEPTH_BUFFER_BIT']),_0x38ac7a&&(_0xb67154|=_0x260515['STENCIL_BUFFER_BIT'],this['state']['buffers']['stencil']['setMask'](0xffffffff)),_0x260515['clear'](_0xb67154);},this['clearColor']=function(){this['clear'](!0x0,!0x1,!0x1);},this['clearDepth']=function(){this['clear'](!0x1,!0x0,!0x1);},this['clearStencil']=function(){this['clear'](!0x1,!0x1,!0x0);},this['dispose']=function(){_0x2def78['removeEventListener']('webglcontextlost',_0x337e45,!0x1),_0x2def78['removeEventListener']('webglcontextrestored',_0x282a0d,!0x1),_0x2def78['removeEventListener']('webglcontextcreationerror',_0x4619a2,!0x1),_0x19d322['dispose'](),_0xb0044d['dispose'](),_0x4074e0['dispose'](),_0x1b9e50['dispose'](),_0x3580d7['dispose'](),_0x3cdfb4['dispose'](),_0x3feb10['dispose'](),_0x43b38e['dispose'](),_0x5d2167['dispose'](),_0x1fd48b['dispose'](),_0x13cb4c['dispose'](),_0x13cb4c['removeEventListener']('sessionstart',_0x2afea0),_0x13cb4c['removeEventListener']('sessionend',_0x366dae),_0x5bb560['stop']();},this['renderBufferDirect']=function(_0x1c4729,_0x3f664c,_0x14567c,_0x105062,_0x17b76b,_0x51716d){null===_0x3f664c&&(_0x3f664c=_0x267bf5);const _0x1e9b91=_0x17b76b['isMesh']&&_0x17b76b['matrixWorld']['determinant']()<0x0,_0x4a5c4d=function(_0x19e32a,_0x570242,_0x4e2acd,_0x5e2817,_0x3fd97a){!0x0!==_0x570242['isScene']&&(_0x570242=_0x267bf5),_0x56d234['resetTextureUnits']();const _0x3105cb=_0x570242['fog'],_0x25333d=_0x5e2817['isMeshStandardMaterial']?_0x570242['environment']:null,_0x36e33c=null===_0x13e8f2?_0xe4f9d9['outputColorSpace']:!0x0===_0x13e8f2['isXRRenderTarget']?_0x13e8f2['texture']['colorSpace']:_0x42bc67['Zr2'],_0x2eb2d2=(_0x5e2817['isMeshStandardMaterial']?_0x3cdfb4:_0x3580d7)['get'](_0x5e2817['envMap']||_0x25333d),_0x181efb=!0x0===_0x5e2817['vertexColors']&&!!_0x4e2acd['attributes']['color']&&0x4===_0x4e2acd['attributes']['color']['itemSize'],_0x2c93df=!!_0x4e2acd['attributes']['tangent']&&(!!_0x5e2817['normalMap']||_0x5e2817['anisotropy']>0x0),_0x277b0f=!!_0x4e2acd['morphAttributes']['position'],_0x57b763=!!_0x4e2acd['morphAttributes']['normal'],_0x5ea9a1=!!_0x4e2acd['morphAttributes']['color'];let _0x30a32a=_0x42bc67['y_p'];_0x5e2817['toneMapped']&&(null!==_0x13e8f2&&!0x0!==_0x13e8f2['isXRRenderTarget']||(_0x30a32a=_0xe4f9d9['toneMapping']));const _0x44688e=_0x4e2acd['morphAttributes']['position']||_0x4e2acd['morphAttributes']['normal']||_0x4e2acd['morphAttributes']['color'],_0x1f2ebf=void 0x0!==_0x44688e?_0x44688e['length']:0x0,_0x1e5ef3=_0x1b9e50['get'](_0x5e2817),_0x4a6353=_0x5e646c['state']['lights'];if(!0x0===_0x3316c2&&(!0x0===_0x1d7a2c||_0x19e32a!==_0x1c095d)){const _0x3f09d1=_0x19e32a===_0x1c095d&&_0x5e2817['id']===_0x1988c0;_0x3397bb['setState'](_0x5e2817,_0x19e32a,_0x3f09d1);}let _0x4616bf=!0x1;_0x5e2817['version']===_0x1e5ef3['__version']?_0x1e5ef3['needsLights']&&_0x1e5ef3['lightsStateVersion']!==_0x4a6353['state']['version']||_0x1e5ef3['outputColorSpace']!==_0x36e33c||_0x3fd97a['isBatchedMesh']&&!0x1===_0x1e5ef3['batching']?_0x4616bf=!0x0:_0x3fd97a['isBatchedMesh']||!0x0!==_0x1e5ef3['batching']?_0x3fd97a['isBatchedMesh']&&!0x0===_0x1e5ef3['batchingColor']&&null===_0x3fd97a['colorTexture']||_0x3fd97a['isBatchedMesh']&&!0x1===_0x1e5ef3['batchingColor']&&null!==_0x3fd97a['colorTexture']||_0x3fd97a['isInstancedMesh']&&!0x1===_0x1e5ef3['instancing']?_0x4616bf=!0x0:_0x3fd97a['isInstancedMesh']||!0x0!==_0x1e5ef3['instancing']?_0x3fd97a['isSkinnedMesh']&&!0x1===_0x1e5ef3['skinning']?_0x4616bf=!0x0:_0x3fd97a['isSkinnedMesh']||!0x0!==_0x1e5ef3['skinning']?_0x3fd97a['isInstancedMesh']&&!0x0===_0x1e5ef3['instancingColor']&&null===_0x3fd97a['instanceColor']||_0x3fd97a['isInstancedMesh']&&!0x1===_0x1e5ef3['instancingColor']&&null!==_0x3fd97a['instanceColor']||_0x3fd97a['isInstancedMesh']&&!0x0===_0x1e5ef3['instancingMorph']&&null===_0x3fd97a['morphTexture']||_0x3fd97a['isInstancedMesh']&&!0x1===_0x1e5ef3['instancingMorph']&&null!==_0x3fd97a['morphTexture']||_0x1e5ef3['envMap']!==_0x2eb2d2||!0x0===_0x5e2817['fog']&&_0x1e5ef3['fog']!==_0x3105cb?_0x4616bf=!0x0:void 0x0===_0x1e5ef3['numClippingPlanes']||_0x1e5ef3['numClippingPlanes']===_0x3397bb['numPlanes']&&_0x1e5ef3['numIntersection']===_0x3397bb['numIntersection']?(_0x1e5ef3['vertexAlphas']!==_0x181efb||_0x1e5ef3['vertexTangents']!==_0x2c93df||_0x1e5ef3['morphTargets']!==_0x277b0f||_0x1e5ef3['morphNormals']!==_0x57b763||_0x1e5ef3['morphColors']!==_0x5ea9a1||_0x1e5ef3['toneMapping']!==_0x30a32a||_0x1e5ef3['morphTargetsCount']!==_0x1f2ebf)&&(_0x4616bf=!0x0):_0x4616bf=!0x0:_0x4616bf=!0x0:_0x4616bf=!0x0:_0x4616bf=!0x0:(_0x4616bf=!0x0,_0x1e5ef3['__version']=_0x5e2817['version']);let _0x2e560f=_0x1e5ef3['currentProgram'];!0x0===_0x4616bf&&(_0x2e560f=_0x2fed9a(_0x5e2817,_0x570242,_0x3fd97a));let _0x2ec9db=!0x1,_0x152b75=!0x1,_0x45e636=!0x1;const _0x308337=_0x2e560f['getUniforms'](),_0x3599cb=_0x1e5ef3['uniforms'];_0x1e9b14['useProgram'](_0x2e560f['program'])&&(_0x2ec9db=!0x0,_0x152b75=!0x0,_0x45e636=!0x0),_0x5e2817['id']!==_0x1988c0&&(_0x1988c0=_0x5e2817['id'],_0x152b75=!0x0);if(_0x2ec9db||_0x1c095d!==_0x19e32a){_0x1e9b14['buffers']['depth']['getReversed']()?(_0x11dd0e['copy'](_0x19e32a['projectionMatrix']),(0x0,_0x42bc67['xiE'])(_0x11dd0e),(0x0,_0x42bc67['Mmk'])(_0x11dd0e),_0x308337['setValue'](_0x260515,'projectionMatrix',_0x11dd0e)):_0x308337['setValue'](_0x260515,'projectionMatrix',_0x19e32a['projectionMatrix']),_0x308337['setValue'](_0x260515,'viewMatrix',_0x19e32a['matrixWorldInverse']);const _0x38d00e=_0x308337['map']['cameraPosition'];void 0x0!==_0x38d00e&&_0x38d00e['setValue'](_0x260515,_0x2a44f0['setFromMatrixPosition'](_0x19e32a['matrixWorld'])),_0x5636a7['logarithmicDepthBuffer']&&_0x308337['setValue'](_0x260515,'logDepthBufFC',0x2/(Math['log'](_0x19e32a['far']+0x1)/Math['LN2'])),(_0x5e2817['isMeshPhongMaterial']||_0x5e2817['isMeshToonMaterial']||_0x5e2817['isMeshLambertMaterial']||_0x5e2817['isMeshBasicMaterial']||_0x5e2817['isMeshStandardMaterial']||_0x5e2817['isShaderMaterial'])&&_0x308337['setValue'](_0x260515,'isOrthographic',!0x0===_0x19e32a['isOrthographicCamera']),_0x1c095d!==_0x19e32a&&(_0x1c095d=_0x19e32a,_0x152b75=!0x0,_0x45e636=!0x0);}if(_0x3fd97a['isSkinnedMesh']){_0x308337['setOptional'](_0x260515,_0x3fd97a,'bindMatrix'),_0x308337['setOptional'](_0x260515,_0x3fd97a,'bindMatrixInverse');const _0x471205=_0x3fd97a['skeleton'];_0x471205&&(null===_0x471205['boneTexture']&&_0x471205['computeBoneTexture'](),_0x308337['setValue'](_0x260515,'boneTexture',_0x471205['boneTexture'],_0x56d234));}_0x3fd97a['isBatchedMesh']&&(_0x308337['setOptional'](_0x260515,_0x3fd97a,'batchingTexture'),_0x308337['setValue'](_0x260515,'batchingTexture',_0x3fd97a['_matricesTexture'],_0x56d234),_0x308337['setOptional'](_0x260515,_0x3fd97a,'batchingIdTexture'),_0x308337['setValue'](_0x260515,'batchingIdTexture',_0x3fd97a['_indirectTexture'],_0x56d234),_0x308337['setOptional'](_0x260515,_0x3fd97a,'batchingColorTexture'),null!==_0x3fd97a['_colorsTexture']&&_0x308337['setValue'](_0x260515,'batchingColorTexture',_0x3fd97a['_colorsTexture'],_0x56d234));const _0x4991cb=_0x4e2acd['morphAttributes'];void 0x0===_0x4991cb['position']&&void 0x0===_0x4991cb['normal']&&void 0x0===_0x4991cb['color']||_0x184e9e['update'](_0x3fd97a,_0x4e2acd,_0x2e560f),(_0x152b75||_0x1e5ef3['receiveShadow']!==_0x3fd97a['receiveShadow'])&&(_0x1e5ef3['receiveShadow']=_0x3fd97a['receiveShadow'],_0x308337['setValue'](_0x260515,'receiveShadow',_0x3fd97a['receiveShadow'])),_0x5e2817['isMeshGouraudMaterial']&&null!==_0x5e2817['envMap']&&(_0x3599cb['envMap']['value']=_0x2eb2d2,_0x3599cb['flipEnvMap']['value']=_0x2eb2d2['isCubeTexture']&&!0x1===_0x2eb2d2['isRenderTargetTexture']?-0x1:0x1),_0x5e2817['isMeshStandardMaterial']&&null===_0x5e2817['envMap']&&null!==_0x570242['environment']&&(_0x3599cb['envMapIntensity']['value']=_0x570242['environmentIntensity']),_0x152b75&&(_0x308337['setValue'](_0x260515,'toneMappingExposure',_0xe4f9d9['toneMappingExposure']),_0x1e5ef3['needsLights']&&(_0x481538=_0x45e636,(_0x4eba90=_0x3599cb)['ambientLightColor']['needsUpdate']=_0x481538,_0x4eba90['lightProbe']['needsUpdate']=_0x481538,_0x4eba90['directionalLights']['needsUpdate']=_0x481538,_0x4eba90['directionalLightShadows']['needsUpdate']=_0x481538,_0x4eba90['pointLights']['needsUpdate']=_0x481538,_0x4eba90['pointLightShadows']['needsUpdate']=_0x481538,_0x4eba90['spotLights']['needsUpdate']=_0x481538,_0x4eba90['spotLightShadows']['needsUpdate']=_0x481538,_0x4eba90['rectAreaLights']['needsUpdate']=_0x481538,_0x4eba90['hemisphereLights']['needsUpdate']=_0x481538),_0x3105cb&&!0x0===_0x5e2817['fog']&&_0x10c155['refreshFogUniforms'](_0x3599cb,_0x3105cb),_0x10c155['refreshMaterialUniforms'](_0x3599cb,_0x5e2817,_0x4cf03c,_0x3c0b80,_0x5e646c['state']['transmissionRenderTarget'][_0x19e32a['id']]),_0x57a3f5['upload'](_0x260515,_0x67fe7e(_0x1e5ef3),_0x3599cb,_0x56d234));var _0x4eba90,_0x481538;_0x5e2817['isShaderMaterial']&&!0x0===_0x5e2817['uniformsNeedUpdate']&&(_0x57a3f5['upload'](_0x260515,_0x67fe7e(_0x1e5ef3),_0x3599cb,_0x56d234),_0x5e2817['uniformsNeedUpdate']=!0x1),_0x5e2817['isSpriteMaterial']&&_0x308337['setValue'](_0x260515,'center',_0x3fd97a['center']);if(_0x308337['setValue'](_0x260515,'modelViewMatrix',_0x3fd97a['modelViewMatrix']),_0x308337['setValue'](_0x260515,'normalMatrix',_0x3fd97a['normalMatrix']),_0x308337['setValue'](_0x260515,'modelMatrix',_0x3fd97a['matrixWorld']),_0x5e2817['isShaderMaterial']||_0x5e2817['isRawShaderMaterial']){const _0x121b3d=_0x5e2817['uniformsGroups'];for(let _0x255375=0x0,_0x40dddc=_0x121b3d['length'];_0x255375<_0x40dddc;_0x255375++){const _0x5971b2=_0x121b3d[_0x255375];_0x5d2167['update'](_0x5971b2,_0x2e560f),_0x5d2167['bind'](_0x5971b2,_0x2e560f);}}return _0x2e560f;}(_0x1c4729,_0x3f664c,_0x14567c,_0x105062,_0x17b76b);_0x1e9b14['setMaterial'](_0x105062,_0x1e9b91);let _0x2773dd=_0x14567c['index'],_0x36088f=0x1;if(!0x0===_0x105062['wireframe']){if(_0x2773dd=_0x191140['getWireframeAttribute'](_0x14567c),void 0x0===_0x2773dd)return;_0x36088f=0x2;}const _0x98ddd4=_0x14567c['drawRange'],_0x5746f4=_0x14567c['attributes']['position'];let _0x2af183=_0x98ddd4['start']*_0x36088f,_0x379a1c=(_0x98ddd4['start']+_0x98ddd4['count'])*_0x36088f;null!==_0x51716d&&(_0x2af183=Math['max'](_0x2af183,_0x51716d['start']*_0x36088f),_0x379a1c=Math['min'](_0x379a1c,(_0x51716d['start']+_0x51716d['count'])*_0x36088f)),null!==_0x2773dd?(_0x2af183=Math['max'](_0x2af183,0x0),_0x379a1c=Math['min'](_0x379a1c,_0x2773dd['count'])):null!=_0x5746f4&&(_0x2af183=Math['max'](_0x2af183,0x0),_0x379a1c=Math['min'](_0x379a1c,_0x5746f4['count']));const _0xa042b0=_0x379a1c-_0x2af183;if(_0xa042b0<0x0||_0xa042b0===0x1/0x0)return;let _0x47f362;_0x43b38e['setup'](_0x17b76b,_0x105062,_0x4a5c4d,_0x14567c,_0x2773dd);let _0x14d11c=_0x417c09;if(null!==_0x2773dd&&(_0x47f362=_0x3070d9['get'](_0x2773dd),_0x14d11c=_0x2d8481,_0x14d11c['setIndex'](_0x47f362)),_0x17b76b['isMesh'])!0x0===_0x105062['wireframe']?(_0x1e9b14['setLineWidth'](_0x105062['wireframeLinewidth']*_0x1a5ea9()),_0x14d11c['setMode'](_0x260515['LINES'])):_0x14d11c['setMode'](_0x260515['TRIANGLES']);else{if(_0x17b76b['isLine']){let _0x286894=_0x105062['linewidth'];void 0x0===_0x286894&&(_0x286894=0x1),_0x1e9b14['setLineWidth'](_0x286894*_0x1a5ea9()),_0x17b76b['isLineSegments']?_0x14d11c['setMode'](_0x260515['LINES']):_0x17b76b['isLineLoop']?_0x14d11c['setMode'](_0x260515['LINE_LOOP']):_0x14d11c['setMode'](_0x260515['LINE_STRIP']);}else _0x17b76b['isPoints']?_0x14d11c['setMode'](_0x260515['POINTS']):_0x17b76b['isSprite']&&_0x14d11c['setMode'](_0x260515['TRIANGLES']);}if(_0x17b76b['isBatchedMesh']){if(null!==_0x17b76b['_multiDrawInstances'])_0x14d11c['renderMultiDrawInstances'](_0x17b76b['_multiDrawStarts'],_0x17b76b['_multiDrawCounts'],_0x17b76b['_multiDrawCount'],_0x17b76b['_multiDrawInstances']);else{if(_0xc0ff51['get']('WEBGL_multi_draw'))_0x14d11c['renderMultiDraw'](_0x17b76b['_multiDrawStarts'],_0x17b76b['_multiDrawCounts'],_0x17b76b['_multiDrawCount']);else{const _0x17e457=_0x17b76b['_multiDrawStarts'],_0x22756f=_0x17b76b['_multiDrawCounts'],_0x17bd4d=_0x17b76b['_multiDrawCount'],_0x26f094=_0x2773dd?_0x3070d9['get'](_0x2773dd)['bytesPerElement']:0x1,_0x533619=_0x1b9e50['get'](_0x105062)['currentProgram']['getUniforms']();for(let _0x330aa0=0x0;_0x330aa0<_0x17bd4d;_0x330aa0++)_0x533619['setValue'](_0x260515,'_gl_DrawID',_0x330aa0),_0x14d11c['render'](_0x17e457[_0x330aa0]/_0x26f094,_0x22756f[_0x330aa0]);}}}else{if(_0x17b76b['isInstancedMesh'])_0x14d11c['renderInstances'](_0x2af183,_0xa042b0,_0x17b76b['count']);else{if(_0x14567c['isInstancedBufferGeometry']){const _0x7c0750=void 0x0!==_0x14567c['_maxInstanceCount']?_0x14567c['_maxInstanceCount']:0x1/0x0,_0x114200=Math['min'](_0x14567c['instanceCount'],_0x7c0750);_0x14d11c['renderInstances'](_0x2af183,_0xa042b0,_0x114200);}else _0x14d11c['render'](_0x2af183,_0xa042b0);}}},this['compile']=function(_0x309de5,_0x5185e0,_0x3ecf72=null){null===_0x3ecf72&&(_0x3ecf72=_0x309de5),_0x5e646c=_0x4074e0['get'](_0x3ecf72),_0x5e646c['init'](_0x5185e0),_0x30add6['push'](_0x5e646c),_0x3ecf72['traverseVisible'](function(_0x2865b7){_0x2865b7['isLight']&&_0x2865b7['layers']['test'](_0x5185e0['layers'])&&(_0x5e646c['pushLight'](_0x2865b7),_0x2865b7['castShadow']&&_0x5e646c['pushShadow'](_0x2865b7));}),_0x309de5!==_0x3ecf72&&_0x309de5['traverseVisible'](function(_0x5abdbf){_0x5abdbf['isLight']&&_0x5abdbf['layers']['test'](_0x5185e0['layers'])&&(_0x5e646c['pushLight'](_0x5abdbf),_0x5abdbf['castShadow']&&_0x5e646c['pushShadow'](_0x5abdbf));}),_0x5e646c['setupLights']();const _0xe5fa4c=new Set();return _0x309de5['traverse'](function(_0x1748ae){if(!(_0x1748ae['isMesh']||_0x1748ae['isPoints']||_0x1748ae['isLine']||_0x1748ae['isSprite']))return;const _0x579346=_0x1748ae['material'];if(_0x579346){if(Array['isArray'](_0x579346))for(let _0x24383d=0x0;_0x24383d<_0x579346['length'];_0x24383d++){const _0x4b0660=_0x579346[_0x24383d];_0x49dece(_0x4b0660,_0x3ecf72,_0x1748ae),_0xe5fa4c['add'](_0x4b0660);}else _0x49dece(_0x579346,_0x3ecf72,_0x1748ae),_0xe5fa4c['add'](_0x579346);}}),_0x30add6['pop'](),_0x5e646c=null,_0xe5fa4c;},this['compileAsync']=function(_0x278699,_0x247ffe,_0x382877=null){const _0x47d5d6=this['compile'](_0x278699,_0x247ffe,_0x382877);return new Promise(_0x107210=>{function _0x3c06e8(){_0x47d5d6['forEach'](function(_0x3e0656){_0x1b9e50['get'](_0x3e0656)['currentProgram']['isReady']()&&_0x47d5d6['delete'](_0x3e0656);}),0x0!==_0x47d5d6['size']?setTimeout(_0x3c06e8,0xa):_0x107210(_0x278699);}null!==_0xc0ff51['get']('KHR_parallel_shader_compile')?_0x3c06e8():setTimeout(_0x3c06e8,0xa);});};let _0x40edec=null;function _0x2afea0(){_0x5bb560['stop']();}function _0x366dae(){_0x5bb560['start']();}const _0x5bb560=new _0x5b234e();function _0x2c2e4a(_0x4fb631,_0x5e82ec,_0x5cc5f3,_0x9ae44){if(!0x1===_0x4fb631['visible'])return;if(_0x4fb631['layers']['test'](_0x5e82ec['layers'])){if(_0x4fb631['isGroup'])_0x5cc5f3=_0x4fb631['renderOrder'];else{if(_0x4fb631['isLOD'])!0x0===_0x4fb631['autoUpdate']&&_0x4fb631['update'](_0x5e82ec);else{if(_0x4fb631['isLight'])_0x5e646c['pushLight'](_0x4fb631),_0x4fb631['castShadow']&&_0x5e646c['pushShadow'](_0x4fb631);else{if(_0x4fb631['isSprite']){if(!_0x4fb631['frustumCulled']||_0x3ff950['intersectsSprite'](_0x4fb631)){_0x9ae44&&_0xac29af['setFromMatrixPosition'](_0x4fb631['matrixWorld'])['applyMatrix4'](_0x5d7448);const _0x20d1b2=_0x3feb10['update'](_0x4fb631),_0x3b76b9=_0x4fb631['material'];_0x3b76b9['visible']&&_0x5d68cc['push'](_0x4fb631,_0x20d1b2,_0x3b76b9,_0x5cc5f3,_0xac29af['z'],null);}}else{if((_0x4fb631['isMesh']||_0x4fb631['isLine']||_0x4fb631['isPoints'])&&(!_0x4fb631['frustumCulled']||_0x3ff950['intersectsObject'](_0x4fb631))){const _0x32e1b0=_0x3feb10['update'](_0x4fb631),_0x44e903=_0x4fb631['material'];if(_0x9ae44&&(void 0x0!==_0x4fb631['boundingSphere']?(null===_0x4fb631['boundingSphere']&&_0x4fb631['computeBoundingSphere'](),_0xac29af['copy'](_0x4fb631['boundingSphere']['center'])):(null===_0x32e1b0['boundingSphere']&&_0x32e1b0['computeBoundingSphere'](),_0xac29af['copy'](_0x32e1b0['boundingSphere']['center'])),_0xac29af['applyMatrix4'](_0x4fb631['matrixWorld'])['applyMatrix4'](_0x5d7448)),Array['isArray'](_0x44e903)){const _0x333f2f=_0x32e1b0['groups'];for(let _0x5b76b5=0x0,_0xd23a05=_0x333f2f['length'];_0x5b76b5<_0xd23a05;_0x5b76b5++){const _0x7d8b50=_0x333f2f[_0x5b76b5],_0x2eaab6=_0x44e903[_0x7d8b50['materialIndex']];_0x2eaab6&&_0x2eaab6['visible']&&_0x5d68cc['push'](_0x4fb631,_0x32e1b0,_0x2eaab6,_0x5cc5f3,_0xac29af['z'],_0x7d8b50);}}else _0x44e903['visible']&&_0x5d68cc['push'](_0x4fb631,_0x32e1b0,_0x44e903,_0x5cc5f3,_0xac29af['z'],null);}}}}}}const _0x15870d=_0x4fb631['children'];for(let _0x4129c2=0x0,_0xbfaac3=_0x15870d['length'];_0x4129c2<_0xbfaac3;_0x4129c2++)_0x2c2e4a(_0x15870d[_0x4129c2],_0x5e82ec,_0x5cc5f3,_0x9ae44);}function _0x3c5907(_0x47ec54,_0x763d5b,_0x50bf06,_0x40a890){const _0x2e841b=_0x47ec54['opaque'],_0x11b21e=_0x47ec54['transmissive'],_0x701d8b=_0x47ec54['transparent'];_0x5e646c['setupLightsView'](_0x50bf06),!0x0===_0x3316c2&&_0x3397bb['setGlobalState'](_0xe4f9d9['clippingPlanes'],_0x50bf06),_0x40a890&&_0x1e9b14['viewport'](_0x140805['copy'](_0x40a890)),_0x2e841b['length']>0x0&&_0x34e549(_0x2e841b,_0x763d5b,_0x50bf06),_0x11b21e['length']>0x0&&_0x34e549(_0x11b21e,_0x763d5b,_0x50bf06),_0x701d8b['length']>0x0&&_0x34e549(_0x701d8b,_0x763d5b,_0x50bf06),_0x1e9b14['buffers']['depth']['setTest'](!0x0),_0x1e9b14['buffers']['depth']['setMask'](!0x0),_0x1e9b14['buffers']['color']['setMask'](!0x0),_0x1e9b14['setPolygonOffset'](!0x1);}function _0x33141d(_0x3801bb,_0x48856f,_0x40d1dd,_0x19266c){if(null!==(!0x0===_0x40d1dd['isScene']?_0x40d1dd['overrideMaterial']:null))return;void 0x0===_0x5e646c['state']['transmissionRenderTarget'][_0x19266c['id']]&&(_0x5e646c['state']['transmissionRenderTarget'][_0x19266c['id']]=new _0x42bc67['nWS'](0x1,0x1,{'generateMipmaps':!0x0,'type':_0xc0ff51['has']('EXT_color_buffer_half_float')||_0xc0ff51['has']('EXT_color_buffer_float')?_0x42bc67['ix0']:_0x42bc67['OUM'],'minFilter':_0x42bc67['$_I'],'samples':0x4,'stencilBuffer':_0x2d6102,'resolveDepthBuffer':!0x1,'resolveStencilBuffer':!0x1,'colorSpace':_0x42bc67['ppV']['workingColorSpace']}));const _0x164583=_0x5e646c['state']['transmissionRenderTarget'][_0x19266c['id']],_0x2f86b9=_0x19266c['viewport']||_0x140805;_0x164583['setSize'](_0x2f86b9['z']*_0xe4f9d9['transmissionResolutionScale'],_0x2f86b9['w']*_0xe4f9d9['transmissionResolutionScale']);const _0x378f4d=_0xe4f9d9['getRenderTarget']();_0xe4f9d9['setRenderTarget'](_0x164583),_0xe4f9d9['getClearColor'](_0x11034e),_0x4c1fb=_0xe4f9d9['getClearAlpha'](),_0x4c1fb<0x1&&_0xe4f9d9['setClearColor'](0xffffff,0.5),_0xe4f9d9['clear'](),_0x55d26f&&_0x19d322['render'](_0x40d1dd);const _0x4cc3df=_0xe4f9d9['toneMapping'];_0xe4f9d9['toneMapping']=_0x42bc67['y_p'];const _0x23f9e0=_0x19266c['viewport'];if(void 0x0!==_0x19266c['viewport']&&(_0x19266c['viewport']=void 0x0),_0x5e646c['setupLightsView'](_0x19266c),!0x0===_0x3316c2&&_0x3397bb['setGlobalState'](_0xe4f9d9['clippingPlanes'],_0x19266c),_0x34e549(_0x3801bb,_0x40d1dd,_0x19266c),_0x56d234['updateMultisampleRenderTarget'](_0x164583),_0x56d234['updateRenderTargetMipmap'](_0x164583),!0x1===_0xc0ff51['has']('WEBGL_multisampled_render_to_texture')){let _0x2a6001=!0x1;for(let _0x59b907=0x0,_0x121808=_0x48856f['length'];_0x59b907<_0x121808;_0x59b907++){const _0x5a6a65=_0x48856f[_0x59b907],_0x1a4f32=_0x5a6a65['object'],_0x4bbcda=_0x5a6a65['geometry'],_0x3227dc=_0x5a6a65['material'],_0x1142de=_0x5a6a65['group'];if(_0x3227dc['side']===_0x42bc67['$EB']&&_0x1a4f32['layers']['test'](_0x19266c['layers'])){const _0x2d3bdf=_0x3227dc['side'];_0x3227dc['side']=_0x42bc67['hsX'],_0x3227dc['needsUpdate']=!0x0,_0x208622(_0x1a4f32,_0x40d1dd,_0x19266c,_0x4bbcda,_0x3227dc,_0x1142de),_0x3227dc['side']=_0x2d3bdf,_0x3227dc['needsUpdate']=!0x0,_0x2a6001=!0x0;}}!0x0===_0x2a6001&&(_0x56d234['updateMultisampleRenderTarget'](_0x164583),_0x56d234['updateRenderTargetMipmap'](_0x164583));}_0xe4f9d9['setRenderTarget'](_0x378f4d),_0xe4f9d9['setClearColor'](_0x11034e,_0x4c1fb),void 0x0!==_0x23f9e0&&(_0x19266c['viewport']=_0x23f9e0),_0xe4f9d9['toneMapping']=_0x4cc3df;}function _0x34e549(_0x45f365,_0x53a941,_0xee5240){const _0x296dd6=!0x0===_0x53a941['isScene']?_0x53a941['overrideMaterial']:null;for(let _0x418c5e=0x0,_0x584066=_0x45f365['length'];_0x418c5e<_0x584066;_0x418c5e++){const _0x48b58a=_0x45f365[_0x418c5e],_0x27398c=_0x48b58a['object'],_0x2e40b8=_0x48b58a['geometry'],_0x1f7394=null===_0x296dd6?_0x48b58a['material']:_0x296dd6,_0x1ef171=_0x48b58a['group'];_0x27398c['layers']['test'](_0xee5240['layers'])&&_0x208622(_0x27398c,_0x53a941,_0xee5240,_0x2e40b8,_0x1f7394,_0x1ef171);}}function _0x208622(_0x3a60c3,_0x3f7301,_0x5d09c7,_0x2b6800,_0x4a7933,_0x45aa9c){_0x3a60c3['onBeforeRender'](_0xe4f9d9,_0x3f7301,_0x5d09c7,_0x2b6800,_0x4a7933,_0x45aa9c),_0x3a60c3['modelViewMatrix']['multiplyMatrices'](_0x5d09c7['matrixWorldInverse'],_0x3a60c3['matrixWorld']),_0x3a60c3['normalMatrix']['getNormalMatrix'](_0x3a60c3['modelViewMatrix']),_0x4a7933['onBeforeRender'](_0xe4f9d9,_0x3f7301,_0x5d09c7,_0x2b6800,_0x3a60c3,_0x45aa9c),!0x0===_0x4a7933['transparent']&&_0x4a7933['side']===_0x42bc67['$EB']&&!0x1===_0x4a7933['forceSinglePass']?(_0x4a7933['side']=_0x42bc67['hsX'],_0x4a7933['needsUpdate']=!0x0,_0xe4f9d9['renderBufferDirect'](_0x5d09c7,_0x3f7301,_0x2b6800,_0x4a7933,_0x3a60c3,_0x45aa9c),_0x4a7933['side']=_0x42bc67['hB5'],_0x4a7933['needsUpdate']=!0x0,_0xe4f9d9['renderBufferDirect'](_0x5d09c7,_0x3f7301,_0x2b6800,_0x4a7933,_0x3a60c3,_0x45aa9c),_0x4a7933['side']=_0x42bc67['$EB']):_0xe4f9d9['renderBufferDirect'](_0x5d09c7,_0x3f7301,_0x2b6800,_0x4a7933,_0x3a60c3,_0x45aa9c),_0x3a60c3['onAfterRender'](_0xe4f9d9,_0x3f7301,_0x5d09c7,_0x2b6800,_0x4a7933,_0x45aa9c);}function _0x2fed9a(_0x34c136,_0x735e4d,_0xcc419){!0x0!==_0x735e4d['isScene']&&(_0x735e4d=_0x267bf5);const _0x1af640=_0x1b9e50['get'](_0x34c136),_0x33b703=_0x5e646c['state']['lights'],_0x2b5655=_0x5e646c['state']['shadowsArray'],_0x2c396c=_0x33b703['state']['version'],_0x322a3f=_0x1fd48b['getParameters'](_0x34c136,_0x33b703['state'],_0x2b5655,_0x735e4d,_0xcc419),_0x1e069e=_0x1fd48b['getProgramCacheKey'](_0x322a3f);let _0x484d1b=_0x1af640['programs'];_0x1af640['environment']=_0x34c136['isMeshStandardMaterial']?_0x735e4d['environment']:null,_0x1af640['fog']=_0x735e4d['fog'],_0x1af640['envMap']=(_0x34c136['isMeshStandardMaterial']?_0x3cdfb4:_0x3580d7)['get'](_0x34c136['envMap']||_0x1af640['environment']),_0x1af640['envMapRotation']=null!==_0x1af640['environment']&&null===_0x34c136['envMap']?_0x735e4d['environmentRotation']:_0x34c136['envMapRotation'],void 0x0===_0x484d1b&&(_0x34c136['addEventListener']('dispose',_0xf922a5),_0x484d1b=new Map(),_0x1af640['programs']=_0x484d1b);let _0x5b7325=_0x484d1b['get'](_0x1e069e);if(void 0x0!==_0x5b7325){if(_0x1af640['currentProgram']===_0x5b7325&&_0x1af640['lightsStateVersion']===_0x2c396c)return _0x18edaf(_0x34c136,_0x322a3f),_0x5b7325;}else _0x322a3f['uniforms']=_0x1fd48b['getUniforms'](_0x34c136),_0x34c136['onBeforeCompile'](_0x322a3f,_0xe4f9d9),_0x5b7325=_0x1fd48b['acquireProgram'](_0x322a3f,_0x1e069e),_0x484d1b['set'](_0x1e069e,_0x5b7325),_0x1af640['uniforms']=_0x322a3f['uniforms'];const _0x480d72=_0x1af640['uniforms'];return(_0x34c136['isShaderMaterial']||_0x34c136['isRawShaderMaterial'])&&!0x0!==_0x34c136['clipping']||(_0x480d72['clippingPlanes']=_0x3397bb['uniform']),_0x18edaf(_0x34c136,_0x322a3f),_0x1af640['needsLights']=function(_0x2d6037){return _0x2d6037['isMeshLambertMaterial']||_0x2d6037['isMeshToonMaterial']||_0x2d6037['isMeshPhongMaterial']||_0x2d6037['isMeshStandardMaterial']||_0x2d6037['isShadowMaterial']||_0x2d6037['isShaderMaterial']&&!0x0===_0x2d6037['lights'];}(_0x34c136),_0x1af640['lightsStateVersion']=_0x2c396c,_0x1af640['needsLights']&&(_0x480d72['ambientLightColor']['value']=_0x33b703['state']['ambient'],_0x480d72['lightProbe']['value']=_0x33b703['state']['probe'],_0x480d72['directionalLights']['value']=_0x33b703['state']['directional'],_0x480d72['directionalLightShadows']['value']=_0x33b703['state']['directionalShadow'],_0x480d72['spotLights']['value']=_0x33b703['state']['spot'],_0x480d72['spotLightShadows']['value']=_0x33b703['state']['spotShadow'],_0x480d72['rectAreaLights']['value']=_0x33b703['state']['rectArea'],_0x480d72['ltc_1']['value']=_0x33b703['state']['rectAreaLTC1'],_0x480d72['ltc_2']['value']=_0x33b703['state']['rectAreaLTC2'],_0x480d72['pointLights']['value']=_0x33b703['state']['point'],_0x480d72['pointLightShadows']['value']=_0x33b703['state']['pointShadow'],_0x480d72['hemisphereLights']['value']=_0x33b703['state']['hemi'],_0x480d72['directionalShadowMap']['value']=_0x33b703['state']['directionalShadowMap'],_0x480d72['directionalShadowMatrix']['value']=_0x33b703['state']['directionalShadowMatrix'],_0x480d72['spotShadowMap']['value']=_0x33b703['state']['spotShadowMap'],_0x480d72['spotLightMatrix']['value']=_0x33b703['state']['spotLightMatrix'],_0x480d72['spotLightMap']['value']=_0x33b703['state']['spotLightMap'],_0x480d72['pointShadowMap']['value']=_0x33b703['state']['pointShadowMap'],_0x480d72['pointShadowMatrix']['value']=_0x33b703['state']['pointShadowMatrix']),_0x1af640['currentProgram']=_0x5b7325,_0x1af640['uniformsList']=null,_0x5b7325;}function _0x67fe7e(_0x4a6c05){if(null===_0x4a6c05['uniformsList']){const _0x51e68a=_0x4a6c05['currentProgram']['getUniforms']();_0x4a6c05['uniformsList']=_0x57a3f5['seqWithValue'](_0x51e68a['seq'],_0x4a6c05['uniforms']);}return _0x4a6c05['uniformsList'];}function _0x18edaf(_0x33b42b,_0x408bd9){const _0x2be5a3=_0x1b9e50['get'](_0x33b42b);_0x2be5a3['outputColorSpace']=_0x408bd9['outputColorSpace'],_0x2be5a3['batching']=_0x408bd9['batching'],_0x2be5a3['batchingColor']=_0x408bd9['batchingColor'],_0x2be5a3['instancing']=_0x408bd9['instancing'],_0x2be5a3['instancingColor']=_0x408bd9['instancingColor'],_0x2be5a3['instancingMorph']=_0x408bd9['instancingMorph'],_0x2be5a3['skinning']=_0x408bd9['skinning'],_0x2be5a3['morphTargets']=_0x408bd9['morphTargets'],_0x2be5a3['morphNormals']=_0x408bd9['morphNormals'],_0x2be5a3['morphColors']=_0x408bd9['morphColors'],_0x2be5a3['morphTargetsCount']=_0x408bd9['morphTargetsCount'],_0x2be5a3['numClippingPlanes']=_0x408bd9['numClippingPlanes'],_0x2be5a3['numIntersection']=_0x408bd9['numClipIntersection'],_0x2be5a3['vertexAlphas']=_0x408bd9['vertexAlphas'],_0x2be5a3['vertexTangents']=_0x408bd9['vertexTangents'],_0x2be5a3['toneMapping']=_0x408bd9['toneMapping'];}_0x5bb560['setAnimationLoop'](function(_0x2d639d){_0x40edec&&_0x40edec(_0x2d639d);}),'undefined'!=typeof self&&_0x5bb560['setContext'](self),this['setAnimationLoop']=function(_0x14bd52){_0x40edec=_0x14bd52,_0x13cb4c['setAnimationLoop'](_0x14bd52),null===_0x14bd52?_0x5bb560['stop']():_0x5bb560['start']();},_0x13cb4c['addEventListener']('sessionstart',_0x2afea0),_0x13cb4c['addEventListener']('sessionend',_0x366dae),this['render']=function(_0x58e351,_0x5095d0){if(void 0x0!==_0x5095d0&&!0x0!==_0x5095d0['isCamera'])return void console['error']('THREE.WebGLRenderer.render:\x20camera\x20is\x20not\x20an\x20instance\x20of\x20THREE.Camera.');if(!0x0===_0x226eea)return;if(!0x0===_0x58e351['matrixWorldAutoUpdate']&&_0x58e351['updateMatrixWorld'](),null===_0x5095d0['parent']&&!0x0===_0x5095d0['matrixWorldAutoUpdate']&&_0x5095d0['updateMatrixWorld'](),!0x0===_0x13cb4c['enabled']&&!0x0===_0x13cb4c['isPresenting']&&(!0x0===_0x13cb4c['cameraAutoUpdate']&&_0x13cb4c['updateCamera'](_0x5095d0),_0x5095d0=_0x13cb4c['getCamera']()),!0x0===_0x58e351['isScene']&&_0x58e351['onBeforeRender'](_0xe4f9d9,_0x58e351,_0x5095d0,_0x13e8f2),_0x5e646c=_0x4074e0['get'](_0x58e351,_0x30add6['length']),_0x5e646c['init'](_0x5095d0),_0x30add6['push'](_0x5e646c),_0x5d7448['multiplyMatrices'](_0x5095d0['projectionMatrix'],_0x5095d0['matrixWorldInverse']),_0x3ff950['setFromProjectionMatrix'](_0x5d7448),_0x1d7a2c=this['localClippingEnabled'],_0x3316c2=_0x3397bb['init'](this['clippingPlanes'],_0x1d7a2c),_0x5d68cc=_0xb0044d['get'](_0x58e351,_0x11fd1e['length']),_0x5d68cc['init'](),_0x11fd1e['push'](_0x5d68cc),!0x0===_0x13cb4c['enabled']&&!0x0===_0x13cb4c['isPresenting']){const _0x513a5d=_0xe4f9d9['xr']['getDepthSensingMesh']();null!==_0x513a5d&&_0x2c2e4a(_0x513a5d,_0x5095d0,-0x1/0x0,_0xe4f9d9['sortObjects']);}_0x2c2e4a(_0x58e351,_0x5095d0,0x0,_0xe4f9d9['sortObjects']),_0x5d68cc['finish'](),!0x0===_0xe4f9d9['sortObjects']&&_0x5d68cc['sort'](_0x3754c4,_0x25cab9),_0x55d26f=!0x1===_0x13cb4c['enabled']||!0x1===_0x13cb4c['isPresenting']||!0x1===_0x13cb4c['hasDepthSensing'](),_0x55d26f&&_0x19d322['addToRenderList'](_0x5d68cc,_0x58e351),this['info']['render']['frame']++,!0x0===_0x3316c2&&_0x3397bb['beginShadows']();const _0x1b5f3b=_0x5e646c['state']['shadowsArray'];_0x4cb743['render'](_0x1b5f3b,_0x58e351,_0x5095d0),!0x0===_0x3316c2&&_0x3397bb['endShadows'](),!0x0===this['info']['autoReset']&&this['info']['reset']();const _0x24a621=_0x5d68cc['opaque'],_0x106d2d=_0x5d68cc['transmissive'];if(_0x5e646c['setupLights'](),_0x5095d0['isArrayCamera']){const _0x1d4a43=_0x5095d0['cameras'];if(_0x106d2d['length']>0x0)for(let _0x595dc1=0x0,_0xd7b9e5=_0x1d4a43['length'];_0x595dc1<_0xd7b9e5;_0x595dc1++){_0x33141d(_0x24a621,_0x106d2d,_0x58e351,_0x1d4a43[_0x595dc1]);}_0x55d26f&&_0x19d322['render'](_0x58e351);for(let _0x49a9c0=0x0,_0xe60341=_0x1d4a43['length'];_0x49a9c0<_0xe60341;_0x49a9c0++){const _0x1c6d2a=_0x1d4a43[_0x49a9c0];_0x3c5907(_0x5d68cc,_0x58e351,_0x1c6d2a,_0x1c6d2a['viewport']);}}else _0x106d2d['length']>0x0&&_0x33141d(_0x24a621,_0x106d2d,_0x58e351,_0x5095d0),_0x55d26f&&_0x19d322['render'](_0x58e351),_0x3c5907(_0x5d68cc,_0x58e351,_0x5095d0);null!==_0x13e8f2&&0x0===_0x5c6adf&&(_0x56d234['updateMultisampleRenderTarget'](_0x13e8f2),_0x56d234['updateRenderTargetMipmap'](_0x13e8f2)),!0x0===_0x58e351['isScene']&&_0x58e351['onAfterRender'](_0xe4f9d9,_0x58e351,_0x5095d0),_0x43b38e['resetDefaultState'](),_0x1988c0=-0x1,_0x1c095d=null,_0x30add6['pop'](),_0x30add6['length']>0x0?(_0x5e646c=_0x30add6[_0x30add6['length']-0x1],!0x0===_0x3316c2&&_0x3397bb['setGlobalState'](_0xe4f9d9['clippingPlanes'],_0x5e646c['state']['camera'])):_0x5e646c=null,_0x11fd1e['pop'](),_0x5d68cc=_0x11fd1e['length']>0x0?_0x11fd1e[_0x11fd1e['length']-0x1]:null;},this['getActiveCubeFace']=function(){return _0xa5f54c;},this['getActiveMipmapLevel']=function(){return _0x5c6adf;},this['getRenderTarget']=function(){return _0x13e8f2;},this['setRenderTargetTextures']=function(_0x3186f1,_0x59a0d4,_0x53bef1){_0x1b9e50['get'](_0x3186f1['texture'])['__webglTexture']=_0x59a0d4,_0x1b9e50['get'](_0x3186f1['depthTexture'])['__webglTexture']=_0x53bef1;const _0x3b448b=_0x1b9e50['get'](_0x3186f1);_0x3b448b['__hasExternalTextures']=!0x0,_0x3b448b['__autoAllocateDepthBuffer']=void 0x0===_0x53bef1,_0x3b448b['__autoAllocateDepthBuffer']||!0x0===_0xc0ff51['has']('WEBGL_multisampled_render_to_texture')&&(console['warn']('THREE.WebGLRenderer:\x20Render-to-texture\x20extension\x20was\x20disabled\x20because\x20an\x20external\x20texture\x20was\x20provided'),_0x3b448b['__useRenderToTexture']=!0x1);},this['setRenderTargetFramebuffer']=function(_0x1b755c,_0x582ed6){const _0x2e2c64=_0x1b9e50['get'](_0x1b755c);_0x2e2c64['__webglFramebuffer']=_0x582ed6,_0x2e2c64['__useDefaultFramebuffer']=void 0x0===_0x582ed6;};const _0x2e1ab4=_0x260515['createFramebuffer']();this['setRenderTarget']=function(_0x1019a3,_0x5cbf9f=0x0,_0x53dbbb=0x0){_0x13e8f2=_0x1019a3,_0xa5f54c=_0x5cbf9f,_0x5c6adf=_0x53dbbb;let _0x311f49=!0x0,_0x221bbe=null,_0x56cc1f=!0x1,_0x3069c2=!0x1;if(_0x1019a3){const _0x252208=_0x1b9e50['get'](_0x1019a3);if(void 0x0!==_0x252208['__useDefaultFramebuffer'])_0x1e9b14['bindFramebuffer'](_0x260515['FRAMEBUFFER'],null),_0x311f49=!0x1;else{if(void 0x0===_0x252208['__webglFramebuffer'])_0x56d234['setupRenderTarget'](_0x1019a3);else{if(_0x252208['__hasExternalTextures'])_0x56d234['rebindTextures'](_0x1019a3,_0x1b9e50['get'](_0x1019a3['texture'])['__webglTexture'],_0x1b9e50['get'](_0x1019a3['depthTexture'])['__webglTexture']);else{if(_0x1019a3['depthBuffer']){const _0x54a9c3=_0x1019a3['depthTexture'];if(_0x252208['__boundDepthTexture']!==_0x54a9c3){if(null!==_0x54a9c3&&_0x1b9e50['has'](_0x54a9c3)&&(_0x1019a3['width']!==_0x54a9c3['image']['width']||_0x1019a3['height']!==_0x54a9c3['image']['height']))throw new Error('WebGLRenderTarget:\x20Attached\x20DepthTexture\x20is\x20initialized\x20to\x20the\x20incorrect\x20size.');_0x56d234['setupDepthRenderbuffer'](_0x1019a3);}}}}}const _0x389886=_0x1019a3['texture'];(_0x389886['isData3DTexture']||_0x389886['isDataArrayTexture']||_0x389886['isCompressedArrayTexture'])&&(_0x3069c2=!0x0);const _0x2b1352=_0x1b9e50['get'](_0x1019a3)['__webglFramebuffer'];_0x1019a3['isWebGLCubeRenderTarget']?(_0x221bbe=Array['isArray'](_0x2b1352[_0x5cbf9f])?_0x2b1352[_0x5cbf9f][_0x53dbbb]:_0x2b1352[_0x5cbf9f],_0x56cc1f=!0x0):_0x221bbe=_0x1019a3['samples']>0x0&&!0x1===_0x56d234['useMultisampledRTT'](_0x1019a3)?_0x1b9e50['get'](_0x1019a3)['__webglMultisampledFramebuffer']:Array['isArray'](_0x2b1352)?_0x2b1352[_0x53dbbb]:_0x2b1352,_0x140805['copy'](_0x1019a3['viewport']),_0x27b0f6['copy'](_0x1019a3['scissor']),_0x293a9c=_0x1019a3['scissorTest'];}else _0x140805['copy'](_0x47af7e)['multiplyScalar'](_0x4cf03c)['floor'](),_0x27b0f6['copy'](_0xe7505b)['multiplyScalar'](_0x4cf03c)['floor'](),_0x293a9c=_0x10f697;0x0!==_0x53dbbb&&(_0x221bbe=_0x2e1ab4);if(_0x1e9b14['bindFramebuffer'](_0x260515['FRAMEBUFFER'],_0x221bbe)&&_0x311f49&&_0x1e9b14['drawBuffers'](_0x1019a3,_0x221bbe),_0x1e9b14['viewport'](_0x140805),_0x1e9b14['scissor'](_0x27b0f6),_0x1e9b14['setScissorTest'](_0x293a9c),_0x56cc1f){const _0x4184f0=_0x1b9e50['get'](_0x1019a3['texture']);_0x260515['framebufferTexture2D'](_0x260515['FRAMEBUFFER'],_0x260515['COLOR_ATTACHMENT0'],_0x260515['TEXTURE_CUBE_MAP_POSITIVE_X']+_0x5cbf9f,_0x4184f0['__webglTexture'],_0x53dbbb);}else{if(_0x3069c2){const _0x172611=_0x1b9e50['get'](_0x1019a3['texture']),_0x360cbf=_0x5cbf9f;_0x260515['framebufferTextureLayer'](_0x260515['FRAMEBUFFER'],_0x260515['COLOR_ATTACHMENT0'],_0x172611['__webglTexture'],_0x53dbbb,_0x360cbf);}else{if(null!==_0x1019a3&&0x0!==_0x53dbbb){const _0x3f1ac2=_0x1b9e50['get'](_0x1019a3['texture']);_0x260515['framebufferTexture2D'](_0x260515['FRAMEBUFFER'],_0x260515['COLOR_ATTACHMENT0'],_0x260515['TEXTURE_2D'],_0x3f1ac2['__webglTexture'],_0x53dbbb);}}}_0x1988c0=-0x1;},this['readRenderTargetPixels']=function(_0x3d6fea,_0x2f950e,_0x52e7a1,_0x1c0163,_0x137203,_0x234517,_0x27d7f1){if(!_0x3d6fea||!_0x3d6fea['isWebGLRenderTarget'])return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20THREE.WebGLRenderTarget.');let _0x118c1f=_0x1b9e50['get'](_0x3d6fea)['__webglFramebuffer'];if(_0x3d6fea['isWebGLCubeRenderTarget']&&void 0x0!==_0x27d7f1&&(_0x118c1f=_0x118c1f[_0x27d7f1]),_0x118c1f){_0x1e9b14['bindFramebuffer'](_0x260515['FRAMEBUFFER'],_0x118c1f);try{const _0xba2914=_0x3d6fea['texture'],_0x16ea4d=_0xba2914['format'],_0x4dc1a7=_0xba2914['type'];if(!_0x5636a7['textureFormatReadable'](_0x16ea4d))return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20in\x20RGBA\x20or\x20implementation\x20defined\x20format.');if(!_0x5636a7['textureTypeReadable'](_0x4dc1a7))return void console['error']('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20in\x20UnsignedByteType\x20or\x20implementation\x20defined\x20type.');_0x2f950e>=0x0&&_0x2f950e<=_0x3d6fea['width']-_0x1c0163&&_0x52e7a1>=0x0&&_0x52e7a1<=_0x3d6fea['height']-_0x137203&&_0x260515['readPixels'](_0x2f950e,_0x52e7a1,_0x1c0163,_0x137203,_0x594e31['convert'](_0x16ea4d),_0x594e31['convert'](_0x4dc1a7),_0x234517);}finally{const _0x301901=null!==_0x13e8f2?_0x1b9e50['get'](_0x13e8f2)['__webglFramebuffer']:null;_0x1e9b14['bindFramebuffer'](_0x260515['FRAMEBUFFER'],_0x301901);}}},this['readRenderTargetPixelsAsync']=async function(_0x301eeb,_0x4877e3,_0x42627e,_0x2b8de8,_0xc59d1f,_0x50eb4d,_0x598322){if(!_0x301eeb||!_0x301eeb['isWebGLRenderTarget'])throw new Error('THREE.WebGLRenderer.readRenderTargetPixels:\x20renderTarget\x20is\x20not\x20THREE.WebGLRenderTarget.');let _0x4c2ca7=_0x1b9e50['get'](_0x301eeb)['__webglFramebuffer'];if(_0x301eeb['isWebGLCubeRenderTarget']&&void 0x0!==_0x598322&&(_0x4c2ca7=_0x4c2ca7[_0x598322]),_0x4c2ca7){const _0x53f58e=_0x301eeb['texture'],_0x4684a8=_0x53f58e['format'],_0x5c4be3=_0x53f58e['type'];if(!_0x5636a7['textureFormatReadable'](_0x4684a8))throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20renderTarget\x20is\x20not\x20in\x20RGBA\x20or\x20implementation\x20defined\x20format.');if(!_0x5636a7['textureTypeReadable'](_0x5c4be3))throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20renderTarget\x20is\x20not\x20in\x20UnsignedByteType\x20or\x20implementation\x20defined\x20type.');if(_0x4877e3>=0x0&&_0x4877e3<=_0x301eeb['width']-_0x2b8de8&&_0x42627e>=0x0&&_0x42627e<=_0x301eeb['height']-_0xc59d1f){_0x1e9b14['bindFramebuffer'](_0x260515['FRAMEBUFFER'],_0x4c2ca7);const _0x39d53b=_0x260515['createBuffer']();_0x260515['bindBuffer'](_0x260515['PIXEL_PACK_BUFFER'],_0x39d53b),_0x260515['bufferData'](_0x260515['PIXEL_PACK_BUFFER'],_0x50eb4d['byteLength'],_0x260515['STREAM_READ']),_0x260515['readPixels'](_0x4877e3,_0x42627e,_0x2b8de8,_0xc59d1f,_0x594e31['convert'](_0x4684a8),_0x594e31['convert'](_0x5c4be3),0x0);const _0x1209d2=null!==_0x13e8f2?_0x1b9e50['get'](_0x13e8f2)['__webglFramebuffer']:null;_0x1e9b14['bindFramebuffer'](_0x260515['FRAMEBUFFER'],_0x1209d2);const _0x4ffa67=_0x260515['fenceSync'](_0x260515['SYNC_GPU_COMMANDS_COMPLETE'],0x0);return _0x260515['flush'](),await(0x0,_0x42bc67['jej'])(_0x260515,_0x4ffa67,0x4),_0x260515['bindBuffer'](_0x260515['PIXEL_PACK_BUFFER'],_0x39d53b),_0x260515['getBufferSubData'](_0x260515['PIXEL_PACK_BUFFER'],0x0,_0x50eb4d),_0x260515['deleteBuffer'](_0x39d53b),_0x260515['deleteSync'](_0x4ffa67),_0x50eb4d;}throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync:\x20requested\x20read\x20bounds\x20are\x20out\x20of\x20range.');}},this['copyFramebufferToTexture']=function(_0x34ba2b,_0xa0c1c4=null,_0xbe0efd=0x0){!0x0!==_0x34ba2b['isTexture']&&((0x0,_0x42bc67['mcG'])('WebGLRenderer:\x20copyFramebufferToTexture\x20function\x20signature\x20has\x20changed.'),_0xa0c1c4=arguments[0x0]||null,_0x34ba2b=arguments[0x1]);const _0x32d732=Math['pow'](0x2,-_0xbe0efd),_0x440339=Math['floor'](_0x34ba2b['image']['width']*_0x32d732),_0x2b4367=Math['floor'](_0x34ba2b['image']['height']*_0x32d732),_0x3c4a98=null!==_0xa0c1c4?_0xa0c1c4['x']:0x0,_0x5a4ed5=null!==_0xa0c1c4?_0xa0c1c4['y']:0x0;_0x56d234['setTexture2D'](_0x34ba2b,0x0),_0x260515['copyTexSubImage2D'](_0x260515['TEXTURE_2D'],_0xbe0efd,0x0,0x0,_0x3c4a98,_0x5a4ed5,_0x440339,_0x2b4367),_0x1e9b14['unbindTexture']();};const _0x141f79=_0x260515['createFramebuffer'](),_0xacc59f=_0x260515['createFramebuffer']();this['copyTextureToTexture']=function(_0x4e2b5c,_0x4ee9cb,_0x5f139f=null,_0x4f6658=null,_0x4ce5eb=0x0,_0x5df0ec=null){let _0x4bb1c3,_0x278c8b,_0x55b894,_0x515d57,_0xba971d,_0x5e2fe5,_0x4dd4a3,_0x50945f,_0x534cb9;!0x0!==_0x4e2b5c['isTexture']&&((0x0,_0x42bc67['mcG'])('WebGLRenderer:\x20copyTextureToTexture\x20function\x20signature\x20has\x20changed.'),_0x4f6658=arguments[0x0]||null,_0x4e2b5c=arguments[0x1],_0x4ee9cb=arguments[0x2],_0x5df0ec=arguments[0x3]||0x0,_0x5f139f=null),null===_0x5df0ec&&(0x0!==_0x4ce5eb?((0x0,_0x42bc67['mcG'])('WebGLRenderer:\x20copyTextureToTexture\x20function\x20signature\x20has\x20changed\x20to\x20support\x20src\x20and\x20dst\x20mipmap\x20levels.'),_0x5df0ec=_0x4ce5eb,_0x4ce5eb=0x0):_0x5df0ec=0x0);const _0x3da07b=_0x4e2b5c['isCompressedTexture']?_0x4e2b5c['mipmaps'][_0x5df0ec]:_0x4e2b5c['image'];if(null!==_0x5f139f)_0x4bb1c3=_0x5f139f['max']['x']-_0x5f139f['min']['x'],_0x278c8b=_0x5f139f['max']['y']-_0x5f139f['min']['y'],_0x55b894=_0x5f139f['isBox3']?_0x5f139f['max']['z']-_0x5f139f['min']['z']:0x1,_0x515d57=_0x5f139f['min']['x'],_0xba971d=_0x5f139f['min']['y'],_0x5e2fe5=_0x5f139f['isBox3']?_0x5f139f['min']['z']:0x0;else{const _0x4be0d3=Math['pow'](0x2,-_0x4ce5eb);_0x4bb1c3=Math['floor'](_0x3da07b['width']*_0x4be0d3),_0x278c8b=Math['floor'](_0x3da07b['height']*_0x4be0d3),_0x55b894=_0x4e2b5c['isDataArrayTexture']?_0x3da07b['depth']:_0x4e2b5c['isData3DTexture']?Math['floor'](_0x3da07b['depth']*_0x4be0d3):0x1,_0x515d57=0x0,_0xba971d=0x0,_0x5e2fe5=0x0;}null!==_0x4f6658?(_0x4dd4a3=_0x4f6658['x'],_0x50945f=_0x4f6658['y'],_0x534cb9=_0x4f6658['z']):(_0x4dd4a3=0x0,_0x50945f=0x0,_0x534cb9=0x0);const _0x37c6c4=_0x594e31['convert'](_0x4ee9cb['format']),_0xab2f87=_0x594e31['convert'](_0x4ee9cb['type']);let _0x1839b9;_0x4ee9cb['isData3DTexture']?(_0x56d234['setTexture3D'](_0x4ee9cb,0x0),_0x1839b9=_0x260515['TEXTURE_3D']):_0x4ee9cb['isDataArrayTexture']||_0x4ee9cb['isCompressedArrayTexture']?(_0x56d234['setTexture2DArray'](_0x4ee9cb,0x0),_0x1839b9=_0x260515['TEXTURE_2D_ARRAY']):(_0x56d234['setTexture2D'](_0x4ee9cb,0x0),_0x1839b9=_0x260515['TEXTURE_2D']),_0x260515['pixelStorei'](_0x260515['UNPACK_FLIP_Y_WEBGL'],_0x4ee9cb['flipY']),_0x260515['pixelStorei'](_0x260515['UNPACK_PREMULTIPLY_ALPHA_WEBGL'],_0x4ee9cb['premultiplyAlpha']),_0x260515['pixelStorei'](_0x260515['UNPACK_ALIGNMENT'],_0x4ee9cb['unpackAlignment']);const _0x1d0869=_0x260515['getParameter'](_0x260515['UNPACK_ROW_LENGTH']),_0x37700e=_0x260515['getParameter'](_0x260515['UNPACK_IMAGE_HEIGHT']),_0x36581c=_0x260515['getParameter'](_0x260515['UNPACK_SKIP_PIXELS']),_0x58335c=_0x260515['getParameter'](_0x260515['UNPACK_SKIP_ROWS']),_0x2d90f8=_0x260515['getParameter'](_0x260515['UNPACK_SKIP_IMAGES']);_0x260515['pixelStorei'](_0x260515['UNPACK_ROW_LENGTH'],_0x3da07b['width']),_0x260515['pixelStorei'](_0x260515['UNPACK_IMAGE_HEIGHT'],_0x3da07b['height']),_0x260515['pixelStorei'](_0x260515['UNPACK_SKIP_PIXELS'],_0x515d57),_0x260515['pixelStorei'](_0x260515['UNPACK_SKIP_ROWS'],_0xba971d),_0x260515['pixelStorei'](_0x260515['UNPACK_SKIP_IMAGES'],_0x5e2fe5);const _0x5f4dbc=_0x4e2b5c['isDataArrayTexture']||_0x4e2b5c['isData3DTexture'],_0x4ac939=_0x4ee9cb['isDataArrayTexture']||_0x4ee9cb['isData3DTexture'];if(_0x4e2b5c['isDepthTexture']){const _0x132fe7=_0x1b9e50['get'](_0x4e2b5c),_0x92e0ae=_0x1b9e50['get'](_0x4ee9cb),_0x2f11ab=_0x1b9e50['get'](_0x132fe7['__renderTarget']),_0x329ec3=_0x1b9e50['get'](_0x92e0ae['__renderTarget']);_0x1e9b14['bindFramebuffer'](_0x260515['READ_FRAMEBUFFER'],_0x2f11ab['__webglFramebuffer']),_0x1e9b14['bindFramebuffer'](_0x260515['DRAW_FRAMEBUFFER'],_0x329ec3['__webglFramebuffer']);for(let _0x524956=0x0;_0x524956<_0x55b894;_0x524956++)_0x5f4dbc&&(_0x260515['framebufferTextureLayer'](_0x260515['READ_FRAMEBUFFER'],_0x260515['COLOR_ATTACHMENT0'],_0x1b9e50['get'](_0x4e2b5c)['__webglTexture'],_0x4ce5eb,_0x5e2fe5+_0x524956),_0x260515['framebufferTextureLayer'](_0x260515['DRAW_FRAMEBUFFER'],_0x260515['COLOR_ATTACHMENT0'],_0x1b9e50['get'](_0x4ee9cb)['__webglTexture'],_0x5df0ec,_0x534cb9+_0x524956)),_0x260515['blitFramebuffer'](_0x515d57,_0xba971d,_0x4bb1c3,_0x278c8b,_0x4dd4a3,_0x50945f,_0x4bb1c3,_0x278c8b,_0x260515['DEPTH_BUFFER_BIT'],_0x260515['NEAREST']);_0x1e9b14['bindFramebuffer'](_0x260515['READ_FRAMEBUFFER'],null),_0x1e9b14['bindFramebuffer'](_0x260515['DRAW_FRAMEBUFFER'],null);}else{if(0x0!==_0x4ce5eb||_0x4e2b5c['isRenderTargetTexture']||_0x1b9e50['has'](_0x4e2b5c)){const _0x3a8ee1=_0x1b9e50['get'](_0x4e2b5c),_0x28f56b=_0x1b9e50['get'](_0x4ee9cb);_0x1e9b14['bindFramebuffer'](_0x260515['READ_FRAMEBUFFER'],_0x141f79),_0x1e9b14['bindFramebuffer'](_0x260515['DRAW_FRAMEBUFFER'],_0xacc59f);for(let _0x57ecec=0x0;_0x57ecec<_0x55b894;_0x57ecec++)_0x5f4dbc?_0x260515['framebufferTextureLayer'](_0x260515['READ_FRAMEBUFFER'],_0x260515['COLOR_ATTACHMENT0'],_0x3a8ee1['__webglTexture'],_0x4ce5eb,_0x5e2fe5+_0x57ecec):_0x260515['framebufferTexture2D'](_0x260515['READ_FRAMEBUFFER'],_0x260515['COLOR_ATTACHMENT0'],_0x260515['TEXTURE_2D'],_0x3a8ee1['__webglTexture'],_0x4ce5eb),_0x4ac939?_0x260515['framebufferTextureLayer'](_0x260515['DRAW_FRAMEBUFFER'],_0x260515['COLOR_ATTACHMENT0'],_0x28f56b['__webglTexture'],_0x5df0ec,_0x534cb9+_0x57ecec):_0x260515['framebufferTexture2D'](_0x260515['DRAW_FRAMEBUFFER'],_0x260515['COLOR_ATTACHMENT0'],_0x260515['TEXTURE_2D'],_0x28f56b['__webglTexture'],_0x5df0ec),0x0!==_0x4ce5eb?_0x260515['blitFramebuffer'](_0x515d57,_0xba971d,_0x4bb1c3,_0x278c8b,_0x4dd4a3,_0x50945f,_0x4bb1c3,_0x278c8b,_0x260515['COLOR_BUFFER_BIT'],_0x260515['NEAREST']):_0x4ac939?_0x260515['copyTexSubImage3D'](_0x1839b9,_0x5df0ec,_0x4dd4a3,_0x50945f,_0x534cb9+_0x57ecec,_0x515d57,_0xba971d,_0x4bb1c3,_0x278c8b):_0x260515['copyTexSubImage2D'](_0x1839b9,_0x5df0ec,_0x4dd4a3,_0x50945f,_0x515d57,_0xba971d,_0x4bb1c3,_0x278c8b);_0x1e9b14['bindFramebuffer'](_0x260515['READ_FRAMEBUFFER'],null),_0x1e9b14['bindFramebuffer'](_0x260515['DRAW_FRAMEBUFFER'],null);}else _0x4ac939?_0x4e2b5c['isDataTexture']||_0x4e2b5c['isData3DTexture']?_0x260515['texSubImage3D'](_0x1839b9,_0x5df0ec,_0x4dd4a3,_0x50945f,_0x534cb9,_0x4bb1c3,_0x278c8b,_0x55b894,_0x37c6c4,_0xab2f87,_0x3da07b['data']):_0x4ee9cb['isCompressedArrayTexture']?_0x260515['compressedTexSubImage3D'](_0x1839b9,_0x5df0ec,_0x4dd4a3,_0x50945f,_0x534cb9,_0x4bb1c3,_0x278c8b,_0x55b894,_0x37c6c4,_0x3da07b['data']):_0x260515['texSubImage3D'](_0x1839b9,_0x5df0ec,_0x4dd4a3,_0x50945f,_0x534cb9,_0x4bb1c3,_0x278c8b,_0x55b894,_0x37c6c4,_0xab2f87,_0x3da07b):_0x4e2b5c['isDataTexture']?_0x260515['texSubImage2D'](_0x260515['TEXTURE_2D'],_0x5df0ec,_0x4dd4a3,_0x50945f,_0x4bb1c3,_0x278c8b,_0x37c6c4,_0xab2f87,_0x3da07b['data']):_0x4e2b5c['isCompressedTexture']?_0x260515['compressedTexSubImage2D'](_0x260515['TEXTURE_2D'],_0x5df0ec,_0x4dd4a3,_0x50945f,_0x3da07b['width'],_0x3da07b['height'],_0x37c6c4,_0x3da07b['data']):_0x260515['texSubImage2D'](_0x260515['TEXTURE_2D'],_0x5df0ec,_0x4dd4a3,_0x50945f,_0x4bb1c3,_0x278c8b,_0x37c6c4,_0xab2f87,_0x3da07b);}_0x260515['pixelStorei'](_0x260515['UNPACK_ROW_LENGTH'],_0x1d0869),_0x260515['pixelStorei'](_0x260515['UNPACK_IMAGE_HEIGHT'],_0x37700e),_0x260515['pixelStorei'](_0x260515['UNPACK_SKIP_PIXELS'],_0x36581c),_0x260515['pixelStorei'](_0x260515['UNPACK_SKIP_ROWS'],_0x58335c),_0x260515['pixelStorei'](_0x260515['UNPACK_SKIP_IMAGES'],_0x2d90f8),0x0===_0x5df0ec&&_0x4ee9cb['generateMipmaps']&&_0x260515['generateMipmap'](_0x1839b9),_0x1e9b14['unbindTexture']();},this['copyTextureToTexture3D']=function(_0x227af4,_0x2b5eb9,_0x305b27=null,_0x40deb8=null,_0x45671a=0x0){return!0x0!==_0x227af4['isTexture']&&((0x0,_0x42bc67['mcG'])('WebGLRenderer:\x20copyTextureToTexture3D\x20function\x20signature\x20has\x20changed.'),_0x305b27=arguments[0x0]||null,_0x40deb8=arguments[0x1]||null,_0x227af4=arguments[0x2],_0x2b5eb9=arguments[0x3],_0x45671a=arguments[0x4]||0x0),(0x0,_0x42bc67['mcG'])('WebGLRenderer:\x20copyTextureToTexture3D\x20function\x20has\x20been\x20deprecated.\x20Use\x20\x22copyTextureToTexture\x22\x20instead.'),this['copyTextureToTexture'](_0x227af4,_0x2b5eb9,_0x305b27,_0x40deb8,_0x45671a);},this['initRenderTarget']=function(_0x3d81c9){void 0x0===_0x1b9e50['get'](_0x3d81c9)['__webglFramebuffer']&&_0x56d234['setupRenderTarget'](_0x3d81c9);},this['initTexture']=function(_0x228926){_0x228926['isCubeTexture']?_0x56d234['setTextureCube'](_0x228926,0x0):_0x228926['isData3DTexture']?_0x56d234['setTexture3D'](_0x228926,0x0):_0x228926['isDataArrayTexture']||_0x228926['isCompressedArrayTexture']?_0x56d234['setTexture2DArray'](_0x228926,0x0):_0x56d234['setTexture2D'](_0x228926,0x0),_0x1e9b14['unbindTexture']();},this['resetState']=function(){_0xa5f54c=0x0,_0x5c6adf=0x0,_0x13e8f2=null,_0x1e9b14['reset'](),_0x43b38e['reset']();},'undefined'!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__['dispatchEvent'](new CustomEvent('observe',{'detail':this}));}get['coordinateSystem'](){return _0x42bc67['TdN'];}get['outputColorSpace'](){return this['_outputColorSpace'];}set['outputColorSpace'](_0x512756){this['_outputColorSpace']=_0x512756;const _0x24aeab=this['getContext']();_0x24aeab['drawingBufferColorspace']=_0x42bc67['ppV']['_getDrawingBufferColorSpace'](_0x512756),_0x24aeab['unpackColorSpace']=_0x42bc67['ppV']['_getUnpackColorSpace']();}}}}]);